<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ANTLR3C: Generating Code for the C Target</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="main.html">ANTLR3 C Runtime API and Usage Guide.</a>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="generate">Generating Code for the C Target </a></h1><h2><a class="anchor" name="generate">
Generating Code for the C Target</a></h2>
Before discussing how we compile or call the generated C code, we need to know how to invoke the C code generator. This is achieved within the grammar file itself, using the language option:<p>
<div class="fragment"><pre class="fragment">
options {	language = C;}
</pre></div><p>
The code generator consists of a single .java file within the standard ANTLR tool jar, and a code generation template, used by the StringTemplate engine, which drives code generation for all language targets. In fact you can make copies of the C.stg and AST.stg templates and make changes to them (though you are encouraged not to, as it is better to provide bug fixes or enhancements which we are happy to receive requests for and will do out best to incorporate.<p>
If you are working in the Windows environment, with Visual Studio 2005 or later, you may wish to utilize the custom rulefile provided in the C source code distribution under the <code>./vs2005</code> directory for this purpose. If you are using a pre-built library then you can also download this rule file directly from the FishEye source code browser for ANTLR3.<p>
In order to use the rulefile, you must adopt the following suffixes for your grammar files, though they are otherwise optional:<p>
<table border="1" cellspacing="3" cellpadding="3">
<tr>
<th>Suffix  </th><th>Grammar should contain...   </th></tr>
<tr>
<td>.g3l  </td><td>A lexer grammar specification only.   </td></tr>
<tr>
<td>.g3p  </td><td>A parser grammar specification only.   </td></tr>
<tr>
<td>.g3pl  </td><td>A combined lexer and parser specification.   </td></tr>
<tr>
<td>.g3t  </td><td>A tree grammar specification.  <p>
</td></tr>
</table>
<p>
You may also wish to use these suffixes if you are building your projects using Makefiles, as this makes the output deterministic. However in this case a much better solution is probably to utilize the -depend option of the Antlr tool, which should tell your Makefile what the grammar files generates, irrespective of its suffix. ANTLR does not care about the actual suffix you use for your grammar file, so building for multiple platforms is relatively easy.<p>
<b>NOTE:</b> Your grammar source, regardless of suffix must be named the same as the grammar statement within it. Grammar xyz must be contained within a file called xyz.<em>anything</em> </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Nov 29 17:23:56 2010 for ANTLR3C by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
