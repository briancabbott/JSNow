<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] parsing java 1.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20parsing%20java%201.5&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017797.html">
   <LINK REL="Next"  HREF="017786.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] parsing java 1.5</H1>
    <B>Koen Vanderkimpen</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20parsing%20java%201.5&In-Reply-To="
       TITLE="[antlr-interest] parsing java 1.5">koen.vanderkimpen+antlr at cs.kuleuven.be
       </A><BR>
    <I>Wed Oct  4 09:06:06 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017797.html">[antlr-interest] How to do a specific operation once on every token in the _parser_?
</A></li>
        <LI>Next message: <A HREF="017786.html">[antlr-interest] parsing java 1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17784">[ date ]</a>
              <a href="thread.html#17784">[ thread ]</a>
              <a href="subject.html#17784">[ subject ]</a>
              <a href="author.html#17784">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I'm having trouble parsing a Java-file with antlr.

I'm using the Java 1.5 grammar by Terence Parr found on <A HREF="http://www.antlr.org/grammar/1152141644268/java.g">http://www.antlr.org/grammar/1152141644268/java.g</A>
I compiled this grammar using antlr 3.0b4 and tried reading in some files in the same way it is done in the antlr v3 sample grammars (java subdirectory).

About 100 files parsed without error, the only exception was a class in which the method below exists.
The error occurs on lines 164 and 166 of the method, and I believe it might have something to do with the generic classcasts.
I looked at the grammar but it seemed ok to me. I included the output by the parser.

Does anyone know what's wrong and how to solve this?



public final &lt;T extends Element&gt; List&lt;T&gt; getDescendants(Class&lt;T&gt; c) {    //this is line 163
        List&lt;Element&gt; tmp = (List&lt;Element&gt;)getChildren();
        new TypePredicate&lt;Element, T&gt;(c).filter(tmp);
        List&lt;T&gt; result = (List&lt;T&gt;)tmp;
        for (Element e : getChildren()) {
            result.addAll(e.getDescendants(c));
        }
        return result;
}


[compilationUnit, typeDeclaration, classOrInterfaceDeclaration, classDeclaration, normalClassDeclaration, classBody, classBodyDeclaration, memberDecl, genericMethodOrConstructorDecl, genericMethodOrConstructorRest, methodDeclaratorRest, methodBody, block, blockStatement, statement]: line 164:23 mismatched token: [@555,3760:3760='=',&lt;44&gt;,164:23]; expecting type ';'
[compilationUnit, typeDeclaration, classOrInterfaceDeclaration, classDeclaration, normalClassDeclaration, classBody, classBodyDeclaration, memberDecl, genericMethodOrConstructorDecl, genericMethodOrConstructorRest, methodDeclaratorRest, methodBody, block, blockStatement, statement, statementExpression, expression, conditionalExpression, conditionalOrExpression, conditionalAndExpression, inclusiveOrExpression, exclusiveOrExpression, andExpression, equalityExpression, instanceOfExpression, relationalExpression, shiftExpression, additiveExpression, multiplicativeExpression, unaryExpression, unaryExpressionNotPlusMinus, primary, parExpression]: line 164:38 mismatched token: [@560,3775:3775='&gt;',&lt;35&gt;,164:38]; expecting type ')'
[compilationUnit, typeDeclaration, classOrInterfaceDeclaration, classDeclaration, normalClassDeclaration, classBody, classBodyDeclaration, memberDecl, genericMethodOrConstructorDecl, genericMethodOrConstructorRest, methodDeclaratorRest, methodBody, block, blockStatement, statement]: line 166:21 mismatched token: [@587,3864:3864='=',&lt;44&gt;,166:21]; expecting type ';'
[compilationUnit, typeDeclaration, classOrInterfaceDeclaration, classDeclaration, normalClassDeclaration, classBody, classBodyDeclaration, memberDecl, genericMethodOrConstructorDecl, genericMethodOrConstructorRest, methodDeclaratorRest, methodBody, block, blockStatement, statement, statementExpression, expression, conditionalExpression, conditionalOrExpression, conditionalAndExpression, inclusiveOrExpression, exclusiveOrExpression, andExpression, equalityExpression, instanceOfExpression, relationalExpression, shiftExpression, additiveExpression, multiplicativeExpression, unaryExpression, unaryExpressionNotPlusMinus, primary, parExpression]: line 166:30 mismatched token: [@592,3873:3873='&gt;',&lt;35&gt;,166:30]; expecting type ')'
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20061004/e98fe905/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20061004/e98fe905/attachment.html</A> 
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017797.html">[antlr-interest] How to do a specific operation once on every token in the _parser_?
</A></li>
	<LI>Next message: <A HREF="017786.html">[antlr-interest] parsing java 1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17784">[ date ]</a>
              <a href="thread.html#17784">[ thread ]</a>
              <a href="subject.html#17784">[ subject ]</a>
              <a href="author.html#17784">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
