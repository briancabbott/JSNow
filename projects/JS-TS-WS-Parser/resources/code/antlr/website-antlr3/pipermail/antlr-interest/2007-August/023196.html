<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Path for tokenVocab
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Path%20for%20tokenVocab&In-Reply-To=%3C20070813210130.GA32729%40badgers-in-foil.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023195.html">
   <LINK REL="Next"  HREF="023197.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Path for tokenVocab</H1>
    <B>David Holroyd</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Path%20for%20tokenVocab&In-Reply-To=%3C20070813210130.GA32729%40badgers-in-foil.co.uk%3E"
       TITLE="[antlr-interest] Path for tokenVocab">dave at badgers-in-foil.co.uk
       </A><BR>
    <I>Mon Aug 13 14:01:31 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023195.html">[antlr-interest] ANTLRReaderStream constructor hangs when passed a	StringReader (C#)
</A></li>
        <LI>Next message: <A HREF="023197.html">[antlr-interest] Path for tokenVocab
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23196">[ date ]</a>
              <a href="thread.html#23196">[ thread ]</a>
              <a href="subject.html#23196">[ subject ]</a>
              <a href="author.html#23196">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In a multi-grammar project, I might have grammars under,

  org/example/SomeGrammar.g
  com/bigcorp/OtherGrammar.g

They are located in folders like this so that their folder structure
matches the package structure for the generated classes (i.e.
org.example.SomeGrammarParser and com.bigcorp.OtherGrammarParser).

However, I need to use the 'tokenVocab' option in OtherGrammar.g to get
at SomeGrammar.g's token definitions.  The difficulty is that in order
to set the '-lib' option to a reasonable value to find SomeGrammar.tokens
when processing OtherGrammar.g, the build tool will need to do some
fairly fiddly path munging, or the user will have to explicitly tell the
build tool to look in 'org/example' (and a good build tool should just
know these things, really).

The generated files all get put under the folder
target/generated-sources/antlr, so it super easy for the build tool to
set the option &quot;-lib target/generated-sources/antlr&quot;.  However the
folder structure created there matches the folder structure of the
source grammars, i.e.

  target/generated-sources/antlr/org/example/SomeGrammar.*
  target/generated-sources/antlr/com/bigcorp/OtherGrammar.*

so this isn't enough on its own.


So, it would be *really* nice if the tokenVocab option value could take
a 'package prefix',

e.g.
  tokenVocab=org/example/SomeGrammar;
or
  tokenVocab=org.example.SomeGrammar;


Is a change like this possible?  Should I try to implement it?



thanks!
dave

-- 
<A HREF="http://david.holroyd.me.uk/">http://david.holroyd.me.uk/</A>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023195.html">[antlr-interest] ANTLRReaderStream constructor hangs when passed a	StringReader (C#)
</A></li>
	<LI>Next message: <A HREF="023197.html">[antlr-interest] Path for tokenVocab
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23196">[ date ]</a>
              <a href="thread.html#23196">[ thread ]</a>
              <a href="subject.html#23196">[ subject ]</a>
              <a href="author.html#23196">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
