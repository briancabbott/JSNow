<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Syntax based testing for ANTLR grammars?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Syntax%20based%20testing%20for%20ANTLR%20grammars%3F&In-Reply-To=%3C-322395582167982497%40unknownmsgid%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045329.html">
   <LINK REL="Next"  HREF="045360.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Syntax based testing for ANTLR grammars?</H1>
    <B>Michael Barry</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Syntax%20based%20testing%20for%20ANTLR%20grammars%3F&In-Reply-To=%3C-322395582167982497%40unknownmsgid%3E"
       TITLE="[antlr-interest] Syntax based testing for ANTLR grammars?">msb5014 at gmail.com
       </A><BR>
    <I>Sat Sep 22 16:27:20 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="045329.html">[antlr-interest] Syntax based testing for ANTLR grammars?
</A></li>
        <LI>Next message: <A HREF="045360.html">[antlr-interest] Syntax based testing for ANTLR grammars?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45359">[ date ]</a>
              <a href="thread.html#45359">[ thread ]</a>
              <a href="subject.html#45359">[ subject ]</a>
              <a href="author.html#45359">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the feedback!  The random phrase generator provided a good
base to get started, but to make it work reliably, I had to change the
version in the 3.4 distribution to 1) not generate identifiers that
conflicted with keywords, and 2) limit its internal stack size so that
if it gets too big it just gives up and starts over.  Once I did that
it started generating ~300,000 random syntactically valid productions
per minute, and it has been generating some interesting findings :-)

I am working on my Masters right now, and I think that this may be a
good topic for thesis.

Thanks
Mike Barry

On Sep 20, 2012, at 12:39 PM, Eric &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">researcher0x00 at gmail.com</A>&gt; wrote:

&gt;<i> Hi Mike,
</I>&gt;<i>
</I>&gt;<i> &quot;What I wonder is if this way test is really meaningful. I mean, when you
</I>&gt;<i> create test sentences from the grammar they will always work, no? &quot;
</I>&gt;<i>
</I>&gt;<i> Yes the test are meaningful but only meaningful if you don't blindly
</I>&gt;<i> generate phrases and accept the output without verification.. Since you
</I>&gt;<i> don't want to hand validate each result you make the generator smart enough
</I>&gt;<i> and give it semantic knowledge to tag the results as this should be valid
</I>&gt;<i> and that should be invalid, then look for a negative result. i.e. a test
</I>&gt;<i> that should pass that fails or a test that should fail that passes. You
</I>&gt;<i> should still hand check a random set of results. Note that even with all
</I>&gt;<i> this testing it does not guarantee the app using the ANTLR is correct, it
</I>&gt;<i> only helps to increase the level of confidence, unless of course the
</I>&gt;<i> grammar is so simple that you can exhaustively test all of the cases. Also
</I>&gt;<i> remember that if the generator is smart enough it can focus on a particular
</I>&gt;<i> portion of the grammar and run many pivot examples off that portion which
</I>&gt;<i> just might be a complete set of test cases.
</I>&gt;<i>
</I>&gt;<i> &quot;Since your parser uses the same grammar as the test input stems from there
</I>&gt;<i> can only be test failures if your grammar uses actions to control what gets
</I>&gt;<i> parsed how. But for a pure grammar you can only generate test cases when
</I>&gt;<i> you take your language spec (not codified in a grammar) and create test
</I>&gt;<i> cases out of it.&quot;
</I>&gt;<i>
</I>&gt;<i> When I created my proof of concept tool I did give it the ability to
</I>&gt;<i> generate both positive and negative results. I was also using C++ and from
</I>&gt;<i> the C++ reference grammar  I created one grammar for input to ANTLR and one
</I>&gt;<i> grammar for input into my phrase generator. I then used the phrases from
</I>&gt;<i> the generator as input into the lexer/parser generated by ANTLR and then
</I>&gt;<i> looked at the results.
</I>&gt;<i>
</I>&gt;<i> There is a lot more to this than I explain here but I personally found the
</I>&gt;<i> proof of concept tool to be very educational. Many results that came out
</I>&gt;<i> for valid were unlike any C++ code I have ever seen from a human but they
</I>&gt;<i> did compile. The reason is the generator does not think like a human, it
</I>&gt;<i> just does a tree walk based on the rules and generates phrases. Where I
</I>&gt;<i> left off was creating another layer to take common human type test
</I>&gt;<i> conditions and turn them into the rules to be used by the generator.
</I>&gt;<i>
</I>&gt;<i> After the proof of concept tool worked I moved onto another project because
</I>&gt;<i> what I really wanted out of the tool was what was learned in doing it more
</I>&gt;<i> than the tool itself. The next steps of converting human conditions into
</I>&gt;<i> rules and creating a GUI front end would have required more work than I was
</I>&gt;<i> interested in doing.
</I>&gt;<i>
</I>&gt;<i> Eric
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, Sep 20, 2012 at 11:53 AM, Mike Lischke &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">mike at lischke-online.de</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What I wonder is if this way test is really meaningful. I mean, when you
</I>&gt;&gt;<i> create test sentences from the grammar they will always work, no? Since
</I>&gt;&gt;<i> your parser uses the same grammar as the test input stems from there can
</I>&gt;&gt;<i> only be test failures if your grammar uses actions to control what gets
</I>&gt;&gt;<i> parsed how. But for a pure grammar you can only generate test cases when
</I>&gt;&gt;<i> you take your language spec (not codified in a grammar) and create test
</I>&gt;&gt;<i> cases out of it.
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I did some work on my own on this a year ago and the problem you get into
</I>&gt;&gt;&gt;<i> is a huge explosion in output. Just to manage the problem of the
</I>&gt;&gt;<i> explosion
</I>&gt;&gt;&gt;<i> I had to create methods just to count the possibilities given a grammar
</I>&gt;&gt;<i> and
</I>&gt;&gt;&gt;<i> the easiest way for me to relate to the size was as a power. So for one
</I>&gt;&gt;&gt;<i> grammar the set could have 10**15 results and others could have 10**30
</I>&gt;&gt;&gt;<i> results. This is not even something that can be reasonably tested.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Is anyone aware of any projects out there for doing syntax-based
</I>&gt;&gt;&gt;&gt;<i> testing using ANTLR grammars?  The simplest form would be a tool for
</I>&gt;&gt;&gt;&gt;<i> generating valid language productions from an ANTLR grammar, but more
</I>&gt;&gt;&gt;&gt;<i> complex might introduce mutations.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Thanks
</I>&gt;&gt;&gt;&gt;<i> Mike Barry
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;&gt;&gt;<i> Unsubscribe:
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;&gt;<i> Unsubscribe:
</I>&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Mike
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> www.soft-gems.net
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I></PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045329.html">[antlr-interest] Syntax based testing for ANTLR grammars?
</A></li>
	<LI>Next message: <A HREF="045360.html">[antlr-interest] Syntax based testing for ANTLR grammars?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45359">[ date ]</a>
              <a href="thread.html#45359">[ thread ]</a>
              <a href="subject.html#45359">[ subject ]</a>
              <a href="author.html#45359">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
