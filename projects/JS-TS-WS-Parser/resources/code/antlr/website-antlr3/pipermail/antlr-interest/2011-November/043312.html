<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] This should be easy - but I can't figure it out
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20This%20should%20be%20easy%20-%20but%20I%20can%27t%20figure%20it%20out&In-Reply-To=%3C92E9AB4D42199B4793CE24E094BAEE07134B1A%40USSCMB03.plt.plantronics.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043304.html">
   <LINK REL="Next"  HREF="043313.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] This should be easy - but I can't figure it out</H1>
    <B>Voelkel, Andy</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20This%20should%20be%20easy%20-%20but%20I%20can%27t%20figure%20it%20out&In-Reply-To=%3C92E9AB4D42199B4793CE24E094BAEE07134B1A%40USSCMB03.plt.plantronics.com%3E"
       TITLE="[antlr-interest] This should be easy - but I can't figure it out">andy.voelkel at plantronics.com
       </A><BR>
    <I>Tue Nov 15 16:43:54 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="043304.html">[antlr-interest] ANTLRWorks supporting of import
</A></li>
        <LI>Next message: <A HREF="043313.html">[antlr-interest] This should be easy - but I can't figure it out
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43312">[ date ]</a>
              <a href="thread.html#43312">[ thread ]</a>
              <a href="subject.html#43312">[ subject ]</a>
              <a href="author.html#43312">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I keep running into questions like this, and don't know how to answer them. Could anyone look at this simple example and tell me how I would accomplish my goal? I think I've got a central concept mixed up in my head.

What I'm trying to do is under the &quot;array&quot; rule below, where I'm trying to create a rewrite rule which collects elements which are within a grouping construct. This seems to come up a lot for me, and I don't get how to do it.

While we're at it, what is the easiest way to strip the &quot; &quot; characters from the strings?

Thanks for any help! Here's the grammar excerpt:

tokens { ARRAY; }

@header { using System; }

public prog:   ( stat {Console.WriteLine(
                $stat.tree==null?&quot;null&quot;:$stat.tree.ToStringTree());} )+ ;

stat:   assign | block | ';'! ;
block:  ID^ ID '{'! (assign)+ '}'! ;
assign: ID '='^ (atom | array) ';'! ;
atom:   FLOAT | ID | STRING ;
array:  '[' ((FLOAT)+ | (STRING)+) ']' -&gt; ^(ARRAY _FLOATS_OR_STRINGS_ ) ;

fragment LETTER : '$'| 'A'..'Z' | 'a'..'z' | '_' ;
fragment DIGITS : ('0'..'9')+;
fragment EXP : ('e'|'E') ('+'|'-')? ('0'..'9')+ ;
STRING : '&quot;' ( ~('&quot;') )* '&quot;' ;
ID  :   LETTER (LETTER|DIGITS)*;
FLOAT :  (DIGITS? '.' DIGITS EXP?) | (DIGITS EXP?) ;
WS  :   (' '|'\t'|'\n'|'\r')+ {Skip();} ;


- Andy

________________________________

CONFIDENTIALITY NOTICE: This e-mail transmission, and any documents, files or previous e-mail messages attached to it, may contain information that is confidential and/or legally privileged. If you are not the intended recipient, or a person responsible for delivering it to the intended recipient, please DO NOT disclose the contents to another person, store or copy the information in any medium, or use any of the information contained in or attached to this transmission for any purpose. If you have received this transmission in error, please immediately notify the sender by reply email or at <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">privacy at plantronics.com</A>, and destroy the original transmission and its attachments without reading or saving in any manner.

For further information about Plantronics - the Company, its products, brands, partners, please visit our website www.plantronics.com.
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043304.html">[antlr-interest] ANTLRWorks supporting of import
</A></li>
	<LI>Next message: <A HREF="043313.html">[antlr-interest] This should be easy - but I can't figure it out
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43312">[ date ]</a>
              <a href="thread.html#43312">[ thread ]</a>
              <a href="subject.html#43312">[ subject ]</a>
              <a href="author.html#43312">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
