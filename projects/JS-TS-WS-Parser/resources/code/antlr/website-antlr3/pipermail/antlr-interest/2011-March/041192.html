<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] antlr v4 wish list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20antlr%20v4%20wish%20list&In-Reply-To=%3CAANLkTi%3DGotzbmArP%2BLPEbP7aZHVW-AFhXDUPTJctkO0o%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041190.html">
   <LINK REL="Next"  HREF="041197.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] antlr v4 wish list</H1>
    <B>The Researcher</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20antlr%20v4%20wish%20list&In-Reply-To=%3CAANLkTi%3DGotzbmArP%2BLPEbP7aZHVW-AFhXDUPTJctkO0o%40mail.gmail.com%3E"
       TITLE="[antlr-interest] antlr v4 wish list">researcher0x00 at gmail.com
       </A><BR>
    <I>Thu Mar 24 11:32:11 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="041190.html">[antlr-interest] antlr v4 wish list
</A></li>
        <LI>Next message: <A HREF="041197.html">[antlr-interest] antlr v4 wish list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41192">[ date ]</a>
              <a href="thread.html#41192">[ thread ]</a>
              <a href="subject.html#41192">[ subject ]</a>
              <a href="author.html#41192">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Mar 24, 2011 at 1:23 PM, Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>&gt; wrote:

&gt;<i> added
</I>&gt;<i>
</I>&gt;<i> * Tree parser error handling should skip subtrees not nodes; these are
</I>&gt;<i> programming errors not input errors.  The flat stream makes it hard to
</I>&gt;<i> resync.
</I>&gt;<i>
</I>&gt;<i> Ter
</I>&gt;<i>  On Mar 24, 2011, at 2:07 AM, Iztok Kavkler wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; Howdy, I'm going to start augmenting ANTLR v3 significantly to create
</I>&gt;<i> v4. The goal is backward compatibility; any new functionality, of course,
</I>&gt;<i> will require altering or augmenting your grammars to take advantage of it.
</I>&gt;<i> Here is my potential list of updates:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; <A HREF="http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list">http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Anything to add or comment on?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Ter
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt;&gt; Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; A new error recovery mode for tree parsing:
</I>&gt;<i> &gt; When parsing ASTs, the ordinary error recovery strategies based on token
</I>&gt;<i> &gt; deletion/insertion are completely useless, because there are no man-made
</I>&gt;<i> &gt; syntax errors. In my experience, what you really want to do is the
</I>&gt;<i> &gt; following: assume that you have an error handler attached to some rule
</I>&gt;<i> &gt; and an error happens somewhere in the subtree of the node parsed by that
</I>&gt;<i> &gt; rule. When the handler catches an error, the parser must skip the
</I>&gt;<i> &gt; remainder of that subtree, otherwise the parser position is not
</I>&gt;<i> &gt; consistent with the grammar position anymore. In AST implementations
</I>&gt;<i> &gt; that are based on pointers between nodes this happens automatically, but
</I>&gt;<i> &gt; Antlr's representation as a flat list of nodes with UP and DOWN tokens
</I>&gt;<i> &gt; makes it requires some work - the parser has to keep track of the
</I>&gt;<i> &gt; current node's depth and skip the appropriate number of UP nodes
</I>&gt;<i> &gt; whenever an error is caught.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Iztok
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>

1. If my concept of scannerless parsing is the same as yours, then in the
generated code for a rule allow the true for &quot;do { &lt;rule code&gt; }
while(true)&quot; to be an attribute of the rule, i.e exit. Obviously the value
would be true unless changed by a user.This would allow the user to have
control of when to exit the rule. By turning true into a attribute of the
rule, this allows for more control than gated semantic predicates.

Based on by concept of scannerless parsing, there is no lexer and the parser
drives the reading of the tokens from the intput stream. The input stream
does not generate the tokens ahead of time but only when needed. In a quick
proof of concept I had the token type passed from the parser as a generic
parameter, allowing the redefinition of the token returned by the token
stream. There were no pre-defined tokens values; they were dynamically
generated.To get the proof of concept to work required having a
cross-reference table between token types and token values.

2. If ANTLR 4 will allow the reading of binary data streams, then please
don't put char and line pos in a base class. There could be one inherited
classes that defines line and char pos, and another inherited class that
defines offset.

Thanks

Eric
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041190.html">[antlr-interest] antlr v4 wish list
</A></li>
	<LI>Next message: <A HREF="041197.html">[antlr-interest] antlr v4 wish list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41192">[ date ]</a>
              <a href="thread.html#41192">[ thread ]</a>
              <a href="subject.html#41192">[ subject ]</a>
              <a href="author.html#41192">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
