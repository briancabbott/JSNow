<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] java : code too large for try statement =&gt;	use	another language?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20java%20%3A%20code%20too%20large%20for%20try%20statement%20%3D%3E%09use%0A%09another%20language%3F&In-Reply-To=%3C1216401567.17704.117.camel%40jimi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029216.html">
   <LINK REL="Next"  HREF="029218.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] java : code too large for try statement =&gt;	use	another language?</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20java%20%3A%20code%20too%20large%20for%20try%20statement%20%3D%3E%09use%0A%09another%20language%3F&In-Reply-To=%3C1216401567.17704.117.camel%40jimi%3E"
       TITLE="[antlr-interest] java : code too large for try statement =&gt;	use	another language?">jimi at temporal-wave.com
       </A><BR>
    <I>Fri Jul 18 10:19:27 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029216.html">[antlr-interest] java : code too large for try statement =&gt; use another language?
</A></li>
        <LI>Next message: <A HREF="029218.html">[antlr-interest] Bad grammar?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29217">[ date ]</a>
              <a href="thread.html#29217">[ thread ]</a>
              <a href="subject.html#29217">[ subject ]</a>
              <a href="author.html#29217">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 2008-07-18 at 12:51 -0400, Laura Adam wrote:

&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I am implementing in Anltr through Java, a program that takes a DNA sequence as input and recognizes the different parts such as promoters, linkers...
</I>&gt;<i> 
</I>&gt;<i> Those parts are thousands letters long.
</I>&gt;<i> I used rules like :
</I>&gt;<i> 
</I>&gt;<i> E0020 :
</I>&gt;<i>         (&quot;atggtgagcaagggcgaggagctgttcaccggggtggtgcccatcctggtcgagctggacggcgacgtgaacggccacaagttcagcgtgtccggcgagggcgagggcgatgccacctacggcaagctgaccctgaagttcatctgcaccaccggcaagctgcccgtgccctggcccaccctcgtgaccaccctgacctggggcgtgcagtgcttcagccgctaccccgaccacatgaagcagcacgacttcttcaagtccgccatgcccgaaggctacgtccaggagcgcaccatcttcttcaaggacgacggcaactacaagacccgcgccgaggtgaagttcgagggcgacaccctggtgaaccgcatcgagctgaagggcatcgacttcaaggaggacggcaacatcctggggcacaagctggagtacaactacatcagccacaacgtctatatcaccgccgacaagcagaagaacggcatcaaggccaacttcaagatccgccacaacatcgaggacggcagcgtgcagctcgccgaccactaccagcagaacacccccatcggcgacggccccgtgctgctgcccgacaaccactacctgagcacccagtccgccctgagcaaagaccccaacgagaagcgcgatcacatggtcctgctggagttcgtgaccgccgccgggatcactctcggcatggacgagctgtacaagtaataa&quot;);
</I>&gt;<i> 
</I>&gt;<i> E0022 :
</I>&gt;<i>         (&quot;atggtgagcaagggcgaggagctgttcaccggggtggtgcccatcctggtcgagctggacggcgacgtgaacggccacaagttcagcgtgtccggcgagggcgagggcgatgccacctacggcaagctgaccctgaagttcatctgcaccaccggcaagctgcccgtgccctggcccaccctcgtgaccaccctgacctggggcgtgcagtgcttcagccgctaccccgaccacatgaagcagcacgacttcttcaagtccgccatgcccgaaggctacgtccaggagcgcaccatcttcttcaaggacgacggcaactacaagacccgcgccgaggtgaagttcgagggcgacaccctggtgaaccgcatcgagctgaagggcatcgacttcaaggaggacggcaacatcctggggcacaagctggagtacaactacatcagccacaacgtctatatcaccgccgacaagcagaagaacggcatcaaggccaacttcaagatccgccacaacatcgaggacggcagcgtgcagctcgccgaccactaccagcagaacacccccatcggcgacggccccgtgctgctgcccgacaaccactacctgagcacccagtccgccctgagcaaagaccccaacgagaagcgcgatcacatggtcctgctggagttcgtgaccgccgccgggatcactctcggcatggacgagctgtacaagaggcctgctgcaaacgacgaaaactacgctttagtagcttaataa&quot;);
</I>&gt;<i> 
</I>&gt;<i> &gt;If I want a 1000 lookahead characters the file.g is ok. I have no lexical nondeterminism. But when I want to use the file.g with my test_lexer.java I have that error from java: &quot;code too large for try statement&quot;.
</I>&gt;<i> &gt;If I put a 200 lookahead characters I have lexical nondeterminism but I can compile and run the java program (I don't get the result I want of course).
</I>&gt;<i> 
</I>&gt;<i> --&gt; What can I do?
</I>&gt;<i> I think I could add intermediates in my rules but it would be long (I thought to make packs of 4 or 5 letters), non general, and not friendly to user. I don't really like that solution.
</I>&gt;<i> Maybe I should turn to another language such as C. Will I have the same problem? 
</I>

C will just use whatever memory it has and generally the compilers will
will compile as large a program as you give it, although it might take
some time. At a guess from what you are trying to do, ANTLR isn't the
right program, or you would need to break down the logical sequences
lexically and contruct them in a parser from all the common prefixes and
so on, but the combinatorial possibilities are probably too huge.

Basically, while the algorithms can process your very long sequences, it
will generate huge amounts of code to do this. Ironically, you might be
better with flex for the lexer, as this will just go down the listed
possibilities in order and try each one to see if it works. But  unless
you are combining these tokens in to complicated syntax then you are
probably better off using awk or possibly even sed.

Finally through you could write a program to generate the lexer rules,
factoring out all the common sequences. Left factoring will reduce the
code size a lot. IN your two example tokens above, there is a large
common start sequence. Rather than clutter the examples, lets say the
common start sequence is : atggtgag&quot; and then it differs after that,
then you can do:

fragment E0020 : 'x' ; // Place holder
E0022 : 'atggtgag'  // Common left sequence

                (
                      'cag'  // E0022
                    | 'ggta' { $type = E0020; }
                )
;

But I still think that you will end up with something fairly unworkable
unless you really can take all the input sequences and generate this
left factoring automatically, but if you are going to do that, you might
as well write a program for the recognition perhaps. 

Jim
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080718/391feeaa/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080718/391feeaa/attachment-0001.html</A> 
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029216.html">[antlr-interest] java : code too large for try statement =&gt; use another language?
</A></li>
	<LI>Next message: <A HREF="029218.html">[antlr-interest] Bad grammar?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29217">[ date ]</a>
              <a href="thread.html#29217">[ thread ]</a>
              <a href="subject.html#29217">[ subject ]</a>
              <a href="author.html#29217">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
