<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Improving lexer error messages for missing	end	quotes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Improving%20lexer%20error%20messages%20for%20missing%0A%09end%09quotes&In-Reply-To=%3C01ef01cb8a8c%2477b646c0%246722d440%24%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040086.html">
   <LINK REL="Next"  HREF="040097.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Improving lexer error messages for missing	end	quotes</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Improving%20lexer%20error%20messages%20for%20missing%0A%09end%09quotes&In-Reply-To=%3C01ef01cb8a8c%2477b646c0%246722d440%24%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Improving lexer error messages for missing	end	quotes">jimi at temporal-wave.com
       </A><BR>
    <I>Mon Nov 22 13:30:21 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="040086.html">[antlr-interest] Improving lexer error messages for missing end	quotes
</A></li>
        <LI>Next message: <A HREF="040097.html">[antlr-interest] Improving lexer error messages for missing end	quotes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40087">[ date ]</a>
              <a href="thread.html#40087">[ thread ]</a>
              <a href="subject.html#40087">[ subject ]</a>
              <a href="author.html#40087">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You code your rules for predictable errors, including an empty alt for lack
of closing quote:


LIT
@init
{
  int startCol = getCharPostionInLine();
}

:<i> '&quot;' ~NLCHARS* ('&quot;' | { error(MISSING_QUOTE, startPos, $pos .... etc) }) ;
</I>

You should encapsulate all such errors that you can and try and avoid
letting the error handler catch errors (not always possible) and anyway you
should be overriding the default error handler. You can also override the
recovery mechanism when you know you can do better than reporting a missing
character or consuming the unexpected character.

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Robert Parks
</I>&gt;<i> Sent: Monday, November 22, 2010 12:56 PM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] Improving lexer error messages for missing
</I>&gt;<i> end quotes
</I>&gt;<i> 
</I>&gt;<i> * Sorry if this is a dupe - I posted through google groups first then
</I>&gt;<i> read that you're are not supposed to do that *
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> I am negative testing my lexer and finding that it doesn't handle
</I>&gt;<i> missing end quotes on literal strings as well as I would like. It
</I>&gt;<i> throws a MismatchedTokenException saying that it is expecting end quote
</I>&gt;<i> found EOF which is correct but I would like it to say the line/ offset
</I>&gt;<i> of the starting quote. Is there a way to get this information?
</I>&gt;<i> Thanks,
</I>&gt;<i> Rob
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> email-address
</I>
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040086.html">[antlr-interest] Improving lexer error messages for missing end	quotes
</A></li>
	<LI>Next message: <A HREF="040097.html">[antlr-interest] Improving lexer error messages for missing end	quotes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40087">[ date ]</a>
              <a href="thread.html#40087">[ thread ]</a>
              <a href="subject.html#40087">[ subject ]</a>
              <a href="author.html#40087">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
