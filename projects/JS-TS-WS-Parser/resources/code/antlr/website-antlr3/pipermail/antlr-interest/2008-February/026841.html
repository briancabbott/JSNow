<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Retaining comments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Retaining%20comments&In-Reply-To=%3C601F15D4-F55A-4598-BCF4-5A477FF66BC0%40speakeasy.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026918.html">
   <LINK REL="Next"  HREF="026851.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Retaining comments</H1>
    <B>Blake Meike</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Retaining%20comments&In-Reply-To=%3C601F15D4-F55A-4598-BCF4-5A477FF66BC0%40speakeasy.net%3E"
       TITLE="[antlr-interest] Retaining comments">bmeike at speakeasy.net
       </A><BR>
    <I>Wed Feb 27 09:06:33 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026918.html">[antlr-interest] &quot;An Introduction to ANTLR&quot; presentation slides
</A></li>
        <LI>Next message: <A HREF="026851.html">[antlr-interest] Retaining comments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26841">[ date ]</a>
              <a href="thread.html#26841">[ thread ]</a>
              <a href="subject.html#26841">[ subject ]</a>
              <a href="author.html#26841">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am writing a fairly simple translator using v3, and having some  
trouble handling comments.

In the first versions of the translator, I completely ignored  
comments, treating them as whitespace.  This works very, very nicely,  
using either skip() or the HIDDEN channel.

I'm adding a new feature that will copy comment from the source to the  
source to the destination language.  The ANTLR book suggests that this  
is not only possible, but, using channels, an ANTRL feature.  I wasn't  
able to discern, though, exactly how to do it.

I changed my grammar so that I could attach an action to the lexer's  
recognition of a comment token.  This has almost the desired effect:  
the action is called for every comment in the source.  Unfortunately,  
every call to the lexer action is called before any call to any parser  
action, as if the entire source file were converted to tokens, before  
any token is fed to the parser.

Is there a way to keep the, very convenient lexical handling of  
comments, and still, to have the action associated with them called in  
context?

Thanks
  Blake Meike
</PRE>





















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026918.html">[antlr-interest] &quot;An Introduction to ANTLR&quot; presentation slides
</A></li>
	<LI>Next message: <A HREF="026851.html">[antlr-interest] Retaining comments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26841">[ date ]</a>
              <a href="thread.html#26841">[ thread ]</a>
              <a href="subject.html#26841">[ subject ]</a>
              <a href="author.html#26841">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
