<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Confusion: Understanding gap or Tree Grammar Bug
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Confusion%3A%20Understanding%20gap%20or%20Tree%20Grammar%20Bug&In-Reply-To=%3CB3F91E1013C53E4B9840FEAD0F12BAAD277E2A2169%40CHN-HCLT-EVS08.HCLT.CORP.HCL.IN%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039524.html">
   <LINK REL="Next"  HREF="039520.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Confusion: Understanding gap or Tree Grammar Bug</H1>
    <B>Sarnath K - ERS, HCLTech</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Confusion%3A%20Understanding%20gap%20or%20Tree%20Grammar%20Bug&In-Reply-To=%3CB3F91E1013C53E4B9840FEAD0F12BAAD277E2A2169%40CHN-HCLT-EVS08.HCLT.CORP.HCL.IN%3E"
       TITLE="[antlr-interest] Confusion: Understanding gap or Tree Grammar Bug">k_sarnath at hcl.com
       </A><BR>
    <I>Fri Aug 20 01:53:09 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="039524.html">[antlr-interest] Am I in the right place?
</A></li>
        <LI>Next message: <A HREF="039520.html">[antlr-interest] Confusion: Understanding gap or Tree Grammar	Bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39519">[ date ]</a>
              <a href="thread.html#39519">[ thread ]</a>
              <a href="subject.html#39519">[ subject ]</a>
              <a href="author.html#39519">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Grammar to parse the &quot;Hi&quot; statement of this e-mail:
---------------------------------------------------
all: cM | cF | 'There';
cM: 'Chitparan'; // Sanskrit word meaning &quot;One who inspires the mind&quot; - Male 
cF: 'Chitpari';  // Sanskrit word meaning &quot;One who inspires the mind&quot; - Female 
---------------------------------------------------

Hi &quot;all&quot;,

We are new to ANTLR and we all love this tool! Thanks to Terrence!  \__/

We are trying to write a C2C converter. 
However, we are stuck with the handling of the &quot;block statement&quot; in the Tree Grammar part.
Though we have a workaround, we would like to know whether this is an ANTLR bug (or) a gap in our understanding.

I have written a concise grammar that captures the problem. Kindly see the attachment.

The problem is very simple:
A compound statement is a 'statement' that starts with '{', has zero or more variable declarations, followed by zero or more 'statements' and ends with '}'
In the grammar above, 'v' stands for variable declaration, 's' stands for a statement.

When I run this project , I get the following output.
-------------------------------
Console
-------------------------------
{vs{s}}
Tree = ({ v s ({ s }) })
Tree Grammar Output =  {vs{vs} }
--------------------------------

Now look at &quot;Tree Grammar Output&quot;. It carries over the &quot;v&quot; from the previous level.
However if I re-write the grammar as below, I don't have this problem.

b-&gt;'{' '}'
  | '{' v '}'
  | '{' s '}'
  | '{' v+ s+ '}'

Kindly advice me on what is the right way to do things!
Are we missing something? (like... RTFM?)

Thanks,
Best Regards,
Sarnath
Sarnath Kannan 
Sr. Technical Manager 
HCL Technologies Ltd 
Shipara Building, Off Hosur Road, GB Palya, Bangalore
+91-80-41584417
www.hcltech.com 
www.hcl.in 


DISCLAIMER:
-----------------------------------------------------------------------------------------------------------------------

The contents of this e-mail and any attachment(s) are confidential and intended for the named recipient(s) only. 
It shall not attach any liability on the originator or HCL or its affiliates. Any views or opinions presented in 
this email are solely those of the author and may not necessarily reflect the opinions of HCL or its affiliates. 
Any form of reproduction, dissemination, copying, disclosure, modification, distribution and / or publication of 
this message without the prior written consent of the author of this e-mail is strictly prohibited. If you have 
received this email in error please delete it and notify the sender immediately. Before opening any mail and 
attachments please check them for viruses and defect.

-----------------------------------------------------------------------------------------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: driver.java
Type: application/octet-stream
Size: 912 bytes
Desc: driver.java
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20100820/bd0d277d/attachment.obj">http://www.antlr.org/pipermail/antlr-interest/attachments/20100820/bd0d277d/attachment.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: block.g
Type: application/octet-stream
Size: 422 bytes
Desc: block.g
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20100820/bd0d277d/attachment-0001.obj">http://www.antlr.org/pipermail/antlr-interest/attachments/20100820/bd0d277d/attachment-0001.obj</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: blockTree.g
Type: application/octet-stream
Size: 435 bytes
Desc: blockTree.g
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20100820/bd0d277d/attachment-0002.obj">http://www.antlr.org/pipermail/antlr-interest/attachments/20100820/bd0d277d/attachment-0002.obj</A> 
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039524.html">[antlr-interest] Am I in the right place?
</A></li>
	<LI>Next message: <A HREF="039520.html">[antlr-interest] Confusion: Understanding gap or Tree Grammar	Bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39519">[ date ]</a>
              <a href="thread.html#39519">[ thread ]</a>
              <a href="subject.html#39519">[ subject ]</a>
              <a href="author.html#39519">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
