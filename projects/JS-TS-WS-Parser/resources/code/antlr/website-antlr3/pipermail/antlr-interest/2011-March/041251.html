<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] antlr v4 wish list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20antlr%20v4%20wish%20list&In-Reply-To=%3C009701cbeeca%24063c2300%2412b46900%24%40pixelminegames.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041247.html">
   <LINK REL="Next"  HREF="041252.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] antlr v4 wish list</H1>
    <B>Sam Harwell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20antlr%20v4%20wish%20list&In-Reply-To=%3C009701cbeeca%24063c2300%2412b46900%24%40pixelminegames.com%3E"
       TITLE="[antlr-interest] antlr v4 wish list">sharwell at pixelminegames.com
       </A><BR>
    <I>Wed Mar 30 04:02:55 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="041247.html">[antlr-interest] antlr v4 wish list
</A></li>
        <LI>Next message: <A HREF="041252.html">[antlr-interest] antlr v4 wish list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41251">[ date ]</a>
              <a href="thread.html#41251">[ thread ]</a>
              <a href="subject.html#41251">[ subject ]</a>
              <a href="author.html#41251">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry about the misunderstanding there.

I've done some extensive work on lexer performance, but it was focused on
source files only up to a couple of dozen megabytes in a single file. ANTLR
for Java is certainly not equipped to handle large-scale operations even in
the scale I was testing due to some fundamental language limitations. Using
carefully written grammars and my experimental &quot;SlimLexer&quot; implementation
for the CSharp3 target, I've achieved rates of approximately 10MB of source
per second which *significantly* outperformed even the C target.

The lexer implementation planned for ANTLR v4 should approach (and hopefully
exceed) the performance of my SlimLexer, but I don't think there's any
intention to consider gigabytes of source code.

On a side note, I'm assuming the dozens of gigabytes weren't handwritten are
the result of an intermediate tool in the compiler tool chain. I would treat
this as a substantial, unacceptable design flaw in a system designed for
business use. Any practical system for data on this scale use data formats
and layouts which can be efficiently manipulated for the desired
information. This is like replacing a long hallway in an office building
with a maze and complaining that it takes too long to get to the bathroom
and wondering if go-karts might help. The problem exists way before parsing
is ever considered.

Sam

-----Original Message-----
From: Martin d'Anjou [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">point14 at magma.ca</A>] 
Sent: Tuesday, March 29, 2011 11:55 PM
To: Sam Harwell
Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] antlr v4 wish list

Hi Sam,

With regards to your answer to item 4) Gigantic files, I meant the problem
of lexing and parsing gigantic source files such as verilog netlists which
can be dozens of gigabytes of source code and take hours to lex and parse
due to their size. The problem is reported by
<A HREF="http://v2kparse.blogspot.com/2008/06/first-pass-uploaded-to-sourceforce.html">http://v2kparse.blogspot.com/2008/06/first-pass-uploaded-to-sourceforce.html</A>
. 
To quote his blog:

&quot;I was compelled to use ANTLR 2.7.7 since the token stream mechanism does
not try to slurp in the whole source file, an issue which I encountered with
the more recent ANTLR 3.0.

While Verilog source files are not generally large, netlist files can be
humungous, and one can quickly run out of memory by &quot;slurping in the whole
tamale.&quot;

Anyway, I've communicated the large file slurp file to the author of ANTLR
and he'll be working out a solution in future releases.

(If you think large verilog netlists are problematic to slurp; think aout a
SPEF file --- where I first encoutered the problem using ANTLR 3.x. Anyway,
back to 2.7.7 works fine, even for large SPEF files.)&quot;

As I said, this might have been fixed already, I just don't know.

Regards,
Martin



On 11-03-29 11:29 PM, Sam Harwell wrote:
&gt;<i> 4. With proper integration into the build system, generated files 
</I>&gt;<i> aren't checked into source control or distributed. The ANTLR project 
</I>&gt;<i> itself generates V2 and V3 grammars, and my .NET projects generate V3 
</I>&gt;<i> grammars (using my C# port of the Tool) at build time, so the 
</I>&gt;<i> generated files never take up space in source control.
</I>

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041247.html">[antlr-interest] antlr v4 wish list
</A></li>
	<LI>Next message: <A HREF="041252.html">[antlr-interest] antlr v4 wish list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41251">[ date ]</a>
              <a href="thread.html#41251">[ thread ]</a>
              <a href="subject.html#41251">[ subject ]</a>
              <a href="author.html#41251">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
