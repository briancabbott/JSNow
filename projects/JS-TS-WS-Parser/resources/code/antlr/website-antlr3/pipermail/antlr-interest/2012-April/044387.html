<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Gated semantic predicates in C tree walker causing	exceptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Gated%20semantic%20predicates%20in%20C%20tree%20walker%20causing%0A%09exceptions&In-Reply-To=%3C4F83B492.6050503%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044386.html">
   <LINK REL="Next"  HREF="044390.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Gated semantic predicates in C tree walker causing	exceptions</H1>
    <B>Kieran Simpson</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Gated%20semantic%20predicates%20in%20C%20tree%20walker%20causing%0A%09exceptions&In-Reply-To=%3C4F83B492.6050503%40gmail.com%3E"
       TITLE="[antlr-interest] Gated semantic predicates in C tree walker causing	exceptions">kierans777 at gmail.com
       </A><BR>
    <I>Mon Apr  9 21:18:26 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044386.html">[antlr-interest] grammar that separates classpath from class	name
</A></li>
        <LI>Next message: <A HREF="044390.html">[antlr-interest] Gated semantic predicates in C tree walker causing exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44387">[ date ]</a>
              <a href="thread.html#44387">[ thread ]</a>
              <a href="subject.html#44387">[ subject ]</a>
              <a href="author.html#44387">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>For my tree grammar, I've come across the situation where I want to 
ignore the rest of the subtree we're currently in as well as any 
subtrees of the current tree.

As part of the rule, a variable continueProcessingBlock can get set to 
false, and the actions for parts of the rule check the boolean before 
taking action.

When it comes to the part of the rule where I want to descend into child 
trees, I was wanting to use a gated semantic predicate to decide whether 
or not to as in the example below:

myTreeRule
@init {
   bool continueProcessingBlock = true;
}
  :
    // .... matcher rules for nodes in the tree
    // can set continueProcessingBlock to false

    // Do we descend into subtrees?
    ({continueProcessingBlock}?=&gt; myTreeRule*)
  ;

However the C code generated &quot;throws&quot; a FailedPredicateException.  It 
was my understanding that a gated semantic predicate is evaluated and if 
the result is false, then the walker moves on as opposed to a semantic 
predicate (non gated?) which would throw the FailedPredicateException.

Is this a bug, or a misunderstanding on my part?  Is there a better way 
to achieve the outcome?

Cheers,

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044386.html">[antlr-interest] grammar that separates classpath from class	name
</A></li>
	<LI>Next message: <A HREF="044390.html">[antlr-interest] Gated semantic predicates in C tree walker causing exceptions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44387">[ date ]</a>
              <a href="thread.html#44387">[ thread ]</a>
              <a href="subject.html#44387">[ subject ]</a>
              <a href="author.html#44387">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
