<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Token stream filter
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Token%20stream%20filter&In-Reply-To=C7FE35004D40FD45AA342991B88CE40409AF20%40lnml1.eca-international.local">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008139.html">
   <LINK REL="Next"  HREF="008142.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Token stream filter</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Token%20stream%20filter&In-Reply-To=C7FE35004D40FD45AA342991B88CE40409AF20%40lnml1.eca-international.local"
       TITLE="[antlr-interest] Token stream filter">klaren at cs.utwente.nl
       </A><BR>
    <I>Wed Jun  2 08:46:03 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008139.html">[antlr-interest] Token stream filter
</A></li>
        <LI>Next message: <A HREF="008142.html">[antlr-interest] Token stream filter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8140">[ date ]</a>
              <a href="thread.html#8140">[ thread ]</a>
              <a href="subject.html#8140">[ subject ]</a>
              <a href="author.html#8140">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jun 02, 2004 at 03:37:15PM +0100, Anthony Youngman wrote:
&gt;<i> If I don't want to eat up the newline at the end, is the following
</I>&gt;<i> likely to be a good/sensible parser rule?
</I>&gt;<i> 
</I>&gt;<i> commentst : REMARK ( (LA(1) != newline) =&gt; . )* ;
</I>&gt;<i> 
</I>&gt;<i> in other words, having found a REMARK, eat everything up to but not
</I>&gt;<i> including the next newline. Or is LA a lexer-only thing as well?
</I>
That one is a bit inefficient due to an exception per character:

This is a dirty one but it works:

comment: REMARK ( { if( LA(1) == NEWLINE ) break; } : . )* ;

Tip: read the generated code.

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">j.klaren at utwente.nl</A> ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008139.html">[antlr-interest] Token stream filter
</A></li>
	<LI>Next message: <A HREF="008142.html">[antlr-interest] Token stream filter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8140">[ date ]</a>
              <a href="thread.html#8140">[ thread ]</a>
              <a href="subject.html#8140">[ subject ]</a>
              <a href="author.html#8140">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
