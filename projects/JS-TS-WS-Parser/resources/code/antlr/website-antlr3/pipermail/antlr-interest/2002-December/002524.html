<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Problem with Heterogenous AST antlr 2.7.2a6
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Problem%20with%20Heterogenous%20AST%20antlr%202.7.2a6&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002522.html">
   <LINK REL="Next"  HREF="002525.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Problem with Heterogenous AST antlr 2.7.2a6</H1>
    <B>beeh1973 &lt;hastur4711 at bigfoot.com&gt;</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Problem%20with%20Heterogenous%20AST%20antlr%202.7.2a6&In-Reply-To="
       TITLE="[antlr-interest] Problem with Heterogenous AST antlr 2.7.2a6">hastur4711 at bigfoot.com
       </A><BR>
    <I>Fri Dec 20 12:04:05 PST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="002522.html">[antlr-interest] Re: Token Streams, multiple lexers - how doe
	s lexer access selector?
</A></li>
        <LI>Next message: <A HREF="002525.html">[antlr-interest] Re: Problem with Heterogenous AST antlr 2.7.2a6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2524">[ date ]</a>
              <a href="thread.html#2524">[ thread ]</a>
              <a href="subject.html#2524">[ subject ]</a>
              <a href="author.html#2524">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi,

i tried to use my grammar with antlr 2.7.2a6. i used it with version 
2.7.2a2 before without problems.

i use heterogenous AST Construction
AST Classes are in some package.

header {
   package org.mydomain;
}

tokens {
   EXIST &lt;AST=ExistOperator&gt;;
}

[...]

i have a corresponding class org.mydomain.ExistOperator

while Parsing something ASTFactory tries to create a ExistOperator 
which fails with a RuntimeError occurs.

1) testExistOperator(TCLTest)
java.lang.IllegalArgumentException: Invalid class or can't make 
instance, ExistOperator
	at antlr.ASTFactory.createUsingCtor(ASTFactory.java:237)
	at antlr.ASTFactory.create(ASTFactory.java:194)
	at TCLParser.exist(TCLParser.java:826)
        [...]

it seems to me that ASTFactory is trying to create an instance of 
ExistOperator while it should create an instance of 
org.mydomain.ExistOperator.

adding the package name to the call to ASTFactory in TCLParser avoids 
the exception. 

is this a bug or am i missing something?

regards,
  alphonse bendt



 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002522.html">[antlr-interest] Re: Token Streams, multiple lexers - how doe
	s lexer access selector?
</A></li>
	<LI>Next message: <A HREF="002525.html">[antlr-interest] Re: Problem with Heterogenous AST antlr 2.7.2a6
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2524">[ date ]</a>
              <a href="thread.html#2524">[ thread ]</a>
              <a href="subject.html#2524">[ subject ]</a>
              <a href="author.html#2524">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
