<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Write comments to templates
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Write%20comments%20to%20templates&In-Reply-To=%3C20081123085906.5F7D811E9DB%40www.antlr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031689.html">
   <LINK REL="Next"  HREF="031652.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Write comments to templates</H1>
    <B>Gavin Lambert</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Write%20comments%20to%20templates&In-Reply-To=%3C20081123085906.5F7D811E9DB%40www.antlr.org%3E"
       TITLE="[antlr-interest] Write comments to templates">antlr at mirality.co.nz
       </A><BR>
    <I>Sun Nov 23 00:58:57 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="031689.html">[antlr-interest] Write comments to templates
</A></li>
        <LI>Next message: <A HREF="031652.html">[antlr-interest] Write comments to templates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31651">[ date ]</a>
              <a href="thread.html#31651">[ thread ]</a>
              <a href="subject.html#31651">[ subject ]</a>
              <a href="author.html#31651">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 07:39 23/11/2008, Chris Sekszczynska wrote:
&gt;<i>Now I like to write all comments occurring in the source file to 
</I>&gt;<i>the (nearly) same position in the destination file. So I have to 
</I>&gt;<i>pass the comments to the walker. Of cause, I could simply put the 
</I>&gt;<i>comments into the default token stream and add &quot;Comment?&quot; to 
</I>&gt;<i>every position in every rule. This will make my parser and walker 
</I>&gt;<i>grammars unreadable.
</I>&gt;<i>
</I>&gt;<i>Isn't there a better solution? Is it, for example, possible to 
</I>&gt;<i>scan the token stream parallel while the AST is parsed? So it 
</I>&gt;<i>could be possible to write comments to the StringTemplate output 
</I>&gt;<i>just after they appear in the input stream at the nearly same 
</I>&gt;<i>position (using token.index).
</I>
I haven't actually done it myself, so I don't know the 
specifics.  But it's possible to put the comments on a separate 
channel (not the hidden channel) and then either use a separate 
parser &quot;tuned&quot; to that channel (so it only sees the comments) and 
then splice the ASTs together outside of ANTLR, or to scan through 
the token stream in your standard parser between two known 
reference points looking for off-channel tokens to include.

</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031689.html">[antlr-interest] Write comments to templates
</A></li>
	<LI>Next message: <A HREF="031652.html">[antlr-interest] Write comments to templates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31651">[ date ]</a>
              <a href="thread.html#31651">[ thread ]</a>
              <a href="subject.html#31651">[ subject ]</a>
              <a href="author.html#31651">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
