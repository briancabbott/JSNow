<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] String size limit and how to free memory real-time?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20String%20size%20limit%20and%20how%20to%20free%20memory%20real-time%3F&In-Reply-To=mailman.1.1162929601.28461.antlr-interest%40antlr.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018282.html">
   <LINK REL="Next"  HREF="018285.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] String size limit and how to free memory real-time?</H1>
    <B>Rick Morgan</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20String%20size%20limit%20and%20how%20to%20free%20memory%20real-time%3F&In-Reply-To=mailman.1.1162929601.28461.antlr-interest%40antlr.org"
       TITLE="[antlr-interest] String size limit and how to free memory real-time?">r.morgan at verizonbusiness.com
       </A><BR>
    <I>Wed Nov  8 15:48:41 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018282.html">[antlr-interest] TreeWalker and AST Transformation
</A></li>
        <LI>Next message: <A HREF="018285.html">[antlr-interest] Some ANTLR questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18284">[ date ]</a>
              <a href="thread.html#18284">[ thread ]</a>
              <a href="subject.html#18284">[ subject ]</a>
              <a href="author.html#18284">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

2 things:

1)is there a configuration variable that controls how large a token can be
when ANTLR is parsing/lexing?  I am getting the following error when my
program shuts down (seems to run fine until the EOF token is matched):

Pid 4507 received a SIGSEGV for stack growth failure.
Possible causes: insufficient memory or swap space,
or stack size exceeded maxssiz. 
Segmentation fault

The parser itself seems to run fine, it's the return from my main program
that induces the error, but none of this happened until I changed my grammar
to handle some rather large &quot;tokens&quot; (7800 or more chars.)  The file I'm
parsing is only 86k, so I'm surprised I'm running into this.

Is there some limit I need to change somewhere?  

2) I think if I could free up parts of the AST tree that's been built, parts
I no longer need once my action routines have fired, then I could reduce the
memory utilization. Right now it shoots up to about 140Meg on the above 86k
file before exiting the program and that's mostly the parser and its AST
because I stubbed out all the application code.  The ASTFactory.cpp code I'm
using from the distribution doesn't have any type of prune operations that I
can see.  

Any suggestions on how to free up some memory real-time? Do I need to create
my own AST factory for this purpose?

thanks,
Rick



</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018282.html">[antlr-interest] TreeWalker and AST Transformation
</A></li>
	<LI>Next message: <A HREF="018285.html">[antlr-interest] Some ANTLR questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18284">[ date ]</a>
              <a href="thread.html#18284">[ thread ]</a>
              <a href="subject.html#18284">[ subject ]</a>
              <a href="author.html#18284">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
