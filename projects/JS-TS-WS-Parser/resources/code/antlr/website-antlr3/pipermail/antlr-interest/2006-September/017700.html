<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ArrayIndexOutOfBoundsException while	generating code in v3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ArrayIndexOutOfBoundsException%20while%0A%09generating%20code%20in%20v3&In-Reply-To=8b74c5ab0609250249q1bfe58f7nb273f615068df523%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017699.html">
   <LINK REL="Next"  HREF="017701.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ArrayIndexOutOfBoundsException while	generating code in v3</H1>
    <B>Kay Roepke</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ArrayIndexOutOfBoundsException%20while%0A%09generating%20code%20in%20v3&In-Reply-To=8b74c5ab0609250249q1bfe58f7nb273f615068df523%40mail.gmail.com"
       TITLE="[antlr-interest] ArrayIndexOutOfBoundsException while	generating code in v3">kroepke at classdump.org
       </A><BR>
    <I>Mon Sep 25 03:31:54 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017699.html">[antlr-interest] ArrayIndexOutOfBoundsException while	generating code in v3
</A></li>
        <LI>Next message: <A HREF="017701.html">[antlr-interest] ArrayIndexOutOfBoundsException while	generating code in v3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17700">[ date ]</a>
              <a href="thread.html#17700">[ thread ]</a>
              <a href="subject.html#17700">[ subject ]</a>
              <a href="author.html#17700">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi John!

On 25. Sep 2006, at 11:49 Uhr, John Goering wrote:

&gt;<i> Quick update: Taking out &quot;EOF&quot; (which I had not defined since I  
</I>&gt;<i> thought it
</I>&gt;<i> was implicitly defined) and tinkering around with a few other  
</I>&gt;<i> things (not
</I>&gt;<i> sure which ones helped) ended up causing the code to be able to be
</I>&gt;<i> generated, so it's no longer a problem for me, but probably still a  
</I>&gt;<i> bug.
</I>&gt;<i> Could it have to do with the missing EOF token?
</I>
Thank you very much for the simplified grammar! The problem is indeed  
the EOF token, but not that you didn't define it, but rather that ANTLR
tries to insert it into the local FOLLOW set when it generates code.

It tries to insert -1 in the corresponding bitset, which of course  
fails. Setting bit -1 doesn't seem to be a good idea ;)
After a quick inspection, I don't see an obvious fix, but I'm sure  
Ter will ;)

I add this to the bug list in the wiki.

What exactly do you want to achieve with the program rule? My best  
guess is that you want the ';' to be optional for the last statement  
in the input,
but the way it is written now, the EOF can never be reached (at least  
ANTLR warns to this effect before crashing badly... :))

Thanks for the report!

cheers,
-k

-- 
Kay R&#246;pke &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">kroepke at classdump.org</A>&gt;
classdump Software
Key fingerprint = A849 0F2C C322 4022 379E  8661 7E1B FE0D 4CD2 A6D0



</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017699.html">[antlr-interest] ArrayIndexOutOfBoundsException while	generating code in v3
</A></li>
	<LI>Next message: <A HREF="017701.html">[antlr-interest] ArrayIndexOutOfBoundsException while	generating code in v3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17700">[ date ]</a>
              <a href="thread.html#17700">[ thread ]</a>
              <a href="subject.html#17700">[ subject ]</a>
              <a href="author.html#17700">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
