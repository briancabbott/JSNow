<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Rob Pike on writing a lexer in Go for a	template language
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Rob%20Pike%20on%20writing%20a%20lexer%20in%20Go%20for%20a%0A%09template%20language&In-Reply-To=%3C57D26594-DFF6-4119-976A-48513C23D0FD%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042537.html">
   <LINK REL="Next"  HREF="042545.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Rob Pike on writing a lexer in Go for a	template language</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Rob%20Pike%20on%20writing%20a%20lexer%20in%20Go%20for%20a%0A%09template%20language&In-Reply-To=%3C57D26594-DFF6-4119-976A-48513C23D0FD%40cs.usfca.edu%3E"
       TITLE="[antlr-interest] Rob Pike on writing a lexer in Go for a	template language">parrt at cs.usfca.edu
       </A><BR>
    <I>Wed Aug 31 09:24:36 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="042537.html">[antlr-interest] Rob Pike on writing a lexer in Go for a template	language
</A></li>
        <LI>Next message: <A HREF="042545.html">[antlr-interest] Rob Pike on writing a lexer in Go for a	template language
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42540">[ date ]</a>
              <a href="thread.html#42540">[ thread ]</a>
              <a href="subject.html#42540">[ subject ]</a>
              <a href="author.html#42540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Gary,

thanks for the thoughts. I agree that ANTLR lexers have been annoying, which is why I've gone back to a traditional lex-like system including lexical modes in v4.

To deal with the island grammars and context-sensitive Lexing issues, I'm supporting scannerless parsers in v4.

The reason I wrote the StringTemplate lexer by hand was partially due to the island grammar issue, but primarily because the delimiters can be dynamically specified by the user. That tends to defeat any automata-based systems for lexing.

Ter

On Aug 30, 2011, at 7:40 PM, Gary Miller wrote:

&gt;<i> Hey All,
</I>&gt;<i> 
</I>&gt;<i> Slightly off topic post, I thought there might be some interest.
</I>&gt;<i> 
</I>&gt;<i> Last night I went to a talk by Rob Pike of Google, you can watch the talk at
</I>&gt;<i>   <A HREF="https://www.youtube.com/watch?v=HxaD_trXwRE&amp;feature=player_embedded">https://www.youtube.com/watch?v=HxaD_trXwRE&amp;feature=player_embedded</A>
</I>&gt;<i> 
</I>&gt;<i> Before I went my thinking was that this could probably be knocked up
</I>&gt;<i> in ANTLR in a few minutes, but then ....
</I>&gt;<i> All the uncomfort I have with ANTLR lexering came back to me.
</I>&gt;<i> So I though I'd go to the source and have a look at the lexer for ST,
</I>&gt;<i> and low and behold ST's lexer is written by hand.
</I>&gt;<i> Now I'm feeling quite uncomfortable about ANTLR's lexing.
</I>&gt;<i> 
</I>&gt;<i> I think it basically comes down to the stateless nature of the ANTLR lexing.
</I>&gt;<i> Not the first time context-sensitive scanning has been mentioned on
</I>&gt;<i> the list (*).
</I>&gt;<i> Yes I know that it can be made statefull (*) and/or I can push more
</I>&gt;<i> onto the parser, but both of these have issues.
</I>&gt;<i> Statefull ANTLR lexing code I generally find more confusing and harder
</I>&gt;<i> to write then functionally equivalent code in a target language.
</I>&gt;<i> Pushing more into the parser in this particular case is inefficient as
</I>&gt;<i> there are large chunks of text that doesn't need to be tokenized and
</I>&gt;<i> there is the issue the whitespace tokens might need to behaving
</I>&gt;<i> differently in different places (hidden verse not).
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Started off as an off topic post, ended as a rant about lexing regards
</I>&gt;<i> Gary
</I>&gt;<i> P.S. I've started on the ANTLR target for Go, still very immature.
</I>&gt;<i> <A HREF="https://github.com/millergarym/antlr/tree/,">https://github.com/millergarym/antlr/tree/,</A>
</I>&gt;<i> 
</I>&gt;<i> * Scott Stanchfield's context-sensitive scanning
</I>&gt;<i> <A HREF="http://javadude.com/articles/antlr-context-sensitive-scanner.html">http://javadude.com/articles/antlr-context-sensitive-scanner.html</A>
</I>&gt;<i> 
</I>&gt;<i> * a good example of this is Jim's numerical lexing for JavaFX
</I>&gt;<i> <A HREF="http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating+point,+dot,+range,+time+specs">http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating+point,+dot,+range,+time+specs</A>
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042537.html">[antlr-interest] Rob Pike on writing a lexer in Go for a template	language
</A></li>
	<LI>Next message: <A HREF="042545.html">[antlr-interest] Rob Pike on writing a lexer in Go for a	template language
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42540">[ date ]</a>
              <a href="thread.html#42540">[ thread ]</a>
              <a href="subject.html#42540">[ subject ]</a>
              <a href="author.html#42540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
