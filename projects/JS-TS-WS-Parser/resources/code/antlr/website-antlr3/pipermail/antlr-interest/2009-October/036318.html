<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] accepting nested code blocks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20accepting%20nested%20code%20blocks&In-Reply-To=%3Ce2a1d9720910130933w6a960f9ej58ed992d6efdf806%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036314.html">
   <LINK REL="Next"  HREF="036319.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] accepting nested code blocks</H1>
    <B>Esp&#225;k Mikl&#243;s</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20accepting%20nested%20code%20blocks&In-Reply-To=%3Ce2a1d9720910130933w6a960f9ej58ed992d6efdf806%40mail.gmail.com%3E"
       TITLE="[antlr-interest] accepting nested code blocks">espakm at gmail.com
       </A><BR>
    <I>Tue Oct 13 09:33:32 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="036314.html">[antlr-interest] ANTLR, D
</A></li>
        <LI>Next message: <A HREF="036319.html">[antlr-interest] accepting nested code blocks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36318">[ date ]</a>
              <a href="thread.html#36318">[ thread ]</a>
              <a href="subject.html#36318">[ subject ]</a>
              <a href="author.html#36318">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I want to create a lexer rule accepting nested code blocks.

I tried out the example of the Definitive ANTLR Reference (Section 4.3), but
it does not work.
It accepts only such inputs which do not contain any character other than
curly braces. Moreover, one closing brace is enough.

The error is the following:
MismatchedTokenException: line 1:1 mismatched input UNKNOW expecting 125

The original code of the book:

fragment
CODE[boolean stripCurlies]:
  '{' ( CODE[stripCurlies] | ~('{' |'}' ) )* '}'
  {
    if ( stripCurlies ) {
      setText(getText().substring(1, getText().length()));
    }
  }
  ;

The simplified version of the rule results the same:
fragment
Block: '{' ( Block | ~('{'|'}') )* '}';

I use ANTLR 3.2.

Does anybody have an idea, how to get around this?

Thanks,

Miklos
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20091013/dcf56e53/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20091013/dcf56e53/attachment.html</A> 
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036314.html">[antlr-interest] ANTLR, D
</A></li>
	<LI>Next message: <A HREF="036319.html">[antlr-interest] accepting nested code blocks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36318">[ date ]</a>
              <a href="thread.html#36318">[ thread ]</a>
              <a href="subject.html#36318">[ subject ]</a>
              <a href="author.html#36318">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
