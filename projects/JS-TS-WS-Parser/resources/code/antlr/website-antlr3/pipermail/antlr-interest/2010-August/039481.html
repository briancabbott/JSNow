<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Antlr 3.2 issues: code too large and &quot;no such attribute: description&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Antlr%203.2%20issues%3A%20code%20too%20large%20and%20%22no%20such%0A%20attribute%3A%20description%22&In-Reply-To=%3CAANLkTinRvnOzkfarP5qyy7BnUgFUUVoANefAHLRMctqR%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039480.html">
   <LINK REL="Next"  HREF="039482.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Antlr 3.2 issues: code too large and &quot;no such attribute: description&quot;</H1>
    <B>Edson Tirelli</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Antlr%203.2%20issues%3A%20code%20too%20large%20and%20%22no%20such%0A%20attribute%3A%20description%22&In-Reply-To=%3CAANLkTinRvnOzkfarP5qyy7BnUgFUUVoANefAHLRMctqR%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Antlr 3.2 issues: code too large and &quot;no such attribute: description&quot;">tirelli at post.com
       </A><BR>
    <I>Tue Aug 17 17:49:08 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="039480.html">[antlr-interest] Antlr 3.2 issues: code too large and &quot;no	such	attribute: description&quot;
</A></li>
        <LI>Next message: <A HREF="039482.html">[antlr-interest] ANTLR 1.4 Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39481">[ date ]</a>
              <a href="thread.html#39481">[ thread ]</a>
              <a href="subject.html#39481">[ subject ]</a>
              <a href="author.html#39481">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>   Hi Jim,

   Thanks for the reply. Lets simplify things and forget antlrworks and the
code too large for now. The most important for me is to be able to compile
the grammar with -debug on the command line.

   On the command line, I am using the following:

$ java -classpath
&quot;antlr-3.2.jar;antlr-runtime-3.2.jar;antlr-2.7.7.jar;stringtemplate-3.2.1.jar&quot;
org.antlr.Tool -debug -lib src/lang src/lang/DRL.g

     I get the error:

    [java] error(10):  internal error:
src/main/resources/org/drools/lang/DRL.g : java.util.NoSuchElementException:
no such attribute: description in template context [orPredicates
notPredicate evalPredicate(...)]

   That seems the same problem reported in
<A HREF="http://www.antlr.org/jira/browse/ANTLR-378">http://www.antlr.org/jira/browse/ANTLR-378</A> .

   My grammar is here:
<A HREF="http://anonsvn.jboss.org/repos/labs/labs/jbossrules/branches/etirelli/drools-compiler/src/main/resources/org/drools/lang/DRL.g">http://anonsvn.jboss.org/repos/labs/labs/jbossrules/branches/etirelli/drools-compiler/src/main/resources/org/drools/lang/DRL.g</A>

   As I mentioned before, it is fairly complex. Also, there is a ton of code
in there to support the code editor, what &quot;polutes&quot; the grammar, so I don't
expect anyone to understand it. The important thing is it does compile
without any warnings or errors, except for when I try to use the -debug
flag.

   Thanks

   Edson

2010/8/17 Jim Idle &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>&gt;

&gt;<i> The JIRA you quote is not showing the same problems as the error you quote,
</I>&gt;<i> hence the patch is unlikely to help. If your grammar is too large with the
</I>&gt;<i> debug stuff in it then it is possible that its structure is not so good. It
</I>&gt;<i> is also possible that it is just too big for a single file of course. As
</I>&gt;<i> you
</I>&gt;<i> say, you can debug at the java level too - the multiple grammar debugging
</I>&gt;<i> stuff in ANTLRWorks does not seem to be quite there.
</I>&gt;<i>
</I>&gt;<i> Are you using the latest jar download to generate at the command line and
</I>&gt;<i> not the ANTLR that is embedded in ANTLRWorks? You should really supply the
</I>&gt;<i> invocations you are using as otherwise we have to guess. You could try
</I>&gt;<i> generating using the ANTLRWorks jar. However, if the code is too big with
</I>&gt;<i> debug stuff in it, then there isn't much you can do but start using
</I>&gt;<i> imports.
</I>&gt;<i> Also, try increasing the conversion timeout.
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Edson Tirelli
</I>&gt;<i> &gt; Sent: Tuesday, August 17, 2010 2:11 PM
</I>&gt;<i> &gt; To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> &gt; Subject: [antlr-interest] Antlr 3.2 issues: code too large and &quot;no such
</I>&gt;<i> &gt; attribute: description&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    Hey all,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    Need some advice. Question:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; * short version: Does anyone tried applying the patch from this ticket (
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/jira/browse/ANTLR-378">http://www.antlr.org/jira/browse/ANTLR-378</A>) on ANTLR 3.2? Is it still
</I>&gt;<i> good?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; * long version:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    I am adding support for full Java expressions to Drools
</I>&gt;<i> (www.drools.org)
</I>&gt;<i> &gt; DRL language, and basically my grammar (that was already complex) now is
</I>&gt;<i> &gt; also twice the size it was. Before, I was using ANTLRWorks (1.4) to debug
</I>&gt;<i> my
</I>&gt;<i> &gt; grammar but now, when I try to debug I get the error:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &quot;code too large&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    That is a bit strange to me as the grammar generates just fine when I
</I>&gt;<i> use
</I>&gt;<i> &gt; the command line tool to generate it, but I figured it might be due to
</I>&gt;<i> some
</I>&gt;<i> &gt; additional code ANTLRWorks might be generating for debug purposes. My
</I>&gt;<i> &gt; search through this list archives and internet found some comments
</I>&gt;<i> stating
</I>&gt;<i> &gt; that the way to go in this case would be to use Composite Grammars, but
</I>&gt;<i> the
</I>&gt;<i> &gt; problem seems to be that neither antlrworks nor the eclipse plugin have
</I>&gt;<i> &gt; proper support to it. I gave it a quick try and it does highlight missing
</I>&gt;<i> rules as
</I>&gt;<i> &gt; errors in dependent grammars making maintenance a lot harder.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     So, if I would have to do remote debugging anyway, I tried to do it
</I>&gt;<i> with my
</I>&gt;<i> &gt; current grammar. Although, when I try to generate the grammar with the &quot;-
</I>&gt;<i> &gt; debug&quot; flag on the command line, I get:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     &quot;[java] error(10):  internal error:
</I>&gt;<i> &gt; src/main/resources/org/drools/lang/DRL.g :
</I>&gt;<i> &gt; java.util.NoSuchElementException:
</I>&gt;<i> &gt; no such attribute: description in template context [orPredicates
</I>&gt;<i> notPredicate
</I>&gt;<i> &gt; evalPredicate(...)]&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     This is apparently a known bug reported since ANTLR 3.1.1 (
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/jira/browse/ANTLR-378">http://www.antlr.org/jira/browse/ANTLR-378</A>) for which a patch was
</I>&gt;<i> &gt; provided but apparently never applied.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Right now I am stuck, since I can not debug neither locally nor
</I>&gt;<i> remotely, I
</I>&gt;<i> &gt; see only two options: either I go trial and error working on my grammar
</I>&gt;<i> &gt; (what can be extremely time consuming for a complex grammar like
</I>&gt;<i> &gt; ours) or I try to apply the patch and build my own StringTemplate/ANTLR
</I>&gt;<i> &gt; binaries and hope that it will work.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     So, before spending more time on the later, I wanted to check if
</I>&gt;<i> anyone
</I>&gt;<i> &gt; else tried that and succeeded, otherwise, I will just go the old way and
</I>&gt;<i> debug
</I>&gt;<i> &gt; the generated code itself. :(
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Anyone worked around these problems yet? Any advice?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     Thanks a lot,
</I>&gt;<i> &gt;        Edson
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt;   Edson Tirelli
</I>&gt;<i> &gt;   JBoss Drools Core Development
</I>&gt;<i> &gt;   JBoss by Red Hat @ www.jboss.com
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> &gt; email-address
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>


-- 
  Edson Tirelli
  JBoss Drools Core Development
  JBoss by Red Hat @ www.jboss.com
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039480.html">[antlr-interest] Antlr 3.2 issues: code too large and &quot;no	such	attribute: description&quot;
</A></li>
	<LI>Next message: <A HREF="039482.html">[antlr-interest] ANTLR 1.4 Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39481">[ date ]</a>
              <a href="thread.html#39481">[ thread ]</a>
              <a href="subject.html#39481">[ subject ]</a>
              <a href="author.html#39481">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
