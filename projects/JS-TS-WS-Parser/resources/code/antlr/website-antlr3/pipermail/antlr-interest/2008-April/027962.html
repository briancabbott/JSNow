<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Template Rewrite Rule consumes one more Token than expected
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Template%20Rewrite%20Rule%20consumes%20one%20more%20Token%0A%20than%20expected&In-Reply-To=%3C20080422101806.3CD0811EC50%40www.antlr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027959.html">
   <LINK REL="Next"  HREF="027963.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Template Rewrite Rule consumes one more Token than expected</H1>
    <B>Gavin Lambert</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Template%20Rewrite%20Rule%20consumes%20one%20more%20Token%0A%20than%20expected&In-Reply-To=%3C20080422101806.3CD0811EC50%40www.antlr.org%3E"
       TITLE="[antlr-interest] Template Rewrite Rule consumes one more Token than expected">antlr at mirality.co.nz
       </A><BR>
    <I>Tue Apr 22 03:17:21 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027959.html">[antlr-interest] Using tree grammar for second pass to check function signatures
</A></li>
        <LI>Next message: <A HREF="027963.html">[antlr-interest] Template Rewrite Rule consumes one more Token than expected
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27962">[ date ]</a>
              <a href="thread.html#27962">[ thread ]</a>
              <a href="subject.html#27962">[ subject ]</a>
              <a href="author.html#27962">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 10:04 22/04/2008, Felix Dorner wrote:
 &gt;a) The tree parser does not have to re-insert anything in to the 

 &gt;token stream, because not hooking a token into the tree does not 

 &gt;imply that it's deleted from the input token stream.

No, but the token stream is only input to the parser, not the tree 
parser.  It's totally irrelevant to the tree parser, as far as I 
know.  (But maybe you're doing something I don't know about -- see 
below.)

 &gt;b) In the book, there's an example where Terence rewrites a 
token
 &gt;stream with a tree grammar, he  excludes semicolons from the 
AST,
 &gt;but in the rewritten token stream, the tokens are still there
 &gt;( I admit that I am not sure if he does some magic to make the
 &gt;semicolons appear..)

I don't have the book, so I can't speak to that.

 &gt;grammar Test;
 &gt;options{output=AST;ASTLabelType=CommonTree;}
 &gt;statement : (expression '!'!)* ;
 &gt;expression : 'foo';
 &gt;
 &gt;tree grammar TestTree;
 &gt;options{tokenVocab=Test;output=template;ASTLabelType=CommonTree;
 &gt;rewrite=true;}
 &gt;statement: expression*;
 &gt;expression : 'foo' -&gt; template(text={&quot;bar&quot;}) &quot;&lt;text&gt;&quot;;
 &gt;
 &gt;Input &quot;foo!foo!foo!&quot; yields the output &quot;bar!bar!bar!&quot;, the '!' 
are
 &gt;still there... Contrary to the previous example.

Ok, I have no explanation for that, if true.  Unless that's 
something caused by the 'rewrite=true' option; I'm not familiar 
with that one.

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027959.html">[antlr-interest] Using tree grammar for second pass to check function signatures
</A></li>
	<LI>Next message: <A HREF="027963.html">[antlr-interest] Template Rewrite Rule consumes one more Token than expected
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27962">[ date ]</a>
              <a href="thread.html#27962">[ thread ]</a>
              <a href="subject.html#27962">[ subject ]</a>
              <a href="author.html#27962">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
