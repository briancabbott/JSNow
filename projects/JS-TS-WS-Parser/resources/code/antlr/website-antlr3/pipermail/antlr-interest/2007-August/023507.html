<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] still dealing with ST
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20still%20dealing%20with%20ST&In-Reply-To=%3Cd76a9c0d0708271629g58557b7fg282c7b33c8c2a476%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023505.html">
   <LINK REL="Next"  HREF="023508.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] still dealing with ST</H1>
    <B>Warner Onstine</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20still%20dealing%20with%20ST&In-Reply-To=%3Cd76a9c0d0708271629g58557b7fg282c7b33c8c2a476%40mail.gmail.com%3E"
       TITLE="[antlr-interest] still dealing with ST">warnero at gmail.com
       </A><BR>
    <I>Mon Aug 27 16:29:38 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023505.html">[antlr-interest] Need advice resolving internal error	from	createLookaheadDFA
</A></li>
        <LI>Next message: <A HREF="023508.html">[antlr-interest] still dealing with ST
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23507">[ date ]</a>
              <a href="thread.html#23507">[ thread ]</a>
              <a href="subject.html#23507">[ subject ]</a>
              <a href="author.html#23507">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok, got around a few of my earlier issues and have started to create
my template and rules for rewriting things, but I'm stuck on (I think)
one of the last assignments. I will attach the grammar, but I want to
highlight the section I'm currently having an issue with.

	
variableAssignment
	:	variableName=(variableDecl|ID) '='
variableValue=(selectStatement|updateStatement|deleteStatement|ID) -&gt;
variable_assignment(var={$variableName.st},
valueToAssign={$variableValue.st})
	;

No matter what I do the Java that is generated has issues here:

            {
                retval.st = templateLib.getInstanceOf(&quot;variable_assignment&quot;,
              new STAttrMap().put(&quot;var&quot;,
variableName.st).put(&quot;valueToAssign&quot;, variableValue.st));

            }

It keeps saying that variableName.st and variableValue.st cannot be
resolved. Further up in the file they are set to:
        Token variableName=null;
        Token variableValue=null;

And I realize that I may doing something completely wrong here, but
what I'm trying to do is to pass off the rendered template (sorry if
the terminology is incorrect just stating it how I see it) to the
calling template function (variable_assignment in this case). the
variable_assignment function (in the STG file) shouldn't have to know
what kind of variable is getting assigned etc. to actually just spit
out the rendered text.

Let me know if you want the generated Java file.

-warner
-- 
Warner Onstine - Programmer/Author
New book on Tapestry 4!
Tapestry 101 available at
<A HREF="http://sourcebeat.com/books/tapestrylive.html">http://sourcebeat.com/books/tapestrylive.html</A>
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">warner at warneronstine.com</A>
<A HREF="http://warneronstine.com/blog">http://warneronstine.com/blog</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Model.g
Type: application/octet-stream
Size: 1852 bytes
Desc: not available
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20070827/b7d1f26d/attachment.obj">http://www.antlr.org/pipermail/antlr-interest/attachments/20070827/b7d1f26d/attachment.obj</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023505.html">[antlr-interest] Need advice resolving internal error	from	createLookaheadDFA
</A></li>
	<LI>Next message: <A HREF="023508.html">[antlr-interest] still dealing with ST
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23507">[ date ]</a>
              <a href="thread.html#23507">[ thread ]</a>
              <a href="subject.html#23507">[ subject ]</a>
              <a href="author.html#23507">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
