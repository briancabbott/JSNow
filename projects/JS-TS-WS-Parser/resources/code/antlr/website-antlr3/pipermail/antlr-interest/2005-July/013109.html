<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Newbie: rule equivalent of a token reference?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Newbie%3A%20rule%20equivalent%20of%20a%20token%20reference%3F&In-Reply-To=OF5A5E18BB.4753FD01-ON80257043.00468579-80257043.0049C8B0%40rag.eu.csc.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013108.html">
   <LINK REL="Next"  HREF="013115.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Newbie: rule equivalent of a token reference?</H1>
    <B>Tarun Khanna</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Newbie%3A%20rule%20equivalent%20of%20a%20token%20reference%3F&In-Reply-To=OF5A5E18BB.4753FD01-ON80257043.00468579-80257043.0049C8B0%40rag.eu.csc.com"
       TITLE="[antlr-interest] Newbie: rule equivalent of a token reference?">tarunkhanna at gmail.com
       </A><BR>
    <I>Tue Jul 19 07:55:14 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013108.html">[antlr-interest] Newbie: rule equivalent of a token reference?
</A></li>
        <LI>Next message: <A HREF="013115.html">[antlr-interest] Problems with using the C++ grammar provided at
	antlr.org.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13109">[ date ]</a>
              <a href="thread.html#13109">[ thread ]</a>
              <a href="subject.html#13109">[ subject ]</a>
              <a href="author.html#13109">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You'll have to return the string from the rule constant.

So your two rules would look something like the following. In the variable 
declaration rule the x would then contain whatever string constant returns.

You should look at the manual that describes this stuff. One of the getting 
started tuts has it. Hoewever they talk abt returning integers.

variable_declaration 
{String x;}
:<i> 
</I>x=constant type ( COMMA constant type )* 
;
constant returns [String x=&quot;&quot;}
:<i> 
</I>i:INDENTIFIER {x=i.getText();}
;
type : .....


On 7/19/05, <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">JConner at ssp-uk.com</A> &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">JConner at ssp-uk.com</A>&gt; wrote:
&gt;<i> 
</I>&gt;<i> Dear all,
</I>&gt;<i> 
</I>&gt;<i> Sorry if this isn't the right place to ask this, and I know that I might 
</I>&gt;<i> be
</I>&gt;<i> trying to run before I can walk, but...
</I>&gt;<i> 
</I>&gt;<i> I'm trying to play around and create a simple translator. Getting the
</I>&gt;<i> &quot;text&quot; of a token seems straight forwards - you label the token reference,
</I>&gt;<i> and call xzy.getText() in an action. However, what do I do if I wrap the
</I>&gt;<i> token reference up in another parser rule? Eg, in:
</I>&gt;<i> 
</I>&gt;<i> variable_declaration : constant type ( COMMA constant type )* ;
</I>&gt;<i> constant : INDENTIFIER ;
</I>&gt;<i> type : .....
</I>&gt;<i> 
</I>&gt;<i> Given that COMMA and IDENTIFIER are lexer rules, how would I get the 
</I>&gt;<i> &quot;text&quot;
</I>&gt;<i> from the rule constant into an action in the rule variable_declaration? Am
</I>&gt;<i> I missing something obvious, or am I trying to go about this in the wrong
</I>&gt;<i> way?
</I>&gt;<i> 
</I>&gt;<i> John
</I>&gt;<i> 
</I>&gt;<i> 
</I>

-- 
Tarun Khanna
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20050719/61fc82f8/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20050719/61fc82f8/attachment.html</A>
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013108.html">[antlr-interest] Newbie: rule equivalent of a token reference?
</A></li>
	<LI>Next message: <A HREF="013115.html">[antlr-interest] Problems with using the C++ grammar provided at
	antlr.org.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13109">[ date ]</a>
              <a href="thread.html#13109">[ thread ]</a>
              <a href="subject.html#13109">[ subject ]</a>
              <a href="author.html#13109">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
