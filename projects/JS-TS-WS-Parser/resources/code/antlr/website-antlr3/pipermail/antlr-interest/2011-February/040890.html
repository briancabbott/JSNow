<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Island grammars: returning information through	tokens?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Island%20grammars%3A%20returning%20information%20through%0A%09tokens%3F&In-Reply-To=%3CE1PsuWo-0000ce-AV%40mouse.home.xrad.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040889.html">
   <LINK REL="Next"  HREF="040891.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Island grammars: returning information through	tokens?</H1>
    <B>Conrad Hughes</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Island%20grammars%3A%20returning%20information%20through%0A%09tokens%3F&In-Reply-To=%3CE1PsuWo-0000ce-AV%40mouse.home.xrad.org%3E"
       TITLE="[antlr-interest] Island grammars: returning information through	tokens?">antlr at xrad.org
       </A><BR>
    <I>Fri Feb 25 02:04:02 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="040889.html">[antlr-interest] ST v4
</A></li>
        <LI>Next message: <A HREF="040891.html">[antlr-interest] C# antlr 3.3.1 and ST: Wallowing in templates,	would like some direction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40890">[ date ]</a>
              <a href="thread.html#40890">[ thread ]</a>
              <a href="subject.html#40890">[ subject ]</a>
              <a href="author.html#40890">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi there,

I've been looking at the island-grammar example, switching between
Simple and Javadoc at the lexer level.  One thing that's not clear to me
from this is how information can be returned to the containing document
from this kind of setup, because it doesn't seem to be possible to
easily attach information to lexer tokens (the island grammar example
treats the island (Javadoc) material as a single JAVADOC token in the
containing (Simple java) document, and I'm not sure how to attach
information discovered in the island grammar to the JAVADOC token).

It's artificial, but let's say I wanted the Simple parser to know the
names of authors contained in the Javadoc.  In the example, all
information is simply println()'ed, never communicated upwards.

I've tried a number of different ways of doing this, several have turned
out to be wrong-headed:

  - 'returns' from a JAVADOC token: looks as if tokens could have return
    values at one stage in ANTLR's development, but not any more.
  - Scoped variables: don't seem to work between the lexer and the
    parser, or maybe I didn't try hard enough?  I can see it making
    sense that they don't work in this context though.
  - Subclass CommonToken and use TokenLabelType to allow JAVADOC tokens
    to contain additional information, then add this information to the
    JAVADOC token as I complete the Javadoc parse.
  - Patch my lexer to emit multiple tokens, adding a fake &quot;AUTHOR&quot; token
    derived from the Javadoc parse at the same time that it explicitly
    emits the JAVADOC token.

I have the last method working, but is there a better way to do this?

Conrad
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040889.html">[antlr-interest] ST v4
</A></li>
	<LI>Next message: <A HREF="040891.html">[antlr-interest] C# antlr 3.3.1 and ST: Wallowing in templates,	would like some direction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40890">[ date ]</a>
              <a href="thread.html#40890">[ thread ]</a>
              <a href="subject.html#40890">[ subject ]</a>
              <a href="author.html#40890">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
