<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Getting correct line information
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Getting%20correct%20line%20information&In-Reply-To=170826586F3BD511910D0200C110AAA801C58221%40memail03.bco-home.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000635.html">
   <LINK REL="Next"  HREF="000637.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Getting correct line information</H1>
    <B>braden_mcdaniel</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Getting%20correct%20line%20information&In-Reply-To=170826586F3BD511910D0200C110AAA801C58221%40memail03.bco-home.com"
       TITLE="[antlr-interest] Re: Getting correct line information">braden at endoframe.com
       </A><BR>
    <I>Wed Feb 13 08:42:13 PST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000635.html">[antlr-interest] Getting correct line information
</A></li>
        <LI>Next message: <A HREF="000637.html">[antlr-interest] Re: Getting correct line information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#636">[ date ]</a>
              <a href="thread.html#636">[ thread ]</a>
              <a href="subject.html#636">[ subject ]</a>
              <a href="author.html#636">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at y...</A>, <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">mzukowski at b...</A> wrote:
&gt;<i> Sounds like you need to tweak your scanner so that when it creates
</I>&gt;<i> Tokens it fills in the line info properly.
</I>
Actually, I am doing that. I instantiate a CommonToken and call
setLine on it. I have used CommonToken::getLine inside the scanner to
confirm that the value in the Token is correct. This value doesn't
appear to have any effect on the line number returned in parser error
messages.

&gt;<i> If you use an ANTLR scanner then you simply need to call newline()
</I>&gt;<i> whenever you want to increment the line count.
</I>
Meaning I could derive from CharScanner and just override nextToken as
I do now, but call newline instead of (in addition to?) setting
this information directly on the Token?

The source code for my scanner is included inline in my ANTLR grammar,
which an be viewed here:

&lt;<A HREF="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/openvrml/openvrml-core/src/OpenVRML/Vrml97Parser.g?rev=1.25&amp;content-type=text/vnd.viewcvs-markup">http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/openvrml/openvrml-core/src/OpenVRML/Vrml97Parser.g?rev=1.25&amp;content-type=text/vnd.viewcvs-markup</A>&gt;

Thanks...

Braden


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000635.html">[antlr-interest] Getting correct line information
</A></li>
	<LI>Next message: <A HREF="000637.html">[antlr-interest] Re: Getting correct line information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#636">[ date ]</a>
              <a href="thread.html#636">[ thread ]</a>
              <a href="subject.html#636">[ subject ]</a>
              <a href="author.html#636">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
