<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Noob TreeWalker Template question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Noob%20TreeWalker%20Template%20question&In-Reply-To=%3COF3FA47429.56C789F3-ON80257421.00484EA5-80257421.004A71E7%40decaresystems.ie%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027672.html">
   <LINK REL="Next"  HREF="027629.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Noob TreeWalker Template question</H1>
    <B>PSheehan at decaresystems.ie</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Noob%20TreeWalker%20Template%20question&In-Reply-To=%3COF3FA47429.56C789F3-ON80257421.00484EA5-80257421.004A71E7%40decaresystems.ie%3E"
       TITLE="[antlr-interest] Noob TreeWalker Template question">PSheehan at decaresystems.ie
       </A><BR>
    <I>Fri Apr  4 06:33:07 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027672.html">[antlr-interest] Bug with number of Tokens in lexers? (was: XML	QName Character Validation)
</A></li>
        <LI>Next message: <A HREF="027629.html">[antlr-interest] Noob TreeWalker Template question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27623">[ date ]</a>
              <a href="thread.html#27623">[ thread ]</a>
              <a href="subject.html#27623">[ subject ]</a>
              <a href="author.html#27623">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
I'm completely new to Antlr with no previous complier/parser experience. 
I'm create a simple lexer/parser and treewalker to help me understand the 
ins and outs of Antlr.  I also have the Antlr reference book, which I 
would be completely lost without!

I'm having a simple problem when trying to process a rule that does not 
have a template associated with it.  When I run my example I get an 
ArrayList of nulls for 'fields'.

options{
       tokenVocab=mytest;
        ASTLabelType=CommonTree;
        output=template;
}

model   :       ^(MODEL TYPE fs+=fielddef+) -&gt; 
modeltmp(name={$TYPE},fields={$fs})
        ;

fielddef returns [String type,String id] 
        :       ^(FIELD TYPE ID) {$type=$TYPE.text;$id=$ID.text;}
        ;


When I look at the generate code it is like this

                    fs=fielddef();
                    _fsp--;

                    if (list_fs==null) list_fs=new ArrayList();
                    list_fs.add(fs.getTemplate());

Sorry if this is a simple question but is there a way I can modify the 
grammar so that I end up with an ArrayList of return_fielddef like so:-

                    fs=fielddef();
                    _fsp--;

                    if (list_fs==null) list_fs=new ArrayList();
                    list_fs.add(fs);

Or do have I have to use scopes in my grammar to deal with this problem. 
Thanks,
Paul


This e-mail and any files transmitted with it are intended solely for the individual or entity to whom they are addressed. This communication may contain material that is privileged, confidential and protected from disclosure under the law. If you are not the intended recipient, any disclosure, distribution, copying, or use of this information is strictly prohibited and may be unlawful. 

If you have received this e-mail in error, please reply immediately to the sender and delete it.

Registered Address:
DeCare Systems Ireland Ltd, 
Building 1, University Technology Centre, Curraheen Road, Cork, Ireland. 
Company Registration Number:  278462
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080404/1bc16cb7/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080404/1bc16cb7/attachment.html</A> 
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027672.html">[antlr-interest] Bug with number of Tokens in lexers? (was: XML	QName Character Validation)
</A></li>
	<LI>Next message: <A HREF="027629.html">[antlr-interest] Noob TreeWalker Template question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27623">[ date ]</a>
              <a href="thread.html#27623">[ thread ]</a>
              <a href="subject.html#27623">[ subject ]</a>
              <a href="author.html#27623">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
