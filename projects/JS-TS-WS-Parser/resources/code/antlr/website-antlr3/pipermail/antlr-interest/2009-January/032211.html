<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest]  Could the parser and lexer be reused?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%20Could%20the%20parser%20and%20lexer%20be%20reused%3F&In-Reply-To=%3C5a92ffb60901041957u6996bb2mcd107ebfe1552b18%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032209.html">
   <LINK REL="Next"  HREF="032212.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest]  Could the parser and lexer be reused?</H1>
    <B>chain one</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%20Could%20the%20parser%20and%20lexer%20be%20reused%3F&In-Reply-To=%3C5a92ffb60901041957u6996bb2mcd107ebfe1552b18%40mail.gmail.com%3E"
       TITLE="[antlr-interest]  Could the parser and lexer be reused?">chainone at gmail.com
       </A><BR>
    <I>Sun Jan  4 19:57:41 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032209.html">[antlr-interest] Compiling source code generated by the C	runtime
</A></li>
        <LI>Next message: <A HREF="032212.html">[antlr-interest] Could the parser and lexer be reused?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32211">[ date ]</a>
              <a href="thread.html#32211">[ thread ]</a>
              <a href="subject.html#32211">[ subject ]</a>
              <a href="author.html#32211">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There are many pieces of  inputs , all of which should be parsed by one
parser.Such as :
Input 1:
     Jack 100$
Input 2:
    Tom   200$
Input ......

However, this kind of inputs doesn't come all in one time. They arrive at
different time. Once one input arrives, it needs to be parsed immediately.
So the next piece of pseudo code shows how it is processed by my way:

void ParseOneInput(const char* data)
{
   input  =
antlr3NewAsciiStringInPlaceStream((pANTLR3_UINT8) data,strlen(data),NULL);
   lex    = StepDataEntryLexerNew(m_input);
   tokens = antlr3CommonTokenStreamSourceNew(ANTLR3_SIZE_HINT,
TOKENSOURCE(lex));
   parser = DataEntryParserNew               (tokens);
    parser  -&gt;entry(parser,1);
    parser -&gt;free(parser);
    tokens -&gt;free(tokens);
    lex    -&gt;free(lex);
    input  -&gt;close(input);
}

Once one input arrives, Function ParseOneInput is called.

It works fine.

The question is , could the parser and lexer in ParseOneInput be reused?
If they could be reused, then it is unnecessary to create/destroy a lexer
and a parser every time an input arrives. If not, I believe it
is inefficient.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090105/b47deb03/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090105/b47deb03/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032209.html">[antlr-interest] Compiling source code generated by the C	runtime
</A></li>
	<LI>Next message: <A HREF="032212.html">[antlr-interest] Could the parser and lexer be reused?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32211">[ date ]</a>
              <a href="thread.html#32211">[ thread ]</a>
              <a href="subject.html#32211">[ subject ]</a>
              <a href="author.html#32211">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
