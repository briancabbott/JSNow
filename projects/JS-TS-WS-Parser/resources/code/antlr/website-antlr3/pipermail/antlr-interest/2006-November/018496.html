<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Using ANTLR on MSV .NET 2k3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Using%20ANTLR%20on%20MSV%20.NET%202k3&In-Reply-To=20061122072256.82907.qmail%40web56112.mail.re3.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018494.html">
   <LINK REL="Next"  HREF="018495.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Using ANTLR on MSV .NET 2k3</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Using%20ANTLR%20on%20MSV%20.NET%202k3&In-Reply-To=20061122072256.82907.qmail%40web56112.mail.re3.yahoo.com"
       TITLE="[antlr-interest] Using ANTLR on MSV .NET 2k3">ric.klaren at gmail.com
       </A><BR>
    <I>Wed Nov 22 01:11:19 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018494.html">[antlr-interest] Using ANTLR on MSV .NET 2k3
</A></li>
        <LI>Next message: <A HREF="018495.html">[antlr-interest] v3: definition of fragment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18496">[ date ]</a>
              <a href="thread.html#18496">[ thread ]</a>
              <a href="subject.html#18496">[ subject ]</a>
              <a href="author.html#18496">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On 11/22/06, Randolph Tan &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ren_c_tan at yahoo.com</A>&gt; wrote:
&gt;<i> Then, I added all .cpp and .hpp files under antlr-2.7.6\lib\cpp\antlr and
</I>&gt;<i> antlr-2.7.6\lib\cpp\src to the project.
</I>
The simplest to get to work is the static library version. Be sure to
exclude dll.cpp from the project then. (Not sure if it will be a
problem when not building a DLL, I'm no MSVC expert)

&gt;<i> I modified the sample grammar of the &quot;cut and paste&quot; tutorial from the ANTLR
</I>&gt;<i> getting started to output C++. I also created a main function (translated
</I>&gt;<i> Java example to C++).
</I>&gt;<i>
</I>&gt;<i> As I try to build the project, I got these errors:
</I>&gt;<i> fatal error C1010: unexpected end of file while looking for precompiled
</I>&gt;<i> header directive L.cpp
</I>
No clue about these. Probably MSVC needs some new syntactic sugar for
precompiled headers.

&gt;<i> I don't really understood what that meant but after I set both all cpp files
</I>&gt;<i> to &quot;not using precomiled headers&quot;, the project was able to compile
</I>&gt;<i> succesfully.
</I>
Good.

&gt;<i> Then the build failed at linking with 20 errors and 19 warnings.
</I>&gt;<i> One sample error (all of the errors are similar, just different symbols or
</I>&gt;<i> different object files):
</I>&gt;<i> CharScanner.obj : error LNK2005: &quot;private: static int const
</I>&gt;<i> antlr::CharScanner::NO_CHAR&quot; (?<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">NO_CHAR at CharScanner</A>@antlr@@0HB) already
</I>&gt;<i> defined in ANTLR test.obj
</I>
Or some objects are included twice or maybe you're using different
compile settings for the library and the project linking to it? Does
it work if you just make one big project with the antlr files and the
files from the sample?

I'm not sure which MSVC version you're exactly using if it's newer
then version 7.1 it may need some tweaking in the config.hpp. Looking
at the error you might have to tinker with the define that tells how
constants should be declared.

&gt;<i> Btw, if there is a link to a tutorial using ANTLR on MVS .NET. Please tell
</I>&gt;<i> me! Thanks!
</I>
There have been some posts in the past to the mailing list. But these
have been mostly merged into the readme of the runtime (in lib/cpp)
When I get some time, or when someone else feels like it, it would be
nice to add a wiki page on it.

&gt;<i> PS. I am just curious, why does everybody want to build ANTLR into a
</I>&gt;<i> library? If it can be built, why doesn't antler.org add it in its downloads
</I>&gt;<i> section?
</I>
It seems Wolfgang didn't have time to make nice release packages for
the last version at least he did for 2.7.6 (or was it 2.7.5?).
Although with the C++ version one often has to recompile anyway for
specific compiler settings etc. Myself I never figured out how to make
a complete package with everything in it for windows. So usually if no
one contributes binaries they won't get made.

Cheers,

Ric
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018494.html">[antlr-interest] Using ANTLR on MSV .NET 2k3
</A></li>
	<LI>Next message: <A HREF="018495.html">[antlr-interest] v3: definition of fragment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18496">[ date ]</a>
              <a href="thread.html#18496">[ thread ]</a>
              <a href="subject.html#18496">[ subject ]</a>
              <a href="author.html#18496">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
