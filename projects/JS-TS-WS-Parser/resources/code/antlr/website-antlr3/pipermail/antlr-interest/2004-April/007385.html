<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] OutOfMemory: impossible to process java comments only?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20OutOfMemory%3A%20impossible%20to%20process%20java%20comments%20only%3F&In-Reply-To=200404131515.00503.saintiss%40arklinux.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007375.html">
   <LINK REL="Next"  HREF="007380.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] OutOfMemory: impossible to process java comments only?</H1>
    <B>SainTiss</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20OutOfMemory%3A%20impossible%20to%20process%20java%20comments%20only%3F&In-Reply-To=200404131515.00503.saintiss%40arklinux.org"
       TITLE="[antlr-interest] OutOfMemory: impossible to process java comments only?">saintiss at arklinux.org
       </A><BR>
    <I>Wed Apr 14 05:22:38 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007375.html">[antlr-interest] OutOfMemory: impossible to process java comments only?
</A></li>
        <LI>Next message: <A HREF="007380.html">[antlr-interest] Parser and infinite recursion... ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7385">[ date ]</a>
              <a href="thread.html#7385">[ thread ]</a>
              <a href="subject.html#7385">[ subject ]</a>
              <a href="author.html#7385">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi again,

It seems the problem can be circumvented by appending &quot;\n;&quot; to any input I 
give to the parser. This makes sense, since in that case there always is at 
least one statement, being the empty statement...

So at least it seems the problem is effectively related to the parser not 
seeing any tokens (because whitespace and comments are probably just 
discarded by the lexer?). Is it possible that this leads to the apparent 
infinite loops I'm experiencing?

Thanks,

Hans

On Tuesday 13 April 2004 15:14, SainTiss wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I've got a serious problem here. I've got this rule in the Java grammar,
</I>&gt;<i> which allows parsing of a number of java statements:
</I>&gt;<i>
</I>&gt;<i> statementSequenceOnly
</I>&gt;<i>
</I>&gt;<i> 	(
</I>&gt;<i> 		statement
</I>&gt;<i> 	)*
</I>&gt;<i> 	EOF!
</I>&gt;<i> ;
</I>&gt;<i>
</I>&gt;<i> This works fine, in general... However, when I feed the parser some input
</I>&gt;<i> which just consists of a comment (so there are zero statements), I get an
</I>&gt;<i> OutOfMemory error. I pinpointed the problem to the following statement in
</I>&gt;<i> the generated code:
</I>&gt;<i> if ((_tokenSet_0.member(LA(1)))) {
</I>&gt;<i>
</I>&gt;<i> More specifically, it seems there is an endless loop on LA(1).
</I>&gt;<i>
</I>&gt;<i> I tried creating a rule with just EOF!, but I got the same problem. This
</I>&gt;<i> time, there seemed to be an endless loop on
</I>&gt;<i> match(Token.EOF_TYPE);
</I>&gt;<i>
</I>&gt;<i> Am I doing something wrong here?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Hans
</I>
- -- 
Ark Linux - Linux for the Masses (<A HREF="http://arklinux.org">http://arklinux.org</A>)

Capitalism: 
You don't have any cows. The bank will not lend you money to buy cows, 
because you don't have any cows to put up as collateral.

Representative Democracy:
You have two cows. Your neighbors pick someone to tell you who gets the milk. 

In a world without walls and fences, who needs windows and gates?

Hans Schippers
2LIC INF
UA 2003-2004
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.3 (GNU/Linux)

iD8DBQFAfS0RXlnUYIbmLOQRAoYwAKCC3XBMc/9gkeYFPiFA/rwMpnlh0QCeNn+W
NlgLEV2cJFg6uAfpOehqomU=
=Hs1n
-----END PGP SIGNATURE-----



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007375.html">[antlr-interest] OutOfMemory: impossible to process java comments only?
</A></li>
	<LI>Next message: <A HREF="007380.html">[antlr-interest] Parser and infinite recursion... ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7385">[ date ]</a>
              <a href="thread.html#7385">[ thread ]</a>
              <a href="subject.html#7385">[ subject ]</a>
              <a href="author.html#7385">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
