<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Parsing with inverse matches
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Parsing%20with%20inverse%20matches&In-Reply-To=%3C3cac8fdf0911221439x74bd8d37s711b348ced378a71%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036796.html">
   <LINK REL="Next"  HREF="036798.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Parsing with inverse matches</H1>
    <B>Kirby Bohling</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Parsing%20with%20inverse%20matches&In-Reply-To=%3C3cac8fdf0911221439x74bd8d37s711b348ced378a71%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Parsing with inverse matches">kirby.bohling at gmail.com
       </A><BR>
    <I>Sun Nov 22 14:39:43 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="036796.html">[antlr-interest] Parsing with inverse matches
</A></li>
        <LI>Next message: <A HREF="036798.html">[antlr-interest] Parsing with inverse matches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36797">[ date ]</a>
              <a href="thread.html#36797">[ thread ]</a>
              <a href="subject.html#36797">[ subject ]</a>
              <a href="author.html#36797">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Nov 22, 2009 at 4:20 PM, Vipul Delwadia
&lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">vipul.delwadia at gmail.com</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> Suppose I have a very simple grammar:
</I>&gt;<i>
</I>&gt;<i> line: &#160; x;
</I>&gt;<i>
</I>&gt;<i> x &#160; &#160; &#160; : &#160; &#160; &#160; STRING+;
</I>&gt;<i>
</I>&gt;<i> fragment BACKSLASH
</I>&gt;<i> &#160; &#160; &#160; &#160;: &#160; &#160; &#160; '\\';
</I>&gt;<i>
</I>&gt;<i> NOTA: &#160; BACKSLASH A;
</I>&gt;<i>
</I>&gt;<i> A &#160; &#160; &#160; : &#160; &#160; &#160; 'a';
</I>&gt;<i>
</I>&gt;<i> STRING
</I>&gt;<i> &#160; &#160; &#160; &#160;: &#160; &#160; &#160; (~(A)|NOTA)+;
</I>&gt;<i>
</I>&gt;<i> Now I want x to be able to match any sequence which doesn't have &quot;a&quot;
</I>&gt;<i> in it, including sequences which have &quot;\a&quot;. This works for the most
</I>&gt;<i> part except when I try and match just &quot;\a&quot;, at which point I get a
</I>&gt;<i> MismatchTokenException (or sometimes a NoViableAltException). However,
</I>&gt;<i> in the ANTLRWorks IDE if I parse it using the interpreter starting
</I>&gt;<i> from the STRING rule, it seems to match it just fine.
</I>&gt;<i>
</I>&gt;<i> Any ideas?
</I>
If I understand it correctly, the '\' is matched by the ~(A) portion
of the rule, and then it is incapable of matching the 'a' character.
I'm not sure what the best way to handle that is.  You can use
semantic or syntactic predicates to resolve these issues.  There are
subtle issues that I don't fully understand in the difference between
those.  I'd review the list posts to see what they discuss.

I think something like this:

((NOTA) =&gt; (NOTA)|~A)+

Would work, but I haven't actually tried it.

Kirby


&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Vipul
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I></PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036796.html">[antlr-interest] Parsing with inverse matches
</A></li>
	<LI>Next message: <A HREF="036798.html">[antlr-interest] Parsing with inverse matches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36797">[ date ]</a>
              <a href="thread.html#36797">[ thread ]</a>
              <a href="subject.html#36797">[ subject ]</a>
              <a href="author.html#36797">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
