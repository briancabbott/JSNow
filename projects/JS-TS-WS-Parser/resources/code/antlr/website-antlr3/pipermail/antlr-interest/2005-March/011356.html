<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Semantic predicates that aren't &amp; hoisting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Semantic%20predicates%20that%20aren%27t%20%26%20hoisting&In-Reply-To=3327.172.23.0.3.1110470235.squirrel%40callisto.ornl.gov">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011350.html">
   <LINK REL="Next"  HREF="011351.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Semantic predicates that aren't &amp; hoisting</H1>
    <B>Monty Zukowski</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Semantic%20predicates%20that%20aren%27t%20%26%20hoisting&In-Reply-To=3327.172.23.0.3.1110470235.squirrel%40callisto.ornl.gov"
       TITLE="[antlr-interest] Semantic predicates that aren't &amp; hoisting">monty at codetransform.com
       </A><BR>
    <I>Thu Mar 10 07:45:09 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011350.html">[antlr-interest] Semantic predicates that aren't &amp; hoisting
</A></li>
        <LI>Next message: <A HREF="011351.html">[antlr-interest] Semantic predicates that aren't &amp; hoisting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11356">[ date ]</a>
              <a href="thread.html#11356">[ thread ]</a>
              <a href="subject.html#11356">[ subject ]</a>
              <a href="author.html#11356">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David Jung wrote:

&gt;<i> 
</I>&gt;<i> void conditionallyInsertSEMI()
</I>&gt;<i> {
</I>&gt;<i>   if (&lt;last token wasn't '}'&gt;)
</I>&gt;<i>     Insert_SEMI_into_token_stream();
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> However, I don't know how (or if) it is possible to insert
</I>&gt;<i> a token into the stream during parsing like that.
</I>&gt;<i> 
</I>
Not such a good idea from the parser, but a fine use of a TokenStream. 
See <A HREF="http://www.codetransform.com/filterexample.html">http://www.codetransform.com/filterexample.html</A>
The idea for you would be to write enough of a parser to recognize the 
right brace, check for a following semi, and insert a semi if there 
isn't one.  The big question is if you can make your parser accept a 
SEMI after every right brace or if you need to make the filter smart 
enough to tell when the brace is part of an expr or not.

Actually, if you can rearrange it so that the parser can handle a semi 
after a brace everywhere, you might be able to accomplish the whole 
thing in the lexer.

&gt;<i> 
</I>&gt;<i> Does anyone who is an experienced ANTLR user know if it is
</I>&gt;<i> possible to do what I want cleanly? Or if there is a way
</I>&gt;<i> to force hoisting or to insert a token?
</I>
You can't hoist, you have to manually do it by copy and paste.  It still 
may leave you with warnings though.  Don't insert a token from the 
parser, you must do that before it gets to the parser somehow.

Ter, this would make an interesting test for ANTLR 3.

Monty
www.codetransform.com
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011350.html">[antlr-interest] Semantic predicates that aren't &amp; hoisting
</A></li>
	<LI>Next message: <A HREF="011351.html">[antlr-interest] Semantic predicates that aren't &amp; hoisting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11356">[ date ]</a>
              <a href="thread.html#11356">[ thread ]</a>
              <a href="subject.html#11356">[ subject ]</a>
              <a href="author.html#11356">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
