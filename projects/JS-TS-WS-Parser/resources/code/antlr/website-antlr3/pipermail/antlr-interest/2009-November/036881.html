<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Customizing Error Recovery
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Customizing%20Error%20Recovery&In-Reply-To=%3C5d5684dc2246084b9eebce5785e9ea39%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036880.html">
   <LINK REL="Next"  HREF="036884.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Customizing Error Recovery</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Customizing%20Error%20Recovery&In-Reply-To=%3C5d5684dc2246084b9eebce5785e9ea39%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Customizing Error Recovery">jimi at temporal-wave.com
       </A><BR>
    <I>Mon Nov 30 18:38:01 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="036880.html">[antlr-interest] Customizing Error Recovery
</A></li>
        <LI>Next message: <A HREF="036884.html">[antlr-interest] Customizing Error Recovery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36881">[ date ]</a>
              <a href="thread.html#36881">[ thread ]</a>
              <a href="subject.html#36881">[ subject ]</a>
              <a href="author.html#36881">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The function has been renamed already, I will double check. The parameter should go as you say, this was taken from the JavaFX compiler.

Err, the point of consuming the tokens is to suppress spurious errors so you can sync back to a decent restart point. Any syntax error in the previous subrule will be caught and displayed because the exception will throw in that rule and you will be back in the class rule, where you want to resync to a good point so you don't drop out of the loop.

Now, if you want to be more clever, then you can see if there were any errors in the previous rule, then if there are spurious tokens after the class member then you can show an error about them. The point is not the actual recovery mechanism you employ, but how to get NATLR to let you do such a thing of course. I will add something to this effect to the article tomorrow.

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of David-Sarah Hopwood
</I>&gt;<i> Sent: Monday, November 30, 2009 6:23 PM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: Re: [antlr-interest] Customizing Error Recovery
</I>&gt;<i> 
</I>&gt;<i> Jim Idle wrote:
</I>&gt;<i> &gt; As this subject comes up fairly often, I thought I would write an
</I>&gt;<i> &gt; article showing some of the ways you can influence, hijack, or
</I>&gt;<i> &gt; otherwise coerce the error recovery mechanisms within your parser.
</I>&gt;<i> You
</I>&gt;<i> &gt; can find the article here:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/wiki/display/ANTLR3/Custom+Syntax+Error+Recovery">http://www.antlr.org/wiki/display/ANTLR3/Custom+Syntax+Error+Recovery</A>
</I>&gt;<i> 
</I>&gt;<i> The '[ListBuffer&lt;JFXTree&gt; mems]' argument to syncClass should be
</I>&gt;<i> removed.
</I>&gt;<i> 
</I>&gt;<i> 'protected void syncToSet(BitSet follow)' should be called
</I>&gt;<i> 'syncToGoodToken' if it's to be consistent with the call in
</I>&gt;<i> 'syncToSet()'.
</I>&gt;<i> 
</I>&gt;<i> A more serious problem is that this code seems to be suppressing
</I>&gt;<i> errors, as opposed to recovering from them. That is, syncToSet will
</I>&gt;<i> just discard invalid tokens, rather than reporting that an invalid
</I>&gt;<i> token was found before syncing to the next good token.
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> David-Sarah Hopwood  &#9893;  <A HREF="http://davidsarah.livejournal.com">http://davidsarah.livejournal.com</A>
</I>



</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036880.html">[antlr-interest] Customizing Error Recovery
</A></li>
	<LI>Next message: <A HREF="036884.html">[antlr-interest] Customizing Error Recovery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36881">[ date ]</a>
              <a href="thread.html#36881">[ thread ]</a>
              <a href="subject.html#36881">[ subject ]</a>
              <a href="author.html#36881">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
