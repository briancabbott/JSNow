<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer speed comparison
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Lexer%20speed%20comparison&In-Reply-To=00e401c3fc98%245ec05f40%245c86763e%40home">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006591.html">
   <LINK REL="Next"  HREF="006595.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer speed comparison</H1>
    <B>Ruslan Zasukhin</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Lexer%20speed%20comparison&In-Reply-To=00e401c3fc98%245ec05f40%245c86763e%40home"
       TITLE="[antlr-interest] Lexer speed comparison">sunshine at public.kherson.ua
       </A><BR>
    <I>Thu Feb 26 11:04:01 PST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="006591.html">[antlr-interest] Lexer speed comparison
</A></li>
        <LI>Next message: <A HREF="006595.html">[antlr-interest] Lexer speed comparison
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6593">[ date ]</a>
              <a href="thread.html#6593">[ thread ]</a>
              <a href="subject.html#6593">[ subject ]</a>
              <a href="author.html#6593">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>on 2/26/04 8:38 PM, Alex Sedow at <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">alexsedow at mail.ru</A> wrote:

&gt;<i> Comparison with hand-written code.
</I>&gt;<i> I test two parsers for rc-files:
</I>&gt;<i> 
</I>&gt;<i> 1. Antlr/C++-based (lexer+parser).
</I>&gt;<i> 2. Hand-written (C++) (lexer+parser+tree generator).
</I>&gt;<i> 
</I>&gt;<i> Results:
</I>&gt;<i> 
</I>&gt;<i> Antlr/C++-based - 0,85 Mb/s.
</I>&gt;<i> Hand-written (C++) - 11,4 Mb/s. (second run pure lexer speed is about 70
</I>&gt;<i> Mb/s).
</I>&gt;<i> 
</I>&gt;<i> Antlr-generated code cannot used directly in real commercial projects
</I>&gt;<i> because it too slow. Antlr maybe used only for debug and research grammars.
</I>
Mda.... Bad news.

I did not expect so huge difference.

Alex, it seems speed of ANTLR bother only you an me,
I.e. People from Russia and Ukraine :-)

I also during last 2 years have raise SPEED issue many times on this list.
Usually people answer -- we more care about correctness than of speed.

I answer, but what problems to have and CORRECT and SUPER-FAST parser
:<i>-))
</I>
Alex, seriously, 

As you know Rick is going to start development of new C++
engine for ANTLR 3.0

You can take BIG PART in this process.
Unfortunalty I cannot help too much.
I am no expert on parsers, and busy on other tasks.

What I can do -- we have grow here SQL92 grammar for Valentina db,
And in nearest months we will grow system of regression benchmarks for it.
This will be of course used with profiler. So we can do profiling and
reporting what is not good.


&gt;<i> Antlr/C++ 2.x has some handbrakes:
</I>&gt;<i> 1. Lexer generator that produce slow code. What about re2c?
</I>&gt;<i> 2. try/catch blocks in parser-generated code. What about return bool?
</I>
As I know, exceptions are used for complex features of ANTLR,
That with bool result will be very complex for coding.

&gt;<i> 3. Antlr not use special fast strings, std::string not so fast.
</I>
STD people say it is.

&gt;<i> 4. Antlr not use allocators (allocators may speed up whole parser speed
</I>&gt;<i> about 3-4 times).
</I>
Yes, this can be fact.

Just go ahead and show to ANTLR developers how this can be done.

&gt;<i> 5. Antlr pointers use two pointers scheme
</I>&gt;<i> &quot;pointer-&gt;pointer_with_counter-&gt;object&quot;, scheme
</I>&gt;<i> &quot;pointer-&gt;object_with_counter&quot; is faster.
</I>
Right, intrusive pointers are faster.

Or if to use conception of interfaces -- I_Unknown + smart_ptr
Is great tool


-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ruslan at paradigmasoft.com</A>
web: <A HREF="http://www.paradigmasoft.com">http://www.paradigmasoft.com</A>

To subscribe to the Valentina mail list go to:
<A HREF="http://lists.macserve.net/mailman/listinfo/valentina">http://lists.macserve.net/mailman/listinfo/valentina</A>
-------------------------------------------------------------



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006591.html">[antlr-interest] Lexer speed comparison
</A></li>
	<LI>Next message: <A HREF="006595.html">[antlr-interest] Lexer speed comparison
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6593">[ date ]</a>
              <a href="thread.html#6593">[ thread ]</a>
              <a href="subject.html#6593">[ subject ]</a>
              <a href="author.html#6593">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
