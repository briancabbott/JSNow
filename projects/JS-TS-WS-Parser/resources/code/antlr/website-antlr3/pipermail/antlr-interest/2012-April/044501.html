<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] gUnit for v4?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20gUnit%20for%20v4%3F&In-Reply-To=%3CAF8F76D4-5867-4387-9A00-9AB0201A1D6B%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044490.html">
   <LINK REL="Next"  HREF="044441.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] gUnit for v4?</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20gUnit%20for%20v4%3F&In-Reply-To=%3CAF8F76D4-5867-4387-9A00-9AB0201A1D6B%40cs.usfca.edu%3E"
       TITLE="[antlr-interest] gUnit for v4?">parrt at cs.usfca.edu
       </A><BR>
    <I>Fri Apr 20 17:45:22 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044490.html">[antlr-interest] gUnit for v4?
</A></li>
        <LI>Next message: <A HREF="044441.html">[antlr-interest] problem with tree parsing -&gt; don't get a tree walker to work correctly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44501">[ date ]</a>
              <a href="thread.html#44501">[ thread ]</a>
              <a href="subject.html#44501">[ subject ]</a>
              <a href="author.html#44501">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Apr 19, 2012, at 5:06 PM, Kieran Simpson wrote:

&gt;<i> On 20/04/12 3:11 AM, Terence Parr wrote:
</I>&gt;&gt;<i> Hi Kieran,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> thanks very much for the feedback. What exactly were you testing when you say parts of your grammar and in different combinations? Were you testing the ASTs you created? It was very useful for that. Since v4 automatically builds trees, those trees will be correct unless there's a bug so there's nothing really to test as far as I can tell.
</I>&gt;&gt;<i> Ter
</I>&gt;<i> 
</I>&gt;<i> Ter and list,
</I>&gt;<i>  I must admit I haven't been watching the development of v4 that closely so perhaps there's something I'm not understanding about AST construction/rewrite rules.
</I>&gt;<i> 
</I>&gt;<i> An example from my current project is that you can define an entity inside a namespace.  However there is the ability to define the namespace as part of the entity def (it can make the input more readable).
</I>&gt;<i> 
</I>&gt;<i> eg: namespace(namespaceId)  { entity(entityId) ... }
</I>&gt;<i> 
</I>&gt;<i> eg: entity(namespaceId:entityId) ....
</I>&gt;<i> 
</I>&gt;<i> Conceptually the result is the same, a namespace tree with the entity as a subtree.  Using gUnit I've been able to write tests quickly! that test whether input combinations not only match, but build the correct AST structure.
</I>
Since ANTLR would be constructing trees, you are only testing validity of sentences.  Seems like we can make a simple function

assertEquals(&quot;rulename&quot;, &quot;entity(namespaceId:entityId) &#8230;&quot;, &quot;tree for that entity&quot;);

&gt;<i> Coupled with Token testing, and more complicated parser rules I've found gUnit valuable to my TDD process as I can come up with a bunch of input and refactor my grammar as I go.  Given my target AST walker language is C, in my C++ tests (the rest of my app is in C++) I can focus on semantic issues.  The separation of concerns testing wise is also nicer as I can isolate syntactic issues from semantic problems.
</I>
Hmm&#8230;yeah, i still think a function/macro could work here.

Ter
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044490.html">[antlr-interest] gUnit for v4?
</A></li>
	<LI>Next message: <A HREF="044441.html">[antlr-interest] problem with tree parsing -&gt; don't get a tree walker to work correctly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44501">[ date ]</a>
              <a href="thread.html#44501">[ thread ]</a>
              <a href="subject.html#44501">[ subject ]</a>
              <a href="author.html#44501">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
