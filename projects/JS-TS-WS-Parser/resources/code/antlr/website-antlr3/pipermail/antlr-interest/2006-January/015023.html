<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] TokenStreamRewriteEngine + java profiling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20TokenStreamRewriteEngine%20%2B%20java%20profiling&In-Reply-To=20060109124939.2646.qmail%40web32015.mail.mud.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015021.html">
   <LINK REL="Next"  HREF="015024.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] TokenStreamRewriteEngine + java profiling</H1>
    <B>Edward O'Flynn</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20TokenStreamRewriteEngine%20%2B%20java%20profiling&In-Reply-To=20060109124939.2646.qmail%40web32015.mail.mud.yahoo.com"
       TITLE="[antlr-interest] TokenStreamRewriteEngine + java profiling">esof1 at student.cs.ucc.ie
       </A><BR>
    <I>Tue Jan 10 03:51:12 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="015021.html">[antlr-interest] TokenStreamRewriteEngine
</A></li>
        <LI>Next message: <A HREF="015024.html">[antlr-interest] TokenStreamRewriteEngine + java profiling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15023">[ date ]</a>
              <a href="thread.html#15023">[ thread ]</a>
              <a href="subject.html#15023">[ subject ]</a>
              <a href="author.html#15023">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all

I am using the TokenStreamRewriteEngine to build a java profiling tool, 
that will
count primitive operations, e.g. assignment opertations, comparative 
ops, aritmetic ops.
The way I want to rewrite the code is as follows
e.g.

for(int i=0+counter.incAssign();i&lt;3+counter.incCompar() &amp;&amp; 
i&gt;-1+counter.incCompar(), i++)
{//code
}

where counter.incCompar() returns 0

The way i am writing this is as follows

forCond
    :    (expression)?
        {#forCond = #(#[FOR_CONDITION,&quot;FOR_CONDITION&quot;],#forCond);}
        {String insertion=&quot;counter.incCompar()&quot;;
          engine.insertAfter(LT(0), insertion)
        }  
;
However this just adds counter.incCompar() to the last comnparative 
operation in the for loop
How can add this bit of text to both, is there an easier way then the 
way I am doing it?
I have tried rewriting some of the expression rules but it seems to add 
the text to just about anything,

Will appreciate any help lads

cheers
ed.








</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015021.html">[antlr-interest] TokenStreamRewriteEngine
</A></li>
	<LI>Next message: <A HREF="015024.html">[antlr-interest] TokenStreamRewriteEngine + java profiling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15023">[ date ]</a>
              <a href="thread.html#15023">[ thread ]</a>
              <a href="subject.html#15023">[ subject ]</a>
              <a href="author.html#15023">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
