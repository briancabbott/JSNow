<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Very general question, might require a book as an answer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Very%20general%20question%2C%0A%20might%20require%20a%20book%20as%20an%20answer&In-Reply-To=%3C461133C1.4090504%40xs4all.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020040.html">
   <LINK REL="Next"  HREF="020043.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Very general question, might require a book as an answer</H1>
    <B>Jan van der Ven</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Very%20general%20question%2C%0A%20might%20require%20a%20book%20as%20an%20answer&In-Reply-To=%3C461133C1.4090504%40xs4all.nl%3E"
       TITLE="[antlr-interest] Very general question, might require a book as an answer">jhvdven at xs4all.nl
       </A><BR>
    <I>Mon Apr  2 09:48:01 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020040.html">[antlr-interest] C++ code target
</A></li>
        <LI>Next message: <A HREF="020043.html">[antlr-interest] Very general question,	might require a book as an answer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20042">[ date ]</a>
              <a href="thread.html#20042">[ thread ]</a>
              <a href="subject.html#20042">[ subject ]</a>
              <a href="author.html#20042">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Miguel,


You can see how much of your ideas I already implemented at 
<A HREF="http://sourceforge.net/projects/quantum">http://sourceforge.net/projects/quantum</A>
and then check out cvs. Look for 
/quantum-plugin/src/com/quantum/core/sql/grammar

Regards,

Jan

Miguel Ping wrote:
&gt;<i> Hey there,
</I>&gt;<i>
</I>&gt;<i> Sorry for replying just now, I must confess until recently i haven't
</I>&gt;<i> lost much time with the antlr mailing list. I'm trying to develop an
</I>&gt;<i> antlr grammar for sql for some personal stuff, and since I didn't know
</I>&gt;<i> nothing of antlr, I'm learning antlr also. So if it's not too late :p
</I>&gt;<i> I'll try and answer your questions based on my short experience.
</I>&gt;<i>
</I>&gt;&gt;<i> 1) Should I be using antlr, or should I stick with the stuff eclipse 
</I>&gt;&gt;<i> offers?
</I>&gt;<i> Antlr makes it really easy to build your language tools. I dunno what
</I>&gt;<i> eclipse offers except a jdom toolkit for manipulating java asts...
</I>&gt;&gt;<i> 2) Is antlr the right tool of choice for a project in which each
</I>&gt;&gt;<i> database vendor speaks its own dialect? In other words will the
</I>&gt;&gt;<i> inheritance feature deliver the promise of less coding? And of course,
</I>&gt;&gt;<i> what should be the base grammar of this all? And could we have one 
</I>&gt;&gt;<i> lexer?
</I>&gt;<i> My guess is that  inheritance will indeed solve many problems. I think
</I>&gt;<i> the base grammar should be a plain ANSI SQL'92 grammar reduced to the
</I>&gt;<i> minimum common denominator of all dialects. As for the lexer, one
</I>&gt;<i> lexer may not suffice because of special keywords of the several
</I>&gt;<i> dialects. In one dialect you want to recognize a keyword as a
</I>&gt;<i> function, in other it may be an identifer...
</I>&gt;&gt;<i> 3) We would like to support scripts, some dialects have statement
</I>&gt;&gt;<i> separators, others do not. Does this mean I need to write something that
</I>&gt;&gt;<i> separates the statements first, or is there a smarter way?
</I>&gt;<i> Dunno
</I>&gt;&gt;<i> 4) I never used the tree walker classes in antlr. I must admit, I do not
</I>&gt;&gt;<i> understand the value of it yet. However I think they are what I need
</I>&gt;&gt;<i> because after lexing and parsing I want to interpret the results. So far
</I>&gt;&gt;<i> my AST is not a tree but a list. What are the benefits of using tree
</I>&gt;&gt;<i> walkers?
</I>&gt;<i> I haven't written a tree walker, but for some languages I guess it's
</I>&gt;<i> more easy to do stuff with structured trees. for instance, determining
</I>&gt;<i> scopes, operator precedence, etc.
</I>&gt;&gt;<i> 5) Why should I upgrade to v3?
</I>&gt;<i> V3 deals with some problems of V2 both in terms of design and
</I>&gt;<i> internals , and it's faster and the algorithm is alot more powerful.
</I>&gt;<i> in v2 you must specify lookahead, v3 has a LL(*) algorithm that has
</I>&gt;<i> infinite lookahead.
</I>&gt;<i>
</I>&gt;<i> Bear in mind that I am a antlr newbie and I am still learning lots of
</I>&gt;<i> stuff, so the answers I provided may not be the correct answers to
</I>&gt;<i> your questions...
</I>&gt;<i>
</I>&gt;<i> On 1/21/07, Jan van der Ven &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jhvdven at xs4all.nl</A>&gt; wrote:
</I>&gt;&gt;<i> Dear list,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am involved in the Quantum DB eclipse plugin  for quite some time now.
</I>&gt;&gt;<i> This is a plugin for uniform access to databases that have a JDBC driver
</I>&gt;&gt;<i> (<A HREF="http://sourceforge.net/projects/quantum">http://sourceforge.net/projects/quantum</A>). I joined the development team
</I>&gt;&gt;<i> for the frustration I kept getting with queries that contained errors
</I>&gt;&gt;<i> that could have been solved at 'compile' time rather than at 'runtime'.
</I>&gt;&gt;<i> This, imho, means that the syntax of the statement(s) need to be
</I>&gt;&gt;<i> checked, which means a parser.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As you may be aware SQL comes in many dialects and our plugin aims to
</I>&gt;&gt;<i> offer support for all of them.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So, I looked around and found antlr. It seemed very fit for the job as
</I>&gt;&gt;<i> it allows inheritance. As plugin developers we deliver a base and allow
</I>&gt;&gt;<i> others to enhance/specialize that for their specific database.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I got started, looked at some .g files, borrowed some constructs and got
</I>&gt;&gt;<i> stuck on a very basic point: all the tables, columns, aliases and so on,
</I>&gt;&gt;<i> were recognized as identifiers only. Once the statement was parsed
</I>&gt;&gt;<i> 'successfully', it was not possible to reason about it as the parser did
</I>&gt;&gt;<i> not deliver tables involved, columns belonging to those tables and so
</I>&gt;&gt;<i> on. (I think you would call this an interpreter...)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I posted to this list about 'promoting' certain tokens, and of course
</I>&gt;&gt;<i> and thank you all, received an answer: promote them by adding an action:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &lt;pre&gt;
</I>&gt;&gt;<i> column_alias
</I>&gt;&gt;<i>     :
</I>&gt;&gt;<i>     i:id {#i.setType(COLUMN_IDENTIFIER_ALIAS);}
</I>&gt;&gt;<i>     ;
</I>&gt;&gt;<i> &lt;/pre&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So that my id gets promoted to a column alias whenever this rule 
</I>&gt;&gt;<i> executes.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I got this to work, finding out errors even when the syntax worked out
</I>&gt;&gt;<i> ok (misspelled table and column names, wrong relationships), but it
</I>&gt;&gt;<i> seemed to me that I had not unleashed the complete power of antlr.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So, now, finally, I come to the questions that may require a book (or
</I>&gt;&gt;<i> 2)  to answer:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1) Should I be using antlr, or should I stick with the stuff eclipse 
</I>&gt;&gt;<i> offers?
</I>&gt;&gt;<i> 2) Is antlr the right tool of choice for a project in which each
</I>&gt;&gt;<i> database vendor speaks its own dialect? In other words will the
</I>&gt;&gt;<i> inheritance feature deliver the promise of less coding? And of course,
</I>&gt;&gt;<i> what should be the base grammar of this all? And could we have one 
</I>&gt;&gt;<i> lexer?
</I>&gt;&gt;<i> 3) We would like to support scripts, some dialects have statement
</I>&gt;&gt;<i> separators, others do not. Does this mean I need to write something that
</I>&gt;&gt;<i> separates the statements first, or is there a smarter way?
</I>&gt;&gt;<i> 4) I never used the tree walker classes in antlr. I must admit, I do not
</I>&gt;&gt;<i> understand the value of it yet. However I think they are what I need
</I>&gt;&gt;<i> because after lexing and parsing I want to interpret the results. So far
</I>&gt;&gt;<i> my AST is not a tree but a list. What are the benefits of using tree
</I>&gt;&gt;<i> walkers?
</I>&gt;&gt;<i> 5) Why should I upgrade to v3?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If anyone could find the time to answer even one of my questions, that
</I>&gt;&gt;<i> would be greatly appreciated.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Kind regards,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Jan
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020040.html">[antlr-interest] C++ code target
</A></li>
	<LI>Next message: <A HREF="020043.html">[antlr-interest] Very general question,	might require a book as an answer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20042">[ date ]</a>
              <a href="thread.html#20042">[ thread ]</a>
              <a href="subject.html#20042">[ subject ]</a>
              <a href="author.html#20042">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
