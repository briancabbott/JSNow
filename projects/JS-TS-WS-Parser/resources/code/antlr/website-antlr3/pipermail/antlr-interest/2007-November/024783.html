<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Modifying token text - is it possible?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Modifying%20token%20text%20-%20is%20it%20possible%3F&In-Reply-To=%3CE344C433F006AB45A306D422F9C3EB4C029FA1B0%40exmail1.finjan.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024779.html">
   <LINK REL="Next"  HREF="024794.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Modifying token text - is it possible?</H1>
    <B>Shmuel Siegel</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Modifying%20token%20text%20-%20is%20it%20possible%3F&In-Reply-To=%3CE344C433F006AB45A306D422F9C3EB4C029FA1B0%40exmail1.finjan.com%3E"
       TITLE="[antlr-interest] Modifying token text - is it possible?">ssiegel at finjan.com
       </A><BR>
    <I>Tue Nov 20 06:24:47 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024779.html">[antlr-interest] Modifying token text - is it possible?
</A></li>
        <LI>Next message: <A HREF="024794.html">[antlr-interest] Modifying token text - is it possible?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24783">[ date ]</a>
              <a href="thread.html#24783">[ thread ]</a>
              <a href="subject.html#24783">[ subject ]</a>
              <a href="author.html#24783">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm not sure if I did it this way because of some beta version didn't
handle the &quot;$&quot; but in my grammar I write {setText(buffer.toString());}.

Your $x example won't work because the string for the token is taken
from the input stream (the characters between start of token and end of
token). Changes to intermediate results are irrelevant. You must
override the final token string.

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Steve Bennett
Sent: Tuesday, November 20, 2007 2:30 PM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: [antlr-interest] Modifying token text - is it possible?

According to
<A HREF="http://www.cs.usfca.edu/~parrt/course/652/lectures/antlr-lexers.html">http://www.cs.usfca.edu/~parrt/course/652/lectures/antlr-lexers.html</A>
it ought to be possible to modify a token's text two ways:

FOO: '&lt;'! ... ; // '&lt;' does not become part of the token

FOO: '&lt;' ...{ $setText (...); // $setText manually overrides the matched
text.

Neither of these constructs seems to work for me...were they perhaps
taken out or changed to something else? I see there is a setText
method on Lexer, but can't make it work: does FOO: x=TOKEN {$x...};
notation actually work?

Steve

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024779.html">[antlr-interest] Modifying token text - is it possible?
</A></li>
	<LI>Next message: <A HREF="024794.html">[antlr-interest] Modifying token text - is it possible?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24783">[ date ]</a>
              <a href="thread.html#24783">[ thread ]</a>
              <a href="subject.html#24783">[ subject ]</a>
              <a href="author.html#24783">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
