<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] C++ library code reference counting classes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20C%2B%2B%20library%20code%20reference%20counting%20classes&In-Reply-To=42C3B079.20509%40cyconix.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012924.html">
   <LINK REL="Next"  HREF="012927.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] C++ library code reference counting classes</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20C%2B%2B%20library%20code%20reference%20counting%20classes&In-Reply-To=42C3B079.20509%40cyconix.com"
       TITLE="[antlr-interest] C++ library code reference counting classes">ric.klaren at gmail.com
       </A><BR>
    <I>Thu Jun 30 01:59:24 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012924.html">[antlr-interest] C++ library code reference counting classes
</A></li>
        <LI>Next message: <A HREF="012927.html">[antlr-interest] Function Call,
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12926">[ date ]</a>
              <a href="thread.html#12926">[ thread ]</a>
              <a href="subject.html#12926">[ subject ]</a>
              <a href="author.html#12926">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 6/30/05, Paul Johnson &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">gt54-antlr at cyconix.com</A>&gt; wrote:
&gt;<i> I'm working my way through the C++ library code, and I have a couple of
</I>&gt;<i> questions (by the way, who wrote this code? Is it 'new', or was it
</I>&gt;<i> translated from a Java source?)
</I>
AFAIK it was very direct java port. E.g. many java-isms.

&gt;<i> There are at least 3 reference counting classes (RefCount&lt;&gt;,
</I>&gt;<i> ASTRefCount&lt;&gt;, and ASTRef). Is there any particular reason for this, or
</I>&gt;<i> is it just historical? 
</I>
Part historical, part necessity to accomodate the codegenerator. The
AST stuff requires some extra functionality over the standard
refcounter supplied. (for conversions/casting)

Before 2.7.5 I worked on replacing the lot with a single
implementation but due to lack of time I was not able to make the
codegenerator compatible with the new refcounter.

&gt;<i>Is there also any reason not to replace the whole
</I>&gt;<i> lot with the Boost/TRI smart pointer classes? This would clean up the
</I>&gt;<i> code a lot.
</I>
I don't want boost dependency for the support lib. When the boost
stuff gets integrated into the standard (I think there were some plans
for it or parts thereof) and if enough compilers support it then it
may be an option. Although if i'm not mistaken the boost smart
pointers will require extensive modifcation to the codegenerator to
make it work for all currently supported things (heterogeneous AST's).
My guess is that antlr 2 will not see that modification.

Antlr 3 will have a support library made from scratch C++ style.

Cheers,

Ric
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012924.html">[antlr-interest] C++ library code reference counting classes
</A></li>
	<LI>Next message: <A HREF="012927.html">[antlr-interest] Function Call,
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12926">[ date ]</a>
              <a href="thread.html#12926">[ thread ]</a>
              <a href="subject.html#12926">[ subject ]</a>
              <a href="author.html#12926">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
