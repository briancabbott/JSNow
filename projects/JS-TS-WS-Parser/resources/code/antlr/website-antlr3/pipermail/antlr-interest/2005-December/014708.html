<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Parser acessing lexer rules info for error
	recovery
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Parser%20acessing%20lexer%20rules%20info%20for%20error%0A%09recovery&In-Reply-To=20051207165049.57131.qmail%40web30213.mail.mud.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014704.html">
   <LINK REL="Next"  HREF="014709.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Parser acessing lexer rules info for error
	recovery</H1>
    <B>Thiago Silva</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Parser%20acessing%20lexer%20rules%20info%20for%20error%0A%09recovery&In-Reply-To=20051207165049.57131.qmail%40web30213.mail.mud.yahoo.com"
       TITLE="[antlr-interest] Parser acessing lexer rules info for error
	recovery">thiago.silva at kdemail.net
       </A><BR>
    <I>Wed Dec  7 07:32:14 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014704.html">[antlr-interest] Parser acessing lexer rules info for error
	recovery
</A></li>
        <LI>Next message: <A HREF="014709.html">[antlr-interest] Parser acessing lexer rules info for error
	recovery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14708">[ date ]</a>
              <a href="thread.html#14708">[ thread ]</a>
              <a href="subject.html#14708">[ subject ]</a>
              <a href="author.html#14708">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yeah, thats something I've already done. But, still, I have to keep the 
function up to date. Not that this is hard (they are all simple rules, at 
most), but it's not good having to replicate something I've already defined 
elsewhere. 

I was wondering if wouldn't be possible to acess the lexer and ask it if a 
given token matches a given rule. For me, it seems natural to be able to do 
such thing. But, so far, looking at the sources, it doesn't seem possible. 

thanks for your reply,
Thiago

On Wednesday 07 December 2005 16:50, you wrote:
&gt;<i> If you need to make the same test in multiple  catch
</I>&gt;<i> blocks, you can
</I>&gt;<i> write a function to do it and just call it in all the
</I>&gt;<i> catch blocks.
</I>&gt;<i>
</I>&gt;<i> --- Thiago Silva &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">thiago.silva at kdemail.net</A>&gt; wrote:
</I>&gt;<i> &gt; Hello,
</I>&gt;<i> &gt; I'm having a problem on parser error recovery. Some
</I>&gt;<i> &gt; times I need lexer rules
</I>&gt;<i> &gt; info to proceed with the recovery. But I'm not so
</I>&gt;<i> &gt; sure the way to proceed,
</I>&gt;<i> &gt; after reading the manual, the generated sources and
</I>&gt;<i> &gt; antlr sources.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; As a simple example:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ----------------------
</I>&gt;<i> &gt; class SomeParser extends Parser
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; somerule : (....);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; exception
</I>&gt;<i> &gt; catch[...] {
</I>&gt;<i> &gt;    //here I need to check, for instance, if LA(1) is
</I>&gt;<i> &gt; a T_DATATYPE
</I>&gt;<i> &gt;   //or if LA(1) belongs to the token section
</I>&gt;<i> &gt; (testLiteralsTable()?)
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; class SomeParser extends Lexer;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; T_DATATYPE : T_FOO | T_BAR
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; T_FOO: &quot;foo&quot;;
</I>&gt;<i> &gt; T_BAR: &quot;bar&quot;
</I>&gt;<i> &gt; ----------------------
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Now, what I'm doing is checking the LA in the catch
</I>&gt;<i> &gt; block, manually writing
</I>&gt;<i> &gt; (again) the members of T_DATATYPE:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; catch[..]
</I>&gt;<i> &gt;  if(la_token == T_FOO | la_token == T_BAR) {
</I>&gt;<i> &gt;    //print a warning message
</I>&gt;<i> &gt;  } else {
</I>&gt;<i> &gt;    //print a different warning message
</I>&gt;<i> &gt;  }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So, if T_DATATYPE changes, I would have to update
</I>&gt;<i> &gt; all the catch[] blocks that
</I>&gt;<i> &gt; checks for T_DATATYPE.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Did I miss something in the docs? Or is this the
</I>&gt;<i> &gt; only way possible to do it?
</I>&gt;<i> &gt; By the way, I'm using C++.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks in advance,
</I>&gt;<i> &gt; Thiago
</I></PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014704.html">[antlr-interest] Parser acessing lexer rules info for error
	recovery
</A></li>
	<LI>Next message: <A HREF="014709.html">[antlr-interest] Parser acessing lexer rules info for error
	recovery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14708">[ date ]</a>
              <a href="thread.html#14708">[ thread ]</a>
              <a href="subject.html#14708">[ subject ]</a>
              <a href="author.html#14708">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
