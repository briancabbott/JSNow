<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Parse only &lt;n&gt; bytes from InputStream
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Parse%20only%20%3Cn%3E%20bytes%20from%20InputStream&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008640.html">
   <LINK REL="Next"  HREF="008568.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Parse only &lt;n&gt; bytes from InputStream</H1>
    <B>matthew ford</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Parse%20only%20%3Cn%3E%20bytes%20from%20InputStream&In-Reply-To="
       TITLE="[antlr-interest] Parse only &lt;n&gt; bytes from InputStream">Matthew.Ford at forward.com.au
       </A><BR>
    <I>Wed Jul  7 14:51:21 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008640.html">[antlr-interest] Re: Parse only &lt;n&gt; bytes from InputStream
</A></li>
        <LI>Next message: <A HREF="008568.html">[antlr-interest] nondetermism rules, EOF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8608">[ date ]</a>
              <a href="thread.html#8608">[ thread ]</a>
              <a href="subject.html#8608">[ subject ]</a>
              <a href="author.html#8608">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have recently come across a problem of Anltr not closing input streams (in
Java), at least as far at JEdit is concerned.
Need to quit the Antlr parser in order to get JEdit to save any changes to
the input file.
My quick fix was to read the input into a StringBuffer close the input
stream and then parse from a StringReader.
Haven't got round to producing a small example of the problem.
Any one else have this problem?
matthew
----- Original Message ----- 
From: &quot;Ric Klaren&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">klaren at cs.utwente.nl</A>&gt;
To: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>&gt;
Sent: Wednesday, July 07, 2004 12:47 AM
Subject: Re: [antlr-interest] Parse only &lt;n&gt; bytes from InputStream


&gt;<i> On Tue, Jul 06, 2004 at 02:33:05PM -0000, andreasharth wrote:
</I>&gt;<i> &gt; I have written a small HTTP server in Java and like to parse input
</I>&gt;<i> &gt; from a HTTP PUT operation.  The length of the input in bytes is
</I>&gt;<i> &gt; specified using the content-length header.  I am able to parse the
</I>&gt;<i> &gt; stream that's coming in.  So far, so good.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Problem is that the parser should close the Reader after a number of
</I>&gt;<i> &gt; bytes (the content-length) have been read.  I could first store
</I>&gt;<i> &gt; everything the HTTP server recieves, and then parse that, but since I
</I>&gt;<i> &gt; want to process megabytes (and maybe gigabytes) caching things is not
</I>&gt;<i> &gt; really an option.  I cannot specify and end of file symbol either
</I>&gt;<i> &gt; because that's not in the HTTP protocol.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is there a way to make the parser stop after having read a given
</I>&gt;<i> &gt; number of bytes?
</I>&gt;<i>
</I>&gt;<i> I'd implement a custom InputBuffer that would cut off after N bytes. Then
</I>&gt;<i> initialize the lexer with that one. Look at InputBuffer.java to see what
</I>&gt;<i> you have to do. You might also get some inspiration from
</I>&gt;<i> lib/cpp/antlr/CharInputBuffer.hpp.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> Ric
</I>&gt;<i> -- 
</I>&gt;<i> -----+++++*****************************************************+++++++++--
</I>-----
&gt;<i>     ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">j.klaren at utwente.nl</A> ----- +31 53 4893755  ----
</I>&gt;<i> -----+++++*****************************************************+++++++++--
</I>-----
&gt;<i>   Xander: &quot;Buffy, we need to do something *now*&quot;
</I>&gt;<i>   Angel: &quot;We need a distraction.&quot;
</I>&gt;<i>   Buffy: &quot;Right.&quot;
</I>&gt;<i>   Angel: &quot;What are you going to do?&quot;
</I>&gt;<i>   Buffy: &quot;I'm going to kill them all. That oughtta distract 'em...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yahoo! Groups Links
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>


 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
    <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
    <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
    <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008640.html">[antlr-interest] Re: Parse only &lt;n&gt; bytes from InputStream
</A></li>
	<LI>Next message: <A HREF="008568.html">[antlr-interest] nondetermism rules, EOF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8608">[ date ]</a>
              <a href="thread.html#8608">[ thread ]</a>
              <a href="subject.html#8608">[ subject ]</a>
              <a href="author.html#8608">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
