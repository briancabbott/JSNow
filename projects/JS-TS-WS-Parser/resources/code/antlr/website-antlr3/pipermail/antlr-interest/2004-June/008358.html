<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] StringTemplate issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20StringTemplate%20issue&In-Reply-To=cb6bqa%2Bmhe0%40eGroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008349.html">
   <LINK REL="Next"  HREF="008359.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] StringTemplate issue</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20StringTemplate%20issue&In-Reply-To=cb6bqa%2Bmhe0%40eGroups.com"
       TITLE="[antlr-interest] StringTemplate issue">parrt at cs.usfca.edu
       </A><BR>
    <I>Mon Jun 21 10:39:04 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008349.html">[antlr-interest] StringTemplate issue
</A></li>
        <LI>Next message: <A HREF="008359.html">[antlr-interest] Re: StringTemplate issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8358">[ date ]</a>
              <a href="thread.html#8358">[ thread ]</a>
              <a href="subject.html#8358">[ subject ]</a>
              <a href="author.html#8358">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jun 21, 2004, at 3:03 AM, birmanstefan wrote:

&gt;<i> Hello Ter,
</I>&gt;<i>
</I>&gt;<i>     I used a jarred app, which includes a library of templates, and
</I>&gt;<i> run in a &quot;Can't load template&quot; error. It seems that it tries to load
</I>&gt;<i> template from an illegal path. I put a testcase in group's files
</I>&gt;<i> directory called test4tp.jar (includes all you need to reproduce the
</I>&gt;<i> issue).
</I>&gt;<i>
</I>&gt;<i>     The fix was to create a group without a root directory and include
</I>&gt;<i> all the templates in the root of the jar. The bad thing is that it
</I>&gt;<i> doesn't preserve the hierarchy in jar file and have to modify in
</I>&gt;<i> original code (=&gt; two versions : for jarred and un-jarred app).
</I>&gt;<i>
</I>&gt;<i>     I took a look in the  StringTemplateGroup.loadTemplate() and I saw
</I>&gt;<i> that it uses some classLoader stuff to load the template. Enlarging
</I>&gt;<i> this mechanism in order to be able to load templates from dir
</I>&gt;<i> structure in a jar file (JAR URL) should fix the issue. I'm not very
</I>&gt;<i> familiar with this mechanism, so I must ask : am I looking in the
</I>&gt;<i> wrong direction?
</I>
Hmm...for the code generator I'm working on now, I use &quot;fully 
qualified&quot; template names like &quot;org/antlr/codegen/templates/foo&quot; which 
it loads from the classpath.  I do this rather than paths under a 
rootDir as I don't know where the app will be unjar'd or used.  Are you 
saying that Java's jar mechanism doesn't duplicate this when the dir is 
jar'd up?  Ack!  If so, I'll have to dig into and figure out what do.

&gt;<i>     On the other hand, are there any news on StringTemplates 2.0?
</I>
It's totally great!  Still haven't done the manual, but I'm testing out 
the features now for the ANTLR 3.0 code generator.  StringTemplate for 
code gen is amazingly fabulous! (er...if I do say so myself).  I expect 
to get that out in July.  Want a pre-release copy?  Send me email 
directly. :)

Ter
--
CS Professor &amp; Grad Director, University of San Francisco
Creator, ANTLR Parser Generator, <A HREF="http://www.antlr.org">http://www.antlr.org</A>
Cofounder, <A HREF="http://www.jguru.com">http://www.jguru.com</A>
Cofounder, <A HREF="http://www.knowspam.net">http://www.knowspam.net</A> enjoy email again!
Cofounder, <A HREF="http://www.peerscope.com">http://www.peerscope.com</A> pure link sharing





 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008349.html">[antlr-interest] StringTemplate issue
</A></li>
	<LI>Next message: <A HREF="008359.html">[antlr-interest] Re: StringTemplate issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8358">[ date ]</a>
              <a href="thread.html#8358">[ thread ]</a>
              <a href="subject.html#8358">[ subject ]</a>
              <a href="author.html#8358">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
