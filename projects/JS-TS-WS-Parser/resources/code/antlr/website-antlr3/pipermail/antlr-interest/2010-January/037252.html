<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Match anything until a specific phrase
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Match%20anything%20until%20a%20specific%20phrase&In-Reply-To=%3C880718c24120444aa9e21ed91a6b5f01%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037248.html">
   <LINK REL="Next"  HREF="037257.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Match anything until a specific phrase</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Match%20anything%20until%20a%20specific%20phrase&In-Reply-To=%3C880718c24120444aa9e21ed91a6b5f01%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Match anything until a specific phrase">jimi at temporal-wave.com
       </A><BR>
    <I>Fri Jan  8 10:09:09 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037248.html">[antlr-interest] Match anything until a specific phrase
</A></li>
        <LI>Next message: <A HREF="037257.html">[antlr-interest] Match anything until a specific phrase
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37252">[ date ]</a>
              <a href="thread.html#37252">[ thread ]</a>
              <a href="subject.html#37252">[ subject ]</a>
              <a href="author.html#37252">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Why don't you just remove the header before sending it to the lexer? Or write a function/method to do input.consume() until you find 'P' then check for 'Page', stop consuming if found, carry on consuming if not. Trigger the method as appropriate in action code for tokens or at lexer start up.

I would remove the 'literals' from your parser and make real lexer rules. Remember that the lexer runs, then the parser runs, you cannot direct the lexer from the parser.

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of fridi
</I>&gt;<i> Sent: Friday, January 08, 2010 7:15 AM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] Match anything until a specific phrase
</I>&gt;<i> 
</I>&gt;<i> Hello all,
</I>&gt;<i> maybe someone can help me to get this done with ANTLR 3.2
</I>&gt;<i> 
</I>&gt;<i> My file has a header starting with 'test', some comments and then
</I>&gt;<i> several blocks named 'Page 1',  'Page 2' etc. with integers, i.e.
</I>&gt;<i> 
</I>&gt;<i> test This is a comment and
</I>&gt;<i>         we are not interested in.
</I>&gt;<i>             Today is friday.
</I>&gt;<i> 
</I>&gt;<i> Page 1:
</I>&gt;<i>     123
</I>&gt;<i>     456
</I>&gt;<i>     789
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I want to have a rule that consumes everything of the header until the
</I>&gt;<i> word 'Page'.
</I>&gt;<i> 'Page' should not be consumed by the header, it be consumed by another
</I>&gt;<i> rule.
</I>&gt;<i> 
</I>&gt;<i> So I tried the following:
</I>&gt;<i> 
</I>&gt;<i> grammar TestNot;
</I>&gt;<i> 
</I>&gt;<i> options {
</I>&gt;<i>    language = Java;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> rule :
</I>&gt;<i>    file;
</I>&gt;<i> 
</I>&gt;<i> file :
</I>&gt;<i>    header PAGE INT ':' INT+ EOF;
</I>&gt;<i> 
</I>&gt;<i> header :
</I>&gt;<i>    'test' ~PAGE;
</I>&gt;<i> 
</I>&gt;<i> PAGE :
</I>&gt;<i>    'Page';
</I>&gt;<i> 
</I>&gt;<i> INT :
</I>&gt;<i>    DIGIT+;
</I>&gt;<i> 
</I>&gt;<i> fragment
</I>&gt;<i> DIGIT :
</I>&gt;<i>    '0'..'9';
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Any idea? Thanks in advance.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> email-address
</I>


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037248.html">[antlr-interest] Match anything until a specific phrase
</A></li>
	<LI>Next message: <A HREF="037257.html">[antlr-interest] Match anything until a specific phrase
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37252">[ date ]</a>
              <a href="thread.html#37252">[ thread ]</a>
              <a href="subject.html#37252">[ subject ]</a>
              <a href="author.html#37252">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
