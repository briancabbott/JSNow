<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] grammars, tree grammars and parse trees, Oh my!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20grammars%2C%20tree%20grammars%20and%20parse%20trees%2C%20Oh%20my%21&In-Reply-To=%3C20090310185527.3553334184A2%40www.antlr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033331.html">
   <LINK REL="Next"  HREF="033334.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] grammars, tree grammars and parse trees, Oh my!</H1>
    <B>Gavin Lambert</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20grammars%2C%20tree%20grammars%20and%20parse%20trees%2C%20Oh%20my%21&In-Reply-To=%3C20090310185527.3553334184A2%40www.antlr.org%3E"
       TITLE="[antlr-interest] grammars, tree grammars and parse trees, Oh my!">antlr at mirality.co.nz
       </A><BR>
    <I>Tue Mar 10 11:54:58 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033331.html">[antlr-interest] grammars, tree grammars and parse trees, Oh my!
</A></li>
        <LI>Next message: <A HREF="033334.html">[antlr-interest] Building AST by hand
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33338">[ date ]</a>
              <a href="thread.html#33338">[ thread ]</a>
              <a href="subject.html#33338">[ subject ]</a>
              <a href="author.html#33338">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 01:40 11/03/2009, Naim Kingston wrote:
&gt;<i>I'm not sure if our (mine and yours) definitions of a parse tree 
</I>&gt;<i>are the same, but with boost::spirit in C++, I've been 
</I>&gt;<i>implementing a small scripting language, and I've gotten very 
</I>&gt;<i>used to having a tree that I can traverse, with each node 
</I>&gt;<i>describing what grammar rule it represents, and only some of the 
</I>&gt;<i>nodes (integers, operators and other grammar rules that 
</I>&gt;<i>correspond directly to input) have text associated with the tree 
</I>&gt;<i>node.
</I>
That is indeed what a parse tree is.

&gt;<i>This is the kind of thing that I'm looking at doing in C# for a 
</I>&gt;<i>smaller calculator-like side project. I'm generating a parser and 
</I>&gt;<i>lexer for my language using antlr 3.1.2. Is a 'parse tree' the 
</I>&gt;<i>structure I'm looking for?
</I>&gt;<i>
</I>&gt;<i>I've been generating an AST, but that just has the token type in 
</I>&gt;<i>each node, and that won't always help in understanding the 
</I>&gt;<i>context of the token.
</I>
ANTLR doesn't have any built-in facilities for creating parse 
trees (except for the debugger), though it's not impossible to add 
in something similar.  It's usually not what you really want, 
though.

With ASTs, you normally don't just build the tree from input 
nodes, you also add additional &quot;imaginary&quot; tokens (usually as the 
subtree root) that serve as grouping constructs and identification 
for later use by a tree parser (or manual tree parsing 
code).  This way, they have the semantic information you'd get 
from a parse tree, without being rigidly tied to the rule 
structure (which means that you can refactor the rules without 
affecting the output, and you can leave out levels that don't 
really add any useful information).

&gt;<i>I've been looking at creating a tree grammar, but are the 
</I>&gt;<i>'actions' that you define simply the code that you insert in the 
</I>&gt;<i>tree node definitions? In fact, are the rules in a tree grammar 
</I>&gt;<i>the content of each of the nodes in the tree? If I'm not planning 
</I>&gt;<i>on re-ordering anything, or putting in any actions (I want to do 
</I>&gt;<i>most things code-side apart from the parse tree construction) do 
</I>&gt;<i>I need to create the tree grammar, or can I just use the normal 
</I>&gt;<i>grammar I wrote?
</I>
The whole point of a tree grammar is usually to walk through an 
existing tree and carry out some actions as you go.  (Another 
possibility is to output a modified AST, or to use StringTemplate 
to generate some output.)  It's basically just a replacement for 
writing your own tree-walking code.  If you'd rather write the 
walking code yourself, that's fine.

</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033331.html">[antlr-interest] grammars, tree grammars and parse trees, Oh my!
</A></li>
	<LI>Next message: <A HREF="033334.html">[antlr-interest] Building AST by hand
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33338">[ date ]</a>
              <a href="thread.html#33338">[ thread ]</a>
              <a href="subject.html#33338">[ subject ]</a>
              <a href="author.html#33338">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
