<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Supplying my on (Homogeneous) Tree Class
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Supplying%20my%20on%20%28Homogeneous%29%20Tree%20Class&In-Reply-To=%3CE1KTkNy-00075p-SK%40gecko.home.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029977.html">
   <LINK REL="Next"  HREF="030015.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Supplying my on (Homogeneous) Tree Class</H1>
    <B>John B. Brodie</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Supplying%20my%20on%20%28Homogeneous%29%20Tree%20Class&In-Reply-To=%3CE1KTkNy-00075p-SK%40gecko.home.org%3E"
       TITLE="[antlr-interest] Supplying my on (Homogeneous) Tree Class">jbb at acm.org
       </A><BR>
    <I>Thu Aug 14 14:29:34 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029977.html">[antlr-interest] ANTLR 3.1: Help: Why do I get this warning
</A></li>
        <LI>Next message: <A HREF="030015.html">[antlr-interest] Supplying my on (Homogeneous) Tree Class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29980">[ date ]</a>
              <a href="thread.html#29980">[ thread ]</a>
              <a href="subject.html#29980">[ subject ]</a>
              <a href="author.html#29980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings!

I have just now gotten back to an earlier ANTLR project after 9 or
more months and am trying to update it to use v3.1.

I uses its own tree node class which extends CommonTree.

I know about providing a alternate TreeAdapter as a factory for my
tree nodes - the adapter provides implementations for create(Token t)
and dupNode(Object o).

I now see that when the class CommonErrorNode was added early this
year that the TreeAdapter also must supply a errorNode(....) method in
order to spawn error items for the tree - seems to be a placeholder
node in the tree to book-keep a sequence of erroneous tokens.

Fine. Good.

But CommonErrorNode extends CommonTree and can not be cast to my tree
node type (which the generated code does when errorNode() is not
overridden in the supplied tree adapter) because my node also extends
CommonTree and casting between siblings in the inheritance hiearchy is
not permissible in Java (i guess).

I tried having my node class extend CommonErrorNode but that does not
compile because of missing constructors in CommonErrorNode. And that
solution would not be desirable due to the increase in memory
footprint of every tree node comprising a large tree.

Keeping the footprint of syntactically correct trees is an excellent
idea (to me) and seems to be the very valid reason for having a
separate CommonErrorNode in the first place. Anyway...

I ended up copying CommonErrorNode.java and changing it to extend
from my tree class (and changing names to protect the innocent).

Is that the proper / intended way to provide my own tree node class?

Thankx (sorry if this is a stupid question)
   -jbb
</PRE>
















































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029977.html">[antlr-interest] ANTLR 3.1: Help: Why do I get this warning
</A></li>
	<LI>Next message: <A HREF="030015.html">[antlr-interest] Supplying my on (Homogeneous) Tree Class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29980">[ date ]</a>
              <a href="thread.html#29980">[ thread ]</a>
              <a href="subject.html#29980">[ subject ]</a>
              <a href="author.html#29980">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
