<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Evaluation boolean expressions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Evaluation%20boolean%20expressions&In-Reply-To=004e01c592b6%247a95fbc0%2479f53951%40thedude">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013211.html">
   <LINK REL="Next"  HREF="013187.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Evaluation boolean expressions</H1>
    <B>Christopher Schultz</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Evaluation%20boolean%20expressions&In-Reply-To=004e01c592b6%247a95fbc0%2479f53951%40thedude"
       TITLE="[antlr-interest] Evaluation boolean expressions">christopher.d.schultz at comcast.net
       </A><BR>
    <I>Fri Jul 29 16:03:39 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013211.html">[antlr-interest] Evaluation boolean expressions
</A></li>
        <LI>Next message: <A HREF="013187.html">[antlr-interest] Problem with Special Chars: solved
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13235">[ date ]</a>
              <a href="thread.html#13235">[ thread ]</a>
              <a href="subject.html#13235">[ subject ]</a>
              <a href="author.html#13235">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Xavier,

I have written an expression evaluator that supports the expression you
asked about, but in a slightly different form.

Yours: (4 + (5*2) &gt; 15) OR (4&gt;1)
Mine:  (4 + (5*2) &gt; 15) || (4&gt;1)

The evaluator I wrote supports all kinds of mathematical expressions, as
well as user-defined functions, etc.

It was developed as part of a home-brewed rules engine for my employer,
and I'm trying to wrestle it out of their hands and get it out to the
Open Source community. I'll post something on this mailing list when I
get that accomplished.

At any rate, this is what I get when I run that expression through my
evaluator (in debugging mode, so you can see the objects created by the
parser):

(4 + (5*2) &gt; 15) || (4&gt;1)      [entered via the keyboard]

Parsed: ( ( ( Constant &lt;java.lang.Integer&gt;4 + ( Constant
&lt;java.lang.Integer&gt;5 * Constant &lt;java.lang.Integer&gt;2 ) ) &gt; Constant
&lt;java.lang.Integer&gt;15 ) || ( Constant &lt;java.lang.Integer&gt;4 &gt; Constant
&lt;java.lang.Integer&gt;1 ) )

Result: true (java.lang.Boolean)

There's a lot of output up there, but that's because it's a pretty
complicated expression, even though it's only 25 characters long.

The parser was written using Antlr and an 8.5KB grammar file (including
comments and whitespace, etc.). The evaluator was written completely by
hand and does not use a Treeparser or anything related to Antlr. It took
quite a while to write... it was not a trivial task at all.

So, don't be discouraged by Antlr. Now that you've been tripped-up by a
few mistakes, you can continue to build your evaluator, little by
little. Or, you can wait for my announcement and download my code. ;)

-chris
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 254 bytes
Desc: OpenPGP digital signature
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20050729/75e91aa9/signature.bin">http://www.antlr.org/pipermail/antlr-interest/attachments/20050729/75e91aa9/signature.bin</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013211.html">[antlr-interest] Evaluation boolean expressions
</A></li>
	<LI>Next message: <A HREF="013187.html">[antlr-interest] Problem with Special Chars: solved
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13235">[ date ]</a>
              <a href="thread.html#13235">[ thread ]</a>
              <a href="subject.html#13235">[ subject ]</a>
              <a href="author.html#13235">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
