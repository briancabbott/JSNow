<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] question about V3 AST rewriting ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20question%20about%20V3%20AST%20rewriting%20%3F&In-Reply-To=%3C96AD91D781CCD511A66000B0D0D15C49036DB07C%40EXSVR1%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023433.html">
   <LINK REL="Next"  HREF="023436.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] question about V3 AST rewriting ?</H1>
    <B>Charlie Yang</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20question%20about%20V3%20AST%20rewriting%20%3F&In-Reply-To=%3C96AD91D781CCD511A66000B0D0D15C49036DB07C%40EXSVR1%3E"
       TITLE="[antlr-interest] question about V3 AST rewriting ?">Cyang at infobal.com
       </A><BR>
    <I>Fri Aug 24 12:33:23 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023433.html">[antlr-interest] trying to parse retrievalware search queries
</A></li>
        <LI>Next message: <A HREF="023436.html">[antlr-interest] lexer: embedded quotes assistance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23434">[ date ]</a>
              <a href="thread.html#23434">[ thread ]</a>
              <a href="subject.html#23434">[ subject ]</a>
              <a href="author.html#23434">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I have problem to find a way to rewrite AST when repeated subrules
occured.
The example I found online is:
	'&lt;html&gt;' html_header html_body '&lt;/html&gt;' -&gt; ^('doc' html_header
html_body);
It works fine, however, when I try to implement others, say Java1.5 for V3

Q1: Given Grammar like this:
	type	: Identifier (typeArguments)? ('.' Identifier
(typeArguments)? )* ('[' ']')*  

both &quot;Identifier&quot; and &quot;typeArguments&quot; occurred multi-times, how can I bring
it back in AST like 
-&gt;^(TYPE Identifier1 typeArguments1 Identifier2? typeArguments2? ...)


Q2:And second question, given rule like below:
primitiveType
    :   'boolean'
    |	'char'
    |	'byte'
    |	'short'
    |	'int'

It the an easy way to rewrite AST like ^(PRIMITIVE 'boolean'|'char'|....)
rather than:
    :   'boolean'  -&gt;^(PRIMITIVE 'boolean')
    |	'char'	-&gt;^(PRIMITIVE 'char')
	...


Now I'm so missing old style grammar as 2.7.5 which at least I know how to
fully control the AST. Anywhere I can find a detail instruction about how to
rewrite AST for V3?



</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023433.html">[antlr-interest] trying to parse retrievalware search queries
</A></li>
	<LI>Next message: <A HREF="023436.html">[antlr-interest] lexer: embedded quotes assistance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23434">[ date ]</a>
              <a href="thread.html#23434">[ thread ]</a>
              <a href="subject.html#23434">[ subject ]</a>
              <a href="author.html#23434">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
