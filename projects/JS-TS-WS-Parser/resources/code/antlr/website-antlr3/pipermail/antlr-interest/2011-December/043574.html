<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Antlr 4 grammar options
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Antlr%204%20grammar%20options&In-Reply-To=%3CCAGc%2BC8oqerJg-fiqOgNvt817ekA1W_khwMkeBTj3tboK_0OUbg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043567.html">
   <LINK REL="Next"  HREF="043575.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Antlr 4 grammar options</H1>
    <B>mat dodgson</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Antlr%204%20grammar%20options&In-Reply-To=%3CCAGc%2BC8oqerJg-fiqOgNvt817ekA1W_khwMkeBTj3tboK_0OUbg%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Antlr 4 grammar options">mat at mad.id.au
       </A><BR>
    <I>Wed Dec 28 21:47:53 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="043567.html">[antlr-interest] Antlr emit vs Qt emit
</A></li>
        <LI>Next message: <A HREF="043575.html">[antlr-interest] Antlr 4 grammar options
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43574">[ date ]</a>
              <a href="thread.html#43574">[ thread ]</a>
              <a href="subject.html#43574">[ subject ]</a>
              <a href="author.html#43574">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi folks!

First let me say that I've been using Antlr for a short time but it's
great! I'm particularly excited about the new Java listener mechanism - it
makes life much simpler in certain scenarios!

I downloaded the latest antlr4 and stringtemplate4 today from github and
compiled them. I'm having a problem with an options block for a multi line
comment. Has the syntax for options changed in antlr v4 grammars?

Here's the comment rule from my grammar:

COMMENT
    :   '//' ~('\n'|'\r')* '\r'? '\n' {$channel=HIDDEN;}
    |   '/*' ( options {greedy=false;} : . )* '*/' {$channel=HIDDEN;}
    ;

The COMMENT rule was auto generated by antlrworks. The error I'm getting is
related to the options block on the multiline comment. It just looks like
it's not expecting the options block at that point:

error(15): LTM_ParseTree.g:43:15: required (...)+ loop did not match
anything at input 'options {' while looking for lexer rule element
error(15): LTM_ParseTree.g:43:37: '}' came as a complete surprise to me

line 43 is the multiline comment.

If I remove the options block and the colon the grammar works however I
don't want a greedy comment block in my grammar.

I know antlr v4 hasn't been released yet: have options like this been
implemented yet? Can anyone suggest anything?

Thanks

Mat Dodgson
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043567.html">[antlr-interest] Antlr emit vs Qt emit
</A></li>
	<LI>Next message: <A HREF="043575.html">[antlr-interest] Antlr 4 grammar options
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43574">[ date ]</a>
              <a href="thread.html#43574">[ thread ]</a>
              <a href="subject.html#43574">[ subject ]</a>
              <a href="author.html#43574">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
