<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Why stream name can't be printed out when error occurs(ANTLR C)?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Why%20stream%20name%20can%27t%20be%20printed%20out%20when%0A%20error%20occurs%28ANTLR%20C%29%3F&In-Reply-To=%3Cc5e3d028cdd970392cba8d9c38060560%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041667.html">
   <LINK REL="Next"  HREF="041679.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Why stream name can't be printed out when error occurs(ANTLR C)?</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Why%20stream%20name%20can%27t%20be%20printed%20out%20when%0A%20error%20occurs%28ANTLR%20C%29%3F&In-Reply-To=%3Cc5e3d028cdd970392cba8d9c38060560%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Why stream name can't be printed out when error occurs(ANTLR C)?">jimi at temporal-wave.com
       </A><BR>
    <I>Tue May 24 09:46:03 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="041667.html">[antlr-interest] Why stream name can't be printed out when error	occurs(ANTLR C)?
</A></li>
        <LI>Next message: <A HREF="041679.html">[antlr-interest] Why stream name can't be printed out when error occurs(ANTLR C)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41670">[ date ]</a>
              <a href="thread.html#41670">[ thread ]</a>
              <a href="subject.html#41670">[ subject ]</a>
              <a href="author.html#41670">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There can be multiple streams and you should reallty be using the file
name in the filestream, which you get from the token. Originally, we could
not get back to the filestream from the token and now we can, hence the
example error code uses what was available when I wrote it and also avoids
(at the time) dealing with stringstreams that might not have a name
(though now they always do of course).

Jim



&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Mu Qiao
</I>&gt;<i> Sent: Tuesday, May 24, 2011 7:36 AM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] Why stream name can't be printed out when
</I>&gt;<i> error occurs(ANTLR C)?
</I>&gt;<i>
</I>&gt;<i> I set the fileName for ANTLR3_INPUT_STREAM and the file name can be
</I>&gt;<i> printed out when error occurs. But when the tree parser is involved,
</I>&gt;<i> the name can't be always printed out (print unknown-source instead
</I>&gt;<i> sometimes).
</I>&gt;<i>
</I>&gt;<i> I checked the implementation of antlr3baserecognizer.c and I find the
</I>&gt;<i> name is decided by tnode-&gt;token. However, as we have
</I>&gt;<i> tns-&gt;istream-&gt;streamName, why not use that attribute? This will ensure
</I>&gt;<i> the name can be printed out no matter what kind of the current token it
</I>&gt;<i> is.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Best wishes,
</I>&gt;<i> Mu Qiao
</I>&gt;<i> GnuPG fingerprint: 92B1 B0C4 8D14 F8C4 EFA5&#160; 3ACC 30B3 0DE4 17B1 57E9
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> email-address
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041667.html">[antlr-interest] Why stream name can't be printed out when error	occurs(ANTLR C)?
</A></li>
	<LI>Next message: <A HREF="041679.html">[antlr-interest] Why stream name can't be printed out when error occurs(ANTLR C)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41670">[ date ]</a>
              <a href="thread.html#41670">[ thread ]</a>
              <a href="subject.html#41670">[ subject ]</a>
              <a href="author.html#41670">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
