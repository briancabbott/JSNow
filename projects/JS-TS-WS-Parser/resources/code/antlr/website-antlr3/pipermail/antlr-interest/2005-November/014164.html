<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: [stringtemplate-interest] Java In / Java Out
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20%5Bstringtemplate-interest%5D%20Java%20In%20/%20Java%20Out&In-Reply-To=9da4f4520510310912s14896a04m%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014165.html">
   <LINK REL="Next"  HREF="014166.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: [stringtemplate-interest] Java In / Java Out</H1>
    <B>eric nelson</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20%5Bstringtemplate-interest%5D%20Java%20In%20/%20Java%20Out&In-Reply-To=9da4f4520510310912s14896a04m%40mail.gmail.com"
       TITLE="[antlr-interest] Re: [stringtemplate-interest] Java In / Java Out">wirecracker at gmail.com
       </A><BR>
    <I>Tue Nov  1 15:02:17 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014165.html">[antlr-interest] ANTLR2005 workshop proceedings / photos
</A></li>
        <LI>Next message: <A HREF="014166.html">[antlr-interest] Re: C++ Comments (Digest 11/49)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14164">[ date ]</a>
              <a href="thread.html#14164">[ thread ]</a>
              <a href="subject.html#14164">[ subject ]</a>
              <a href="author.html#14164">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oliver,
 Thank you very much for the ideas :) I am not sure that it answers my
original question, but it does look like another way of doing it. I may try
using Java Beans, but my understanding is that this should be possible to do
without them. If I am wrong I hope someone will correct me, but otherwise
I'd like to pursue this attempt a little longer ;)
  - e


 On 10/31/05, Oliver Zeigermann &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">oliver.zeigermann at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Hi Eric,
</I>&gt;<i>
</I>&gt;<i> I was doing limited Java to Java conversions as well. An example that
</I>&gt;<i> describes how to generate Java sources from Java interface definitions
</I>&gt;<i> can be found here:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.zeigermann.de/genEJB.zip">http://www.zeigermann.de/genEJB.zip</A>
</I>&gt;<i>
</I>&gt;<i> May idea there was to separate the Java analysis (using ANTLR and a
</I>&gt;<i> Java grammar) from the Java generation part (using StringTemplate)
</I>&gt;<i> with an intermediate step that uses Java Beans for the tree
</I>&gt;<i> representation of the Java interface. Java Beans looked good as they
</I>&gt;<i> are familiar to the Java programmer and make a very good input for
</I>&gt;<i> StringTemplate.
</I>&gt;<i>
</I>&gt;<i> HTH
</I>&gt;<i>
</I>&gt;<i> Oliver
</I>&gt;<i>
</I>&gt;<i> 2005/10/29, eric nelson &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">wirecracker at gmail.com</A>&gt;:
</I>&gt;<i> &gt; I'm trying to modify the java.g grammar file so that I can use
</I>&gt;<i> &gt; StringTemplate for outputting the file. The input is a Java file. I
</I>&gt;<i> would
</I>&gt;<i> &gt; like the output to be Java also. So, yes, basically no change in content
</I>&gt;<i> &gt; ... mabye some spacing will differ here or there. I am still learning to
</I>&gt;<i> &gt; use ANTLR and StringTemplate and I've written a Java.stg file based on
</I>&gt;<i> what
</I>&gt;<i> &gt; I think I know so far. Exerpts from java.g and Java.stg appear below.
</I>&gt;<i> One
</I>&gt;<i> &gt; of the questions I have is how to handle the &quot;|&quot; (or) symbol (i.e.
</I>&gt;<i> &gt; classDefinition | interfaceDefinition). The way I have it right now
</I>&gt;<i> there
</I>&gt;<i> &gt; would be a list of &quot;modifiers&quot;, a list of &quot;classDefinitions&quot;, and a list
</I>&gt;<i> of
</I>&gt;<i> &gt; interfaceDefinitions (then naturally I would have a question about the &quot;
</I>&gt;<i> |
</I>&gt;<i> &gt; s:SEMI!&quot; ... but one question at a time ;) So, the problem in Java.stgis
</I>&gt;<i> &gt; how to match up the correct &quot;modifiers&quot; with the corresponding
</I>&gt;<i> &gt; &quot;interfaceDefinition&quot; or &quot;classDefinition&quot;. Or what if there is a
</I>&gt;<i> &gt; classDefinition with no modifier, etc. I am quite convinced that my
</I>&gt;<i> &gt; Java.stg template (typeDefinition in particular) and/or my java.g code
</I>&gt;<i> has
</I>&gt;<i> &gt; erred somewhere. Any thoughts? This is HUGE since this will help me
</I>&gt;<i> &gt; understand how to approach the &quot;field&quot; rule in java.g .... if anyone has
</I>&gt;<i> &gt; some hints on a &quot;field&quot; template that would also be great! Thanks :) - e
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; java.g exerpt (java 1.3 grammar)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> //////////////////////////////////////////////////////////////////////////////////////////////////
</I>&gt;<i> &gt; // A type definition in a file is either a class or interface
</I>&gt;<i> definition.
</I>&gt;<i> &gt; typeDefinition returns [StringTemplate
</I>&gt;<i> &gt; code=template(&quot;typeDefinition&quot;)]
</I>&gt;<i> &gt; options {defaultErrorHandler = true;}
</I>&gt;<i> &gt; {StringTemplate mod=null, cd=null, id=null, semi=null;}
</I>&gt;<i> &gt; : mod=m:modifiers! {code.setAttribute(&quot;modifiers&quot;, mod);}
</I>&gt;<i> &gt; ( cd=classDefinition[#m] { code.setAttribute(&quot;classDefinitions&quot;,
</I>&gt;<i> &gt; cd);}
</I>&gt;<i> &gt; | id=interfaceDefinition[#m]
</I>&gt;<i> &gt; {code.setAttribute(&quot;interfaceDefinitions&quot;, id);}
</I>&gt;<i> &gt; )
</I>&gt;<i> &gt; | s:SEMI!
</I>&gt;<i> &gt; {semi=template(&quot;lexer_semi&quot;);semi.setAttribute(&quot;semi&quot;,
</I>&gt;<i> &gt; s.getText());code.setAttribute(&quot;semi&quot;, semi);}
</I>&gt;<i> &gt; ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> //////////////////////////////////////////////////////////////////////////////////////////////////
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Java.stg exerpt
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> //////////////////////////////////////////////////////////////////////////////////////////////////
</I>&gt;<i> &gt; typeDefinition(modifiers,classDefinitions,interfaceDefinitions,semi)
</I>&gt;<i> &gt; ::= &lt;&lt;
</I>&gt;<i> &gt; &lt;modifiers&gt;&lt;classDefinitions&gt;&lt;interfaceDefinitions&gt;&lt;semi&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; modifiers(modifiers) ::= &quot;&lt;modifiers&gt;&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; modifier(modifier) ::= &quot;&lt;modifier&gt;&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; classDefinition(ident,superClassClause,implementsClause,classBlock)
</I>&gt;<i> &gt; ::= &lt;&lt;
</I>&gt;<i> &gt; class &lt;ident&gt; &lt;superClassClause&gt; &lt;implementsClause&gt;
</I>&gt;<i> &gt; &lt;classBlock&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; interfaceDefinition() ::= &lt;&lt;
</I>&gt;<i> &gt; not yet completed
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> //////////////////////////////////////////////////////////////////////////////////////////////////
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; stringtemplate-interest mailing list
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20051101/242d5a8a/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20051101/242d5a8a/attachment.html</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014165.html">[antlr-interest] ANTLR2005 workshop proceedings / photos
</A></li>
	<LI>Next message: <A HREF="014166.html">[antlr-interest] Re: C++ Comments (Digest 11/49)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14164">[ date ]</a>
              <a href="thread.html#14164">[ thread ]</a>
              <a href="subject.html#14164">[ subject ]</a>
              <a href="author.html#14164">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
