<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] unexpected token: FUNCTIONCALL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20unexpected%20token%3A%20FUNCTIONCALL&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008100.html">
   <LINK REL="Next"  HREF="008102.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] unexpected token: FUNCTIONCALL</H1>
    <B>Anthony Youngman</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20unexpected%20token%3A%20FUNCTIONCALL&In-Reply-To="
       TITLE="[antlr-interest] unexpected token: FUNCTIONCALL">Anthony.Youngman at ECA-International.com
       </A><BR>
    <I>Fri May 28 04:03:00 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008100.html">[antlr-interest] unexpected token: FUNCTIONCALL
</A></li>
        <LI>Next message: <A HREF="008102.html">New antlr-interest member
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8101">[ date ]</a>
              <a href="thread.html#8101">[ thread ]</a>
              <a href="subject.html#8101">[ subject ]</a>
              <a href="author.html#8101">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Solved!

I thought I'd just put in the reference to FUNCTIONCALL, and I actually
needed to put in rather more ... I got misled by the error message.

Cheers,
Wol 

-----Original Message-----
From: Anthony Youngman [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">Anthony.Youngman at ECA-International.com</A>] 
Sent: 28 May 2004 11:03
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
Subject: [antlr-interest] unexpected token: FUNCTIONCALL

antlr.Tool is blowing up with this in my treeparser ...

The relevant bit of the parser is

// handle functions etc here ...
// if ident is followed by arglist, change it to function
protected functionorident
	: idnt:IDENT {int junk = st.FindSymbol( 2, idnt.getText());} (
arglist { ## = #(#[FUNCTIONCALL,&quot;function-call&quot;], ##); } )? ;

and the treeparser is

	: (slit:STRING_LITERAL) {st.write(&quot;PUSHL &quot;+slit.getText());}
	| (nlit:NUMBER_LITERAL) {st.write(&quot;PUSHL &quot;+nlit.getText());}
//	| (idnt:IDENT) {st.write(&quot;PUSHV &quot;+idnt.getText());}
	| functionorident
	;

functionorident
	: (idnt:IDENT) {st.write(&quot;PUSHV &quot;+idnt.getText());}
	| #(FUNCTIONCALL)
	;

It's the last line - &quot;| #(FUNCTIONCALL)&quot; that it's objecting to. When I
don't have it in, my grammar runs but fails with an &quot;unexpected AST
node&quot; - now I'm trying to tell it about it, it won't compile the grammar
:<i>-(
</I>
Cheers,
Wol



************************************************************************
****

This transmission is intended for the named recipient only. It may
contain private and confidential information. If this has come to you in
error you must not act on anything disclosed in it, nor must you copy
it, modify it, disseminate it in any way, or show it to anyone. Please
e-mail the sender to inform us of the transmission error or telephone
ECA International immediately and delete the e-mail from your
information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2
8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New
York +1 212 582 2333.

************************************************************************
****



 
Yahoo! Groups Links



 





 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008100.html">[antlr-interest] unexpected token: FUNCTIONCALL
</A></li>
	<LI>Next message: <A HREF="008102.html">New antlr-interest member
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8101">[ date ]</a>
              <a href="thread.html#8101">[ thread ]</a>
              <a href="subject.html#8101">[ subject ]</a>
              <a href="author.html#8101">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
