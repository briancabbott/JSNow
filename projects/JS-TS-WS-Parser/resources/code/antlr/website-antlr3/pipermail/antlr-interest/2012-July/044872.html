<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Calling a function on token match
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Calling%20a%20function%20on%20token%20match&In-Reply-To=%3CD2A5C7470D67A54FACE86B838946D49D14E47336B2%40NJ4MSGSCR02.markit.partners%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044871.html">
   <LINK REL="Next"  HREF="044873.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Calling a function on token match</H1>
    <B>Burton Samograd</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Calling%20a%20function%20on%20token%20match&In-Reply-To=%3CD2A5C7470D67A54FACE86B838946D49D14E47336B2%40NJ4MSGSCR02.markit.partners%3E"
       TITLE="[antlr-interest] Calling a function on token match">burton.samograd at markit.com
       </A><BR>
    <I>Wed Jul 11 11:01:58 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044871.html">[antlr-interest] turned off public signup to wiki
</A></li>
        <LI>Next message: <A HREF="044873.html">[antlr-interest] help with CPP generated files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44872">[ date ]</a>
              <a href="thread.html#44872">[ thread ]</a>
              <a href="subject.html#44872">[ subject ]</a>
              <a href="author.html#44872">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I am trying to call some code every time a token matches ('\n' in this case).  My naive attempt is:

fragment
NEWLINE
    : '\n' { std::cerr &lt;&lt; &quot;NEWLINE\n&quot;; }
    ;

Giving:

error(100): SDL.g:0:0: syntax error: buildnfa: &lt;AST&gt;:913:12: expecting EOA, found ' std::cerr &lt;&lt; &quot;NEWLINE\n&quot;;

I found this related post:

<A HREF="http://www.antlr.org/pipermail/antlr-interest/2009-February/032921.html">http://www.antlr.org/pipermail/antlr-interest/2009-February/032921.html</A>

But I'm not fluent enough in antlr to understand exactly what the solution entails.  In our grammar we have a number of places to handle whitespace like ( ' ' | '\t' | '\r' | '\n' ) which I am hoping that with the above NEWLINE rule can then be replaced with ( ' ' | '\t' | '\r' | NEWLINE ).  I want to update an external line count variable using a function in the code to be called on token match.

Is what I'm trying to do possible?  If so, could someone show me an example of how to call code on a token match.

Thank you.

--
Burton Samograd

________________________________
This e-mail, including accompanying communications and attachments, is strictly confidential and only for the intended recipient. Any retention, use or disclosure not expressly authorised by Markit is prohibited. This email is subject to all waivers and other terms at the following link: <A HREF="http://www.markit.com/en/about/legal/email-disclaimer.page">http://www.markit.com/en/about/legal/email-disclaimer.page</A>

Please visit <A HREF="http://www.markit.com/en/about/contact/contact-us.page?">http://www.markit.com/en/about/contact/contact-us.page?</A> for contact information on our offices worldwide.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044871.html">[antlr-interest] turned off public signup to wiki
</A></li>
	<LI>Next message: <A HREF="044873.html">[antlr-interest] help with CPP generated files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44872">[ date ]</a>
              <a href="thread.html#44872">[ thread ]</a>
              <a href="subject.html#44872">[ subject ]</a>
              <a href="author.html#44872">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
