<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Island Grammars with identical tokens
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Island%20Grammars%20with%20identical%20tokens&In-Reply-To=%3Cebc876d70905210724yf9ac288m37c5e655582d75af%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034577.html">
   <LINK REL="Next"  HREF="034579.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Island Grammars with identical tokens</H1>
    <B>Thomas Brandon</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Island%20Grammars%20with%20identical%20tokens&In-Reply-To=%3Cebc876d70905210724yf9ac288m37c5e655582d75af%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Island Grammars with identical tokens">tbrandonau at gmail.com
       </A><BR>
    <I>Thu May 21 07:24:53 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="034577.html">[antlr-interest] Island Grammars with identical tokens
</A></li>
        <LI>Next message: <A HREF="034579.html">[antlr-interest] Island Grammars with identical tokens
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34578">[ date ]</a>
              <a href="thread.html#34578">[ thread ]</a>
              <a href="subject.html#34578">[ subject ]</a>
              <a href="author.html#34578">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, May 21, 2009 at 11:42 PM, Mike J. Bell &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ckimyt at gmail.com</A>&gt; wrote:
&gt;<i> I have a main grammar that passes control to two different island
</I>&gt;<i> grammars to parse a language. &#160;One island grammar is an island because
</I>&gt;<i> it's so big and can be used in a context outside the main language,
</I>&gt;<i> and the other island has vastly different lexer rules (whitespace
</I>&gt;<i> isn't ignored, etc.).
</I>&gt;<i>
</I>&gt;<i> All three generate ASTs for processing by a follow-on tree parser. &#160;As
</I>&gt;<i> such, I need the lexer token numbers to match for all three lexers.
</I>&gt;<i> It seems like this is problematic; I thought if I modified the .tokens
</I>&gt;<i> files they would be used as input files to the ANTLR generator; this
</I>&gt;<i> appears to be false...i.e. they are generated from the .g file each
</I>&gt;<i> time.
</I>&gt;<i>
</I>&gt;<i> Does anybody have any advice? &#160;It's like I need to specify a global
</I>&gt;<i> tokens {...} and block of lexer rule names, so that the generated
</I>&gt;<i> files all use the same set of numbers. &#160;Maybe it's possible for me to
</I>&gt;<i> make a &quot;base&quot; lexer class that mentions all the token names and has
</I>&gt;<i> overridable lexer rules. &#160;Not sure if that can even happen.
</I>&gt;<i>
</I>&gt;<i> Thanks in advance for any tips...
</I>You should be able to use the importVocab option to specify a common
.tokens file for all lexers to import. Or you can chain the lexers by
having one island grammar import the vocab of the other and then have
the main grammar import that island grammars vocab. That will avoid
the need to keep the manually generated common token file in sync.
Though then you will need to check if ANTLR's build ordering can
handle this dependency or else make sure you enforce the build order
manually or tokens will get out of sync.

Tom.
&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Mike J. Bell on gmail
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I></PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034577.html">[antlr-interest] Island Grammars with identical tokens
</A></li>
	<LI>Next message: <A HREF="034579.html">[antlr-interest] Island Grammars with identical tokens
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34578">[ date ]</a>
              <a href="thread.html#34578">[ thread ]</a>
              <a href="subject.html#34578">[ subject ]</a>
              <a href="author.html#34578">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
