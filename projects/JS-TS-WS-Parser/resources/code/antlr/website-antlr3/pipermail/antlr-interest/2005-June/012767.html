<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] C/C++ instrumentation tool
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20C/C%2B%2B%20instrumentation%20tool&In-Reply-To=dd3a065f05062002481ed6c3f2%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012761.html">
   <LINK REL="Next"  HREF="012769.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] C/C++ instrumentation tool</H1>
    <B>Peggy Fieland</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20C/C%2B%2B%20instrumentation%20tool&In-Reply-To=dd3a065f05062002481ed6c3f2%40mail.gmail.com"
       TITLE="[antlr-interest] C/C++ instrumentation tool">madcapmaggie at yahoo.com
       </A><BR>
    <I>Mon Jun 20 05:37:19 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012761.html">[antlr-interest] C/C++ instrumentation tool
</A></li>
        <LI>Next message: <A HREF="012769.html">[antlr-interest] C/C++ instrumentation tool
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12767">[ date ]</a>
              <a href="thread.html#12767">[ thread ]</a>
              <a href="subject.html#12767">[ subject ]</a>
              <a href="author.html#12767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Andy,

You might want to consider watching the inputs and
outputs of your functions and the flow of control
rather than variable values per-se.

It's fairly easy to do with GDM:

  info functions 
to find all the functions (or interrogate the program
symbol table using another tool).

the break on any/all functions of interest and try:
  finish
which will do just that, plus report the result if
it's a function.

It should be fairly easy to write a tool to do this.

However, you might want to consider, especially if one
program is a rewrite of the other, a tool that
compares the sources of all of the functions.  I've
done this in the past where one version was a rewrite
of another and it was very productive -- by an order
of magnitude at least in finding bugs.

It sounds like you've been working with these two
versions for a while -- have the bugs been mostly
coding errors, due to language differences,
differences in the execution environments or what? 
Categorizing them and then looking for these kinds of
problems might be very productive.

Peggy
--- Bryan Ewbank &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ewbank at gmail.com</A>&gt; wrote:

&gt;<i> &gt; I've got Java and C++ versions of the same
</I>&gt;<i> program, and when they
</I>&gt;<i> &gt; differ, I need to track down the problem.
</I>&gt;<i> 
</I>&gt;<i> Do you want to instrument every assignment so that
</I>&gt;<i> file/line/value/variable is displayed?  That sounds
</I>&gt;<i> a bit invasive if
</I>&gt;<i> you instrumenet the objects - really the only way to
</I>&gt;<i> get at the
</I>&gt;<i> post-assignment values.  On the other hand,
</I>&gt;<i> hijacking assignment and
</I>&gt;<i> just value assigned might be much simpler.
</I>&gt;<i> 
</I>&gt;<i> Using ANTLR to instrument all &quot;=&quot; assignments should
</I>&gt;<i> work, and allow a
</I>&gt;<i> diff of the output streams to show you where the
</I>&gt;<i> programs diverge
</I>&gt;<i> (assuming they are *identical* implementations,
</I>&gt;<i> rather than the same
</I>&gt;<i> algorithm).  I've done this kind of instrumentation
</I>&gt;<i> before (with sed,
</I>&gt;<i> or with vi) and it is quite helpful.
</I>&gt;<i> 
</I>&gt;<i> Using ANTLR to instrument all setter methods so they
</I>&gt;<i> they report the
</I>&gt;<i> value of an object member after modification is
</I>&gt;<i> probably fairly
</I>&gt;<i> difficult, as just recognizing setter functions is
</I>&gt;<i> hard.
</I>&gt;<i> 
</I>&gt;<i> As a third option, using ANTLR to transform either
</I>&gt;<i> C++ or java into a
</I>&gt;<i> gdb input script that watches the variables might be
</I>&gt;<i> easy - I've never
</I>&gt;<i> thought about doing that, but it might be useful for
</I>&gt;<i> what you are
</I>&gt;<i> describing.
</I>&gt;<i> 
</I>&gt;<i> Sorry to wander a bit, but I don't understand how
</I>&gt;<i> you are considering
</I>&gt;<i> using ANTLR to address the problem you raise.
</I>&gt;<i> 
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012761.html">[antlr-interest] C/C++ instrumentation tool
</A></li>
	<LI>Next message: <A HREF="012769.html">[antlr-interest] C/C++ instrumentation tool
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12767">[ date ]</a>
              <a href="thread.html#12767">[ thread ]</a>
              <a href="subject.html#12767">[ subject ]</a>
              <a href="author.html#12767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
