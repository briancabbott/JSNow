<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] C Target: Reverse look up of tokens for error	reporting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20C%20Target%3A%20Reverse%20look%20up%20of%20tokens%20for%20error%0A%09reporting&In-Reply-To=%3C4eef1c222103494e9ddf01162b8cff3e%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036612.html">
   <LINK REL="Next"  HREF="036614.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] C Target: Reverse look up of tokens for error	reporting</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20C%20Target%3A%20Reverse%20look%20up%20of%20tokens%20for%20error%0A%09reporting&In-Reply-To=%3C4eef1c222103494e9ddf01162b8cff3e%40temporal-wave.com%3E"
       TITLE="[antlr-interest] C Target: Reverse look up of tokens for error	reporting">jimi at temporal-wave.com
       </A><BR>
    <I>Tue Nov  3 15:13:37 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="036612.html">[antlr-interest] C Target: Reverse look up of tokens for error	reporting
</A></li>
        <LI>Next message: <A HREF="036614.html">[antlr-interest] Difference between v and v.st
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36613">[ date ]</a>
              <a href="thread.html#36613">[ thread ]</a>
              <a href="subject.html#36613">[ subject ]</a>
              <a href="author.html#36613">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You have to supply a function that takes the token as defined by the expecting element, perform a switch() on it and supply the text you really want. It is pretty easy but there is no automated way to do it and if we had the alias stuff that was in v2 it really doesn't save you any typing. Better to do it explicitly yourself.

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Peterson, Joe
</I>&gt;<i> Sent: Tuesday, November 03, 2009 2:56 PM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] C Target: Reverse look up of tokens for error
</I>&gt;<i> reporting
</I>&gt;<i> 
</I>&gt;<i> Hello all,
</I>&gt;<i> 
</I>&gt;<i> I am trying to generate more useful error messages when I get a file
</I>&gt;<i> that doesn't match the grammar. One of the complaints is that because I
</I>&gt;<i> named my tokens, the error messages look like this:
</I>&gt;<i>     syntax error detected in file missing_semicolon.test at line number
</I>&gt;<i> 6, position 5; expecting SEMICOLON
</I>&gt;<i> 
</I>&gt;<i> To me, this seems obvious, but my customers don't like the token names,
</I>&gt;<i> they'd rather see:
</I>&gt;<i>     syntax error detected in file fail_missing_colon.ext at line number
</I>&gt;<i> 6, position 2; expecting ';'
</I>&gt;<i> 
</I>&gt;<i> I prefer to have the names, though. Is there an easy way for me to
</I>&gt;<i> reverse the look up so the error can replace SEMICOLON with ';' (as
</I>&gt;<i> well as all my other tokens, of course)?
</I>&gt;<i> 
</I>&gt;<i> I can get the NAME of the token with:
</I>&gt;<i> 	recognizer-&gt;state-&gt;tokenNames[recognizer-&gt;state-&gt;exception-
</I>&gt;<i> &gt;expecting]
</I>&gt;<i> I can't seem to see how to get the text of that token, though.
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> -JEEP
</I>&gt;<i> Joe Peterson
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> email-address
</I>


</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036612.html">[antlr-interest] C Target: Reverse look up of tokens for error	reporting
</A></li>
	<LI>Next message: <A HREF="036614.html">[antlr-interest] Difference between v and v.st
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36613">[ date ]</a>
              <a href="thread.html#36613">[ thread ]</a>
              <a href="subject.html#36613">[ subject ]</a>
              <a href="author.html#36613">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
