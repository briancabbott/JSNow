<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Optional keyword causes (correct) warnings in ANTLR
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Optional%20keyword%20causes%20%28correct%29%20warnings%20in%20ANTLR&In-Reply-To=%3C4804DE94.BB97.0087.0%40quintiq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027843.html">
   <LINK REL="Next"  HREF="027909.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Optional keyword causes (correct) warnings in ANTLR</H1>
    <B>Ramon Verbruggen</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Optional%20keyword%20causes%20%28correct%29%20warnings%20in%20ANTLR&In-Reply-To=%3C4804DE94.BB97.0087.0%40quintiq.com%3E"
       TITLE="[antlr-interest] Optional keyword causes (correct) warnings in ANTLR">Ramon.Verbruggen at quintiq.com
       </A><BR>
    <I>Tue Apr 15 07:57:57 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027843.html">[antlr-interest] Updated ECMAScript 3 grammar
</A></li>
        <LI>Next message: <A HREF="027909.html">[antlr-interest] Optional keyword causes ambiguity in	parser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27822">[ date ]</a>
              <a href="thread.html#27822">[ thread ]</a>
              <a href="subject.html#27822">[ subject ]</a>
              <a href="author.html#27822">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am working on a grammar for a Delphi/Java like programming language.
In a statementbody the return statement can only be the last statement,
if it is present at all.

I have made a small grammar to illustrate the problem:

grammar ANTLRQuill;

statementBody:		statementList returnStatement? EOF;
	
returnStatement:		'return' expression ';'*; // &lt;== return
keyword should be optional
	
statementList:		(statement ';'*)*;
	
statement:			addressableElement;

expression:			addressableElement ( '*'
addressableElement )*;

addressableElement:	Identifier ( '.' Identifier '()' )*;
	
Identifier:			('a'..'z')+;


Now, I would like to make the 'return' keyword optional, but when I
just insert the question mark after the return keyword, ANTLR rightfully
complains that it has several ways of matching Identifier, and that it
will always choose alternative one. I understand the warning, and I see
that ANTLR's right, but I don't see how else to solve this problem.

I've tried a lot of different possibilities already, and searched the
archives and the ANTLR book, but haven't been able to find a way to make
the return keyword optional. Obviously, the actual grammar is much
bigger and a bit more complex than the example above, so especially
rules statement, expression and addressableElement have more
alternatives, and the expression hierarchy has the usual 'ladder' of
expression types to obtain the correct levels of precedence.

Any help is appreciated.

Best regards,


Ramon Verbruggen


This message contains information that may be privileged or confidential
and is the property of Quintiq. It is only intended for the person to
whom it is addressed. If you are not the intended recipient, you are not
authorized to read, print, retain, copy, disseminate, distribute or use
this message or any part thereof. If you have received this message in
error, please notify the sender immediately and delete all copies of
this message. Please note that e-mails are susceptible to change,
therefore they are not binding.
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027843.html">[antlr-interest] Updated ECMAScript 3 grammar
</A></li>
	<LI>Next message: <A HREF="027909.html">[antlr-interest] Optional keyword causes ambiguity in	parser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27822">[ date ]</a>
              <a href="thread.html#27822">[ thread ]</a>
              <a href="subject.html#27822">[ subject ]</a>
              <a href="author.html#27822">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
