<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Repost: ANTLRworks: Why do these rules behave differently in the embedded interpreter?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Repost%3A%20ANTLRworks%3A%20Why%20do%20these%20rules%20behave%0A%20differently%20in%20the%20embedded%20interpreter%3F&In-Reply-To=%3C4B3E50D2.6030301%40jacaranda.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037188.html">
   <LINK REL="Next"  HREF="037190.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Repost: ANTLRworks: Why do these rules behave differently in the embedded interpreter?</H1>
    <B>David-Sarah Hopwood</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Repost%3A%20ANTLRworks%3A%20Why%20do%20these%20rules%20behave%0A%20differently%20in%20the%20embedded%20interpreter%3F&In-Reply-To=%3C4B3E50D2.6030301%40jacaranda.org%3E"
       TITLE="[antlr-interest] Repost: ANTLRworks: Why do these rules behave differently in the embedded interpreter?">david-sarah at jacaranda.org
       </A><BR>
    <I>Fri Jan  1 11:45:22 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037188.html">[antlr-interest] Repost: ANTLRworks: Why do these rules behave	differently in the embedded interpreter?
</A></li>
        <LI>Next message: <A HREF="037190.html">[antlr-interest] Repost: ANTLRworks: Why do these rules behave	differently in the embedded interpreter?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37189">[ date ]</a>
              <a href="thread.html#37189">[ thread ]</a>
              <a href="subject.html#37189">[ subject ]</a>
              <a href="author.html#37189">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jim Idle wrote:
&gt;<i> The interpreter is just a quick testing device and is easily fooled by grammar rules, use the debugger and not the interpreter and all will be fine.
</I>
Yes, but what Kyle pointed out seems like an obvious bug in the
interpreter in a case that it is supposed to be able to handle.

Either bugs like this should be fixed, or there is no point in having
the interpreter and all and it should be removed, with its functionality
being replaced by the debugger.

&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Kyle Ferrio
</I>&gt;&gt;<i> Sent: Friday, January 01, 2010 11:11 AM
</I>&gt;&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;&gt;<i> Subject: [antlr-interest] Repost: ANTLRworks: Why do these rules behave
</I>&gt;&gt;<i> differently in the embedded interpreter?
</I>&gt;&gt;<i>
</I>[...]
&gt;&gt;<i> That leaves us with the following rule, for which the interpreter runs
</I>&gt;&gt;<i> without error on our test input:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> expr
</I>&gt;&gt;<i>   :  multExpr ( ( '+' multExpr | '-' multExpr ) )*
</I>&gt;&gt;<i>   ;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [This is potentially ambiguous.  Does a token bind more tightly to
</I>&gt;&gt;<i> another token, or to the binary operator '|' for alternatives?  Yes,
</I>&gt;&gt;<i> we know the official ANTLR answer, but I'm questioning my
</I>&gt;&gt;<i> understanding of the specific implementation embodied in ANTLRworks.
</I>&gt;&gt;<i> See next rule.]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So I figured [maybe wrongly?] I was right about actions causing
</I>&gt;&gt;<i> problems.  But wait.  Let's dig deeper.  This second rule
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> expr
</I>&gt;&gt;<i>   :  multExpr ( ( '+' multExpr ) | ( '-' multExpr ) )*
</I>&gt;&gt;<i>   ;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> works in the interpreter as expected for the first alternative (used
</I>&gt;&gt;<i> for 3+1) but produces a MisMatchedTokenException for the second
</I>&gt;&gt;<i> alternative (used for 3-1).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> And better yet, this third rule
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> expr
</I>&gt;&gt;<i>   :  multExpr ( ( ( '+' multExpr ) | ( '-' multExpr ) ) )*
</I>&gt;&gt;<i>   ;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> works great in the interpreter for both 3+1 and 3-1, just like the
</I>&gt;&gt;<i> first rule does.
</I>
-- 
David-Sarah Hopwood  &#9893;  <A HREF="http://davidsarah.livejournal.com">http://davidsarah.livejournal.com</A>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 292 bytes
Desc: OpenPGP digital signature
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20100101/3721e965/attachment.bin">http://www.antlr.org/pipermail/antlr-interest/attachments/20100101/3721e965/attachment.bin</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037188.html">[antlr-interest] Repost: ANTLRworks: Why do these rules behave	differently in the embedded interpreter?
</A></li>
	<LI>Next message: <A HREF="037190.html">[antlr-interest] Repost: ANTLRworks: Why do these rules behave	differently in the embedded interpreter?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37189">[ date ]</a>
              <a href="thread.html#37189">[ thread ]</a>
              <a href="subject.html#37189">[ subject ]</a>
              <a href="author.html#37189">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
