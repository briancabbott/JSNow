<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] TokenStreamRewriteEngine
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20TokenStreamRewriteEngine&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015018.html">
   <LINK REL="Next"  HREF="015023.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] TokenStreamRewriteEngine</H1>
    <B>DM</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20TokenStreamRewriteEngine&In-Reply-To="
       TITLE="[antlr-interest] TokenStreamRewriteEngine">donalmurtagh at yahoo.co.uk
       </A><BR>
    <I>Mon Jan  9 04:49:39 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="015018.html">[antlr-interest] State Machines Galore
</A></li>
        <LI>Next message: <A HREF="015023.html">[antlr-interest] TokenStreamRewriteEngine + java profiling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15021">[ date ]</a>
              <a href="thread.html#15021">[ thread ]</a>
              <a href="subject.html#15021">[ subject ]</a>
              <a href="author.html#15021">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm using ANTLR to validate and modify a structured text file.
Originally, I intended to enable the file to be modified by:

1. Building a min/max AST
2. Modifying the min/max AST
3. Printing out the tokens in the modified AST in the original order

As per the approach advocated in the article:
<A HREF="http://www.antlr.org/article/preserving.token.order/preserving.token.order.tml">http://www.antlr.org/article/preserving.token.order/preserving.token.order.tml</A>

However, this solution is inefficient, as I'll need to reparse the file after each modification
(in order to reconstruct the min/max AST). This is a particular problem for me, as the file is
very large.

As an alternative approach, TP suggested using his TokenStreamRewriteEngine. An example of using
this is presented in the article:
<A HREF="http://www.antlr.org/article/rewrite.engine/index.tml">http://www.antlr.org/article/rewrite.engine/index.tml</A>

However, in this example (generating a C header file from a source file), the necessary
modifications are known a priori. But in my case, the modifications will only be known at runtime,
as they depend on user input.

Is TokenStreamRewriteEngine suitable for use only when one type of modifications are possible? For
example, would it be possible to modify the example in the article to alternatively enable:

- all global variables to be deleted OR
- all global function names to be renamed so they begin with &quot;foo&quot;

Thanks in advance,
DM




	
	
		
___________________________________________________________ 
Yahoo! Messenger - NEW crystal clear PC to PC calling worldwide with voicemail <A HREF="http://uk.messenger.yahoo.com">http://uk.messenger.yahoo.com</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015018.html">[antlr-interest] State Machines Galore
</A></li>
	<LI>Next message: <A HREF="015023.html">[antlr-interest] TokenStreamRewriteEngine + java profiling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15021">[ date ]</a>
              <a href="thread.html#15021">[ thread ]</a>
              <a href="subject.html#15021">[ subject ]</a>
              <a href="author.html#15021">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
