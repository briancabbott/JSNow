<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Problem with AST tree with heterogeneous nodes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problem%20with%20AST%20tree%20with%20heterogeneous%20nodes&In-Reply-To=%3C14799bf61001070816g6c418b23r370598cdb8befee7%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037238.html">
   <LINK REL="Next"  HREF="037242.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Problem with AST tree with heterogeneous nodes</H1>
    <B>Marcin Rze&#378;nicki</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problem%20with%20AST%20tree%20with%20heterogeneous%20nodes&In-Reply-To=%3C14799bf61001070816g6c418b23r370598cdb8befee7%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Problem with AST tree with heterogeneous nodes">marcin.rzeznicki at gmail.com
       </A><BR>
    <I>Thu Jan  7 08:16:18 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037238.html">[antlr-interest] tree rewrite: breaking apart subtrees
</A></li>
        <LI>Next message: <A HREF="037242.html">[antlr-interest] An ANTLR-based XMI translator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37239">[ date ]</a>
              <a href="thread.html#37239">[ thread ]</a>
              <a href="subject.html#37239">[ subject ]</a>
              <a href="author.html#37239">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
I have a curious problem when populating AST tree with custom nodes,
or to be more precise, with their constructors.
If, in the tree grammar (I basically construct AST tree in parser and
in the next step I rewrite it using tree walker), I am using:
STORE&lt;UnresolvedLocal&gt;[$ID, expressionResolver]

then constructor UnresolvedLocal(int ttype,	CommonTree id,
ExpressionResolver expressionResolver)
is picked up as expected

But, if I am using the following form:
STORE&lt;LValueError&gt; $lhs expression

then it gets transformed to:
new LValueError(stream_STORE.nextNode()), where nextNode() returns
Object, where I expected integer carrying token type to be used

Is this a bug of some kind? Can you explain it to me? Thank you very
much in advance


-- 
Greetings
Marcin Rze&#378;nicki
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037238.html">[antlr-interest] tree rewrite: breaking apart subtrees
</A></li>
	<LI>Next message: <A HREF="037242.html">[antlr-interest] An ANTLR-based XMI translator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37239">[ date ]</a>
              <a href="thread.html#37239">[ thread ]</a>
              <a href="subject.html#37239">[ subject ]</a>
              <a href="author.html#37239">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
