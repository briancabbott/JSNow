<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] how to let parser control lexer state.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20how%20to%20let%20parser%20control%20lexer%20state.&In-Reply-To=%3CB36CCC332A32904F8FA3DE134A235336252401%40wavemachine.temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020407.html">
   <LINK REL="Next"  HREF="020409.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] how to let parser control lexer state.</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20how%20to%20let%20parser%20control%20lexer%20state.&In-Reply-To=%3CB36CCC332A32904F8FA3DE134A235336252401%40wavemachine.temporal-wave.com%3E"
       TITLE="[antlr-interest] how to let parser control lexer state.">jimi at temporal-wave.com
       </A><BR>
    <I>Sat Apr 28 14:54:51 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020407.html">[antlr-interest] how to let parser control lexer state.
</A></li>
        <LI>Next message: <A HREF="020409.html">[antlr-interest] how to let parser control lexer state.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20420">[ date ]</a>
              <a href="thread.html#20420">[ thread ]</a>
              <a href="subject.html#20420">[ subject ]</a>
              <a href="author.html#20420">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Take a look at the island grammar example if you want the lexer to jump
out and call a different parse stream until some termination point is
reached, then jump back in to the main stream. Otherwise you can just
hide the text in the lexer by setting a token { $type = HIDDEN }

Jim

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of femto gary
Sent: Friday, April 27, 2007 8:47 PM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] how to let parser control lexer state.

yes, so that's the problem.
syntax predicate or semantic predicate all happpens at parser level
and can't be used. because lex tokenStream are already constanted..

On 4/28/07, David Holroyd &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">dave at badgers-in-foil.co.uk</A>&gt; wrote:
&gt;<i> On Fri, Apr 27, 2007 at 10:42:24AM -0700, Loring Craymer wrote:
</I>&gt;<i> &gt; That's what semantic predicates (in the parser) are
</I>&gt;<i> &gt; for--there are no lexical issues involved in this
</I>&gt;<i> &gt; case.  You want to do the symbol table lookup and test
</I>&gt;<i> &gt; in a predicate.
</I>&gt;<i>
</I>&gt;<i> Here-docs are a lexing problem, I think -- content on subsequent lines
</I>&gt;<i> must not be interpreted with normal lexer rules until the document
</I>&gt;<i> terminator is seen..?
</I>&gt;<i>
</I>&gt;<i> &gt; --- femtowin1 &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">femtowin1 at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; Hi all, in antlr3, can parser control lexer state
</I>&gt;<i> &gt; &gt; and decide how lexer lexing? some grammar has
</I>&gt;<i> &gt; &gt; ambiguity
</I>&gt;<i> &gt; &gt; decided upon by parser knowledge.
</I>&gt;<i> &gt; &gt;   for ruby grammar &lt;&lt;
</I>&gt;<i> &gt; &gt; x &lt;&lt; 1
</I>&gt;<i> &gt; &gt; test
</I>&gt;<i> &gt; &gt; 1
</I>&gt;<i> &gt; &gt; if x is a variable, then &lt;&lt; is shift operator,
</I>&gt;<i> &gt; &gt; otherwise it is a heredoc. so lexing must know
</I>&gt;<i> &gt; &gt; from the symbol table whether x has been defined
</I>&gt;<i> &gt; &gt; beforehand. But current antlrv3 implementation,
</I>&gt;<i> &gt; &gt; lexer lexing to a constant token stream, and feed
</I>&gt;<i> &gt; &gt; it into parser, so can't achieve this effect.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> <A HREF="http://david.holroyd.me.uk/">http://david.holroyd.me.uk/</A>
</I>&gt;<i>
</I>

-- 
Best Regards
XRuby <A HREF="http://xruby.com">http://xruby.com</A>
femto <A HREF="http://hi.baidu.com/femto">http://hi.baidu.com/femto</A>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020407.html">[antlr-interest] how to let parser control lexer state.
</A></li>
	<LI>Next message: <A HREF="020409.html">[antlr-interest] how to let parser control lexer state.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20420">[ date ]</a>
              <a href="thread.html#20420">[ thread ]</a>
              <a href="subject.html#20420">[ subject ]</a>
              <a href="author.html#20420">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
