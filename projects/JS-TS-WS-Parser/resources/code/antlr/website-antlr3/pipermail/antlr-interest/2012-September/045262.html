<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Follow up to hoisted predicates and local	variables
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Follow%20up%20to%20hoisted%20predicates%20and%20local%0A%09variables&In-Reply-To=%3Ce90543079c68c1e15f7ed8085a11b7f8%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045259.html">
   <LINK REL="Next"  HREF="045282.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Follow up to hoisted predicates and local	variables</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Follow%20up%20to%20hoisted%20predicates%20and%20local%0A%09variables&In-Reply-To=%3Ce90543079c68c1e15f7ed8085a11b7f8%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Follow up to hoisted predicates and local	variables">jimi at temporal-wave.com
       </A><BR>
    <I>Sat Sep 15 09:10:54 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="045259.html">[antlr-interest] Follow up to hoisted predicates and local	variables
</A></li>
        <LI>Next message: <A HREF="045282.html">[antlr-interest] Follow up to hoisted predicates and local	variables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45262">[ date ]</a>
              <a href="thread.html#45262">[ thread ]</a>
              <a href="subject.html#45262">[ subject ]</a>
              <a href="author.html#45262">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK - So:

Create a rule that lexes /*
Create an input-&gt;mark at the start of this rule
Using hand crafted code, walk through the input stream
If a normal comment, then you are just finding the matching */ (handle
embedded)
If a !12345 comment, then
   directly change the /*!12345 to spaces in the input stream,
   find the matching */ and change those to spaces
   input-&gt;rewind to the mark you created
   exit the rule

Easy :) - sometimes the best solution is not to try and force the lexer to
deal with this. V4 lexers will be able to deal with state and so on, and
should handle this type of thing better.

Jim





&gt;<i> -----Original Message-----
</I>&gt;<i> From: Mike Lischke [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">mike at lischke-online.de</A>]
</I>&gt;<i> Sent: Saturday, September 15, 2012 2:53 AM
</I>&gt;<i> To: Jim Idle
</I>&gt;<i> Cc: ANTLR Mailing List
</I>&gt;<i> Subject: Re: [antlr-interest] Follow up to hoisted predicates and local
</I>&gt;<i> variables
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi Jim,
</I>&gt;<i>
</I>&gt;<i> &gt; I think that you may need to step back on your approach here. You may
</I>&gt;<i> &gt; have showed this before, but what (clearly horrible) language are you
</I>&gt;<i> &gt; trying to parse, and what is the context? We seem to be solving small
</I>&gt;<i> &gt; issues for you, when perhaps your bigger question can be addressed in
</I>&gt;<i> &gt; a more correct fashion.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If that were possible I'd be very happy. I have asked the bigger
</I>&gt;<i> question just a few days ago:
</I>&gt;<i> <A HREF="http://antlr.markmail.org/message/reuws4bz3mi6hb24,">http://antlr.markmail.org/message/reuws4bz3mi6hb24,</A> but got no reply.
</I>&gt;<i>
</I>&gt;<i> In the meantime I came very close to a solution, but am stuck now
</I>&gt;<i> because of the predicates problem I mentioned.
</I>&gt;<i>
</I>&gt;<i> Mike
</I>&gt;<i> --
</I>&gt;<i> www.soft-gems.net
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045259.html">[antlr-interest] Follow up to hoisted predicates and local	variables
</A></li>
	<LI>Next message: <A HREF="045282.html">[antlr-interest] Follow up to hoisted predicates and local	variables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45262">[ date ]</a>
              <a href="thread.html#45262">[ thread ]</a>
              <a href="subject.html#45262">[ subject ]</a>
              <a href="author.html#45262">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
