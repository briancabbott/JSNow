<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Bounding the token stream in the C backend
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Bounding%20the%20token%20stream%20in%20the%20C%20backend&In-Reply-To=%3C837547028fc7c442a9408fc7784b2701%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037858.html">
   <LINK REL="Next"  HREF="037842.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Bounding the token stream in the C backend</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Bounding%20the%20token%20stream%20in%20the%20C%20backend&In-Reply-To=%3C837547028fc7c442a9408fc7784b2701%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Bounding the token stream in the C backend">jimi at temporal-wave.com
       </A><BR>
    <I>Thu Mar  4 11:22:25 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037858.html">[antlr-interest] Bounding the token stream in the C backend
</A></li>
        <LI>Next message: <A HREF="037842.html">[antlr-interest] Extends the lexer in C target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37860">[ date ]</a>
              <a href="thread.html#37860">[ thread ]</a>
              <a href="subject.html#37860">[ subject ]</a>
              <a href="author.html#37860">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK cool. That is more in line with what I am expecting. If you don't need the followset tracking then you also squeeze out a bit more, but then you get to the limits of useful optimization I think. Reusing all the token memory and input file memory and so on is very useful if you have some kind of server process or are parsing hundreds/thousands of files at one time.

Thanks for putting in the time to verify some of my assumptions compared to the 2.7 C++ runtime.

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Christopher L Conway [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cconway at cs.nyu.edu</A>]
</I>&gt;<i> Sent: Thursday, March 04, 2010 10:53 AM
</I>&gt;<i> To: Jim Idle
</I>&gt;<i> Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: Re: [antlr-interest] Bounding the token stream in the C
</I>&gt;<i> backend
</I>&gt;<i> 
</I>&gt;<i> On Wed, Mar 3, 2010 at 6:58 PM, Jim Idle &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;&gt; I'm giving the running time for the whole parsing process, including
</I>&gt;<i> &gt;&gt; semantic actions. We've previously measured that about 50% of the
</I>&gt;<i> time
</I>&gt;<i> &gt;&gt; was spent in ANTLR code, so this represents probably an 80-90%
</I>&gt;<i> speedup
</I>&gt;<i> &gt;&gt; on pure parsing.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Still doesn't seem to be quite right to be honest, you should be
</I>&gt;<i> seeing it much faster than that. Or do you mean that it now only takes
</I>&gt;<i> 10 to 20% of the time to parse than it used to?
</I>&gt;<i> 
</I>&gt;<i> Yes, that's what I mean. I am very, very pleased with the improvement.
</I>&gt;<i> :-)
</I>&gt;<i> 
</I>&gt;<i> &gt; You need to define the macro as per the examples in the downloadable
</I>&gt;<i> examples tar ball:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; @lexer::header
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt; #define ANTLR3_INLINE_INPUT_ASCII
</I>&gt;<i> &gt; }
</I>&gt;<i> 
</I>&gt;<i> Ah... I missed this. This makes another 5-10% improvement! Wow.
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Chris
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037858.html">[antlr-interest] Bounding the token stream in the C backend
</A></li>
	<LI>Next message: <A HREF="037842.html">[antlr-interest] Extends the lexer in C target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37860">[ date ]</a>
              <a href="thread.html#37860">[ thread ]</a>
              <a href="subject.html#37860">[ subject ]</a>
              <a href="author.html#37860">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
