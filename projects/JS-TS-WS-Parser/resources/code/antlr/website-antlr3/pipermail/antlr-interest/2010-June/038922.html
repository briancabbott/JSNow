<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Pruning malformed ASTs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Pruning%20malformed%20ASTs&In-Reply-To=%3C4e89c43a35497849a17ad299a86a9dfc%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038920.html">
   <LINK REL="Next"  HREF="038928.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Pruning malformed ASTs</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Pruning%20malformed%20ASTs&In-Reply-To=%3C4e89c43a35497849a17ad299a86a9dfc%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Pruning malformed ASTs">jimi at temporal-wave.com
       </A><BR>
    <I>Fri Jun  4 12:50:30 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="038920.html">[antlr-interest] Pruning malformed ASTs
</A></li>
        <LI>Next message: <A HREF="038928.html">[antlr-interest] Parsing whole-line comments?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38922">[ date ]</a>
              <a href="thread.html#38922">[ thread ]</a>
              <a href="subject.html#38922">[ subject ]</a>
              <a href="author.html#38922">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You might be better off just improving the error catching capabilities of your parser such that you do not generate the error nodes in the first place. You can use the error recovery techniques shown in the Wiki article:

<A HREF="http://www.antlr.org/wiki/display/ANTLR3/Custom+Syntax+Error+Recovery">http://www.antlr.org/wiki/display/ANTLR3/Custom+Syntax+Error+Recovery</A>

And then download the JavaFX parser grammar to see how to intercept errors such that you can create a tree with a defined pattern for error nodes. I think that you will need to build the tree manually to do that, but you can build an ANTLR AST, you don't have to come up with your own format.

Jim


&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Richard Thrippleton
</I>&gt;<i> Sent: Friday, June 04, 2010 9:30 AM
</I>&gt;<i> To: ANTLR Interest
</I>&gt;<i> Subject: [antlr-interest] Pruning malformed ASTs
</I>&gt;<i> 
</I>&gt;<i> I am in the slightly painful situation of wanting to apply a tree
</I>&gt;<i> grammar
</I>&gt;<i> (type and other constraints checking) after a parser grammar even in
</I>&gt;<i> the
</I>&gt;<i> case that there were parse errors.
</I>&gt;<i> 
</I>&gt;<i> At the moment I just have the tree grammar exit at the moment that it
</I>&gt;<i> encounters a malformed part of the tree; as I've seen stated on here
</I>&gt;<i> before,
</I>&gt;<i> there's no other sensible thing to do.
</I>&gt;<i> 
</I>&gt;<i> Sometimes I'm fortunate to have simple parse errors that still result
</I>&gt;<i> in a
</I>&gt;<i> correct tree (e.g. standalone unexpected tokens just get removed in
</I>&gt;<i> recovery). For the larger parse errors I'll get an AST containing
</I>&gt;<i> CommonErrorNodes which obviously trip up the tree grammar.
</I>&gt;<i> 
</I>&gt;<i> What I'm looking for is some common pattern or part of the ANTLR API
</I>&gt;<i> that
</I>&gt;<i> will allow the parser to snip subtrees at a specific granularity that
</I>&gt;<i> contain error nodes as I create them. For example:
</I>&gt;<i> 
</I>&gt;<i> procedure:
</I>&gt;<i> 	command* -&gt; ^(PROC command*)
</I>&gt;<i> 
</I>&gt;<i> needs to ignore any tree coming out of the 'command' rule that contains
</I>&gt;<i> error nodes.
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Richard
</I>&gt;<i> --
</I>&gt;<i> \o/
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> email-address
</I>


</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038920.html">[antlr-interest] Pruning malformed ASTs
</A></li>
	<LI>Next message: <A HREF="038928.html">[antlr-interest] Parsing whole-line comments?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38922">[ date ]</a>
              <a href="thread.html#38922">[ thread ]</a>
              <a href="subject.html#38922">[ subject ]</a>
              <a href="author.html#38922">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
