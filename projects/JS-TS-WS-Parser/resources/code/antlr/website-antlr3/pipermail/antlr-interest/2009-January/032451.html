<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] adding &quot;version&quot; option to ANTLR grammars
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20adding%20%22version%22%20option%20to%20ANTLR%20grammars&In-Reply-To=%3C673774B77DFB453C985A9D7053EC2FF7%40DFW5RB41%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032450.html">
   <LINK REL="Next"  HREF="032452.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] adding &quot;version&quot; option to ANTLR grammars</H1>
    <B>Gary R. Van Sickle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20adding%20%22version%22%20option%20to%20ANTLR%20grammars&In-Reply-To=%3C673774B77DFB453C985A9D7053EC2FF7%40DFW5RB41%3E"
       TITLE="[antlr-interest] adding &quot;version&quot; option to ANTLR grammars">g.r.vansickle at att.net
       </A><BR>
    <I>Tue Jan 20 04:22:09 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032450.html">[antlr-interest] adding &quot;version&quot; option to ANTLR grammars
</A></li>
        <LI>Next message: <A HREF="032452.html">[antlr-interest] adding &quot;version&quot; option to ANTLR grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32451">[ date ]</a>
              <a href="thread.html#32451">[ thread ]</a>
              <a href="subject.html#32451">[ subject ]</a>
              <a href="author.html#32451">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From:  Johannes Luber
</I>&gt;<i> 
</I>&gt;<i> &gt; At 22:27 20/01/2009, Johannes Luber wrote:
</I>&gt;<i> &gt;  &gt;&gt; &gt; options {
</I>&gt;<i> &gt;  &gt;&gt; &gt; 	language = ...;
</I>&gt;<i> &gt;  &gt;&gt; &gt; 	version = &quot;3.1.1&quot;;
</I>&gt;<i> &gt;  &gt;&gt; &gt; }
</I>&gt;<i> &gt;  &gt;
</I>&gt;<i> &gt;  &gt;I just thought about an improvement: ANTLR should warn 
</I>&gt;<i> the user, if  
</I>&gt;<i> &gt; &gt;the version isn't identical to the one of the tool. That 
</I>&gt;<i> way people  
</I>&gt;<i> &gt; &gt;not only see a potential issue, but are more inclined to 
</I>&gt;<i> update the  
</I>&gt;<i> &gt; &gt;string.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I agree with both of those.
</I>&gt;<i> 
</I>&gt;<i> Another improvement would be to allow a comma-separated list. 
</I>&gt;<i> With it one can record all versions of ANTLR, with which the 
</I>&gt;<i> grammar works without any modifications.
</I>
The trouble with that is that it forces the user to predict the future.
Maybe it will work with the next fifty versions, which may only have changes
which don't affect the ultimate interpretation, such as bug fixes, speed
improvements, and the like, but there's no way to specify that.  

The only way this sort of thing works is for the source file to declare
&quot;this is the standard I was written to&quot;.  It is then up to the interpreters,
past, present, and future, to either modify their interpretation to match
that of the specified standard (i.e. future ANTLR versions &quot;degrading&quot; their
interpretation) or simply bail (e.g. ANTLR 3.1.2 tries to read a grammar
that says its written to the ANTLR 8.5.6 standard, which it of course has no
idea what that even is, so it can't possibly interpret it).

A halfway solution used by some (autoconf comes to mind) is to list a
minimum required version of the interpreter.  It's a bit of a fine
distinction, but this tends to be problematic in the opposite direction: it
forces the developer of the interpreter (i.e. Terence et al) to never break
backward compatability - i.e. always have one foot in the past.  It also
doesn't actually tell anyone anything about the source; does
&quot;requires_ANTLR_version = 3.1.1&quot; mean it's using the &quot;^(&quot; or the &quot;#(&quot;
rewrite syntax?  No way to know until you hit the first one, so why bother
with the &quot;requires&quot; at all?

&gt;<i> Once one does a 
</I>&gt;<i> backwards-incompatible upgrade (be it bugfix, changed ANTLR 
</I>&gt;<i> behaviour or the use of a new feature), the list is cleared. 
</I>
How do you do that once your grammar leaves your PC?  Your customer decides
to upgrade his ANTLR install and now your program won't compile.

&gt;<i> And if someone is unsure if a grammar change makes things 
</I>&gt;<i> incompatible, he has to check merely the latest given version.
</I>&gt;<i> 
</I>
-- 
Gary R. Van Sickle

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032450.html">[antlr-interest] adding &quot;version&quot; option to ANTLR grammars
</A></li>
	<LI>Next message: <A HREF="032452.html">[antlr-interest] adding &quot;version&quot; option to ANTLR grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32451">[ date ]</a>
              <a href="thread.html#32451">[ thread ]</a>
              <a href="subject.html#32451">[ subject ]</a>
              <a href="author.html#32451">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
