<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Bug with number of Tokens in lexers? (was: XML	QName Character Validation)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Bug%20with%20number%20of%20Tokens%20in%20lexers%3F%20%28was%3A%20XML%0A%09QName%20Character%20Validation%29&In-Reply-To=%3C4618E32F-2FD4-46ED-89EF-92833B757B58%40martin-probst.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027627.html">
   <LINK REL="Next"  HREF="027672.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Bug with number of Tokens in lexers? (was: XML	QName Character Validation)</H1>
    <B>Martin Probst</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Bug%20with%20number%20of%20Tokens%20in%20lexers%3F%20%28was%3A%20XML%0A%09QName%20Character%20Validation%29&In-Reply-To=%3C4618E32F-2FD4-46ED-89EF-92833B757B58%40martin-probst.com%3E"
       TITLE="[antlr-interest] Bug with number of Tokens in lexers? (was: XML	QName Character Validation)">mail at martin-probst.com
       </A><BR>
    <I>Mon Apr  7 01:44:24 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027627.html">[antlr-interest] XML QName Character Validation
</A></li>
        <LI>Next message: <A HREF="027672.html">[antlr-interest] Bug with number of Tokens in lexers? (was: XML	QName Character Validation)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27671">[ date ]</a>
              <a href="thread.html#27671">[ thread ]</a>
              <a href="subject.html#27671">[ subject ]</a>
              <a href="author.html#27671">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> For NCName, I suggest you look only at the first character, then  
</I>&gt;<i> accept anything which is not a delimiter (e.g. &quot;:&quot;, space, angle  
</I>&gt;<i> bracket, etc..  After the match, call a routine to check that the  
</I>&gt;<i> match is a valid name This has two advantages:
</I>
The trouble is that only looking at the first character doesn't really  
help - I'm already in trouble with the first decision.

I think I'm running into either a undocumented (= unknown to me ;-))  
limitation of ANTLRs lexer generation, or a bug.

The attached lexer grammar is the lexical part of my XQuery grammar.  
I've commented out most of the tokens section, see the block comment  
starting at line 37.

The weird thing is that with those tokens up to line 36, everything  
works as expected. If I comment in one more token (e.g. include the  
EVERY token), ANTLR suddenly starts complaining about ambiguities in  
the file.

If I replace the complex letter rule with a simpler 'a'..'z' |  
'A'..'Z', everything works fine again and I can have (apparently) as  
much tokens as I want.

How does this happen? Is there a limit to the number of decisions in a  
lexer?

Thanks for your help,
Martin
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027627.html">[antlr-interest] XML QName Character Validation
</A></li>
	<LI>Next message: <A HREF="027672.html">[antlr-interest] Bug with number of Tokens in lexers? (was: XML	QName Character Validation)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27671">[ date ]</a>
              <a href="thread.html#27671">[ thread ]</a>
              <a href="subject.html#27671">[ subject ]</a>
              <a href="author.html#27671">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
