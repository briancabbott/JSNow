<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Python3 target
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Python3%20target&In-Reply-To=%3C4A13CD1D.3090803%40student.hpi.uni-potsdam.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034549.html">
   <LINK REL="Next"  HREF="034550.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Python3 target</H1>
    <B>Murat Knecht</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Python3%20target&In-Reply-To=%3C4A13CD1D.3090803%40student.hpi.uni-potsdam.de%3E"
       TITLE="[antlr-interest] Python3 target">murat.knecht at student.hpi.uni-potsdam.de
       </A><BR>
    <I>Wed May 20 02:27:57 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="034549.html">[antlr-interest] Python3 target
</A></li>
        <LI>Next message: <A HREF="034550.html">[antlr-interest] is there anyway turn on or off (ignore case|case	insensitive) ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34558">[ date ]</a>
              <a href="thread.html#34558">[ thread ]</a>
              <a href="subject.html#34558">[ subject ]</a>
              <a href="author.html#34558">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Ben,

thanks for your fast reply and this simply advice - I didn't think of
running 2to3 on ANTLR. After having some fun with 2to3, I managed to
port both the antlr3-python runtime to python3, as well as the python
target.

Unfortunately, there are still errors in the generated code (and in the
runtime), such as the following. Those are not fixed by 2to3, I guess
because type information is missing:

    if (('\t' &lt;= LA9_0 &lt;= '\n') or LA9_0 == '\r' or LA9_0 == ' ') :
TypeError: unorderable types: str() &lt;= int()

I'll do some patching to get ANTLR to work locally ...

All the best,
Murat

Benjamin Niemann schrieb:
&gt;<i> Hi Murat,
</I>&gt;<i>
</I>&gt;<i> On Tue, May 19, 2009 at 6:00 PM, Murat Knecht
</I>&gt;<i> &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">murat.knecht at student.hpi.uni-potsdam.de</A>&gt; wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> I just tried the native Python target with ANTLR3 and stumbled upon
</I>&gt;&gt;<i> problems using the generated parser in Python v3.
</I>&gt;&gt;<i> The documentation says that the current version supports v2.4 and 2.5.
</I>&gt;&gt;<i> Are there any plans to produce a Python3 compatible target or is one
</I>&gt;&gt;<i> already being made?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So far, it seems the problems are rather minor, e.g. using old unicode
</I>&gt;&gt;<i> u'blub' strings, which are not allowed in Python anymore. I could
</I>&gt;&gt;<i> probably just hack the python target, but then an in-house solution
</I>&gt;&gt;<i> clearly is nicer and better maintainable.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> I thought about it, but no action taken yet. To keep the
</I>&gt;<i> maintainability high, this probably needs some tweaks in the codegen
</I>&gt;<i> code (e.g. allow 'subclassing' of targets, if implemented as a
</I>&gt;<i> separate target).
</I>&gt;<i>
</I>&gt;<i> Have you tried using the 2to3 tool on the generated code/runtime module?
</I>&gt;<i>
</I>&gt;<i> -Ben
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> Sorry, if this has been asked before. Googling python3 and antlr usually
</I>&gt;&gt;<i> results in something about antlr3 (Google is trying just too hard.)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Best regards,
</I>&gt;&gt;<i> Murat
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034549.html">[antlr-interest] Python3 target
</A></li>
	<LI>Next message: <A HREF="034550.html">[antlr-interest] is there anyway turn on or off (ignore case|case	insensitive) ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34558">[ date ]</a>
              <a href="thread.html#34558">[ thread ]</a>
              <a href="subject.html#34558">[ subject ]</a>
              <a href="author.html#34558">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
