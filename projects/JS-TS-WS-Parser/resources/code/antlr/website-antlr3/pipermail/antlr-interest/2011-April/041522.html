<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Error Handling Advanced
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Error%20Handling%20Advanced&In-Reply-To=%3CBANLkTimMS5TEF%3DHZ79%3Dd0q9w4hbwQgnSXQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041519.html">
   <LINK REL="Next"  HREF="041520.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Error Handling Advanced</H1>
    <B>Kirby Bohling</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Error%20Handling%20Advanced&In-Reply-To=%3CBANLkTimMS5TEF%3DHZ79%3Dd0q9w4hbwQgnSXQ%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Error Handling Advanced">kirby.bohling at gmail.com
       </A><BR>
    <I>Fri Apr 29 13:31:26 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="041519.html">[antlr-interest] Error Handling Advanced
</A></li>
        <LI>Next message: <A HREF="041520.html">[antlr-interest] Using ANTLRFileStream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41522">[ date ]</a>
              <a href="thread.html#41522">[ thread ]</a>
              <a href="subject.html#41522">[ subject ]</a>
              <a href="author.html#41522">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Maybe it is easier using C#, but it always annoys me that in Java if I
implement my own superclass, I have to implement two versions (and
duplicate a bunch of goop).   Hopefully addressing that is on the
ANTLRv4 list.  I thought Terrance said he had ideas for that in the
future when it was brought up in the past.

I'd recommending delegating to a helper class if possible and you're
doing this in Java.  At least if you ever want to use AntlrWorks.
Otherwise, you'll get errors about not having the Debug class not
existing.

Kirby


On Fri, Apr 29, 2011 at 11:41 AM, Jim Idle &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>&gt; wrote:
&gt;<i> Download the source code for the JavaFX compiler. Though it is in Java,
</I>&gt;<i> the same techniques apply and you can easily adapt to both C# and Spanish.
</I>&gt;<i> Just do the same thing and use a superclass rather than trying to put
</I>&gt;<i> things in to the .g file.
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://kenai.com/projects/openjfx-compiler">http://kenai.com/projects/openjfx-compiler</A>
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Prados Valiente Enrique
</I>&gt;&gt;<i> Sent: Friday, April 29, 2011 2:07 AM
</I>&gt;&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;&gt;<i> Subject: [antlr-interest] Error Handling Advanced
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm newbie using Antlr3.Runtime.dll C# , VS 2008, CSharp2 target
</I>&gt;&gt;<i> (perhaps better use vs2010 and CSharp3 target)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I need advanced error handling for use spanish in my error messages,
</I>&gt;&gt;<i> and do more clearly the messages to show it to the users.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have been this page:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://www.antlr.org/wiki/pages/viewpage.action?pageId=23232568">http://www.antlr.org/wiki/pages/viewpage.action?pageId=23232568</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> how is the code of getRuleInvocationStack ???
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> please, any another advanced samples for error handling ??
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> thanks.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> public String getErrorMessage(RecognitionException e,
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; String[] tokenNames)
</I>&gt;&gt;<i> &#160; &#160; {
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; List stack = getRuleInvocationStack(e,
</I>&gt;&gt;<i> this.getClass().getName());
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; String msg = null;
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; String inputContext =
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; input.LT(-3) == null ? &quot;&quot; : ((Tree)input.LT(-
</I>&gt;&gt;<i> 3)).getText()+&quot;
</I>&gt;&gt;<i> &quot;+
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; input.LT(-2) == null ? &quot;&quot; : ((Tree)input.LT(-
</I>&gt;&gt;<i> 2)).getText()+&quot;
</I>&gt;&gt;<i> &quot;+
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; input.LT(-1) == null ? &quot;&quot; : ((Tree)input.LT(-
</I>&gt;&gt;<i> 1)).getText()+&quot;
</I>&gt;&gt;<i> &gt;&gt;&gt;&quot;+
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; ((Tree)input.LT(1)).getText()+&quot;&lt;&lt;&lt; &quot;+
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; ((Tree)input.LT(2)).getText()+&quot; &quot;+
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; ((Tree)input.LT(3)).getText();
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; if ( e instanceof NoViableAltException ) {
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;NoViableAltException nvae = (NoViableAltException)e;
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;msg = &quot; no viable alt; token=&quot;+e.token+
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &quot; (decision=&quot;+nvae.decisionNumber+
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &quot; state &quot;+nvae.stateNumber+&quot;)&quot;+
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &quot; decision=&lt;&lt;&quot;+nvae.grammarDecisionDescription+&quot;&gt;&gt;&quot;;
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; }
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; else {
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160;msg = super.getErrorMessage(e, tokenNames);
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; }
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; return stack+&quot; &quot;+msg+&quot; context=...&quot;+inputContext+&quot;...&quot;;
</I>&gt;&gt;<i> &#160; &#160; }
</I>&gt;&gt;<i> &#160; &#160; public String getTokenErrorDisplay(Token t) {
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; return t.toString();
</I>&gt;&gt;<i> &#160; &#160; }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;&gt;<i> email-address
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041519.html">[antlr-interest] Error Handling Advanced
</A></li>
	<LI>Next message: <A HREF="041520.html">[antlr-interest] Using ANTLRFileStream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41522">[ date ]</a>
              <a href="thread.html#41522">[ thread ]</a>
              <a href="subject.html#41522">[ subject ]</a>
              <a href="author.html#41522">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
