<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Most efficient way to handle character escapes?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Most%20efficient%20way%20to%20handle%20character%20escapes%3F&In-Reply-To=%3Cf2d857e0805091100q6348c531wd26c81e76a76870a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028160.html">
   <LINK REL="Next"  HREF="028165.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Most efficient way to handle character escapes?</H1>
    <B>Scott Royston</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Most%20efficient%20way%20to%20handle%20character%20escapes%3F&In-Reply-To=%3Cf2d857e0805091100q6348c531wd26c81e76a76870a%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Most efficient way to handle character escapes?">scott.royston at gmail.com
       </A><BR>
    <I>Fri May  9 11:00:22 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028160.html">[antlr-interest] TSQL Grammar
</A></li>
        <LI>Next message: <A HREF="028165.html">[antlr-interest] Most efficient way to handle character escapes?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28161">[ date ]</a>
              <a href="thread.html#28161">[ thread ]</a>
              <a href="subject.html#28161">[ subject ]</a>
              <a href="author.html#28161">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to write a set of grammar actions to convert String literals with
character escapes to the final string value,  e.g.:'/47Hello World/47'
should conver to the value 'Hello World' (because /47 is the octal escape
value for ').

My initial try was something like this:
fragment EscapeSequence
:<i>  OctalEscapeSequence {
</I>setText(Character.toString(Character.forDigit(Integer.parseInt(getText()),
8))); }
;

Which doesn't work, I believe because it's a fragment, and setText(...) is a
token construct.

The only obvious way I see to do it is to convert the fragments to tokens
and build up the string, which seems really slow.

I've searched around but can't find any grammars with example actions
handling this.

Am I missing something obvious?

Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080509/92fc9a53/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080509/92fc9a53/attachment.html</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028160.html">[antlr-interest] TSQL Grammar
</A></li>
	<LI>Next message: <A HREF="028165.html">[antlr-interest] Most efficient way to handle character escapes?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28161">[ date ]</a>
              <a href="thread.html#28161">[ thread ]</a>
              <a href="subject.html#28161">[ subject ]</a>
              <a href="author.html#28161">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
