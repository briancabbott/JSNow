<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Can antlr v3 lex star | tristar properly?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Can%20antlr%20v3%20lex%20star%20%7C%20tristar%20properly%3F&In-Reply-To=%3C1195684184.4744b1586b27d%40clients.latnet.lv%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024853.html">
   <LINK REL="Next"  HREF="024847.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Can antlr v3 lex star | tristar properly?</H1>
    <B>Guntis Ozols</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Can%20antlr%20v3%20lex%20star%20%7C%20tristar%20properly%3F&In-Reply-To=%3C1195684184.4744b1586b27d%40clients.latnet.lv%3E"
       TITLE="[antlr-interest] Can antlr v3 lex star | tristar properly?">guntiso at latnet.lv
       </A><BR>
    <I>Wed Nov 21 14:29:44 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024853.html">[antlr-interest] Can antlr v3 lex star | tristar properly?
</A></li>
        <LI>Next message: <A HREF="024847.html">[antlr-interest] Can antlr v3 lex star | tristar properly?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24845">[ date ]</a>
              <a href="thread.html#24845">[ thread ]</a>
              <a href="subject.html#24845">[ subject ]</a>
              <a href="author.html#24845">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks, guys!

I've finally found (thanks to Jim Idle) a solution that both works and
is based on syntactic predicates:
  STAR : '*' (('**') =&gt; '**'  { type = TRISTAR; } | );

Solution by Kay R&#246;pke also works:
  TRISTAR : {input.LA(3) == '*'}? =&gt; '*' '*' '*';
  STAR    : '*';

I still do not understand why
  STAR : '*' ;
  TRISTAR : ('***') =&gt; '***';
does not work as expected, I think it is a bug in v3.

I like antlr because antlr grammar is much more readable than regular
expressions, but enhancements are needed to antlr because lexing gets
broken by adding more tokens, and no warning is given.

&gt;<i> Is there a way to lex this simple grammar (I am using ANTLRWorks 1.1.4):
</I>&gt;<i>
</I>&gt;<i> stars        :        (STAR | TRISTAR)* EOF;
</I>&gt;<i> STAR : '*' ;
</I>&gt;<i> TRISTAR : STAR STAR STAR;
</I>&gt;<i>
</I>&gt;<i> For '**' I keep getting: mismatched character '&lt;EOF&gt;' expecting '*'.
</I>
Guntis

</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024853.html">[antlr-interest] Can antlr v3 lex star | tristar properly?
</A></li>
	<LI>Next message: <A HREF="024847.html">[antlr-interest] Can antlr v3 lex star | tristar properly?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24845">[ date ]</a>
              <a href="thread.html#24845">[ thread ]</a>
              <a href="subject.html#24845">[ subject ]</a>
              <a href="author.html#24845">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
