<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] mismatched tree node
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20mismatched%20tree%20node&In-Reply-To=%3Cf0fcc6820712071221q11645544v83bcec0779420914%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025138.html">
   <LINK REL="Next"  HREF="025137.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] mismatched tree node</H1>
    <B>Mark Volkmann</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20mismatched%20tree%20node&In-Reply-To=%3Cf0fcc6820712071221q11645544v83bcec0779420914%40mail.gmail.com%3E"
       TITLE="[antlr-interest] mismatched tree node">r.mark.volkmann at gmail.com
       </A><BR>
    <I>Fri Dec  7 12:21:17 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025138.html">[antlr-interest] Using a different Tree class
</A></li>
        <LI>Next message: <A HREF="025137.html">[antlr-interest] mismatched tree node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25127">[ date ]</a>
              <a href="thread.html#25127">[ thread ]</a>
              <a href="subject.html#25127">[ subject ]</a>
              <a href="author.html#25127">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to understand why my tree parser is giving me a &quot;mismatched
tree node: - expecting &lt;UP&gt;&quot; error.
Here's the string representation of the simple AST it is processing.

(SCRIPT (FUNCTION f x (POLYNOMIAL (TERM 3 x 2) - (TERM 5 x) + (TERM
7))) (FIND f 1))

It doesn't like the minus sign between the first and second TERM. It
also doesn't like the plus sign between the second and third term.

Here is my tree grammar, stripped down to the bare minimum that will
reproduce the problem.

tree grammar MathTree;

options {
  ASTLabelType = CommonTree;
  tokenVocab = Math;
  output = template;
}

@header {
  package com.ociweb.math;
}

script: ^(SCRIPT statement*);

statement: ^(FUNCTION name=NAME variable=NAME polynomial);

polynomial: ^(POLYNOMIAL term (sign term)*);

sign:	'+' | '-';

term
  :	^(TERM NUMBER)
  |	^(TERM NUMBER NAME)
  |	^(TERM NAME NUMBER)
  |	^(TERM NUMBER NAME NUMBER)
  ;

-- 
R. Mark Volkmann
Object Computing, Inc.
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025138.html">[antlr-interest] Using a different Tree class
</A></li>
	<LI>Next message: <A HREF="025137.html">[antlr-interest] mismatched tree node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25127">[ date ]</a>
              <a href="thread.html#25127">[ thread ]</a>
              <a href="subject.html#25127">[ subject ]</a>
              <a href="author.html#25127">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
