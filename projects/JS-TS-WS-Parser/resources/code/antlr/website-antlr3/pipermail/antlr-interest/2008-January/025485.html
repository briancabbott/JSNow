<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexing an interesting syntax
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexing%20an%20interesting%20syntax&In-Reply-To=%3C477BB813.5060709%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025484.html">
   <LINK REL="Next"  HREF="025490.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexing an interesting syntax</H1>
    <B>Ola Bini</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexing%20an%20interesting%20syntax&In-Reply-To=%3C477BB813.5060709%40gmail.com%3E"
       TITLE="[antlr-interest] Lexing an interesting syntax">ola.bini at gmail.com
       </A><BR>
    <I>Wed Jan  2 08:13:07 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025484.html">[antlr-interest] Mathworks m-script parser
</A></li>
        <LI>Next message: <A HREF="025490.html">[antlr-interest] Lexing an interesting syntax
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25485">[ date ]</a>
              <a href="thread.html#25485">[ thread ]</a>
              <a href="subject.html#25485">[ subject ]</a>
              <a href="author.html#25485">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Just started work on a lexer for an Io-based language. I want the lexing 
to handle the same constructs as Io, and mostly it's really easy. I hit 
one little snag though. I have a solution, but it's incredibly ugly. So 
I'm wondering how this can be done in the Antlr way.

To make it easy, the lexing is only on identifiers, where any 
combination of the letter &quot;s&quot; and &quot;:&quot; is valid, &quot;=&quot;, &quot;:=&quot; and &quot;::=&quot; is 
valid. That's all.
With these constraints, I need:

* &quot;s:&quot; to lex into &quot;s:&quot;
* &quot;s:=&quot; to lex into &quot;s&quot; and &quot;:=&quot;
* &quot;s::=&quot; to lex into &quot;s:&quot; and &quot;:=&quot;
* &quot;s::::=&quot; to lex into &quot;s:::&quot; and &quot;:=&quot;

How can I accomplish this in a good way? The ugly way I have right now 
depends on an action that checks if the next character is &quot;=&quot; and the 
currently matched token ends with &quot;:&quot;. If that's true, it sets a flag 
and strips the &quot;:&quot; away from the text of the token. Conversely, when &quot;=&quot; 
is matched, an action checks if the flag is set, and in that case sets 
the text to be &quot;:=&quot; instead. This is obviously extremely ugly, but it 
seems to work, except that indices will be a bit wrong.

Can anyone give me a better solution to this?

Cheers

-- 
 Ola Bini (<A HREF="http://ola-bini.blogspot.com">http://ola-bini.blogspot.com</A>) 
 JRuby Core Developer
 Developer, ThoughtWorks Studios (<A HREF="http://studios.thoughtworks.com">http://studios.thoughtworks.com</A>)
 Practical JRuby on Rails (<A HREF="http://apress.com/book/view/9781590598818">http://apress.com/book/view/9781590598818</A>)

 &quot;Yields falsehood when quined&quot; yields falsehood when quined.


</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025484.html">[antlr-interest] Mathworks m-script parser
</A></li>
	<LI>Next message: <A HREF="025490.html">[antlr-interest] Lexing an interesting syntax
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25485">[ date ]</a>
              <a href="thread.html#25485">[ thread ]</a>
              <a href="subject.html#25485">[ subject ]</a>
              <a href="author.html#25485">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
