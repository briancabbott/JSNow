<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR tree construction - list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR%20tree%20construction%20-%20list&In-Reply-To=%3C9C26CAB9-B4DB-4C51-B8C9-FAB7C9BB9B8F%40mac.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041809.html">
   <LINK REL="Next"  HREF="041822.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR tree construction - list</H1>
    <B>Bill Andersen</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR%20tree%20construction%20-%20list&In-Reply-To=%3C9C26CAB9-B4DB-4C51-B8C9-FAB7C9BB9B8F%40mac.com%3E"
       TITLE="[antlr-interest] ANTLR tree construction - list">bill.andersen at mac.com
       </A><BR>
    <I>Mon Jun 13 06:32:23 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="041809.html">[antlr-interest] Comments in Tcl - Lexer
</A></li>
        <LI>Next message: <A HREF="041822.html">[antlr-interest] rulecatch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41813">[ date ]</a>
              <a href="thread.html#41813">[ thread ]</a>
              <a href="subject.html#41813">[ subject ]</a>
              <a href="author.html#41813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Folks,

Ought to be a pretty simple question.  I have the following production in a combined grammar with tree output

collection returns [CommonTree name]
@init {
  List&lt;CommonTree&gt; rest = new LinkedList&lt;CommonTree&gt;();
}
  : OPEN { $name = pushName(newName()); } 
      ( term { rest.add($term.rest); })+ 
    CLOSE { popName(); }
    -&gt; ^(COL { $name } term+) ????
  ;

This production is supposed to match a &quot;collection&quot; - An open paren followed by a non-zero-length sequence of &lt;term&gt; followed by a close paren.  Each &lt;term&gt; has two outputs - the default tree return, and the &quot;rest&quot; tree.  I want the output of this production to be the sequence of the COL tree prepended to all the &quot;rest&quot;s which are accumulated in the @init list.

I know, for example, that I can do stuff like this:

test
  :  foo bar baz
    -&gt; foo baz
  ;

to have the list of 'foo' and 'baz' trees as output.  Thing is I don't know what to do with the 'rest' list above to have its elements appear in the output tree.

Can someone tell me what needs to go in place of ????

Thanks!

	.bill


</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041809.html">[antlr-interest] Comments in Tcl - Lexer
</A></li>
	<LI>Next message: <A HREF="041822.html">[antlr-interest] rulecatch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41813">[ date ]</a>
              <a href="thread.html#41813">[ thread ]</a>
              <a href="subject.html#41813">[ subject ]</a>
              <a href="author.html#41813">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
