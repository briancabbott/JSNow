<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Getting correct line information
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Getting%20correct%20line%20information&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000636.html">
   <LINK REL="Next"  HREF="000643.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Getting correct line information</H1>
    <B>mzukowski at bco.com</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Getting%20correct%20line%20information&In-Reply-To="
       TITLE="[antlr-interest] Re: Getting correct line information">mzukowski at bco.com
       </A><BR>
    <I>Wed Feb 13 08:48:15 PST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000636.html">[antlr-interest] Re: Getting correct line information
</A></li>
        <LI>Next message: <A HREF="000643.html">[antlr-interest] Re: Getting correct line information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#637">[ date ]</a>
              <a href="thread.html#637">[ thread ]</a>
              <a href="subject.html#637">[ subject ]</a>
              <a href="author.html#637">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

&gt;<i> -----Original Message-----
</I>&gt;<i> From: braden_mcdaniel [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">braden at endoframe.com</A>]
</I>&gt;<i> Sent: Wednesday, February 13, 2002 8:42 AM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
</I>&gt;<i> Subject: [antlr-interest] Re: Getting correct line information
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at y...</A>, <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">mzukowski at b...</A> wrote:
</I>&gt;<i> &gt; Sounds like you need to tweak your scanner so that when it creates
</I>&gt;<i> &gt; Tokens it fills in the line info properly.
</I>&gt;<i> 
</I>&gt;<i> Actually, I am doing that. I instantiate a CommonToken and call
</I>&gt;<i> setLine on it. I have used CommonToken::getLine inside the scanner to
</I>&gt;<i> confirm that the value in the Token is correct. This value doesn't
</I>&gt;<i> appear to have any effect on the line number returned in parser error
</I>&gt;<i> messages.
</I>
Then something is wrong with the reportError() method either in your parser
or inherited by it.

&gt;<i> &gt; If you use an ANTLR scanner then you simply need to call newline()
</I>&gt;<i> &gt; whenever you want to increment the line count.
</I>&gt;<i> 
</I>&gt;<i> Meaning I could derive from CharScanner and just override nextToken as
</I>&gt;<i> I do now, but call newline instead of (in addition to?) setting
</I>&gt;<i> this information directly on the Token?
</I>
No, that won't behave any differently.  I had assumed that the Token's
getLine() wasn't working properly, which should be how the parser gets it's
line number to report.  But if you are doing that part right then maybe it's
a bug in the code generator or base classes.  Fire up a debugger and find
out.

 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000636.html">[antlr-interest] Re: Getting correct line information
</A></li>
	<LI>Next message: <A HREF="000643.html">[antlr-interest] Re: Getting correct line information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#637">[ date ]</a>
              <a href="thread.html#637">[ thread ]</a>
              <a href="subject.html#637">[ subject ]</a>
              <a href="author.html#637">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
