<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Possible code generation problem with arguments	(ANTLR 3.1)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Possible%20code%20generation%20problem%20with%20arguments%0A%09%28ANTLR%203.1%29&In-Reply-To=%3C7f8924df0808152225g32498c50i9bc29488bf391490%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030042.html">
   <LINK REL="Next"  HREF="030050.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Possible code generation problem with arguments	(ANTLR 3.1)</H1>
    <B>Ian Kaplan</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Possible%20code%20generation%20problem%20with%20arguments%0A%09%28ANTLR%203.1%29&In-Reply-To=%3C7f8924df0808152225g32498c50i9bc29488bf391490%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Possible code generation problem with arguments	(ANTLR 3.1)">iank at bearcave.com
       </A><BR>
    <I>Fri Aug 15 22:25:25 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="030042.html">[antlr-interest] HELP: Escape sequences and string template
</A></li>
        <LI>Next message: <A HREF="030050.html">[antlr-interest] Possible code generation problem with arguments (ANTLR 3.1)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30044">[ date ]</a>
              <a href="thread.html#30044">[ thread ]</a>
              <a href="subject.html#30044">[ subject ]</a>
              <a href="author.html#30044">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  I pass an argument down through the grammar. This is an object that
contains a simple symbol table and other book keeping information.  As the
parse proceeds objects are added to this container object.  The grammar is
shown below.  As you can see, I set backtrack to true since this is a
section of the grammar that can't be parsed as I've written the grammar
without back tracking.

  ANTLR apparently generates syntactic predicate delegates or something.
These are shown below as well.  Note that these methods have no argument,
unlike the syntax that they were generated from.  They then attempt to call
the method generated for the syntax production with an argument that doesn't
exist.

  Is this a bug in ANTLR or a feature?  It should be possible to rewrite the
code so that it doesn't use arguments passed downward, but it will be some
work to get this done.  So I would be greatful for any insight before I go
down this path.  Thanks for your help,

  Ian


patternLink[ PatternContainer patternDef ]
options{
    backtrack=true;  // Allows parser backtracking
    memoize=true;
}
    : simpleLink[ patternDef ]
    | rangeLinkSet[ patternDef ]
    | degreeLinkSet[ patternDef ]
    ;

Generated Java code:

    // $ANTLR start synpred1_GraphQuery
    public final void synpred1_GraphQuery_fragment() throws
RecognitionException {
        // GraphQuery.g:685:7: ( simpleLink[ patternDef ] )
        // GraphQuery.g:685:7: simpleLink[ patternDef ]
        {
        pushFollow(FOLLOW_simpleLink_in_synpred1_GraphQuery1646);
        simpleLink(patternDef);

        state._fsp--;
        if (state.failed) return ;

        }
    }
    // $ANTLR end synpred1_GraphQuery

    // $ANTLR start synpred2_GraphQuery
    public final void synpred2_GraphQuery_fragment() throws
RecognitionException {
        // GraphQuery.g:686:7: ( rangeLinkSet[ patternDef ] )
        // GraphQuery.g:686:7: rangeLinkSet[ patternDef ]
        {
        pushFollow(FOLLOW_rangeLinkSet_in_synpred2_GraphQuery1655);
        rangeLinkSet(patternDef);

        state._fsp--;
        if (state.failed) return ;

        }
    }
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080816/478c3a32/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080816/478c3a32/attachment.html</A> 
</PRE>














































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030042.html">[antlr-interest] HELP: Escape sequences and string template
</A></li>
	<LI>Next message: <A HREF="030050.html">[antlr-interest] Possible code generation problem with arguments (ANTLR 3.1)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30044">[ date ]</a>
              <a href="thread.html#30044">[ thread ]</a>
              <a href="subject.html#30044">[ subject ]</a>
              <a href="author.html#30044">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
