<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Semantic predicates in v4 lexer rules
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Semantic%20predicates%20in%20v4%20lexer%20rules&In-Reply-To=%3CCF9A9D17-0BA2-4931-B9AC-11619BEFAF95%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043925.html">
   <LINK REL="Next"  HREF="043927.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Semantic predicates in v4 lexer rules</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Semantic%20predicates%20in%20v4%20lexer%20rules&In-Reply-To=%3CCF9A9D17-0BA2-4931-B9AC-11619BEFAF95%40cs.usfca.edu%3E"
       TITLE="[antlr-interest] Semantic predicates in v4 lexer rules">parrt at cs.usfca.edu
       </A><BR>
    <I>Mon Jan 23 13:43:16 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="043925.html">[antlr-interest] Semantic predicates in v4 lexer rules
</A></li>
        <LI>Next message: <A HREF="043927.html">[antlr-interest] Semantic predicates in v4 lexer rules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43926">[ date ]</a>
              <a href="thread.html#43926">[ thread ]</a>
              <a href="subject.html#43926">[ subject ]</a>
              <a href="author.html#43926">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> there is no need for syntactic predicates in either the parser or the lexer anymore. just specify the grammar you need, and honey badger will do its magic.
Ter
On Jan 23, 2012, at 1:21 PM, A Z wrote:

&gt;<i> Thanks for the response. It's also giving me errors for all syntactic
</I>&gt;<i> predicates so I assume it's for the same reason.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Tue, Jan 24, 2012 at 1:13 AM, Sam Harwell &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sam at tunnelvisionlabs.com</A>&gt;wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Even after this is resolved, semantic predicates are almost surely not the
</I>&gt;&gt;<i> correct way to handle this. Instead, you should use an action like the
</I>&gt;&gt;<i> following at the end of the rule to reset the keyword to an identifier if
</I>&gt;&gt;<i> keywords are disabled. Semantic predicates in a v4 lexer have a major
</I>&gt;&gt;<i> performance cost.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> K_IF : 'if' {if (!keywords) $type=ID;};
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Sam Harwell
</I>&gt;&gt;<i> Owner, Lead Developer
</I>&gt;&gt;<i> <A HREF="http://tunnelvisionlabs.com">http://tunnelvisionlabs.com</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i> From: Terence Parr [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>]
</I>&gt;&gt;<i> Sent: Monday, January 23, 2012 12:40 PM
</I>&gt;&gt;<i> To: A Z
</I>&gt;&gt;<i> Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;&gt;<i> Subject: Re: [antlr-interest] Semantic predicates in v4 lexer rules
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> ooops. I removed actions from anywhere except the right-hand side but
</I>&gt;&gt;<i> forgot
</I>&gt;&gt;<i> to leave in predicates.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> adding to the list.
</I>&gt;&gt;<i> Ter
</I>&gt;&gt;<i> On Jan 23, 2012, at 10:31 AM, A Z wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> Can we still use sementic predicates in lexer rules using v4? The
</I>&gt;&gt;&gt;<i> following code works in 3.4 but 4.0ea complains with
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> error(15): TestLexer.g:484:29: '{keywords == true}?' came as a
</I>&gt;&gt;&gt;<i> complete surprise to me while looking for lexer rule element
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> K_IF                       : {keywords == true}? =&gt; 'if';
</I>&gt;&gt;&gt;<i> K_INT                      : {keywords == true}? =&gt; 'int';
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> The language I'm using allows changing the keyword set via
</I>&gt;&gt;&gt;<i> preprocessor directives so all the keywords need to test a variable at
</I>&gt;&gt;&gt;<i> runtime. Is there another way to do this in v4?
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;&gt;<i> Unsubscribe:
</I>&gt;&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;<i> Unsubscribe:
</I>&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>
</PRE>
































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043925.html">[antlr-interest] Semantic predicates in v4 lexer rules
</A></li>
	<LI>Next message: <A HREF="043927.html">[antlr-interest] Semantic predicates in v4 lexer rules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43926">[ date ]</a>
              <a href="thread.html#43926">[ thread ]</a>
              <a href="subject.html#43926">[ subject ]</a>
              <a href="author.html#43926">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
