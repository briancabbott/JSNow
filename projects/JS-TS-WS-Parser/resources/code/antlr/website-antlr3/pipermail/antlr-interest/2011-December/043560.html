<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] De-emphasizing tree grammars?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20De-emphasizing%20tree%20grammars%3F&In-Reply-To=%3CDD919EEA-9174-4DB6-97A5-1506AF21954E%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043572.html">
   <LINK REL="Next"  HREF="043565.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] De-emphasizing tree grammars?</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20De-emphasizing%20tree%20grammars%3F&In-Reply-To=%3CDD919EEA-9174-4DB6-97A5-1506AF21954E%40cs.usfca.edu%3E"
       TITLE="[antlr-interest] De-emphasizing tree grammars?">parrt at cs.usfca.edu
       </A><BR>
    <I>Tue Dec 27 11:08:52 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="043572.html">[antlr-interest] Antlr3.4 Python bugs, workarounds
</A></li>
        <LI>Next message: <A HREF="043565.html">[antlr-interest] Making common prefixes work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43560">[ date ]</a>
              <a href="thread.html#43560">[ thread ]</a>
              <a href="subject.html#43560">[ subject ]</a>
              <a href="author.html#43560">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Dec 26, 2011, at 2:54 PM, Gavin King wrote:

&gt;<i> This all looks reasonable to me. The only doubt I have is how close
</I>&gt;<i> the structure of the parse tree is to the AST in a complex grammar. I
</I>
Well, an AST does not have rule nodes so they will always be very different.

&gt;<i> imagine that in most cases it's very close, so probably not a major
</I>&gt;<i> issue. Still, it might be nice to be able to mark a rule as not
</I>&gt;<i> producing a node in the typesafe parse tree.
</I>
I thought about that, but since the rule invocation stack/tree of context objects does double duty for holding context and representing the final parse tree, it's hard to remove some of the nodes. For example, if there's an error in a rule that we told to drop from the parse tree, there's no way for me to provide that information to an IDE or whatever.

&gt;<i> There might even be some
</I>&gt;<i> other stuff you could provide to allow a bit of additional control
</I>&gt;<i> over the resulting tree. However, I can understand if that's a
</I>&gt;<i> non-goal - it's still going to be much, much easier to transform the
</I>&gt;<i> parse tree to an AST.
</I>
Yep, We should also set it up so that you can create new subtrees using concrete syntax. The following would start parsing at rule stat and return a tree given the string input.

parse(&quot;stat&quot;, &quot;while (i&gt;3) {...}&quot;);

Ter
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043572.html">[antlr-interest] Antlr3.4 Python bugs, workarounds
</A></li>
	<LI>Next message: <A HREF="043565.html">[antlr-interest] Making common prefixes work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43560">[ date ]</a>
              <a href="thread.html#43560">[ thread ]</a>
              <a href="subject.html#43560">[ subject ]</a>
              <a href="author.html#43560">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
