<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] slowdown
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20slowdown&In-Reply-To=%3C511B60BC-9460-45AE-BA08-BED629F5AEC0%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040354.html">
   <LINK REL="Next"  HREF="040356.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] slowdown</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20slowdown&In-Reply-To=%3C511B60BC-9460-45AE-BA08-BED629F5AEC0%40cs.usfca.edu%3E"
       TITLE="[antlr-interest] slowdown">parrt at cs.usfca.edu
       </A><BR>
    <I>Thu Dec 16 10:10:56 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="040354.html">[antlr-interest] slowdown
</A></li>
        <LI>Next message: <A HREF="040356.html">[antlr-interest] Need help getting char * string from an ID
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40355">[ date ]</a>
              <a href="thread.html#40355">[ thread ]</a>
              <a href="subject.html#40355">[ subject ]</a>
              <a href="author.html#40355">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>search for time out or Xwatchconversion 
T
On Dec 16, 2010, at 8:56 AM, Justin Murray wrote:

&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I have started adding {actions} to my grammar, and have noticed that the
</I>&gt;<i> code generation started taking much longer than before. I used the
</I>&gt;<i> -Xwatchconversion flag to try to get an idea of what is happening. What
</I>&gt;<i> I found is that the generation gets to the following point:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> attempting LL(1) DFA (d=627) for ()* loopback of 1409:3: (o= OR e2=
</I>&gt;<i> exprAND )*
</I>&gt;<i> 
</I>&gt;<i> --------------------
</I>&gt;<i> 
</I>&gt;<i> attempting LL(1) DFA (d=628) for ()* loopback of 1417:3: (o= AND e2=
</I>&gt;<i> exprBOR )*
</I>&gt;<i> 
</I>&gt;<i> --------------------
</I>&gt;<i> 
</I>&gt;<i> attempting LL(1) DFA (d=629) for ()* loopback of 1425:3: (o= BOR e2=
</I>&gt;<i> exprBXOR | o= BNOR e2= exprBXOR )*
</I>&gt;<i> 
</I>&gt;<i> --------------------
</I>&gt;<i> 
</I>&gt;<i> attempting LL(1) DFA (d=630) for ()* loopback of 1434:3: (o= BXOR e2=
</I>&gt;<i> exprBAND )*
</I>&gt;<i> 
</I>&gt;<i> --------------------
</I>&gt;<i> 
</I>&gt;<i> attempting LL(1) DFA (d=631) for ()* loopback of 1442:3: (o= BAND e2=
</I>&gt;<i> exprEqual | o= BNAND e2= exprEqual )*
</I>&gt;<i> 
</I>&gt;<i> --------------------
</I>&gt;<i> 
</I>&gt;<i> attempting LL(1) DFA (d=632) for ()* loopback of 1451:3: (o= ( EQ | '='
</I>&gt;<i> ) e2= exprComp | o= NE e2= exprComp )*
</I>&gt;<i> 
</I>&gt;<i> --------------------
</I>&gt;<i> 
</I>&gt;<i> attempting LL(1) DFA (d=633) for ()* loopback of 1460:3: (o= LT_ e2=
</I>&gt;<i> exprShift | o= LE e2= exprShift | o= GT e2= exprShift | o= GE e2=
</I>&gt;<i> exprShift )*
</I>&gt;<i> 
</I>&gt;<i> --------------------
</I>&gt;<i> 
</I>&gt;<i> attempting LL(1) DFA (d=634) for ()* loopback of 1471:3: (o= '&lt;&lt;' e2=
</I>&gt;<i> exprAdd | o= '&gt;&gt;' e2= exprAdd )*
</I>&gt;<i> 
</I>&gt;<i> --------------------
</I>&gt;<i> 
</I>&gt;<i> attempting LL(1) DFA (d=635) for ()* loopback of 1481:3: (o= '+' e2=
</I>&gt;<i> exprMult | o= '-' e2= exprMult )*
</I>&gt;<i> 
</I>&gt;<i> decision 635 not suitable for LL(1)-optimized DFA analysis
</I>&gt;<i> 
</I>&gt;<i> --------------------
</I>&gt;<i> 
</I>&gt;<i> building lookahead DFA (d=635) for ()* loopback of 1481:3: (o= '+' e2=
</I>&gt;<i> exprMult | o= '-' e2= exprMult )*
</I>&gt;<i> 
</I>&gt;<i> convert DFA state 0 (174414 nfa states)
</I>&gt;<i> 
</I>&gt;<i> convert DFA state 29 (106645 nfa states)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> It then hangs on this last line for several minutes (3 or 4), before
</I>&gt;<i> proceeding on with this output:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> trying decision 635 again with k=1; reason: non-LL(*) &amp;&amp; predicate
</I>&gt;<i> visible
</I>&gt;<i> 
</I>&gt;<i> convert DFA state 0 (174414 nfa states)
</I>&gt;<i> 
</I>&gt;<i> convert DFA state 29 (106645 nfa states)
</I>&gt;<i> 
</I>&gt;<i> convert DFA state 30 (106645 nfa states)
</I>&gt;<i> 
</I>&gt;<i> cost: 173 states, 160260 ms
</I>&gt;<i> 
</I>&gt;<i> --------------------
</I>&gt;<i> 
</I>&gt;<i> attempting LL(1) DFA (d=636) for ()* loopback of 1490:3: (o= '*' e2=
</I>&gt;<i> exprPow | o= '/' e2= exprPow | o= '%' e2= exprPow )*
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> While it is possible that I may have inadvertently changed the syntax,
</I>&gt;<i> for the most part I was just adding in my action code. The first
</I>&gt;<i> question is, should adding action code have any effect on the time it
</I>&gt;<i> takes to generate the code? That aside, what would cause the lengthy
</I>&gt;<i> hangup on that one decision? The rest of the decisions go by very
</I>&gt;<i> quickly.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> 
</I>&gt;<i> Justin Murray 
</I>&gt;<i> Software Engineer 
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jmurray at aerotech.com</A>
</I>&gt;<i> 
</I>&gt;<i> Aerotech, Inc. 
</I>&gt;<i> 101 Zeta Drive 
</I>&gt;<i> Pittsburgh, PA 15238 
</I>&gt;<i> 412-963-7470
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040354.html">[antlr-interest] slowdown
</A></li>
	<LI>Next message: <A HREF="040356.html">[antlr-interest] Need help getting char * string from an ID
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40355">[ date ]</a>
              <a href="thread.html#40355">[ thread ]</a>
              <a href="subject.html#40355">[ subject ]</a>
              <a href="author.html#40355">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
