<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] attempt to compare antlr vs bison/flex performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20attempt%20to%20compare%20antlr%20vs%20bison/flex%0A%20performance&In-Reply-To=%3C20071222093123.NGPS20158.viefep11-int.chello.at%40schnuftikus.gmx.at%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025391.html">
   <LINK REL="Next"  HREF="025347.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] attempt to compare antlr vs bison/flex performance</H1>
    <B>Arnulf Heller</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20attempt%20to%20compare%20antlr%20vs%20bison/flex%0A%20performance&In-Reply-To=%3C20071222093123.NGPS20158.viefep11-int.chello.at%40schnuftikus.gmx.at%3E"
       TITLE="[antlr-interest] attempt to compare antlr vs bison/flex performance">aheller at gmx.at
       </A><BR>
    <I>Fri Dec 21 13:10:13 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025391.html">[antlr-interest] attempt to compare antlr vs bison/flex	performance
</A></li>
        <LI>Next message: <A HREF="025347.html">[antlr-interest] attempt to compare antlr vs bison/flex	performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25345">[ date ]</a>
              <a href="thread.html#25345">[ thread ]</a>
              <a href="subject.html#25345">[ subject ]</a>
              <a href="author.html#25345">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

a point that you might also consider is the performance of the Lexer alone.

As far as I can remember there were statements in this mailing list 
that the ANTLR Lexer performance is not mind-blasting :-)
These folks also found ways to use Flex for the lexing part with good 
speed improvements.

This gives the power of ANTLR parsing and the speed of Flex lexing :-)

Maybe you manage to separate your benchmark into the lexing and full 
parsing part.
With ANTLR that should be perfectly possible because you can use the 
Lexer &quot;standalone&quot; and pop tokens out.
If you are able to do that with Flex too (and I assume that is 
possible but my Flex experience is rusty) you can compare the lexing 
and parsing processing overhead for both approaches.

It might also prove difficult to compare the performance due to 
caching of the file in the OS, the CPU, ...
I assume it's good advice to repeat the test several times an 
alternating the two competitors.

In case you have reproducible results, please post it - I'm also curious :-)


At 00:22 20.12.2007, you wrote:
&gt;<i>Hello,
</I>&gt;<i>
</I>&gt;<i>In an effort to compare antlr and bison/flex parsers, I did the 
</I>&gt;<i>following exercise:
</I>&gt;<i>
</I>&gt;<i>- found and compiled bison/flex &quot;C&quot; language parser from the 
</I>&gt;<i>following location:
</I>&gt;<i>    <A HREF="ftp://ftp.uu.net/usenet/net.sources/ansi.c.grammar.Z">ftp://ftp.uu.net/usenet/net.sources/ansi.c.grammar.Z</A>
</I>&gt;<i>- downloaded and compiled antlr3 implementation of &quot;C&quot; language 
</I>&gt;<i>parser from this directory in antlr3 examples:
</I>&gt;<i>   antlr/examples-v3/C/C
</I>&gt;<i>- preprocessed a &quot;C&quot; language file and stripped it such that both 
</I>&gt;<i>parser would pass it through (mostly minor changes)
</I>&gt;<i>- compared runtime for each parser
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>The results of this exercise show that the antlr parser is ~9 times 
</I>&gt;<i>slower than the flex/bison parser. I have used the same version of 
</I>&gt;<i>GNU C compiler for both parsers, with exact same compile options.
</I>&gt;<i>
</I>&gt;<i>Although the grammar definitions come from different sources, I 
</I>&gt;<i>still think this exercise gives a general idea about performance 
</I>&gt;<i>differences of these parsers. Could anyone please tell me if this is 
</I>&gt;<i>an expected runtime difference or you think I could do some 
</I>&gt;<i>optimizations to get faster performance from antlr3.
</I>&gt;<i>
</I>&gt;<i>I can send the complete code I used for both parsers, or any parts 
</I>&gt;<i>of it, if necessary. Just tell me which part would be of interest.
</I>&gt;<i>
</I>&gt;<i>Thanks,
</I>&gt;<i>Minas
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025391.html">[antlr-interest] attempt to compare antlr vs bison/flex	performance
</A></li>
	<LI>Next message: <A HREF="025347.html">[antlr-interest] attempt to compare antlr vs bison/flex	performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25345">[ date ]</a>
              <a href="thread.html#25345">[ thread ]</a>
              <a href="subject.html#25345">[ subject ]</a>
              <a href="author.html#25345">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
