<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer Predicates?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20Predicates%3F&In-Reply-To=%3C001901c8f597%24882c98b0%249885ca10%24%40com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029549.html">
   <LINK REL="Next"  HREF="029543.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer Predicates?</H1>
    <B>Foust</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20Predicates%3F&In-Reply-To=%3C001901c8f597%24882c98b0%249885ca10%24%40com%3E"
       TITLE="[antlr-interest] Lexer Predicates?">javafoust at gmail.com
       </A><BR>
    <I>Sun Aug  3 11:34:12 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029549.html">[antlr-interest] Beginner lexing question.
</A></li>
        <LI>Next message: <A HREF="029543.html">[antlr-interest] Lexer Predicates?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29542">[ date ]</a>
              <a href="thread.html#29542">[ thread ]</a>
              <a href="subject.html#29542">[ subject ]</a>
              <a href="author.html#29542">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> At 9:40pm, August 02, 2008 Gavin wrote:
</I>&gt;<i> 
</I>&gt;<i> At 11:06 3/08/2008, Foust wrote:
</I>&gt;<i> &gt;Do lexer predicates work in v3?
</I>&gt;<i> 
</I>&gt;<i> That depends on what you mean.  You can certainly use both
</I>&gt;<i> syntactic and semantic predicates within the lexer, but they can
</I>&gt;<i> only use lexer state.
</I>
That would explain why setting a static flag in the Lexer from the Parser
has no effect -- the Lexer has already run to completion before the parser
receives the first token.

&gt;<i> 
</I>&gt;<i> Also, while I'm not entirely sure about this, I think predicates
</I>&gt;<i> in the lexer can only be used to decide between alts within a
</I>&gt;<i> single lexer rule.  I vaguely recall some trouble when trying to
</I>&gt;<i> use them to decide between multiple lexer rules (at the top
</I>&gt;<i> level).
</I>
I'll keep that in mind. I've had nothing but trouble trying to get the Lexer
to return tokens based on context (as best determined by the Parser).


&gt;<i> Generally speaking, you should keep your lexer fairly
</I>&gt;<i> straightforward and unambiguous, and defer semantic decisions (and
</I>&gt;<i> ambiguity resolution) until the parsing phase.
</I>
Yes... it started out that way. But to allow spaces to be part of a config
value (read up to EOL), the Lexer needs to honor state. (Place spaces in the
HIDDEN channel for all other cases - outside of a special
config/preprocessor rule).

The parser shouldn't have to go through contortions because of lexer design.
In fact, it seems as though the lexer itself is fine, if only it would get
tokens as required, rather than all at once.

Might I suggest the lexer be endowed with a state mechanism that can be
controlled from the parser?


</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029549.html">[antlr-interest] Beginner lexing question.
</A></li>
	<LI>Next message: <A HREF="029543.html">[antlr-interest] Lexer Predicates?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29542">[ date ]</a>
              <a href="thread.html#29542">[ thread ]</a>
              <a href="subject.html#29542">[ subject ]</a>
              <a href="author.html#29542">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
