<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer bug?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20bug%3F&In-Reply-To=%3C471BF38F.3030804%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024289.html">
   <LINK REL="Next"  HREF="024296.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer bug?</H1>
    <B>Clifford Heath</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20bug%3F&In-Reply-To=%3C471BF38F.3030804%40gmail.com%3E"
       TITLE="[antlr-interest] Lexer bug?">clifford.heath at gmail.com
       </A><BR>
    <I>Sun Oct 21 17:49:19 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024289.html">[antlr-interest] Lexer bug?
</A></li>
        <LI>Next message: <A HREF="024296.html">[antlr-interest] Lexer bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24292">[ date ]</a>
              <a href="thread.html#24292">[ thread ]</a>
              <a href="subject.html#24292">[ subject ]</a>
              <a href="author.html#24292">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jim Idle wrote:
&gt;<i> This isn't a bug.
</I>
Nonsense. Any lexer that consumes characters that aren't a legal token,
and announces a legal token without flagging an error, has a bug.

Lexer rules don't need to &quot;see&quot; any other lexer rule. They just need to
consume as many characters as make a legal token, then stop, Any other
rule that matches the same input but consumes more characters is then
declared the winner, or one that consumes the same number of characters
but is further up in precedence.

This rule consumes digits and one &quot;.&quot;, then stops - and that's not a
legal token.

Your proposed technique is interesting and maybe useful, but doesn't
produce the desired behaviour, as it won't match a trailing real number.
I don't want my lexer to produce one token for three, and then have to
break it apart again later - especially since two of the three tokens
have a non-trivial structure. I could hack it into working, but for now,
I'm just requiring a space before the &quot;..&quot;. 

My hand-coded lexers almost never used if/then/else, but character
classification tables and switch/case. This range problem is trivial
with flex, as well.

Clifford Heath.

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024289.html">[antlr-interest] Lexer bug?
</A></li>
	<LI>Next message: <A HREF="024296.html">[antlr-interest] Lexer bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24292">[ date ]</a>
              <a href="thread.html#24292">[ thread ]</a>
              <a href="subject.html#24292">[ subject ]</a>
              <a href="author.html#24292">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
