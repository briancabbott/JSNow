<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Antlr 3.2 C-target lexer/parser in exe works, crashes in library
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Antlr%203.2%20C-target%20lexer/parser%20in%20exe%20works%2C%0A%20crashes%20in%20library&In-Reply-To=%3C4CDAEB35.8070604%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040012.html">
   <LINK REL="Next"  HREF="040015.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Antlr 3.2 C-target lexer/parser in exe works, crashes in library</H1>
    <B>Joost Kraaijeveld</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Antlr%203.2%20C-target%20lexer/parser%20in%20exe%20works%2C%0A%20crashes%20in%20library&In-Reply-To=%3C4CDAEB35.8070604%40gmail.com%3E"
       TITLE="[antlr-interest] Antlr 3.2 C-target lexer/parser in exe works, crashes in library">jrkraaijeveld at gmail.com
       </A><BR>
    <I>Wed Nov 10 10:57:57 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="040012.html">[antlr-interest] Antlr 3.2 C-target lexer/parser in exe works,	crashes in library
</A></li>
        <LI>Next message: <A HREF="040015.html">[antlr-interest] Antlr 3.2 C-target lexer/parser in exe works,	crashes in library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40014">[ date ]</a>
              <a href="thread.html#40014">[ thread ]</a>
              <a href="subject.html#40014">[ subject ]</a>
              <a href="author.html#40014">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jim,

On 10/11/10 18:58, Jim Idle wrote:
&gt;<i> Keep going with valgrind, but this is either that you are releasing and then
</I>&gt;<i> reusing your input file or have not allocated enough memory or something
</I>&gt;<i> similar. Look at the output of valgrind closely as it is probably telling
</I>&gt;<i> you what you are doing wrong.
</I>
I am sorry to say but valgrind is not telling anyting: with valgrind the
program runs OK and it just mentions that there are a lot of memory
leaks which seems reasonable because I do not release anything (nor
allocate allocate anything with new or malloc for that part). I also do
not release or reuse the input file.

Actually the program does not contain much code that is written by
myself. The grammar has some calls to functions embedded that just print
the thing that are recognised. And is in calling one of the 4 functions
that the program crashes.

I really think that there is a hidden &quot;you should know this when you
embed antlr in a library&quot; thing that I am not aware of or that there is
something else ( I don't like to shout bug :-))

I attached my valgrind log and again mention
<A HREF="http://trac.askesis.nl/downloads/AntlrProblem.tar.bz2">http://trac.askesis.nl/downloads/AntlrProblem.tar.bz2</A> in the hope that
you can help me to find the problem.

TIA

-- 
Met vriendelijke groeten,

Joost Kraaijeveld
Askesis B.V.
Molukkenstraat 14
6524NB Nijmegen
tel: 024-3888063 / 06-51855277
fax: 024-3608416
web: www.askesis.nl
-------------- next part --------------
A non-text attachment was scrubbed...
Name: valgrind_17704.txt.tar.bz2
Type: application/x-bzip
Size: 1362 bytes
Desc: not available
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20101110/095cf498/attachment.bin">http://www.antlr.org/pipermail/antlr-interest/attachments/20101110/095cf498/attachment.bin</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040012.html">[antlr-interest] Antlr 3.2 C-target lexer/parser in exe works,	crashes in library
</A></li>
	<LI>Next message: <A HREF="040015.html">[antlr-interest] Antlr 3.2 C-target lexer/parser in exe works,	crashes in library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40014">[ date ]</a>
              <a href="thread.html#40014">[ thread ]</a>
              <a href="subject.html#40014">[ subject ]</a>
              <a href="author.html#40014">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
