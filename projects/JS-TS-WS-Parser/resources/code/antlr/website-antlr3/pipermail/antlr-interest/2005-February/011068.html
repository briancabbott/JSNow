<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR 3.0 tree construction proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ANTLR%203.0%20tree%20construction%20proposal&In-Reply-To=16896.4010.859020.782455%40despot.non.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011067.html">
   <LINK REL="Next"  HREF="011069.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR 3.0 tree construction proposal</H1>
    <B>Loring Craymer</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ANTLR%203.0%20tree%20construction%20proposal&In-Reply-To=16896.4010.859020.782455%40despot.non.net"
       TITLE="[antlr-interest] ANTLR 3.0 tree construction proposal">Loring.G.Craymer at jpl.nasa.gov
       </A><BR>
    <I>Tue Feb  1 16:00:07 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011067.html">[antlr-interest] ANTLR 3.0 tree construction proposal
</A></li>
        <LI>Next message: <A HREF="011069.html">[antlr-interest] ANTLR 3.0 tree construction proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11068">[ date ]</a>
              <a href="thread.html#11068">[ thread ]</a>
              <a href="subject.html#11068">[ subject ]</a>
              <a href="author.html#11068">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 03:24 PM 2/1/2005, John D. Mitchell wrote:
&gt;<i>(A) I like the use of semantic predicates for this.
</I>&gt;<i>
</I>&gt;<i>(B) Is it just me or is the ? at the end of the semantic predicates
</I>&gt;<i>ridiculously hard to see?  I'd love to see that move to be a prefix, i.e.,:
</I>&gt;<i>   ?{...}
</I>&gt;<i>The left edge is (with any non-insane formatting convention) always easier
</I>&gt;<i>for humans to scan and parse.
</I>
Actually, sem preds and construction preds are pretty clear in 
context--they are oddly placed for actions.  The right end also fits with 
the closure notation.



&gt;<i>Re: Other Issues that I didn't see addressed in your blog...
</I>&gt;<i>
</I>&gt;<i>(A) Payload games
</I>&gt;<i>
</I>&gt;<i>Hmm... Don't we need to support the ability to treat the payload as e.g., a
</I>&gt;<i>list of payloads?  I.e., I'd like the first payload in the AST node to be
</I>&gt;<i>the e.g., Token but then I want to add annotations that are tied to that
</I>&gt;<i>node (rather than building e.g., a map).
</I>
No, because payloads are the unit of attribute manipulation.  You can 
define whatever fields (attributes) you like for payload classes for your 
specific application--just as for heteroASTs in 2.x--but you want a single 
data package at each node.

(C) Tree surgery

&gt;<i>Moving beyond the simplistic cases in (A), all of the interesting work
</I>&gt;<i>being done in tree tranforms is real surgery of the tree.  I.e.,
</I>&gt;<i>transformations which take place across a number of rules working in
</I>&gt;<i>conjunction.
</I>
I have support for that hidden in 2.8--I haven't tested it (at the grammar 
level; I used JUnit when developing the support classes), but am not happy 
with my current syntax.  We talked about using attributes for that at the 
cabal, and that has possibilities.  One of the big problems is that this 
adds to the complexity of analysis for tree grammar generation--does the 
calling chain go through ()?, ()*, ()+, and is a tree fragment always 
passed into an insertion point?  That can be messy.


&gt;<i>A couple of areas that come immediately to mind are the need for labelled
</I>&gt;<i>subrules and being able to pass (and use) trees (aka tree fragments) around
</I>&gt;<i>in dynamic attributes (both down/inherited and up/synthesized) and as
</I>&gt;<i>parameters/return values.
</I>
I've come around to this way of thinking, myself.  I could have easily 
implemented labeled subrules in 2.8, but didn't see it as a good solution 
at the time.



&gt;<i>(D) Error handling
</I>&gt;<i>
</I>&gt;<i>You haven't gone into how the error handling would work with this.
</I>
Eewwww.  You would open _that_ can of worms!

--Loring



&gt;<i>Thanks,
</I>&gt;<i>         John
</I>

</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011067.html">[antlr-interest] ANTLR 3.0 tree construction proposal
</A></li>
	<LI>Next message: <A HREF="011069.html">[antlr-interest] ANTLR 3.0 tree construction proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11068">[ date ]</a>
              <a href="thread.html#11068">[ thread ]</a>
              <a href="subject.html#11068">[ subject ]</a>
              <a href="author.html#11068">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
