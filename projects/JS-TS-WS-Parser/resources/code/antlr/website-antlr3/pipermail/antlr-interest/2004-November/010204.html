<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Translators Should Use Tree Grammars
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Translators%20Should%20Use%20Tree%20Grammars&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010179.html">
   <LINK REL="Next"  HREF="010280.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Translators Should Use Tree Grammars</H1>
    <B>Alexey Demakov</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Translators%20Should%20Use%20Tree%20Grammars&In-Reply-To="
       TITLE="[antlr-interest] Translators Should Use Tree Grammars">demakov at ispras.ru
       </A><BR>
    <I>Wed Nov 17 00:55:18 PST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="010179.html">[antlr-interest] Translators Should Use Tree Grammars
</A></li>
        <LI>Next message: <A HREF="010280.html">[antlr-interest] Re: Translators Should Use Tree Grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10204">[ date ]</a>
              <a href="thread.html#10204">[ thread ]</a>
              <a href="subject.html#10204">[ subject ]</a>
              <a href="author.html#10204">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
From: &quot;Terence Parr&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>&gt;
&gt;<i> On Nov 16, 2004, at 9:19 AM, Alexey Demakov wrote:
</I>&gt;<i> &gt; From: &quot;Terence Parr&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>&gt;
</I>&gt;<i> &gt;&gt; Ok, whew!  8 furiously written pages on visitors, tree node classes,
</I>&gt;<i> &gt;&gt; tree grammars, and action execution:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; <A HREF="http://www.antlr.org/article/1100569809276/use.tree.grammars.tml">http://www.antlr.org/article/1100569809276/use.tree.grammars.tml</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Hopefully, this is clearly written.  Regardless, it summarizes my
</I>&gt;<i> &gt;&gt; position rather thoroughly. ;)  Please send me feedback if you think
</I>&gt;<i> &gt;&gt; the article can be improved etc...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Ok, I'll try to be advocate of hetero-trees. :)
</I>&gt;<i> 
</I>&gt;<i> Using tree grammars has nothing to do with hetero vs homo trees.  i can 
</I>
Agree. I consider to add option to generated implementation of AST node interface :)

&gt;<i> parse both.  Hetero trees are only useful for when you want to 
</I>&gt;<i> manipulate them manually.
</I>
Yes, but there are other applications of tree description.

&gt;<i> &gt;  When tree structure is well-designed,
</I>&gt;<i> &gt; you can not create tree that doesn't correspond to syntactically 
</I>&gt;<i> &gt; correct input program.
</I>&gt;<i> 
</I>&gt;<i> Yes, that is nice (assuming the type system is up to it...only OO 
</I>&gt;<i> languages can get close).
</I>
Almost all functionality of modern OO languages (Java, C#) can be simulated
even in C :) It affects only amount of generated code.
I have experience of translation from RSL specification language
to C-like language - had to translate high-level abstract data types
and to implement garbage collection.

&gt;<i> You must write code in a visitor to go to the children.  We use 
</I>&gt;<i> patterns (i.e., rule references) in antlr to do that.  Naturally we 
</I>&gt;<i> could use actions to go to the children manually ala visitors ;)
</I>
But you can't use children names until they are referenced in rule?

&gt;<i> &gt; No, I'm looking at single file with tree description. :)
</I>&gt;<i> 
</I>&gt;<i> That is true.  Do you ever look at the generated classes though?  You 
</I>&gt;<i> talk about manually setting/getting/building etc...  If you never look 
</I>&gt;<i> at the output, all is well and i'll change the article ;)
</I>
Yes, tree description is the only source I use. It's easy to mentally 
translate children names to get/set method names :)

&gt;<i> &gt;&gt; You cannot list the expression tree types; one must find all 
</I>&gt;<i> &gt;&gt; subclasses of ExprNode.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; HTML documentation can be generated from TreeDL tree description
</I>&gt;<i> &gt; with cross-references between node type and all inherited node types.
</I>&gt;<i> 
</I>&gt;<i> Yes, but what you have is not a grammar unless it explicitly shows the 
</I>&gt;<i> possible subtrees.  Why use implicit rather than explicit 
</I>&gt;<i> specification.  
</I>
Yes, it's not grammar. But I have all usual OOP bonuses - tree description
can be extended.  :)

&gt;<i> You are so close to a grammar!  I think the summary is 
</I>&gt;<i> that you generate types and I generate methods and I allow actions in 
</I>&gt;<i> the grammar rather than visitors. ;)
</I>
Yes, I think tree grammars should be supported by TreeDL :)
But ways to process trees will not restricted to it :)

&gt;<i> &gt; But I believe TreeDL is more readable (especially
</I>&gt;<i> &gt; for newbies) than ANTLR tree grammar (without actions, but with labels 
</I>&gt;<i> &gt; for subrules).
</I>&gt;<i> 
</I>&gt;<i> Perhaps as they are more familiar with fields than grammars.
</I>
I watch your ideas since PCCTS and have to say that they are great
but sometimes requires time to understand :)

&gt;<i> &gt;&gt; it is completely self-contained
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The same is true for TreeDL tree description.
</I>&gt;<i> 
</I>&gt;<i> Minus the fact that stmt node does not list the statements, I might 
</I>&gt;<i> agree. ;)
</I>
Consider tree description as a whole :)

&gt;<i> &gt; visit() methods are grouped by node, like methods. And children can be 
</I>&gt;<i> &gt; referenced using $childName
</I>&gt;<i> &gt; shorthand notation because I hate Java long getChildName() and like C# 
</I>&gt;<i> &gt; properties.
</I>&gt;<i> 
</I>&gt;<i> That is good and is equiv to grammars + actions, right? :)
</I>
Yep :)

&gt;<i> &gt; May be now it is time to remember this tool and rethink what should be 
</I>
remember -&gt; recall

&gt;<i> &gt; a source
</I>&gt;<i> &gt; and what should be generated. I'm inspired by tree grammars :)
</I>&gt;<i> 
</I>&gt;<i> Hooray!  Soon we will agree completely minus what the generated code 
</I>&gt;<i> looks like :)
</I>
I hope :) As I skip parts of message where we've reached consensus,
this message is much shorter :)

Regards,
Alexey

-----
Alexey Demakov
TreeDL: Tree Description Language: <A HREF="http://treedl.sourceforge.net">http://treedl.sourceforge.net</A>
RedVerst Group: <A HREF="http://www.unitesk.com">http://www.unitesk.com</A>




 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
    <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
    <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
    <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010179.html">[antlr-interest] Translators Should Use Tree Grammars
</A></li>
	<LI>Next message: <A HREF="010280.html">[antlr-interest] Re: Translators Should Use Tree Grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10204">[ date ]</a>
              <a href="thread.html#10204">[ thread ]</a>
              <a href="subject.html#10204">[ subject ]</a>
              <a href="author.html#10204">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
