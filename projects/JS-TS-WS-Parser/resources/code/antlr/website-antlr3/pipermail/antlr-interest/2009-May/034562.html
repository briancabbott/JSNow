<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Localizing error messages in target javascript
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Localizing%20error%20messages%20in%20target%20javascript&In-Reply-To=%3CBAY144-W5E454BB7A2D74C4CFFA28C9580%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034569.html">
   <LINK REL="Next"  HREF="034565.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Localizing error messages in target javascript</H1>
    <B>Paulo Macagnani</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Localizing%20error%20messages%20in%20target%20javascript&In-Reply-To=%3CBAY144-W5E454BB7A2D74C4CFFA28C9580%40phx.gbl%3E"
       TITLE="[antlr-interest] Localizing error messages in target javascript">paulomacagnani at hotmail.com
       </A><BR>
    <I>Wed May 20 07:29:53 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="034569.html">[antlr-interest] ANTLR grammar processing returns strange	warnings
</A></li>
        <LI>Next message: <A HREF="034565.html">[antlr-interest] Building C# Libraries,
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34562">[ date ]</a>
              <a href="thread.html#34562">[ thread ]</a>
              <a href="subject.html#34562">[ subject ]</a>
              <a href="author.html#34562">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi folks,

 

I&#180;m trying to override the getErrorMessage methods in target javascript in order to provide message translation.

 

My .g file looks is shown bellow. The generated .js file seems to be ok, but my InfixExpressionClientLexer is now undefined.

 

Any hints?

 

[]s

 

Paulo

 

 

 

grammar InfixExpressionClient;


options {
 language=JavaScript;
}


@lexer::members {
 @Override
 getErrorMessage : function(e, tokenNames) {
        var msg = null;
        if ( e instanceof org.antlr.runtime.MismatchedTokenException ) {
            msg = &quot;mismatched character &quot;+this.getCharErrorDisplay(e.c)+&quot; expecting &quot;+this.getCharErrorDisplay(e.expecting);
        }
        else if ( e instanceof org.antlr.runtime.NoViableAltException ) {
            msg = &quot;no viable alternative at character &quot;+this.getCharErrorDisplay(e.c);
        }
        else if ( e instanceof org.antlr.runtime.EarlyExitException ) {
            msg = &quot;required (...)+ loop did not match anything at character &quot;+this.getCharErrorDisplay(e.c);
        }
        else if ( e instanceof org.antlr.runtime.MismatchedNotSetException ) {
            msg = &quot;mismatched character &quot;+this.getCharErrorDisplay(e.c)+&quot; expecting set &quot;+e.expecting;
        }
        else if ( e instanceof org.antlr.runtime.MismatchedSetException ) {
            msg = &quot;mismatched character &quot;+this.getCharErrorDisplay(e.c)+&quot; expecting set &quot;+e.expecting;
        }
        else if ( e instanceof org.antlr.runtime.MismatchedRangeException ) {
            msg = &quot;mismatched character &quot;+this.getCharErrorDisplay(e.c)+&quot; expecting set &quot;+
                this.getCharErrorDisplay(e.a)+&quot;..&quot;+this.getCharErrorDisplay(e.b);
        }
        else {
            msg = org.antlr.runtime.Lexer.superclass.getErrorMessage.call(this, e, tokenNames);
        }
        return msg;
    },

    getCharErrorDisplay : function(c) {
        var s = c; //String.fromCharCode(c);
        switch ( s ) {
            case org.antlr.runtime.Token.EOF :
                s = &quot;&lt;EOF&gt;&quot;;
                break;
            case &quot;\n&quot; :
                s = &quot;\\n&quot;;
                break;
            case &quot;\t&quot; :
                s = &quot;\\t&quot;;
                break;
            case &quot;\r&quot; :
                s = &quot;\\r&quot;;
                break;
        }
        return &quot;'&quot;+s+&quot;'&quot;;
    }
}

 

 

expression
 :  logicalExpression;

_________________________________________________________________
Conhe&#231;a os novos produtos Windows Live! Clique aqui.
<A HREF="http://www.windowslive.com.br">http://www.windowslive.com.br</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090520/5696e9fa/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090520/5696e9fa/attachment.html</A> 
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034569.html">[antlr-interest] ANTLR grammar processing returns strange	warnings
</A></li>
	<LI>Next message: <A HREF="034565.html">[antlr-interest] Building C# Libraries,
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34562">[ date ]</a>
              <a href="thread.html#34562">[ thread ]</a>
              <a href="subject.html#34562">[ subject ]</a>
              <a href="author.html#34562">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
