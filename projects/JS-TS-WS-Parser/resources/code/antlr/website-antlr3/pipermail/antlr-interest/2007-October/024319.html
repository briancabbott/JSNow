<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer bug?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20bug%3F&In-Reply-To=%3C3cac8fdf0710221901x95be776ud1f8704469018f4b%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024318.html">
   <LINK REL="Next"  HREF="024320.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer bug?</H1>
    <B>Kirby Bohling</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20bug%3F&In-Reply-To=%3C3cac8fdf0710221901x95be776ud1f8704469018f4b%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Lexer bug?">kirby.bohling at gmail.com
       </A><BR>
    <I>Mon Oct 22 19:01:14 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024318.html">[antlr-interest] Lexer bug?
</A></li>
        <LI>Next message: <A HREF="024320.html">[antlr-interest] Lexer bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24319">[ date ]</a>
              <a href="thread.html#24319">[ thread ]</a>
              <a href="subject.html#24319">[ subject ]</a>
              <a href="author.html#24319">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/22/07, Clifford Heath &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">clifford.heath at gmail.com</A>&gt; wrote:
&gt;<i> Jim Idle wrote:
</I>&gt;<i> &gt;  &gt; Jim Idle wrote:
</I>&gt;<i> &gt;  &gt; &gt; This isn't a bug.
</I>&gt;<i> &gt;  &gt; Nonsense. Any lexer that consumes characters that aren't a legal token,
</I>&gt;<i> &gt;  &gt; and announces a legal token without flagging an error, has a bug.
</I>&gt;<i> &gt; It wasn't my intention to offend and elicit an emphatic &quot;nonsense&quot;
</I>&gt;<i> &gt; response. However I should point out that the accusation is of course
</I>&gt;<i> &gt; erroneous. The lexer produces code that is in line with the original
</I>&gt;<i> &gt; design.
</I>&gt;<i>
</I>&gt;<i> First up, let me say that I'm sorry my post was thought uncivil. I do
</I>&gt;<i> appreciate the helpful discussion and workarounds offered, and I don't
</I>&gt;<i> mean to disparage anyone.
</I>&gt;<i>
</I>&gt;<i> However, I still maintain that the job of a lexer is to divide the input
</I>&gt;<i> into tokens, without discarding any. If it's unable to do that, it must
</I>&gt;<i> report an error. If not, then the tokens must be correctly matched. There
</I>&gt;<i> is no middle path, and any design that allows one is faulty, even if the
</I>&gt;<i> code implements the design perfectly. Such principles are black-and-white,
</I>&gt;<i> and that's why I used the word &quot;nonsense&quot;.
</I>&gt;<i>
</I>
I could see how a person could perceive your statement of &quot;black and
white&quot; as being too strongly worded.  You can have strong opinions,
but that's stated as an absolute fact. I think the design of Antlr
worked fairly hard to not follow a principle you consider absolute.  I
happen to agree with you, but that's besides the point.

I think you just disagreed with a fundamental decision of Antlr3
(Antlr2 might also do it, but I don't know)... I mean Antlr3 works
fairly hard recover by skipping a single token and proceed on.

During interactive behavior, it seems like it'd be really nice, but
during a batch run (like compiling source), I really dislike it.  It'd
be nice if I had some opportunity to programatically control that.
I'd also say that fundamentally, I'd really like it if Antlr did some
of these:

1. Warned me at generation time that my grammar has an LL(1) case
where the error recovery might do something counter-intuitive.  So at
least, I'd know something was off prior to discovering during testing
my grammar.

2. Gave me programmatic ability to disable the LL(1) recovery at
generation and/or run time preferrable run time (or the ability to
generate two different parsers for the same grammer, one with error
recovery, the other out).

3. It never used LL(1) recovery until it had exhaustively searched for
other solutions.

If I could figure out how to get Antlr building, I'd try and help.
Alas the Ant scripts are failing me, and I haven't had time to fix it
(I think it's mostly that Antlr 2.7 isn't installed correctly on for
Ant to pick it up).

Fundamentally, the automatic recovery feels like it can cause some of
the same problems that HTML and Web Browsers did forever.  Given some
input that is really close to what I want, but is slightly wrong,
leads to very strange behavior because some tool is guessing what I
meant instead of saying &quot;I'm sorry Dave, I'm afraid I can't do that.&quot;.
 I'd really like a way to put Antlr into a very, very strict mode.
Hacking around in the exception handling of both the parser and the
lexer is just inelegant.

Alas, I get nothing but silence so far.  Hopefully folks don't find my
e-mails too annoying.

Thanks,
    Kirby
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024318.html">[antlr-interest] Lexer bug?
</A></li>
	<LI>Next message: <A HREF="024320.html">[antlr-interest] Lexer bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24319">[ date ]</a>
              <a href="thread.html#24319">[ thread ]</a>
              <a href="subject.html#24319">[ subject ]</a>
              <a href="author.html#24319">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
