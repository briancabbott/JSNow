<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] org.antlr.Tool outputs to wrong directory on Windows in antlr-3.1.3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20org.antlr.Tool%20outputs%20to%20wrong%20directory%20on%0A%20Windows%20in%20antlr-3.1.3&In-Reply-To=%3C49D61EBE.2040608%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033896.html">
   <LINK REL="Next"  HREF="033908.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] org.antlr.Tool outputs to wrong directory on Windows in antlr-3.1.3</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20org.antlr.Tool%20outputs%20to%20wrong%20directory%20on%0A%20Windows%20in%20antlr-3.1.3&In-Reply-To=%3C49D61EBE.2040608%40temporal-wave.com%3E"
       TITLE="[antlr-interest] org.antlr.Tool outputs to wrong directory on Windows in antlr-3.1.3">jimi at temporal-wave.com
       </A><BR>
    <I>Fri Apr  3 07:35:42 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033896.html">[antlr-interest] org.antlr.Tool outputs to wrong directory on	Windows in antlr-3.1.3
</A></li>
        <LI>Next message: <A HREF="033908.html">[antlr-interest] org.antlr.Tool outputs to wrong directory on	Windows in antlr-3.1.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33902">[ date ]</a>
              <a href="thread.html#33902">[ thread ]</a>
              <a href="subject.html#33902">[ subject ]</a>
              <a href="author.html#33902">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Martin Probst wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> this may sound weird, but we're running into a problem with our build
</I>&gt;<i> system since we upgraded from antlr-3.1.2 to antlr-3.1.3, and it only
</I>&gt;<i> happens on Windows (so we only have 30% unhappy developers now, but
</I>&gt;<i> still ;-)).
</I>&gt;<i>
</I>&gt;<i> What happens is that if you run (and this is what our build effectively does):
</I>&gt;<i> mkdir &#8211;p ../../tmp/com/xhive/xquery/parser
</I>&gt;<i> java -classpath ../../lib/misc/antlr-3.1.3.jar org.antlr.Tool -o
</I>&gt;<i> ../../tmp/ com/xhive/xquery/parser/XQueryParser.g -lib
</I>&gt;<i> ../../tmp/com/xhive/xquery/parser
</I>&gt;<i> com/xhive/xquery/parser/XQueryTreeParser.g
</I>&gt;<i>
</I>&gt;<i> This will on Mac OS X and on Linux boxes create XQueryParser.java in
</I>&gt;<i> ../../tmp/com/xhive/xquery/parser, and this is what we expect.
</I>&gt;<i>   
</I>Yes, it should do that.
&gt;<i> Running this with antlr-3.1.3 on Windows will create XQueryParser.java
</I>&gt;<i> in ../../tmp, without the package paths. I'm pretty sure that this is
</I>&gt;<i> a regression from antlr-3.1.2 where it didn't happen.
</I>&gt;<i>   
</I>Yes, it would be. However, as far as I can tell, the only reason it 
would do this on Windows is if the JRE does not make File() work in the 
same way as on UNIX, or of there is a hard coded directory separator 
(which there isn't I think), or that the ../ relative path isn't working 
correctly (this seems most likely).
&gt;<i> Now we can fix this by specifying the full path as the output
</I>&gt;<i> directory (&quot;-o ../../tmp/com/xhive/xquery/parser&quot;), but that seems
</I>&gt;<i> unelegant, and also I'd like to know what the expected behaviour
</I>&gt;<i> should be.
</I>&gt;<i>   
</I>As per your experience with UNIX.

Jim
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033896.html">[antlr-interest] org.antlr.Tool outputs to wrong directory on	Windows in antlr-3.1.3
</A></li>
	<LI>Next message: <A HREF="033908.html">[antlr-interest] org.antlr.Tool outputs to wrong directory on	Windows in antlr-3.1.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33902">[ date ]</a>
              <a href="thread.html#33902">[ thread ]</a>
              <a href="subject.html#33902">[ subject ]</a>
              <a href="author.html#33902">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
