<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Pie and simple expression calculator
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Pie%20and%20simple%20expression%20calculator&In-Reply-To=%3CWC20120102203101.60000B%40essence-property.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043636.html">
   <LINK REL="Next"  HREF="043640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Pie and simple expression calculator</H1>
    <B>goodwin</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Pie%20and%20simple%20expression%20calculator&In-Reply-To=%3CWC20120102203101.60000B%40essence-property.com%3E"
       TITLE="[antlr-interest] Pie and simple expression calculator">goodwin at essence-property.com
       </A><BR>
    <I>Mon Jan  2 12:31:01 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="043636.html">[antlr-interest] Pie and simple expression calculator
</A></li>
        <LI>Next message: <A HREF="043640.html">[antlr-interest] Pie and simple expression calculator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43639">[ date ]</a>
              <a href="thread.html#43639">[ thread ]</a>
              <a href="subject.html#43639">[ subject ]</a>
              <a href="author.html#43639">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, I looked at MATLAB, i also looked at GDL (which is much too big and 
complex to start with, and is in C rather than Java). I have just looked at 
the Cminus example also.


My problem is that there are so many example starting points, i don't know 
where to start.


I thought maybe Pie was the best starting point, but maybe it is not, if it 
is more complex than necessary because of the problems with white space.


I am OK with starting with a simple language, and then waiting for v4 before 
doing the full language. I need a prototype which works reliably in the next 
few weeks, and then a longer term solution next year (2013).


An example of the language:


function myFunction() {

   a = 3.7

   b = get(&quot;myAttr&quot;)

   return a + b

end



x = 1.2

y = {0.0, 1.0, 2.3,......}

x[4] = 1.5


z = x ^ y + myFunction

z = z + data(&quot;myData&quot;)


if (x &gt; 0.0 ) then

   z = sin(z) * 1.1

else

   z = 0

endif


h = integrate(z)

print (h)


Notes:


- all variables are float arrays (let's assume for the moment they are all 
the same length, 100).

- the integrate function integrates the array and returns a new array e.g. 
h[5] is z[0] + ... + z[5]

- the if block is done on an element by element basis (so there is an 
implied loop around it), similar to R concepts

- functions normally do not take any parameters, but could do so in future

- the 'get' function retrieves a special scalar value from a hashmap or 
database, which may be different on each invocation.

- data(&quot;myData&quot;) retrieves a preexisting scalar held in a Hashmap, which is 
used to initialise an array.

- the language operates on a preexisting Java database and Java memory - it 
is used to derive new data from pre-existing data.

- I would rather have something a little verbose and readable - error 
handling is also essential as the language is to be used by engineers, not 
software engineers. They often forget to put in ';' for example, so the 
above language does not need it.

- the whole concept is based on something which an old colleague did using 
Antlr v2 back in 2003 - all his work has since been lost.



-----Original Message-----
 From: Kyle Ferrio &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">kferrio at gmail.com</A>&gt;
 To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">goodwin at essence-property.com</A>
 Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
 Date: Mon, 2 Jan 2012 11:10:51 -0700
 Subject: Re: [antlr-interest] Pie and simple expression calculator


Your language ounds a little like MATLAB. Someone posted an approximate 
MATLAB grammar a few months ago for antlr 3.x.

If you are familiar with classic &quot;calculator&quot; examples for flex/bison, then 
you might really like how Honey Badger (antlr 4) makes short work of 
expression parsing.

If you want to get going quickly, you might want to avoid things like 
pythonesque significant whitespace.  And strongly visual scope delimiters 
may make it easier to get started.  Your resulting language would not be the 
first to be accused of being &quot;noisy.&quot;  :)

Kyle

On Jan 2, 2012 10:45 AM, &quot;goodwin&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">goodwin at essence-property.com</A>&gt; wrote:


I am new to ANTLR, and want some capabilities similar to Pie and the
 expression calculator, as extended with functions. I work with floating
 point data, and want to extend the intrinsic functions (e.g. Sin, Cos etc.)
 and all calculations will actually be done on float arrays.


 I want a simple grammar suitable for engineers - not too sure whether Python
 is the best starting point...I myself prefer a few brackets and endif etc.


 However, the implementations of Pie and the simple expression calculator are
 very different.


 Do you think it is best for me to start with Pie and adapt it for my needs,
 or look at both approaches and learn from them both?


 My main purpose is to progress rapidly, not to become an expert in ANTLR.

 List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
 Unsubscribe: 
<A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043636.html">[antlr-interest] Pie and simple expression calculator
</A></li>
	<LI>Next message: <A HREF="043640.html">[antlr-interest] Pie and simple expression calculator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43639">[ date ]</a>
              <a href="thread.html#43639">[ thread ]</a>
              <a href="subject.html#43639">[ subject ]</a>
              <a href="author.html#43639">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
