<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] C++ run-time and ref-counters (was TokenStreamRewriteEngine and C++)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20C%2B%2B%20run-time%20and%20ref-counters%20%28was%20TokenStreamRewriteEngine%20and%20C%2B%2B%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007503.html">
   <LINK REL="Next"  HREF="007512.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] C++ run-time and ref-counters (was TokenStreamRewriteEngine and C++)</H1>
    <B>Mark Lentczner</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20C%2B%2B%20run-time%20and%20ref-counters%20%28was%20TokenStreamRewriteEngine%20and%20C%2B%2B%29&In-Reply-To="
       TITLE="[antlr-interest] C++ run-time and ref-counters (was TokenStreamRewriteEngine and C++)">markl at glyphic.com
       </A><BR>
    <I>Tue Apr 20 13:09:59 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007503.html">[antlr-interest] catching the rest
</A></li>
        <LI>Next message: <A HREF="007512.html">[antlr-interest] C++ run-time and ref-counters (was TokenStreamRewriteEngine and C++)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7502">[ date ]</a>
              <a href="thread.html#7502">[ thread ]</a>
              <a href="subject.html#7502">[ subject ]</a>
              <a href="author.html#7502">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Some thoughts on the C++ library

1) Please don't use Boost, or any other library. I have no beef with  
Boost, but we incorporate Antlr into our project, and and if we have to  
start including Antlr's dependent projects as well, it will get way to  
hairy. We'd never have used Antlr if it didn't stand on its own.

2)
 &gt; I'm not 100% sure but I think there's no smartpointer in C++ possible
 &gt; that's smart enough to behave like the pointer I'd like for  
heterogenous
 &gt; AST's.
Bet there is!  If you are having trouble taming yours, let me know and  
I'd be happy to lend a hand.

3) I have ref counting pointer framework that you are welcome to take  
from and/or use. It has all the polymorphic properties one wants:  
ref_ptrT can be safely assigned to a ref_ptrS iff a T* can be assigned  
to S*, (basically S is T or an accessible base class of T). It does  
assume a common base class Countable of the things being counted -  
which shouldn't be a problem in Antlr since AST trees are never  
manipulated except through ref counted pointers. If it is, it would be  
an easy rewrite so that the ref counted thing doesn't contain the  
count. (I'm offering to do it, too.)

If you want to look at the code (all 100 lines of it):
	<A HREF="http://cvs.sourceforge.net/viewcvs.py/wheat/r1/wheat/countable.hpp?">http://cvs.sourceforge.net/viewcvs.py/wheat/r1/wheat/countable.hpp?</A> 
view=markup
	<A HREF="http://cvs.sourceforge.net/viewcvs.py/wheat/r1/wheat/countable.cpp?">http://cvs.sourceforge.net/viewcvs.py/wheat/r1/wheat/countable.cpp?</A> 
view=markup

Also there is a unit test for it at:
	<A HREF="http://cvs.sourceforge.net/viewcvs.py/wheat/r1/wheat/countable-">http://cvs.sourceforge.net/viewcvs.py/wheat/r1/wheat/countable-</A> 
test.cpp?view=markup

- Mark

Mark Lentczner
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">markl at wheatfarm.org</A>
<A HREF="http://www.wheatfarm.org/">http://www.wheatfarm.org/</A>



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007503.html">[antlr-interest] catching the rest
</A></li>
	<LI>Next message: <A HREF="007512.html">[antlr-interest] C++ run-time and ref-counters (was TokenStreamRewriteEngine and C++)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7502">[ date ]</a>
              <a href="thread.html#7502">[ thread ]</a>
              <a href="subject.html#7502">[ subject ]</a>
              <a href="author.html#7502">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
