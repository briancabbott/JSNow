<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Proper handling of newlines with gUnit???? (was: Null Pointer Exception from valid gUnit test)...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Proper%20handling%20of%20newlines%20with%20gUnit%3F%3F%3F%3F%20%28was%3A%0A%20Null%20Pointer%20Exception%20from%20valid%20gUnit%20test%29...&In-Reply-To=%3CA529CD893DE9BE4F8C753EA29B97527C08C9A15D%40ASHBMBX03.resource.ds.bah.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035154.html">
   <LINK REL="Next"  HREF="035161.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Proper handling of newlines with gUnit???? (was: Null Pointer Exception from valid gUnit test)...</H1>
    <B>Sylvain, Gregory [USA]</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Proper%20handling%20of%20newlines%20with%20gUnit%3F%3F%3F%3F%20%28was%3A%0A%20Null%20Pointer%20Exception%20from%20valid%20gUnit%20test%29...&In-Reply-To=%3CA529CD893DE9BE4F8C753EA29B97527C08C9A15D%40ASHBMBX03.resource.ds.bah.com%3E"
       TITLE="[antlr-interest] Proper handling of newlines with gUnit???? (was: Null Pointer Exception from valid gUnit test)...">sylvain_gregory at bah.com
       </A><BR>
    <I>Fri Jul 10 13:28:48 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="035154.html">[antlr-interest] compiling from sources other than files with the C	runtime (std::string)
</A></li>
        <LI>Next message: <A HREF="035161.html">[antlr-interest] Proper handling of newlines with gUnit???? (was: Null Pointer Exception from valid gUnit test)...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35159">[ date ]</a>
              <a href="thread.html#35159">[ thread ]</a>
              <a href="subject.html#35159">[ subject ]</a>
              <a href="author.html#35159">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> 

Seeing that no one had a reply to my earlier query, I assume something got lost in the message or I am just being stupid.

I like to assume the former :-)

I have been able to unit test the lexer, but the parser is giving me problems.  Like I said, I am able to run the exact same text strings through the interpreter and everything works fine.  But when I include the same strings in the .gunit file itself (with either dbl. quotes or dbl. angle brackets, '&quot;' or '&lt;&lt;' &amp; '&gt;&gt;') or include the test in a separate input file, the unit tests fails!

I'm suspecting that it may be the way gunit is handling multiple newlines?  The grammar defines a EOL as follows:

EOL	: ( CRCRLF | CRLF | LF ) ;
fragment CRCRLF : '\r\r\n' ;
fragment CRLF : '\r\n' ;
fragment LF : '\n' ;


With the CRCRLF form of newline being the most prevelant.

Any ideas about how to get these unit tests to work via gunit?  

Thanks in advance, any clues would be appreciated.
Greg

-----Original Message-----
Message: 10
Date: Thu, 9 Jul 2009 07:47:19 -0400
From: &quot;Sylvain, Gregory [USA]&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sylvain_gregory at bah.com</A>&gt;
Subject: [antlr-interest] Null Pointer Exception from valid gUnit test
	(ANTLR 3.1.3 and gnuit-1.0.4)
To: &quot;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">825E1B6D-3BEB-4399-9B75-43FB79BF2878 at mimectl</A>&gt;
Content-Type: text/plain; charset=&quot;iso-8859-1&quot;

Hi,

I've been trying to complete some unit testing of a grammar, and I keep getting Null Pointer Exceptions from valid gUnit tests.  (The unit test strings work fine from the Interpreter in Eclipse (ANTLR IDE) and ANTLRWorks).  Is this is a known bug, or am I just doing something obviously wrong.

Thanks for any clues here,
Greg
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090709/bc267843/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090709/bc267843/attachment-0001.html</A> 

------------------------------
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035154.html">[antlr-interest] compiling from sources other than files with the C	runtime (std::string)
</A></li>
	<LI>Next message: <A HREF="035161.html">[antlr-interest] Proper handling of newlines with gUnit???? (was: Null Pointer Exception from valid gUnit test)...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35159">[ date ]</a>
              <a href="thread.html#35159">[ thread ]</a>
              <a href="subject.html#35159">[ subject ]</a>
              <a href="author.html#35159">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
