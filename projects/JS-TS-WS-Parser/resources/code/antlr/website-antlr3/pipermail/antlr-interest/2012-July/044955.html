<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Composite Grammar issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Composite%20Grammar%20issues&In-Reply-To=%3CCAJZjf_zgS543E4MN9n0U%2BX1_sEJJh%2BUEa0dbSU128WmaRzPzrw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044954.html">
   <LINK REL="Next"  HREF="044957.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Composite Grammar issues</H1>
    <B>Pedro Francisco</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Composite%20Grammar%20issues&In-Reply-To=%3CCAJZjf_zgS543E4MN9n0U%2BX1_sEJJh%2BUEa0dbSU128WmaRzPzrw%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Composite Grammar issues">pedrogfrancisco at gmail.com
       </A><BR>
    <I>Sun Jul 22 04:31:58 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044954.html">[antlr-interest] Lexer: strings that are starting sub-strings of another
</A></li>
        <LI>Next message: <A HREF="044957.html">[antlr-interest] Java 6 grammar with separate lexer and parser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44955">[ date ]</a>
              <a href="thread.html#44955">[ thread ]</a>
              <a href="subject.html#44955">[ subject ]</a>
              <a href="author.html#44955">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello!
I won't debug this further for the time being but here are my
findings, may be of use to someone.

Context: I was trying to split Java.g (OpenJDK's Java.g, not
examples-v3's) into JavaLexer.g and JavaParser.g and import them from
a Main.g. I'd change rules originally from Java.g and then paste them
on Main.g, with the purpose of rewriting the parsed text (on this
phase I found the first bug, already discussed here on the ML, in
which the lexer is not created unless some lexer rules are present on
Main.g).
I am using &quot;((TokenRewriteStream)input.delete($a,$b)&quot; every now and then.

Having no errors compiling, I got a different output than expected. I
then tried to copy all the rules from JavaParser.g and JavaLexer.g
(minus duplicate rules) and the parser would work as expected.

Besides not working as expected, I'd have on the output text the
following symptoms:
&quot;/**&quot; became &quot;**&quot;
&quot;/*&quot; became &quot;*&quot;
&quot;array's element&quot; became &quot;arrayelement&quot;
(comments are $channel=hidden, not skip())

This was with ANTLR3.4-SNAPSHOT ( 20120712 ). I also tried ANTLR3.4
and ANTLR3.3 but on those versions I just noticed the parser was
misbehaving and did not check if the above errors ocurred as well. ST4
doesn't like ANTLR3.2 (ClassNotFoundException) and I didn't try
stripping ST code to test on ANTLR3.2.

I'm sorry I can't help for now with more debugging. If I have the
chance I'll test again with ANTLR4 in the future but that will take a
while. As such the above text is only to be taken as a &quot;me too&quot; in
case anyone else finds a similar issue.
-- 
Pedro
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044954.html">[antlr-interest] Lexer: strings that are starting sub-strings of another
</A></li>
	<LI>Next message: <A HREF="044957.html">[antlr-interest] Java 6 grammar with separate lexer and parser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44955">[ date ]</a>
              <a href="thread.html#44955">[ thread ]</a>
              <a href="subject.html#44955">[ subject ]</a>
              <a href="author.html#44955">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
