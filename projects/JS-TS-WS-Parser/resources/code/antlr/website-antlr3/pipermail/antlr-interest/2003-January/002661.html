<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Short circuit of the lexer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Short%20circuit%20of%20the%20lexer&In-Reply-To=b0cl4l%2B8elg%40eGroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002660.html">
   <LINK REL="Next"  HREF="002721.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Short circuit of the lexer</H1>
    <B>John D. Mitchell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Short%20circuit%20of%20the%20lexer&In-Reply-To=b0cl4l%2B8elg%40eGroups.com"
       TITLE="[antlr-interest] Re: Short circuit of the lexer">johnm-antlr at non.net
       </A><BR>
    <I>Sat Jan 18 17:30:43 PST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002660.html">[antlr-interest] Re: Short circuit of the lexer
</A></li>
        <LI>Next message: <A HREF="002721.html">[antlr-interest] Re: Short circuit of the lexer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2661">[ date ]</a>
              <a href="thread.html#2661">[ thread ]</a>
              <a href="subject.html#2661">[ subject ]</a>
              <a href="author.html#2661">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;&gt;&gt;<i> &quot;xadeck&quot; == xadeck &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">decoret at graphics</A> lcs mit edu&gt; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">decoret at graphics.lcs.mit.edu</A>&gt; writes:
</I>[...]

&gt;<i> Well, I switch from tail recursion to list and it is still slow. I wrote
</I>&gt;<i> a dummy version of my grammar keeping only the array stuff and I t is
</I>&gt;<i> quite pretty fast (10s for a test file)
</I>
So, the array recognition stuff is now fast but the rest of your lexer and
parser are slow?  I think the answer is pretty obvious... :-)

&gt;<i> but when I add more recognition token to the lexer it gets slower (30s)
</I>&gt;<i> and when I use my full grammar without any action (so C++ extra code
</I>&gt;<i> cannot be involved), it get quite slow (1m30 to 2min) and it even seems
</I>&gt;<i> the tail recursion is faster ?!?.
</I>
I doubt it.

&gt;&gt;<i>From what little you've said, it seems that your grammar is either for a
</I>really nasty language or your implementation isn't very speedy or both.
Hmm... Ah, VRML2.  Alas, I don't recall much nitty-gritty about VRML (let
alone VRML2) so I don't have any off the cuff answer.


&gt;<i> I am trying to figure out what is going one -&gt; will investigate) cause I
</I>&gt;<i> know such files can be parsed pretty fast with antlr (I have seen
</I>&gt;<i> examples but I cannot use their grammar). I can send the full grammar but
</I>&gt;<i> it is pretty long (VRML2 grammar) and you would need the associate
</I>&gt;<i> library to compile it. I guess you have something else to do than
</I>&gt;<i> debugging other people's grammar.
</I>
Administrivia:  Do NOT make large posts to the newsgroup/mailing list.  Put
your stuff up on a web site and send out a message with a link to it so
that people who are up for it may go get it and look at it.

FYI, FWIW, there are a (small) number of people in this forum who offer
professional ANTLR consulting and development so if you really need it to
kick ass and don't have the time to become an ANTLR master yourself....


&gt;<i> Anyway, the original questions still holds for curiosity: will
</I>&gt;<i> Lexer::LA() be messed if I screw up the input stream within
</I>&gt;<i> lexer::nextToken()?
</I>
(A) I would suggest that you spend the time to really analyze your lexer
and parser grammars first.  For example, other places where you're using
calls/recursion rather than looping, abuse of syntactic predicates, etc.

(B) Are you sure that it's actually the lexing that's taking a long time?
Have you actually profiled your lexer and parser to determine that or are
you just guessing?

(C) If you're going to muck with nextToken(), you'll really need to make
sure that your aren't violating the various assumptions that are being made
about the state that things are in at any point.

Take care,
	John

 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002660.html">[antlr-interest] Re: Short circuit of the lexer
</A></li>
	<LI>Next message: <A HREF="002721.html">[antlr-interest] Re: Short circuit of the lexer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2661">[ date ]</a>
              <a href="thread.html#2661">[ thread ]</a>
              <a href="subject.html#2661">[ subject ]</a>
              <a href="author.html#2661">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
