<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] StringTemplate stack overflow exception,	stringtemplate-3.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20StringTemplate%20stack%20overflow%20exception%2C%0A%09stringtemplate-3.0&In-Reply-To=%3C62BABE024B7C074E9194E9727A41897901383325%40dvs-sms-mail01.digi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022528.html">
   <LINK REL="Next"  HREF="022611.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] StringTemplate stack overflow exception,	stringtemplate-3.0</H1>
    <B>Hardy, Stephen</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20StringTemplate%20stack%20overflow%20exception%2C%0A%09stringtemplate-3.0&In-Reply-To=%3C62BABE024B7C074E9194E9727A41897901383325%40dvs-sms-mail01.digi.com%3E"
       TITLE="[antlr-interest] StringTemplate stack overflow exception,	stringtemplate-3.0">Stephen_Hardy at rabbit.com
       </A><BR>
    <I>Mon Jul 16 14:12:00 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022528.html">[antlr-interest] StringTemplate stack overflow exception,	stringtemplate-3.0
</A></li>
        <LI>Next message: <A HREF="022611.html">[antlr-interest] StringTemplate stack overflow exception,	stringtemplate-3.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22536">[ date ]</a>
              <a href="thread.html#22536">[ thread ]</a>
              <a href="subject.html#22536">[ subject ]</a>
              <a href="author.html#22536">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Terence,

I'm not sure I entirely understand what you mean by &quot;one template
enclosing itself&quot;, however based on examination of the FAQ and other
sources, these recursion problems can only arise when constructing and
using templates in java code, where the code can obviously set up
circular references via setting of attributes.  

My tree grammar template rewrite rules, on the other hand, are entirely
constructed using in-line (anonymous) templates -- look mum, no java --
and hence if there are any circular references then they are created by
the magic of ANTLR.  

If there is a recursive rule (say, compound statement in a C grammar)
then nested compound statements get their own instance of the template,
hence there can be no circular references at the java &quot;pointer&quot; level?
If I am wrong, would you kindly provide a small counterexample?

With respect, I would say that this potential for stack overflow
exceptions in an ANTLR-generated parser with no &quot;open code&quot; is a serious
bug, especially if the bug is only revealed at run-time.

&gt;<i> Those refs are what attributes are used in that template instance.
</I>
There is something fishy going on.  If this is the list of attributes,
then the given trace did not make sense.

Regards,
SJH

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Terence Parr
</I>&gt;<i> Sent: Monday, July 16, 2007 12:21 PM
</I>&gt;<i> To: antlr-interest Interest
</I>&gt;<i> Subject: Re: [antlr-interest] StringTemplate stack overflow
</I>&gt;<i> exception,stringtemplate-3.0
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Jul 15, 2007, at 6:43 PM, Hardy, Stephen wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; OK, welding done...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Well , it turns out that there *is* a loop in the template
</I>&gt;<i> &gt; inclusion, but there are more steps than indicated by the trace.
</I>&gt;<i> &gt; Maybe there's a limit in the code somewhere.  However, I don't
</I>&gt;<i> &gt; understand why this should cause an exception since recursion is
</I>&gt;<i> &gt; such a natural part of most grammars.
</I>&gt;<i> 
</I>&gt;<i> Hi.. Recursion is fine, it's an error though when a ST directly or
</I>&gt;<i> indirectly encloses itself.  Look for something like that: a block
</I>&gt;<i> that encloses itself.
</I>&gt;<i> &gt; What is the interpretation of the &quot;references=[...]&quot; stuff in the
</I>&gt;<i> &gt; trace.  Sure, I have scs and d attributes in some of the templates,
</I>&gt;<i> &gt; but not in any of those listed.  Maybe it is some sort of run-time
</I>&gt;<i> &gt; indication of how it got to the particular state.  Needs a bit of
</I>&gt;<i> &gt; explanation though.
</I>&gt;<i> Those refs are what attributes are used in that template instance.
</I>&gt;<i> 
</I>&gt;<i> Ter
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022528.html">[antlr-interest] StringTemplate stack overflow exception,	stringtemplate-3.0
</A></li>
	<LI>Next message: <A HREF="022611.html">[antlr-interest] StringTemplate stack overflow exception,	stringtemplate-3.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22536">[ date ]</a>
              <a href="thread.html#22536">[ thread ]</a>
              <a href="subject.html#22536">[ subject ]</a>
              <a href="author.html#22536">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
