<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Heterogeneous AST - simple calculator pa
	rser
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Heterogeneous%20AST%20-%20simple%20calculator%20pa%0A%09rser&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000613.html">
   <LINK REL="Next"  HREF="000620.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Heterogeneous AST - simple calculator pa
	rser</H1>
    <B>mzukowski at bco.com</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Heterogeneous%20AST%20-%20simple%20calculator%20pa%0A%09rser&In-Reply-To="
       TITLE="[antlr-interest] Re: Heterogeneous AST - simple calculator pa
	rser">mzukowski at bco.com
       </A><BR>
    <I>Fri Feb  8 06:37:04 PST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000613.html">[antlr-interest] antlr-interest@yahoogroups.com
</A></li>
        <LI>Next message: <A HREF="000620.html">[antlr-interest] Re: Heterogeneous AST - simple calculator pa rser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#614">[ date ]</a>
              <a href="thread.html#614">[ thread ]</a>
              <a href="subject.html#614">[ subject ]</a>
              <a href="author.html#614">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Your token types may be out of sync.  Look at the generated code and make
sure that UNARY_MINUS exists in both parser and tree walker, and that its
value is the same in both.  You may not be setting the tokenVocabulary
properly.  If they are both in the same file then maybe you forgot to
recompile your treewalker.

Monty

&gt;<i> -----Original Message-----
</I>&gt;<i> From: koud0002 [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">robertkoudelka at power-solutions.com.au</A>]
</I>&gt;<i> Sent: Thursday, February 07, 2002 7:48 PM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
</I>&gt;<i> Subject: [antlr-interest] Re: Heterogeneous AST - simple calculator
</I>&gt;<i> parser
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Thanks for your reply.
</I>&gt;<i> 
</I>&gt;<i> The AST is now constructed correctly.
</I>&gt;<i> However, I am now getting &quot;unexpected end of subtree&quot; 
</I>&gt;<i> NoViableAltException from the treewalker.
</I>&gt;<i> The treewalker still does not recognize UNARY_MINUS.
</I>&gt;<i> 
</I>&gt;<i> I would still like to use the custom AST. 
</I>&gt;<i> What am I doing wrong? Thanks
</I>&gt;<i> 
</I>&gt;<i> Robert
</I>&gt;<i> 
</I>&gt;<i> --- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at y...</A>, Sinan &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sinan.karasu at b...</A>&gt; wrote:
</I>&gt;<i> &gt; koud0002 wrote:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; [...]
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; simpleExpression
</I>&gt;<i> &gt; &gt;   : MINUS t:term!
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; change to
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 	:m:MINUS^  term      {#m.setType(UNARY_MINUS);}
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; you don't need all that UnaryMinusNode stuff. The rest is done in 
</I>&gt;<i> the
</I>&gt;<i> &gt; treewalker
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;  #(UNARY_MINUS expression ....
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; same for UNARY_PLUS...
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Sinan
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Your use of Yahoo! Groups is subject to 
</I><A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 



 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000613.html">[antlr-interest] antlr-interest@yahoogroups.com
</A></li>
	<LI>Next message: <A HREF="000620.html">[antlr-interest] Re: Heterogeneous AST - simple calculator pa rser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#614">[ date ]</a>
              <a href="thread.html#614">[ thread ]</a>
              <a href="subject.html#614">[ subject ]</a>
              <a href="author.html#614">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
