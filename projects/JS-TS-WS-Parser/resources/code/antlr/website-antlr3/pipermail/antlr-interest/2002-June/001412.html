<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Modification of Node Attributes using Tree Grammar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Modification%20of%20Node%20Attributes%20using%20Tree%20Grammar&In-Reply-To=20020617123610.C266%40cs.utwente.nl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001403.html">
   <LINK REL="Next"  HREF="001365.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Modification of Node Attributes using Tree Grammar</H1>
    <B>lgcraymer</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Modification%20of%20Node%20Attributes%20using%20Tree%20Grammar&In-Reply-To=20020617123610.C266%40cs.utwente.nl"
       TITLE="[antlr-interest] Re: Modification of Node Attributes using Tree Grammar">lgc at mail1.jpl.nasa.gov
       </A><BR>
    <I>Tue Jun 18 00:17:02 PDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001403.html">[antlr-interest] Re: Modification of Node Attributes using Tree Grammar
</A></li>
        <LI>Next message: <A HREF="001365.html">[antlr-interest] OO design question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1412">[ date ]</a>
              <a href="thread.html#1412">[ thread ]</a>
              <a href="subject.html#1412">[ subject ]</a>
              <a href="author.html#1412">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at y...</A>, Ric Klaren &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">klaren at c...</A>&gt; wrote:
&gt;<i> On Fri, Jun 14, 2002 at 09:03:18PM -0000, lgcraymer wrote:
</I>&gt;<i> &gt; I've fixed the AST bugs in the Java version--the original 
</I>&gt;<i> &gt; implementation specifies variables as being of class CommonAST or 
</I>&gt;<i> &gt; &lt;specialAST&gt; or whatever; if your declare them as &quot;AST&quot; (generic) 
</I>and 
&gt;<i> &gt; fix the typecasting, you can avoid the type coercion problems (you
</I>&gt;<i> &gt; don't have to read the code; the compiler complains and the
</I>&gt;<i> &gt; corrections are pretty obvious).
</I>&gt;<i> 
</I>&gt;<i> Sounds great =)
</I>&gt;<i> 
</I>&gt;<i> &gt; I haven't looked at the C++ implementation, but I assume that 
</I>you've got
&gt;<i> &gt; something equivalent to the AST interface (the code generator 
</I>needs only
&gt;<i> &gt; generic AST functionality except for AST creation).  There are 
</I>also a
&gt;<i> &gt; couple of bugs in the tree generation which I had to fix.  
</I>&gt;<i> 
</I>&gt;<i> Well C++ output is complicated by the reference counting class. I've 
</I>toyed
&gt;<i> around with it several times when I started to work on antlr. Yet II
</I>&gt;<i> couldn't solve things in a nice way at that time. Basically I'd like 
</I>to
&gt;<i> scrap most of the current runtime as soon as 2.7.2 is released.
</I>
I've got an idea for restructuring the AST generation code--basically, 
build a vector of tree construction commands and then interpret the 
commands for code generation--that would do away with much of the 
gratuitous gc in the current implementation.  Unfortunately, that 
requires disallowing manual AST construction in actions (at least when 
mixed with automatic construction) which is not an option for 
2.x--mixed construction is pretty much standard practice for 2.x.

If Ter gets the output grammar stuff worked out, it should be easy to 
rewrite the ANTLR code generating backend (XXXCodeGenerator.XXX) for 
3.0; he's also talking about splitting out the library support code in 
a cleaner manner.  It probably makes more sense to figure out a 
redesign for the ANTLR backend for 3.0 rather than further rebuilds of 
2.x.  Got any good ideas?  It would be good if 3.0 did not require 3-4 
KLOC for a retargeting.  (I'd like to have OCaml as a target.)

&gt;<i> 
</I>&gt;<i> &gt; My version of ANTLR uses heterogeneous ASTs to generate tree 
</I>grammars, so I
&gt;<i> &gt; had to make that work.  I'll be able to make my extensions (and 
</I>bug fixes)
&gt;<i> &gt; available Real Soon Now--mostly the delay is that I haven't had 
</I>time to
&gt;<i> &gt; take the last few steps in the release process.
</I>&gt;<i> 
</I>&gt;<i> I'm looking forward to your work :)
</I>
I'm looking forward to having it released--it feels awkward to discuss 
work that I haven't yet made generally available.

--Loring

&gt;<i> 
</I>&gt;<i> Ric
</I>&gt;<i> -- 
</I>&gt;<i> 
</I>-----+++++*****************************************************+++++++
++-------
&gt;<i>     ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">klaren at c...</A> ----- +31 53 4893722  ----
</I>&gt;<i> 
</I>-----+++++*****************************************************+++++++
++-------
&gt;<i> Wit is cultured insolence. --- Aristotle
</I>

 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001403.html">[antlr-interest] Re: Modification of Node Attributes using Tree Grammar
</A></li>
	<LI>Next message: <A HREF="001365.html">[antlr-interest] OO design question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1412">[ date ]</a>
              <a href="thread.html#1412">[ thread ]</a>
              <a href="subject.html#1412">[ subject ]</a>
              <a href="author.html#1412">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
