<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] greedy vs nongreedy lexer rules
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20greedy%20vs%20nongreedy%20lexer%20rules&In-Reply-To=%3Ci2h14799bf61004191301q49e4a48ak58c380d091d73421%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038357.html">
   <LINK REL="Next"  HREF="038372.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] greedy vs nongreedy lexer rules</H1>
    <B>Marcin Rze&#378;nicki</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20greedy%20vs%20nongreedy%20lexer%20rules&In-Reply-To=%3Ci2h14799bf61004191301q49e4a48ak58c380d091d73421%40mail.gmail.com%3E"
       TITLE="[antlr-interest] greedy vs nongreedy lexer rules">marcin.rzeznicki at gmail.com
       </A><BR>
    <I>Mon Apr 19 13:01:57 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="038357.html">[antlr-interest] greedy vs nongreedy lexer rules
</A></li>
        <LI>Next message: <A HREF="038372.html">[antlr-interest] greedy vs nongreedy lexer rules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38371">[ date ]</a>
              <a href="thread.html#38371">[ thread ]</a>
              <a href="subject.html#38371">[ subject ]</a>
              <a href="author.html#38371">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Apr 19, 2010 at 6:32 AM, Ron Burk &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ronburk at gmail.com</A>&gt; wrote:
&gt;&gt;<i> &#160;Multi-core systems are the norm now. &#160;In my job, we spend a LOT of time
</I>&gt;&gt;<i> determining how best to extract maximum work in minimum time, and parallel
</I>&gt;&gt;<i> programming is a big part of that.
</I>&gt;<i>
</I>&gt;<i> Splitting the work of lexical analysis across cores without ending up
</I>&gt;<i> slower than a simple, single-threaded state machine (due to constant
</I>&gt;<i> stalling on shared data)... should be a challenge. It sure is easy to
</I>&gt;<i> make multi-threaded solutions that are slower than single-threaded,
</I>&gt;<i> especially if the single-threaded solution fits in L1 cache.
</I>&gt;<i>
</I>&gt;<i> IME, the ultimate in lexing speed requires tokenizing to proceed
</I>&gt;<i> independently. A function call per token (in C/C++ anyway, using
</I>&gt;<i> a deterministic state-driven lexer) tends to swamp performance gains
</I>&gt;<i> from having the lexer proceed in batches; the parser needs to be just
</I>&gt;<i> advancing a pointer to get to the next token, not calling anybody.
</I>&gt;<i> But that's for ultimate speed.
</I>&gt;<i>
</I>
Out of curiosity; may i ask you why &quot;function call per token&quot; is
something bad for multi-core performance? I am asking because the way
i see this issue is that pursuing two different paths in NFA has no
inherent coupling. It is simply matter of state replication and
merging it back to single outcome state upon entering some barrier
marking &quot;end of work&quot; state. Am I missing something?


-- 
Greetings
Marcin Rze&#378;nicki
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038357.html">[antlr-interest] greedy vs nongreedy lexer rules
</A></li>
	<LI>Next message: <A HREF="038372.html">[antlr-interest] greedy vs nongreedy lexer rules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38371">[ date ]</a>
              <a href="thread.html#38371">[ thread ]</a>
              <a href="subject.html#38371">[ subject ]</a>
              <a href="author.html#38371">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
