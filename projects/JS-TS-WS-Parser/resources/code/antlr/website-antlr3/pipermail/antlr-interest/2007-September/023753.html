<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Non-local optimizations with treewalker?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Non-local%20optimizations%20with%20treewalker%3F&In-Reply-To=%3C46EC3C6E.60904%40jazillian.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023750.html">
   <LINK REL="Next"  HREF="023754.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Non-local optimizations with treewalker?</H1>
    <B>Andy Tripp</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Non-local%20optimizations%20with%20treewalker%3F&In-Reply-To=%3C46EC3C6E.60904%40jazillian.com%3E"
       TITLE="[antlr-interest] Non-local optimizations with treewalker?">antlr at jazillian.com
       </A><BR>
    <I>Sat Sep 15 13:11:26 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023750.html">[antlr-interest] Non-local optimizations with treewalker?
</A></li>
        <LI>Next message: <A HREF="023754.html">[antlr-interest] Non-local optimizations with treewalker?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23753">[ date ]</a>
              <a href="thread.html#23753">[ thread ]</a>
              <a href="subject.html#23753">[ subject ]</a>
              <a href="author.html#23753">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Loring Craymer wrote:
&gt;<i> The answer, of course, is &quot;yes and no&quot;.  Yes, because
</I>&gt;<i> capturing the semantics on which you base your
</I>&gt;<i> optimizations on in a tree makes it easier to carry
</I>&gt;<i> out a series of transformations.  
</I>That sounds to me like you mean &quot;Yes, you'll need a tree to capture 
semantics, but
that's just a starting point&quot;. i.e. a tree to gather semantics is 
necessary but not
sufficient to do any sort of transformation.
&gt;<i> No, because you need
</I>&gt;<i> to impose a control flow graph on top of the tree
</I>&gt;<i> (easy to do) 
</I>building a control flow graph is &quot;easy to do&quot;? Wow! And he didn't
even mention what language he's dealing with. Good luck on easily
building a (correct and complete) control flow graph on any language with
gotos. And for extra credit, build one for COBOL in which the
control flow itself can be determined at runtime.

&gt;<i> and add other data structures to capture
</I>&gt;<i> relationships between distant nodes in the tree during
</I>&gt;<i> analysis.  Transformation passes over trees are
</I>&gt;<i> interspersed with analysis passes; analysis passes
</I>&gt;<i> invariably require additional data structures,
</I>&gt;<i> including symbol tables, to capture the results of the
</I>&gt;<i> analysis for the next transformation or code
</I>&gt;<i> generation pass.
</I>&gt;<i>
</I>&gt;<i> So:  trees are central to syntactic/semantic
</I>&gt;<i> transformation, but they are not the only tool needed
</I>&gt;<i> for analysis.
</I>&gt;<i>   
</I>There are different types of &quot;transformation&quot; - one is &quot;compilation&quot;, 
but another
is &quot;translation&quot;. I'd agree that trees (and a treewalking approach)
are &quot;central&quot; for compilation, because the problem is not too much more than
&quot;at this type of node in the tree, emit this code&quot;. But what Sohail 
describes
sounds to me more like translation. Here, the problem isn't at all framed as
&quot;at this type of node...do something&quot;. Instead, it's more like &quot;examine the
tree, looking for the following, and change the tree in the following way.&quot;

If he uses a treewalker to do what he wants, it will look like this:

block: { doOptimization1(); doOptimization2(), doOptimization3(); }

where it just so happens that these three optimizations get &quot;kicked off&quot;
at each block in the AST, but they would each examine and manipulate the
entire AST.

Andy
&gt;<i> --Loring
</I>&gt;<i>
</I>&gt;<i> --- Sohail Somani &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sohail at taggedtype.net</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>   
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023750.html">[antlr-interest] Non-local optimizations with treewalker?
</A></li>
	<LI>Next message: <A HREF="023754.html">[antlr-interest] Non-local optimizations with treewalker?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23753">[ date ]</a>
              <a href="thread.html#23753">[ thread ]</a>
              <a href="subject.html#23753">[ subject ]</a>
              <a href="author.html#23753">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
