<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] bug in grammar inheritance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20bug%20in%20grammar%20inheritance&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002248.html">
   <LINK REL="Next"  HREF="002247.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] bug in grammar inheritance</H1>
    <B>Silvain Piree</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20bug%20in%20grammar%20inheritance&In-Reply-To="
       TITLE="[antlr-interest] bug in grammar inheritance">s.piree at enneya.com
       </A><BR>
    <I>Thu Nov  7 04:33:01 PST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="002248.html">[antlr-interest] Grammer question
</A></li>
        <LI>Next message: <A HREF="002247.html">[antlr-interest] bug in grammar inheritance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2246">[ date ]</a>
              <a href="thread.html#2246">[ thread ]</a>
              <a href="subject.html#2246">[ subject ]</a>
              <a href="author.html#2246">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

ANTLR contains a bug when using grammar inheritance.

When no importVocab is specified then ANTLR copies
the XxxTokenTypes.txt file from the supergrammar 
to the current directory instead of the target directory.

This can be fixed by replacing following code in 
&quot;antlr/preprocessor/Grammar.java&quot;:

OLD CODE in method expandInPlace():

String newImportVocabFileName =         
     antlrTool.fileMinusPath(superExportVocabFileName);

NEW CODE in method expandInPlace()::

String newImportVocabFileName =         
     antlrTool.getOutputDirectory() +
     System.getProperty(&quot;file.separator&quot;) +
     antlrTool.fileMinusPath(superExportVocabFileName);

Silvain



 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002248.html">[antlr-interest] Grammer question
</A></li>
	<LI>Next message: <A HREF="002247.html">[antlr-interest] bug in grammar inheritance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2246">[ date ]</a>
              <a href="thread.html#2246">[ thread ]</a>
              <a href="subject.html#2246">[ subject ]</a>
              <a href="author.html#2246">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
