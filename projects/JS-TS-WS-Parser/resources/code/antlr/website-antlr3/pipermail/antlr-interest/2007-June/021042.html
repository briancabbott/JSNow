<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Question about lexer/parser boundaries
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Question%20about%20lexer/parser%20boundaries&In-Reply-To=%3C20070604213304.27B243C6010C%40newmach.olivercomputing.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021041.html">
   <LINK REL="Next"  HREF="021043.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Question about lexer/parser boundaries</H1>
    <B>Phil Oliver</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Question%20about%20lexer/parser%20boundaries&In-Reply-To=%3C20070604213304.27B243C6010C%40newmach.olivercomputing.com%3E"
       TITLE="[antlr-interest] Question about lexer/parser boundaries">antlr at olivercomputing.com
       </A><BR>
    <I>Mon Jun  4 13:16:29 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021041.html">[antlr-interest] Help please:Not receiving mail subscriptions
</A></li>
        <LI>Next message: <A HREF="021043.html">[antlr-interest] Question about lexer/parser boundaries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21042">[ date ]</a>
              <a href="thread.html#21042">[ thread ]</a>
              <a href="subject.html#21042">[ subject ]</a>
              <a href="author.html#21042">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm using ANTLR v3.0 to create a full XQuery 1.0 lexer/parser (a 
non-trivial task IMO). While I have experience writing compilers 
(long ago), this is the first time I've used a formal system such as ANTLR.

My first question relates to an important phrase in the book &quot;The 
Definitive ANTLR Reference&quot; (a must buy if you're serious about 
working with ANTLR 3.0), page 290:

... You should restrict lexer rules to matching single lexical constructs ...

Personally I found this to be an extremely important piece of 
information that ought to be more stressed in this and other 
documentation. Existing EBNF grammars, including the official XQuery 
grammar, do not tell us which should be lexer and which should be 
parser rules; so it's up to the one translating those grammars to 
ANTLR syntax to decide which how the rules should be structured 
(lexer vs. parser).

So given that context, the question is: what exactly constitutes 
&quot;single lexical constructs&quot; in ANTLR's context? I would think that 
the definition of DUMMY would effectively amount to a single lexical construct:

DUMMY : 'A' | 'G' | 'Z' | DIGIT;
fragment DIGIT : '0'..'9';

or indeed this:

DUMMY2 : 'A..Z' ~'X';

because the rules boil down to a set of permissible single Unicode 
characters (or character ranges).

There is also this, the pattern of which is very useful to &quot;merge&quot; 
multiple tokens into a single token for the parser in order to reduce 
lookahead 'k':

MULTIPLE : TOKEN1 TOKEN2;
TOKEN1 : 'Test1';
TOKEN2 : 'Test2';

So my question is this: Are DUMMY, DUMMY2, and MULTIPLE permissible 
lexer rules, or should they still be defined as parser rules? (then 
defined with lower case letters.)



</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021041.html">[antlr-interest] Help please:Not receiving mail subscriptions
</A></li>
	<LI>Next message: <A HREF="021043.html">[antlr-interest] Question about lexer/parser boundaries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21042">[ date ]</a>
              <a href="thread.html#21042">[ thread ]</a>
              <a href="subject.html#21042">[ subject ]</a>
              <a href="author.html#21042">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
