<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] How to fix reference counting circular
	problem(C++)?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20How%20to%20fix%20reference%20counting%20circular%0A%09problem%28C%2B%2B%29%3F&In-Reply-To=20050117142241.29075.qmail%40web52804.mail.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010921.html">
   <LINK REL="Next"  HREF="010922.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] How to fix reference counting circular
	problem(C++)?</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20How%20to%20fix%20reference%20counting%20circular%0A%09problem%28C%2B%2B%29%3F&In-Reply-To=20050117142241.29075.qmail%40web52804.mail.yahoo.com"
       TITLE="[antlr-interest] How to fix reference counting circular
	problem(C++)?">ric.klaren at gmail.com
       </A><BR>
    <I>Mon Jan 17 06:52:32 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010921.html">[antlr-interest] How to fix reference counting circular
	problem(C++)?
</A></li>
        <LI>Next message: <A HREF="010922.html">[antlr-interest] problems with label
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10923">[ date ]</a>
              <a href="thread.html#10923">[ thread ]</a>
              <a href="subject.html#10923">[ subject ]</a>
              <a href="author.html#10923">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 17 Jan 2005 09:22:41 -0500 (EST), Fan Yang &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">fanyang_32 at yahoo.ca</A>&gt; wrote:
&gt;<i> I have memory leaks on deleting CommonHiddenTokens(double link list) which
</I>&gt;<i> there exist reference counting circular problem. 
</I>&gt;<i>   
</I>&gt;<i> I have searched on antlr archives, and  found that same problem was
</I>&gt;<i> discussed in &quot;nodes, hidden tokens, garbage collection&quot; topic in 2002
</I>&gt;<i> archive, but it didn't give me the solution. 
</I>
Can't add anything other than the reply I gave then. You could prior
to deleting the AST destroy the double links by setting them to
nullAST.

&gt;<i> Now almost 3 years passed, is there a mature and practical solution on this
</I>&gt;<i> problem? Has the new antlr release fixed this problem?
</I>&gt;<i> any suggestion will be appreciated. 
</I>
The 2.7.5 release does not change the reference counter. It was
planned to switch to another but it ran into some trouble I could not
solve quickly in the prerelease track. The new one would not have
solved this problem either.

At some point I intend to get rid of the reference counters and move
to custom allocators with optional garbage collection or manual memory
management. ANTLR3 will probably see that. Don't know if I'll have
time to do it for ANTLR2.

Cheers,

Ric
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010921.html">[antlr-interest] How to fix reference counting circular
	problem(C++)?
</A></li>
	<LI>Next message: <A HREF="010922.html">[antlr-interest] problems with label
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10923">[ date ]</a>
              <a href="thread.html#10923">[ thread ]</a>
              <a href="subject.html#10923">[ subject ]</a>
              <a href="author.html#10923">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
