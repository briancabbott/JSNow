<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: 2.7.2 build system is fubar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%202.7.2%20build%20system%20is%20fubar&In-Reply-To=10484908-420C-11D7-94E7-000393BB647E%40jguru.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003080.html">
   <LINK REL="Next"  HREF="003083.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: 2.7.2 build system is fubar</H1>
    <B>Dave &lt;davekam at pobox.com&gt;</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%202.7.2%20build%20system%20is%20fubar&In-Reply-To=10484908-420C-11D7-94E7-000393BB647E%40jguru.com"
       TITLE="[antlr-interest] Re: 2.7.2 build system is fubar">davekam at pobox.com
       </A><BR>
    <I>Sun Feb 16 20:21:56 PST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003080.html">[antlr-interest] Re: 2.7.2 build system is fubar
</A></li>
        <LI>Next message: <A HREF="003083.html">[antlr-interest] Re: 2.7.2 build system is fubar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3082">[ date ]</a>
              <a href="thread.html#3082">[ thread ]</a>
              <a href="subject.html#3082">[ subject ]</a>
              <a href="author.html#3082">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>, Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at j...</A>&gt;
wrote:
&gt;<i> Hi Dave,
</I>&gt;<i> 
</I>&gt;<i> First let me agree that the build situation is FUBAR.  Tough no
</I>matter 
&gt;<i> what though with multiple languages.  Anyway, ok, the antlr.jar
</I>file 
&gt;<i> that comes with the distribution should be all you need to get C++ 
</I>&gt;<i> output.  You should then be able to include/compile/link/exec
</I>without 
&gt;<i> rebuilding antlr itself.  I guess though the C++ libraries will
</I>have to 
&gt;<i> be build, which probably why you jumped on the ol' makefile.
</I>&gt;<i> 
</I>&gt;<i> Oh, you need antlr.jar not antlrall.jar now...
</I>&gt;<i> 
</I>&gt;<i> Compiling C++ on various platforms has always been a hassle, but a 
</I>&gt;<i> number of folks have it working per the antlr-interest list
</I>digests...

Yes, I can get it working, but it could be a lot easier. A few
suggestions:

-- if the jar is now antlr.jar and not antlrall.jar, fix the
references in ./configure.in and scripts/Config.make.in. if antlr is
required to build itself, then it must be able to find itself. ;)

-- similarly, why then is antlrall.jar still built and installed? if
you look at my first message, it's several times larger than the built
antlr.jar. not sure what the difference between the two is.

-- it's pointless to include the generated *.java files in the
distribution as readonly, and then try to regenerate new files over
them. either they should be writable, or not regenerated during the
build.

-- on a similar note, it sounds like it's not necessary to recompile
the jar's just to get the C++ runtime working, but that's what the
current Makefile does. I haven't tried to make from the lib/cpp
directory yet.

-- make clean should in no case leave the directory in an unbuildable
state.

-- make install should install everything that's necessary. is the
antlr directory necessary? it certainly appears to be, but I'm not
sure. just antlr.jar and/or antlrall.jar appear not to be sufficient.

-- make uninstall should be available.

I'd rather be able to build and install the files in standard
directories and use the wrapper script, rather than changing CLASSPATH
manually to point to some place my home directory.

I also might suggest using the full gnu autotools build system
(automake, libtool) instead of just autoconf. This should provide the
proper make actions (build, install, clean, uninstall, etc.) and may
work properly on more systems. I would do this myself, but I don't
have the expertise. Any volunteers?

It may be tricky to get antlr to build well on various platforms with
the various language it uses, but I know it can be better than this!
It's frustrating to try to get started when it's in this state.

Dave


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003080.html">[antlr-interest] Re: 2.7.2 build system is fubar
</A></li>
	<LI>Next message: <A HREF="003083.html">[antlr-interest] Re: 2.7.2 build system is fubar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3082">[ date ]</a>
              <a href="thread.html#3082">[ thread ]</a>
              <a href="subject.html#3082">[ subject ]</a>
              <a href="author.html#3082">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
