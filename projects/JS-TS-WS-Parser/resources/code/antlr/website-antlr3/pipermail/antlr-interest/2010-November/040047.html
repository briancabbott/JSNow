<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] [stringtemplate-interest] Working Java 1.5	grammar?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%5Bstringtemplate-interest%5D%20Working%20Java%201.5%0A%09grammar%3F&In-Reply-To=%3C022601cb85d9%2488d37cf0%249a7a76d0%24%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040042.html">
   <LINK REL="Next"  HREF="040053.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] [stringtemplate-interest] Working Java 1.5	grammar?</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%5Bstringtemplate-interest%5D%20Working%20Java%201.5%0A%09grammar%3F&In-Reply-To=%3C022601cb85d9%2488d37cf0%249a7a76d0%24%40temporal-wave.com%3E"
       TITLE="[antlr-interest] [stringtemplate-interest] Working Java 1.5	grammar?">jimi at temporal-wave.com
       </A><BR>
    <I>Tue Nov 16 13:59:26 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="040042.html">[antlr-interest] C++ Grammar for Antlr2
</A></li>
        <LI>Next message: <A HREF="040053.html">[antlr-interest] Ambiguous reference
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40047">[ date ]</a>
              <a href="thread.html#40047">[ thread ]</a>
              <a href="subject.html#40047">[ subject ]</a>
              <a href="author.html#40047">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think that the grammar is relying on a faster computer or a longer timeout
;-) Try adding -Xconversiontimeout 30000 to the command line. 

 

Yang's grammar is very accurate for 1.5 but it does rely on backtracking,
which makes it a little slow and a little difficult to report accurate
errors with. However, if you know that the input is good, then this is a
great starting point if you want to do something very custom. Note that you
can always use existing tools such as those within Netbeans and many others
to provide custom refactoring too.

 

Jim

 

PS: I answered this on the ANTLR mailing list, which is where it belongs J

 

From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">stringtemplate-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">stringtemplate-interest-bounces at antlr.org</A>] On Behalf Of Steven
Atkinson
Sent: Tuesday, November 16, 2010 1:31 PM
To: '<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">stringtemplate-interest at antlr.org</A>'
Cc: '<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">yang.jiang.z at gmail.com</A>'
Subject: [stringtemplate-interest] Working Java 1.5 grammar?

 

Folks,

 

I'm trying to get a working Java 1.5 grammar and tree walker for
source-to-source refactoring efforts at Netflix. 

 

I've installed antlrWorks in IntelliJ, downloaded the Java.g from antlr.org,
and even went hunting in openJDK sources for a working ANTLR v3 grammer for
Java 1.5 or 1.6.

 

When I try putting the Java.g grammar from Yang Jiang
&lt;<A HREF="http://openjdk.java.net/projects/compiler-grammar/antlrworks/Java.g">http://openjdk.java.net/projects/compiler-grammar/antlrworks/Java.g</A>&gt;
(<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">yang.jiang.z at gmail.com</A>) through ANTLRWorks or on the command line I get the
following error output

 

Any help is appreciated!

 

C:\Hack&gt;java -jar antlr-3.2.jar Java.g

warning(209): Java.g:1783:1: Multiple token rules can match input such as
&quot;'-'&quot;: SUBSUB, SUB, SUBEQ

 

As a result, token(s) SUB,SUBEQ were disabled for that input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'c'&quot;: CASE, CATCH, CHAR, CLASS, CONST, CONTINUE, IDENTIFIER

 

As a result, token(s) CATCH,CHAR,CLASS,CONST,CONTINUE,IDENTIFIER were
disabled for that input

warning(209): Java.g:1807:1: Multiple token rules can match input such as
&quot;'%'&quot;: PERCENT, PERCENTEQ

 

As a result, token(s) PERCENTEQ were disabled for that input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'t'&quot;: THIS, THROW, THROWS, TRANSIENT, TRY, TRUE, IDENTIFIER

 

As a result, token(s) THROW,THROWS,TRANSIENT,TRY,TRUE,IDENTIFIER were
disabled for that input

warning(209): Java.g:1815:1: Multiple token rules can match input such as
&quot;'!'&quot;: BANG, BANGEQ

 

As a result, token(s) BANGEQ were disabled for that input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'w'&quot;: WHILE, IDENTIFIER

 

As a result, token(s) IDENTIFIER were disabled for that input

warning(209): Java.g:1779:1: Multiple token rules can match input such as
&quot;'+'&quot;: PLUSPLUS, PLUS, PLUSEQ

 

As a result, token(s) PLUS,PLUSEQ were disabled for that input

warning(209): Java.g:1370:1: Multiple token rules can match input such as
&quot;'1'..'9'&quot;: LONGLITERAL, INTLITERAL, FLOATLITERAL, DOUBLELITERAL

 

As a result, token(s) INTLITERAL,FLOATLITERAL,DOUBLELITERAL were disabled
for that input

warning(209): Java.g:1803:1: Multiple token rules can match input such as
&quot;'^'&quot;: CARET, CARETEQ

 

As a result, token(s) CARETEQ were disabled for that input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'s'&quot;: SHORT, STATIC, STRICTFP, SUPER, SWITCH, SYNCHRONIZED, IDENTIFIER

 

As a result, token(s) STATIC,STRICTFP,SUPER,SWITCH,SYNCHRONIZED,IDENTIFIER
were disabled for that input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'f'&quot;: FINAL, FINALLY, FLOAT, FOR, FALSE, IDENTIFIER

 

As a result, token(s) FINALLY,FLOAT,FOR,FALSE,IDENTIFIER were disabled for
that input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'l'&quot;: LONG, IDENTIFIER

 

As a result, token(s) IDENTIFIER were disabled for that input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'v'&quot;: VOID, VOLATILE, IDENTIFIER

 

As a result, token(s) VOLATILE,IDENTIFIER were disabled for that input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'d'&quot;: DEFAULT, DO, DOUBLE, IDENTIFIER

 

As a result, token(s) DO,DOUBLE,IDENTIFIER were disabled for that input

warning(209): Java.g:1727:1: Multiple token rules can match input such as
&quot;'='&quot;: EQ, EQEQ

 

As a result, token(s) EQEQ were disabled for that input

warning(209): Java.g:1787:1: Multiple token rules can match input such as
&quot;'*'&quot;: STAR, STAREQ

 

As a result, token(s) STAREQ were disabled for that input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'e'&quot;: ELSE, ENUM, EXTENDS, IDENTIFIER

 

As a result, token(s) ENUM,EXTENDS,IDENTIFIER were disabled for that input

warning(209): Java.g:1791:1: Multiple token rules can match input such as
&quot;'/'&quot;: COMMENT, LINE_COMMENT, SLASH, SLASHEQ

 

As a result, token(s) LINE_COMMENT,SLASH,SLASHEQ were disabled for that
input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'g'&quot;: GOTO, IDENTIFIER

 

As a result, token(s) IDENTIFIER were disabled for that input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'n'&quot;: NATIVE, NEW, NULL, IDENTIFIER

 

As a result, token(s) NEW,NULL,IDENTIFIER were disabled for that input

warning(209): Java.g:1799:1: Multiple token rules can match input such as
&quot;'|'&quot;: BARBAR, BAR, BAREQ

 

As a result, token(s) BAR,BAREQ were disabled for that input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'r'&quot;: RETURN, IDENTIFIER

 

As a result, token(s) IDENTIFIER were disabled for that input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'p'&quot;: PACKAGE, PRIVATE, PROTECTED, PUBLIC, IDENTIFIER

 

As a result, token(s) PRIVATE,PROTECTED,PUBLIC,IDENTIFIER were disabled for
that input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'b'&quot;: BOOLEAN, BREAK, BYTE, IDENTIFIER

 

As a result, token(s) BREAK,BYTE,IDENTIFIER were disabled for that input

warning(209): Java.g:1370:1: Multiple token rules can match input such as
&quot;'0'&quot;: LONGLITERAL, INTLITERAL, FLOATLITERAL, DOUBLELITERAL

 

As a result, token(s) INTLITERAL,FLOATLITERAL,DOUBLELITERAL were disabled
for that input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'a'&quot;: ABSTRACT, ASSERT, IDENTIFIER

 

As a result, token(s) ASSERT,IDENTIFIER were disabled for that input

warning(209): Java.g:1795:1: Multiple token rules can match input such as
&quot;'&amp;'&quot;: AMPAMP, AMP, AMPEQ

 

As a result, token(s) AMP,AMPEQ were disabled for that input

warning(209): Java.g:1703:1: Multiple token rules can match input such as
&quot;'.'&quot;: FLOATLITERAL, DOUBLELITERAL, DOT, ELLIPSIS

 

As a result, token(s) DOUBLELITERAL,DOT,ELLIPSIS were disabled for that
input

warning(209): Java.g:1827:1: Multiple token rules can match input such as
&quot;'i'&quot;: IF, IMPLEMENTS, IMPORT, INSTANCEOF, INT, INTERFACE, IDENTIFIER

 

As a result, token(s) IMPLEMENTS,IMPORT,INSTANCEOF,INT,INTERFACE,IDENTIFIER
were disabled for that input

error(208): Java.g:1815:1: The following token definitions can never be
matched because prior tokens match the same input:
INTLITERAL,DOUBLELITERAL,LINE_COMMENT,ASSERT,BREAK,BYTE,CATCH,CHAR,CLASS,CON
S

T,CONTINUE,DO,DOUBLE,ENUM,EXTENDS,FINALLY,FLOAT,FOR,IMPLEMENTS,IMPORT,INSTAN
CEOF,INT,INTERFACE,NEW,PRIVATE,PROTECTED,PUBLIC,STATIC,STRICTFP,SUPER,SWITCH
,SYNCHRONIZED,THROW,THROWS,TRANSIENT,TRY,VOLATIL

E,TRUE,FALSE,NULL,DOT,ELLIPSIS,EQEQ,PLUS,SUB,SLASH,AMP,BAR,PLUSEQ,SUBEQ,STAR
EQ,SLASHEQ,AMPEQ,BAREQ,CARETEQ,PERCENTEQ,BANGEQ

 

C:\Hack&gt;

</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040042.html">[antlr-interest] C++ Grammar for Antlr2
</A></li>
	<LI>Next message: <A HREF="040053.html">[antlr-interest] Ambiguous reference
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40047">[ date ]</a>
              <a href="thread.html#40047">[ thread ]</a>
              <a href="subject.html#40047">[ subject ]</a>
              <a href="author.html#40047">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
