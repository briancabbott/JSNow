<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> Fwd: [antlr-interest] C++ parser usage ideas
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Fwd%3A%20%5Bantlr-interest%5D%20C%2B%2B%20parser%20usage%20ideas&In-Reply-To=e88138500510130719n3f19063dy8a8e02953f35e8b7%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013946.html">
   <LINK REL="Next"  HREF="013948.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Fwd: [antlr-interest] C++ parser usage ideas</H1>
    <B>Jim Crafton</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Fwd%3A%20%5Bantlr-interest%5D%20C%2B%2B%20parser%20usage%20ideas&In-Reply-To=e88138500510130719n3f19063dy8a8e02953f35e8b7%40mail.gmail.com"
       TITLE="Fwd: [antlr-interest] C++ parser usage ideas">jim.crafton at gmail.com
       </A><BR>
    <I>Thu Oct 13 07:20:17 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013946.html">[antlr-interest] C++ parser usage ideas
</A></li>
        <LI>Next message: <A HREF="013948.html">Fwd: [antlr-interest] C++ parser usage ideas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13947">[ date ]</a>
              <a href="thread.html#13947">[ thread ]</a>
              <a href="subject.html#13947">[ subject ]</a>
              <a href="author.html#13947">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well here's the problem, say you have the following C++ code:

class MY_API Foo {

};


Now somewhere else MY_API is defined as a macro, that uses #defines to
determine whether or not to define it as empty or use the Microsoft
specific __declspec() syntax for exporting a class in a DLL.

However, if the fragment above is parsed as is, it will cause the
parser to throw an exception as it's not syntactically correct. So the
only solution (as I understand it) is to either put logic in the C++
grammar to gracefully skip over macro bits (which is understandably
pretty hard to do), or pre-process it first before passing it over to
the C++ parser.

&gt;<i> &quot;cpp user_file_name temp_file_name extra_cpp_options -nostdinc&quot;
</I>&gt;<i>
</I>&gt;<i> and then I 'system' it (on Unix), and compile the resulting
</I>
Keep in mind that I am not compiling anything - I am doing to to be
able to analyze the code a user is writing. Stuff like showing the
classes/methods/members in a tree view, refactoring, etc. So I really
don't want to have to shell out stuff like this if I can avoid it.

&gt;<i> Does the IDE need to know about #include files?
</I>Yes it would. But that would be setup as part of your project anyways,
so it would be that big of a deal.
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013946.html">[antlr-interest] C++ parser usage ideas
</A></li>
	<LI>Next message: <A HREF="013948.html">Fwd: [antlr-interest] C++ parser usage ideas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13947">[ date ]</a>
              <a href="thread.html#13947">[ thread ]</a>
              <a href="subject.html#13947">[ subject ]</a>
              <a href="author.html#13947">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
