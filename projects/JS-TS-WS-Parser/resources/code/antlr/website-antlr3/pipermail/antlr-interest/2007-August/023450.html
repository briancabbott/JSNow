<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] C Runtime and Strings
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20C%20Runtime%20and%20Strings&In-Reply-To=%3C051466DAA0D608439E196797955018D7023650%40wavemachine.temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023446.html">
   <LINK REL="Next"  HREF="023447.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] C Runtime and Strings</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20C%20Runtime%20and%20Strings&In-Reply-To=%3C051466DAA0D608439E196797955018D7023650%40wavemachine.temporal-wave.com%3E"
       TITLE="[antlr-interest] C Runtime and Strings">jimi at temporal-wave.com
       </A><BR>
    <I>Sat Aug 25 10:35:21 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023446.html">[antlr-interest] C Runtime and Strings
</A></li>
        <LI>Next message: <A HREF="023447.html">[antlr-interest]  Newbie question:using lexer grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23450">[ date ]</a>
              <a href="thread.html#23450">[ thread ]</a>
              <a href="subject.html#23450">[ subject ]</a>
              <a href="author.html#23450">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>From a rule, you can return the pANTLR3_STRING (which is generated by a
</I>reference to a .text in an attribute) or the char pointer that it
references.

There is no requirement to use the pANTLR3_STRING stuff, it just makes
things easier and the runtime uses it for rule text etc.

The offsets in the tokens will tell you the absolute addresses when
combined with the start of your input text and you are better using
those as a STRING may not always be pointing into the input, though it
usually is.

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Stefan Klinger
</I>&gt;<i> Sent: Saturday, August 25, 2007 10:01 AM
</I>&gt;<i> To: Gavin Lambert
</I>&gt;<i> Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: Re: [antlr-interest] C Runtime and Strings
</I>&gt;<i> 
</I>&gt;<i> Gavin Lambert wrote:
</I>&gt;<i> &gt; &gt;And if there is a way, is the input buffer read into one big buffer
</I>&gt;<i> &gt; &gt;so that it is valid for the whole parser?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Yep.
</I>&gt;<i> So it should be valid to return something like this from such a rule
</I>&gt;<i> (with the advantace that nothing needs to be allocated):
</I>&gt;<i> 
</I>&gt;<i> scoped_identifier : NAMESPACE_COLON? (IDENTIFIER NAMESPACE_COLON)*
</I>&gt;<i> IDENTIFIER;
</I>&gt;<i> 
</I>&gt;<i> struct MyReturn {
</I>&gt;<i>     pANTLR3_UINT8 *begin_of_rule;
</I>&gt;<i>     pANTLR3_UINT8 *end_of_rule;
</I>&gt;<i> };
</I>&gt;<i> 
</I>&gt;<i> for e.g. the input &quot;12 + my::identifier::name + 34&quot;
</I>&gt;<i> 
</I>&gt;<i> begin_of_rule should be pointing to 'm' and end_of_rule to 'e'.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> If someone could give me a hint how i can accomplish that it would be
</I>&gt;<i> great.
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> 
</I>&gt;<i> Stefan
</I>
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023446.html">[antlr-interest] C Runtime and Strings
</A></li>
	<LI>Next message: <A HREF="023447.html">[antlr-interest]  Newbie question:using lexer grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23450">[ date ]</a>
              <a href="thread.html#23450">[ thread ]</a>
              <a href="subject.html#23450">[ subject ]</a>
              <a href="author.html#23450">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
