<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] question on greedy matching
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20question%20on%20greedy%20matching&In-Reply-To=43575B82.2070300%40metalanguage.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014008.html">
   <LINK REL="Next"  HREF="014024.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] question on greedy matching</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20question%20on%20greedy%20matching&In-Reply-To=43575B82.2070300%40metalanguage.com"
       TITLE="[antlr-interest] question on greedy matching">ric.klaren at gmail.com
       </A><BR>
    <I>Fri Oct 21 22:03:22 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014008.html">[antlr-interest] question on greedy matching
</A></li>
        <LI>Next message: <A HREF="014024.html">[antlr-interest] question on greedy matching
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14049">[ date ]</a>
              <a href="thread.html#14049">[ thread ]</a>
              <a href="subject.html#14049">[ subject ]</a>
              <a href="author.html#14049">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/20/05, Andrei Alexandrescu &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">andrei at metalanguage.com</A>&gt; wrote:
&gt;<i> &gt; (Side note: This is awfully horrid language design.... adding curlies
</I>&gt;<i> &gt; around the statement inside the try would make life a lot more
</I>&gt;<i> &gt; pleasant.)
</I>&gt;<i>
</I>&gt;<i> Definitely. But it's the most sensible example I could find for a
</I>&gt;<i> situation where you want a non-greedy parsing. (Other examples?) In
</I>&gt;<i> addition, it's an excellent exercise for understanding how to do some
</I>&gt;<i> nontrivial parsing with antlr.
</I>
Wouldn't know good examples off the top of my head, had the luxury of
designing the language I was working on, so could prevent any
braindeadness.

&gt;<i> In other words, it's a Java-like language, not a Python-like language
</I>&gt;<i> (indentation is irrelevant).
</I>
Some sanity prevails ;)

&gt;<i> &gt; start out with a try rule with only one catch. Then define an extra
</I>&gt;<i> &gt; alternative (probably in the statement rule to collect trailing catch
</I>&gt;<i> &gt; statements) Some checks are probably necessary afterwards to see if
</I>&gt;<i> &gt; everything made sense. The catch all might need a predicate to prevent
</I>&gt;<i> &gt; it from being entered if the preceding statement was not a try.
</I>&gt;<i>
</I>&gt;<i> I believe this is not possible with syntactic predicates. You have to
</I>&gt;<i> have semantic predicates, I think. Actually that's my fundamental
</I>&gt;<i> question. Another fundamental question is how would a PEG deal with that
</I>&gt;<i> (see <A HREF="http://pdos.csail.mit.edu/~baford/packrat/">http://pdos.csail.mit.edu/~baford/packrat/</A>).
</I>
Come to think of it... if your intention is to build a tree during
parsing, then it's quite easy to implement it with this strategy and
end up with a tree with the right structure. It wouldn't even need
predicates (some action code though to fix the trees).

Strategy as above use a try catch with only one catch, build the tree
as usual, carry around a pointer to the last catch,  then when
entering the trailing catch rule see if there's a pointer around to
the last catch.. if not it's a syntax error. Then see if there's no
statements between this last catch and the trailers. If all is ok, add
the trailers to the tree of the last catch.

I'm not familiar with PEG's so can't comment on that.

Cheers,

Ric
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014008.html">[antlr-interest] question on greedy matching
</A></li>
	<LI>Next message: <A HREF="014024.html">[antlr-interest] question on greedy matching
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14049">[ date ]</a>
              <a href="thread.html#14049">[ thread ]</a>
              <a href="subject.html#14049">[ subject ]</a>
              <a href="author.html#14049">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
