<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Unit testing grammar productions and injecting	EOF
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Unit%20testing%20grammar%20productions%20and%20injecting%0A%09EOF&In-Reply-To=%3Cf14c01620910061333h41f468efi522d2b37d05600ac%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036210.html">
   <LINK REL="Next"  HREF="036211.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Unit testing grammar productions and injecting	EOF</H1>
    <B>Kaleb Pederson</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Unit%20testing%20grammar%20productions%20and%20injecting%0A%09EOF&In-Reply-To=%3Cf14c01620910061333h41f468efi522d2b37d05600ac%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Unit testing grammar productions and injecting	EOF">kaleb.pederson at gmail.com
       </A><BR>
    <I>Tue Oct  6 13:33:09 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="036210.html">[antlr-interest] Unit testing grammar productions and injecting	EOF
</A></li>
        <LI>Next message: <A HREF="036211.html">[antlr-interest] @members and the lexer in 3.0.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36215">[ date ]</a>
              <a href="thread.html#36215">[ thread ]</a>
              <a href="subject.html#36215">[ subject ]</a>
              <a href="author.html#36215">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Oct 6, 2009 at 7:13 AM, Daniels, Troy (US SSA)
&lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">troy.daniels at baesystems.com</A>&gt; wrote:
&gt;<i>
</I>&gt;&gt;<i> As a workaround, I changed my production, adding EOF as an
</I>&gt;&gt;<i> optional terminal as follows:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> objectMember : functionExpression EOF? | ID EOF?;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Everything now works but I'm curious if a better solution for
</I>&gt;&gt;<i> testing individual grammar productions exists. &#160;Suggestions
</I>&gt;&gt;<i> or alternatives?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> While it's not the best answer, you could change your test code so that
</I>&gt;<i> instead of passing &quot;foo&quot;, it passed &quot;foo junk&quot;. &#160;That way, your fix is
</I>&gt;<i> in the test code, and the production grammar says what you want it to
</I>&gt;<i> say. &#160;Better would be for Antlr to include EOF in the follow set if it's
</I>&gt;<i> possible.
</I>
Thanks for the suggestion Troy.  You're right, that's certainly a
valid workaround.  I could look through the generated follow set and
choose one of the permitted tokens, but that would clutter the tests
and leave them less readable.  Of course, if I don't clutter the tests
with the extra symbol, I have to clutter the grammar with the extra
EOF, but I'm preferential to that at the moment as it currently only
occurs in that one production, but I'll keep your suggestion in mind.

Thanks.

--Kaleb

<A HREF="http://twitter.com/kalebpederson">http://twitter.com/kalebpederson</A>
<A HREF="http://kalebpederson.com">http://kalebpederson.com</A>
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036210.html">[antlr-interest] Unit testing grammar productions and injecting	EOF
</A></li>
	<LI>Next message: <A HREF="036211.html">[antlr-interest] @members and the lexer in 3.0.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36215">[ date ]</a>
              <a href="thread.html#36215">[ thread ]</a>
              <a href="subject.html#36215">[ subject ]</a>
              <a href="author.html#36215">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
