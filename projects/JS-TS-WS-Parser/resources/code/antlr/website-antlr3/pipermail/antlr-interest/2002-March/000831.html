<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: C# port of 2.7.2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20C%23%20port%20of%202.7.2&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000823.html">
   <LINK REL="Next"  HREF="000842.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: C# port of 2.7.2</H1>
    <B>Scott</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20C%23%20port%20of%202.7.2&In-Reply-To="
       TITLE="[antlr-interest] Re: C# port of 2.7.2">scott at fmsinc.com
       </A><BR>
    <I>Wed Mar 20 23:15:46 PST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000823.html">[antlr-interest] Re: ANTLR and guarded predicates
</A></li>
        <LI>Next message: <A HREF="000842.html">[antlr-interest] Re: C# port of 2.7.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#831">[ date ]</a>
              <a href="thread.html#831">[ thread ]</a>
              <a href="subject.html#831">[ subject ]</a>
              <a href="author.html#831">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm hesitant to mention this, but I have a custom version of ANTLR 2.7.1
that works for C# and VB.NET. This includes the code generators. I've been
meaning to post this &quot;Real Soon Now&quot;, but I've been buried in trying to get
some products out the door. I intended to clean up the code and document
each change I've made, before posting it, but there seems to be enough
interest that I'm willing to post what I have. 

I haven't yet looked at porting this to 2.7.2.xxx, since I can't afford to
break my code base at this point. This is on my list, though. I can't really
afford to do any maintenance for the next few months, but I'm happy to pass
the torch. 

Unfortunately, I made changes to the C# version of the antlr runtime that
break compatibility with the Java version, but make it more in line with the
CLS. Mostly casing, and wrapping getXXX, setXXX into properties. I also
needed to make changes the java based code generator driver to support
namespaces for C# and VB.NET. I also added lazy creation of the _saveIndex
variable to get rid of annoying unused variable warnings.

In addition, I also added a few optimizations to (hopefully) crank up
performance a little bit. The most obvious are that I hard coded Token and
AST creation to work around CreateInstance performance problems, and I added
cache'ing for the LA() members. I also implemented the InputGuessing
optimization mentioned on this list a few months back, since the .NET GC was
hampering performance. There might be few more that I can't remember at this
point. 

The code generators are messy, but they are workable. If anyone is still
interested, I can provide a link to it in a few days. 
 
It's worked well for my purposes, but YMMV.

Thanks,

Scott Ellis
www.fmsinc.com


-----Original Message-----
From: Terence Parr [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at jguru.com</A>] 
Sent: Wednesday, March 20, 2002 2:03 PM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
Subject: Re: [antlr-interest] Re: C# port of 2.7.2

Hi Guys, just back from a week off.  2.7.2a2 is close, but not quite 
finished.  Might add a few more things...I should have more time soon.

Also, don't implement a new code generator.  The current thing sucks but 
I am experimenting with a new code gen system myself that I might hack 
into 2.x to make things easier.  OTOH, it might have to wait until 3.0 
(a complete rewrite).

In summary, it might just be easier to work with the crappy code 
generation thing in ANTLR as it stands; C# is basically Java so you 
should no trouble with modifying JavaCodeGenerator.java, right?

Thanks,
Terence


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000823.html">[antlr-interest] Re: ANTLR and guarded predicates
</A></li>
	<LI>Next message: <A HREF="000842.html">[antlr-interest] Re: C# port of 2.7.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#831">[ date ]</a>
              <a href="thread.html#831">[ thread ]</a>
              <a href="subject.html#831">[ subject ]</a>
              <a href="author.html#831">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
