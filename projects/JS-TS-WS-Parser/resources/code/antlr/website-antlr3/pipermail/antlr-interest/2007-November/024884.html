<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer context problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20context%20problem&In-Reply-To=%3C20071124104445.9F54A11EADF%40www.antlr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024883.html">
   <LINK REL="Next"  HREF="024898.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer context problem</H1>
    <B>Gavin Lambert</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20context%20problem&In-Reply-To=%3C20071124104445.9F54A11EADF%40www.antlr.org%3E"
       TITLE="[antlr-interest] Lexer context problem">antlr at mirality.co.nz
       </A><BR>
    <I>Sat Nov 24 02:44:30 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024883.html">[antlr-interest] Lexer context problem
</A></li>
        <LI>Next message: <A HREF="024898.html">[antlr-interest] Lexer context problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24884">[ date ]</a>
              <a href="thread.html#24884">[ thread ]</a>
              <a href="subject.html#24884">[ subject ]</a>
              <a href="author.html#24884">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 21:56 24/11/2007, Keith Whittingham wrote:
 &gt;Could someone explain what I'm doing wrong here
[...]
 &gt;NAME	
 &gt;	:	{!brackets}?
 &gt;('A'..'Z'|'a'..'z'|'.'|'_')('0'..'9'|'A'..'Z'|'a'..'z'|'.'|'_')+
 &gt;	;
[...]
 &gt;DOTDOT
 &gt;	:	{brackets}? '..'
 &gt;	;
[...]
 &gt;I always get an error &quot;ine 1:6 rule NAME failed predicate:
 &gt;{!brackets}?&quot;

You could try using a gated predicate (put =&gt; after the ?).  I'm a 
little fuzzy on the exact behaviour but I think this makes it a 
decision-making predicate instead of just a verification predicate 
-- so it's stronger.

If that doesn't work either then possibly ANTLR is discarding the 
predicate because it can't see any alts within the rule 
itself.  If that's what's happening then you'll need to rewrite 
your rules so that you either match the bracket sequence 
completely in the parser or completely within the lexer.  Either 
way, losing the predicates.

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024883.html">[antlr-interest] Lexer context problem
</A></li>
	<LI>Next message: <A HREF="024898.html">[antlr-interest] Lexer context problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24884">[ date ]</a>
              <a href="thread.html#24884">[ thread ]</a>
              <a href="subject.html#24884">[ subject ]</a>
              <a href="author.html#24884">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
