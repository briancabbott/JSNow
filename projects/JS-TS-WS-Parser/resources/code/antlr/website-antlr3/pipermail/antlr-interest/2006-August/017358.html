<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] TreeAdaptor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20TreeAdaptor&In-Reply-To=44E0E49F.3070603%40cs.utah.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017360.html">
   <LINK REL="Next"  HREF="017363.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] TreeAdaptor</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20TreeAdaptor&In-Reply-To=44E0E49F.3070603%40cs.utah.edu"
       TITLE="[antlr-interest] TreeAdaptor">parrt at cs.usfca.edu
       </A><BR>
    <I>Mon Aug 14 16:11:04 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017360.html">[antlr-interest] Parser seems to confuse strings and literals
</A></li>
        <LI>Next message: <A HREF="017363.html">[antlr-interest] problems with the ECMAScript grammar for ANTLR 3.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17358">[ date ]</a>
              <a href="thread.html#17358">[ thread ]</a>
              <a href="subject.html#17358">[ subject ]</a>
              <a href="author.html#17358">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Aug 14, 2006, at 2:01 PM, Sean Walton wrote:

&gt;<i> Terence Parr wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Aug 14, 2006, at 5:41 AM, Sean Walton wrote:
</I>&gt;&gt;&gt;&gt;<i> doh!  Changed to:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>     /** Get a child 0..n-1 node */
</I>&gt;&gt;&gt;&gt;<i>     public Object getChild(Object t, int i);
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>     /** How many children?  If 0, then this is a leaf node */
</I>&gt;&gt;&gt;&gt;<i>     public int getChildCount(Object t);
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Change 2870.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Ter
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> You know, this wasn't necessary.  The 'getChild()' and  
</I>&gt;&gt;&gt;<i> 'getChildCount()' methods simply *used to* operate on the current  
</I>&gt;&gt;&gt;<i> node, because the child can be a parent to a different child.   
</I>&gt;&gt;&gt;<i> The new method looks more like a static call, because it is now  
</I>&gt;&gt;&gt;<i> independent (i.e., 'static') from the current node, resolving  
</I>&gt;&gt;&gt;<i> getChild() through 't' and not the current instance.  If that is  
</I>&gt;&gt;&gt;<i> the case, it is a more confusing interface than the first.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi Sean.  There is no such thing as &quot;current node&quot;.  To what do  
</I>&gt;&gt;<i> you refer?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ter
</I>&gt;<i> (Sorry I can't cc the list; I'm at home and the list does not  
</I>&gt;<i> recognize the source ebox.)
</I>&gt;<i> The current node is the one that you get from this code:
</I>&gt;<i>            nesc_Program_return t = g.nesc_Program();
</I>&gt;<i>            Object tree = t.getTree();
</I>&gt;<i> 'tree' points to the &quot;current node&quot; or in other words the head of  
</I>&gt;<i> the tree.  As the program walks over the tree recursively (or even  
</I>&gt;<i> iteratively), 'tree' will always point to the current instance.   
</I>&gt;<i> Getting the child or the child count is simple and IMO elegant as  
</I>&gt;<i> it was.  Adding a reference to the head of the tree (Object t)  
</I>&gt;<i> obviates the need of instance information (referring to OOAD),  
</I>&gt;<i> therefore it is independent from the instance, and therefore, it is  
</I>&gt;<i> more of a static behavior.
</I>&gt;<i> Unless I am missing something very obvious, I prefer the original  
</I>&gt;<i> form, because it is simpler than the new version (and even more  
</I>&gt;<i> elegant than V2).
</I>
Hi Sean,

ANTLR  Does not know anything about the node types; they are just  
plain objects. you can in your actions of course always reference  
t.getChild()  but during tree parsing ANTLR cannot know how to  
navigate your trees.  It must ask your adapter how to get children.

Terence
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017360.html">[antlr-interest] Parser seems to confuse strings and literals
</A></li>
	<LI>Next message: <A HREF="017363.html">[antlr-interest] problems with the ECMAScript grammar for ANTLR 3.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17358">[ date ]</a>
              <a href="thread.html#17358">[ thread ]</a>
              <a href="subject.html#17358">[ subject ]</a>
              <a href="author.html#17358">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
