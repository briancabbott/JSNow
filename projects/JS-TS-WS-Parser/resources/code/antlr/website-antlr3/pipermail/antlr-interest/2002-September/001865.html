<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Request enhancement ANTLR
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Request%20enhancement%20ANTLR&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001864.html">
   <LINK REL="Next"  HREF="001872.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Request enhancement ANTLR</H1>
    <B>Brian Smith</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Request%20enhancement%20ANTLR&In-Reply-To="
       TITLE="[antlr-interest] Re: Request enhancement ANTLR">brian-l-smith at uiowa.edu
       </A><BR>
    <I>Sat Sep 14 22:32:42 PDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001864.html">[antlr-interest] Re: Request enhancement ANTLR
</A></li>
        <LI>Next message: <A HREF="001872.html">[antlr-interest] Re: Request enhancement ANTLR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1865">[ date ]</a>
              <a href="thread.html#1865">[ thread ]</a>
              <a href="subject.html#1865">[ subject ]</a>
              <a href="author.html#1865">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Terence,

It isn't a big deal to me. I was actually thinking that people would use 
the &quot;<A HREF="file://&quot;">file://&quot;</A> form instead (actually, I use java.net.URL objects), but 
then they'd have to have URL-&gt;&quot;friendly filename&quot; mapper. I already have 
to have a URL-&gt;&quot;friendly filename&quot; mapper but my requirements are not as 
common, probably.

Actually, I would be more interested in adding a &quot;tokenClass&quot; option for 
the lexer. That way, things like this extension would be quite easy to 
individual users to do and wouldn't require the ugly downcasting that is 
currently required. I was thinking that it would work something as follows:

options { tokenClass=org.brianlsmith.smn.reader.ValuedToken; }

* When set at the lexer grammar level, it defines the type of the token 
class.

* When set at the parser grammar level, it defines the type of the token 
class that the parser assumes that the lexer returns.

* When set at the rule level, it defines the type of the token that will 
be returned by the rule (to support the heterogenous token feature as 
explained in the documentation).

* Rules that reference tokens in the lexer would no longer have to 
downcast from antlr.Token (e.g. no need to cast from antlr.Token to 
o.b.s.r.ValuedToken).

* Rules that reference tokens in the parser would no longer have to 
downcast from antlr.Token either.

* When creating tokens, the makeToken() method would automatically 
instantiate the correct class and set the type, column, line as 
necessary. Lexer creators could then override makeToken() and set custom 
properties (like filename, url, etc.) as necessary. Then these custom 
properties would automatically be available in the lexer grammar.

- Brian

Terence Parr wrote:
&gt;<i> On Saturday, September 14, 2002, at 09:57  PM, Brian Smith wrote:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i>Terence,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>May I recommend that instead of getFilename/setFilename, you have 
</I>&gt;&gt;<i>getURL
</I>&gt;&gt;<i>and setURL()? I am using ANTLR inside of NetBeans and I've added an
</I>&gt;&gt;<i>extension just as you described. With NetBeans they have a filesystem
</I>&gt;&gt;<i>abstraction that uses URL's of the form <A HREF="nbfs://XXXX">nbfs://XXXX</A> to identify files,
</I>&gt;&gt;<i>so I can't use a &quot;filename&quot; per se. Also, get/setFilename wouldn't be
</I>&gt;&gt;<i>very useful for parsing from a HTTP stream.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Hmm...well, getInputName or some such would work.  i'm worried that URL 
</I>&gt;<i> would make people think you needed file:// on the front or something.  
</I>&gt;<i> Can you just use the method knowing it's a bit of a misnomer?
</I>&gt;<i> 
</I>&gt;<i> What are you doing with NetBeans?  A cool secret project?
</I>&gt;<i> 
</I>&gt;<i> Ter
</I>&gt;<i> --
</I>&gt;<i> Co-founder, <A HREF="http://www.jguru.com">http://www.jguru.com</A>
</I>&gt;<i> Creator, ANTLR Parser Generator: <A HREF="http://www.antlr.org">http://www.antlr.org</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 
</I>&gt;<i> 
</I>

 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001864.html">[antlr-interest] Re: Request enhancement ANTLR
</A></li>
	<LI>Next message: <A HREF="001872.html">[antlr-interest] Re: Request enhancement ANTLR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1865">[ date ]</a>
              <a href="thread.html#1865">[ thread ]</a>
              <a href="subject.html#1865">[ subject ]</a>
              <a href="author.html#1865">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
