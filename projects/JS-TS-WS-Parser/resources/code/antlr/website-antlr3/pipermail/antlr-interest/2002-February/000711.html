<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: C++ is slower than Java?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20C%2B%2B%20is%20slower%20than%20Java%3F&In-Reply-To=20020225122430.B214%40cs.utwente.nl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000710.html">
   <LINK REL="Next"  HREF="000712.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: C++ is slower than Java?</H1>
    <B>keren_jefet</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20C%2B%2B%20is%20slower%20than%20Java%3F&In-Reply-To=20020225122430.B214%40cs.utwente.nl"
       TITLE="[antlr-interest] Re: C++ is slower than Java?">keren_jefet at yahoo.com
       </A><BR>
    <I>Mon Feb 25 05:40:35 PST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000710.html">[antlr-interest] C++ is slower than Java?
</A></li>
        <LI>Next message: <A HREF="000712.html">[antlr-interest] Re: C++ is slower than Java?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#711">[ date ]</a>
              <a href="thread.html#711">[ thread ]</a>
              <a href="subject.html#711">[ subject ]</a>
              <a href="author.html#711">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the fast response.
I downloaded and tested the new 2.7.2a2 version, and results are 
completely different: On all tests I run C++ runs faster.
Thanks again,
Keren.


--- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at y...</A>, Ric Klaren &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">klaren at c...</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> On Sun, Feb 24, 2002 at 01:23:44PM -0000, keren_jefet wrote:
</I>&gt;<i> &gt; I have tested the java.g example both on Java-generated parser, 
</I>and
&gt;<i> &gt; on Cpp-generated parser (antlr-2.7.1, buildAST=true).
</I>&gt;<i> &gt; Surprisingly, I found out that the Java parser, was significantly
</I>&gt;<i> &gt; faster than the Cpp one, especially when handling long java source
</I>&gt;<i> &gt; files. (sometimes even 600% faster...)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; How can that be?
</I>&gt;<i> &gt; Is this related to the specific java.g grammar definitions, or 
</I>maybe
&gt;<i> &gt; it is true for all parsers, no matter of the grammar complexity?
</I>&gt;<i> 
</I>&gt;<i> Hmm strange. Ok I had a quick look now. And noted the following:
</I>&gt;<i> 
</I>&gt;<i> Platform specifics:
</I>&gt;<i> 
</I>&gt;<i> ANTLR: antlr 2.7.2a1
</I>&gt;<i> 
</I>&gt;<i> C++:
</I>&gt;<i>   g++ 2.95.3,
</I>&gt;<i>   Sun Ultra-60: Solaris 2.8, 1 Gigabyte of main memory, 450 MHz 
</I>UltraSPARC-II CPU
&gt;<i>   All tests on a local disc.
</I>&gt;<i>   Relevant compiler options: -O2 -DANTLR_SUPPORT_XML -felide-
</I>constructors
&gt;<i>   (yields binary of 1Mb)
</I>&gt;<i> 
</I>&gt;<i> Java:
</I>&gt;<i>   java version &quot;1.2.2&quot;
</I>&gt;<i>   Solaris VM (build Solaris_JDK_1.2.2_07a, native threads, sunwjit)
</I>&gt;<i>   jikes version 1.11 (10 jan 2000) used as javac
</I>&gt;<i> 
</I>&gt;<i> - java.g java.tree.g from 2.7.1 distro. Generated parsers with 
</I>2.7.2a2.
&gt;<i>   Test files the main antlr/java tree.
</I>&gt;<i> - Ported one small change from java version to C++ version.
</I>&gt;<i> - The C++ version of the treewalker barfs on several files. Guess 
</I>there's a
&gt;<i>   bug or something in the 2.7.2a1 C++ codegen or javacodegen. (My 
</I>guess is
&gt;<i>   the first)
</I>&gt;<i> - Removed the files that misparsed tested again. (this makes my 
</I>results
&gt;<i>   quite questionable I know...) But I presume that if there's no 
</I>error
&gt;<i>   reported that the whole thing gets parsed and that the difference 
</I>should
&gt;<i>   be neglectible (then again it might not..)
</I>&gt;<i> 
</I>&gt;<i> Java version comes down to this:
</I>&gt;<i> 
</I>&gt;<i> real       20.9
</I>&gt;<i> user       10.7
</I>&gt;<i> sys         6.6
</I>&gt;<i> 
</I>&gt;<i> C++ version to this:
</I>&gt;<i> 
</I>&gt;<i> real        7.1
</I>&gt;<i> user        6.1
</I>&gt;<i> sys         0.0
</I>&gt;<i> 
</I>&gt;<i> These results are may vary one or two tenth per number between 
</I>runs. So I
&gt;<i> don't see the behaviour you do, not even the slightest indication 
</I>of it.
&gt;<i> You might post some more specifics on your testrig. Feel free to 
</I>mail me
&gt;<i> your testfiles and I'll run them here.
</I>&gt;<i> 
</I>&gt;<i> Ric
</I>&gt;<i> 
</I>&gt;<i> PS Oh yah and I had my xmms still playing Tristania's World of 
</I>Glass album
&gt;<i> which is btw very enjoyable ;)
</I>&gt;<i> --
</I>&gt;<i> -----
</I>+++++*****************************************************+++++++++---
----
&gt;<i>     ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">klaren at c...</A> ----- +31 53 4893722  ----
</I>&gt;<i> -----
</I>+++++*****************************************************+++++++++---
----
&gt;<i>      Human beings, who are almost unique in having the ability to 
</I>learn
&gt;<i>    from the experience of others, are also remarkable for their 
</I>apparent
&gt;<i>          disinclination to do so. --- Douglas Adams, Last Chance to 
</I>See


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000710.html">[antlr-interest] C++ is slower than Java?
</A></li>
	<LI>Next message: <A HREF="000712.html">[antlr-interest] Re: C++ is slower than Java?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#711">[ date ]</a>
              <a href="thread.html#711">[ thread ]</a>
              <a href="subject.html#711">[ subject ]</a>
              <a href="author.html#711">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
