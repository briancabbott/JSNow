<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] AST construction - adding extra children	via	semantic action
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20AST%20construction%20-%20adding%20extra%20children%0A%09via%09semantic%20action&In-Reply-To=%3C021c01cb3993%24eb355db0%24c1a01910%24%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039416.html">
   <LINK REL="Next"  HREF="039412.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] AST construction - adding extra children	via	semantic action</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20AST%20construction%20-%20adding%20extra%20children%0A%09via%09semantic%20action&In-Reply-To=%3C021c01cb3993%24eb355db0%24c1a01910%24%40temporal-wave.com%3E"
       TITLE="[antlr-interest] AST construction - adding extra children	via	semantic action">jimi at temporal-wave.com
       </A><BR>
    <I>Wed Aug 11 13:29:37 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="039416.html">[antlr-interest] AST construction - adding extra children via	semantic action
</A></li>
        <LI>Next message: <A HREF="039412.html">[antlr-interest] How do I preserve comments in a language to	language translator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39414">[ date ]</a>
              <a href="thread.html#39414">[ thread ]</a>
              <a href="subject.html#39414">[ subject ]</a>
              <a href="author.html#39414">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bill,

As you are using action code anyway, then you can just use the standard Java
methods for tree building in your code. However, it is good practice to move
such code into external methods of some helper class so that your grammar is
not cluttered with unreadable inline code. 

You can look at the generated code to see how to do that via the tree
adaptor. 

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Bill Andersen
</I>&gt;<i> Sent: Wednesday, August 11, 2010 12:17 PM
</I>&gt;<i> To: antlr-interest
</I>&gt;<i> Subject: [antlr-interest] AST construction - adding extra children via
</I>semantic
&gt;<i> action
</I>&gt;<i> 
</I>&gt;<i> Hi Folks
</I>&gt;<i> 
</I>&gt;<i> Here's the relevant fraction of a tree grammar I'm working on...
</I>&gt;<i> 
</I>&gt;<i> spec
</I>&gt;<i>   : ^(SPEC rule+)
</I>&gt;<i>   ;
</I>&gt;<i> 
</I>&gt;<i> rule
</I>&gt;<i>   : ^(RULE_DECL ID alts)
</I>&gt;<i>   ;
</I>&gt;<i> 
</I>&gt;<i> It's a grammar that recognizes a language, the output of which is another
</I>&gt;<i> ANTLR grammar.
</I>&gt;<i> 
</I>&gt;<i> I want the first rule to look like this:
</I>&gt;<i> 
</I>&gt;<i> spec
</I>&gt;<i>   :	^(SPEC rule+)
</I>&gt;<i>         { &lt; some action here &gt; }
</I>&gt;<i>         -&gt; ^(SPEC &lt; augmented list of rules &gt;)
</I>&gt;<i>   ;
</I>&gt;<i> 
</I>&gt;<i> In other words, I want to add some extra RULE_DECL trees on to the end of
</I>&gt;<i> whatever rule+ accumulates, based on semantic information gathered during
</I>&gt;<i> the tree parse.
</I>&gt;<i> 
</I>&gt;<i> Is there a straightforward way to do this?
</I>&gt;<i> 
</I>&gt;<i> Thanks
</I>&gt;<i> 
</I>&gt;<i> 	.bill
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> email-address
</I>
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039416.html">[antlr-interest] AST construction - adding extra children via	semantic action
</A></li>
	<LI>Next message: <A HREF="039412.html">[antlr-interest] How do I preserve comments in a language to	language translator
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39414">[ date ]</a>
              <a href="thread.html#39414">[ thread ]</a>
              <a href="subject.html#39414">[ subject ]</a>
              <a href="author.html#39414">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
