<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Why no children in tree generated by C++ parser?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Why%20no%20children%20in%20tree%20generated%20by%20C%2B%2B%20parser%3F&In-Reply-To=416A6910.4080705%40lsbu.ac.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009551.html">
   <LINK REL="Next"  HREF="009553.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Why no children in tree generated by C++ parser?</H1>
    <B>Maurice van der Pot</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Why%20no%20children%20in%20tree%20generated%20by%20C%2B%2B%20parser%3F&In-Reply-To=416A6910.4080705%40lsbu.ac.uk"
       TITLE="[antlr-interest] Re: Why no children in tree generated by C++ parser?">griffon26 at kfk4ever.com
       </A><BR>
    <I>Sat Oct 16 09:04:04 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009551.html">[antlr-interest] Re: Why no children in tree generated by C++ parser?
</A></li>
        <LI>Next message: <A HREF="009553.html">[antlr-interest] I'm stuck with my parser tree generator ..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9605">[ date ]</a>
              <a href="thread.html#9605">[ thread ]</a>
              <a href="subject.html#9605">[ subject ]</a>
              <a href="author.html#9605">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Oct 11, 2004 at 12:05:52PM +0100, David Wigg wrote:
&gt;<i> 
</I>&gt;<i> I was glad to hear that you have been able to run it 
</I>&gt;<i> successfully. However, if you find any problems with it please 
</I>&gt;<i> let me know.
</I>
I am planning to make a relatively simple program that checks 
the exception specifications and exception handlers in a C++ file
to see if any unexpected exceptions can be raised.

I found that the grammar only allows max 2 exceptions in an exception 
specification. The trivial patch:

--- CPP_parser.g.original       2004-10-16 17:44:54.005621592 +0200
+++ CPP_parser.g.exceptionspecfix       2004-10-16 17:45:56.829070976 +0200
@@ -1328,7 +1328,7 @@
        {char *so;}
        :       &quot;throw&quot; 
                LPAREN 
-               (       (so = scope_override ID (COMMA so = scope_override ID)? )? 
+               (       (so = scope_override ID (COMMA so = scope_override ID)* )? 
                |       ELLIPSIS
                )
                RPAREN

At first I thought I would add only tree construction to the grammar
so I could later parse the tree to check for properties. Later I 
realised that there are several variables (functionDefinition, 
in_parameter_list, enclosingClass, etc) that are specifically meant 
to help the programmer do something useful within functions that 
are called while parsing the source file (the virtual member functions 
of the parser class).

I'm not sure what would be the best approach. I have the feeling that
the number of variables required to do any and all kinds of checking 
will be too large. Maybe it is better to not have any of those variables 
in the source parser and put them in the application specific tree parser
instead.

&gt;<i> I would very much like to offer tree parser output, but I do not 
</I>&gt;<i> have sufficient spare time at present. If anyone would like to 
</I>&gt;<i> co-operate with me to modify the parser to produce a suitable 
</I>&gt;<i> AST from this parser then I would be pleased to help.
</I>
Do you have a specific structure in mind? I am going to spend some
time on this anyway, so I may as well try to make a structure that 
is useful for more people than just yours truly.

Best regards,
Maurice.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20041016/4e6733cd/attachment.bin">http://www.antlr.org/pipermail/antlr-interest/attachments/20041016/4e6733cd/attachment.bin</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009551.html">[antlr-interest] Re: Why no children in tree generated by C++ parser?
</A></li>
	<LI>Next message: <A HREF="009553.html">[antlr-interest] I'm stuck with my parser tree generator ..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9605">[ date ]</a>
              <a href="thread.html#9605">[ thread ]</a>
              <a href="subject.html#9605">[ subject ]</a>
              <a href="author.html#9605">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
