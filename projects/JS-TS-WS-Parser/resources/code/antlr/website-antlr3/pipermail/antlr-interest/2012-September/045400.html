<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] How an alternative rule can emit code conditionally on the type of the parent node?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20How%20an%20alternative%20rule%20can%20emit%20code%0A%20conditionally%20on%20the%20type%20of%20the%20parent%20node%3F&In-Reply-To=%3CCC88A7B3.1DC8E%25douglasgodfrey%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045398.html">
   <LINK REL="Next"  HREF="045421.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] How an alternative rule can emit code conditionally on the type of the parent node?</H1>
    <B>Douglas Godfrey</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20How%20an%20alternative%20rule%20can%20emit%20code%0A%20conditionally%20on%20the%20type%20of%20the%20parent%20node%3F&In-Reply-To=%3CCC88A7B3.1DC8E%25douglasgodfrey%40gmail.com%3E"
       TITLE="[antlr-interest] How an alternative rule can emit code conditionally on the type of the parent node?">douglasgodfrey at gmail.com
       </A><BR>
    <I>Wed Sep 26 09:41:41 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="045398.html">[antlr-interest] How an alternative rule can emit code conditionally on the type of the parent node?
</A></li>
        <LI>Next message: <A HREF="045421.html">[antlr-interest] How an alternative rule can emit code conditionally on the type of the parent node?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45400">[ date ]</a>
              <a href="thread.html#45400">[ thread ]</a>
              <a href="subject.html#45400">[ subject ]</a>
              <a href="author.html#45400">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Pass the type of the parent node as a parameter to the rule and
1)	use syntactic or semantic predicates to change the parse based on the
parent type
or 
2)	use the parent type to change the actions that generate code or symbol
table entries
or
3)	use the parent type to change the emitted text via string templates



On 9/26/12 9:05 AM, &quot;Aggelos Biboudis&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">biboudis at gmail.com</A>&gt; wrote:

&gt;<i>It seems dynamic scoping is the solution to this.
</I>&gt;<i>
</I>&gt;<i>Thx,
</I>&gt;<i>Aggelos B.
</I>&gt;<i>
</I>&gt;<i>On Wed, Sep 26, 2012 at 2:12 PM, Aggelos Biboudis
</I>&gt;<i>&lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">biboudis at gmail.com</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Dear all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am using the C grammar with rewrite option on. I would like to know if
</I>&gt;&gt;<i> it is possible for my alternative rule (after the &quot;-&gt;&quot;), to emit code
</I>&gt;&gt;<i> depending on the type of the parent node. I want to rewrite the token
</I>&gt;&gt;<i> buffer in-place (following the book for source-to-source translations
</I>&gt;&gt;<i>when
</I>&gt;&gt;<i> performing slight modifications/instrumentation) only in compound
</I>&gt;&gt;<i> statements. My intention is to emit a preamble after the first &quot;{&quot; only
</I>&gt;&gt;<i>if
</I>&gt;&gt;<i> the compound statement originates from a selection, iteration or jump
</I>&gt;&gt;<i> statement. For example: I would like to rewrite the if (expr) {
</I>&gt;&gt;<i> statement1;} to if (expr) { my_statement; statement1;}. Is that
</I>&gt;&gt;<i>conditional
</I>&gt;&gt;<i> rewriting possible, following the token-buffer edit way?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am using the usual ANSI C
</I>&gt;&gt;<i>grammar&lt;<A HREF="http://www.antlr.org/grammar/1153358328744/C.g">http://www.antlr.org/grammar/1153358328744/C.g</A>&gt;and following the
</I>&gt;&gt;<i>definitive ANTLR reference.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Any help appreciated.
</I>&gt;&gt;<i> Aggelos B.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i>Unsubscribe: 
</I>&gt;<i><A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>

</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045398.html">[antlr-interest] How an alternative rule can emit code conditionally on the type of the parent node?
</A></li>
	<LI>Next message: <A HREF="045421.html">[antlr-interest] How an alternative rule can emit code conditionally on the type of the parent node?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45400">[ date ]</a>
              <a href="thread.html#45400">[ thread ]</a>
              <a href="subject.html#45400">[ subject ]</a>
              <a href="author.html#45400">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
