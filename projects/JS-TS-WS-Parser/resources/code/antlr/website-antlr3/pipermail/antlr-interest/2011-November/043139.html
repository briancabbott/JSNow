<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] This should be simple, but I can't find the right syntax (or is it a bug?)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20This%20should%20be%20simple%2C%0A%20but%20I%20can%27t%20find%20the%20right%20syntax%20%28or%20is%20it%20a%20bug%3F%29&In-Reply-To=%3C92E9AB4D42199B4793CE24E094BAEE070EAEF7%40USSCMB03.plt.plantronics.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043151.html">
   <LINK REL="Next"  HREF="043145.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] This should be simple, but I can't find the right syntax (or is it a bug?)</H1>
    <B>Voelkel, Andy</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20This%20should%20be%20simple%2C%0A%20but%20I%20can%27t%20find%20the%20right%20syntax%20%28or%20is%20it%20a%20bug%3F%29&In-Reply-To=%3C92E9AB4D42199B4793CE24E094BAEE070EAEF7%40USSCMB03.plt.plantronics.com%3E"
       TITLE="[antlr-interest] This should be simple, but I can't find the right syntax (or is it a bug?)">andy.voelkel at plantronics.com
       </A><BR>
    <I>Thu Nov  3 17:59:03 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="043151.html">[antlr-interest] Check if rule returns empty result
</A></li>
        <LI>Next message: <A HREF="043145.html">[antlr-interest] This should be simple, but I can't find the right syntax (or is it a bug?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43139">[ date ]</a>
              <a href="thread.html#43139">[ thread ]</a>
              <a href="subject.html#43139">[ subject ]</a>
              <a href="author.html#43139">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to collect all the StringTemplates created by all instances of one rule (borg) into a StringTemplate for a containing rule (prog). But I can't seem to find the right syntax:

options {
        output = template;
        language = CSharp3;
      tokenVocab=Tree1;
        ASTLabelType = CommonTree;
}

public prog
:<i> (b+=borg)+ -&gt; template(vals = {$b})
</I>&lt;&lt;
{ // prog
  &lt;vals; separator = &quot;,&quot;&gt;
}
&gt;&gt;<i> ;
</I>
The syntax I tried above is one many approaches I've tried - none seem to work. Antlr3 runs without error but the code won't compile. I hope the intent is clear, as it is a pretty simple example. I've looked back and forth in Terence's book trying to find something like this, and in the examples, but so far I've struck out. It seems like a very common thing to try to do!

One strange thing is that when I look at the generated code, the list for b (list_b) is declared as List&lt;CommonTree&gt;. But Terence's books says is should be List&lt;StringTemplate&gt; when the output type is template. Later in the generated code, when it tries to add to the list, it tries to create a List&lt;StringTemplate&gt;, which seems right, but causes a compiler error. It almost seems like a bug, but I probably just don't understand.

Can anyone help me with this?

- Andy

________________________________

CONFIDENTIALITY NOTICE: This e-mail transmission, and any documents, files or previous e-mail messages attached to it, may contain information that is confidential and/or legally privileged. If you are not the intended recipient, or a person responsible for delivering it to the intended recipient, please DO NOT disclose the contents to another person, store or copy the information in any medium, or use any of the information contained in or attached to this transmission for any purpose. If you have received this transmission in error, please immediately notify the sender by reply email or at <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">privacy at plantronics.com</A>, and destroy the original transmission and its attachments without reading or saving in any manner.

For further information about Plantronics - the Company, its products, brands, partners, please visit our website www.plantronics.com.
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043151.html">[antlr-interest] Check if rule returns empty result
</A></li>
	<LI>Next message: <A HREF="043145.html">[antlr-interest] This should be simple, but I can't find the right syntax (or is it a bug?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43139">[ date ]</a>
              <a href="thread.html#43139">[ thread ]</a>
              <a href="subject.html#43139">[ subject ]</a>
              <a href="author.html#43139">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
