<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] pass state from parser to lexer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20pass%20state%20from%20parser%20to%20lexer&In-Reply-To=%3CFA21EA835C1467498B3E0B904C9CF2020F0867E6%40TK5EX14MBXC285.redmond.corp.microsoft.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044820.html">
   <LINK REL="Next"  HREF="044823.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] pass state from parser to lexer</H1>
    <B>Scobie Smith (Insight Global)</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20pass%20state%20from%20parser%20to%20lexer&In-Reply-To=%3CFA21EA835C1467498B3E0B904C9CF2020F0867E6%40TK5EX14MBXC285.redmond.corp.microsoft.com%3E"
       TITLE="[antlr-interest] pass state from parser to lexer">v-scobis at microsoft.com
       </A><BR>
    <I>Mon Jul  2 12:30:28 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044820.html">[antlr-interest] pass state from parser to lexer
</A></li>
        <LI>Next message: <A HREF="044823.html">[antlr-interest] pass state from parser to lexer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44821">[ date ]</a>
              <a href="thread.html#44821">[ thread ]</a>
              <a href="subject.html#44821">[ subject ]</a>
              <a href="author.html#44821">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks. Yes, here is the form of a statement in the language, which otherwise is context-free:

exec mode &lt;delimiter&gt;&lt;body&gt;&lt;delimiter&gt;

Statements always start at the beginning of a new line.
&lt;delimiter&gt; is a single character that marks off the &lt;body&gt; text. The start/end delims match. The user can choose any character to be the &lt;delimiter&gt;.
The &lt;body&gt;, though, may be multiline and have whitespace. But it cannot have the &lt;delimiter&gt; character in it.

Example:
exec mode #Here is
Some body text.
#

If I tokenize the &lt;body&gt; piecemeal, then the rest of the grammar is totally unmanageable. I need &lt;body&gt; as one token.
I could potentially try to detect this command in the lexer and manually emit tokens. That would in effect be implementing the parser rule for this command in the lexer.

(I have another, more complicated situation for another language, involving segments of text embedded in the main content, which follow different token rules. I am facing this almost every day now....)

Thanks for any insights.
Scobie



From: Bart Kiers [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bkiers at gmail.com</A>] 
Sent: Monday, July 02, 2012 12:15 PM
To: Scobie Smith (Insight Global)
Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] pass state from parser to lexer

On Mon, Jul 2, 2012 at 9:02 PM, Scobie Smith (Insight Global) &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">v-scobis at microsoft.com</A>&gt; wrote:
Is there a way to pass state information from the parser to the lexer? I am continually facing situations where the lexer should tokenize differently based on the parser rule. I have seen this question about ANTLR discussed on the web, but so far I haven't seen any solutions.

ANTLR's lexer operates&#160;independently&#160;from the parser, so the &quot;easy&quot; answer would be: you can't.&#160;
However, there are several ways to make the lexer (a bit) context sensitive.&#160;Could you explain what problem you're actually trying to solve here?&#160;

Regards,

Bart.

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044820.html">[antlr-interest] pass state from parser to lexer
</A></li>
	<LI>Next message: <A HREF="044823.html">[antlr-interest] pass state from parser to lexer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44821">[ date ]</a>
              <a href="thread.html#44821">[ thread ]</a>
              <a href="subject.html#44821">[ subject ]</a>
              <a href="author.html#44821">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
