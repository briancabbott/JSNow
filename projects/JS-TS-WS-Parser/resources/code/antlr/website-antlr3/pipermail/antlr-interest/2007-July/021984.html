<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Infinite lexer exception allocation loop in C	target C parser, antlr3.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Infinite%20lexer%20exception%20allocation%20loop%20in%20C%0A%09target%20C%20parser%2C%20antlr3.0&In-Reply-To=%3C62BABE024B7C074E9194E9727A418979C4F031%40dvs-sms-mail01.digi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021983.html">
   <LINK REL="Next"  HREF="022012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Infinite lexer exception allocation loop in C	target C parser, antlr3.0</H1>
    <B>Hardy, Stephen</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Infinite%20lexer%20exception%20allocation%20loop%20in%20C%0A%09target%20C%20parser%2C%20antlr3.0&In-Reply-To=%3C62BABE024B7C074E9194E9727A418979C4F031%40dvs-sms-mail01.digi.com%3E"
       TITLE="[antlr-interest] Infinite lexer exception allocation loop in C	target C parser, antlr3.0">Stephen_Hardy at rabbit.com
       </A><BR>
    <I>Mon Jul  2 13:30:36 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021983.html">[antlr-interest] tree grammar clarification
</A></li>
        <LI>Next message: <A HREF="022012.html">[antlr-interest] Infinite lexer exception allocation loop in	Ctarget C parser, antlr3.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21984">[ date ]</a>
              <a href="thread.html#21984">[ thread ]</a>
              <a href="subject.html#21984">[ subject ]</a>
              <a href="author.html#21984">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
I'm tasked with some C-to-C translation, and have been using the ANSI C
grammar with the C target as a starting point, with antlr3.0.

The grammar inadvertently omits the possibility of using \x (hex)
escapes in a literal string, and this causes an infinite memory
allocation loop when the parser is run against tokens such as
&quot;\x00\x00&quot;.  The offending sequence of code is in mSTRING_LITERAL(),
which calls mEscapeSequence(), which in turn allocates an exception
struct (CONSTRUCTEX()) when it fails to understand the \x.
Unfortunately, the calling code is a for(;;) loop which does not advance
the token stream, hence the lexer will allocate forever.  

Sorry I'm really new to this, so it may be my fault, but it looks like
it may be a C target problem.  Didn't see any similar problem mentioned
in the most recent archive.

Regards,
SJH
</PRE>












































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021983.html">[antlr-interest] tree grammar clarification
</A></li>
	<LI>Next message: <A HREF="022012.html">[antlr-interest] Infinite lexer exception allocation loop in	Ctarget C parser, antlr3.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21984">[ date ]</a>
              <a href="thread.html#21984">[ thread ]</a>
              <a href="subject.html#21984">[ subject ]</a>
              <a href="author.html#21984">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
