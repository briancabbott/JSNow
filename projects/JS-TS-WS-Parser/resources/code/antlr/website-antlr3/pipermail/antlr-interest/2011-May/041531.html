<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] [C-target] &quot;replaceChildren&quot; implementation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%5BC-target%5D%20%22replaceChildren%22%20implementation&In-Reply-To=%3CBANLkTi%3DGA1xdQ01ZZDFEv8yBW6vjAHiL7Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041530.html">
   <LINK REL="Next"  HREF="041532.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] [C-target] &quot;replaceChildren&quot; implementation</H1>
    <B>&#1044;&#1084;&#1080;&#1090;&#1088;&#1080;&#1081; &#1048;&#1083;&#1100;&#1080;&#1085;</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%5BC-target%5D%20%22replaceChildren%22%20implementation&In-Reply-To=%3CBANLkTi%3DGA1xdQ01ZZDFEv8yBW6vjAHiL7Q%40mail.gmail.com%3E"
       TITLE="[antlr-interest] [C-target] &quot;replaceChildren&quot; implementation">dmitry.m.ilyin at gmail.com
       </A><BR>
    <I>Sun May  1 09:44:57 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="041530.html">[antlr-interest] [SPAM]
</A></li>
        <LI>Next message: <A HREF="041532.html">[antlr-interest] Lexer too quick to grab a token?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41531">[ date ]</a>
              <a href="thread.html#41531">[ thread ]</a>
              <a href="subject.html#41531">[ subject ]</a>
              <a href="author.html#41531">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Case of same number of input nodes and nodes to replace:

j = 0;
for (i = startChildIndex; i &lt;= stopChildIndex; i++)
{
child = (pANTLR3_BASE_TREE) newChildren-&gt;get(newChildren, *j*);
 parent-&gt;children-&gt;set(parent-&gt;children, i, child, NULL, ANTLR3_FALSE);
child-&gt;setParent(child, parent);
child-&gt;setChildIndex(child, i);
}

Why &quot;j&quot;? It is always 0. &quot;i - startChildIndex&quot; may be used instead of &quot;j&quot;.

In case of more nodes to input  we use what we can, then adding new nodes.
But we adding to the end of the children vector instead of inserting to
vector after nodes that we reused. (libantlr3c-3.3-SNAPSHOT)

Dmitry Ilyin
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041530.html">[antlr-interest] [SPAM]
</A></li>
	<LI>Next message: <A HREF="041532.html">[antlr-interest] Lexer too quick to grab a token?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41531">[ date ]</a>
              <a href="thread.html#41531">[ thread ]</a>
              <a href="subject.html#41531">[ subject ]</a>
              <a href="author.html#41531">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
