<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ast or not...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ast%20or%20not...&In-Reply-To=%3C3b7c64070812291332w6bb9bb9bva2ad7db6f4ac77c1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032166.html">
   <LINK REL="Next"  HREF="032159.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ast or not...</H1>
    <B>Laurent Caillette</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ast%20or%20not...&In-Reply-To=%3C3b7c64070812291332w6bb9bb9bva2ad7db6f4ac77c1%40mail.gmail.com%3E"
       TITLE="[antlr-interest] ast or not...">laurent.caillette at gmail.com
       </A><BR>
    <I>Mon Dec 29 13:32:05 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="032166.html">[antlr-interest] ast or not...
</A></li>
        <LI>Next message: <A HREF="032159.html">[antlr-interest] Look ahead for the end of rule token
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32171">[ date ]</a>
              <a href="thread.html#32171">[ thread ]</a>
              <a href="subject.html#32171">[ subject ]</a>
              <a href="author.html#32171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I've developed a small language of my own, based on an ANTLR grammar.
It is twofold: there is a wiki-like grammar for parsing source
documents (named Parts) and a very simple imperative language for
assembling the Parts in a single document. Both are in the same file
because they have some features in common and imports don't work as I
expected in ANTLR-3.1.1 + ANTLRWorks.

The tree grammar made my day because its result is very close to what
I need to feed the document renderer (transformation to XML through
SAX events is trivial). Understanding the rewrite rules is definitely
worth the effort. Don't forget to use ANTLRWorks in debug mode, as it
provides a nice graphical display of generated AST.

I found that instead of expressing everything in a very complex
grammar, it's better to twist the AST afterwards. This also helps
ANTLR to generate clearer error messages. For example, I don't try to
define a paragraph as a subrule of chapter rule. Instead, chapter and
paragraph rules appear at the same level. I attach paragraphs to the
chapters during AST postprocessing.

<A HREF="http://novelang.sf.net">http://novelang.sf.net</A>
<A HREF="http://github.com/caillette/novelang/tree/master/src/antlr/Novelang.g">http://github.com/caillette/novelang/tree/master/src/antlr/Novelang.g</A>

Hope this helps,

c.

On Mon, Dec 29, 2008 at 10:14 PM, Gavin Lambert &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at mirality.co.nz</A>&gt; wrote:
&gt;<i> At 06:59 30/12/2008, Pady Srinivasan wrote:
</I>&gt;<i>  &gt;I am a beginner with antlr and dynamic languages. I am reading
</I>&gt;<i>  &gt;terence's antlr book. The language I am trying to develop is a
</I>&gt;<i>  &gt;simple if-elseif language and some actions based on that.
</I>&gt;<i> [...]
</I>&gt;<i>  &gt;So given this situation, would I need to be developing an
</I>&gt;<i>  &gt;ast/tree grammer etc ? For simple interpreted languages, is
</I>&gt;<i>  &gt;an ast/tree grammer etc really needed ?
</I>&gt;<i>
</I>&gt;<i> You never *need* an AST and/or tree grammar, and using the former
</I>&gt;<i> does not imply you need to use the latter (though you can't use
</I>&gt;<i> the latter without the former).  They're just options available
</I>&gt;<i> for use if they are more convenient or tidier than the
</I>&gt;<i> alternatives.
</I>&gt;<i>
</I>&gt;<i> When I first started using ANTLR, I carried out all the actions in
</I>&gt;<i> the parser directly, since I found that simpler to work with and I
</I>&gt;<i> didn't have to worry about figuring out how ASTs and tree grammars
</I>&gt;<i> worked.  Now that I'm more experienced with ANTLR, I tend to
</I>&gt;<i> favour using ASTs and tree grammars, mostly because it leaves the
</I>&gt;<i> parser grammar looking a bit tidier, and it opens up some
</I>&gt;<i> possibilities for doing tree manipulation to locate or rearrange
</I>&gt;<i> some constructs (which admittedly I haven't made much use of as
</I>&gt;<i> yet, but the theory sounds cool).
</I>&gt;<i>
</I>&gt;<i> But basically: just use whatever you're most comfortable with.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I></PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032166.html">[antlr-interest] ast or not...
</A></li>
	<LI>Next message: <A HREF="032159.html">[antlr-interest] Look ahead for the end of rule token
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32171">[ date ]</a>
              <a href="thread.html#32171">[ thread ]</a>
              <a href="subject.html#32171">[ subject ]</a>
              <a href="author.html#32171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
