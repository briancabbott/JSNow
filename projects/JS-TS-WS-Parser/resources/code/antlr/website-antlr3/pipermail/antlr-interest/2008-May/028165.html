<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Most efficient way to handle character escapes?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Most%20efficient%20way%20to%20handle%20character%20escapes%3F&In-Reply-To=%3C20080511002959.899A911EAB0%40www.antlr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028161.html">
   <LINK REL="Next"  HREF="028162.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Most efficient way to handle character escapes?</H1>
    <B>Gavin Lambert</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Most%20efficient%20way%20to%20handle%20character%20escapes%3F&In-Reply-To=%3C20080511002959.899A911EAB0%40www.antlr.org%3E"
       TITLE="[antlr-interest] Most efficient way to handle character escapes?">antlr at mirality.co.nz
       </A><BR>
    <I>Sat May 10 17:29:49 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028161.html">[antlr-interest] Most efficient way to handle character escapes?
</A></li>
        <LI>Next message: <A HREF="028162.html">[antlr-interest] Modifying AST
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28165">[ date ]</a>
              <a href="thread.html#28165">[ thread ]</a>
              <a href="subject.html#28165">[ subject ]</a>
              <a href="author.html#28165">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 06:00 10/05/2008, Scott Royston wrote:
&gt;<i>I'm trying to write a set of grammar actions to convert String 
</I>&gt;<i>literals with character escapes to the final string value,  e.g.:
</I>&gt;<i>'/47Hello World/47' should conver to the value 'Hello World' 
</I>&gt;<i>(because /47 is the octal escape value for ').
</I>
Sure those shouldn't be backslashes?

&gt;<i>Which doesn't work, I believe because it's a fragment, and 
</I>&gt;<i>setText(...) is a token construct.
</I>
That's right.  setText only works on the final token.

&gt;<i>The only obvious way I see to do it is to convert the fragments 
</I>&gt;<i>to tokens and build up the string, which seems really slow.
</I>
Another approach is to deal with them outside of ANTLR.  You'll 
probably need to have ANTLR recognise escaped quotes (to avoid 
prematurely terminating the string), but for everything else you 
can just ignore them for the moment.  Later on, either when 
generating the final STRING token or even when it's later used, 
you can manually parse and replace the appropriate escapes.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028161.html">[antlr-interest] Most efficient way to handle character escapes?
</A></li>
	<LI>Next message: <A HREF="028162.html">[antlr-interest] Modifying AST
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28165">[ date ]</a>
              <a href="thread.html#28165">[ thread ]</a>
              <a href="subject.html#28165">[ subject ]</a>
              <a href="author.html#28165">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
