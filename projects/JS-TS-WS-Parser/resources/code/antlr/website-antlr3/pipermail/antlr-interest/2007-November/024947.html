<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] AST tree output from Tree Parser
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20AST%20tree%20output%20from%20Tree%20Parser&In-Reply-To=%3C9df049670711271541j6700bb49s804754c9e007ac3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024973.html">
   <LINK REL="Next"  HREF="024950.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] AST tree output from Tree Parser</H1>
    <B>Surinder Jain</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20AST%20tree%20output%20from%20Tree%20Parser&In-Reply-To=%3C9df049670711271541j6700bb49s804754c9e007ac3%40mail.gmail.com%3E"
       TITLE="[antlr-interest] AST tree output from Tree Parser">surifilms at gmail.com
       </A><BR>
    <I>Tue Nov 27 15:41:14 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024973.html">[antlr-interest] skipping evaluation of some AST nodes
</A></li>
        <LI>Next message: <A HREF="024950.html">[antlr-interest] AST tree output from Tree Parser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24947">[ date ]</a>
              <a href="thread.html#24947">[ thread ]</a>
              <a href="subject.html#24947">[ subject ]</a>
              <a href="author.html#24947">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I remember (vaiguly since it was many years ago) that ANTLR2 tree walker (or
its equivalent) could read a tree, transform it (as per tree grammar rewrite
rules) and produce a new different output tree.  This allowed multiple
passes making translation job into many simple steps rather than one complex
one.

It appears that this ability has been taken away in ANTLR3.

Is my understanding correct or am I missing something that is not in the
defintive book.  If I am correct then is there any plan to add tree
transformation feature in near future?

Thanks.

Suri

PS:  (ANTLR 3 produces much simpler and mroe useful AST, I am glad I am
using the new version).

If I try to use output=AST on a tree grammar, it produces the tree walker
java code but it does not compile with errors like

E:\surinder\ZEN07\java&gt;javac TestTree.java
TestTree.java:86: cannot find symbol
symbol  : variable stop
location: class TestTree.start_return
                adaptor.setTokenBoundaries(retval.tree, retval.start,
retval.sto
p);

^
TestTree.java:191: cannot find symbol
symbol  : method create(org.antlr.runtime.tree.CommonTree)
location: interface org.antlr.runtime.tree.TreeAdaptor
                    string_literal2_tree =
(CommonTree)adaptor.create(string_lit
eral2);
                                                              ^
TestTree.java:218: cannot find symbol
symbol  : method create(org.antlr.runtime.tree.CommonTree)
location: interface org.antlr.runtime.tree.TreeAdaptor
                    string_literal5_tree =
(CommonTree)adaptor.create(string_lit
eral5);
                                                              ^
TestTree.java:245: cannot find symbol
symbol  : method create(org.antlr.runtime.tree.CommonTree)
location: interface org.antlr.runtime.tree.TreeAdaptor
                    char_literal8_tree =
(CommonTree)adaptor.create(char_literal
8);
                                                            ^
TestTree.java:272: cannot find symbol
symbol  : method create(org.antlr.runtime.tree.CommonTree)
location: interface org.antlr.runtime.tree.TreeAdaptor
                    char_literal11_tree =
(CommonTree)adaptor.create(char_litera
l11);
                                                             ^
TestTree.java:299: cannot find symbol
symbol  : method create(org.antlr.runtime.tree.CommonTree)
location: interface org.antlr.runtime.tree.TreeAdaptor
                    ID14_tree = (CommonTree)adaptor.create(ID14);
                                                   ^
TestTree.java:312: cannot find symbol
symbol  : method create(org.antlr.runtime.tree.CommonTree)
location: interface org.antlr.runtime.tree.TreeAdaptor
                    INT15_tree = (CommonTree)adaptor.create(INT15);
                                                    ^
TestTree.java:321: cannot find symbol
symbol  : variable stop
location: class TestTree.expr_return
                adaptor.setTokenBoundaries(retval.tree, retval.start,
retval.sto
p);


My TestTree,g is :


tree grammar TestTree;

options {tokenVocab=Java; ASTLabelType=CommonTree;output=AST;}

start:expr;

expr: ^('==' expr expr)

|<i> ^('!=' expr expr)
</I>
|<i> ^('+' expr expr)
</I>
|<i> ^('*' expr expr)
</I>
|<i> ID
</I>
|<i> INT
</I>
;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20071128/031b6432/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20071128/031b6432/attachment.html</A> 
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024973.html">[antlr-interest] skipping evaluation of some AST nodes
</A></li>
	<LI>Next message: <A HREF="024950.html">[antlr-interest] AST tree output from Tree Parser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24947">[ date ]</a>
              <a href="thread.html#24947">[ thread ]</a>
              <a href="subject.html#24947">[ subject ]</a>
              <a href="author.html#24947">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
