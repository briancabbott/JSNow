<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Error recovery during list assembly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Error%20recovery%20during%20list%20assembly&In-Reply-To=%3C6edc6c380807191458l131e11fctb66b631f088aabab%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029309.html">
   <LINK REL="Next"  HREF="029229.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Error recovery during list assembly</H1>
    <B>Brent Yates</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Error%20recovery%20during%20list%20assembly&In-Reply-To=%3C6edc6c380807191458l131e11fctb66b631f088aabab%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Error recovery during list assembly">brent.yates at gmail.com
       </A><BR>
    <I>Sat Jul 19 14:58:09 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029309.html">[antlr-interest] python-lang parser to python target
</A></li>
        <LI>Next message: <A HREF="029229.html">[antlr-interest] Error recovery during list assembly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29228">[ date ]</a>
              <a href="thread.html#29228">[ thread ]</a>
              <a href="subject.html#29228">[ subject ]</a>
              <a href="author.html#29228">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>For the following rule:

list
    :   BEGIN item* END
    ;

I would like to be able to recovery from tokens which are not valid items
and not the END literal in such a way that the item list assembly keeps
going.  From inspection of the currently generated code (3.1b2, C target)
the parser will check to see if the next token matches one of the expected
tokens for item.  If it does, it calls the item rule, if not, it drops out
of the item loop and tries to match the END literal.  If the end match fails
then a normal single token delete/insert recovery is tried.  The parser is
expecting the END literal though, not more items, and I don't
see a way to get back into the items loop.

It seems that I need the recovery to happen in the item rule function, but
the error is not detected in the item rule - it is detected in the check for
END.

Is there a way to structure the rule to help this situation or is there a
manual way to code via actions or overrides a way to recover from these
sorts of input errors?

Thanks!

Brent Yates
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080719/f97f3ac2/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080719/f97f3ac2/attachment.html</A> 
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029309.html">[antlr-interest] python-lang parser to python target
</A></li>
	<LI>Next message: <A HREF="029229.html">[antlr-interest] Error recovery during list assembly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29228">[ date ]</a>
              <a href="thread.html#29228">[ thread ]</a>
              <a href="subject.html#29228">[ subject ]</a>
              <a href="author.html#29228">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
