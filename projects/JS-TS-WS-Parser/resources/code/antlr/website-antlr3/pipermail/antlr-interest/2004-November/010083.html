<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: BENCHMARK. ANTLR. Bad results.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20BENCHMARK.%20ANTLR.%20Bad%20results.&In-Reply-To=BDBB0E3F.2359C%25sunshine%40public.kherson.ua">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010091.html">
   <LINK REL="Next"  HREF="010086.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: BENCHMARK. ANTLR. Bad results.</H1>
    <B>lgcraymer</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20BENCHMARK.%20ANTLR.%20Bad%20results.&In-Reply-To=BDBB0E3F.2359C%25sunshine%40public.kherson.ua"
       TITLE="[antlr-interest] Re: BENCHMARK. ANTLR. Bad results.">lgc at mail1.jpl.nasa.gov
       </A><BR>
    <I>Fri Nov 12 15:53:19 PST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="010091.html">[antlr-interest] BENCHMARK. ANTLR. Bad results.
</A></li>
        <LI>Next message: <A HREF="010086.html">[antlr-interest] BENCHMARK. ANTLR. Bad results.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10083">[ date ]</a>
              <a href="thread.html#10083">[ thread ]</a>
              <a href="subject.html#10083">[ subject ]</a>
              <a href="author.html#10083">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

--- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>, Ruslan Zasukhin &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sunshine at p...</A>&gt;
wrote:
[dismal performance figures snipped]

&gt;<i> Just I want to demonstrate that my expectation of bad performance of C++
</I>&gt;<i> ANTLR runtime have become reality.
</I>&gt;<i> 
</I>&gt;<i> * We will try urgently switch to Lex lexer.
</I>&gt;<i> 
</I>&gt;<i> * but IMHO on of the main problems of ANTLR C++, is that it heavally
</I>uses
&gt;<i> std::string class and a lots of *copying* of string when it parse
</I>tokens.
&gt;<i> * may be another problem is in exceptions, although I like mechanizm of
</I>&gt;<i> exceptions. 
</I>&gt;<i> 
</I>&gt;<i> I think that for 3.0 Rick and community should produce own, special,
</I>very
&gt;<i> optimized for ANTLR tasks antl::string class. This class should
</I>simply have
&gt;<i> 2 pointers on start/end of tokem. Pointer must point directly into
</I>original
&gt;<i> parsed text. There is no need copy any byte of parsed text.
</I>Everything must
&gt;<i> work on pointers. Tell me that I am wrong?! :-)
</I>
Ruslan--

Performance is very much a concern for ANTLR 3--check out the &quot;trees
with payloads&quot; thread.  ANTLR 2 does much way too much data copying
and object creation/deletion, starting in the lexer but also in the
parser and treewalkers.  I don't think that a special string class is
needed, although payload objects should support alternative
representations via a start/end reference/pointer and a string
reference/pointer that would be set by getText() and setText()
(getText() would also do string creation, if necessary and set the
string reference field).  Ter's DFA work which led him to the LL(*)
approach began with his looking into how to improve ANTLR lexing
performance.

I hope that the shift to flex helps enough.  What does profiling show?

--Loring

&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Best regards,
</I>&gt;<i> Ruslan Zasukhin      [ I feel the need...the need for speed ]
</I>&gt;<i> -------------------------------------------------------------
</I>&gt;<i> e-mail: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ruslan at p...</A>
</I>&gt;<i> web: <A HREF="http://www.paradigmasoft.com">http://www.paradigmasoft.com</A>
</I>&gt;<i> 
</I>&gt;<i> To subscribe to the Valentina mail list go to:
</I>&gt;<i> <A HREF="http://lists.macserve.net/mailman/listinfo/valentina">http://lists.macserve.net/mailman/listinfo/valentina</A>
</I>&gt;<i> -------------------------------------------------------------
</I>




 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
    <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
    <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
    <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010091.html">[antlr-interest] BENCHMARK. ANTLR. Bad results.
</A></li>
	<LI>Next message: <A HREF="010086.html">[antlr-interest] BENCHMARK. ANTLR. Bad results.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10083">[ date ]</a>
              <a href="thread.html#10083">[ thread ]</a>
              <a href="subject.html#10083">[ subject ]</a>
              <a href="author.html#10083">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
