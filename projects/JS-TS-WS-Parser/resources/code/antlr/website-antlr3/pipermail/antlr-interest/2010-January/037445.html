<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer for floating point numbers + field access	syntax with '.'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20for%20floating%20point%20numbers%20%2B%20field%20access%0A%09syntax%20with%20%27.%27&In-Reply-To=%3C6e75196e1001290942t546f22b6lafdb030ca239c76%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037443.html">
   <LINK REL="Next"  HREF="037446.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer for floating point numbers + field access	syntax with '.'</H1>
    <B>Scott Oakes</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20for%20floating%20point%20numbers%20%2B%20field%20access%0A%09syntax%20with%20%27.%27&In-Reply-To=%3C6e75196e1001290942t546f22b6lafdb030ca239c76%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Lexer for floating point numbers + field access	syntax with '.'">scott.oakes63 at googlemail.com
       </A><BR>
    <I>Fri Jan 29 09:42:53 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037443.html">[antlr-interest] DSL discussion at javaranch.com
</A></li>
        <LI>Next message: <A HREF="037446.html">[antlr-interest] Lexer for floating point numbers + field	access syntax with '.'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37445">[ date ]</a>
              <a href="thread.html#37445">[ thread ]</a>
              <a href="subject.html#37445">[ subject ]</a>
              <a href="author.html#37445">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, hoping for some help trying to write a lexer that allows you to
recognise floating point literals (2.3) as well as field accesses of the
form x.y; see grammar below. The trouble is that an input like

  3.fieldAccess

Produces two tokens, FLOAT and ID, rather than the desired three, INT, DOT
and ID.

Pointers would be much appreciated!

-------------------

grammar test;

top: expr EOF;

expr: (INT | FLOAT | ID | '(' expr ')') (DOT ID)*;

ID  :    ('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'0'..'9'|'_')*
    ;

INT :    '0'..'9'+
    ;

DOT: '.';

FLOAT
    :   ('0'..'9')+ '.' ('0'..'9')* EXPONENT?
    |   '.' ('0'..'9')+ EXPONENT?
    |   ('0'..'9')+ EXPONENT
    ;

WS  :   ( ' '
        | '\t'
        | '\r'
        | '\n'
        ) {$channel=HIDDEN;}
    ;

fragment
EXPONENT : ('e'|'E') ('+'|'-')? ('0'..'9')+ ;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037443.html">[antlr-interest] DSL discussion at javaranch.com
</A></li>
	<LI>Next message: <A HREF="037446.html">[antlr-interest] Lexer for floating point numbers + field	access syntax with '.'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37445">[ date ]</a>
              <a href="thread.html#37445">[ thread ]</a>
              <a href="subject.html#37445">[ subject ]</a>
              <a href="author.html#37445">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
