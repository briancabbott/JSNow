<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Limits of  tree generation (C++)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Limits%20of%20%20tree%20generation%20%28C%2B%2B%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005163.html">
   <LINK REL="Next"  HREF="005186.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Limits of  tree generation (C++)</H1>
    <B>Tiller, Michael (M.M.)</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Limits%20of%20%20tree%20generation%20%28C%2B%2B%29&In-Reply-To="
       TITLE="[antlr-interest] Re: Limits of  tree generation (C++)">mtiller at ford.com
       </A><BR>
    <I>Thu Oct  9 07:09:14 PDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005163.html">[antlr-interest] Problem with '(' ')'
</A></li>
        <LI>Next message: <A HREF="005186.html">[antlr-interest] Re: Limits of  tree generation (C++)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5164">[ date ]</a>
              <a href="thread.html#5164">[ thread ]</a>
              <a href="subject.html#5164">[ subject ]</a>
              <a href="author.html#5164">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> From: Ric Klaren [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">klaren at cs.utwente.nl</A>]
</I>&gt;<i> Sent: Thursday, October 09, 2003 6:43 AM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
</I>&gt;<i> Subject: Re: [antlr-interest] Re: Limits of tree generation (C++)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Thu, Oct 09, 2003 at 09:58:08AM -0000, marcschellens wrote:
</I>&gt;<i> &gt; The next stage of processing that tree knows only to read
</I>&gt;<i> &gt; the first node.
</I>&gt;<i> &gt; As I understood, the nodes are reference counted.
</I>&gt;<i> &gt; Isn't it therefore more effective to keep it like it is,
</I>&gt;<i> &gt; or is there a caveeat?
</I>&gt;<i> 
</I>&gt;<i> You'll have the same node in the tree in multiple places, usually this will
</I>&gt;<i> give problems. E.g. at a later stage you will forget about it maybe switch
</I>&gt;<i> to some custom AST with extra info and get bitten by it, or you add a child
</I>&gt;<i> to it at a later stage and see it appear in two places. The sky's the limit
</I>&gt;<i> as Murphy said...
</I>
So then can someone remind me why reference counting is even used?  Wouldn't it be better to make each node solely responsible for its children (i.e. the children are deleted either when they are removed or when the parent is destroyed).  It just seems that a different memory manage/garbage collection scheme would map much better given that nodes cannot be shared.

&gt;<i> dupTree is the right thing here I guess (look for it in ASTFactory.hpp) if
</I>&gt;<i> you know for sure that there's only one node a simple clone might do the
</I>&gt;<i> trick as well.
</I>
I would point out that I created my own stand-alone implementation.  I found no reason for ASTFactory to be involved in this process.  This is much more convenient because, as I recall, dupTree is a non-static method of ASTFactory.  Having to instantiate an ASTFactory just to call dupTree is just too inconvenient (and totally unnecessary).

Just some things to keep in mind for ANTLR 3.

&gt;<i> Cheers,
</I>&gt;<i> 
</I>&gt;<i> Ric
</I>
 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005163.html">[antlr-interest] Problem with '(' ')'
</A></li>
	<LI>Next message: <A HREF="005186.html">[antlr-interest] Re: Limits of  tree generation (C++)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5164">[ date ]</a>
              <a href="thread.html#5164">[ thread ]</a>
              <a href="subject.html#5164">[ subject ]</a>
              <a href="author.html#5164">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
