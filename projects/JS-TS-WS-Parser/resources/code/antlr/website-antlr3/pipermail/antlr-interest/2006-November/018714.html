<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] File extensions for ANTLR 3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20File%20extensions%20for%20ANTLR%203&In-Reply-To=B0914EDC-A0F6-42DB-B298-EF4409111076%40cs.usfca.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018712.html">
   <LINK REL="Next"  HREF="018715.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] File extensions for ANTLR 3</H1>
    <B>Kay Roepke</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20File%20extensions%20for%20ANTLR%203&In-Reply-To=B0914EDC-A0F6-42DB-B298-EF4409111076%40cs.usfca.edu"
       TITLE="[antlr-interest] File extensions for ANTLR 3">kroepke at classdump.org
       </A><BR>
    <I>Thu Nov 30 15:02:43 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018712.html">[antlr-interest] File extensions for ANTLR 3
</A></li>
        <LI>Next message: <A HREF="018715.html">[antlr-interest] File extensions for ANTLR 3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18714">[ date ]</a>
              <a href="thread.html#18714">[ thread ]</a>
              <a href="subject.html#18714">[ subject ]</a>
              <a href="author.html#18714">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 30. Nov 2006, at 23:18 , Terence Parr wrote:

&gt;<i> In general I support this proposal.  The most common case is  
</I>&gt;<i> plain .g for a combined parser and lexer so nothing will change.  I  
</I>&gt;<i> like the idea that, from the extension, a build tool or IDE knows  
</I>&gt;<i> the Java class that will come out.
</I>
For the Xcode thingy I actually wrote a filter lexer to check out the  
file content to figure out what the output files will be. I even  
check for lexer rules explicitely, just to be sure. It's a pain.

&gt;<i> T.gl -&gt; TLexer.java
</I>&gt;<i> T.gp -&gt; TParser.java
</I>&gt;<i> T.gtp -&gt; TTreeParser.java
</I>&gt;<i> T.g -&gt; TLexer.java, TParser.java
</I>&gt;<i>
</I>&gt;<i> Kunle also has a proposal that  tree parsers are different enough  
</I>&gt;<i> that we should translate literally
</I>&gt;<i>
</I>&gt;<i> T.gtp -&gt; T.java
</I>&gt;<i>
</I>&gt;<i> His rationale is that normal grammars are named for the language  
</I>&gt;<i> and, hence, adding Lexer or Parser suffix makes sense, but tree  
</I>&gt;<i> parsers are usually named properly and adding the TreeParser suffix  
</I>&gt;<i> does not.  I noticed this a number of times myself.  For example,
</I>&gt;<i>
</I>&gt;<i> DefineVariables.g -&gt; DefineVariablesTreeParser.java  (or .gtp?)
</I>&gt;<i> SemanticAnalyzer.g -&gt; SemanticAnalyzerTreeParser.java
</I>
Yes, that has bugged me, too.

&gt;<i> weird, right? Because tree grammars are named for their functions,  
</I>&gt;<i> we should probably leave that alone.  With the addition of  
</I>&gt;<i> Prashant's proposal (a similar proposed by others) then we will  
</I>&gt;<i> know precisely what Java file will come out given the extension.
</I>&gt;<i>
</I>&gt;<i> So, the proposal is that ANTLR specifically  
</I>&gt;<i> enforce .g, .gl, .gp, .gtp as well as the name of the file being  
</I>&gt;<i> the name of the grammar inside.  Further, ANTLR would deviate from  
</I>&gt;<i> regular grammars for tree grammars so that no suffix is added to  
</I>&gt;<i> the generated code.
</I>
Sounds pretty good to me. This also comes in time for the book ;)
I give my vote to:
T.g	- combined, (TLexer|TParser).targetexts
T.gl	- lexer, TLexer.targetexts
T.gp	- parser, TParser.targetexts
T.gtp	- tree parser, T.targetexts

But I wonder if ANTLR should really enforce this. After all, a  
compiler shouldn't care what the file is named, right? In ANTLR's  
case I see file extensions more like a recommendation to make life  
easier for GUIs, build systems, etc. The only thing we have to change  
is the class/filename of tree parsers. Everything else will already  
be working. Maybe change the extensions of the intermediate lexer  
grammar file of combined grammars, and that's it. Document the &quot;best  
practice file extensions&quot; and be done with it.

&gt;<i> How will this fly in other target languages?
</I>
I don't see how this will be any different to the current situation.  
After all, the targets aren't involved in generating the filenames.

What I sometimes longed for is to be able to generate more than one  
pair of files (or one file as in Java), esp. for rule return classes,  
but that discussion really doesn't belong here ;) Besides, that would  
be difficult to implement in a uniform manner for all targets, so  
I'll just deal with the humongous output files. My ideal for this  
would be too Objective-C specific anyway.

cheers,

-k

-- 
Kay R&#246;pke
<A HREF="http://classdump.org/">http://classdump.org/</A>




</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018712.html">[antlr-interest] File extensions for ANTLR 3
</A></li>
	<LI>Next message: <A HREF="018715.html">[antlr-interest] File extensions for ANTLR 3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18714">[ date ]</a>
              <a href="thread.html#18714">[ thread ]</a>
              <a href="subject.html#18714">[ subject ]</a>
              <a href="author.html#18714">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
