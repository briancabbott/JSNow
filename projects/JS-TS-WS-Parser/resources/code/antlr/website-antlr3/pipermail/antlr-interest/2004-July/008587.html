<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Porting from antlr 2.7.1 to 2.7.4
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Porting%20from%20antlr%202.7.1%20to%202.7.4&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008592.html">
   <LINK REL="Next"  HREF="008588.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Porting from antlr 2.7.1 to 2.7.4</H1>
    <B>Sergey Bogdanov</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Porting%20from%20antlr%202.7.1%20to%202.7.4&In-Reply-To="
       TITLE="[antlr-interest] Porting from antlr 2.7.1 to 2.7.4">serge.bogdanov at intel.com
       </A><BR>
    <I>Wed Jul  7 07:09:02 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008592.html">[antlr-interest] Pare tree based refactoring tool
</A></li>
        <LI>Next message: <A HREF="008588.html">[antlr-interest] Porting from antlr 2.7.1 to 2.7.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8587">[ date ]</a>
              <a href="thread.html#8587">[ thread ]</a>
              <a href="subject.html#8587">[ subject ]</a>
              <a href="author.html#8587">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
    I am trying to port a parser (cpp) which actually works ok with
2.7.1 to 2.7.4. There is one issue and some suggestions.

First, the issue, which is a completely new way to handle
heterogenuous asts. 2.7.1 used c++ constructors to build and allocate
new ast objects  which worked perfectly well. Now it looks like antler
creates a registration table. As a result, every ast needs to be
supplied with a 'factory' and 'initialization'. There are about 100
different asts in the application and making those changes is
difficult. So, there are two questions:
    1. is there a backwards compatibility mode?
    2. what was the reason for changing the way to handle heterogenous
asts? Current mechanism looks like an overcomplicated one.

Now, some suggestions.
    1. One difference I've fond was that 2.7.1 declared temporary asts
and tokens no matter what. Therefore the following worked ok:
    rule: LSQR ... RSQR! {#RSQR-&gt;...};
Now, there is no declaration for RSQR temp if the bang is used and c++
compilation fails. It is easy to work around by supplying an element
id 'rsqr1:RSQR!' but this would be a good help if antlr at least
warned that an undeclared element had been used in the action.

    2. It would be nice to automatically generate ANTLR_VERSION macro
definition in the C++ code.

    3. for the future antlr develpments bacward compatibility should
be taken in account.

Thank you.







 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
    <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
    <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
    <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008592.html">[antlr-interest] Pare tree based refactoring tool
</A></li>
	<LI>Next message: <A HREF="008588.html">[antlr-interest] Porting from antlr 2.7.1 to 2.7.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8587">[ date ]</a>
              <a href="thread.html#8587">[ thread ]</a>
              <a href="subject.html#8587">[ subject ]</a>
              <a href="author.html#8587">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
