<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] c runtime with templates
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20c%20runtime%20with%20templates&In-Reply-To=%3C4995AEBC.60104%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032919.html">
   <LINK REL="Next"  HREF="032933.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] c runtime with templates</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20c%20runtime%20with%20templates&In-Reply-To=%3C4995AEBC.60104%40temporal-wave.com%3E"
       TITLE="[antlr-interest] c runtime with templates">jimi at temporal-wave.com
       </A><BR>
    <I>Fri Feb 13 09:32:44 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032919.html">[antlr-interest] c runtime with templates
</A></li>
        <LI>Next message: <A HREF="032933.html">[antlr-interest] c runtime with templates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32920">[ date ]</a>
              <a href="thread.html#32920">[ thread ]</a>
              <a href="subject.html#32920">[ subject ]</a>
              <a href="author.html#32920">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Carter Cheng wrote:
&gt;<i> Thanks for the reply.
</I>&gt;<i>
</I>&gt;<i> I did actually manage to find a semi workaround for this though it is a bit cumbersome (involves manually editing the extern &quot;C&quot; scopes in the tree grammar .h generated file). I am a bit of a C++ newbie and part of me is curious if this extern &quot;C&quot; stuff is really needed here since I am compiling everything with g++.
</I>&gt;<i>
</I>&gt;<i> Unfortunately given how the declarations look in the header it seems that since in certain cases I am returning stl types these show up in some of the generated structs in the header i suspect that #ifdefing them out of the header would mean the header would not compile.
</I>&gt;<i>
</I>&gt;<i>   
</I>In the latest source I think that the #ifdefs are more selective, but 
you probably want to put your #includes inside @preincludes and not 
@header. Chack the docs on the various sections.  Also don't put any of 
your classes and things directly into the grammar, place them in .cpp 
files and the include the headers the define the classes in the 
preincludes sections. Then your classes won't be marked as extern &quot;C&quot;. 
There are comments about the approach you take to structure in the 
examples - separate include that includes your headers and the 
parser/lexer headers and so on. Keep as much of your own code as 
possible out of the .g file and the generated headers basically.

Jim
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032919.html">[antlr-interest] c runtime with templates
</A></li>
	<LI>Next message: <A HREF="032933.html">[antlr-interest] c runtime with templates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32920">[ date ]</a>
              <a href="thread.html#32920">[ thread ]</a>
              <a href="subject.html#32920">[ subject ]</a>
              <a href="author.html#32920">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
