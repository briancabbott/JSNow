<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Antlr v3 Syntax question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Antlr%20v3%20Syntax%20question&In-Reply-To=%3COF4625B655.359F4325-ON862572AC.00646D30-052572AC.006497B2%40sungard.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019953.html">
   <LINK REL="Next"  HREF="019956.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Antlr v3 Syntax question</H1>
    <B>bryce.alcock at sungard.com</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Antlr%20v3%20Syntax%20question&In-Reply-To=%3COF4625B655.359F4325-ON862572AC.00646D30-052572AC.006497B2%40sungard.com%3E"
       TITLE="[antlr-interest] Antlr v3 Syntax question">bryce.alcock at sungard.com
       </A><BR>
    <I>Wed Mar 28 11:18:28 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="019953.html">[antlr-interest] Antlr v3 Syntax question
</A></li>
        <LI>Next message: <A HREF="019956.html">[antlr-interest] Antlr v3 Syntax question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19954">[ date ]</a>
              <a href="thread.html#19954">[ thread ]</a>
              <a href="subject.html#19954">[ subject ]</a>
              <a href="author.html#19954">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok,  i found a pretty close example on page 136 of the book, 
but that is not working for me because that seems to be at the Parse time, 
not as you are walking the AST.


Bryce





I would like to return a vector (or list for that matter of all the 
LITTERAL values whos common 
root was the given &quot;PREDICATE&quot; 


Here was my first attempt. 


predicate returns [java.util.Vector v]  : ^(PREDICATE LITERAL+) { 
   if($v==null){ 
      $v = new java.util.Vector(); 
   } 
   System.out.println(&quot;V.size is =&gt; &quot;+$v.size()); 
   $v.add($LITERAL.text); 
   System.out.println(&quot;V.size after add is =&gt; &quot;+$v.size()); 
   System.out.println(&quot;v is:&quot;+$v.toString()); 

} 
; 



Here is the Input: 
6+6+8 in (&quot;T&quot;,&quot;y&quot;,&quot;R&quot;) 

AST.toString.... 
(COMPOUND (in (+ (+ 6 6) 8) (PREDICATE &quot;T&quot; &quot;y&quot; &quot;R&quot;))) 


Here is the output: 

Hello World from TestExprWalker 
V.size is =&gt; 0 
V.size after add is =&gt; 1 
v is:[&quot;R&quot;] 
stat hello world This value will be processed =&gt;5 




This only included the first value. 
What am I doing wrong, and is there an example I can look at. 

I Kinda looked through Terence's book and didn't find an example, 
but I am sure there is one in there somewhere. 

Thanks in advance 

Bryce Alcock 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20070328/58fda015/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20070328/58fda015/attachment-0001.html</A> 
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019953.html">[antlr-interest] Antlr v3 Syntax question
</A></li>
	<LI>Next message: <A HREF="019956.html">[antlr-interest] Antlr v3 Syntax question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19954">[ date ]</a>
              <a href="thread.html#19954">[ thread ]</a>
              <a href="subject.html#19954">[ subject ]</a>
              <a href="author.html#19954">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
