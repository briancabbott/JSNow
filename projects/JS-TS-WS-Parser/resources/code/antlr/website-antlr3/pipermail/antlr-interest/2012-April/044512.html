<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer for Ruby's heredoc syntax
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20for%20Ruby%27s%20heredoc%20syntax&In-Reply-To=%3CCAKF_Ucmn08vpGYzQ34pkUhUvd__9NZaOz6DWab5nuTuznfHPTQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044550.html">
   <LINK REL="Next"  HREF="044513.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer for Ruby's heredoc syntax</H1>
    <B>Andrea Polci</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20for%20Ruby%27s%20heredoc%20syntax&In-Reply-To=%3CCAKF_Ucmn08vpGYzQ34pkUhUvd__9NZaOz6DWab5nuTuznfHPTQ%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Lexer for Ruby's heredoc syntax">andrea.polci at exmachina.ch
       </A><BR>
    <I>Mon Apr 23 09:11:50 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044550.html">[antlr-interest] parametrized c# parser class
</A></li>
        <LI>Next message: <A HREF="044513.html">[antlr-interest] Lexer for Ruby's heredoc syntax
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44512">[ date ]</a>
              <a href="thread.html#44512">[ thread ]</a>
              <a href="subject.html#44512">[ subject ]</a>
              <a href="author.html#44512">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to write a parser that allow the Ruby's heredoc syntax that
allow to write something like this:

method_name(&lt;&lt;DELIM, 123, &lt;&lt;OTHERDELIM)
    This is the content for the
    first argument of the method
DELIM
   This is the content for the third argument of the method
OTHERDELIM
otherMethod()
....


The lexer should produce the following token stream:
IDENTIFIER LPAREN HEREDOC COMMA INTEGER COMMA HEREDOC RPAREN EOL IDENTIFIER
...

What the lexer should do when it found a heredoc tag (&lt;&lt;XXXX) is to mark
the current position, skip to the following line, than consume all the
characters until it finds the delimiter matching the tag. After that it
should rewind to the mark previously set.
The problem is that it should then skip all the lines part of the heredoc
already analysed.

Is there a way to do something similar?
All I can think of is to wrap the input CharStream and allow to mark lines
that have to be ignored by calls to input.consume() (and other methods of
the CharStream interface).

Thanks for any help.

Andrea
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044550.html">[antlr-interest] parametrized c# parser class
</A></li>
	<LI>Next message: <A HREF="044513.html">[antlr-interest] Lexer for Ruby's heredoc syntax
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44512">[ date ]</a>
              <a href="thread.html#44512">[ thread ]</a>
              <a href="subject.html#44512">[ subject ]</a>
              <a href="author.html#44512">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
