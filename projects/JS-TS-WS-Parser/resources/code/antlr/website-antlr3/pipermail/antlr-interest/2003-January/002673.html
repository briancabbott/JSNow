<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Line numbers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Line%20numbers&In-Reply-To=C8B0B2010780F1439E5DAB4FF7DFFFD9010D915C%40za-exchange.za.mosaicsoftware.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002668.html">
   <LINK REL="Next"  HREF="002675.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Line numbers</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Line%20numbers&In-Reply-To=C8B0B2010780F1439E5DAB4FF7DFFFD9010D915C%40za-exchange.za.mosaicsoftware.net"
       TITLE="[antlr-interest] Line numbers">parrt at jguru.com
       </A><BR>
    <I>Mon Jan 20 10:18:02 PST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002668.html">[antlr-interest] Re: Line numbers
</A></li>
        <LI>Next message: <A HREF="002675.html">[antlr-interest] Re: Line numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2673">[ date ]</a>
              <a href="thread.html#2673">[ thread ]</a>
              <a href="subject.html#2673">[ subject ]</a>
              <a href="author.html#2673">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sunday, January 19, 2003, at 09:39 PM, Morne Streicher wrote:

&gt;<i> Dear All
</I>&gt;<i>
</I>&gt;<i> I'm pretty new to compiler theory and parser generators. I've managed 
</I>&gt;<i> to successfully defined a language (and implemented the interpreter as 
</I>&gt;<i> well) using ANTLR. :-)
</I>&gt;<i>
</I>&gt;<i> What I'm doing to interpret the source language is to walk the 
</I>&gt;<i> Abstract Syntax Tree (AST) generated by ANTLR, and &quot;evaluate&quot; that.
</I>&gt;<i>
</I>&gt;<i> The AST generated by the parser however do not include the line and 
</I>&gt;<i> column number for the token it represents. I need that information to 
</I>&gt;<i> customize run-time error messages, i.e. include line numbers.
</I>&gt;<i>
</I>&gt;<i> Has anybody got an (simple) example of how I could do that - extend 
</I>&gt;<i> the .g file to make it include line numbers in the AST class? I 
</I>&gt;<i> believe I'll have to extend the AST class, which is fine.
</I>
Hi there.  I believe there was a quick thread previously where I 
decided to add getToken() method to the AST interface and then modify 
the AST factory method create(Token t) to just store the token not pull 
out the text/type and store it.  This way the tree will have a ref to 
the token and you can ask (and my tree parsers can ask) for the line 
number.

The problem will have to way for 2.7.3 as 2.7.2 will be out today I 
think.  The CPP and C# output would not have time to catch and I need 
to think about the problem a bit more.

I would do this yourself until all ANTLR does it. :)

Ter
--
Co-founder, <A HREF="http://www.jguru.com">http://www.jguru.com</A>
Creator, ANTLR Parser Generator: <A HREF="http://www.antlr.org">http://www.antlr.org</A>
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002668.html">[antlr-interest] Re: Line numbers
</A></li>
	<LI>Next message: <A HREF="002675.html">[antlr-interest] Re: Line numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2673">[ date ]</a>
              <a href="thread.html#2673">[ thread ]</a>
              <a href="subject.html#2673">[ subject ]</a>
              <a href="author.html#2673">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
