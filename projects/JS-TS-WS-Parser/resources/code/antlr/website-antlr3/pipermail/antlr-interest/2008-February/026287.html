<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Fwd: Re:  Trying to keep whitespace in an AST
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Fwd%3A%20Re%3A%20%20Trying%20to%20keep%20whitespace%20in%20an%20AST&In-Reply-To=%3CBAY122-W7FD64C2FDABC9E3E884EFD02F0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026283.html">
   <LINK REL="Next"  HREF="026288.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Fwd: Re:  Trying to keep whitespace in an AST</H1>
    <B>Artem Portnoy</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Fwd%3A%20Re%3A%20%20Trying%20to%20keep%20whitespace%20in%20an%20AST&In-Reply-To=%3CBAY122-W7FD64C2FDABC9E3E884EFD02F0%40phx.gbl%3E"
       TITLE="[antlr-interest] Fwd: Re:  Trying to keep whitespace in an AST">tema75 at hotmail.com
       </A><BR>
    <I>Fri Feb  8 08:33:29 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026283.html">[antlr-interest]  Fwd: Re:  Trying to keep whitespace in an AST
</A></li>
        <LI>Next message: <A HREF="026288.html">[antlr-interest] Fwd: Re:  Trying to keep whitespace in an AST
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26287">[ date ]</a>
              <a href="thread.html#26287">[ thread ]</a>
              <a href="subject.html#26287">[ subject ]</a>
              <a href="author.html#26287">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to solve the exact same problem. I found some sample code here <A HREF="http://www.antlr.org/article/whitespace/index.html.">http://www.antlr.org/article/whitespace/index.html.</A> The problem is that the way the existing Java grammar is written, not all the tokens end up in the AST tree, such as semicolons, curly brakets, etc. The result of this is some of the comments end up getting weaved onto these &quot;missing&quot; tokens, and there's no way to get them back from AST. If somebody knows how to resolve this issue please share the information.

Thank you,

Artem
&gt;<i> Date: Fri, 8 Feb 2008 16:24:14 +0100
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jaluber at gmx.de</A>
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest]  Fwd: Re:  Trying to keep whitespace in an AST
</I>&gt;<i> 
</I>&gt;<i> &gt; So I guess I need an AST that keeps newlines and
</I>&gt;<i> &gt; comments associated 
</I>&gt;<i> &gt; with particular nodes. The pretty printing is done
</I>&gt;<i> &gt; by our code so the 
</I>&gt;<i> &gt; grammar doesn't need to do that.
</I>&gt;<i> 
</I>&gt;<i> Well, there are problems with the naive way of simply attaching newlines 
</I>&gt;<i> and comments. The AST grammar doesn't recognize &quot;The comments and 
</I>&gt;<i> whitespace everywhere&quot; requirement. So you can insert at every possible 
</I>&gt;<i> point &quot;(WS | COMMENT)*&quot;, but that would be ugly.
</I>&gt;<i> 
</I>&gt;<i> One could try to tell the parser to check for WS and COMMENT in addition 
</I>&gt;<i> to the expected node, but that would interfere with syntactic 
</I>&gt;<i> predicates, which don't check for theses variants. One could try to 
</I>&gt;<i> change the template but I'm not sure how feasible this is. There could 
</I>&gt;<i> be other problems lurking.
</I>&gt;<i> 
</I>&gt;<i> The way I'd go is to use channels. Put newlines and COMMENT into a 
</I>&gt;<i> channel separate from the unneeded whitespace. This would reduce the 
</I>&gt;<i> problem into accessing the off-channel tokens at the right places and to 
</I>&gt;<i> keep them after grammar transformations. But so far I haven't checked 
</I>&gt;<i> out, how one can do the latter properly.
</I>&gt;<i> 
</I>&gt;<i> Johannes
</I>
_________________________________________________________________
Helping your favorite cause is as easy as instant messaging.&#160;You IM, we give.
<A HREF="http://im.live.com/Messenger/IM/Home/?source=text_hotmail_join">http://im.live.com/Messenger/IM/Home/?source=text_hotmail_join</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080208/1b1894f9/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080208/1b1894f9/attachment.html</A> 
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026283.html">[antlr-interest]  Fwd: Re:  Trying to keep whitespace in an AST
</A></li>
	<LI>Next message: <A HREF="026288.html">[antlr-interest] Fwd: Re:  Trying to keep whitespace in an AST
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26287">[ date ]</a>
              <a href="thread.html#26287">[ thread ]</a>
              <a href="subject.html#26287">[ subject ]</a>
              <a href="author.html#26287">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
