<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Can ST be used to generate binary output?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Can%20ST%20be%20used%20to%20generate%20binary%20output%3F&In-Reply-To=%3Cf96d276c563e574ba5d8b409f1f0d9af%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037250.html">
   <LINK REL="Next"  HREF="037254.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Can ST be used to generate binary output?</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Can%20ST%20be%20used%20to%20generate%20binary%20output%3F&In-Reply-To=%3Cf96d276c563e574ba5d8b409f1f0d9af%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Can ST be used to generate binary output?">jimi at temporal-wave.com
       </A><BR>
    <I>Fri Jan  8 12:30:55 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037250.html">[antlr-interest] Can ST be used to generate binary output?
</A></li>
        <LI>Next message: <A HREF="037254.html">[antlr-interest] Can ST be used to generate binary output?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37253">[ date ]</a>
              <a href="thread.html#37253">[ thread ]</a>
              <a href="subject.html#37253">[ subject ]</a>
              <a href="author.html#37253">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It is usually better to produce an intermediate assembler representation of your byte code then have a parser that can assemble that in to byte code. You will for instance need to resolve the targets of 'jmp' and things like that and having an assembly language listing of the 'byte code' lets you be more productive when debugging and so on. Such assembly/intermediate languages are also good for optimizing phases.

When I need multiple different outputs like this then I create an Abstract class with common functionality for code generation and derive generators for each target from that. I have the code generator create StringTemplates when this is what is needed and also have a code generator that produces the byte code. Then I have the tree walker call the code generation methods rather than create templates directly in the tree grammar. You can then do multiple walks with different code generators.

If you are trying to generate Java byte code then write a code generator that interfaces to the ASM package: <A HREF="http://asm.ow2.org/">http://asm.ow2.org/</A> which is very good. There is also LLVM of course.

Finally I think that you would benefit greatly from reading the new book:

<A HREF="http://pragprog.com/titles/tpdsl/language-implementation-patterns">http://pragprog.com/titles/tpdsl/language-implementation-patterns</A>

Which will guide you through some working of examples of all of this stuff.

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Pauba, Kevin L
</I>&gt;<i> Sent: Friday, January 08, 2010 7:50 AM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] Can ST be used to generate binary output?
</I>&gt;<i> 
</I>&gt;<i> I would like to use my ANTLR-based DSL compiler to generate pretty-
</I>&gt;<i> printed source, documentation (similar to javadocs) and bytecode output
</I>&gt;<i> using StringTemplate.  The interpreter for this DSL needs bytecode in
</I>&gt;<i> binary form.
</I>&gt;<i> 
</I>&gt;<i> Is ST able to generate binary output (I know it can do the gruntwork
</I>&gt;<i> for pretty-printing and documentation)?  If so, might you have some
</I>&gt;<i> pointers on how to do it?
</I>&gt;<i> 
</I>&gt;<i> Thanks!
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> email-address
</I>


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037250.html">[antlr-interest] Can ST be used to generate binary output?
</A></li>
	<LI>Next message: <A HREF="037254.html">[antlr-interest] Can ST be used to generate binary output?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37253">[ date ]</a>
              <a href="thread.html#37253">[ thread ]</a>
              <a href="subject.html#37253">[ subject ]</a>
              <a href="author.html#37253">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
