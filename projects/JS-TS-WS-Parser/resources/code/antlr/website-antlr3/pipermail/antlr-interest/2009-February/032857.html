<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Writing (for now) just a lexer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Writing%20%28for%20now%29%20just%20a%20lexer&In-Reply-To=%3C499291BF.4020601%40cs.wisc.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032856.html">
   <LINK REL="Next"  HREF="032864.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Writing (for now) just a lexer</H1>
    <B>Evan Driscoll</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Writing%20%28for%20now%29%20just%20a%20lexer&In-Reply-To=%3C499291BF.4020601%40cs.wisc.edu%3E"
       TITLE="[antlr-interest] Writing (for now) just a lexer">driscoll at cs.wisc.edu
       </A><BR>
    <I>Wed Feb 11 00:52:15 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032856.html">[antlr-interest] Need help on handling exceptions in C......
</A></li>
        <LI>Next message: <A HREF="032864.html">[antlr-interest] Writing (for now) just a lexer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32857">[ date ]</a>
              <a href="thread.html#32857">[ thread ]</a>
              <a href="subject.html#32857">[ subject ]</a>
              <a href="author.html#32857">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I'm teaching a compilers class at University of Wisconsin-Madison. 
Traditionally the class has followed sort of a classic sequence of 
projects 'write a lexer', 'write a parser', etc., and in the past has 
used either JLex/Java CUP or Flex/Bison for the lexer and parser 
generator. This is my first time teaching this class, and I'm writing 
these assignments assuming the use of ANTLR instead. I don't really want 
to make major changes to the class, so I want to keep these assignments 
separate, but the combined nature of ANTLR grammars has thrown a couple 
oddities into the way this works. Anyway, this is the one I'm not really 
sure how to deal with, as I'm also new to ANTLR.

The question is this: how do I store additional information in a token? 
(E.g. for the token corresponding to an int literal, how would I store 
the value as an int?)

Using something like Flex, I know how to do this; just add an additional 
option in the union representing the token type. But under ANTLR, I'm 
not sure. I see &quot;How do I use a custom token type?&quot; 
(<A HREF="http://www.antlr.org/wiki/pages/viewpage.action?pageId=1844">http://www.antlr.org/wiki/pages/viewpage.action?pageId=1844</A>), but this 
isn't quite what I want, as I want to be able to return a subclass of 
CommonToken for just a couple particular rules.

The couple grammars I've looked at (for Java) don't do this, presumably 
leaving the string-&gt;integer conversion for later, but this doesn't make 
a whole lot of sense to be to be honest. There are potentially multiple 
contexts where this sort of thing would need to be done later, while 
doing it in lexing seems cleaner. It also allows me to keep better 
consistency with the fact that I've been giving &quot;an integer literal is 
too large&quot; as an example of an error that could arise during lexing. 
(Not that you *couldn't* do it later.)

Evan Driscoll

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032856.html">[antlr-interest] Need help on handling exceptions in C......
</A></li>
	<LI>Next message: <A HREF="032864.html">[antlr-interest] Writing (for now) just a lexer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32857">[ date ]</a>
              <a href="thread.html#32857">[ thread ]</a>
              <a href="subject.html#32857">[ subject ]</a>
              <a href="author.html#32857">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
