<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Getting Token Text in C
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Getting%20Token%20Text%20in%20C&In-Reply-To=%3C4A2E8DD5.2050502%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034825.html">
   <LINK REL="Next"  HREF="034828.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Getting Token Text in C</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Getting%20Token%20Text%20in%20C&In-Reply-To=%3C4A2E8DD5.2050502%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Getting Token Text in C">jimi at temporal-wave.com
       </A><BR>
    <I>Tue Jun  9 09:29:09 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="034825.html">[antlr-interest] Getting Token Text in C
</A></li>
        <LI>Next message: <A HREF="034828.html">[antlr-interest] problem in displayRecognitionError() in	antlr2baserecognizer.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34830">[ date ]</a>
              <a href="thread.html#34830">[ thread ]</a>
              <a href="subject.html#34830">[ subject ]</a>
              <a href="author.html#34830">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Florian Leitner-Fischer wrote:
&gt;<i> Dear All,
</I>&gt;<i>
</I>&gt;<i> I'm currently using the following C code to parse Java files for a 
</I>&gt;<i> university project.
</I>&gt;<i>
</I>&gt;<i> This works very nice and I get an output like
</I>&gt;<i>
</I>&gt;<i> package
</I>&gt;<i> identifier
</I>&gt;<i> ;
</I>&gt;<i> and so on for my Java File.
</I>&gt;<i>
</I>&gt;<i> The only thing I am missing now is to get the name of the identifier.
</I>&gt;<i>
</I>&gt;<i> Is this somehow possible?
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i>     {
</I>&gt;<i> ANTLR3_INT32 T;
</I>&gt;<i> T = 0;
</I>&gt;<i> while (T != ANTLR3_TOKEN_EOF)
</I>&gt;<i> {
</I>&gt;<i> T = tstream-&gt;tstream-&gt;istream-&gt;_LA(tstream-&gt;tstream-&gt;istream, 1);
</I>&gt;<i> tstream-&gt;tstream-&gt;istream-&gt;consume(tstream-&gt;tstream-&gt;istream);
</I>&gt;<i> printf(&quot;%s \n&quot;, (psr-&gt;pParser-&gt;rec-&gt;state-&gt;tokenNames)[T], T);
</I>&gt;<i> }
</I>&gt;<i> }
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> Best Regards and thanks in advance,
</I>&gt;<i>
</I>&gt;<i>   
</I>Florian, where is this code? In an action? Driver code? Don't use the 
direct code like this as if I cahnge it, then all your code will break. 
There are macros, such as PARSER and so on that you should use. Look at 
the top of the generated code for more details.

If you use LT rather than LA, then you will get a token pointer and it 
has pointers to the input stream where the token starts and a length field.

Jim

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034825.html">[antlr-interest] Getting Token Text in C
</A></li>
	<LI>Next message: <A HREF="034828.html">[antlr-interest] problem in displayRecognitionError() in	antlr2baserecognizer.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34830">[ date ]</a>
              <a href="thread.html#34830">[ thread ]</a>
              <a href="subject.html#34830">[ subject ]</a>
              <a href="author.html#34830">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
