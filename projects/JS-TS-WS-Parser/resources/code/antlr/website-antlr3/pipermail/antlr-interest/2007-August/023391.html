<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer rule match keyword or	identifierdepending on the previous token
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20rule%20match%20keyword%20or%0A%09identifierdepending%20on%20the%20previous%20token&In-Reply-To=%3CFF993752CB890B4EB591BE5450C37BF1AA3461%40navamane001.ad.internal.corp%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023329.html">
   <LINK REL="Next"  HREF="023396.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer rule match keyword or	identifierdepending on the previous token</H1>
    <B>Edwards, Waverly</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20rule%20match%20keyword%20or%0A%09identifierdepending%20on%20the%20previous%20token&In-Reply-To=%3CFF993752CB890B4EB591BE5450C37BF1AA3461%40navamane001.ad.internal.corp%3E"
       TITLE="[antlr-interest] Lexer rule match keyword or	identifierdepending on the previous token">Waverly.Edwards at genesys.com
       </A><BR>
    <I>Wed Aug 22 19:06:46 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023329.html">[antlr-interest] Lexer rule match keyword or identifier	depending on the previous token
</A></li>
        <LI>Next message: <A HREF="023396.html">[antlr-interest] Lexer rule match keyword or	identifierdepending on the previous token
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23391">[ date ]</a>
              <a href="thread.html#23391">[ thread ]</a>
              <a href="subject.html#23391">[ subject ]</a>
              <a href="author.html#23391">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Interesting enough.  This afternoon I thought of a 
case that I will need to deal with that works exactly
like what you described.  Looking ahead is not going
to be the same as looking back or at the very least
the logic is going to be more complicated looking
ahead than looking back.  When I get to that point in
my grammar I'll let you know what I did.  I want to
deal with the case in the lexer and not the parser so
this should be interesting.  I don't know if there is
a 'previousToken' ( I doubt it ) since storing each token
seems like a waste I'll try to come up with something


W.


-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Edwards, Waverly
Sent: Monday, August 20, 2007 9:22 AM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] Lexer rule match keyword or
identifierdepending on the previous token

 
Is this different that looking ahead?  If you are at token B and token A
determines how your respond to token B then wouldn't this be the same as
being at token A, looking ahead and seeing token B then responding the
same way?  I don't know the circumstance so I don't really know.  I
haven't figured out how the lookahead in ANTLR works just yet but I know
it exists.


W.

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Guillaume
Chavanon
Sent: Monday, August 20, 2007 5:45 AM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: [antlr-interest] Lexer rule match keyword or identifier
depending on the previous token

Hi all,

I am writing a grammar for a language that allow some keywords to be
identifiers if they are preceded by a special character.
Is it possible to add gated semantic predicate in a lexer rule that will
test the previous token ?
I would like to do something like this :

IDENTIFIER
    : { previousToken != ... }?=&gt; 'KEYWORD1' {$type=KEYWORD1;}
    | { previousToken != ... }?=&gt; 'KEYWORD2' {$type=KEYWORD2;}
    | 'A'..'Z' ( '_'? ( 'A'..'Z' | '0'..'9' ) )*
    ;

Thanks in advance,
Guillaume Chavanon
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023329.html">[antlr-interest] Lexer rule match keyword or identifier	depending on the previous token
</A></li>
	<LI>Next message: <A HREF="023396.html">[antlr-interest] Lexer rule match keyword or	identifierdepending on the previous token
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23391">[ date ]</a>
              <a href="thread.html#23391">[ thread ]</a>
              <a href="subject.html#23391">[ subject ]</a>
              <a href="author.html#23391">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
