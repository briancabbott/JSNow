<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: trees with payloads??
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20trees%20with%20payloads%3F%3F&In-Reply-To=cn3sp6%2B978e%40eGroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010098.html">
   <LINK REL="Next"  HREF="010027.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: trees with payloads??</H1>
    <B>John D. Mitchell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20trees%20with%20payloads%3F%3F&In-Reply-To=cn3sp6%2B978e%40eGroups.com"
       TITLE="[antlr-interest] Re: trees with payloads??">johnm-antlr at non.net
       </A><BR>
    <I>Fri Nov 12 22:54:35 PST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="010098.html">[antlr-interest] Re: trees with payloads??
</A></li>
        <LI>Next message: <A HREF="010027.html">[antlr-interest] Re: trees with payloads??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10101">[ date ]</a>
              <a href="thread.html#10101">[ thread ]</a>
              <a href="subject.html#10101">[ subject ]</a>
              <a href="author.html#10101">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;&gt;&gt;&gt;&gt;<i> &quot;lgcraymer&quot; == lgcraymer  &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">lgc at mail1.jpl.nasa.gov</A>&gt; writes:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">johnm-antlr at n...</A>&gt; wrote:
</I>[...]

Sigh.  This is going to be my last post on this thread.

[...dynamically scoped attributes...]

&gt;<i> That is certainly true, but it is also clear that you assume that
</I>&gt;<i> dictionaries/hash tables are fundamental to providing dynamic attribute
</I>&gt;<i> support.
</I>
I think that I've been explicitly clear on the fact that I don't care how a
given code generator &amp; runtime implement the model.  Just that they
implement the model with fidelity. I.e., I'm a firm advocate for the &quot;as
if&quot; rule.

&gt;<i> I don't; in fact I think that that approach would lead to poor
</I>&gt;<i> performance in the hands of typical developers and should be avoided for
</I>&gt;<i> that reason.  From my perspective, symbol table support is almost
</I>&gt;<i> orthogonal to the dynamically scoped attributes.
</I>
And driving things to an overly static model is certainly something that
I'm worried about in the face of too much &quot;performance at all costs&quot;
whining and complaining prior to serious profiling [and folks please be
clear that I'm talking about Antlr v3 -- we all know that v2 has serious
problems in terms of e.g., performance.]

[...]

&gt;&gt;<i> Capability and Simplicity are the two driving forces in Antlr v3.
</I>&gt;&gt;<i> Sometimes they coincide and sometimes they are in direct opposition and
</I>&gt;&gt;<i> usually the reality is somewhere in the middle.
</I>
&gt;<i> You have left out Performance; that was the driver that got Ter started
</I>&gt;<i> on DFAs for lexers and from there to the LL(*) model.  &quot;Capability&quot; has
</I>&gt;<i> differing interpretations: the real goal is fast turnaround of language
</I>&gt;<i> processors, not to try to incorporate all features which might be useful.
</I>&gt;<i> Simplicity actually just sort of crept in; I would say that it is present
</I>&gt;<i> &quot;only&quot; as a matter of good design practice.
</I>
No, you're missing a key point that performance as a requirement is just
another capability.

Simplicity is not a side-issue. It's absolutely essential.  For one, it's
one of the things that keeps the &quot;creeping featuritis&quot; from taking over.
Also, true simplicity (from a systemic perspective, not just myopically :-)
increases performance, reliability, robustness, and power.


&gt;&gt;<i> An underlying question that I keep hearing in your posts is the question
</I>&gt;&gt;<i> of where do we draw the line as to what goes into the Antlr core and
</I>&gt;&gt;<i> what is left to add-ons, libraries, the whim of the code generators and
</I>&gt;&gt;<i> runtimes, etc.  I think that's the question that we need to be ruthless
</I>&gt;&gt;<i> in always asking and ruthlessly honest in pursuing the answers.
</I>
&gt;<i> There are too many custom classes in ANTLR 2--lists, bit arrays,
</I>&gt;<i> etc.--that could be done away with.
</I>
Yep, and many of them won't be coming back in v3.  Yee haa!

&gt;<i> There are also features like AST class generation which could be easily
</I>&gt;<i> supported but are not.  Incorporating these would significantly improve
</I>&gt;<i> usability.
</I>
I, for one, am certainly interested in hearing such ideas.  [Up until the
last week or so, Ter has been pretty ruthless in staying away from thinking
(let alone talking) about trees so that he could stay focused on lexing and
parsing.]  In terms of generating AST classes that would help deal with the
whole homogeneous vs. heterogeneous tree war. :-)


&gt;<i> I would definitely quibble with the idea that things are left up to the
</I>&gt;<i> whim of the code generators.  ANTLR 2 proved that code generation was
</I>&gt;<i> very much at the mercy of the implementation model.  I don't really think
</I>&gt;<i> that ANTLR 3 will be much different, and that is especially true for
</I>&gt;<i> attribute support.
</I>
I wouldn't use the word &quot;whim&quot; as the code generators (at least any that
want to become &quot;official&quot;) have to support all of the Antlr core model.

[...]

&gt;&gt;<i> I'm less paranoid because the pervasive backbone provided by the
</I>&gt;&gt;<i> grammars themselves makes dynamically scoped attributes in Antlr
</I>&gt;&gt;<i> qualitatively constrained as compared to dynamically scoped variables in
</I>&gt;&gt;<i> general purpose programming languages.
</I>
&gt;<i> I've seen too many cases of &quot;if it can be abused, it will be abused
</I>&gt;<i> whole-heartedly; FUBAR is a way of life&quot;.  You should be very paranoid.
</I>
Colloquially, I am paranoid but not petrified. Precisely, I deal in
balancing consequences.  Heck, I've worked on mission- and life-critical
systems: embedded, medical, and financial systems so I have a wee bit of an
idea about software quality. I've also written testing software and taught
software testing and development processes.  But, we do need to be clear
that (production) use of Antlr is not targeted at incompetent people and
therefore my calibration is different.

As I noted, the structure of a grammar literally provides a backbone to
(each phase of a translation) system and that fundamentally changes the
basis against which the dynamically scoped attributes will be used
(especially in comparison to the wild west nightmare of old-school
dynamically scoped variables in general purpose programming languages).
Can they be abused?  Of course.  But is that risk in the context of Antlr
fundamentally any different than letting people manipulate trees (or heck,
giving people the ability to lex and parse in the first place)?
Manipulating code is non-trivial.

Leaving out a fundamental, enabling capability from Antlr is, IMNSHO,
unacceptable.  Again, as I've noted, people manually build their own takes
on dynamically scoped attributes over and over and over again for a wide
variety of uses.  Adding capacity for allowing the dynamic attributes to
exist is very cheap in both time and space. So, the bang for the buck is a
no brainer.  If you have better ways of providing this capability, I'm all
ears.

Thanks,
	John



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
    <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
    <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
    <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010098.html">[antlr-interest] Re: trees with payloads??
</A></li>
	<LI>Next message: <A HREF="010027.html">[antlr-interest] Re: trees with payloads??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10101">[ date ]</a>
              <a href="thread.html#10101">[ thread ]</a>
              <a href="subject.html#10101">[ subject ]</a>
              <a href="author.html#10101">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
