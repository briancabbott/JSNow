<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR on mingw
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR%20on%20mingw&In-Reply-To=%3C1217866369.8413.63.camel%40jimi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029581.html">
   <LINK REL="Next"  HREF="029591.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR on mingw</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR%20on%20mingw&In-Reply-To=%3C1217866369.8413.63.camel%40jimi%3E"
       TITLE="[antlr-interest] ANTLR on mingw">jimi at temporal-wave.com
       </A><BR>
    <I>Mon Aug  4 09:12:49 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029581.html">[antlr-interest] ANTLR Grammar error - Illegal token.
</A></li>
        <LI>Next message: <A HREF="029591.html">[antlr-interest] ANTLR on mingw
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29577">[ date ]</a>
              <a href="thread.html#29577">[ thread ]</a>
              <a href="subject.html#29577">[ subject ]</a>
              <a href="author.html#29577">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2008-08-04 at 03:52 -0400, mp wrote:

&gt;<i> Hello.  I am a new user of ANTLR and I was reading on the newsgroups
</I>&gt;<i> about
</I>&gt;<i> (the lack of) mingw support.  Anyway, the only obstacle I ran into for
</I>&gt;<i> compiling on mingw was the typdefs requiring INT8/INT16/UINT8/UINT16
</I>&gt;<i> in
</I>&gt;<i> 'antlr3defs.h' (around line 82).  I am not sure where microsoft
</I>&gt;<i> typedefs
</I>&gt;<i> these, but they are not defined in any of my headers files (I am
</I>&gt;<i> running
</I>&gt;<i> GCC 4.3.0 20080305), although the 32bit versions are already typedefed
</I>&gt;<i> in
</I>&gt;<i> 'basetsd.h', which gets included by way of winnt.h-&gt;windows.h. 
</I>
These are all part of the Microsoft basetsd.h file:

typedef signed char         INT8, *PINT8;
typedef signed short        INT16, *PINT16;
typedef signed int          INT32, *PINT32;
typedef signed __int64      INT64, *PINT64;
typedef unsigned char       UINT8, *PUINT8;
typedef unsigned short      UINT16, *PUINT16;
typedef unsigned int        UINT32, *PUINT32;
typedef unsigned __int64    UINT64, *PUINT64;

I have not deliberately excluded mingw from being supported, but as the
Microsoft compilers are freely available in .Net SDKS, then I could not
see the point of anyone using mingw anymore to be honest, so I put it
aside. Mingw should really have those typedefs though - see thousands of
Google hits on people complaining about this.


&gt;<i>  The fix is
</I>&gt;<i> easy; typedef the missing types.  However, I have a suggestion to
</I>&gt;<i> #include
</I>&gt;<i> &lt;stdint.h&gt; and use the standard types defined there: int8_t,
</I>&gt;<i> uint8_t, ...,
</I>&gt;<i> uint64_t, instead of using the windows ones.  If you want, I will even
</I>&gt;<i> do
</I>&gt;<i> this for you.
</I>

stdint.h may be supplied with mingw, but it is not a part of the windows
headers. However, I think that Mingw defines: __MINGW32__ if it is the
compiler, so if stdint.h is always present when mingw is the compiler,
which I believe is the case, then I can modify the headers for mingw.

&gt;<i> 
</I>&gt;<i> So anyway, after this one easy thing to fix, everything runs fine with
</I>&gt;<i> mingw.  I used msys to run the configure script. 
</I>

I thought that mingw was designed to compile windows code - hence you
need to run configure on cygwin, but not if using mingw as the
antlr3config.h is not required in Windows systems.

I have changed the headers to reflect Mingw support - perhaps you can
ask the people that support mingw to update their typedefs?

Jim




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080804/abd76c88/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080804/abd76c88/attachment.html</A> 
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029581.html">[antlr-interest] ANTLR Grammar error - Illegal token.
</A></li>
	<LI>Next message: <A HREF="029591.html">[antlr-interest] ANTLR on mingw
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29577">[ date ]</a>
              <a href="thread.html#29577">[ thread ]</a>
              <a href="subject.html#29577">[ subject ]</a>
              <a href="author.html#29577">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
