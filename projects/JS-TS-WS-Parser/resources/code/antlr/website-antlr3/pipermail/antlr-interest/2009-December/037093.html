<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Bug (difference) in ANTLR 3.2 tree  matching.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Bug%20%28difference%29%20in%20ANTLR%203.2%20tree%20%20matching.&In-Reply-To=%3Cf96a514e-0ecf-4adb-9328-379620c11292%40SG2EHSMHS006.ehs.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037088.html">
   <LINK REL="Next"  HREF="037094.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Bug (difference) in ANTLR 3.2 tree  matching.</H1>
    <B>Michael Matera</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Bug%20%28difference%29%20in%20ANTLR%203.2%20tree%20%20matching.&In-Reply-To=%3Cf96a514e-0ecf-4adb-9328-379620c11292%40SG2EHSMHS006.ehs.local%3E"
       TITLE="[antlr-interest] Bug (difference) in ANTLR 3.2 tree  matching.">mike.matera at xilinx.com
       </A><BR>
    <I>Tue Dec 15 16:01:19 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="037088.html">[antlr-interest] Antlr-3.2 C# Target:	RecognitionException.csConstructor Bug
</A></li>
        <LI>Next message: <A HREF="037094.html">[antlr-interest] Bug (difference) in ANTLR 3.2 tree  matching.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37093">[ date ]</a>
              <a href="thread.html#37093">[ thread ]</a>
              <a href="subject.html#37093">[ subject ]</a>
              <a href="author.html#37093">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Sorry to nag, but my test case shows that what you have suggested is not
the problem.  During the test case execution I print out the AST that
resulted from matching the wildcard and, in both 3.1.1 and 3.2, the
resulting AST is exactly the same.  The difference in behavior is caused
by running my TreeParser on the resulting AST.  In 3.2 it seems that
more nodes magically appear when they shouldn't.

Cheers
./m


Gavin Lambert wrote:
&gt;<i> At 10:44 10/12/2009, Michael Matera wrote:
</I>&gt;&gt;<i>It seems that the '.' operator has become more greedy in
</I>&gt;&gt;<i>the 3.2 release.
</I>&gt;<i> 
</I>&gt;<i> I haven't tried 3.2 myself yet, but from what I recall of prior
</I>&gt;<i> discussion on the list:
</I>&gt;<i>  - in 3.0 and 3.1 the . operator was &quot;match a single token&quot; and did not
</I>&gt;<i> consume an entire subtree.
</I>&gt;<i>  - in 3.2, the . operator is supposed to be &quot;match a single token or
</I>&gt;<i> subtree&quot;.
</I>&gt;<i> 
</I>&gt;<i> So 3.2's . should be the equivalent of 3.0 or 3.1's &quot;(. | ^(. .+))&quot;. 
</I>&gt;<i> (Whether that's actually the case or not, I don't know.)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ie. given a rule:
</I>&gt;<i>   rule : ^(ROOT a=. b=. c=.) ;
</I>&gt;<i> 
</I>&gt;<i> under 3.0/3.1 people were reporting:
</I>&gt;<i>   input = ^(ROOT ID ^(BLOCK ONE TWO) THREE)
</I>&gt;<i>   a = ID
</I>&gt;<i>   b = BLOCK
</I>&gt;<i>   c = DOWN
</I>&gt;<i> (I think.  c might have been ONE or THREE instead [I don't remember],
</I>&gt;<i> but b wasn't the whole subtree.)
</I>&gt;<i> 
</I>&gt;<i> Under 3.2 it's supposed to do what you'd expect.  (Again, whether it
</I>&gt;<i> does or not...)
</I>&gt;<i> 
</I>&gt;<i> 
</I>
This email and any attachments are intended for the sole use of the named recipient(s) and contain(s) confidential information that may be proprietary, privileged or copyrighted under applicable law. If you are not the intended recipient, do not read, copy, or forward this email message or any attachments. Delete this email message and any attachments immediately.


</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037088.html">[antlr-interest] Antlr-3.2 C# Target:	RecognitionException.csConstructor Bug
</A></li>
	<LI>Next message: <A HREF="037094.html">[antlr-interest] Bug (difference) in ANTLR 3.2 tree  matching.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37093">[ date ]</a>
              <a href="thread.html#37093">[ thread ]</a>
              <a href="subject.html#37093">[ subject ]</a>
              <a href="author.html#37093">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
