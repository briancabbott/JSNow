<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> Antlr v3 &amp; Trees (was: [antlr-interest] if-then-else - Grammar generates faulty parser code)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Antlr%20v3%20%26%20Trees%20%28was%3A%20%5Bantlr-interest%5D%20if-then-else%20-%20Grammar%20generates%20faulty%20parser%20code%29&In-Reply-To=16520.10715.388715.993606%40despot.non.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007578.html">
   <LINK REL="Next"  HREF="007585.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Antlr v3 &amp; Trees (was: [antlr-interest] if-then-else - Grammar generates faulty parser code)</H1>
    <B>Monty Zukowski</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Antlr%20v3%20%26%20Trees%20%28was%3A%20%5Bantlr-interest%5D%20if-then-else%20-%20Grammar%20generates%20faulty%20parser%20code%29&In-Reply-To=16520.10715.388715.993606%40despot.non.net"
       TITLE="Antlr v3 &amp; Trees (was: [antlr-interest] if-then-else - Grammar generates faulty parser code)">monty at codetransform.com
       </A><BR>
    <I>Thu Apr 22 13:48:56 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007578.html">Antlr v3 &amp; Trees (was: [antlr-interest] if-then-else - Grammar generates faulty parser code)
</A></li>
        <LI>Next message: <A HREF="007585.html">Antlr v3 &amp; Trees (was: [antlr-interest] if-then-else - Grammar generates faulty parser code)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7584">[ date ]</a>
              <a href="thread.html#7584">[ thread ]</a>
              <a href="subject.html#7584">[ subject ]</a>
              <a href="author.html#7584">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Apr 22, 2004, at 1:23 PM, John D. Mitchell wrote:

&gt;<i> I'm perplexed.  Do you have some example where the addition of an 
</I>&gt;<i> imaginary
</I>&gt;<i> node is some kind of problem?  The only examples that I can think of 
</I>&gt;<i> would
</I>&gt;<i> all be issues of a very poorly designed tree to begin with.
</I>
Consider the following tree grammar fragment:

Example A:

selectStatement
	:
	queryExpression
	(computeClause)?
	(forClause)?
	(optionClause)?
	;

computeClause
	:
	#(COMPUTE
		(identifier expression)+
		(BY (expression)+)?
          )
	;

My initial thought was to not have computeClause (and others) be 
optional.  Instead I would have a node like COMPUTE_NULL.  But why?  
I'm serious, what exactly are the advantages of the following?

Example B:

selectStatement
	:
	queryExpression
	computeClause
	forClause
	optionClause
	;

computeClause
	:
	COMPUTE_NULL
	| #(COMPUTE
		(identifier expression)+
		(BY (expression)+)?
          )
	;

I know I'm being pedantic, but I really am struggling to justify my 
urge to give trees firm positional structure.  But maybe it's just me.  
Which would you favor and why?  To me A is looking succinct, is 
unambiguous, and results in a leaner tree.  B is more rigid but does 
not seem to save on computation, it only defers the decision until 
inside computeClause.  And if I'm totally off base with even suggesting 
B then help me refine when it is good practice to go for the tree which 
favors empty placeholder nodes.

And there may be other alternative examples.  Jump in any time folks :)

Monty Zukowski

ANTLR &amp; Java Consultant -- <A HREF="http://www.codetransform.com">http://www.codetransform.com</A>
ANSI C/GCC transformation toolkit -- 
<A HREF="http://www.codetransform.com/gcc.html">http://www.codetransform.com/gcc.html</A>
Embrace the Decay -- <A HREF="http://www.codetransform.com/EmbraceDecay.html">http://www.codetransform.com/EmbraceDecay.html</A>




 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007578.html">Antlr v3 &amp; Trees (was: [antlr-interest] if-then-else - Grammar generates faulty parser code)
</A></li>
	<LI>Next message: <A HREF="007585.html">Antlr v3 &amp; Trees (was: [antlr-interest] if-then-else - Grammar generates faulty parser code)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7584">[ date ]</a>
              <a href="thread.html#7584">[ thread ]</a>
              <a href="subject.html#7584">[ subject ]</a>
              <a href="author.html#7584">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
