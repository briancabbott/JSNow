<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Need help getting char * string from an ID
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Need%20help%20getting%20char%20%2A%20string%20from%20an%20ID&In-Reply-To=%3C011301cb9e15%24ed98d870%24c8ca8950%24%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040357.html">
   <LINK REL="Next"  HREF="040358.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Need help getting char * string from an ID</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Need%20help%20getting%20char%20%2A%20string%20from%20an%20ID&In-Reply-To=%3C011301cb9e15%24ed98d870%24c8ca8950%24%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Need help getting char * string from an ID">jimi at temporal-wave.com
       </A><BR>
    <I>Fri Dec 17 10:12:12 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="040357.html">[antlr-interest] Need help getting char * string from an ID
</A></li>
        <LI>Next message: <A HREF="040358.html">[antlr-interest] C api documentation.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40359">[ date ]</a>
              <a href="thread.html#40359">[ thread ]</a>
              <a href="subject.html#40359">[ subject ]</a>
              <a href="author.html#40359">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Use antlr.markmail.org and search for how to do this, ot used the example
gramamrs as guides. Using $ID.text-&gt;chars is easy with the C target but it
will acculate all the memory you yse for the strings until you free the
parser object (and it also isn't that fast to do that), whereas you can uuse
the commontoken fields to gind the start and end of the text that represents
the token and copy/print/etc directly from the input text.

Again, download the examples and look at the C parser in there.

jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Jeffrey Newman
</I>&gt;<i> Sent: Thursday, December 16, 2010 5:01 PM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] Need help getting char * string from an ID
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> I'm still trying to bring up my first test parser with the C runtime.
</I>&gt;<i> I'm using Qt, so I have translate from C to C++ and Qt's runtime.
</I>&gt;<i> 
</I>&gt;<i> I have most of working, except I have not been able to get the ID
</I>&gt;<i> string.
</I>&gt;<i> 
</I>&gt;<i> Here is the grammar:
</I>&gt;<i> 
</I>&gt;<i> grammar T;
</I>&gt;<i> 
</I>&gt;<i> options {
</I>&gt;<i> 	language = C;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> @header {
</I>&gt;<i> 	#include &quot;../parserBindings.h&quot;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> @members {
</I>&gt;<i> 	char buffer[256];
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> r : 'call' ID ';' {
</I>&gt;<i> 		sprintf(buffer, &quot;Invoked with: \%s&quot;, $ID.text);
</I>&gt;<i> 		debug(buffer);
</I>&gt;<i> 	} ;
</I>&gt;<i> 
</I>&gt;<i> ID: 'a'..'z'+ ;
</I>&gt;<i> WS: (' ' | '\n' | '\r')+ {$channel=HIDDEN;};
</I>&gt;<i> 
</I>&gt;<i> The generated code in TParser looks like.
</I>&gt;<i> 
</I>&gt;<i> sprintf(buffer, &quot;Invoked with: %s&quot;, (ID1-&gt;getText(ID1)));
</I>&gt;<i> debug(buffer);
</I>&gt;<i> 
</I>&gt;<i> where debug is a simple function in my C to C++ bindings.
</I>&gt;<i> 
</I>&gt;<i> So, how do I get a string from the grammar?
</I>&gt;<i> Please direct me to an example in C.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> thanks
</I>&gt;<i> 
</I>&gt;<i> Jeffrey
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> email-address
</I>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040357.html">[antlr-interest] Need help getting char * string from an ID
</A></li>
	<LI>Next message: <A HREF="040358.html">[antlr-interest] C api documentation.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40359">[ date ]</a>
              <a href="thread.html#40359">[ thread ]</a>
              <a href="subject.html#40359">[ subject ]</a>
              <a href="author.html#40359">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
