<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Getting cast exceptions in generated code for	customized tree
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Getting%20cast%20exceptions%20in%20generated%20code%20for%0A%09customized%20tree&In-Reply-To=%3C6535fcb50908131245t46b2276vd6abf6e700060a2e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035573.html">
   <LINK REL="Next"  HREF="035572.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Getting cast exceptions in generated code for	customized tree</H1>
    <B>Marwan Ajraoui</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Getting%20cast%20exceptions%20in%20generated%20code%20for%0A%09customized%20tree&In-Reply-To=%3C6535fcb50908131245t46b2276vd6abf6e700060a2e%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Getting cast exceptions in generated code for	customized tree">marwan.alephn at gmail.com
       </A><BR>
    <I>Thu Aug 13 12:45:50 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="035573.html">[antlr-interest] Simple Grammar breaks ANTLRWorks Interpreter &amp; Debugger?
</A></li>
        <LI>Next message: <A HREF="035572.html">[antlr-interest] There is any documetation I can check;	Fwd: How should I extend 	CommonTreeNodeStream?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35571">[ date ]</a>
              <a href="thread.html#35571">[ thread ]</a>
              <a href="subject.html#35571">[ subject ]</a>
              <a href="author.html#35571">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there;

I did define a customized node, extending a commonTree, defined an
adaptor extending a  CommonTreeAdaptor, for my semantic analysis.

I did extend as well CommonErrorNode;

And now myAdaptor look like:

public class BTLTreeAdaptor extends CommonTreeAdaptor{
       @Override
       public Object create(Token payload) {
               return new BTLNodeTree(payload);
       }
       @Override
       public Object errorNode(TokenStream input, Token start, Token stop,
RecognitionException e) {
               return new BTLErrorNode(input, start, stop, e);
       }

Now I supose, that I have to extend CommonTreeNodeStream because I'm
getting a classCastExcpetion, I didn't find any information in the
book:
The Definitive ANTLR Reference, about how to deal with that. I'm using
ANTLR v3.1.

How should I extend CommonTreeNodeStream? Do I need to change my
adaptor or something else? My customized node tree has just few
attributes, to allow the walker to analyze the semantic of the
language I'm defining.

My customized node tree look like:

public class BTLNodeTree extends CommonTree {

       public Identificador identificador;
       public SymbolConst symbolConst;
       public String expType = &quot;&quot;;
       public String expSecType = &quot;&quot;;

       public BTLNodeTree(Token t)
       {
                super(t);
       }
}


Thx in advance for your help,

Cheers

-- 
Marouane
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035573.html">[antlr-interest] Simple Grammar breaks ANTLRWorks Interpreter &amp; Debugger?
</A></li>
	<LI>Next message: <A HREF="035572.html">[antlr-interest] There is any documetation I can check;	Fwd: How should I extend 	CommonTreeNodeStream?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35571">[ date ]</a>
              <a href="thread.html#35571">[ thread ]</a>
              <a href="subject.html#35571">[ subject ]</a>
              <a href="author.html#35571">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
