<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR 3 matching an exact number or bounded number of items
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR%203%20matching%20an%20exact%20number%20or%20bounded%0A%20number%20of%20items&In-Reply-To=%3CAANLkTinTVKv9%3DkfSA6XNFpLh8f7zNtJvnAtjZsK_yyZZ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040973.html">
   <LINK REL="Next"  HREF="040974.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR 3 matching an exact number or bounded number of items</H1>
    <B>The Researcher</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR%203%20matching%20an%20exact%20number%20or%20bounded%0A%20number%20of%20items&In-Reply-To=%3CAANLkTinTVKv9%3DkfSA6XNFpLh8f7zNtJvnAtjZsK_yyZZ%40mail.gmail.com%3E"
       TITLE="[antlr-interest] ANTLR 3 matching an exact number or bounded number of items">researcher0x00 at gmail.com
       </A><BR>
    <I>Wed Mar  2 19:04:49 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="040973.html">[antlr-interest] ANTLR 3 matching an exact number or bounded number	of items
</A></li>
        <LI>Next message: <A HREF="040974.html">[antlr-interest] ANTLR 3 matching an exact number or bounded number of items
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40975">[ date ]</a>
              <a href="thread.html#40975">[ thread ]</a>
              <a href="subject.html#40975">[ subject ]</a>
              <a href="author.html#40975">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the feedback.

I am working on reading binary file structures and have set K=0 because the
file should be able to read without look ahead. Thus the need for exact
bounds. The parser gets only two types of tokens, one is the next byte, or
the EOF token that's it. It actually doesn't even have a lexer, it uses a
hand built token stream. &lt; I didn't get a memo saying I needed one&gt;

The methods you suggested did work for me on the simple test cases, but once
a few levels of nesting of the structures with fixed element bounds were
seen by ANTLR, it's analysis kicked in and started reporting
error(201) The following alternatives can never be matched.
The strategic use of {...}?=&gt; is the only strategy that is allowing the
build to succeed.

The regular expression tools I use support the bounded syntax, and I was
hoping the ANTLR would have it and that I was just not able to find it.

Again thanks for the response, it nice to know I didn't miss any option.


On Wed, Mar 2, 2011 at 9:20 PM, Kevin J. Cummings &lt;
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cummings at kjchome.homeip.net</A>&gt; wrote:

&gt;<i>  On 03/02/2011 09:09 PM, The Researcher wrote:
</I>&gt;<i> &gt; Does ANTLR 3 have built-in support for matching an exact number or
</I>&gt;<i> bounded
</I>&gt;<i> &gt; number of items that does not rely on using {...}?=&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; e.g for a 32 bit value of four bytes the rule statement would be
</I>&gt;<i> &gt;     byte[4]
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; or for an a structure that has a bound of elements between 1 and 16 the
</I>&gt;<i> rule
</I>&gt;<i> &gt; statement would be
</I>&gt;<i> &gt;     struc[1:16]
</I>&gt;<i> &gt; While ANTLR 3 uses [ ] for rule parameters, here [ ] is used to signify
</I>&gt;<i> &gt; element bounds.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have looked high and low for this, and found nothing tangible.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Abusing {...}?=&gt; works, but I would like to stop abusing it.
</I>&gt;<i>
</I>&gt;<i> Set up the action code for your rule to count the number of elements
</I>&gt;<i> matched.  When you exceed the number you need, have the action output an
</I>&gt;<i> error, or raise an exception, or, ....
</I>&gt;<i>
</I>&gt;<i> Or you can abuse gated semantic predicates.
</I>&gt;<i>
</I>&gt;<i> &gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Kevin J. Cummings
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">kjchome at verizon.net</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cummings at kjchome.homeip.net</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cummings at kjc386.framingham.ma.us</A>
</I>&gt;<i> Registered Linux User #1232 (<A HREF="http://counter.li.org">http://counter.li.org</A>)
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I></PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040973.html">[antlr-interest] ANTLR 3 matching an exact number or bounded number	of items
</A></li>
	<LI>Next message: <A HREF="040974.html">[antlr-interest] ANTLR 3 matching an exact number or bounded number of items
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40975">[ date ]</a>
              <a href="thread.html#40975">[ thread ]</a>
              <a href="subject.html#40975">[ subject ]</a>
              <a href="author.html#40975">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
