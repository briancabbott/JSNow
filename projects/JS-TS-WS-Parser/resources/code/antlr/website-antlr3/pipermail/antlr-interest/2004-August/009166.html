<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR274 for C++: Why do I get those warnings on MSVS.NET 7.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ANTLR274%20for%20C%2B%2B%3A%20Why%20do%20I%20get%20those%20warnings%20on%20MSVS.NET%207.1&In-Reply-To=cgi8f4%2Bkn16%40eGroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009165.html">
   <LINK REL="Next"  HREF="009172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR274 for C++: Why do I get those warnings on MSVS.NET 7.1</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ANTLR274%20for%20C%2B%2B%3A%20Why%20do%20I%20get%20those%20warnings%20on%20MSVS.NET%207.1&In-Reply-To=cgi8f4%2Bkn16%40eGroups.com"
       TITLE="[antlr-interest] ANTLR274 for C++: Why do I get those warnings on MSVS.NET 7.1">klaren at cs.utwente.nl
       </A><BR>
    <I>Wed Aug 25 08:56:46 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009165.html">[antlr-interest] ANTLR274 for C++: Why do I get those warnings on MSVS.NET 7.1
</A></li>
        <LI>Next message: <A HREF="009172.html">[antlr-interest] Graphs and Grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9166">[ date ]</a>
              <a href="thread.html#9166">[ thread ]</a>
              <a href="subject.html#9166">[ subject ]</a>
              <a href="author.html#9166">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Aug 25, 2004 at 02:41:40PM -0000, Francis ANDRE wrote:
&gt;<i> I am using antlr/cpp generation targeted for MSVS .NET 7.1. Why do I
</I>&gt;<i> get those warnings:
</I>&gt;<i>
</I>&gt;<i> d:\antlr-2.7.4\lib\cpp\antlr\ANTLRException.hpp(53) : warning
</I>&gt;<i> C4251: 'antlr::ANTLRException::text'&#160;:
</I>&gt;<i> class 'std::basic_string&lt;_Elem,_Traits,_Ax&gt;' n&#233;cessite une interface
</I>&gt;<i> DLL pour &#234;tre utilis&#233;(e) par les clients de
</I>&gt;<i> class 'antlr::ANTLRException'
</I>&gt;<i>         with
</I>&gt;<i>         [
</I>&gt;<i>             _Elem=char,
</I>&gt;<i>             _Traits=std::char_traits&lt;char&gt;,
</I>&gt;<i>             _Ax=std::allocator&lt;char&gt;
</I>&gt;<i>         ]
</I>&gt;<i> d:\antlr-2.7.4\lib\cpp\antlr\RecognitionException.hpp(66) : warning
</I>&gt;<i> C4251: 'antlr::RecognitionException::fileName'&#160;:
</I>&gt;<i> class 'std::basic_string&lt;_Elem,_Traits,_Ax&gt;' n&#233;cessite une interface
</I>&gt;<i> DLL pour &#234;tre utilis&#233;(e) par les clients de
</I>&gt;<i> class 'antlr::RecognitionException'
</I>&gt;<i>         with
</I>&gt;<i>         [
</I>&gt;<i>             _Elem=char,
</I>&gt;<i>             _Traits=std::char_traits&lt;char&gt;,
</I>&gt;<i>             _Ax=std::allocator&lt;char&gt;
</I>&gt;<i>         ]
</I>&gt;<i>
</I>&gt;<i> It seems that the ANTLR_API should also be placed on th definition of
</I>&gt;<i> text and filename but when doing so, there is a compile error!!
</I>&gt;<i>
</I>&gt;<i> Any suggestions???
</I>
I'm afraid I'm no MSVC user. So I can't help much with these errors. The
last reports I had were that MSVC7.1 should work out of the box if the DLL
instructions from lib/cpp/README are followed. e.g:

Define ANTLR_EXPORTS when building the ANTLR DLL. Define ANTLR_IMPORTS when
building the program that should use the DLL. Leave them undefined for a
static build.

Try static linking if DLL's give trouble. DLL's and STL seem still good for
headaches on MSVC. Sometimes it also helps to move the whole compiler
together with the ANTLR support lib into one DLL.

A long shot might be to move all the offending class constructors to a .cpp
file. If this is due to inlining it could make sense but I'm mostly
clueless with regard to MSVC.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">j.klaren at utwente.nl</A> ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet


 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
    <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
    <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
    <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009165.html">[antlr-interest] ANTLR274 for C++: Why do I get those warnings on MSVS.NET 7.1
</A></li>
	<LI>Next message: <A HREF="009172.html">[antlr-interest] Graphs and Grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9166">[ date ]</a>
              <a href="thread.html#9166">[ thread ]</a>
              <a href="subject.html#9166">[ subject ]</a>
              <a href="author.html#9166">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
