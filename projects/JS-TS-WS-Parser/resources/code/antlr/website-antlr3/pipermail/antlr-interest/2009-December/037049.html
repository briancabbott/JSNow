<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer and Java keywords
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20and%20Java%20keywords&In-Reply-To=%3C086dee3592fd334cbd745689603a9703%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037043.html">
   <LINK REL="Next"  HREF="036964.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer and Java keywords</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20and%20Java%20keywords&In-Reply-To=%3C086dee3592fd334cbd745689603a9703%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Lexer and Java keywords">jimi at temporal-wave.com
       </A><BR>
    <I>Sun Dec 13 10:09:42 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="037043.html">[antlr-interest] Lexer and Java keywords
</A></li>
        <LI>Next message: <A HREF="036964.html">[antlr-interest] Bug (difference) in ANTLR 3.2 tree matching.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37049">[ date ]</a>
              <a href="thread.html#37049">[ thread ]</a>
              <a href="subject.html#37049">[ subject ]</a>
              <a href="author.html#37049">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>ANTLR can only know so much from your grammar and in a lexer, when it sees a character it doesn't understand it can only show an error, consume it and move on. The error will not mean much to the user. The idea is leave errors to be reported as high up the tool chain as you can (in general) as you have context for the error whereas ANTLR does not, so your error would be &quot;'x' is not a valid character for identifier use', hence you match ID with the inverse set of things that definitely must be in a different token, then check that what you gathered is a good identifier - otherwise you just get 'Invalid character...', which is much less useful. ANTLR knows only that 'this does not belong here'.

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Marcin Rzeznicki [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">marcin.rzeznicki at gmail.com</A>]
</I>&gt;<i> Sent: Sunday, December 13, 2009 8:16 AM
</I>&gt;<i> To: Sam Harwell
</I>&gt;<i> Cc: Jim Idle; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: Re: [antlr-interest] Lexer and Java keywords
</I>&gt;<i> 
</I>&gt;<i> 2009/12/10 Sam Harwell &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sharwell at pixelminegames.com</A>&gt;:
</I>&gt;<i> &gt; You're making this too complicated. Parse the identifier as loosely
</I>&gt;<i> as absolutely possible. Many improper identifiers actually don't cause
</I>&gt;<i> any problems in parsing, so you can treat them as valid and provide
</I>&gt;<i> compiler error messages like semantics problems in post-AST analysis -
</I>&gt;<i> the identifiers are just string literal keys to reference code
</I>&gt;<i> constructs. After you perform semantic analysis check each identifier
</I>&gt;<i> (variable and method names, etc.) by calling the Character class
</I>&gt;<i> methods. Log the errors, but you don't have to stop the analysis from
</I>&gt;<i> just that.
</I>&gt;<i> 
</I>&gt;<i> Right, but isn't it that ANTLR tries to, kind of, 'sync' the parser on
</I>&gt;<i> an error? So that it does not stop actually the analysis but catches
</I>&gt;<i> up?
</I>&gt;<i> 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The general rule is don't engineer your parser to fail until you can
</I>&gt;<i> no longer provide useful error messages. You can always manually stop
</I>&gt;<i> early - for example sometimes I throw an OperationCancelledException in
</I>&gt;<i> an error listener to stop a background parse for IDE IntelliSense after
</I>&gt;<i> a user-specified number of errors are logged.
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> Good idea, but isn't that what ANTLR automatically does? I mean - it
</I>&gt;<i> does not fail when it doesn't absolutely have to?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> Greetings
</I>&gt;<i> Marcin Rze&#378;nicki
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037043.html">[antlr-interest] Lexer and Java keywords
</A></li>
	<LI>Next message: <A HREF="036964.html">[antlr-interest] Bug (difference) in ANTLR 3.2 tree matching.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37049">[ date ]</a>
              <a href="thread.html#37049">[ thread ]</a>
              <a href="subject.html#37049">[ subject ]</a>
              <a href="author.html#37049">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
