<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Antlr bug?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Antlr%20bug%3F&In-Reply-To=%3CB36CCC332A32904F8FA3DE134A235336252369%40wavemachine.temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020239.html">
   <LINK REL="Next"  HREF="020241.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Antlr bug?</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Antlr%20bug%3F&In-Reply-To=%3CB36CCC332A32904F8FA3DE134A235336252369%40wavemachine.temporal-wave.com%3E"
       TITLE="[antlr-interest] Antlr bug?">jimi at temporal-wave.com
       </A><BR>
    <I>Mon Apr 16 17:00:22 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020239.html">[antlr-interest] Antlr bug?
</A></li>
        <LI>Next message: <A HREF="020241.html">[antlr-interest] Newbie Rule Rewrite
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20240">[ date ]</a>
              <a href="thread.html#20240">[ thread ]</a>
              <a href="subject.html#20240">[ subject ]</a>
              <a href="author.html#20240">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Miguel,

 

I remember seeing this somewhere, but I now do not remember if it was a
bug in my own grammar or indeed a code generation error. Anyway, I was
fairly sure that this was fixed (but I could be going mad). If it was
fixed, then in theory using the very latest ANLTRWorks will fix it,
unless it is really an ANTLRWorks bug. 

 

However, if you are running this in translation mode, try instead, the
debug mode (which is working again on ANTLRWorks b10).

 

I also recommend inserting an action to print out what you believe you
are gathering and running from the command line - this will tell you if
your grammar is sound etc.

 

Hope this helps a little.

 

Jim

 

From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Miguel Ping
Sent: Monday, April 16, 2007 4:40 PM
To: ANTLR Interest
Subject: [antlr-interest] Antlr bug?

 

Hi all,

I'm writing a sql 2 java translator, and I have a strange bug.

I got this query:

SELECT  p.prop1, a.prop2, b.prop3, c.prop4 from properties


and antlr generates me this tree:

select
SELECT_LIST
   COLUMN_REFERENCE_LIST
      TABLE_ID
         p
      .
      prop1
   ,
   COLUMN_REFERENCE_LIST
      TABLE_ID
         c
      .
      prop4
   ,
   COLUMN_REFERENCE_LIST 
      TABLE_ID
         c
      .
      prop4
   ,
   COLUMN_REFERENCE_LIST
      TABLE_ID
         c
      .
      prop4
from
TABLE_REFERENCE_LIST
   TABLE_ID
      properties


If you notice carefully, antlr is replacing all identifiers (table and
column ids)with the last one, except for the first. the tree should be
reading p,a,b,c TABLE_ID's and prop1,2,3,4 . This happens for an
arbitrarily big column list; only the first one gets it right. I think I
may have a bug with some list creation in my parser, but debugging in
antlrworks (great work btw, debugger is really neat) shows me the
correct identifiers. 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20070416/4ffe00b0/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20070416/4ffe00b0/attachment-0001.html</A> 
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020239.html">[antlr-interest] Antlr bug?
</A></li>
	<LI>Next message: <A HREF="020241.html">[antlr-interest] Newbie Rule Rewrite
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20240">[ date ]</a>
              <a href="thread.html#20240">[ thread ]</a>
              <a href="subject.html#20240">[ subject ]</a>
              <a href="author.html#20240">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
