<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Tokens that span across char streams
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Tokens%20that%20span%20across%20char%20streams&In-Reply-To=%3Cf6be20450908261830v118c2e40mb3a5010f1b3aaa3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035779.html">
   <LINK REL="Next"  HREF="035782.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Tokens that span across char streams</H1>
    <B>Stanislav Sokorac</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Tokens%20that%20span%20across%20char%20streams&In-Reply-To=%3Cf6be20450908261830v118c2e40mb3a5010f1b3aaa3%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Tokens that span across char streams">sokorac at gmail.com
       </A><BR>
    <I>Wed Aug 26 18:30:24 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="035779.html">[antlr-interest] Tokens that span across char streams
</A></li>
        <LI>Next message: <A HREF="035782.html">[antlr-interest] Tokens that span across char streams
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35781">[ date ]</a>
              <a href="thread.html#35781">[ thread ]</a>
              <a href="subject.html#35781">[ subject ]</a>
              <a href="author.html#35781">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I guess the tricky thing will be to insert this functionality without
significantly adding to the run time.. If the stream has to check for
macros, and also mux between the regular stream and the macro definition,
I'm adding two 'if' checks on every single character. Maybe more if I'm also
selectively updating character positions.

I could have the lexer signal to the stream when the switch is needed to
remove one of those, at least.

Or am I over-optimizing here, is lexer already doing way more on every
character than I'm talking about here? I am going to be running into some
significantly large files, so I'd like to avoid overhead wherever I can...

Stan

On Wed, Aug 26, 2009 at 8:31 PM, David-Sarah Hopwood &lt;
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">david-sarah at jacaranda.org</A>&gt; wrote:

&gt;<i> Stanislav Sokorac wrote:
</I>&gt;<i> &gt; Who keeps track of line numbers and character positions? The char stream,
</I>&gt;<i> or
</I>&gt;<i> &gt; the lexer?
</I>&gt;<i>
</I>&gt;<i> The char stream. It's actually fairly straightforward to override in your
</I>&gt;<i> own subclass -- look at the source code for the consume method of
</I>&gt;<i> ANTLRStringStream, for example:
</I>&gt;<i> &lt;
</I>&gt;<i> <A HREF="http://www.antlr.org/api/Java/_a_n_t_l_r_string_stream_8java-source.html#l00097">http://www.antlr.org/api/Java/_a_n_t_l_r_string_stream_8java-source.html#l00097</A>
</I>&gt;<i> &gt;.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> David-Sarah Hopwood  &#9893;  <A HREF="http://davidsarah.livejournal.com">http://davidsarah.livejournal.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090826/e32dced5/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090826/e32dced5/attachment.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035779.html">[antlr-interest] Tokens that span across char streams
</A></li>
	<LI>Next message: <A HREF="035782.html">[antlr-interest] Tokens that span across char streams
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35781">[ date ]</a>
              <a href="thread.html#35781">[ thread ]</a>
              <a href="subject.html#35781">[ subject ]</a>
              <a href="author.html#35781">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
