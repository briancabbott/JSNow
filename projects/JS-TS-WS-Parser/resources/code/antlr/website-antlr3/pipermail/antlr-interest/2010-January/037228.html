<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] tracking token position when original file is	pre-processed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20tracking%20token%20position%20when%20original%20file%20is%0A%09pre-processed&In-Reply-To=%3C4B4537C4.3000001%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037234.html">
   <LINK REL="Next"  HREF="037230.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] tracking token position when original file is	pre-processed</H1>
    <B>Bob Frankel</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20tracking%20token%20position%20when%20original%20file%20is%0A%09pre-processed&In-Reply-To=%3C4B4537C4.3000001%40gmail.com%3E"
       TITLE="[antlr-interest] tracking token position when original file is	pre-processed">bios.bob.frankel at gmail.com
       </A><BR>
    <I>Wed Jan  6 17:24:20 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037234.html">[antlr-interest] printed finally: Language implementation	patterns
</A></li>
        <LI>Next message: <A HREF="037230.html">[antlr-interest] tracking token position when original file is	pre-processed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37228">[ date ]</a>
              <a href="thread.html#37228">[ thread ]</a>
              <a href="subject.html#37228">[ subject ]</a>
              <a href="author.html#37228">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>my language has a simple pre-processor that expands text of the form 
${&lt;env-var-name&gt;} as a first phase of translation; the expanded stream 
is then input to my ANTLRInputStream, where it proceeds onward to the 
lexer/parser in the usual fashion.  said another way, neither the lexer 
nor the parser is aware of the ${...} construct.

needless to say, character-position information (eg., token start/stop) 
are relative to the expanded stream and not the original file; this 
creates an problem, of course, when error indicators are not correctly 
positioned in the original source file (as i'm doing through some editor 
integration inside eclipse).

is there some pattern and/or (simple!) example that illustrates a 
technique for managing this situation; is there some way (say) i might 
embedded the equivalent of #line directives in the expanded stream which 
are then stripped further downstream while adjusting token offsets???


</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037234.html">[antlr-interest] printed finally: Language implementation	patterns
</A></li>
	<LI>Next message: <A HREF="037230.html">[antlr-interest] tracking token position when original file is	pre-processed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37228">[ date ]</a>
              <a href="thread.html#37228">[ thread ]</a>
              <a href="subject.html#37228">[ subject ]</a>
              <a href="author.html#37228">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
