<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer bug?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20bug%3F&In-Reply-To=%3C8367efd50710220755v71053500m524b16a91828357%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024296.html">
   <LINK REL="Next"  HREF="024305.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer bug?</H1>
    <B>Kenny MacDermid</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20bug%3F&In-Reply-To=%3C8367efd50710220755v71053500m524b16a91828357%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Lexer bug?">kenny at kmdconsulting.ca
       </A><BR>
    <I>Mon Oct 22 07:55:58 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024296.html">[antlr-interest] Lexer bug?
</A></li>
        <LI>Next message: <A HREF="024305.html">[antlr-interest] Lexer bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24304">[ date ]</a>
              <a href="thread.html#24304">[ thread ]</a>
              <a href="subject.html#24304">[ subject ]</a>
              <a href="author.html#24304">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/21/07, Gavin Lambert &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at mirality.co.nz</A>&gt; wrote:
&gt;<i> At 13:49 22/10/2007, Clifford Heath wrote:
</I>&gt;<i>  &gt;This rule consumes digits and one &quot;.&quot;, then stops - and that's not
</I>&gt;<i>  &gt;a legal token.
</I>&gt;<i>
</I>&gt;<i> I've been complaining off and on about similar cases since the
</I>&gt;<i> early betas.  Some useful discussion came up a while back that the
</I>&gt;<i> predefined &quot;Tokens&quot; rule was being generated on the basis of
</I>&gt;<i> matching only one token, and all the lookahead is generated from
</I>&gt;<i> that same perspective; whereas if it were generated to match a
</I>&gt;<i> sequence of tokens instead it generated better lookahead.
</I>&gt;<i>
</I>&gt;<i> &lt;snip&gt;
</I>&gt;<i>
</I>&gt;<i> Whenever this comes up (and it does come up a lot), the answer
</I>&gt;<i> from Ter and Jim always seems to be &quot;it's supposed to do that&quot;,
</I>&gt;<i> and &quot;rewrite your lexer rules&quot; (usually involving syntactic
</I>&gt;<i> predicates in some way).  My point is that the current behaviour
</I>&gt;<i> is completely counter-intuitive (and hence &quot;wrong&quot;, from my
</I>&gt;<i> viewpoint), and while rewriting the lexer rules can often work
</I>&gt;<i> around it, we shouldn't have to.  (And it's a lot messier.)
</I>&gt;<i>
</I>
I have to say I agree with Gavin in this case. I'm new to antlr 3, but
rules that I just expected to work often require a lot of tomfoolery
to match what I'm expecting. I haven't ever used antlr2, but I have
been using the same types of cases in ragel where this occurs
naturally for you (as they generate FSMs for the input, so you just
have to look at the last final state when the next char isn't
accepted).

Kenny
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024296.html">[antlr-interest] Lexer bug?
</A></li>
	<LI>Next message: <A HREF="024305.html">[antlr-interest] Lexer bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24304">[ date ]</a>
              <a href="thread.html#24304">[ thread ]</a>
              <a href="subject.html#24304">[ subject ]</a>
              <a href="author.html#24304">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
