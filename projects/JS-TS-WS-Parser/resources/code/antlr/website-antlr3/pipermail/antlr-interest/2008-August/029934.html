<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] How to get a list of all valid options for	the	next token?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20How%20to%20get%20a%20list%20of%20all%20valid%20options%20for%09the%0A%09next%20token%3F&In-Reply-To=%3C20080814010528.547434zzohe5rt2c%40horde.verrech.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029885.html">
   <LINK REL="Next"  HREF="029938.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] How to get a list of all valid options for	the	next token?</H1>
    <B>Raphael Reitzig</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20How%20to%20get%20a%20list%20of%20all%20valid%20options%20for%09the%0A%09next%20token%3F&In-Reply-To=%3C20080814010528.547434zzohe5rt2c%40horde.verrech.net%3E"
       TITLE="[antlr-interest] How to get a list of all valid options for	the	next token?">r_reitzi at cs.uni-kl.de
       </A><BR>
    <I>Wed Aug 13 16:05:28 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029885.html">[antlr-interest] How to get a list of all valid options for the	next token?
</A></li>
        <LI>Next message: <A HREF="029938.html">[antlr-interest] How to get a list of all valid options for	the	next token?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29934">[ date ]</a>
              <a href="thread.html#29934">[ thread ]</a>
              <a href="subject.html#29934">[ subject ]</a>
              <a href="author.html#29934">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I understand that ANTLR does _not_ know which alternatives are  
possible in next step, but it tries one alternative after the other,  
taking the first that works. So, your request would mean to look ahead  
in all alternatives. This is, I suppose a rather special thing you  
won't find in ANTLR.

You mentioned syntax highlighting. This is a different thing. Syntax  
highlighting does not show you: &quot;Well, you could start an variable  
declaration, an assignment, an if statement, ..., here&quot;, but only  
available methods on objects (at least those IDEs I know). This is  
stuff you can gather from sources/object files, store somewhere  
central staticaly. No need to look something up in any gramar while  
you're typing.

Regards

Raphael

&quot;Niemeijer, R.A.&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">r.a.niemeijer at tue.nl</A>&gt; wrote (Wed Aug 13 13:02:41 2008):

&gt;<i> No problem, thanks anyway.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Does anyone else have any idea how to do this?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks in advance.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: Foust [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">javafoust at gmail.com</A>]
</I>&gt;<i> Sent: woensdag 13 augustus 2008 12:44
</I>&gt;<i> To: Niemeijer, R.A.
</I>&gt;<i> Subject: RE: [antlr-interest] How to get a list of all valid options for
</I>&gt;<i> the next token?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Yes, it's certainly possible to make my own check. However, that means
</I>&gt;<i> I'm basically duplicating
</I>&gt;<i>
</I>&gt;&gt;<i> my grammar, which makes it more difficult to maintain. The reason I
</I>&gt;<i> wanted to get the information
</I>&gt;<i>
</I>&gt;&gt;<i> from Antlr is that it should already know all the possible token
</I>&gt;<i> combinations.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> OK, well it sounds like you know what you're doing.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sorry I wasn't able to help more,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Brent
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: Niemeijer, R.A. [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">r.a.niemeijer at tue.nl</A>]
</I>&gt;<i> Sent: Wednesday, August 13, 2008 3:06 AM
</I>&gt;<i> To: Foust
</I>&gt;<i> Cc:
</I>&gt;<i> Subject: RE: [antlr-interest] How to get a list of all valid options for
</I>&gt;<i> the next token?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yes, it's certainly possible to make my own check. However, that means
</I>&gt;<i> I'm basically duplicating my grammar, which makes it more difficult to
</I>&gt;<i> maintain. The reason I wanted to get the information from Antlr is that
</I>&gt;<i> it should already know all the possible token combinations.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: Foust [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">javafoust at gmail.com</A>]
</I>&gt;<i> Sent: woensdag 13 augustus 2008 11:58
</I>&gt;<i> To: Niemeijer, R.A.
</I>&gt;<i> Subject: RE: [antlr-interest] How to get a list of all valid options for
</I>&gt;<i> the next token?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yes, I didn't understand exactly what you're trying to do (and probably
</I>&gt;<i> still don't). If you're thinking of it like an Intellisense problem,
</I>&gt;<i> then there are other ways of solving that kind of problem without using
</I>&gt;<i> a parser-generator like Antlr. Have you already considered those?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It sounds like your problem is a bit different than the code editor's -
</I>&gt;<i> simpler, actually. Whatever rules you use to decide what pieces can go
</I>&gt;<i> where may be more easily expressed with a custom solution.  You could
</I>&gt;<i> use Antlr to parse any text input, but call custom code to make sense of
</I>&gt;<i> it and decide what the set of following pieces is. This would not only
</I>&gt;<i> be more efficient, but would be far less frustrating to develop, since
</I>&gt;<i> you have full control over the decision mechanism and can customize the
</I>&gt;<i> underlying data structures to fit the task. Depending upon how simple
</I>&gt;<i> your sequencing rules are, you might even be able to use a regular
</I>&gt;<i> expression solution, if you can choose the text representation of the
</I>&gt;<i> pieces.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Brent
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: Niemeijer, R.A. [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">r.a.niemeijer at tue.nl</A>]
</I>&gt;<i> Sent: Wednesday, August 13, 2008 12:13 AM
</I>&gt;<i> To: Foust
</I>&gt;<i> Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: RE: [antlr-interest] How to get a list of all valid options for
</I>&gt;<i> the next token?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello Brent,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It seems my question wasn't clear enough. I have no intention of having
</I>&gt;<i> a dynamic grammar. What I meant by disabling puzzle pieces is this: on
</I>&gt;<i> the left side of the screen there is a list of all the possible puzzle
</I>&gt;<i> pieces, a library if you will. From there the user drags pieces to the
</I>&gt;<i> right side of the screen to form sequences of puzzle pieces. What I want
</I>&gt;<i> to do is disable the pieces in the library. An alternative way of
</I>&gt;<i> looking at it is seeing it as Intellisense/code completion. While the
</I>&gt;<i> user is typing (dragging pieces), I want to display a popup list of all
</I>&gt;<i> the possible words (pieces) that can come at the current position in the
</I>&gt;<i> sentence. The grammar itself is completely fixed, just like the grammar
</I>&gt;<i> of programming languages that allow code completion.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: Foust [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">javafoust at gmail.com</A>]
</I>&gt;<i> Sent: dinsdag 12 augustus 2008 22:14
</I>&gt;<i> To: Niemeijer, R.A.
</I>&gt;<i> Subject: RE: [antlr-interest] How to get a list of all valid options for
</I>&gt;<i> the next token?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> I want to disable all the pieces that cannot come at that point in the
</I>&gt;<i> sentence.
</I>&gt;<i>
</I>&gt;&gt;<i> I want to disable all the pieces that cannot come at that point in the
</I>&gt;<i> sentence.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> My guess is that this will be pretty difficult to implement using even
</I>&gt;<i> an augmented context-free grammar. Usually, you would parse any valid
</I>&gt;<i> sentence (a list of puzzle pieces, in your case), then do the semantic
</I>&gt;<i> analysis as a later pass (iterate over the actual puzzle pieces entered
</I>&gt;<i> and check each one for validity).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Multiple passes should make the code easier to write (as well as
</I>&gt;<i> maintain). And error reporting should be more intuitive. It's pretty
</I>&gt;<i> difficult to enforce all semantic meaning at the parse phase and still
</I>&gt;<i> output meaningful error messages.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If you really want to experiment with changing the grammar dynamically,
</I>&gt;<i> though, you could generate an AST in your parser for any valid sentence,
</I>&gt;<i> and then use semantic predicates in your tree grammar to turn on and off
</I>&gt;<i> certain rules. But I think you'll find that just adding validity checks
</I>&gt;<i> in your tree grammar actions will be the most straightforward, providing
</I>&gt;<i> all the advantages of a multi-pass interpreter.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Brent
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
</I>&gt;<i> [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Niemeijer, R.A.
</I>&gt;<i> Sent: Tuesday, August 12, 2008 2:57 AM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] How to get a list of all valid options for the
</I>&gt;<i> next token?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello everyone,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I'm making a program where users construct short sentences by combining
</I>&gt;<i> puzzle pieces. This series of puzzle pieces is then converted to text
</I>&gt;<i> and parsed by Antlr. Currently the user has access to all the different
</I>&gt;<i> pieces at any point in the sentence, even if the grammar would not be
</I>&gt;<i> able to parse this. I want to disable all the pieces that cannot come at
</I>&gt;<i> that point in the sentence.
</I>&gt;<i>
</I>&gt;<i> My idea was to do this with the help of the exceptions the parser
</I>&gt;<i> generates. For example, when it throws a MismatchedTokenException I can
</I>&gt;<i> find the expected token through the Expecting property of the exception.
</I>&gt;<i> Unfortunately this only works when there's only one possibility. When
</I>&gt;<i> there are multiple it instead throws a NoViableAltException or a
</I>&gt;<i> MismatchedSetException. I haven't been able to find a list of valid
</I>&gt;<i> following tokens in their properties.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Can anyone tell me if there is any way of determining the list of valid
</I>&gt;<i> tokens after the current token in the sentence?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks in advance.
</I>&gt;<i>
</I>&gt;<i>
</I>


----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 191 bytes
Desc: PGP Digital Signature
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080814/cbe6417c/attachment.bin">http://www.antlr.org/pipermail/antlr-interest/attachments/20080814/cbe6417c/attachment.bin</A> 
</PRE>










































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029885.html">[antlr-interest] How to get a list of all valid options for the	next token?
</A></li>
	<LI>Next message: <A HREF="029938.html">[antlr-interest] How to get a list of all valid options for	the	next token?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29934">[ date ]</a>
              <a href="thread.html#29934">[ thread ]</a>
              <a href="subject.html#29934">[ subject ]</a>
              <a href="author.html#29934">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
