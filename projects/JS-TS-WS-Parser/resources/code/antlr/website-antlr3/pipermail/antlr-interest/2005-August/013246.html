<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Please help me with homogeneous
	versus	heterogeneous trees!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Please%20help%20me%20with%20homogeneous%0A%09versus%09heterogeneous%20trees%21&In-Reply-To=6584858.1122675617267.JavaMail.root%40wamui-swiss.atl.sa.earthlink.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="013247.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Please help me with homogeneous
	versus	heterogeneous trees!</H1>
    <B>Paul Johnson</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Please%20help%20me%20with%20homogeneous%0A%09versus%09heterogeneous%20trees%21&In-Reply-To=6584858.1122675617267.JavaMail.root%40wamui-swiss.atl.sa.earthlink.net"
       TITLE="[antlr-interest] Re: Please help me with homogeneous
	versus	heterogeneous trees!">gt54-antlr at cyconix.com
       </A><BR>
    <I>Mon Aug  1 01:48:41 PDT 2005</I>
    <P><UL>
        
        <LI>Next message: <A HREF="013247.html">[antlr-interest] Exception on obscure char but then continue lexing?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13246">[ date ]</a>
              <a href="thread.html#13246">[ thread ]</a>
              <a href="subject.html#13246">[ subject ]</a>
              <a href="author.html#13246">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There's no right answer - just choose one, get on with it, and regret it 
at your leisure afterwards.

If you wanted a poll, then I (currently):

- use heterogeneous

- have about 120 node types

- don't use tree grammars

- 7 passes; 1 creates the tree, 2 further ones modify the tree structure

- do manual tree walks

- (very) occasionally have to look back up the tree for context

- the tree structures should be correct by design, but I still have lots 
of assertion checks in my walkers to manually validate the structure

This seems to work well.

Note that I *don't* have 120 source files for all these classes; that 
would be ridiculous. Very few classes need to override methods, and I 
combine 'functionality' into files, rather than 'types'. Sometimes I 
also find it simpler, clearer, and more maintainable just to 'switch' on 
a node's type than to use polymorphism; the hetero approach certainly 
doesn't exclude this.

The only difficult part of the process is that I have 3 files which 
define the basic node types, define the AST subclasses themselves, and 
list the factory methods. This is messy, easy to get wrong, and 
difficult to maintain. On the other hand, it's trivial and a lot of it 
could be automated with a script.

HTH

Paul

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="013247.html">[antlr-interest] Exception on obscure char but then continue lexing?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13246">[ date ]</a>
              <a href="thread.html#13246">[ thread ]</a>
              <a href="subject.html#13246">[ subject ]</a>
              <a href="author.html#13246">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
