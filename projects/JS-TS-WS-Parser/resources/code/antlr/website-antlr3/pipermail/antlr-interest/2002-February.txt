From ince at pacifier.com  Fri Feb  1 01:05:20 2002
From: ince at pacifier.com (Michael Labhard)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] distinquishing single from multiple characters
Message-ID: <02020117052001.01334@wrybread.labhard.com>

Question on Lexer.  The grammar (prolog) has two types of tokens both of 
which contain the same characters.  Specifically the "." may appear alone as 
the end token or it may appear together with other characters such as "$&%", 
etc. as a graphic token.  However, the rules:

GRAPHIC_TOKEN: ( options {greedy=true;} "." (GRAPHIC_CHAR)+ );

END_TOKEN: ".";

are flagged as ambiguous, even though in the graphic token case there must be 
at least 2 characters.  What is the best way to resolve such an ambiguity?  
Thanks.

-- Michael

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ajl13 at bellatlantic.net  Fri Feb  1 17:48:10 2002
From: ajl13 at bellatlantic.net (aliguori123)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] [PATCH] ANTLR C++ RefAST operator=
Message-ID: <a3fggq+5e07@eGroups.com>

GDB + C++ + -O2 == Major Headache...

I am still not sure exactly the depth of this and if I was just doing
some very bad things but I ran into a few infinite loops because the
operator='s are not checking for self assignment.  

While I'm not sure if I ran into this because my code was horribly
messed up, I know that reference counted objects have to check for
self assignment :)  I've made that mistake all too often.

Enclosed is a patch against 2.7.1 (the problem still exists in
2.7.2a2).

I am not sure how to submit patchs/bug reports or if there is a
separate maintainer of the C++ lib so I apologize if this is the wrong
place for this.

I am really loving ANTLR though!  Even though I spent a few hours
tracking down some nasty bugs, I more than saved it with the tree
walkers.

Regards,
Anthony Liguori

<-- BEGIN PATCH -->
2002-02-01 20:40 diff -rl antlr-2.7.1/lib/cpp/antlr/ASTRefCount.hpp
antlr-2.7.1-al/lib/cpp/antlr/ASTRefCount.hpp Page 1


51a52
>         static bool compareRef(const ASTRef* lhs, const AST* rhs);
78a80
>                 if (ASTRef::compareRef(ref, other)) return *this;
85a88
> 	        if (this == &other) return *this;
104a108,109
> 
> 
 2002-02-01 20:40 diff -rl antlr-2.7.1/lib/cpp/antlr/RefCount.hpp
antlr-2.7.1-al/lib/cpp/antlr/RefCount.hpp Page 1


70a71
> 	        if (this == &other) return *this;
 2002-02-01 20:40 diff -rl antlr-2.7.1/lib/cpp/src/ASTRefCount.cpp
antlr-2.7.1-al/lib/cpp/src/ASTRefCount.cpp Page 1


60a61,65
> bool ASTRef::compareRef(const ASTRef* lhs, const AST* rhs)
> {
>   return (lhs == (rhs ? rhs->ref : 0));
> }
>

<-- END PATCH -->



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From qinpeng at huawei.com  Fri Feb  1 19:40:40 2002
From: qinpeng at huawei.com (QinPeng)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] error message
Message-ID: <000c01c1ab9b$6310a3c0$c410790a@huawei.com>

Hi,all!
    when I edit my .g file named "first.g",and run:
    java -classpath D:\antlr271 antlr.Tool first.g
this message emerged:
   error: Token stream error reading grammar(s):antlr.TokenStreamRecognitionException: expecting '*', found ' '

What's the matter?
How to correct it?

thank you!

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20020202/436223c5/attachment.html
From parrt at jguru.com  Fri Feb  1 19:43:22 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] error message
In-Reply-To: <000c01c1ab9b$6310a3c0$c410790a@huawei.com>
Message-ID: <0166CFA4-178F-11D6-A22A-0030653DE0D6@jguru.com>


On Friday, February 1, 2002, at 07:40  PM, QinPeng wrote:

> Hi,all!
> ??? when I edit my .g file named "first.g",and run:
> ??? java -classpath D:\antlr271 antlr.Tool first.g
> this message emerged:
> ?? error: Token stream error reading 
> grammar(s):antlr.TokenStreamRecognitionException: expecting '*', 
> found ' '
> ?
> What's the matter?
> How to correct it?

Strange.  You probably have a grammatical error in your input.  Try it 
on an example from the distribution...if that works, it's the first.g 
file.  What does it look like?

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lucaregini at yahoo.it  Sat Feb  2 01:51:43 2002
From: lucaregini at yahoo.it (lucaregini)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] failing to automate .g files building with visualc under windows 2000
Message-ID: <a3gcrf+ksj7@eGroups.com>

I cant manage to automate the building of .g files under visualc 
(using windows 2000).

I add the following lines to the custom build command textbox :

java -classpath %CLASSPATH% antlr.Tool $(InputPath)

while in the outputs textbox i add the names of the generated files.

If a use the following statement in a command shell everything works 
fine so i suppose to have the right settings for my environment 
variables:


java antlr.Tool myparser.g 


. I use jdk1.3.1_02.


If anyone has experienced the same problem please let me know.

Regards
Luca





 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Sat Feb  2 04:30:34 2002
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] failing to automate .g files building with visualc under windows 2000
References: <a3gcrf+ksj7@eGroups.com>
Message-ID: <008401c1abe5$7f0be130$7d919582@bert>

You should also specify the output directory with the -o option like:

java -classpath %CLASSPATH% antlr.Tool -o $(InputDir) $(InputPath)

otherwise the generated files are put in the same place as the
workspace/makefile you use.

Ciao, Tom



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lucaregini at yahoo.it  Sat Feb  2 12:09:00 2002
From: lucaregini at yahoo.it (lucaregini)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: failing to automate .g files building with visualc under windows 2000
In-Reply-To: <008401c1abe5$7f0be130$7d919582@bert>
Message-ID: <a3hh0s+r727@eGroups.com>

Sorry i tried but this doesnt work either...
and anyway my .g file is in the same directory as the project...

Cant make up my mind... BOh???

Luca


--- In antlr-interest@y..., "Thomas Dudziak" <tomdz@c...> wrote:
> You should also specify the output directory with the -o option 
like:
> 
> java -classpath %CLASSPATH% antlr.Tool -o $(InputDir) $(InputPath)
> 
> otherwise the generated files are put in the same place as the
> workspace/makefile you use.
> 
> Ciao, Tom


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From qinpeng at huawei.com  Sat Feb  2 17:34:41 2002
From: qinpeng at huawei.com (QinPeng)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] How to Embed function
Message-ID: <003001c1ac52$f3aa3b00$c410790a@huawei.com>

Hi,all!

    How to embed a C++ function of mine into .g file?
thanks!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20020203/bbe179b5/attachment.html
From tomdz at cs.tu-berlin.de  Sun Feb  3 04:13:28 2002
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: failing to automate .g files building with visualc under windows 2000
References: <a3hh0s+r727@eGroups.com>
Message-ID: <001201c1acac$46405c60$7b919582@bert>

Could you perhaps post the error message from VisualC++ ?

Ciao, Tom



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ince at pacifier.com  Sat Feb  2 19:18:55 2002
From: ince at pacifier.com (Michael Labhard)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] AntLR bug?
Message-ID: <02020311185500.01300@wrybread.labhard.com>

All:
	This is a follow up on my last message.

	In the following lexer AntLR (2.7.1) complains that there is a 
nondeterminism between a NAME_TOKEN and an END_TOKEN.  

class L extends Lexer;
options { k=2; }

NAME_TOKEN
  : GRAPHIC_TOKEN
  ;

protected GRAPHIC_TOKEN
  : 
    ( '.' (GRAPHIC_TOKEN_CHAR|'.')+ )
    | 
    ( GRAPHIC_TOKEN_CHAR (GRAPHIC_TOKEN_CHAR|'.')* )
  ;

protected GRAPHIC_TOKEN_CHAR
  : GRAPHIC_CHAR | BACKSLASH_CHAR;

protected GRAPHIC_CHAR
  : ('#'|'$'|'&'|'*'|'+'|'/'
    |':'|'<'|'='|'>'|'?'|'@'|'^'|'~');

END_TOKEN: END_CHAR;

protected END_CHAR: '.';
protected BACKSLASH_CHAR:'\\';



	Modifying the GRAPHIC_TOKEN in either of the two following ways eliminatees 
the complaint:

protected GRAPHIC_TOKEN
  : 
    ( GRAPHIC_TOKEN_CHAR (GRAPHIC_TOKEN_CHAR|'.')* )
  ;

protected GRAPHIC_TOKEN
  : 
    ( '.' (GRAPHIC_TOKEN_CHAR|'.')+ )
  ;

	This looks like a bug since these are "ored" alternatives and each is 
individually acceptable.  Any advice?

-- Michael

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Feb  3 10:07:25 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] AntLR bug?
In-Reply-To: <02020311185500.01300@wrybread.labhard.com>
Message-ID: <E0B7F191-18D0-11D6-9EE1-0030653DE0D6@jguru.com>

Can you post the warning?

Thanks,
Ter
PS	I suspect it might be a linear approximate lookahead issue.

On Saturday, February 2, 2002, at 07:18  PM, Michael Labhard wrote:

> All:
> 	This is a follow up on my last message.
>
> 	In the following lexer AntLR (2.7.1) complains that there is a
> nondeterminism between a NAME_TOKEN and an END_TOKEN.
>
> class L extends Lexer;
> options { k=2; }
>
> NAME_TOKEN
>   : GRAPHIC_TOKEN
>   ;
>
> protected GRAPHIC_TOKEN
>   :
>     ( '.' (GRAPHIC_TOKEN_CHAR|'.')+ )
>     |
>     ( GRAPHIC_TOKEN_CHAR (GRAPHIC_TOKEN_CHAR|'.')* )
>   ;
>
> protected GRAPHIC_TOKEN_CHAR
>   : GRAPHIC_CHAR | BACKSLASH_CHAR;
>
> protected GRAPHIC_CHAR
>   : ('#'|'$'|'&'|'*'|'+'|'/'
>     |':'|'<'|'='|'>'|'?'|'@'|'^'|'~');
>
> END_TOKEN: END_CHAR;
>
> protected END_CHAR: '.';
> protected BACKSLASH_CHAR:'\\';
>
>
>
> 	Modifying the GRAPHIC_TOKEN in either of the two following ways 
> eliminatees
> the complaint:
>
> protected GRAPHIC_TOKEN
>   :
>     ( GRAPHIC_TOKEN_CHAR (GRAPHIC_TOKEN_CHAR|'.')* )
>   ;
>
> protected GRAPHIC_TOKEN
>   :
>     ( '.' (GRAPHIC_TOKEN_CHAR|'.')+ )
>   ;
>
> 	This looks like a bug since these are "ored" alternatives and each is
> individually acceptable.  Any advice?
>
> -- Michael
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nagii5 at yahoo.com  Sun Feb  3 13:00:19 2002
From: nagii5 at yahoo.com (nagii5)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] charVocab
Message-ID: <a3k8d3+5fdc@eGroups.com>

Gurus,
I had a question about the usage of charVocabulary.

i specified the following in my .g but still havent been 
aable to get antlr to recognize characters like
'(' ')' '*' '/'

im using antlr (2.7.0)
heres some grammer i used..... assuming DECLARATION is one on the list 
of TOKENs.

options {
  charVocabulary='3'..'\uffff';
  k=3;
  filter=TEXT
}

protected DECLARATION 
  : "<%!" d:STD_CONTENT "%>"
{
  System.err.println(d.getText());	
}
;

protected STD_CONTENT : ( {! (LA(1) == '%' && LA(2) == '>') }? 
NEWLINE)* ;

protected NEWLINE : c:. { if(c == '\n') newline();} ;

protected TEXT : c:. { if(c == '\n') newline(); 
System.err.println((char)c); };

------------------------------------------------

The Problem: 

if the input for the following lexer is 

<%!  String abc = new String("aaa"); %>

fails on being recognized as a DECLARATION... if i add an extra 
grammer as follows it passes..

The only soln i know of :
-------------------------

protected VOCAB: ('('| ')' );

any character which is not defined in the grammer is being ommitted.
Am i defining charVocabulary in the wrong manner ? 

thanks
Nagesh


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Feb  3 13:59:46 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] charVocab
In-Reply-To: <a3k8d3+5fdc@eGroups.com>
Message-ID: <563B54D4-18F1-11D6-9EE1-0030653DE0D6@jguru.com>

On Sunday, February 3, 2002, at 01:00  PM, nagii5 wrote:

> Gurus,
> I had a question about the usage of charVocabulary.
>
> i specified the following in my .g but still havent been
> aable to get antlr to recognize characters like
> '(' ')' '*' '/'
>
> im using antlr (2.7.0)
> heres some grammer i used..... assuming DECLARATION is one on the list
> of TOKENs.
>
> options {
>   charVocabulary='3'..'\uffff';

Use '\3' not '3', which is 0x33 hence you miss everything before like 
parens. ;)

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nagii5 at yahoo.com  Sun Feb  3 14:34:39 2002
From: nagii5 at yahoo.com (nagii5)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: charVocab
In-Reply-To: <563B54D4-18F1-11D6-9EE1-0030653DE0D6@jguru.com>
Message-ID: <a3kdtv+pfup@eGroups.com>

oops.... that was silly on my part..
thanks for the quick response..
i appreciate it..
-nagesh
--- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> On Sunday, February 3, 2002, at 01:00  PM, nagii5 wrote:
> 
> > Gurus,
> > I had a question about the usage of charVocabulary.
> >
> > i specified the following in my .g but still havent been
> > aable to get antlr to recognize characters like
> > '(' ')' '*' '/'
> >
> > im using antlr (2.7.0)
> > heres some grammer i used..... assuming DECLARATION is one on the 
list
> > of TOKENs.
> >
> > options {
> >   charVocabulary='3'..'\uffff';
> 
> Use '\3' not '3', which is 0x33 hence you miss everything before 
like 
> parens. ;)
> 
> Ter
> --
> Chief Scientist & Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ince at pacifier.com  Sun Feb  3 03:58:20 2002
From: ince at pacifier.com (Michael Labhard)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] AntLR bug warning
Message-ID: <02020319582000.01275@wrybread.labhard.com>

As requested here is exactly what the warning is:

ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com
warning: lexical nondeterminism between rules NAME_TOKEN and END_TOKEN upon
TermParser2.g:0: 	k==1:'.'
TermParser2.g:0: 	k==2:<end-of-token>


-- Michael

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Feb  3 21:16:52 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] AntLR bug warning
In-Reply-To: <02020319582000.01275@wrybread.labhard.com>
Message-ID: <665203CD-192E-11D6-9EE1-0030653DE0D6@jguru.com>


On Sunday, February 3, 2002, at 03:58  AM, Michael Labhard wrote:

> As requested here is exactly what the warning is:
>
> ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com
> warning: lexical nondeterminism between rules NAME_TOKEN and END_TOKEN 
> upon
> TermParser2.g:0: 	k==1:'.'
> TermParser2.g:0: 	k==2:<end-of-token>

Ok, it's a problem of lookahead.

protected GRAPHIC_TOKEN
   :
     ( '.' (GRAPHIC_TOKEN_CHAR|'.')+ )
     |
     ( GRAPHIC_TOKEN_CHAR (GRAPHIC_TOKEN_CHAR|'.')* )
   ;

can match '.' followed by something or a single char followed by 
nothing...when these lookaheads are combined it appears that '.' <end> 
is valid for this rule which it isn't.

Search the faq for info on linear approx lookahead.
Ter
PS	You might consider merging the rules to fix this.
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Mon Feb  4 02:06:39 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] [PATCH] ANTLR C++ RefAST operator=
In-Reply-To: <a3fggq+5e07@eGroups.com>; from ajl13@bellatlantic.net on Sat, Feb 02, 2002 at 01:48:10AM -0000
References: <a3fggq+5e07@eGroups.com>
Message-ID: <20020204110638.B23086@cs.utwente.nl>

Hi,

On Sat, Feb 02, 2002 at 01:48:10AM -0000, aliguori123 wrote:
> GDB + C++ + -O2 == Major Headache...

Hmmm even if you remove -O2 from the equation it's headache.. until the
gdb/gcc boys get their act together it will probably be still a mess for a
few months (it's getting better in CVS versions though).

> While I'm not sure if I ran into this because my code was horribly
> messed up, I know that reference counted objects have to check for
> self assignment :)  I've made that mistake all too often.

Thanks for noticing this. It's fixed now.

> I am not sure how to submit patchs/bug reports or if there is a
> separate maintainer of the C++ lib so I apologize if this is the wrong
> place for this.

This is quite a good place to reach me =) Better than the forum..  You can
also send patches directly to me.

> I am really loving ANTLR though!  Even though I spent a few hours
> tracking down some nasty bugs, I more than saved it with the tree
> walkers.

Good to hear =)

Cheers,

Ric

PS The patch was horribly garbled. For patches I btw prefer unified diffs.
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Time what is time - I wish I knew how to tell You why - It hurts to know -
          Aren't we machines - Time what is time - Unlock the door
               - And see the truth - Then time is time again
                From: 'Time what is Time' by Blind Guardian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Andy.Carpenter at cs.man.ac.uk  Mon Feb  4 02:37:37 2002
From: Andy.Carpenter at cs.man.ac.uk (Andy Carpenter)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] failing to automate .g files building with visualc under windows 2000
References: <a3gcrf+ksj7@eGroups.com>
Message-ID: <00c101c1ad67$f74d7590$56c15882@MUNTJAC>

> I cant manage to automate the building of .g files under visualc 
> (using windows 2000).
> 
> I add the following lines to the custom build command textbox :
> 
> java -classpath %CLASSPATH% antlr.Tool $(InputPath)

The following custom build command works for me (using W2K)

java -cp %CLASSPATH% antlr.Tool $(InputName).g

    Andy.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From lucaregini at yahoo.it  Mon Feb  4 04:36:32 2002
From: lucaregini at yahoo.it (lucaregini)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: failing to automate .g files building with visualc under windows 2000
In-Reply-To: <001201c1acac$46405c60$7b919582@bert>
Message-ID: <a3lv8g+rv28@eGroups.com>

--- In antlr-interest@y..., "Thomas Dudziak" <tomdz@c...> wrote:
> Could you perhaps post the error message from VisualC++ ?
> 
> Ciao, Tom

Sure: i get an invalid command error, sorry for not having posted 
this before :)) 


Ciao :PP

Luca



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From wiggjd at sbu.ac.uk  Mon Feb  4 07:13:56 2002
From: wiggjd at sbu.ac.uk (David Wigg)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Conversion StdCParser for C++
Message-ID: <3C5EA534.C2D54903@sbu.ac.uk>

Can anyone point me to a C++ equivalent (or near) to java hashtable
class?

Thanks.

David.

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From david.barker at brooks.com  Mon Feb  4 07:14:48 2002
From: david.barker at brooks.com (Barker, David)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Conversion StdCParser for C++
Message-ID: <79E593B1974ED411865500508BD8BFC66B9E32@mail-europe1.brooks.com>

Have you considered std::map?
 - though the standard only guarantees O(log n) performance (i.e. a binary
tree implementation)

Dave.

> -----Original Message-----
> From: David Wigg [mailto:wiggjd@sbu.ac.uk]
> Sent: 04 February 2002 15:14
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Conversion StdCParser for C++
> 
> 
> Can anyone point me to a C++ equivalent (or near) to java hashtable
> class?
> 
> Thanks.
> 
> David.
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Mon Feb  4 07:38:20 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] distinquishing single from multiple characte
	rs
Message-ID: <170826586F3BD511910D0200C110AAA801C581D9@memail03.bco-home.com>

I think this is covered in the lexer docs but I don't have the reference
handy, so here's how you combine the two rules which are ambiguous because
they have the same prefix.  This is a problem for lexers only because of the
synthesized nextToken() rule:

 END_TOKEN: ( options {greedy=true;} "." (GRAPHIC_CHAR
{$setType(GRAPHIC_TOKEN);})* );

Monty

> -----Original Message-----
> From: Michael Labhard [mailto:ince@pacifier.com]
> Sent: Friday, February 01, 2002 1:05 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] distinquishing single from multiple 
> characters
> 
> 
> Question on Lexer.  The grammar (prolog) has two types of 
> tokens both of 
> which contain the same characters.  Specifically the "." may 
> appear alone as 
> the end token or it may appear together with other characters 
> such as "$&%", 
> etc. as a graphic token.  However, the rules:
> 
> GRAPHIC_TOKEN: ( options {greedy=true;} "." (GRAPHIC_CHAR)+ );
> 
> END_TOKEN: ".";
> 
> are flagged as ambiguous, even though in the graphic token 
> case there must be 
> at least 2 characters.  What is the best way to resolve such 
> an ambiguity?  
> Thanks.
> 
> -- Michael
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Mon Feb  4 10:20:42 2002
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: failing to automate .g files building with visualc under windows 2000
References: <a3lv8g+rv28@eGroups.com>
Message-ID: <005101c1ada8$e2b29570$92919582@bert>

Hmm, I wasn't able to re-produce an "invalid command" error. Perhaps I can
help you by giving the steps that I use to include grammar files in the
build process:

(1)
I add the grammar files to the project (e.g. lexer, parser, tree grammar).
They should show up in the top-level in the project with an icon with a
down-arrow in it.

(2)
For each grammar file, I add the custom build settings to the project
settings. Typically this only consists of a call to the antlr tool :

java.exe -classpath %CLASSPATH% antlr.Tool -o $(InputDir) $(InputPath)

The variable InputPath contains the (relative) path to the grammar file
complete with filename and extension. As Andy Carpenter pointed out, you
could also use InputName, but this does not include the path nor the
extension (hence the additional ".g").
If I want to put the generated files elsewhere, I change the -o argument
accordingly.
A simple test as to whether this call works, can be done with a plain
command prompt in the directory where the project file (.dsp) resides, and
using the actual input path (which can be copied from the build output frame
after building a grammar).

I insert the names of the output files in the output files box later on, and
provide some dummy text now (VisualC++ requires some text here). The main
reason for this is that I'm usually too lazy to look into the grammer for
the type names.

(3)
I perform the build step on the grammars (only). This generates several
source and header files whose names I now add to the output files box. I
also add the generated files to the project.

Hope this helps,
Ciao, Tom



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ajl13 at bellatlantic.net  Mon Feb  4 11:04:35 2002
From: ajl13 at bellatlantic.net (aliguori123)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: Conversion StdCParser for C++
In-Reply-To: <3C5EA534.C2D54903@sbu.ac.uk>
Message-ID: <a3mm03+car0@eGroups.com>

There is no hash table in the C++ standard.  There likely will be
though in the future.  There is a pretty much a semi-standard hash_set
and hash_multiset class available from SGI or Boost.

G++ includes the SGI hash_set & hash_multiset by default and they are
accessible by including <hash_set> or <hash_multiset> respectively. 
Here are the relavant sites for more info:

SGI STL:
http://www.sgi.com/tech/stl

Boost:
http://www.boost.org

Regards,
Anthony

--- In antlr-interest@y..., David Wigg <wiggjd@s...> wrote:
> Can anyone point me to a C++ equivalent (or near) to java hashtable
> class?
> 
> Thanks.
> 
> David.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Trey.Spiva at embarcadero.com  Mon Feb  4 11:23:20 2002
From: Trey.Spiva at embarcadero.com (Trey Spiva)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] Re: Conversion StdCParser for C++
Message-ID: <6791D870658F174FB863E2FA890000A37DCA45@abyss4.advancedsw.com>

Why don't you use the C++ class map?

>>From what I understand it is the same as a hashtable.

> -----Original Message-----
> From: aliguori123 [mailto:ajl13@bellatlantic.net]
> Sent: Monday, February 04, 2002 12:05 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Conversion StdCParser for C++
> 
> 
> There is no hash table in the C++ standard.  There likely will be
> though in the future.  There is a pretty much a semi-standard hash_set
> and hash_multiset class available from SGI or Boost.
> 
> G++ includes the SGI hash_set & hash_multiset by default and they are
> accessible by including <hash_set> or <hash_multiset> respectively. 
> Here are the relavant sites for more info:
> 
> SGI STL:
> http://www.sgi.com/tech/stl
> 
> Boost:
> http://www.boost.org
> 
> Regards,
> Anthony
> 
> --- In antlr-interest@y..., David Wigg <wiggjd@s...> wrote:
> > Can anyone point me to a C++ equivalent (or near) to java hashtable
> > class?
> > 
> > Thanks.
> > 
> > David.
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From smolyn at cs.ubc.ca  Mon Feb  4 12:28:45 2002
From: smolyn at cs.ubc.ca (Greg Smolyn)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] ANTLR and Eclipse
Message-ID: <02020412284502.04383@alaskan>

Hi!

I remember some talk about an eclipse plugin for Antlr.
What's the status on that?  I'd be glad to lend a hand on the development 
effort if necessary.  
I'm currently using Antlr to build an aspect-oriented version of C, and our 
main development environment is Eclipse (hey, we're a research lab. :)  

Thanks!

-- 
Greg Smolyn (smolyn@cs.ubc.ca)
Software Practices Lab, UBC
http://www.cs.ubc.ca/labs/spl/

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Feb  4 12:34:09 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] ANTLR and Eclipse
In-Reply-To: <02020412284502.04383@alaskan>
Message-ID: <8ABEBF82-19AE-11D6-9EE1-0030653DE0D6@jguru.com>


On Monday, February 4, 2002, at 12:28  PM, Greg Smolyn wrote:

> Hi!
>
> I remember some talk about an eclipse plugin for Antlr.
> What's the status on that?  I'd be glad to lend a hand on the 
> development
> effort if necessary.
> I'm currently using Antlr to build an aspect-oriented version of C, and 
> our
> main development environment is Eclipse (hey, we're a research lab. :)

I made a very good first stab at making mods to 2.7.2a2 but need to do 
some more work according to Marco van Meegen.  I am hoping to get some 
more antlr time in a week or two. :)

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From smolyn at cs.ubc.ca  Mon Feb  4 12:39:00 2002
From: smolyn at cs.ubc.ca (Greg Smolyn)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] ANTLR and Eclipse
In-Reply-To: <8ABEBF82-19AE-11D6-9EE1-0030653DE0D6@jguru.com>
References: <8ABEBF82-19AE-11D6-9EE1-0030653DE0D6@jguru.com>
Message-ID: <02020412390004.04383@alaskan>


> I made a very good first stab at making mods to 2.7.2a2 but need to do
> some more work according to Marco van Meegen.  I am hoping to get some
> more antlr time in a week or two. :)

Cooll!
Right now I'm just using the ANT integration to run antlr, so it's no big 
slow down.  But the possibilty of syntax highlighting and a little less 
roundabout method of building is very nifty. :)

Thanks Ter!


-- 
Greg Smolyn (smolyn@cs.ubc.ca)
Software Practices Lab, UBC
http://www.cs.ubc.ca/labs/spl/

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Feb  4 12:41:02 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] ANTLR and Eclipse
In-Reply-To: <02020412390004.04383@alaskan>
Message-ID: <809EB3C6-19AF-11D6-9EE1-0030653DE0D6@jguru.com>


On Monday, February 4, 2002, at 12:39  PM, Greg Smolyn wrote:

>
>> I made a very good first stab at making mods to 2.7.2a2 but need to do
>> some more work according to Marco van Meegen.  I am hoping to get some
>> more antlr time in a week or two. :)
>
> Cooll!
> Right now I'm just using the ANT integration to run antlr, so it's no 
> big
> slow down.  But the possibilty of syntax highlighting and a little less
> roundabout method of building is very nifty. :)
>
> Thanks Ter!

I just wish I could spend more time on this :)

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Feb  4 15:22:55 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] new FAQ entry concerning nondeterministic lexer rules
In-Reply-To: <170826586F3BD511910D0200C110AAA801C581D9@memail03.bco-home.com>
Message-ID: <1E7AA450-19C6-11D6-9EE1-0030653DE0D6@jguru.com>

Folks,

Monty suggested I make a faq entry on this subject...hope this helps.

http://www.jguru.com/faq/view.jsp?EID=746286

Ter

On Monday, February 4, 2002, at 07:38  AM, mzukowski@bco.com wrote:

> I think this is covered in the lexer docs but I don't have the reference
> handy, so here's how you combine the two rules which are ambiguous 
> because
> they have the same prefix.  This is a problem for lexers only because 
> of the
> synthesized nextToken() rule:
>
>  END_TOKEN: ( options {greedy=true;} "." (GRAPHIC_CHAR
> {$setType(GRAPHIC_TOKEN);})* );
>
> Monty
>
>> -----Original Message-----
>> From: Michael Labhard [mailto:ince@pacifier.com]
>> Sent: Friday, February 01, 2002 1:05 AM
>> To: antlr-interest@yahoogroups.com
>> Subject: [antlr-interest] distinquishing single from multiple
>> characters
>>
>>
>> Question on Lexer.  The grammar (prolog) has two types of
>> tokens both of
>> which contain the same characters.  Specifically the "." may
>> appear alone as
>> the end token or it may appear together with other characters
>> such as "$&%",
>> etc. as a graphic token.  However, the rules:
>>
>> GRAPHIC_TOKEN: ( options {greedy=true;} "." (GRAPHIC_CHAR)+ );
>>
>> END_TOKEN: ".";
>>
>> are flagged as ambiguous, even though in the graphic token
>> case there must be
>> at least 2 characters.  What is the best way to resolve such
>> an ambiguity?
>> Thanks.
>>
>> -- Michael
>>
>>
>>
>> Your use of Yahoo! Groups is subject to
>> http://docs.yahoo.com/info/terms/
>>
>>
>>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ince at pacifier.com  Mon Feb  4 00:45:25 2002
From: ince at pacifier.com (Michael Labhard)
Date: Mon Dec 20 16:14:39 2004
Subject: [antlr-interest] AntLR Bug
Message-ID: <02020416452502.01303@wrybread.labhard.com>

Terrance:

	Thank you for your assistance.  I understand the problem but have not been 
successful at finding a work-around.  I am coming to the conclusion that 
AntLR is not capable of parsing standard Prolog, at least without emitting 
the warning, specifically because of the GRAPHIC token/END token ambiguity.  
Any furthur advice before we abandon our effort to use AntLR?

-- Michael


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Feb  4 15:33:22 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] AntLR Bug
In-Reply-To: <02020416452502.01303@wrybread.labhard.com>
Message-ID: <93F4B1A4-19C7-11D6-9EE1-0030653DE0D6@jguru.com>


On Monday, February 4, 2002, at 12:45  AM, Michael Labhard wrote:

> Terrance:
>
> 	Thank you for your assistance.  I understand the problem but have 
> not been
> successful at finding a work-around.  I am coming to the conclusion that
> AntLR is not capable of parsing standard Prolog, at least without 
> emitting
> the warning, specifically because of the GRAPHIC token/END token 
> ambiguity.
> Any furthur advice before we abandon our effort to use AntLR?

Didn't the monty solution (or the new FAQ entry) provide a reasonable 
solution?  Should work for you :)  Left-factoring is unfortunately 
necessary with ANTLR lexers.

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ince at pacifier.com  Mon Feb  4 05:52:18 2002
From: ince at pacifier.com (Michael Labhard)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] AntLR Bug
Message-ID: <02020421521800.02665@wrybread.labhard.com>

Terrance and Monty:

	Sorry, I didn't see Monty's reply or your new FAQ before sending the last 
message.  The solution in Monty's reply and in your FAQ appear to be very 
similar.  For my needs the solution does not work.  The same warning occurs.  
Here is the most recent lexer file:

class L extends Lexer;
options { k=2; }

NAME_TOKEN
  : GRAPHIC_TOKEN
  ;

END_TOKEN
    : 
    END_CHAR 
    ( options {greedy=true;} :
     GRAPHIC_TOKEN_CHAR {setType(GRAPHIC_TOKEN);}
    )+
    ;

protected GRAPHIC_TOKEN
  : 
    ( (END_CHAR GRAPHIC_TOKEN_CHAR) | GRAPHIC_TOKEN_CHAR) 
    (END_CHAR | GRAPHIC_TOKEN_CHAR)*
  ;

protected GRAPHIC_TOKEN_CHAR
  : GRAPHIC_CHAR 
  ;

protected GRAPHIC_CHAR
  : ('#'|'$'|'&'|'*'|'+'|'/'|
    |':'|'<'|'='|'>'|'?'|'@'|'^'|'~');

protected END_CHAR: 
    '.' 
    ;

Thanks for your assistance.

-- Michael

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Feb  4 23:08:52 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] AntLR Bug
In-Reply-To: <02020421521800.02665@wrybread.labhard.com>
Message-ID: <35ACADB4-1A07-11D6-9EE1-0030653DE0D6@jguru.com>


On Monday, February 4, 2002, at 05:52  AM, Michael Labhard wrote:

> Terrance and Monty:
>
> 	Sorry, I didn't see Monty's reply or your new FAQ before sending 
> the last
> message.  The solution in Monty's reply and in your FAQ appear to be 
> very
> similar.  For my needs the solution does not work.  The same warning 
> occurs.
> Here is the most recent lexer file:
>
> class L extends Lexer;
> options { k=2; }
>
> NAME_TOKEN
>   : GRAPHIC_TOKEN
>   ;
>
> END_TOKEN
>     :
>     END_CHAR
>     ( options {greedy=true;} :
>      GRAPHIC_TOKEN_CHAR {setType(GRAPHIC_TOKEN);}
>     )+
>     ;
>
> protected GRAPHIC_TOKEN
>   :
>     ( (END_CHAR GRAPHIC_TOKEN_CHAR) | GRAPHIC_TOKEN_CHAR)
>     (END_CHAR | GRAPHIC_TOKEN_CHAR)*

END_CHAR can still start this rule, which is called by non-protected 
rule NAME_TOKEN.  That is still the same problem...you've not 
left-factored everything I guess.

Please include error messages when you get them too so it's easier to 
figure out what you mean.

Ter
>   ;
>
> protected GRAPHIC_TOKEN_CHAR
>   : GRAPHIC_CHAR
>   ;
>
> protected GRAPHIC_CHAR
>   : ('#'|'$'|'&'|'*'|'+'|'/'|
>     |':'|'<'|'='|'>'|'?'|'@'|'^'|'~');
>
> protected END_CHAR:
>     '.'
>     ;
>
> Thanks for your assistance.
>
> -- Michael
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Feb  5 01:09:22 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Re: Conversion StdCParser for C++
In-Reply-To: <a3mm03+car0@eGroups.com>; from ajl13@bellatlantic.net on Mon, Feb 04, 2002 at 07:04:35PM -0000
References: <3C5EA534.C2D54903@sbu.ac.uk> <a3mm03+car0@eGroups.com>
Message-ID: <20020205100922.E23086@cs.utwente.nl>

On Mon, Feb 04, 2002 at 07:04:35PM -0000, aliguori123 wrote:
> G++ includes the SGI hash_set & hash_multiset by default and they are
> accessible by including <hash_set> or <hash_multiset> respectively. 
> Here are the relavant sites for more info:

FYI With gcc 3.x these are <ext/hash_xxxx>..

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Human beings, who are almost unique in having the ability to learn
   from the experience of others, are also remarkable for their apparent
         disinclination to do so. --- Douglas Adams, Last Chance to See


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Feb  5 01:11:44 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Re: Conversion StdCParser for C++
In-Reply-To: <6791D870658F174FB863E2FA890000A37DCA45@abyss4.advancedsw.com>; from Trey.Spiva@embarcadero.com on Mon, Feb 04, 2002 at 12:23:20PM -0700
References: <6791D870658F174FB863E2FA890000A37DCA45@abyss4.advancedsw.com>
Message-ID: <20020205101144.F23086@cs.utwente.nl>

On Mon, Feb 04, 2002 at 12:23:20PM -0700, Trey Spiva wrote:
> Why don't you use the C++ class map?
> 
> From what I understand it is the same as a hashtable.

Not exactly the maps are based on some tree implementation AVL or red black
trees or another, don't know which one is the most common.

But they are completely interchangeable (except maybe for some odd detail).

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From miguelpinheiro2000 at yahoo.com  Tue Feb  5 02:25:04 2002
From: miguelpinheiro2000 at yahoo.com (miguelpinheiro2000)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Ignoring special comment lines
Message-ID: <a3obu0+p807@eGroups.com>

Hi!
I would like to define a Lexer rule to match everything between ';' 
and the end of line and ignore it (except de ';'). I have allready 
defined a SEMI rule as 

SEMI : ';';

because I'm interested to pass it to the Parser.

The typical text file I would like to parse is in this format:

<comand 1>;
<comand 2>; ignored comment
<comand 3>; ignored comment 2
<comand 4>;

Any help would be appreciated.
Thank you,

Miguel


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From casellas at infres.enst.fr  Tue Feb  5 04:59:55 2002
From: casellas at infres.enst.fr (ramon_casellas)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Re: Conversion StdCParser for C++
In-Reply-To: <3C5EA534.C2D54903@sbu.ac.uk>
Message-ID: <a3ol0b+q2l1@eGroups.com>

--- In antlr-interest@y..., David Wigg <wiggjd@s...> wrote:
> Can anyone point me to a C++ equivalent (or near) to java hashtable
> class?
> 


Hi (new to the list, sorry if I am being redundant)

I had never worked with grammars before (I am quite new to this), but 
a scripting module for a C++ project of mine has forced me to :). I 
happened to find antlr, and let me first say thank you to antlr 
developers : it is a very good tool, and it fits my needs.

In order to start learning abour lexers, parsers and treewalkers, I 
started by porting the tinybasic sample to C++, so I can give you a 
piece of advice here: to the best of my knowledge, you can 
only "emulate" java hashtable with C++ STL containers. Typically you 
would use (as other readers have suggested) std::map or related 
extensions (as in SGI, gcc 3.0X boost or even MS VC NET). However you 
need to take into account the fact that (I am not a java programmer, 
please correct me if I am wrong) java containers are heterogeneous 
since java classes have a common "Object" base class. You may need to 
have something like an heterogenous container in C++. In that case, I 
would strongly suggest either using the "any" class (boost/any.hpp), 
or deriving your C++ classes from an abstract base class with the 
required virtual methods. Do not store pointers in STL containers, 
but rather encapsulate them using shared_ptr (also from boost). The 
later is the way I usually implement heterogeneous containers in C++. 
Do not store auto_ptrs in STL containers since they are an special 
type of smart pointers than transfer ownership on copy.

something like
std:map<std::string /* identifier */, shared_ptr<variable> /* var */> 
symboltable;

symboltable["foo"]->set_type(INT_VAR);
symboltable["foo"]->set_value(5);

etc...
may be handy

Hope this helps,
Regards,
Ramon



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ince at pacifier.com  Mon Feb  4 16:33:44 2002
From: ince at pacifier.com (Michael Labhard)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] AntLR Bug
Message-ID: <02020508334400.01307@wrybread.labhard.com>

This is the simplified example that fails to work with AntLR.  I don't see 
any additional opportunity for left-factoring here.

class L extends Lexer;
options { k=2; }

NAME_TOKEN
  : GRAPHIC_TOKEN
  ;

END_TOKEN
    : 
    END_CHAR 
    ( options {greedy=true;} :
     GRAPHIC_TOKEN_CHAR {setType(GRAPHIC_TOKEN);}
    )+
    ;

protected GRAPHIC_TOKEN
  : 
    ( options {greedy=true;} :
    END_CHAR ( GRAPHIC_TOKEN_CHAR )+
    )
  ;

protected GRAPHIC_TOKEN_CHAR
  : GRAPHIC_CHAR
  ;

protected GRAPHIC_CHAR
  : ( options {greedy=true;} : '#'|'$'|'&'|'*'|'+'|'/'|
    |':'|'<'|'='|'>'|'?'|'@'|'^'|'~');

protected END_CHAR: 
    '.' 
    ;

RESULTS:

ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com
warning: lexical nondeterminism between rules NAME_TOKEN and END_TOKEN upon
TermParser2.g:0: 	k==1:'.'
TermParser2.g:0: 	
k==2:<end-of-token>,'#','$','&','*','+','/',':','<'..'@','^','~'
TermParser2.g:19: warning: lexical nondeterminism upon
TermParser2.g:19: 	k==1:<end-of-token>
TermParser2.g:19: 	k==2:<end-of-token>
TermParser2.g:19: 	between alt 1 and exit branch of block



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From stdiobe at enneya.com  Tue Feb  5 07:35:42 2002
From: stdiobe at enneya.com (Stdiobe)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] AntLR Bug
References: <02020508334400.01307@wrybread.labhard.com>
Message-ID: <011401c1ae5a$d14f2840$0100a8c0@daemon>


Michael,

> This is the simplified example that fails to work with AntLR.  I don't see
> any additional opportunity for left-factoring here.

I checked your original example dated february 3, and based on that
I would like to suggest following approach (although I haven't tested
this, and it might produce the same problems, but I don't expect so).

NAME_OR_END_TOKEN
    : (NAME_TOKEN_lookahead)=> NAME_TOKEN {setType(...);}
    | END_TOKEN   {setType(...);}
    ;

protected NAME_TOKEN
    : GRAPHIC_TOKEN
    ;

protected NAME_TOKEN_lookahead
    : GRAPHIC_TOKEN_lookahead
    ;

protected GRAPHIC_TOKEN
    :  END_CHAR (GRAPHIC_TOKEN_CHAR|END_CHAR)+
    | GRAPHIC_TOKEN_CHAR
                (GRAPHIC_TOKEN_CHAR|END_CHAR)*
    ;

protected GRAPHIC_TOKEN_lookahead
    : END_CHAR (GRAPH_TOKEN_CHAR|END_CHAR)
    | GRAPHIC_TOKEN_CHAR
    ;

protected NAME_TOKEN_lookahead:
    : END_CHAR GRAPHIC_TOKEN_CHAR

protected END_TOKEN
    : END_CHAR
    ;

Good luck, Stdiobe




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Tue Feb  5 07:43:07 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] AntLR Bug
In-Reply-To: <02020508334400.01307@wrybread.labhard.com>; from ince@pacifier.com on Tue, Feb 05, 2002 at 08:33:44AM +0800
References: <02020508334400.01307@wrybread.labhard.com>
Message-ID: <20020205164307.J23086@cs.utwente.nl>

Hi,

On Tue, Feb 05, 2002 at 08:33:44AM +0800, Michael Labhard wrote:
> This is the simplified example that fails to work with AntLR.  I don't see
> any additional opportunity for left-factoring here.
>
> class L extends Lexer;
> options { k=2; }
>
> NAME_TOKEN
>   : GRAPHIC_TOKEN
>   ;
>
> END_TOKEN
>     :
>     END_CHAR
>     ( options {greedy=true;} :
>      GRAPHIC_TOKEN_CHAR {setType(GRAPHIC_TOKEN);}
>     )+
>     ;

> protected GRAPHIC_CHAR
>   : ( options {greedy=true;} : '#'|'$'|'&'|'*'|'+'|'/'|
>     |':'|'<'|'='|'>'|'?'|'@'|'^'|'~');

Note btw that you have an emtpy alternative here.... '|' at end of line and
start of the next line...

Don't you mean something like:

class L extends Lexer;
options { k=2; }
tokens { END_TOKEN; NAME_TOKEN; }

TOKEN: { setType(END_TOKEN); } "."
	( {setType(NAME_TOKEN);} GRAPHIC_CHARS )?
;

protected
GRAPHIC_CHARS:
 ( '#'|'$'|'&'|'*'|'+'|'/'|':'|'<'|'='|'>'|'?'|'@'|'^'|'~' )+
;

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Matthew.Ford at forward.com.au  Tue Feb  5 13:09:23 2002
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Ignoring special comment lines
References: <a3obu0+p807@eGroups.com>
Message-ID: <000101c1ae8f$a49eee40$8964020a@matthewfnb>

here is a version that starts with //

// Single-line comments
SL_COMMENT
 : "//"
  (~('\n'|'\r'))* NEWLINE
  {$setType(Token.SKIP);}
 ;


NEWLINE
  : ( /* '\r' '\n' can be matched in one alternative or by matching
    '\r' in one iteration and '\n' in another.  I am trying to
    handle any flavor of newline that comes in, but the language
    that allows both "\r\n" and "\r" and "\n" to all be valid
    newline is ambiguous.  Consequently, the resulting grammar
    must be ambiguous.  I'm shutting this warning off.
    */
    options {
    generateAmbigWarnings=false;
   }
   : '\r' '\n'   // DOS
   | '\r'  // Macintosh
   | '\n' // Unix
   )  {newline();}
;

matthew
----- Original Message -----
From: "miguelpinheiro2000" <miguelpinheiro2000@yahoo.com>
To: <antlr-interest@yahoogroups.com>
Sent: Tuesday, February 05, 2002 9:25 PM
Subject: [antlr-interest] Ignoring special comment lines


> Hi!
> I would like to define a Lexer rule to match everything between ';'
> and the end of line and ignore it (except de ';'). I have allready
> defined a SEMI rule as
>
> SEMI : ';';
>
> because I'm interested to pass it to the Parser.
>
> The typical text file I would like to parse is in this format:
>
> <comand 1>;
> <comand 2>; ignored comment
> <comand 3>; ignored comment 2
> <comand 4>;
>
> Any help would be appreciated.
> Thank you,
>
> Miguel
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ince at pacifier.com  Tue Feb  5 01:53:21 2002
From: ince at pacifier.com (Michael Labhard)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] AntLR Bug solved
Message-ID: <02020517532100.06361@wrybread.labhard.com>

All:

	The following lexer file compiles without warnings and does distinguish a 
single END_CHAR from an END_CHAR followed by other GRAPHIC_TOKENS.

class L extends Lexer;
options { k=2; }

NAME_TOKEN
  : GRAPHIC_TOKEN
  ;

END_TOKEN: 
    END_CHAR 
    (
	(END_CHAR | GRAPHIC_TOKEN_CHAR)+ 
	{$setType(GRAPHIC_TOKEN);}
    )
    ;

protected 
GRAPHIC_TOKEN
    :
    GRAPHIC_TOKEN_CHAR 
    (END_CHAR | GRAPHIC_TOKEN_CHAR)* 
    ;

protected 
GRAPHIC_TOKEN_CHAR
  : GRAPHIC_CHAR | BACKSLASH_CHAR
  ;

protected 
GRAPHIC_CHAR
  : ( options {greedy=true;} : 
    '#'|'$'|'&'|'*'|'+'|'/'
    |':'|'<'|'='|'>'|'?'|'@'|'^'|'~'
    );

protected 
END_CHAR: '.' ;

protected 
BACKSLASH_CHAR: '\\' ;

	From this experience I come to understand "left-factoring" to mean, in 
practice, move all cases of the left-hand part of the token into a single 
rule.  That was the trick here.  The rule END_TOKEN handles all cases in 
which END_CHAR is the first character.  Previously the GRAPHIC_TOKEN rule was 
also attempting to handle this condition, along with the END_TOKEN rule.   
Thanks to all for your encouragement.  It was very instructive.

-- Michael


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From rjc at trump.net.au  Wed Feb  6 03:25:51 2002
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Antlr 2.7.2a2 Report
Message-ID: <4.2.0.58.20020206215019.00c1eae0@postoffice.trump.net.au>

Hi,

I have been using 2.7.2a2 for the last couple of weeks, overall it has been 
working well.  antlr.Tool seems to parse grammar files much faster, 
generated code all seems to be working just fine.

Anyway 3 kindof small points:

1) This is a totally trivial thing, but when generating bitsets in the lexer:

   private static final long[] mk_tokenSet_1() {
         long[] data = new long[8];
         data[0]=-576460752303432712L;
         for (int i = 1; i<=3; i++) { data[i]=-1L; }
         for (int i = 4; i<=7; i++) { data[i]=0L; }
         return data;
     }

Initializing the array to 0L is not needed as java does this 
automatically(only matters for unicode with lots of bitsets, and even then 
not much).

2) Exception constructor prototypes have changed.  I am not sure if i was 
supposed to be using these but in my grammar in a couple of places i needed 
to throw SemanticException's which now have a different prototype that 
includes the column number....i was wondering if for backwards 
compatibility could the old prototype(perhaps with @deprecated) so that 
2.7.2 is binary compatible with 2.7.1

3) In the BASIC parser i have been working on it is quite common for the 
BASIC programs to have a variable 'EOF'....this does not work at all with 
antlr which internally automatically defines the text for EOF token to 
"EOF" which causes an automatic match when looking up keywords.....i think 
this would also affect other languages.

ie  could the java grammar parse something like:
	class Test {
		public final static int EOF = -1;
	}


  - Robert


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Christian.Ernst at poet.de  Wed Feb  6 04:30:22 2002
From: Christian.Ernst at poet.de (Christian Ernst)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Antlr 2.7.2a2 Report
References: <4.2.0.58.20020206215019.00c1eae0@postoffice.trump.net.au>
Message-ID: <3C6121DE.3000704@poet.de>

Robert Colquhoun wrote:

>1) This is a totally trivial thing, but when generating bitsets in the lexer:
>
>   private static final long[] mk_tokenSet_1() {
>         long[] data = new long[8];
>         data[0]=-576460752303432712L;
>         for (int i = 1; i<=3; i++) { data[i]=-1L; }
>         for (int i = 4; i<=7; i++) { data[i]=0L; }
>         return data;
>     }
>
>Initializing the array to 0L is not needed as java does this 
>automatically(only matters for unicode with lots of bitsets, and even then 
>not much).
>
You are right
i checked that

Terence could you add follwing for 2.7.2a3 ?

JavaCodeGenerator.java
Line 1287:
-----------------------------
                   // j-1 is last member of run
                    println("\tfor (int i = "+i+"; i<="+(j-1)+"; i++) { 
data[i]="+
                            elems[i]+"L; }");
------------------------------
to:
-------------------------------
// skip the generation of a loop if member are 0L which is Java default
if ( elems[i] != 0 ) {
                   // j-1 is last member of run
                    println("\tfor (int i = "+i+"; i<="+(j-1)+"; i++) { 
data[i]="+
                            elems[i]+"L; }");
}
-------------------------------

mfg
Christian

From mzukowski at bco.com  Wed Feb  6 05:54:25 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] AntLR Bug solved
Message-ID: <170826586F3BD511910D0200C110AAA801C581F5@memail03.bco-home.com>

What are you expecting when you see ".."?  You will get one token of type
GRAPHIC_TOKEN, is that what you want?

Monty

> -----Original Message-----
> From: Michael Labhard [mailto:ince@pacifier.com]
> Sent: Tuesday, February 05, 2002 1:53 AM
> To: AntLR Interest
> Subject: [antlr-interest] AntLR Bug solved
> 
> 
> All:
> 
> 	The following lexer file compiles without warnings and 
> does distinguish a 
> single END_CHAR from an END_CHAR followed by other GRAPHIC_TOKENS.
> 
> class L extends Lexer;
> options { k=2; }
> 
> NAME_TOKEN
>   : GRAPHIC_TOKEN
>   ;
> 
> END_TOKEN: 
>     END_CHAR 
>     (
> 	(END_CHAR | GRAPHIC_TOKEN_CHAR)+ 
> 	{$setType(GRAPHIC_TOKEN);}
>     )
>     ;
> 
> protected 
> GRAPHIC_TOKEN
>     :
>     GRAPHIC_TOKEN_CHAR 
>     (END_CHAR | GRAPHIC_TOKEN_CHAR)* 
>     ;
> 
> protected 
> GRAPHIC_TOKEN_CHAR
>   : GRAPHIC_CHAR | BACKSLASH_CHAR
>   ;
> 
> protected 
> GRAPHIC_CHAR
>   : ( options {greedy=true;} : 
>     '#'|'$'|'&'|'*'|'+'|'/'
>     |':'|'<'|'='|'>'|'?'|'@'|'^'|'~'
>     );
> 
> protected 
> END_CHAR: '.' ;
> 
> protected 
> BACKSLASH_CHAR: '\\' ;
> 
> 	From this experience I come to understand 
> "left-factoring" to mean, in 
> practice, move all cases of the left-hand part of the token 
> into a single 
> rule.  That was the trick here.  The rule END_TOKEN handles 
> all cases in 
> which END_CHAR is the first character.  Previously the 
> GRAPHIC_TOKEN rule was 
> also attempting to handle this condition, along with the 
> END_TOKEN rule.   
> Thanks to all for your encouragement.  It was very instructive.
> 
> -- Michael
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Feb  6 09:37:45 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Antlr 2.7.2a2 Report
In-Reply-To: <3C6121DE.3000704@poet.de>
Message-ID: <3B1C4F46-1B28-11D6-9EE1-0030653DE0D6@jguru.com>


On Wednesday, February 6, 2002, at 04:30  AM, Christian Ernst wrote:

> Robert Colquhoun wrote:
>
>> 1) This is a totally trivial thing, but when generating bitsets in the 
>> lexer:
>>
>>   private static final long[] mk_tokenSet_1() {
>>         long[] data = new long[8];
>>         data[0]=-576460752303432712L;
>>         for (int i = 1; i<=3; i++) { data[i]=-1L; }
>>         for (int i = 4; i<=7; i++) { data[i]=0L; }
>>         return data;
>>     }
>>
>> Initializing the array to 0L is not needed as java does this 
>> automatically(only matters for unicode with lots of bitsets, and even 
>> then not much).
>>
> You are right
> i checked that
>
> Terence could you add follwing for 2.7.2a3 ?
>
> JavaCodeGenerator.java
> Line 1287:
> -----------------------------
>                   // j-1 is last member of run
>                    println("\tfor (int i = "+i+"; i<="+(j-1)+"; i++) 
> { data[i]="+
>                            elems[i]+"L; }");
> ------------------------------
> to:
> -------------------------------
> // skip the generation of a loop if member are 0L which is Java default
> if ( elems[i] != 0 ) {
>                   // j-1 is last member of run
>                    println("\tfor (int i = "+i+"; i<="+(j-1)+"; i++) 
> { data[i]="+
>                            elems[i]+"L; }");
> }
> -------------------------------

For sure.  I am laughing because I was certainly intending to do that 
but apparently got caught up in the range computation ;)

I have added the other stuff to the list as well.

Ter

--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From yhq323 at yahoo.com  Thu Feb  7 01:09:46 2002
From: yhq323 at yahoo.com (Haiqiang Yan)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] how to store  parser result
Message-ID: <001601c1afb7$3148b8d0$5801a8c0@miracle>

Hi all:
  I am trying to write a parser to parse the query statement (such as select * from ...) of SQL, and I want to store the structure of the query statement in a java Object. How should I do ? If I ought to embed many java code into .g file ? The following is a part of my .g file, I have add some java code in it to store the result. Please give me some advices. Thanks.
....
...
column_name [] returns [String colname = ""]
 : 
 (
 {Token tmp = null;}:
 tmp = table_name {colname += tmp.getText();}
 DOT   {colname += ".";}
 tmp = column_identifier {colname += tmp.getText();}
 {System.out.println("column_name:"+colname);}
 
 | tmp = column_identifier {colname += tmp.getText();}
   {System.out.println("column_name:"+colname);}
 )
 ;
....
....

regards
yhq323

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/antlr-interest/attachments/20020207/df365920/attachment.html
From robertkoudelka at power-solutions.com.au  Thu Feb  7 16:03:07 2002
From: robertkoudelka at power-solutions.com.au (koud0002)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Heterogeneous AST - simple calculator parser
Message-ID: <a3v4jr+ppn2@eGroups.com>

I am building a parser and an interpreter for a tool to validate data 
in a database.
I want to be able to specify validation rules for table columns (eg. 
> TODAY AND < #7-FEB-2002#)
 
I would like to use ANTLR to help me build the parser so I have 
started off with a simple grammar for a calculator.
I got (+, -, *, /) operators working. However, I have a difficulty 
incorporating unary minus into the grammar.
I tried to use actions to build parts of the AST but my attempt were 
unsuccessful.
Would you be able to point me in the right direction? Thank you.
 
I am using heterogeneous ASTs because I want to become familiar with 
this concept as I feel that I will need to use them later in the 
validator tool.
 
My grammar (calc.g), the AST node classes, a test program and a batch 
file to build the parser, compile it and run the Calc test program 
follow this message.
 
Sorry about bothering you with my problems but I would really 
appreciate your help.
 
Robert Koudelka



// File: calc.g
class CalcParser extends Parser;
options {
  k = 4;                           // four token lookahead
  codeGenMakeSwitchThreshold = 2;  // Some optimizations
  codeGenBitsetTestThreshold = 3;
  defaultErrorHandler = false;     // Don't generate parser error 
handlers
  ASTLabelType = "CalcAST";
	buildAST = true;
}

tokens {
  UNARY_MINUS<AST=UnaryMinusNode>;

  PLUS<AST=PlusNode>;
  MINUS<AST=MinusNode>;
  STAR<AST=MultNode>;
  DIV<AST=DivNode>;
  INT<AST=IntNode>;
}


expression
  : logicalExpression SEMI!
  ;

logicalExpression
  : relExpression ((AND^ | OR^) relExpression)*
  ;

relExpression
  : simpleExpression ((LT^ | LE^ | EQ^ | GE^ | GT^ | NEQ^) 
simpleExpression)*
  ;

simpleExpression
  : MINUS t:term!
     {
       System.out.println("Got unary");
       #simpleExpression = #([UNARY_MINUS, "-"], #t);

//       #simpleExpression = antlr.ASTFactory.create(new 
UnaryMinusNode(LT(1))), #t);
//       #simpleExpression = new UnaryMinusNode(t);
     }
  | term ( (PLUS^ | MINUS^) term )*
  ;

term
  : factor ( (STAR^ | DIV^) factor )*
  ;

factor
  : INT
  | LPAREN! logicalExpression RPAREN!
  ;


class CalcTreeWalker extends TreeParser;

expression returns [float r]
{
	float a,b;
	r=0;
}
	:	#(PLUS a=expression b=expression)	 { r = a+b; }
	|	#(MINUS a=expression b=expression) { r = a-b; }
	|	#(UNARY_MINUS a=expression)
    {
      r = (-1) * a;
    }
	|	#(STAR a=expression b=expression)  { r = a*b; }
	|	#(DIV a=expression b=expression)   { r = a/b; }
	|	#(LT a=expression b=expression)    { if (a < b) r = 
1; else r = 0; }
	|	#(LE a=expression b=expression)    { if (a <= b) r = 
1; else r = 0; }
	|	#(EQ a=expression b=expression)    { if (a == b) r = 
1; else r = 0; }
	|	#(GE a=expression b=expression)    { if (a >= b) r = 
1; else r = 0; }
	|	#(GT a=expression b=expression)    { if (a > b) r = 
1; else r = 0; }
	|	#(NEQ a=expression b=expression)   { if (a != b) r = 
1; else r = 0; }
	|	#(AND a=expression b=expression)   { if ((a > 0) && 
(b > 0))  r = 1; else r = 0; }
	|	#(OR a=expression b=expression)    { if ((a > 0) || 
(b > 0))  r = 1; else r = 0; }
	|	i:INT                              { r = (float)
Integer.parseInt(i.getText()); }
	;


class CalcLexer extends Lexer;
options {
  charVocabulary = '\0'..'\377';
  testLiterals = false;   // don't automatically test for literals
  k = 4;                  // four characters of lookahead
  caseSensitive = true;
  caseSensitiveLiterals = true;
}


WS
	:	(' '
	|	'\t'
	|	'\n'
	|	'\r')
		{ _ttype = Token.SKIP; }
	;

SEMI         options {paraphrase = ";";}     : ';'   ;
STAR         options {paraphrase = "*";}     : '*'   ;
PLUS         options {paraphrase = "+";}     : '+'   ;
MINUS        options {paraphrase = "-";}     : '-'   ;
DIV          options {paraphrase = "/";}     : '/'   ;
AND          options {paraphrase = "AND";}   : "AND" ;
OR           options {paraphrase = "OR";}    : "OR"  ;
EQ           options {paraphrase = "=";}     : '='   ;
NEQ          options {paraphrase = "<>";}    : "<>"  ;
LT           options {paraphrase = "<";}     : '<'   ;
LE           options {paraphrase = "<=";}    : "<="  ;
GE           options {paraphrase = ">=";}    : ">="  ;
GT           options {paraphrase = ">";}     : '>'   ;
LPAREN       options {paraphrase = "(";}     : '('   ;
RPAREN       options {paraphrase = ")";}     : ')'   ;


protected
DIGIT : '0'..'9';
INT   : (DIGIT)+;




// File: Calc.java
import java.io.*;
import antlr.CommonAST;
import antlr.collections.AST;
import antlr.RecognitionException;
import antlr.TokenStreamException;

class Calc {

	public static void main(String[] args) throws Exception {
		boolean b = true;

    try {
      if (args.length > 0) {
        String filename = args[0];
        if (processEquationFile(filename)) {
          return;
        }
      }

      float value = 0;
      BufferedReader reader = null;
      while (true) {
        System.out.print("Enter an expression: ");
        reader = new BufferedReader(new InputStreamReader(System.in));
        value = parseExpression(reader, "<stdin>");
        System.out.println("value is " + value);
      }
		}
		catch (TokenStreamException e) {
			System.err.println("exception: " + e);
		}
		catch (RecognitionException e) {
			System.err.println("exception: " + e);
		}
	}


  private static float parseExpression(Reader reader, String 
filename) {
    float r = 0;
    try {
      CalcLexer lexer = new CalcLexer(reader);
      lexer.setFilename(filename);
      CalcParser parser = new CalcParser(lexer);
      parser.setFilename(filename);
      parser.setASTNodeType("CalcAST");
      parser.setASTNodeClass("CalcAST");

      parser.expression(); // Parse the input expression
//      AST t = parser.getAST();
      CalcAST t = (CalcAST)parser.getAST();

      System.out.println("Tree in LIST notation: " + t.toStringTree
());
      CalcTreeWalker walker = new CalcTreeWalker();

      // Traverse the tree created by the parser
      r = walker.expression(t);

		} catch (TokenStreamException e) {
			System.err.println("exception: " + e);
		} catch (RecognitionException e) {
			System.err.println("exception: " + e);
		}

    return r;
  } // method parseExpression


  private static boolean processEquationFile(String filename) throws 
Exception {
    File f = new File(filename);
    if (f.exists() == false) {
      System.out.println("File: " + f.getAbsoluteFile() + " does not 
exist!");
      return false;
    }
    BufferedReader fileReader = new BufferedReader(new FileReader(f));
    StringReader reader = null;
    String line = null;
    float value = 0;
    while ((line = fileReader.readLine()) != null) {
      if (line.startsWith("//") || (line.length() == 0)) {
        continue;
      }
      System.out.println("\nProcessing equation: " + line);
      reader = new StringReader(line);
      value = parseExpression(reader, "<stdin>");
      System.out.println("value is " + value);
    }

    return true;
  } // method processEquationFile

} // class Calc



// File: CalcAST.java
import antlr.*;
import antlr.collections.AST;

public class CalcAST extends BaseAST {
  protected Token token;

  public CalcAST() {
  } // constructor

  public CalcAST(Token token) {
    this.token = token;
//    System.out.println("CalcAST(" + token + ") constructor");
  } // constructor

  public String getText() {
    if (this.token == null) {
      System.out.println("null token in CalcAST.getText()");
      return "";
    }
    return token.getText();
  }

  // satisfy abstract methods from BaseAST
  public void initialize(int parm1, String parm2) { }
  public void initialize(Token parm1) { }
  public void initialize(AST parm1) { }

  public int value() { return 0; }

} // class CalcAST



// File: BinaryOperatorAST.java
import antlr.*;
import antlr.collections.AST;

public abstract class BinaryOperatorAST extends CalcAST {

  public BinaryOperatorAST(Token token) {
    super(token);
  }

  public CalcAST left() {
    return (CalcAST) getFirstChild();
  }

  public CalcAST right() {
    CalcAST t = left();
    if (t == null) {
      return null;
    }
    return (CalcAST) t.getNextSibling();
  }

} // class BinaryOperatorAST



// File: IntNode
import antlr.*;
import antlr.collections.AST;

public class IntNode extends CalcAST {

  public IntNode(Token token) {
    super(token);
  }

  public int getType() {
    return CalcParserTokenTypes.INT;
  }

  public String toString() {
    return " " + value();
  }

  public int value() {
    return Integer.parseInt(token.getText());
  }

} // class IntNode



// File: PlusNode.java
import antlr.*;
import antlr.collections.AST;

public class PlusNode extends BinaryOperatorAST {

  public PlusNode(Token token) {
    super(token);
  }

  public int getType() {
    return CalcParserTokenTypes.PLUS;
  }

  public String toString() {
    return " +";
  }

  public int value() {
    if (left() == null) {
      System.out.println("Error: PlusNode (no operands)!");
      return 0;
    }

    int val = left().value();
    if (right() != null) { // binary plus
      val += right().value();
    }
    return val;
  }

} // class PlusNode



// File: MinusNode.java
import antlr.*;
import antlr.collections.AST;

public class MinusNode extends BinaryOperatorAST {

  public MinusNode(Token token) {
    super(token);
  }

  public int getType() {
    return CalcParserTokenTypes.MINUS;
  }

  public String toString() {
    return " -";
  }

  public int value() {
    if (left() == null) {
      System.out.println("Error: MinusNode (no operands)!");
      return 0;
    }

    int val = left().value();
    if (right() != null) { // binary plus
      val -= right().value();
    } else { // unary minus
      val = -val;
    }
    return val;
  }

} // class MinusNode



// File: MultNode.java
import antlr.*;
import antlr.collections.AST;

public class MultNode extends BinaryOperatorAST {

  public MultNode(Token token) {
    super(token);
  }

  public int getType() {
    return CalcParserTokenTypes.STAR;
  }

  public String toString() {
    return " *";
  }

  public int value() {
    return left().value() * right().value();
  }

} // class MultNode



// File: DivNode.java
import antlr.*;
import antlr.collections.AST;

public class DivNode extends BinaryOperatorAST {

  public DivNode(Token token) {
    super(token);
  }

  public int getType() {
    return CalcParserTokenTypes.DIV;
  }

  public String toString() {
    return " /";
  }

  public int value() {
    return left().value() / right().value();
  }

} // class DivNode



// File: UnaryMinusNode.java
import antlr.*;
import antlr.collections.AST;

public class UnaryMinusNode extends CalcAST {

  public UnaryMinusNode(Token token) {
    super(token);
    System.out.println("UnaryMinusNode(" + token + ") constructor");
  }

  public int getType() {
    return CalcParserTokenTypes.UNARY_MINUS;
  }

  public String toString() {
    return " - " + ((CalcAST) getFirstChild()).toString();
  }

  public int value() {
    System.out.println("UnaryMinusNode.value()");

    int val = ((CalcAST) getFirstChild()).value();
    System.out.println("UnaryMinusNode.value(): " + -val);
    return -val;
  }

} // class UnaryMinusNode



// File: 1.expr
 1;
 3 + 2;
 4 * 3 + 10 / 5;
 4 * ( 3 + 10 ) / 5;
 8 + 7 * 2;
 -1;
// (- 8) + 7 * 2;
// - ( 8 + 7 * 2);




// File: run.bat
set CLASSPATH=.;f:\java\antlr\antlr-2.7.1
java antlr.Tool calc.g

javac *.java

rem 1.expr is a file containing expressions
java Calc 1.expr



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sinan.karasu at boeing.com  Thu Feb  7 16:46:17 2002
From: sinan.karasu at boeing.com (Sinan)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Heterogeneous AST - simple calculator parser
References: <a3v4jr+ppn2@eGroups.com>
Message-ID: <3C631FD9.38FAE548@boeing.com>

koud0002 wrote:
> 
[...]
> 
> simpleExpression
>   : MINUS t:term!

change to

	:m:MINUS^  term      {#m.setType(UNARY_MINUS);}

you don't need all that UnaryMinusNode stuff. The rest is done in the
treewalker

 #(UNARY_MINUS expression ....

same for UNARY_PLUS...

Sinan

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From robertkoudelka at power-solutions.com.au  Thu Feb  7 19:47:47 2002
From: robertkoudelka at power-solutions.com.au (koud0002)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Re: Heterogeneous AST - simple calculator parser
In-Reply-To: <3C631FD9.38FAE548@boeing.com>
Message-ID: <a3vhp3+fphu@eGroups.com>

Thanks for your reply.

The AST is now constructed correctly.
However, I am now getting "unexpected end of subtree" 
NoViableAltException from the treewalker.
The treewalker still does not recognize UNARY_MINUS.

I would still like to use the custom AST. 
What am I doing wrong? Thanks

Robert

--- In antlr-interest@y..., Sinan <sinan.karasu@b...> wrote:
> koud0002 wrote:
> > 
> [...]
> > 
> > simpleExpression
> >   : MINUS t:term!
> 
> change to
> 
> 	:m:MINUS^  term      {#m.setType(UNARY_MINUS);}
> 
> you don't need all that UnaryMinusNode stuff. The rest is done in 
the
> treewalker
> 
>  #(UNARY_MINUS expression ....
> 
> same for UNARY_PLUS...
> 
> Sinan


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From umailnikhil at yahoo.co.in  Fri Feb  8 05:17:07 2002
From: umailnikhil at yahoo.co.in (umailnikhil)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] antlr-interest@yahoogroups.com
Message-ID: <a40j4j+e3hu@eGroups.com>

i am very novice in antlr stuff .

my objective was to scan a file .java and transform it into 
another .java 

in doing so i wanted to insert some statements into each control loop 
like if ,else if ,switch etc ..

i was using the java.g as given under the down load at antlr.org ...

my solution was to take another string buffer and add all the tokens 
found and all the charac=ters not taken into token ....

how do i get then i was trying to use the tokens getText() method but 
it aint working ...

any inputs ...

to put in short ..
1. how do i get a tokenised text
2. how do i get the untokenised text ..

anyother approach will all be helpful
:-):-)

thanks in advance


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Fri Feb  8 06:37:04 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Re: Heterogeneous AST - simple calculator pa
	rser
Message-ID: <170826586F3BD511910D0200C110AAA801C58208@memail03.bco-home.com>

Your token types may be out of sync.  Look at the generated code and make
sure that UNARY_MINUS exists in both parser and tree walker, and that its
value is the same in both.  You may not be setting the tokenVocabulary
properly.  If they are both in the same file then maybe you forgot to
recompile your treewalker.

Monty

> -----Original Message-----
> From: koud0002 [mailto:robertkoudelka@power-solutions.com.au]
> Sent: Thursday, February 07, 2002 7:48 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Heterogeneous AST - simple calculator
> parser
> 
> 
> Thanks for your reply.
> 
> The AST is now constructed correctly.
> However, I am now getting "unexpected end of subtree" 
> NoViableAltException from the treewalker.
> The treewalker still does not recognize UNARY_MINUS.
> 
> I would still like to use the custom AST. 
> What am I doing wrong? Thanks
> 
> Robert
> 
> --- In antlr-interest@y..., Sinan <sinan.karasu@b...> wrote:
> > koud0002 wrote:
> > > 
> > [...]
> > > 
> > > simpleExpression
> > >   : MINUS t:term!
> > 
> > change to
> > 
> > 	:m:MINUS^  term      {#m.setType(UNARY_MINUS);}
> > 
> > you don't need all that UnaryMinusNode stuff. The rest is done in 
> the
> > treewalker
> > 
> >  #(UNARY_MINUS expression ....
> > 
> > same for UNARY_PLUS...
> > 
> > Sinan
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From michel_cedric at hotmail.com  Fri Feb  8 09:11:02 2002
From: michel_cedric at hotmail.com (ycmichelid)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Unable to make a single token to match
Message-ID: <a410r6+n1i9@eGroups.com>

I'm unable to make a single token to match with ANTLR 2.7.1 (java).
I get an exception during the recognition of the first token of my
grammar.
I've got one file for the parser and one for the lexer.

-rules from the parser (all java code is removed here):

options {
  k = 2;
  exportVocab=P;
  importVocab=L;
}
debut : ALERT FUNCNAME OPENPAR ;

-rules from the lexer (rule to skip whitespaces is present but not
reproduced here):

options {
  exportVocab = L;
  k =6;
  caseSensitive = true;
  testLiterals = true;
  caseSensitiveLiterals = true;
}
ALERT: "Alert";
OPENPAR      : "(" ;
FUNCNAME : ('A'..'Z')( 'a'..'z' |  'A'..'Z' | '0'..'9' | '_' )+ ;


The data to parse(without double quotes:
"Alert NFSMount ("

Results of execution (functions consume() & consumeUntil() removed
from the generated java code):

> debut;  > lexer mALERT; c==A
 < lexer mALERT; c==
LA(1)==Alert
line 1: expecting ALERT, found 'Alert'
        at antlr.Parser.match(Parser.java:180)
        at AdeleParser.debut(AdeleParser.java:113)
        at AdeleParser.parseFile(AdeleParser.java:66)
        at AdeleParser.main(AdeleParser.java:39)
 < debut; LA(1)==Alert

If I remove the ALERT rule from the lexer and replace it with the
literal "Alert" in the parser, the error message is:

line 1: expecting "Alert", found 'Alert'

Does anybody have an idea of why it's going wrong?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From aworden at pacbell.net  Fri Feb  8 16:16:25 2002
From: aworden at pacbell.net (alexworden)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Help with a production rule
Message-ID: <a41pop+ns5e@eGroups.com>

Hi,

Can anyone help me. I'm trying to write an ANTLR rule that will match 
something like

<x1:y2> blah blah blah </x2:y2>

where x1==x2 and y1==y2 but I have not prior knowledge what these 
tokens might be. e.g.

<foo:bar>
 some other stuff
</foo:bar>

I've tried something like:

  : "<" x:WORD ":" y:WORD ">" MATCH_ALL "<" x.getText() ":" y.getText
() ">"

but ANTLR doesn't like it. Does anyone know how to do this please?

Thanks,

Alex




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From chuck.siska at nb.conexant.com  Sat Feb  9 08:17:26 2002
From: chuck.siska at nb.conexant.com (Chuck Siska)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Help with a production rule
References: <a41pop+ns5e@eGroups.com>
Message-ID: <3C654B96.B314E6DB@nb.conexant.com>

alex --

without massive lookahead (and its attendant slowdown) you'll
want to register the starting symbol tuples in a symbol table
and then give an error when you can finally determine that the 
corresponding ending tuple is missing (e.g., at the end of 
input/file, after 500 lines, at the end of some key outer
symbol tuple).

-- chuck

alexworden wrote:
> 
> Hi,
> 
> Can anyone help me. I'm trying to write an ANTLR rule that will match
> something like
> 
> <x1:y2> blah blah blah </x2:y2>
> 
> where x1==x2 and y1==y2 but I have not prior knowledge what these
> tokens might be. e.g.
> 
> <foo:bar>
>  some other stuff
> </foo:bar>
> 
> I've tried something like:
> 
>   : "<" x:WORD ":" y:WORD ">" MATCH_ALL "<" x.getText() ":" y.getText
> () ">"
> 
> but ANTLR doesn't like it. Does anyone know how to do this please?
> 
> Thanks,
> 
> Alex

-- 
                                           |\_/\_.-'""``:-._       
What is life without looking for           . . `; -._      )-;-,_`)
the next cute little bug to play with?     v_,-    _  ),(,.\  ``-' 
                                          _.- _.,-_/ /  ((.'       
-- chuck.siska@conexant.com  `<}:..     ((,.-'   ((,/

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Matthew.Ford at forward.com.au  Sat Feb  9 12:23:24 2002
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Help with a production rule
References: <a41pop+ns5e@eGroups.com> <3C654B96.B314E6DB@nb.conexant.com>
Message-ID: <000401c1b1a7$a0d9af00$0300a8c0@matthewfnb>

Alex,

No I don't think you need massive lookahead.
You need only lookahead far enough to check for
WORD:WORD>
This assumes WORD cannot include COLON or LEFT_ANGLE or RIGHT_ANGEL


Here is some pseudo Antlr  (I have not tried to compile this)

In the parser
boolean start = true;
String startX, startY;



input
 : checkForDelimiters  // handles < and delimiters
 |  WORD
 |  COLON
 |  RIGHT_ANGLE
;

protected
checkForDelimiters
{ boolean foundDelimiter = false;
}
:  (la:LEFT_ANGLE  ((delimiter)=> delimiter {foundDelimiter=true)?  // does
this start a delimiter
   )  {
         if (!foundDelimiter) {
                 // add la to input
         }
       }
   ;

protected
delimiter:
// skip the LEFT_ANGLE as this is pickup in the calling rule
x:WORD COLON y:WORD RIGHT_ANGLE
  {
     if (start) {
         startingX = x.getText();
         startingY = y:getText()
         start = false;  // if you have nested <w:w> you will need a stack
and more checking
      } else {
        // check ending match
        if ( !startingX.equals(x1.getText()) ||
!startingY.equals(y1.getText()) ) {
                // no match
                // throw parseException or your own exception
        }
 }

matthew
----- Original Message -----
From: "Chuck Siska" <chuck.siska@nb.conexant.com>
To: <antlr-interest@yahoogroups.com>
Sent: Sunday, February 10, 2002 3:17 AM
Subject: Re: [antlr-interest] Help with a production rule


> alex --
>
> without massive lookahead (and its attendant slowdown) you'll
> want to register the starting symbol tuples in a symbol table
> and then give an error when you can finally determine that the
> corresponding ending tuple is missing (e.g., at the end of
> input/file, after 500 lines, at the end of some key outer
> symbol tuple).
>
> -- chuck
>
> alexworden wrote:
> >
> > Hi,
> >
> > Can anyone help me. I'm trying to write an ANTLR rule that will match
> > something like
> >
> > <x1:y2> blah blah blah </x2:y2>
> >
> > where x1==x2 and y1==y2 but I have not prior knowledge what these
> > tokens might be. e.g.
> >
> > <foo:bar>
> >  some other stuff
> > </foo:bar>
> >
> > I've tried something like:
> >
> >   : "<" x:WORD ":" y:WORD ">" MATCH_ALL "<" x.getText() ":" y.getText
> > () ">"
> >
> > but ANTLR doesn't like it. Does anyone know how to do this please?
> >
> > Thanks,
> >
> > Alex
>
> --
>                                            |\_/\_.-'""``:-._
> What is life without looking for           . . `; -._      )-;-,_`)
> the next cute little bug to play with?     v_,-    _  ),(,.\  ``-'
>                                           _.- _.,-_/ /  ((.'
> -- chuck.siska@conexant.com  `<}:..     ((,.-'   ((,/
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mnr at cs.man.ac.uk  Sun Feb 10 12:43:09 2002
From: mnr at cs.man.ac.uk (Mark Ryall)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] retrieving values
Message-ID: <3C66DB5D.71D012EA@cs.man.ac.uk>

Hi

This is part of my code where:
    s is a std::string and
    NAME is an identifier(string representation)

I want to recieve the values of the NAME and store it in a std::string!
But it doesn't work!

 :  #( STRUCTURE_DEF ( ( builtInType n1:NAME )
         {
              s = n1.get();
              pName = new RPLName( s );
              pStruct->setName( pName );
         }


Mark


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From robertkoudelka at power-solutions.com.au  Sun Feb 10 18:38:12 2002
From: robertkoudelka at power-solutions.com.au (koud0002)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Re: Heterogeneous AST - simple calculator pa rser
In-Reply-To: <170826586F3BD511910D0200C110AAA801C58208@memail03.bco-home.com>
Message-ID: <a47aqk+10do0@eGroups.com>

The problem is with the heterogeneous AST construction.
If I use the default AST the grammar works as expected.
However, when I add the parser option:
  ASTLabelType = "CalcAST";

the tokens definition:
tokens {
  UNARY_MINUS<AST=UnaryMinusNode>;

  PLUS<AST=PlusNode>;
  MINUS<AST=MinusNode>;
  STAR<AST=MultNode>;
  DIV<AST=DivNode>;
  INT<AST=IntNode>;
}

and call the following methods on a parser object:
      parser.setASTNodeType("CalcAST");
      parser.setASTNodeClass("CalcAST");
it breaks.

I get: "unexpected end of subtree" error when tree-walking the 
expression: (- 8) + 7 * 2

Expression: -1 does not yield this error but still gives incorrect 
result of 1.

What do I need to do to get my hetorogeneous AST working properly.
Robert






 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sagarbiyani at yahoo.com  Sun Feb 10 19:40:57 2002
From: sagarbiyani at yahoo.com (SAGAR BIYANI)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Resolving conflict between keyword and identifier
Message-ID: <20020211034057.3095.qmail@web12508.mail.yahoo.com>

Hi, 

I am writing grammar for SQL. Trying to resolve
conflict between keyword and identifier through the
following rules:

keyword: "access" |"admin" ... ; 

id: ID |keyword; 

The above rule works only if the keywords defined in
the keyword rule is less. If it exceeds above certain
limit(approx 100), ANTLR generates wrong code in the
parsers (starts ignoring predicates) and hence the
whole thing is not working. Anybody know how to
resolve this problem? 

Thanks in advance.

-Sagar

__________________________________________________
Do You Yahoo!?
Send FREE Valentine eCards with Yahoo! Greetings!
http://greetings.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Feb 10 22:01:30 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Resolving conflict between keyword and identifier
In-Reply-To: <20020211034057.3095.qmail@web12508.mail.yahoo.com>
Message-ID: <CB6BA4EF-1EB4-11D6-9913-0030653DE0D6@jguru.com>


On Sunday, February 10, 2002, at 07:40  PM, SAGAR BIYANI wrote:

> Hi,
>
> I am writing grammar for SQL. Trying to resolve
> conflict between keyword and identifier through the
> following rules:
>
> keyword: "access" |"admin" ... ;
>
> id: ID |keyword;
>
> The above rule works only if the keywords defined in
> the keyword rule is less. If it exceeds above certain
> limit(approx 100), ANTLR generates wrong code in the
> parsers (starts ignoring predicates) and hence the
> whole thing is not working. Anybody know how to
> resolve this problem?

antlr 2.7.1 or 2.7.2a2?

Ter


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sagarbiyani at yahoo.com  Mon Feb 11 00:10:43 2002
From: sagarbiyani at yahoo.com (SAGAR BIYANI)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Resolving conflict between keyword and identifier
In-Reply-To: <CB6BA4EF-1EB4-11D6-9913-0030653DE0D6@jguru.com>
Message-ID: <20020211081043.77681.qmail@web12501.mail.yahoo.com>

I am using version 2.7.1. Is that a bug in 2.7.1
version. I haven't tried on 2.7.2a2.

-Sagar

--- Terence Parr <parrt@jguru.com> wrote:
> 
> On Sunday, February 10, 2002, at 07:40  PM, SAGAR
> BIYANI wrote:
> 
> > Hi,
> >
> > I am writing grammar for SQL. Trying to resolve
> > conflict between keyword and identifier through
> the
> > following rules:
> >
> > keyword: "access" |"admin" ... ;
> >
> > id: ID |keyword;
> >
> > The above rule works only if the keywords defined
> in
> > the keyword rule is less. If it exceeds above
> certain
> > limit(approx 100), ANTLR generates wrong code in
> the
> > parsers (starts ignoring predicates) and hence the
> > whole thing is not working. Anybody know how to
> > resolve this problem?
> 
> antlr 2.7.1 or 2.7.2a2?
> 
> Ter
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do You Yahoo!?
Send FREE Valentine eCards with Yahoo! Greetings!
http://greetings.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sagarbiyani at yahoo.com  Mon Feb 11 00:47:08 2002
From: sagarbiyani at yahoo.com (SAGAR BIYANI)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Resolving conflict between keyword and identifier
In-Reply-To: <20020211081043.77681.qmail@web12501.mail.yahoo.com>
Message-ID: <20020211084708.29446.qmail@web12508.mail.yahoo.com>

Hi Terence,
    I have tried on both 2.7.1 and 2.7.2a2 version.
But ANTLR generates wrong code in the parsers (starts
ignoring predicates).
    Any help on this will be appreciated.

-Sagar

--- SAGAR BIYANI <sagarbiyani@yahoo.com> wrote:
> I am using version 2.7.1. Is that a bug in 2.7.1
> version. I haven't tried on 2.7.2a2.
> 
> -Sagar
> 
> --- Terence Parr <parrt@jguru.com> wrote:
> > 
> > On Sunday, February 10, 2002, at 07:40  PM, SAGAR
> > BIYANI wrote:
> > 
> > > Hi,
> > >
> > > I am writing grammar for SQL. Trying to resolve
> > > conflict between keyword and identifier through
> > the
> > > following rules:
> > >
> > > keyword: "access" |"admin" ... ;
> > >
> > > id: ID |keyword;
> > >
> > > The above rule works only if the keywords
> defined
> > in
> > > the keyword rule is less. If it exceeds above
> > certain
> > > limit(approx 100), ANTLR generates wrong code in
> > the
> > > parsers (starts ignoring predicates) and hence
> the
> > > whole thing is not working. Anybody know how to
> > > resolve this problem?
> > 
> > antlr 2.7.1 or 2.7.2a2?
> > 
> > Ter
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/ 
> > 
> > 
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Send FREE Valentine eCards with Yahoo! Greetings!
> http://greetings.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do You Yahoo!?
Send FREE Valentine eCards with Yahoo! Greetings!
http://greetings.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From michel_cedric at hotmail.com  Mon Feb 11 06:07:58 2002
From: michel_cedric at hotmail.com (ycmichelid)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Why I have to use explicitly $setType()?
Message-ID: <a48j7u+5j0q@eGroups.com>

My problem (http://groups.yahoo.com/group/antlr-interest/message/5028)
seems to be also a conflict between keyword and identifier.

I found a solution to make my tokens being recognized normally.
I have to explicitly use the function $setType().

In my case , rules in my lexer become (rule to skip whitespace
ignored):

ALERT: "Alert" {$setType(TestTokenTypes.ALERT);};
OPENPAR : "(" {$setType(TestTokenTypes.OPENPAR);};
FUNCNAME : ('A'..'Z')( 'a'..'z' | 'A'..'Z' | '0'..'9' | '_' )+
           {$setType(TestTokenTypes.FUNCNAME);}
;

So, it works now.
But why do i have to set the type of the tokens manually?



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Mon Feb 11 07:33:18 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Why I have to use explicitly $setType()?
Message-ID: <170826586F3BD511910D0200C110AAA801C5820F@memail03.bco-home.com>

ALERT really should be a keyword and not a lexer rule.  FUNCNAME should have
the option testLiterals set to true.  You should not have to set types
explicitly as you have done below, by default they are the same type as the
rule.

Read the generated code, it's always the key to understanding antlr.

Monty

> -----Original Message-----
> From: ycmichelid [mailto:michel_cedric@hotmail.com]
> Sent: Monday, February 11, 2002 6:08 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Why I have to use explicitly $setType()?
> 
> 
> My problem (http://groups.yahoo.com/group/antlr-interest/message/5028)
> seems to be also a conflict between keyword and identifier.
> 
> I found a solution to make my tokens being recognized normally.
> I have to explicitly use the function $setType().
> 
> In my case , rules in my lexer become (rule to skip whitespace
> ignored):
> 
> ALERT: "Alert" {$setType(TestTokenTypes.ALERT);};
> OPENPAR : "(" {$setType(TestTokenTypes.OPENPAR);};
> FUNCNAME : ('A'..'Z')( 'a'..'z' | 'A'..'Z' | '0'..'9' | '_' )+
>            {$setType(TestTokenTypes.FUNCNAME);}
> ;
> 
> So, it works now.
> But why do i have to set the type of the tokens manually?
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From greenj at ix.netcom.com  Mon Feb 11 09:48:37 2002
From: greenj at ix.netcom.com (John Green)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Resolving conflict between keyword and identifier
In-Reply-To: <20020211034057.3095.qmail@web12508.mail.yahoo.com>
Message-ID: <NEBBJKNCALMJLNPAAMECGEANFAAA.johnallengreen@yahoo.com>

In my lexer I use:

ID
options {
        testLiterals = true;
}
	:	('a'..'z'|'_'|'$')
	etc.

and then for the keyword rule I have a list of token types rather than a
list of string literals.

Works for me, with many hundreds of keywords. (Of course, make the keywords
list big enough and you can run into the old "virtual memory exhausted"
error from G++, but that's another issue)

HTH
John Green
www.joanju.com


> -----Original Message-----
> From: SAGAR BIYANI [mailto:sagarbiyani@yahoo.com]
> Sent: Sunday, February 10, 2002 7:41 PM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Resolving conflict between keyword and
> identifier
>
>
> Hi,
>
> I am writing grammar for SQL. Trying to resolve
> conflict between keyword and identifier through the
> following rules:
>
> keyword: "access" |"admin" ... ;
>
> id: ID |keyword;
>
> The above rule works only if the keywords defined in
> the keyword rule is less. If it exceeds above certain
> limit(approx 100), ANTLR generates wrong code in the
> parsers (starts ignoring predicates) and hence the
> whole thing is not working. Anybody know how to
> resolve this problem?
>
> Thanks in advance.
>
> -Sagar
>
> __________________________________________________
> Do You Yahoo!?
> Send FREE Valentine eCards with Yahoo! Greetings!
> http://greetings.yahoo.com
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From JVincent at Novell.Com  Mon Feb 11 09:54:34 2002
From: JVincent at Novell.Com (Jeff Vincent)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Help w/ ANTLR task inside ANT/Netbeans . . . please
Message-ID: <sc67a2f1.004@prv-mail20.provo.novell.com>

I need some perspective if someone would be so kind as to enlighten me.

The answers for this specific issue have gone unanswered in my archive
searches.

I am using ANT for the first time within NetBeans 3.3.1 (ANT v1.4.1)
and am attempting to use the ANTLR optional task.  I have placed
ANTLR.jar everywhere I can find a .jar file in my NetBeans
installation,
including the path specified in the ANT help for optional tasks
(NBINSTALL/modules/patches/org-apache-tools-ant-module/).

Regardless of where I put the antlr.jar file, it always says
"java.lang.NoClassDefFoundError: antlr/Tool".  The only way around it
that I have found so far is to open a shell, set my shell environment
variable CLASSPATH to point to the antlr.jar and then launch Netbeans
from the shell.

I have tried to set the classpath inside the ANT script, but it seems
to ignore it.  It also ignores all my netbeans properties that all
have
the antlr.jar included (mounted filesystems).  I can't seem to
override
the "java.class.path" property.  It just seems that it is either
ignoring any properties available when invoking "java" to process my
.g
files.

What do I need to set in order for the ANTLR task to see (and use) the
antlr.jar file, short of setting the environment variable?  This
project
is shared and I want to put the necessary .jar references in the ANT
task and not require a bunch of external configuration before
launching
netbeans.

A lot of past e-mail generically refers to setting the ANT classpath
property for use with the "java" task, setting fork to "yes" and
passing
in the new classpath.  If that is the only way of using a
task-specific
classpath, what good is the ANTLR task (or any other task that
requires
modifications to classpath)?  Traditional makefiles allow building and
setting environment variables temporarily without affecting the global
environment during the make process.  It seems that so far, ANT
disallows this.  Why?

I hope I am missing something simple.

Thanks,

Jeff



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Mon Feb 11 09:57:00 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Help w/ ANTLR task inside ANT/Netbeans . . .
	 please
Message-ID: <170826586F3BD511910D0200C110AAA801C58211@memail03.bco-home.com>

antlr.jar does not include the antlr.Tool classes.  It is a jar for the
runtime classes which a parser built with antlr needs.  Try creating your
own jar from the antlr directory, then see if that works.

Monty

> -----Original Message-----
> From: Jeff Vincent [mailto:JVincent@Novell.Com]
> Sent: Monday, February 11, 2002 9:55 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Help w/ ANTLR task inside ANT/Netbeans . . .
> please
> 
> 
> I need some perspective if someone would be so kind as to 
> enlighten me.
> 
> The answers for this specific issue have gone unanswered in my archive
> searches.
> 
> I am using ANT for the first time within NetBeans 3.3.1 (ANT v1.4.1)
> and am attempting to use the ANTLR optional task.  I have placed
> ANTLR.jar everywhere I can find a .jar file in my NetBeans
> installation,
> including the path specified in the ANT help for optional tasks
> (NBINSTALL/modules/patches/org-apache-tools-ant-module/).
> 
> Regardless of where I put the antlr.jar file, it always says
> "java.lang.NoClassDefFoundError: antlr/Tool".  The only way around it
> that I have found so far is to open a shell, set my shell environment
> variable CLASSPATH to point to the antlr.jar and then launch Netbeans
> from the shell.
> 
> I have tried to set the classpath inside the ANT script, but it seems
> to ignore it.  It also ignores all my netbeans properties that all
> have
> the antlr.jar included (mounted filesystems).  I can't seem to
> override
> the "java.class.path" property.  It just seems that it is either
> ignoring any properties available when invoking "java" to process my
> .g
> files.
> 
> What do I need to set in order for the ANTLR task to see (and use) the
> antlr.jar file, short of setting the environment variable?  This
> project
> is shared and I want to put the necessary .jar references in the ANT
> task and not require a bunch of external configuration before
> launching
> netbeans.
> 
> A lot of past e-mail generically refers to setting the ANT classpath
> property for use with the "java" task, setting fork to "yes" and
> passing
> in the new classpath.  If that is the only way of using a
> task-specific
> classpath, what good is the ANTLR task (or any other task that
> requires
> modifications to classpath)?  Traditional makefiles allow building and
> setting environment variables temporarily without affecting the global
> environment during the make process.  It seems that so far, ANT
> disallows this.  Why?
> 
> I hope I am missing something simple.
> 
> Thanks,
> 
> Jeff
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From JVincent at Novell.Com  Mon Feb 11 11:47:23 2002
From: JVincent at Novell.Com (Jeff Vincent)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Help w/ ANTLR task inside ANT/Netbeans .
	. .please
Message-ID: <sc67bd61.011@prv-mail20.provo.novell.com>

I should have mentioned that I built a .jar w/ all antlr classes (used
mkdebugjar.bat) copied it to the netbeans directory
"C:\netbeans-3.3.1\modules\patches\org-apache-tools-ant-module" AND into
lib, lib/ext, modules, modules/ext with the same error.
 
It is interesting that it appears to be spawning a new thread/process
using the following command w/ results:

java antlr.Tool -o
H:\Projects\jXPOZ\src\com\novell\ndstest\engine\parser\generatedSource
H:\Projects\jXPOZ\src\com\novell\ndstest\engine\parser\jXPOZLexer.g
Execute:Java13CommandLauncher: java antlr.Tool -o
H:\Projects\jXPOZ\src\com\novell\ndstest\engine\parser\generatedSource
H:\Projects\jXPOZ\src\com\novell\ndstest\engine\parser\jXPOZLexer.g
java.lang.NoClassDefFoundError: antlr/Tool
Exception in thread "main" 
com/novell/ndstest/engine/parser/ParserGen.xml [15] java failed with
return code 1
        at
org.apache.tools.ant.taskdefs.Execute.runCommand(Execute.java:461)
        at
org.apache.tools.ant.taskdefs.optional.ANTLR.execute(ANTLR.java:116)
        at org.apache.tools.ant.Task.perform(Task.java:217)
        at org.apache.tools.ant.Target.execute(Target.java:184)
        at org.apache.tools.ant.Target.performTasks(Target.java:202)
        at
org.apache.tools.ant.Project.executeTarget(Project.java:601)
        at
org.apache.tools.ant.Project.executeTargets(Project.java:560)
        at
org.apache.tools.ant.module.run.TargetExecutor.run(TargetExecutor.java:277)
        at
org.netbeans.core.execution.RunClassThread.run(RunClassThread.java:118)
BUILD FAILED
Total time: 0 seconds

It doesn't set the class path upon execution of the command which is
why it seems to only recognize the CLASSPATH set in the environment. 
"Java.exe" doesnt know any better, much less anything about Netbeans.

>>> mzukowski@bco.com 02/11/02 10:57AM >>>
antlr.jar does not include the antlr.Tool classes.  It is a jar for
the
runtime classes which a parser built with antlr needs.  Try creating
your
own jar from the antlr directory, then see if that works.

Monty

> -----Original Message-----
> From: Jeff Vincent [mailto:JVincent@Novell.Com] 
> Sent: Monday, February 11, 2002 9:55 AM
> To: antlr-interest@yahoogroups.com 
> Subject: [antlr-interest] Help w/ ANTLR task inside ANT/Netbeans . .
.
> please
> 
> 
> I need some perspective if someone would be so kind as to 
> enlighten me.
> 
> The answers for this specific issue have gone unanswered in my
archive
> searches.
> 
> I am using ANT for the first time within NetBeans 3.3.1 (ANT v1.4.1)
> and am attempting to use the ANTLR optional task.  I have placed
> ANTLR.jar everywhere I can find a .jar file in my NetBeans
> installation,
> including the path specified in the ANT help for optional tasks
> (NBINSTALL/modules/patches/org-apache-tools-ant-module/).
> 
> Regardless of where I put the antlr.jar file, it always says
> "java.lang.NoClassDefFoundError: antlr/Tool".  The only way around
it
> that I have found so far is to open a shell, set my shell
environment
> variable CLASSPATH to point to the antlr.jar and then launch
Netbeans
> from the shell.
> 
> I have tried to set the classpath inside the ANT script, but it
seems
> to ignore it.  It also ignores all my netbeans properties that all
> have
> the antlr.jar included (mounted filesystems).  I can't seem to
> override
> the "java.class.path" property.  It just seems that it is either
> ignoring any properties available when invoking "java" to process my
> .g
> files.
> 
> What do I need to set in order for the ANTLR task to see (and use)
the
> antlr.jar file, short of setting the environment variable?  This
> project
> is shared and I want to put the necessary .jar references in the ANT
> task and not require a bunch of external configuration before
> launching
> netbeans.
> 
> A lot of past e-mail generically refers to setting the ANT classpath
> property for use with the "java" task, setting fork to "yes" and
> passing
> in the new classpath.  If that is the only way of using a
> task-specific
> classpath, what good is the ANTLR task (or any other task that
> requires
> modifications to classpath)?  Traditional makefiles allow building
and
> setting environment variables temporarily without affecting the
global
> environment during the make process.  It seems that so far, ANT
> disallows this.  Why?
> 
> I hope I am missing something simple.
> 
> Thanks,
> 
> Jeff
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Matthew.Ford at forward.com.au  Mon Feb 11 13:50:15 2002
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Help w/ ANTLR task inside ANT/Netbeans .. .please
References: <sc67bd61.011@prv-mail20.provo.novell.com>
Message-ID: <002c01c1b346$172a3810$0300a8c0@matthewfnb>

Tomcat recommends not using Java V1.4 with Tomcat as it has class path
loading problems.
Not sure if this is fixed in Release Candidate, or fixed in Tomcat V4.0.1
I am using V1.3_03 with Tomcat OK after having trouble with V1.4 (which I
could not reproduce for a Java Bug)
Sorry not very helpful,  just try Java V1.3 and see if that works.
matthew
----- Original Message -----
From: "Jeff Vincent" <JVincent@Novell.Com>
To: <antlr-interest@yahoogroups.com>
Sent: Tuesday, February 12, 2002 6:47 AM
Subject: RE: [antlr-interest] Help w/ ANTLR task inside ANT/Netbeans ..
.please


> I should have mentioned that I built a .jar w/ all antlr classes (used
> mkdebugjar.bat) copied it to the netbeans directory
> "C:\netbeans-3.3.1\modules\patches\org-apache-tools-ant-module" AND into
> lib, lib/ext, modules, modules/ext with the same error.
>
> It is interesting that it appears to be spawning a new thread/process
> using the following command w/ results:
>
> java antlr.Tool -o
> H:\Projects\jXPOZ\src\com\novell\ndstest\engine\parser\generatedSource
> H:\Projects\jXPOZ\src\com\novell\ndstest\engine\parser\jXPOZLexer.g
> Execute:Java13CommandLauncher: java antlr.Tool -o
> H:\Projects\jXPOZ\src\com\novell\ndstest\engine\parser\generatedSource
> H:\Projects\jXPOZ\src\com\novell\ndstest\engine\parser\jXPOZLexer.g
> java.lang.NoClassDefFoundError: antlr/Tool
> Exception in thread "main"
> com/novell/ndstest/engine/parser/ParserGen.xml [15] java failed with
> return code 1
>         at
> org.apache.tools.ant.taskdefs.Execute.runCommand(Execute.java:461)
>         at
> org.apache.tools.ant.taskdefs.optional.ANTLR.execute(ANTLR.java:116)
>         at org.apache.tools.ant.Task.perform(Task.java:217)
>         at org.apache.tools.ant.Target.execute(Target.java:184)
>         at org.apache.tools.ant.Target.performTasks(Target.java:202)
>         at
> org.apache.tools.ant.Project.executeTarget(Project.java:601)
>         at
> org.apache.tools.ant.Project.executeTargets(Project.java:560)
>         at
>
org.apache.tools.ant.module.run.TargetExecutor.run(TargetExecutor.java:277)
>         at
> org.netbeans.core.execution.RunClassThread.run(RunClassThread.java:118)
> BUILD FAILED
> Total time: 0 seconds
>
> It doesn't set the class path upon execution of the command which is
> why it seems to only recognize the CLASSPATH set in the environment.
> "Java.exe" doesnt know any better, much less anything about Netbeans.
>
> >>> mzukowski@bco.com 02/11/02 10:57AM >>>
> antlr.jar does not include the antlr.Tool classes.  It is a jar for
> the
> runtime classes which a parser built with antlr needs.  Try creating
> your
> own jar from the antlr directory, then see if that works.
>
> Monty
>
> > -----Original Message-----
> > From: Jeff Vincent [mailto:JVincent@Novell.Com]
> > Sent: Monday, February 11, 2002 9:55 AM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] Help w/ ANTLR task inside ANT/Netbeans . .
> .
> > please
> >
> >
> > I need some perspective if someone would be so kind as to
> > enlighten me.
> >
> > The answers for this specific issue have gone unanswered in my
> archive
> > searches.
> >
> > I am using ANT for the first time within NetBeans 3.3.1 (ANT v1.4.1)
> > and am attempting to use the ANTLR optional task.  I have placed
> > ANTLR.jar everywhere I can find a .jar file in my NetBeans
> > installation,
> > including the path specified in the ANT help for optional tasks
> > (NBINSTALL/modules/patches/org-apache-tools-ant-module/).
> >
> > Regardless of where I put the antlr.jar file, it always says
> > "java.lang.NoClassDefFoundError: antlr/Tool".  The only way around
> it
> > that I have found so far is to open a shell, set my shell
> environment
> > variable CLASSPATH to point to the antlr.jar and then launch
> Netbeans
> > from the shell.
> >
> > I have tried to set the classpath inside the ANT script, but it
> seems
> > to ignore it.  It also ignores all my netbeans properties that all
> > have
> > the antlr.jar included (mounted filesystems).  I can't seem to
> > override
> > the "java.class.path" property.  It just seems that it is either
> > ignoring any properties available when invoking "java" to process my
> > .g
> > files.
> >
> > What do I need to set in order for the ANTLR task to see (and use)
> the
> > antlr.jar file, short of setting the environment variable?  This
> > project
> > is shared and I want to put the necessary .jar references in the ANT
> > task and not require a bunch of external configuration before
> > launching
> > netbeans.
> >
> > A lot of past e-mail generically refers to setting the ANT classpath
> > property for use with the "java" task, setting fork to "yes" and
> > passing
> > in the new classpath.  If that is the only way of using a
> > task-specific
> > classpath, what good is the ANTLR task (or any other task that
> > requires
> > modifications to classpath)?  Traditional makefiles allow building
> and
> > setting environment variables temporarily without affecting the
> global
> > environment during the make process.  It seems that so far, ANT
> > disallows this.  Why?
> >
> > I hope I am missing something simple.
> >
> > Thanks,
> >
> > Jeff
> >
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/
> >
> >
> >
>
>
>
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/
>
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sagarbiyani at yahoo.com  Mon Feb 11 23:15:49 2002
From: sagarbiyani at yahoo.com (SAGAR BIYANI)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Resolving conflict between keyword and identifier
In-Reply-To: <NEBBJKNCALMJLNPAAMECGEANFAAA.johnallengreen@yahoo.com>
Message-ID: <20020212071549.12140.qmail@web12508.mail.yahoo.com>

Hi John,
     Could you please mail me the sample keyword rule
containing the list of tokens. 

Thanks,
Sagar

--- John Green <greenj@ix.netcom.com> wrote:
> In my lexer I use:
> 
> ID
> options {
>         testLiterals = true;
> }
> 	:	('a'..'z'|'_'|'$')
> 	etc.
> 
> and then for the keyword rule I have a list of token
> types rather than a
> list of string literals.
> 
> Works for me, with many hundreds of keywords. (Of
> course, make the keywords
> list big enough and you can run into the old
> "virtual memory exhausted"
> error from G++, but that's another issue)
> 
> HTH
> John Green
> www.joanju.com
> 
> 
> > -----Original Message-----
> > From: SAGAR BIYANI [mailto:sagarbiyani@yahoo.com]
> > Sent: Sunday, February 10, 2002 7:41 PM
> > To: antlr-interest@yahoogroups.com
> > Subject: [antlr-interest] Resolving conflict
> between keyword and
> > identifier
> >
> >
> > Hi,
> >
> > I am writing grammar for SQL. Trying to resolve
> > conflict between keyword and identifier through
> the
> > following rules:
> >
> > keyword: "access" |"admin" ... ;
> >
> > id: ID |keyword;
> >
> > The above rule works only if the keywords defined
> in
> > the keyword rule is less. If it exceeds above
> certain
> > limit(approx 100), ANTLR generates wrong code in
> the
> > parsers (starts ignoring predicates) and hence the
> > whole thing is not working. Anybody know how to
> > resolve this problem?
> >
> > Thanks in advance.
> >
> > -Sagar
> >
> > __________________________________________________
> > Do You Yahoo!?
> > Send FREE Valentine eCards with Yahoo! Greetings!
> > http://greetings.yahoo.com
> >
> >
> >
> > Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/
> >
> >
> 
> 
>
_________________________________________________________
> Do You Yahoo!?
> Get your free @yahoo.com address at
> http://mail.yahoo.com
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do You Yahoo!?
Send FREE Valentine eCards with Yahoo! Greetings!
http://greetings.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From michel_cedric at hotmail.com  Tue Feb 12 01:42:11 2002
From: michel_cedric at hotmail.com (ycmichelid)
Date: Mon Dec 20 16:14:40 2004
Subject: Why I have to use explicitly $setType()?
In-Reply-To: <170826586F3BD511910D0200C110AAA801C5820F@memail03.bco-home.com>
Message-ID: <a4ao1j+b347@eGroups.com>

Thank you for the advice.
In fact, my real grammar is much more sophisticated than the
simplified one I reproduced here.
I want to parse an XML-like language whith tags, where the syntax and
semantics is changing between tags.
So, I need to switch between multiple lexers using a
TokenStreamSelector. The problem with literals within "tokens" section
in the parser is that I can't write java code behind in order to
switch to a different lexer. That's why I need to write rules in
lexers to recognize my tags/keywords.
When I do that normally, tokens are not recognized properly and I get
an exception even for the first token.
The only (crazy) way I found to make it work is to use $setType() for
each token recognized by the lexer. When I remove these $setType(),
nothing works. It's a bit strange but it works.


--- In antlr-interest@y..., mzukowski@b... wrote:
> ALERT really should be a keyword and not a lexer rule.  FUNCNAME
should have
> the option testLiterals set to true.  You should not have to set
types
> explicitly as you have done below, by default they are the same type
as the
> rule.
> 
> Read the generated code, it's always the key to understanding antlr.
> 
> Monty
> 
> > -----Original Message-----
> > From: ycmichelid [mailto:michel_cedric@h...]
> > Sent: Monday, February 11, 2002 6:08 AM
> > To: antlr-interest@y...
> > Subject: [antlr-interest] Why I have to use explicitly $setType()?
> > 
> > 
> > My problem
(http://groups.yahoo.com/group/antlr-interest/message/5028)
> > seems to be also a conflict between keyword and identifier.
> > 
> > I found a solution to make my tokens being recognized normally.
> > I have to explicitly use the function $setType().
> > 
> > In my case , rules in my lexer become (rule to skip whitespace
> > ignored):
> > 
> > ALERT: "Alert" {$setType(TestTokenTypes.ALERT);};
> > OPENPAR : "(" {$setType(TestTokenTypes.OPENPAR);};
> > FUNCNAME : ('A'..'Z')( 'a'..'z' | 'A'..'Z' | '0'..'9' | '_' )+
> >            {$setType(TestTokenTypes.FUNCNAME);}
> > ;
> > 
> > So, it works now.
> > But why do i have to set the type of the tokens manually?
> > 
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/

From braden at endoframe.com  Wed Feb 13 07:37:40 2002
From: braden at endoframe.com (braden_mcdaniel)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Getting correct line information
Message-ID: <a4e184+4rpc@eGroups.com>

I'm using a C++ ANTLR parser with a hand-written scanner that derives
from TokenStream.  It basically works, but the line information in the
error messages is wrong (generally I get some huge number that looks
like an uninitialized value).

Looking around in the ANTLR library source, it looks like I probably
want to derive from CharScanner rather than TokenStream in order to
make the line information work. I'm hoping someone can give me a
clearer roadmap to follow, though. Assuming I'm on the right track,
what methods do I need to override to get sane results? Any other
special steps I need to take? Thanks...

Braden


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Wed Feb 13 07:40:39 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Getting correct line information
Message-ID: <170826586F3BD511910D0200C110AAA801C58221@memail03.bco-home.com>

Sounds like you need to tweak your scanner so that when it creates Tokens it
fills in the line info properly.  

If you use an ANTLR scanner then you simply need to call newline() whenever
you want to increment the line count.

Monty

> -----Original Message-----
> From: braden_mcdaniel [mailto:braden@endoframe.com]
> Sent: Wednesday, February 13, 2002 7:38 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Getting correct line information
> 
> 
> I'm using a C++ ANTLR parser with a hand-written scanner that derives
> from TokenStream.  It basically works, but the line information in the
> error messages is wrong (generally I get some huge number that looks
> like an uninitialized value).
> 
> Looking around in the ANTLR library source, it looks like I probably
> want to derive from CharScanner rather than TokenStream in order to
> make the line information work. I'm hoping someone can give me a
> clearer roadmap to follow, though. Assuming I'm on the right track,
> what methods do I need to override to get sane results? Any other
> special steps I need to take? Thanks...
> 
> Braden
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From braden at endoframe.com  Wed Feb 13 08:42:13 2002
From: braden at endoframe.com (braden_mcdaniel)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Re: Getting correct line information
In-Reply-To: <170826586F3BD511910D0200C110AAA801C58221@memail03.bco-home.com>
Message-ID: <a4e515+i1q4@eGroups.com>

--- In antlr-interest@y..., mzukowski@b... wrote:
> Sounds like you need to tweak your scanner so that when it creates
> Tokens it fills in the line info properly.

Actually, I am doing that. I instantiate a CommonToken and call
setLine on it. I have used CommonToken::getLine inside the scanner to
confirm that the value in the Token is correct. This value doesn't
appear to have any effect on the line number returned in parser error
messages.

> If you use an ANTLR scanner then you simply need to call newline()
> whenever you want to increment the line count.

Meaning I could derive from CharScanner and just override nextToken as
I do now, but call newline instead of (in addition to?) setting
this information directly on the Token?

The source code for my scanner is included inline in my ANTLR grammar,
which an be viewed here:

<http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/openvrml/openvrml-core/src/OpenVRML/Vrml97Parser.g?rev=1.25&content-type=text/vnd.viewcvs-markup>

Thanks...

Braden


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Wed Feb 13 08:48:15 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Re: Getting correct line information
Message-ID: <170826586F3BD511910D0200C110AAA801C58224@memail03.bco-home.com>



> -----Original Message-----
> From: braden_mcdaniel [mailto:braden@endoframe.com]
> Sent: Wednesday, February 13, 2002 8:42 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Getting correct line information
> 
> 
> --- In antlr-interest@y..., mzukowski@b... wrote:
> > Sounds like you need to tweak your scanner so that when it creates
> > Tokens it fills in the line info properly.
> 
> Actually, I am doing that. I instantiate a CommonToken and call
> setLine on it. I have used CommonToken::getLine inside the scanner to
> confirm that the value in the Token is correct. This value doesn't
> appear to have any effect on the line number returned in parser error
> messages.

Then something is wrong with the reportError() method either in your parser
or inherited by it.

> > If you use an ANTLR scanner then you simply need to call newline()
> > whenever you want to increment the line count.
> 
> Meaning I could derive from CharScanner and just override nextToken as
> I do now, but call newline instead of (in addition to?) setting
> this information directly on the Token?

No, that won't behave any differently.  I had assumed that the Token's
getLine() wasn't working properly, which should be how the parser gets it's
line number to report.  But if you are doing that part right then maybe it's
a bug in the code generator or base classes.  Fire up a debugger and find
out.

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sinan.karasu at boeing.com  Wed Feb 13 09:28:27 2002
From: sinan.karasu at boeing.com (Sinan)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Help w/ ANTLR task inside ANT/Netbeans .. .please
References: <sc67bd61.011@prv-mail20.provo.novell.com>
Message-ID: <3C6AA23B.87050246@boeing.com>

Jeff Vincent wrote:
> 
> I should have mentioned that I built a .jar w/ all antlr classes (used
> mkdebugjar.bat) copied it to the netbeans directory
> "C:\netbeans-3.3.1\modules\patches\org-apache-tools-ant-module" AND into
> lib, lib/ext, modules, modules/ext with the same error.

mkdebugjar does not include everything either...
I use

find antlr -name "*.class" -exec rm {} \;
javac `find antlr -name "*.java" -print`
jar cvf antlrall.jar `find antlr -name "*.class" -print`

In Netbeans


    Tools->Options->IDE Configuration->System->Modules
    right click on the Modules node,
    choose 'New',
    choose 'Module For Testing'
    browse to $HOME/NetBeans3.3e/Sources/NetBeans/antlr/netbeans/modules
    click on antlr.jar
    click on Open





>

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From todd.blanchard at cacheon.com  Wed Feb 13 11:43:21 2002
From: todd.blanchard at cacheon.com (Todd Blanchard)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Anybody got a Java unparser?
Message-ID: <201DE2FDBE551E46A77474DE8AA14145074A14@EX1.cacheon.com>


Which is to say, something that takes the parse tree from the java
recognizer and writes back out the java source code?


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Feb 13 11:48:33 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Anybody got a Java unparser?
In-Reply-To: <201DE2FDBE551E46A77474DE8AA14145074A14@EX1.cacheon.com>
Message-ID: <A96DF9DC-20BA-11D6-855B-0030653DE0D6@jguru.com>


On Wednesday, February 13, 2002, at 11:43  AM, Todd Blanchard wrote:

>
> Which is to say, something that takes the parse tree from the java
> recognizer and writes back out the java source code?

I haven't built one, but I'm hoping to have time to use my new output 
grammar stuff to generate java back out.  Basically I have these string 
templates that are really documents that have attributes ("holes") that 
you can fill in with values via code.  You can also reference other 
documents thus providing a recursive grammatical spec sort of thing.  
The only thing I have not quite figured out is how to "correctly" get 
AST data pushed into the correct attributes of the output grammar.  If 
anybody wants to try futzing around, I will send them my string template 
prototype.  The StringTemplate class is what pushes out jGuru website.  
The DB fills in the attributes and then I just toString() the document 
and voila: you have an output page :)

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Wed Feb 13 12:10:46 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Anybody got a Java unparser?
Message-ID: <170826586F3BD511910D0200C110AAA801C5822B@memail03.bco-home.com>

No, but for one approach you can take the ideas out of the GCC unparser (I
call it an emitter).

Monty

www.codetransform.com

> -----Original Message-----
> From: Todd Blanchard [mailto:todd.blanchard@cacheon.com]
> Sent: Wednesday, February 13, 2002 11:43 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Anybody got a Java unparser?
> 
> 
> 
> Which is to say, something that takes the parse tree from the java
> recognizer and writes back out the java source code?
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sinan.karasu at boeing.com  Wed Feb 13 12:45:03 2002
From: sinan.karasu at boeing.com (Sinan)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Re: Heterogeneous AST - simple calculator parser
References: <a3vhp3+fphu@eGroups.com>
Message-ID: <3C6AD04F.A77E0B57@boeing.com>

koud0002 wrote:
> 
> Thanks for your reply.
> 
> The AST is now constructed correctly.
> However, I am now getting "unexpected end of subtree"
> NoViableAltException from the treewalker.
> The treewalker still does not recognize UNARY_MINUS.
> 
> I would still like to use the custom AST.
> What am I doing wrong? Thanks
> 
> Robert
> 

If you look in the examples directory for 'tinybasic'

You will see a piece of code in Main.java that reads like


		if ( showTree ) {
			((CommonAST)t).setVerboseStringConversion(true, tokenNames);
			ASTFactory factory = new ASTFactory();
			AST r = factory.create(0,"AST ROOT");
			r.setFirstChild(t);
			ASTFrame frame = new ASTFrame("TinyBasic AST", r);
			frame.setVisible(true);
			//System.out.println(t.toStringList());
		}

Where showTree is set by -showtree option.

This will give you the complete Parse Tree.

However to make it work you have to do

find antlr -name "*.class" -exec rm {} \;
javac `find antlr -name "*.java" -print`
jar cvf antlrall.jar `find antlr -name "*.class" -print`

to get everything into the antlrall.jar ( The debug classes )

That is how I debug the TreeWalker....

Sinan

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From braden at endoframe.com  Wed Feb 13 14:24:58 2002
From: braden at endoframe.com (braden_mcdaniel)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Re: Getting correct line information
In-Reply-To: <170826586F3BD511910D0200C110AAA801C58224@memail03.bco-home.com>
Message-ID: <a4ep3q+4mqs@eGroups.com>

--- In antlr-interest@y..., mzukowski@b... wrote:
> 
> 
> > -----Original Message-----
> > From: braden_mcdaniel [mailto:braden@e...]
> > Sent: Wednesday, February 13, 2002 8:42 AM
> > To: antlr-interest@y...
> > Subject: [antlr-interest] Re: Getting correct line information
> > 
> > 
> > --- In antlr-interest@y..., mzukowski@b... wrote:
> > > Sounds like you need to tweak your scanner so that when it creates
> > > Tokens it fills in the line info properly.
> > 
> > Actually, I am doing that. I instantiate a CommonToken and call
> > setLine on it. I have used CommonToken::getLine inside the scanner to
> > confirm that the value in the Token is correct. This value doesn't
> > appear to have any effect on the line number returned in parser error
> > messages.
> 
> Then something is wrong with the reportError() method either in your
parser
> or inherited by it.
> 
> > > If you use an ANTLR scanner then you simply need to call newline()
> > > whenever you want to increment the line count.
> > 
> > Meaning I could derive from CharScanner and just override nextToken as
> > I do now, but call newline instead of (in addition to?) setting
> > this information directly on the Token?
> 
> No, that won't behave any differently.  I had assumed that the Token's
> getLine() wasn't working properly, which should be how the parser
gets it's
> line number to report.  But if you are doing that part right then
maybe it's
> a bug in the code generator or base classes.  Fire up a debugger and
find
> out.

Silly me. I just needed to be using the constructor of
SemanticException that takes a line number.

Braden


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ericsmith at windsor.com  Wed Feb 13 19:01:01 2002
From: ericsmith at windsor.com (Smith, Eric V.)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] std::string in C++ code
Message-ID: <DA0E485EB978B943BA876CEED2FC7F3FCE58@eastnor.windsor.com>

The C++ code generator uses std::string as the return value for
Token.getText(), among places.  I've got a case where I need to use a
special allocator for speed.  What does everyone think of either
templatizing the code either on an allocator, or on std::string.  That way I
could either pass in a myallocator or std::basic_string<char, traits,
myallocator> depending on which way we go.  I guess it would be easier and
cleaner just to make the whole string a template parameter.

OTOH, I'd also like to templatize the uses of vector<>, map<>, stack<> etc.
on the allocator, so maybe the allocator would need to be a template
parameter everywhere.  Clearly I haven't thought this all the way through
yet.

I haven't looked yet to see how many classes I'd have to touch, but I assume
it would be a lot.  I think default template parameters could be used to
keep the user visible changes to a minimum.

Any thoughts from anyone?

Eric.

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From heronsteel at yahoo.com.au  Wed Feb 13 19:32:42 2002
From: heronsteel at yahoo.com.au (heronsteel)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] nondeterminism troubles
Message-ID: <a4fb4q+qq3c@eGroups.com>


Is there any good reason why rules of the form:

x = y | z
y = (a)? b (c|d)? ...
z = (a)? e (c|d)? ...

should give me parser nondeterminism warnings? Or is it somewhere else
in my rules? I think I am using plenty of lookahead (3)

Jim.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Wed Feb 13 23:21:42 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] nondeterminism troubles
In-Reply-To: <a4fb4q+qq3c@eGroups.com>
Message-ID: <7E612CE2-211B-11D6-B85B-0030653DE0D6@jguru.com>


On Wednesday, February 13, 2002, at 07:32  PM, heronsteel wrote:

>
> Is there any good reason why rules of the form:
>
> x = y | z
> y = (a)? b (c|d)? ...
> z = (a)? e (c|d)? ...
>
> should give me parser nondeterminism warnings? Or is it somewhere else
> in my rules? I think I am using plenty of lookahead (3)

hi there...please see the faq at jGuru concerning linear approximate 
lookahead.  I think that is the problem you face.

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From john-yahoo at pybus.org  Thu Feb 14 04:19:38 2002
From: john-yahoo at pybus.org (John P N Pybus)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Anybody got a Java unparser?
In-Reply-To: <201DE2FDBE551E46A77474DE8AA14145074A14@EX1.cacheon.com>
References: <201DE2FDBE551E46A77474DE8AA14145074A14@EX1.cacheon.com>
Message-ID: <E16bKrS-00001W-00@frontend2.herald.ox.ac.uk>

On Wednesday 13 Feb 2002 7:43 pm, you (Todd Blanchard) wrote:
> Which is to say, something that takes the parse tree from the java
> recognizer and writes back out the java source code?

You might want to look at transmogrify.sourceforge.net.  The 
net.sourceforge.transmogrify.symtab package parses java (using an adapted 
version of antlr's java.g, of course), and builds a symble table with 
identifier references resolved.  It has printer classes to write out the AST.

If you take a look, I'd recommend getting it from CVS as the posted zipfiles 
are rather old.

If you have any specific questions feel free to ask me or the transmogrify 
list, as I've been trying to use the symtab package in my own stuff recently.

Yours,

John Pybus

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From pietschoutteten at yahoo.com  Thu Feb 14 05:18:51 2002
From: pietschoutteten at yahoo.com (pietschoutteten)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Translating PASCAL (or C) into JAVA
Message-ID: <a4gdfr+pk9a@eGroups.com>

Hello all,

I'm new to the mailing list and I'm 'playing' with ANTLR since a few 
days. The ideas behind ANTLR are magnificant and I find it a very 
intelligent system, a real contribution to Computer Science.

Now I have a simple question.

I must find a system to translate Pascal files into JAVA. (can be C 
into JAVA aswell)
Can that be done with ANTLR?
Is there a quick solution to do that (perhaps starting from the 
Pascal example?)

I have testet the Pascal grammer (antlr-2.7.1\java\examples\pascal) 
and the GNU C parser from the website.

ANTLR produces me the JAVA-files PascalLexer.java PascalParser.java 
and PascalTokenTypes.java
and I can build these together and test it with the example P_0_1.pas
I also tested it with the grammer from Sinan (message 2398 Re: Ter, 
Would you mind looking at ....) which builds me an AST.

My problem is that I want to translate this P_0_1.pas into JAVA code!

Is that possible?

I also searched in the FAQ and the Messages list and read a lot of 
discussions, but none of them goes into translating source-code into 
JAVA. And I searched in the ANTLR Reference Manual, which is detailed 
AND interesting, but I first have to know if my PASCAL to JAVA 
translation is possible and how.
If so, I'm sure I will become a dedicated ANTLR-user.

Thank you in advance to help this newcomer.
Piet Schoutteten



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From renyedi at yahoo.com  Thu Feb 14 06:22:25 2002
From: renyedi at yahoo.com (Robert)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Translating PASCAL (or C) into JAVA
References: <a4gdfr+pk9a@eGroups.com>
Message-ID: <001301c1b563$0801ccd0$3000000a@robert>

Hi

It is possible to translate Pascal or C into Java, but not for the whole
language. There is a 80-90% part of the language that should be translated
relatively straightforward.

However, when it comes about pointers and pointer related constructs
problems arise (this is especially a problem in case of C). And let's not
forget about the source language's libraries for which you may not have the
source code and you should make an emulation. This is the hard part.

Robert

----- Original Message -----
From: "pietschoutteten" <pietschoutteten@yahoo.com>
To: <antlr-interest@yahoogroups.com>
Sent: Thursday, February 14, 2002 3:18 PM
Subject: [antlr-interest] Translating PASCAL (or C) into JAVA


> Hello all,
>
> I'm new to the mailing list and I'm 'playing' with ANTLR since a few
> days. The ideas behind ANTLR are magnificant and I find it a very
> intelligent system, a real contribution to Computer Science.
>
> Now I have a simple question.
>
> I must find a system to translate Pascal files into JAVA. (can be C
> into JAVA aswell)
> Can that be done with ANTLR?
> Is there a quick solution to do that (perhaps starting from the
> Pascal example?)
>
> I have testet the Pascal grammer (antlr-2.7.1\java\examples\pascal)
> and the GNU C parser from the website.
>
> ANTLR produces me the JAVA-files PascalLexer.java PascalParser.java
> and PascalTokenTypes.java
> and I can build these together and test it with the example P_0_1.pas
> I also tested it with the grammer from Sinan (message 2398 Re: Ter,
> Would you mind looking at ....) which builds me an AST.
>
> My problem is that I want to translate this P_0_1.pas into JAVA code!
>
> Is that possible?
>
> I also searched in the FAQ and the Messages list and read a lot of
> discussions, but none of them goes into translating source-code into
> JAVA. And I searched in the ANTLR Reference Manual, which is detailed
> AND interesting, but I first have to know if my PASCAL to JAVA
> translation is possible and how.
> If so, I'm sure I will become a dedicated ANTLR-user.
>
> Thank you in advance to help this newcomer.
> Piet Schoutteten
>
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From pietschoutteten at yahoo.com  Thu Feb 14 06:41:40 2002
From: pietschoutteten at yahoo.com (pietschoutteten)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Re: Translating PASCAL (or C) into JAVA
In-Reply-To: <001301c1b563$0801ccd0$3000000a@robert>
Message-ID: <a4gib4+d8ah@eGroups.com>

Thank you Robert.

I know that one can never translate some source for 100% and I am 
aware of the problems you've mentioned, they are the problem. There 
is always a part that have to be made by hand. 
But my question is 
how can I translate PASCAL into JAVA with ANTLR?

Thanks
Piet


--- In antlr-interest@y..., "Robert" <renyedi@y...> wrote:
> Hi
> 
> It is possible to translate Pascal or C into Java, but not for the 
whole
> language. There is a 80-90% part of the language that should be 
translated
> relatively straightforward.
> 
> However, when it comes about pointers and pointer related constructs
> problems arise (this is especially a problem in case of C). And 
let's not
> forget about the source language's libraries for which you may not 
have the
> source code and you should make an emulation. This is the hard part.
> 
> Robert
> 
> ----- Original Message -----
> From: "pietschoutteten" <pietschoutteten@y...>
> To: <antlr-interest@y...>
> Sent: Thursday, February 14, 2002 3:18 PM
> Subject: [antlr-interest] Translating PASCAL (or C) into JAVA
> 
> 
> > Hello all,
> >
> > I'm new to the mailing list and I'm 'playing' with ANTLR since a 
few
> > days. The ideas behind ANTLR are magnificant and I find it a very
> > intelligent system, a real contribution to Computer Science.
> >
> > Now I have a simple question.
> >
> > I must find a system to translate Pascal files into JAVA. (can be 
C
> > into JAVA aswell)
> > Can that be done with ANTLR?
> > Is there a quick solution to do that (perhaps starting from the
> > Pascal example?)
> >
> > I have testet the Pascal grammer (antlr-2.7.1
\java\examples\pascal)
> > and the GNU C parser from the website.
> >
> > ANTLR produces me the JAVA-files PascalLexer.java 
PascalParser.java
> > and PascalTokenTypes.java
> > and I can build these together and test it with the example 
P_0_1.pas
> > I also tested it with the grammer from Sinan (message 2398 Re: 
Ter,
> > Would you mind looking at ....) which builds me an AST.
> >
> > My problem is that I want to translate this P_0_1.pas into JAVA 
code!
> >
> > Is that possible?
> >
> > I also searched in the FAQ and the Messages list and read a lot of
> > discussions, but none of them goes into translating source-code 
into
> > JAVA. And I searched in the ANTLR Reference Manual, which is 
detailed
> > AND interesting, but I first have to know if my PASCAL to JAVA
> > translation is possible and how.
> > If so, I'm sure I will become a dedicated ANTLR-user.
> >
> > Thank you in advance to help this newcomer.
> > Piet Schoutteten
> >
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/
> >
> 
> 
> _________________________________________________________
> Do You Yahoo!?
> Get your free @yahoo.com address at http://mail.yahoo.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From renyedi at yahoo.com  Thu Feb 14 06:49:27 2002
From: renyedi at yahoo.com (Robert)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Re: Translating PASCAL (or C) into JAVA
References: <a4gib4+d8ah@eGroups.com>
Message-ID: <005701c1b566$cf99f670$3000000a@robert>

You're welcome.

In general, you have to follow the same steps as in a case of a compiler:
parsing, tree construction and code generation. In this case the code
generation is made in target language that is of a higher level that the
source language.

You can do these steps using one or more tools as well as by hand.

When using ANTLR you have another automation option: the tree traverse.

But remember: you have to make the rules for the translation.

Robert

----- Original Message -----
From: "pietschoutteten" <pietschoutteten@yahoo.com>
To: <antlr-interest@yahoogroups.com>
Sent: Thursday, February 14, 2002 4:41 PM
Subject: [antlr-interest] Re: Translating PASCAL (or C) into JAVA


> Thank you Robert.
>
> I know that one can never translate some source for 100% and I am
> aware of the problems you've mentioned, they are the problem. There
> is always a part that have to be made by hand.
> But my question is
> how can I translate PASCAL into JAVA with ANTLR?
>
> Thanks
> Piet
>
>
> --- In antlr-interest@y..., "Robert" <renyedi@y...> wrote:
> > Hi
> >
> > It is possible to translate Pascal or C into Java, but not for the
> whole
> > language. There is a 80-90% part of the language that should be
> translated
> > relatively straightforward.
> >
> > However, when it comes about pointers and pointer related constructs
> > problems arise (this is especially a problem in case of C). And
> let's not
> > forget about the source language's libraries for which you may not
> have the
> > source code and you should make an emulation. This is the hard part.
> >
> > Robert
> >
> > ----- Original Message -----
> > From: "pietschoutteten" <pietschoutteten@y...>
> > To: <antlr-interest@y...>
> > Sent: Thursday, February 14, 2002 3:18 PM
> > Subject: [antlr-interest] Translating PASCAL (or C) into JAVA
> >
> >
> > > Hello all,
> > >
> > > I'm new to the mailing list and I'm 'playing' with ANTLR since a
> few
> > > days. The ideas behind ANTLR are magnificant and I find it a very
> > > intelligent system, a real contribution to Computer Science.
> > >
> > > Now I have a simple question.
> > >
> > > I must find a system to translate Pascal files into JAVA. (can be
> C
> > > into JAVA aswell)
> > > Can that be done with ANTLR?
> > > Is there a quick solution to do that (perhaps starting from the
> > > Pascal example?)
> > >
> > > I have testet the Pascal grammer (antlr-2.7.1
> \java\examples\pascal)
> > > and the GNU C parser from the website.
> > >
> > > ANTLR produces me the JAVA-files PascalLexer.java
> PascalParser.java
> > > and PascalTokenTypes.java
> > > and I can build these together and test it with the example
> P_0_1.pas
> > > I also tested it with the grammer from Sinan (message 2398 Re:
> Ter,
> > > Would you mind looking at ....) which builds me an AST.
> > >
> > > My problem is that I want to translate this P_0_1.pas into JAVA
> code!
> > >
> > > Is that possible?
> > >
> > > I also searched in the FAQ and the Messages list and read a lot of
> > > discussions, but none of them goes into translating source-code
> into
> > > JAVA. And I searched in the ANTLR Reference Manual, which is
> detailed
> > > AND interesting, but I first have to know if my PASCAL to JAVA
> > > translation is possible and how.
> > > If so, I'm sure I will become a dedicated ANTLR-user.
> > >
> > > Thank you in advance to help this newcomer.
> > > Piet Schoutteten
> > >
> > >
> > >
> > >
> > >
> > > Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/
> > >
> >
> >
> > _________________________________________________________
> > Do You Yahoo!?
> > Get your free @yahoo.com address at http://mail.yahoo.com
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Thu Feb 14 06:54:27 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Translating PASCAL (or C) into JAVA
Message-ID: <170826586F3BD511910D0200C110AAA801C5822E@memail03.bco-home.com>

The approach I took with my AREV to VB translator was to parse AREV into an
AST and symbol table.  But my master tree grammar also included all of the
VB node types as well.  For output I had a VB-only tree emitter.  In between
there were 8 passes which did the actual transformations via tree
transformations in a tree parser.  Each of those passes was an antlr
"subclass" of the master grammar.  An example translation--the AREV case
statement needed to be translated into a VB if-else series, so I had a rule
that would override the AREV case rule from the master grammar which would
build a new tree in the proper VB if-else form.

Monty

> -----Original Message-----
> From: pietschoutteten [mailto:pietschoutteten@yahoo.com]
> Sent: Thursday, February 14, 2002 5:19 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Translating PASCAL (or C) into JAVA
> 
> 
> Hello all,
> 
> I'm new to the mailing list and I'm 'playing' with ANTLR since a few 
> days. The ideas behind ANTLR are magnificant and I find it a very 
> intelligent system, a real contribution to Computer Science.
> 
> Now I have a simple question.
> 
> I must find a system to translate Pascal files into JAVA. (can be C 
> into JAVA aswell)
> Can that be done with ANTLR?
> Is there a quick solution to do that (perhaps starting from the 
> Pascal example?)
> 
> I have testet the Pascal grammer (antlr-2.7.1\java\examples\pascal) 
> and the GNU C parser from the website.
> 
> ANTLR produces me the JAVA-files PascalLexer.java PascalParser.java 
> and PascalTokenTypes.java
> and I can build these together and test it with the example P_0_1.pas
> I also tested it with the grammer from Sinan (message 2398 Re: Ter, 
> Would you mind looking at ....) which builds me an AST.
> 
> My problem is that I want to translate this P_0_1.pas into JAVA code!
> 
> Is that possible?
> 
> I also searched in the FAQ and the Messages list and read a lot of 
> discussions, but none of them goes into translating source-code into 
> JAVA. And I searched in the ANTLR Reference Manual, which is detailed 
> AND interesting, but I first have to know if my PASCAL to JAVA 
> translation is possible and how.
> If so, I'm sure I will become a dedicated ANTLR-user.
> 
> Thank you in advance to help this newcomer.
> Piet Schoutteten
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From duchuming at yahoo.com  Thu Feb 14 08:30:03 2002
From: duchuming at yahoo.com (C.M.Du)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Translating two queries
Message-ID: <20020214163003.1871.qmail@web14206.mail.yahoo.com>

Hello all,

I need to translate a query into another form of
query. For example, I need to translate query (1)
to query (2) in the following.
 
(1)
select { ... }
where {country: {name: N}} in db .


(2)
select { ... }
where {country: C} in db,
      {name: N} in C .


I already built an AST for query 1, which includes two
imaginary tokens ("bindCond" and "pattern")

(AST 1)
     where
       |
       bindCond -- db
           |
          pattern
             |
            country
               |
              pattern
                 |
                name -- N

I have difficulties to translate query (1) into query
(2), which means I have to translate (AST 1) 
into (AST 2). 

(AST 2)
     where
       |
      bindCond ------------db--------bindCond -- C
          |                              |
         pattern                        pattern
            |                              |
           country -- C                   name -- N


Can anyone give me a help or advice? Thank you in
advance.

Chuming

__________________________________________________
Do You Yahoo!?
Send FREE Valentine eCards with Yahoo! Greetings!
http://greetings.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dan.stanger at ieee.org  Thu Feb 14 09:34:59 2002
From: dan.stanger at ieee.org (dan.stanger@ieee.org)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Replacing a operator precedence parser
Message-ID: <200202141734.g1EHYxx26849@mantis.privatei.com>

I have a operator precedence parser that I would like to implement
in antlr.  The problem is that the language allows for the definition
of operators at run time with different left and right binding powers.
Can I write this using antlr, and what approach should I take?
Thank you
Dan Stanger
dan.stanger@ieee.org

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Thu Feb 14 10:11:25 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Replacing a operator precedence parser
Message-ID: <170826586F3BD511910D0200C110AAA801C58234@memail03.bco-home.com>

You would have to write a very generic set of expression rules which would
be identified by precedence level and associativity.  Then the lexer, at
runtime, would have to recognize the specific operator tokens and turn them
into generic tokens like LEVEL_5_LEFT_ASSOC.  

Antlr may not be the right tool for this.  I guess it depends on the number
of precedence levels.  Perhaps precedence could be turned into an argument
to an expression subrule, and an element of your own Token subclass.

There's food for thought here.  Do you mind sharing what this is for?  It
could be fun working out a generic expression parser that you simply provide
a table of operators, precedences and associativity to.

Monty

Hey antlr folks, check out my new "Antlr Tips" page
www.codetransform.com/tips.html


> -----Original Message-----
> From: dan.stanger@ieee.org [mailto:dan.stanger@ieee.org]
> Sent: Thursday, February 14, 2002 9:35 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Replacing a operator precedence parser
> 
> 
> I have a operator precedence parser that I would like to implement
> in antlr.  The problem is that the language allows for the definition
> of operators at run time with different left and right binding powers.
> Can I write this using antlr, and what approach should I take?
> Thank you
> Dan Stanger
> dan.stanger@ieee.org
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dan.stanger at ieee.org  Thu Feb 14 10:17:51 2002
From: dan.stanger at ieee.org (dan.stanger@ieee.org)
Date: Mon Dec 20 16:14:40 2004
Subject: [antlr-interest] Re: Replacing a operator precedence parser
Message-ID: <200202141817.g1EIHpl29131@mantis.privatei.com>

This parser is for a GPL'd symbolic mathematics program, and
I am investigating replacing the parser for it, the project is
called maxima, and a link for it is maxima.sourceforge.net
Dan Stanger

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Thu Feb 14 10:27:41 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Translating PASCAL (or C) into JAVA
In-Reply-To: <a4gdfr+pk9a@eGroups.com>
Message-ID: <87D84CBF-2178-11D6-B85B-0030653DE0D6@jguru.com>

Hi Piet,

7 years ago, Gary Funck built a translator from an ancient language from 
the 60's similar to pascal to C if I remember.  As the others have 
stated, there are issues with equivalency of languages, but you're real 
question is "can it be done."  Emphatically yes.  The ANTLR system was 
specifically designed to aid language translators (I built the tree 
translator component to help me build 10 pass f-77 to parallel fortran 
translators back in the early 90s).

So, it's just a matter of learning the tricks.  In most general terms it 
can be summarized as follows:

1) Parse the old input file, constructing a tree representing the 
structure of the input and constructing a symbol table (that may have to 
be saved and used across parses/translations).

2) Manipulate the tree (intermediate form) in multiple passes using a 
tree grammar, slowing morphing it towards your target language.

3) When you think that your intermediate form is very close to the 
target language then you can do a simple walk of the tree spitting out 
text again.  Each action in the grammar does a small bit of the work and 
you pray that the emergent behavior results in valid output text. ;)

I think i'll start a simple faq entry on this :)

Terence
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Thu Feb 14 10:54:56 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: Replacing a operator precedence parser
Message-ID: <170826586F3BD511910D0200C110AAA801C58235@memail03.bco-home.com>

How are you going to integrate into the lisp of Maxima?  What is the
motivation for replacing the parser?  What are your other alternatives?

Monty

> -----Original Message-----
> From: dan.stanger@ieee.org [mailto:dan.stanger@ieee.org]
> Sent: Thursday, February 14, 2002 10:18 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] Re: Replacing a operator precedence parser
> 
> 
> This parser is for a GPL'd symbolic mathematics program, and
> I am investigating replacing the parser for it, the project is
> called maxima, and a link for it is maxima.sourceforge.net
> Dan Stanger
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From dan.stanger at ieee.org  Thu Feb 14 11:10:08 2002
From: dan.stanger at ieee.org (dan.stanger@ieee.org)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: Replacing a operator precedence parser
Message-ID: <200202141910.g1EJA8D01597@mantis.privatei.com>

I could generate c++ code, and link it into lisp, or I could write
a back end to produce lisp code.  I think that is not the issue.
The curent parser is not modular, and is very tightly coupled to
the lexer and input streams.  However the interface to the math
engine is very simple.
I am more interested in how to build the grammar and lexer on a higher
level, and how I would design the grammar.  I assumed that I would
use predicates to identify operators, I expected the whole thing to
be built using tables.
Dan Stanger

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From jsrs701 at yahoo.com  Fri Feb 15 12:48:06 2002
From: jsrs701 at yahoo.com (jsrs701)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: Translating PASCAL (or C) into JAVA
In-Reply-To: <87D84CBF-2178-11D6-B85B-0030653DE0D6@jguru.com>
Message-ID: <a4js66+91h9@eGroups.com>

One of the previous posts on this subject made a good point, though--
what do you do about the whole pointer thing in Pascal (or C)?

Obviously, you'll need to have equivalent Java types for each Pascal 
type.  A Pascal "integer" would be a Java "int", a Pascal "record" 
would be a Java "class".

But what about them pesky pointers?

My suggestion would be to build a Java "pointer" class with certain 
operations (like dereference, which is spelled "^" in Pascal).  That 
makes the output Java code kinda weird looking, but it'll get the job 
done.

JSRS

--- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> Hi Piet,
> 
> 7 years ago, Gary Funck built a translator from an ancient language 
from 
> the 60's similar to pascal to C if I remember.  As the others have 
> stated, there are issues with equivalency of languages, but you're 
real 
> question is "can it be done."  Emphatically yes.  The ANTLR system 
was 
> specifically designed to aid language translators (I built the tree 
> translator component to help me build 10 pass f-77 to parallel 
fortran 
> translators back in the early 90s).
> 
> So, it's just a matter of learning the tricks.  In most general 
terms it 
> can be summarized as follows:
> 
> 1) Parse the old input file, constructing a tree representing the 
> structure of the input and constructing a symbol table (that may 
have to 
> be saved and used across parses/translations).
> 
> 2) Manipulate the tree (intermediate form) in multiple passes using 
a 
> tree grammar, slowing morphing it towards your target language.
> 
> 3) When you think that your intermediate form is very close to the 
> target language then you can do a simple walk of the tree spitting 
out 
> text again.  Each action in the grammar does a small bit of the 
work and 
> you pray that the emergent behavior results in valid output text. ;)
> 
> I think i'll start a simple faq entry on this :)
> 
> Terence
> --
> Chief Scientist & Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nagii5 at yahoo.com  Fri Feb 15 18:31:10 2002
From: nagii5 at yahoo.com (nagii5)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] upgrade question
Message-ID: <a4kg9e+vci2@eGroups.com>

Upgrading from 2.7.0 to 2.7.1 

So i had this Token 

protected SCRIPT: "<%" MY_CONTENT "%>" ;

protected MY_CONTENT
  : ~('!' | '=' | '@' | '-' | '%' | '\uffff') 
    ( {!(LA(1) == '%' && LA(2) == '>') }? NL_CTR )* ; 

protected NL_CTR :c:. { if (c=='\n') newline(); } ;

also my 
charVocabulary = '\3'..'\uffff'


Doesnt seem to get kicked in..
AM i doing anything wrong?
why is the generated code different in both cases?
and why did this work with 270?

TIA
nagesh




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From smolyn at cs.ubc.ca  Sat Feb 16 01:42:25 2002
From: smolyn at cs.ubc.ca (Greg Smolyn)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] accessing the current node
Message-ID: <Pine.SOL.4.44.0202152351560.19878-100000@cascade.cs.ubc.ca>

Hi,

I'm making a tree grammar right now, and I'm coming upon a simple
problem.

The names have been changed, but the problems are real. :)

What I'm trying to do is take a set of nodes in a tree  and (a) save a
reference to the node and (b) glean some info to put into that same
structure.

ie.

declaration
    { MyNode aNode = new MyNode(); }
    :
     #( DeclarationNode
            declaration[aNode]
            statementBlock
       )
    { aNode.addASTNode(***this_node***);
      someDataStructure.add(aNode);
    }

basically I'm just converting this node into some other node type (with a
slightly easier to understand data structure).  How can I add the node at
the current rule?  buildAST=false, so ## isn't really an option.

Any suggestions?
Thanks!

---
Greg Smolyn (smolyn@cs.ubc.ca)
Staff Researcher
Software Practices Lab, UBC







 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sat Feb 16 10:01:25 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] upgrade question
In-Reply-To: <a4kg9e+vci2@eGroups.com>
Message-ID: <317A3A3C-2307-11D6-B85B-0030653DE0D6@jguru.com>


On Friday, February 15, 2002, at 06:31  PM, nagii5 wrote:

> Upgrading from 2.7.0 to 2.7.1
>
> So i had this Token
>
> protected SCRIPT: "<%" MY_CONTENT "%>" ;
>
> protected MY_CONTENT
>   : ~('!' | '=' | '@' | '-' | '%' | '\uffff')
>     ( {!(LA(1) == '%' && LA(2) == '>') }? NL_CTR )* ;

Try ( options {greedy=false;} : . ) * for MY_CONTENT.  It should stop 
when it sees %>.

Ter
>
> protected NL_CTR :c:. { if (c=='\n') newline(); } ;
>
> also my
> charVocabulary = '\3'..'\uffff'
>
>
> Doesnt seem to get kicked in..
> AM i doing anything wrong?
> why is the generated code different in both cases?
> and why did this work with 270?
>
> TIA
> nagesh
>
>
>
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nagii5 at yahoo.com  Sun Feb 17 13:38:15 2002
From: nagii5 at yahoo.com (nagii5)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: upgrade question
In-Reply-To: <317A3A3C-2307-11D6-B85B-0030653DE0D6@jguru.com>
Message-ID: <a4p7s7+ahbm@eGroups.com>

Thanks, Terrence
had another question on similar lines.
with 2.7.0 the following grammer would work

protected SAMPLE: ( {!(LA(1) == '<' &&  LA(2) == '/' LA(3) == 'f'
&& LA(4) == 'o' && LA(5) == 'o' && LA(6) == '>' } ? NL_CTR )* ;

with 2.7.1,  i changed the above to look like

protected SAMPLE: ( options{greedy=false;} : NL_CTR )* ;

protected NL_CTR: c:. {if(c=='\n') newline();} ;

and the generated code looks exactly as the documentation says
k = 3 isnt enough for such a rule.

what do you suggest i should do in this case.
meaning should i increase my look ahead to the maximum needed 
i.e. in this case k = 6. 
or should i rather use some other way to deal with such rules.
which say everything but </foo> 
TIA
nagesh


--- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> 
> On Friday, February 15, 2002, at 06:31  PM, nagii5 wrote:
> 
> > Upgrading from 2.7.0 to 2.7.1
> >
> > So i had this Token
> >
> > protected SCRIPT: "<%" MY_CONTENT "%>" ;
> >
> > protected MY_CONTENT
> >   : ~('!' | '=' | '@' | '-' | '%' | '\uffff')
> >     ( {!(LA(1) == '%' && LA(2) == '>') }? NL_CTR )* ;
> 
> Try ( options {greedy=false;} : . ) * for MY_CONTENT.  It should 
stop 
> when it sees %>.
> 
> Ter
> >
> > protected NL_CTR :c:. { if (c=='\n') newline(); } ;
> >
> > also my
> > charVocabulary = '\3'..'\uffff'
> >
> >
> > Doesnt seem to get kicked in..
> > AM i doing anything wrong?
> > why is the generated code different in both cases?
> > and why did this work with 270?
> >
> > TIA
> > nagesh
> >
> >
> >
> >
> >
> >
> > Your use of Yahoo! Groups is subject to 
> > http://docs.yahoo.com/info/terms/
> >
> >
> --
> Chief Scientist & Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Feb 17 14:42:01 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: upgrade question
In-Reply-To: <a4p7s7+ahbm@eGroups.com>
Message-ID: <8EA81106-23F7-11D6-B85B-0030653DE0D6@jguru.com>


On Sunday, February 17, 2002, at 01:38  PM, nagii5 wrote:

> Thanks, Terrence
> had another question on similar lines.
> with 2.7.0 the following grammer would work
>
> protected SAMPLE: ( {!(LA(1) == '<' &&  LA(2) == '/' LA(3) == 'f'
> && LA(4) == 'o' && LA(5) == 'o' && LA(6) == '>' } ? NL_CTR )* ;
>
> with 2.7.1,  i changed the above to look like
>
> protected SAMPLE: ( options{greedy=false;} : NL_CTR )* ;
>
> protected NL_CTR: c:. {if(c=='\n') newline();} ;
>
> and the generated code looks exactly as the documentation says
> k = 3 isnt enough for such a rule.
>
> what do you suggest i should do in this case.
> meaning should i increase my look ahead to the maximum needed
> i.e. in this case k = 6.
> or should i rather use some other way to deal with such rules.
> which say everything but </foo>

Hmm...i'd increase the max lookahead and see what happens :)  It should 
only use k=6 when it needs to :)

Ter


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From keren_jefet at yahoo.com  Mon Feb 18 10:01:07 2002
From: keren_jefet at yahoo.com (keren_jefet)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] does anybody have java 1.3 grammar for Cpp?
Message-ID: <a4rfh3+e7ui@eGroups.com>

Does anybody have java 1.3 grammar for Cpp?

thanks.
Keren.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From krishnagarimella at yahoo.com  Mon Feb 18 21:47:32 2002
From: krishnagarimella at yahoo.com (krishnagarimella)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Apache httpd.conf
Message-ID: <a4sotk+hmev@eGroups.com>

Does anyone have a grammar file for the apache httpd.conf
file ?

thanks
--krish


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Tue Feb 19 08:39:05 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] accessing the current node
Message-ID: <170826586F3BD511910D0200C110AAA801C58248@memail03.bco-home.com>

Use a label.

 declaration
     { MyNode aNode = new MyNode(); }
     :
      #( decl:DeclarationNode
             declaration[aNode]
             statementBlock
        )
     { aNode.addASTNode(decl);
       someDataStructure.add(aNode);
     }

Monty

> -----Original Message-----
> From: Greg Smolyn [mailto:smolyn@cs.ubc.ca]
> Sent: Saturday, February 16, 2002 1:42 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] accessing the current node
> 
> 
> Hi,
> 
> I'm making a tree grammar right now, and I'm coming upon a simple
> problem.
> 
> The names have been changed, but the problems are real. :)
> 
> What I'm trying to do is take a set of nodes in a tree  and (a) save a
> reference to the node and (b) glean some info to put into that same
> structure.
> 
> ie.
> 
> declaration
>     { MyNode aNode = new MyNode(); }
>     :
>      #( DeclarationNode
>             declaration[aNode]
>             statementBlock
>        )
>     { aNode.addASTNode(***this_node***);
>       someDataStructure.add(aNode);
>     }
> 
> basically I'm just converting this node into some other node 
> type (with a
> slightly easier to understand data structure).  How can I add 
> the node at
> the current rule?  buildAST=false, so ## isn't really an option.
> 
> Any suggestions?
> Thanks!
> 
> ---
> Greg Smolyn (smolyn@cs.ubc.ca)
> Staff Researcher
> Software Practices Lab, UBC
> 
> 
> 
> 
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nagii5 at yahoo.com  Tue Feb 19 12:14:34 2002
From: nagii5 at yahoo.com (nagii5)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: upgrade question
In-Reply-To: <8EA81106-23F7-11D6-B85B-0030653DE0D6@jguru.com>
Message-ID: <a4ubna+9qs3@eGroups.com>

pardon my ignorance... 
Would that mean i should increase the lookahead to the maximum 
needed for this grammer

i.e if i had to look for everything but </somelongelement>

then should i set k = "</somelongelement>".length();

thanks
nagesh


--- In antlr-interest@y..., Terence Parr <parrt@j...> wrote:
> 
> On Sunday, February 17, 2002, at 01:38  PM, nagii5 wrote:
> 
> > Thanks, Terrence
> > had another question on similar lines.
> > with 2.7.0 the following grammer would work
> >
> > protected SAMPLE: ( {!(LA(1) == '<' &&  LA(2) == '/' LA(3) == 'f'
> > && LA(4) == 'o' && LA(5) == 'o' && LA(6) == '>' } ? NL_CTR )* ;
> >
> > with 2.7.1,  i changed the above to look like
> >
> > protected SAMPLE: ( options{greedy=false;} : NL_CTR )* ;
> >
> > protected NL_CTR: c:. {if(c=='\n') newline();} ;
> >
> > and the generated code looks exactly as the documentation says
> > k = 3 isnt enough for such a rule.
> >
> > what do you suggest i should do in this case.
> > meaning should i increase my look ahead to the maximum needed
> > i.e. in this case k = 6.
> > or should i rather use some other way to deal with such rules.
> > which say everything but </foo>
> 
> Hmm...i'd increase the max lookahead and see what happens :)  It 
should 
> only use k=6 when it needs to :)
> 
> Ter


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Feb 19 12:19:03 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: upgrade question
In-Reply-To: <a4ubna+9qs3@eGroups.com>
Message-ID: <EA9AFD45-2575-11D6-AC59-0030653DE0D6@jguru.com>


On Tuesday, February 19, 2002, at 12:14  PM, nagii5 wrote:

> pardon my ignorance...
> Would that mean i should increase the lookahead to the maximum
> needed for this grammer
>
> i.e if i had to look for everything but </somelongelement>
>
> then should i set k = "</somelongelement>".length();

An excellent question.  The answer is yes, but that should start 
indicating another solution is better.  You could have the lexer match 
<anytag> and </anytag> and then use a stack to make sure they line up :)

Ter


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mnr at cs.man.ac.uk  Tue Feb 19 13:07:31 2002
From: mnr at cs.man.ac.uk (Mark Ryall)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Antlr namespace
Message-ID: <3C72BE93.EBAA3D4D@cs.man.ac.uk>

Hi

In the examples it has basic form:

include files
ANTLR_USING_NAMESPACE(antlr)
functions

I am using VC++6.0 and I am having problems with the namespacing!

1. This is my header file, where does the namespace line go???
2. What about the cpp aswell??

#if
!defined(AFX_TREERUNNER_H__B9835BA7_E883_4291_BA0B_0F4C94BA8D00__INCLUDED_)

#define
AFX_TREERUNNER_H__B9835BA7_E883_4291_BA0B_0F4C94BA8D00__INCLUDED_

#if _MSC_VER > 1000
#pragma once
#endif // _MSC_VER > 1000

#include <string>

class RPLFile;

class TreeRunner
{
public:
 TreeRunner();
 virtual ~TreeRunner();

 virtual void runnerRIP();
 virtual void runnerOSPF();
 virtual void parseFile( const std::string f );
 virtual void doTreeAction( const std::string f, RefAST t );

 virtual RPLFile* getOutput() const;

private:
 RPLFile* m_pFile;
};

Cheers

Mark


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From smolyn at cs.ubc.ca  Tue Feb 19 13:25:59 2002
From: smolyn at cs.ubc.ca (Greg Smolyn)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] accessing the current node
In-Reply-To: <170826586F3BD511910D0200C110AAA801C58248@memail03.bco-home.com>
References: <170826586F3BD511910D0200C110AAA801C58248@memail03.bco-home.com>
Message-ID: <200202192126.g1JLQOp25405@pedigree.cs.ubc.ca>


Thanks for the help, Monty. 

I just have one other dumb question that is causing me difficulty at the 
moment, can anyone help?

Say I have some structure like this:

  pointcut1 && pointcut2 && pointcut3
(yadda yadda)

Currently my grammar is something like (yes, what I'm showing here is 
broken... it's somewhere between what I had and what I want!):

pointcut
    : pointcuts (binaryPointcut)*
    ;

pointcuts
   : "execution" LPAREN! functionSig RPAREN! body
   { ## = #(NPointcut, ##); }
   ;

binaryPointcut
  : binaryPointcutOp^ pointcuts
   { ## = #(NPointcut, ##); }
  ;

binaryPointcutOp
   : LAND
   | LOR
   ;

for reasons of simplicity in my aspect weaver, I want to turn the "&&" into a 
type of pointcut itself-- basically I want to create

andPointcut(andPointcut(pointcut1, pointcut2), pointcut3)  (I *think* that's 
the right order of operations?)./

I'm really stuck in a LALR world right now in my head, and I can easily come 
up with a yacc solution. :)  Does anyone know the ANTLR way to do this?  


thanks!

-- 
Greg Smolyn (smolyn@cs.ubc.ca)
Software Practices Lab, UBC
http://www.cs.ubc.ca/labs/spl/

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From ddp at sonic.net  Tue Feb 19 13:36:27 2002
From: ddp at sonic.net (D. David Pirzadeh)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] anyone know if there is a parser that will validate a url
In-Reply-To: <EA9AFD45-2575-11D6-AC59-0030653DE0D6@jguru.com>
Message-ID: <NCBBJFEPEOJGCAGBGAMOKEKHEDAA.ddp@sonic.net>

meaning will determine, this is a url vs this is not?

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Tue Feb 19 13:34:51 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] accessing the current node
Message-ID: <170826586F3BD511910D0200C110AAA801C5824C@memail03.bco-home.com>

I think you can only make Tokens into root nodes, not rules like you are
trying to do with "binaryPointcutOp^".

Also I find it weird that you have LOR and LAND at the same precedence.  Try


pointcut:  
: pointcuts ((LAND^ {##.setType(AND_POINTCUT);}| LOR^
##.setType(LOR_POINTCUT);) pointcuts)*
     ;

Also, I'm guessing 'cause you didn't say what was going wrong with the rules
below.  Any error messages or wrong tree structures?

Monty

> -----Original Message-----
> From: Greg Smolyn [mailto:smolyn@cs.ubc.ca]
> Sent: Tuesday, February 19, 2002 1:26 PM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] accessing the current node
> 
> 
> 
> Thanks for the help, Monty. 
> 
> I just have one other dumb question that is causing me 
> difficulty at the 
> moment, can anyone help?
> 
> Say I have some structure like this:
> 
>   pointcut1 && pointcut2 && pointcut3
> (yadda yadda)
> 
> Currently my grammar is something like (yes, what I'm showing here is 
> broken... it's somewhere between what I had and what I want!):
> 
> pointcut
>     : pointcuts (binaryPointcut)*
>     ;
> 
> pointcuts
>    : "execution" LPAREN! functionSig RPAREN! body
>    { ## = #(NPointcut, ##); }
>    ;
> 
> binaryPointcut
>   : binaryPointcutOp^ pointcuts
>    { ## = #(NPointcut, ##); }
>   ;
> 
> binaryPointcutOp
>    : LAND
>    | LOR
>    ;
> 
> for reasons of simplicity in my aspect weaver, I want to turn 
> the "&&" into a 
> type of pointcut itself-- basically I want to create
> 
> andPointcut(andPointcut(pointcut1, pointcut2), pointcut3)  (I 
> *think* that's 
> the right order of operations?)./
> 
> I'm really stuck in a LALR world right now in my head, and I 
> can easily come 
> up with a yacc solution. :)  Does anyone know the ANTLR way 
> to do this?  
> 
> 
> thanks!
> 
> -- 
> Greg Smolyn (smolyn@cs.ubc.ca)
> Software Practices Lab, UBC
> http://www.cs.ubc.ca/labs/spl/
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nagii5 at yahoo.com  Tue Feb 19 14:56:25 2002
From: nagii5 at yahoo.com (nagii5)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: upgrade question
In-Reply-To: <EA9AFD45-2575-11D6-AC59-0030653DE0D6@jguru.com>
Message-ID: <a4ul6p+73h3@eGroups.com>

> An excellent question.  The answer is yes, but that should start 
> indicating another solution is better.  You could have the lexer 
match 
> <anytag> and </anytag> and then use a stack to make sure they line 
up :)
> 
> Ter

Thanks, Terence
The reason i cannot let the lexer match </anytag> is that 
i dont want other rules to be fired between <anytag> and 
</anytag> which will eventually modify my output content.

so i tried with k = 14 which is the longest such tag 
and antlr271 hangs.. so i presume i'm doing something wrong.

coming back to the original question:

given the following tokens

protected SAMPLE: ( {! LA(1)=='<' && LA(2)=='/' && LA(3)== 'a' &&
                    LA(4)=='n' && LA(5)=='y' && LA(6)=='t' &&
                    LA(7)=='a' && LA(8)=='g' }? NL_CTR )*;

protected NL_CTR: c:. {if (c=='\n') newline(); buff.append((char)c);};

charVocabulory='\3'..'\uffff'

antlr270 generates the following code for the SAMPLE rule
------------------------------------------------------------

protected final void mSAMPLE(boolean _createToken) throws 
RecognitionException, CharStreamException, TokenStreamException {
int _ttype; Token _token=null; int _begin=text.length();
 _ttype = SAMPLE;
 int _saveIndex;
 {
  _loop274:
 do {
			if ((((LA(1) >= '\3' && LA(1) <= '\uffff')))&&
(! LA(1)=='<' && LA(2)=='/' && LA(3)== 'a' &&
                    LA(4)=='n' && LA(5)=='y' && LA(6)=='t' &&
                    LA(7)=='a' && LA(8)=='g' )) {
				mNL_CTR(false);
			}
			else {
				break _loop274;

....

----------------------------------------
whereas, antlr 271 generates the following code: (ommiting the common
code)

	if (((LA(1) >= '\u0003' && LA(1) <= '\uffff'))) {
		mNL_CTR(false);
         ....


Is there a reason for antlr271 to not append the 

&&(! LA(1)=='<' && LA(2)=='/' && LA(3)== 'a' &&
                    LA(4)=='n' && LA(5)=='y' && LA(6)=='t' &&
                    LA(7)=='a' && LA(8)=='g' )) {


thanks
nagesh



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nagii5 at yahoo.com  Tue Feb 19 14:29:03 2002
From: nagii5 at yahoo.com (nagii5)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: upgrade question
In-Reply-To: <EA9AFD45-2575-11D6-AC59-0030653DE0D6@jguru.com>
Message-ID: <a4ujjf+q4gu@eGroups.com>

 
> An excellent question.  The answer is yes, but that should start 
> indicating another solution is better.  You could have the lexer 
match 
> <anytag> and </anytag> and then use a stack to make sure they line 
up :)
> 
> Ter

Thanks, Terence
I cant have the lexer match </anytag> for me because i dont 
want other rules to modify the output buffer between
<anytag>  and </anytag>
I need a way to specify that whatever comes between the tags 
must be untouched. 

now, if i try k = 14 ( thats the length of the longest such tag i 
look for) antlr.Tool hangs at ( going into an infinite loop)
So i guess im doing something which i shudnt!

"main" prio=5 tid=0x235360 nid=0x690 runnable [0x6e000..0x6fc34]
        at java.lang.Object.clone(Native Method)
        at antlr.Lookahead.clone(Lookahead.java:96)
        at antlr.LLkAnalyzer.look(LLkAnalyzer.java:944)
        at antlr.LLkAnalyzer.look(LLkAnalyzer.java:773)
        at antlr.RuleRefElement.look(RuleRefElement.java:49)


Coming back to the original question :

protected SAMPLE: {! LA(1)=='<' && LA(2)=='/' && LA(3)== 'a' &&
                    LA(4)=='n' && LA(5)=='y' && LA(6)=='t' &&
                    LA(7)=='a' && LA(8)=='g' } ? NL_CTR )*

protected NL_CTR: c:. {if (c=='\n') newline(); buff.append((char)c);}

antlr2.7.1 generates the following code for the SAMPLE rule,

protected final void mSAMPLE(boolean _createToken) .etc 
etc...TokenStreamException {
  int _ttype; Token _token=null; int _begin=text.length();
  _ttype = SAMPLE;
  int _saveIndex;
  {
	_loop274:
	do {
		if (((LA(1) >= '\u0003' && LA(1) <= '\uffff'))) {
			mNL_CTR(false);
		}
		else {
			break _loop274;
		}
		
	} while (true);
	}
	if ( _createToken && _token==null && _ttype!=Token.SKIP ) {
		_token = makeToken(_ttype);
		_token.setText(new String(text.getBuffer(), _begin, 
text.length()-_begin));
	}
	_returnToken = _token;
}
----------------------------------------------------
With 2.7.0 the method looks like: (omitting the common stuff)
-----------------------------------

if ((((LA(1) >= '\3' && LA(1) <= '\uffff')))&&(! LA(1)=='<' && LA(2)
=='/' && LA(3)== 'a' && LA(4)=='n' && LA(5)=='y' && LA(6)=='t' &&
  LA(7)=='a' && LA(8)=='g' )) {
				mNL_CTR(false);
	}

---------------------------------

Is there a reason for 2.7.1 to not add the extra
check  
namely 
&&(! LA(1)=='<' && LA(2)=='/' && LA(3)== 'a' && LA(4)=='n' && LA(5)
=='y' && LA(6)=='t' &&   LA(7)=='a' && LA(8)=='g' )) {


thanks
nagesh


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nagii5 at yahoo.com  Tue Feb 19 17:05:44 2002
From: nagii5 at yahoo.com (nagii5)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] ugrade from 270 to 271
Message-ID: <a4usp8+s406@eGroups.com>

In an attempt to have my method called in a rule 
i tried this

protected SAMPLE: ( {isEndRule("</anytag>")}? NL_CTR)*;

protected NL_CTR: 
        c:. {if (c=='\n') newline(); buff.append((char)c);};

271 generates the following code:
 if (((LA(1) >= '\u0003' && LA(1) <= '\uffff'))) {
         mNL_CTR(false);
 }
so it never called my method called isEndRule()
whereas:

270 generates the following code:
  if ((((LA(1) >= '\3' && LA(1) <= '\uffff')))&& 
                           (isEndRule("</anytag>"))) {
                   mNL_CTR(false);
  }


How do i make antlr271 generate the code similar to 270 in this 
case. 
thanks
nagesh




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From prasad at aztec.soft.net  Wed Feb 20 01:22:25 2002
From: prasad at aztec.soft.net (Prasad K K)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] C++ Runtime in WinNT for 2.7.2a2
Message-ID: <3C736AD1.C1C35E16@aztec.soft.net>

Hi,

I need help in using C++ parser generator in Win NT platform.

I am able to use it in version 2.7.1 (by following the posts I found here and in
the jGuru FAQ), but it does not work for version 2.7.2a2.
Three of the files do not compile when I try to compile using 'cl' (Microsoft
C/C++ compiler) compiler. They are

BaseAST.cpp
BaseAST.cpp(337) : error C2201: 'nullASTptr' : must have external linkage in
order to be exported/imported

Token.cpp
Token.cpp(40) : error C2720: 'badToken' : '__declspec(dllimport ) '
storage-class specifier illegal on members
Token.cpp(40) : error C2491: 'Token::badToken' : definition of dllimport static
data member not allowed

TreeParser.cpp
TreeParser.cpp(64) : error C2491: 'TreeParser::ASTNULL' : definition of
dllimport static data member not allowed

Any information as to why these errors occur and how they can be resolved will
be of immense help.

Moreover, I was able to compile successfully and create the library for the
2.7.2a2 version by using GNU (g++) compiler.

Is there a 'preferred' platform or compiler for ANTLR?

Thanks,
Prasad

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From eng_john2001 at yahoo.com  Wed Feb 20 04:53:08 2002
From: eng_john2001 at yahoo.com (eng_john2001)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Trees
Message-ID: <a5067k+4acc@eGroups.com>

Hello everybody,

  I am a new guy in Antlr world. I want to be professional in Antlr but I 
found its documentation difficult for me. Now I have a tutorial by Scott 
Stanchfield. He didnt mention anything related to AST and tree structures. I 
understood that EBNF is enough to build a parser using Antlr. Is it true or I 
misunderstood? What is the true? How to start?

Thanks for interest

Regards,
John



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From seth at jtan.com  Wed Feb 20 09:55:05 2002
From: seth at jtan.com (Seth Delackner)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] AST children being lost
Message-ID: <20020220175505.GF17631@callisto.jtan.com>

First, thanks for this list and for ANTLR.

With the following production in a java grammar based on java.g:

extendsClause: #(EXTENDS_CLAUSE (identifier)* )
{
    System.out.println ("ExtendsClause= "+ #EXTENDS_CLAUSE.toStringList());
}

I get this:

ExtendsClause=  ( EXTENDS_CLAUSE testAbstract-IdentNode(testAbstract) ) IMPLEMENTS_CLAUSE ( ....

Which shows that the node has a child 'testAbstract', an IdentNode.

But in the rule that matches extendsClause, the node ends up having
no children and just the 'IMPLEMENTS_CLAUSE' sibling.

What do I have to change to propogate the children of extendsClause?

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Wed Feb 20 10:00:09 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] AST children being lost
Message-ID: <170826586F3BD511910D0200C110AAA801C58255@memail03.bco-home.com>

Try printing toStringTree() instead of toStringList.

Also, tree grammars will stop if they see something they don't know--for
instance if the EXTENDS_CLAUSE has children which are not part of the
identifier rule, then it will simply stop traversing even though other nodes
may be in there.

Monty

> -----Original Message-----
> From: Seth Delackner [mailto:seth@jtan.com]
> Sent: Wednesday, February 20, 2002 9:55 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] AST children being lost
> 
> 
> First, thanks for this list and for ANTLR.
> 
> With the following production in a java grammar based on java.g:
> 
> extendsClause: #(EXTENDS_CLAUSE (identifier)* )
> {
>     System.out.println ("ExtendsClause= "+ 
> #EXTENDS_CLAUSE.toStringList());
> }
> 
> I get this:
> 
> ExtendsClause=  ( EXTENDS_CLAUSE 
> testAbstract-IdentNode(testAbstract) ) IMPLEMENTS_CLAUSE ( ....
> 
> Which shows that the node has a child 'testAbstract', an IdentNode.
> 
> But in the rule that matches extendsClause, the node ends up having
> no children and just the 'IMPLEMENTS_CLAUSE' sibling.
> 
> What do I have to change to propogate the children of extendsClause?
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sinan.karasu at boeing.com  Wed Feb 20 11:36:07 2002
From: sinan.karasu at boeing.com (Sinan)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Translating PASCAL (or C) into JAVA
References: <a4gdfr+pk9a@eGroups.com>
Message-ID: <3C73FAA7.6FC78A1A@boeing.com>

pietschoutteten wrote:
> 
[...]
> and I can build these together and test it with the example P_0_1.pas
> I also tested it with the grammer from Sinan (message 2398 Re: Ter,
> Would you mind looking at ....) which builds me an AST.

Wow, now if I could only remember what I've posted....

1).....
If you also search for f77 under the group, you'll get a f77.jar file.
( there are two versions. One of them is busted....)

That is the beginning of a f77 to java/whatever translator that I still 
wish to finish someday.

2).....

 I was a pascal programmer in a previous life ( way back in 80's...)

So from a cursory thinking point of view

XYZ x;

XYZ^ y;

can be treated identical and

x.z=something;
y^.z=something;

can be both coded as 

x.z=something;
y.z=something;

with some caveats.....

a)

 XYZ x;   ====>   XYZ x=new XYZ();
 XYZ y;   ====>   XYZ y;

 Then you can ignore all the ^ dereferencing.

Of course you must not have any illegal operations , such as

 x=new XYZ(); 

 anywhere else in the program, since now x is an immutable reference
where as y is not.
 This is not an issue for translation, however if anyone modifies the
program
later on, then bugs would creep in.

 VAR (IN/OUT) is problematic, since you could not have
 
 PROCEDURE P(XYZ ^^w:VAR) (syntax ???) and hope to modify ^w ( P(XYZ w)
)
, but you already know that...
 

b) Go to goole and search for 'taming goto'
 The paper describes how one can get rid of goto statements.


 Then your translator would consist of a parser (tree generator)
 and possibly multiple treewalkers.

 I don't know what the status of tree transformation is in 2.7.2.
In 2.7.1 you had to do a dupe() on the tree before you could modify it
and 
append it to the one you were building.

 So in the end , you do a translated source code emit ( with
postfix expressions becoming infix ).

 Postfix to infix conversion requires a little housekeeping about
the precedence rules. Otherwise

 a= 1*2 ;
 translates into a=(1)*(2);
 which translates into a=((1))*((2)); so on if you are not careful
about additive/multiplicative/etc... precedence.

Enough blither....

Sinan

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Thu Feb 21 02:06:28 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Antlr namespace
In-Reply-To: <3C72BE93.EBAA3D4D@cs.man.ac.uk>; from mnr@cs.man.ac.uk on Tue, Feb 19, 2002 at 09:07:31PM +0000
References: <3C72BE93.EBAA3D4D@cs.man.ac.uk>
Message-ID: <20020221110627.S2612@cs.utwente.nl>

On Tue, Feb 19, 2002 at 09:07:31PM +0000, Mark Ryall wrote:
> include files
> ANTLR_USING_NAMESPACE(antlr)
> functions
> 
> I am using VC++6.0 and I am having problems with the namespacing!
> 
> 1. This is my header file, where does the namespace line go???
> 2. What about the cpp aswell??

You don't have to put your own stuff in the antlr namespace, it's even
better not to, defeats the purpose of the namespace.

Just make sure you refer to the antlr stuff with the right namespace spec.
Or use an apropriate 'using' clause. 

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Thu Feb 21 02:09:16 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] ugrade from 270 to 271
In-Reply-To: <a4usp8+s406@eGroups.com>; from nagii5@yahoo.com on Wed, Feb 20, 2002 at 01:05:44AM -0000
References: <a4usp8+s406@eGroups.com>
Message-ID: <20020221110916.T2612@cs.utwente.nl>

Hi,

One note.. Please port to 2.7.2a1 or a 'stable' devel version of mine. 2.7.1
is buggy. I'm not sure if this problem relates to something that may have
been fixed. (I'm currently completely swamped in work so I did not really
read the complete thread, my apologies if this is of target)

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Thu Feb 21 02:15:07 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] C++ Runtime in WinNT for 2.7.2a2
In-Reply-To: <3C736AD1.C1C35E16@aztec.soft.net>; from prasad@aztec.soft.net on Wed, Feb 20, 2002 at 02:52:25PM +0530
References: <3C736AD1.C1C35E16@aztec.soft.net>
Message-ID: <20020221111507.U2612@cs.utwente.nl>

On Wed, Feb 20, 2002 at 02:52:25PM +0530, Prasad K K wrote:
> I need help in using C++ parser generator in Win NT platform.
> 
> I am able to use it in version 2.7.1 (by following the posts I found here
> and in the jGuru FAQ), but it does not work for version 2.7.2a2. Three of
> the files do not compile when I try to compile using 'cl' (Microsoft C/C++
> compiler) compiler. They are

Use STL port. The MSVC6 stl is broken it seems (with regard to building a
DLL). Attempts to build 2.7.2a1 with MSVC6 have been unsuccesfull. Someone
posted that STLPort solves the problem. A search on the archive may show up
the original message.

> Any information as to why these errors occur and how they can be resolved
> will be of immense help.

So far I have not heart a solution I liked for MSVC6.

> Moreover, I was able to compile successfully and create the library for the
> 2.7.2a2 version by using GNU (g++) compiler.
>
> Is there a 'preferred' platform or compiler for ANTLR?

G++ is my development platform logically it will work best with g++. You
might also have success building a dll with MinGW or cygwin. I got to
installing the tools at home but did not have time to look at actually
building a dll with them.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Fri Feb 22 04:03:18 2002
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] C++ Runtime in WinNT for 2.7.2a2
References: <3C736AD1.C1C35E16@aztec.soft.net> <20020221111507.U2612@cs.utwente.nl>
Message-ID: <002601c1bb99$0d2f5240$b5919582@bert>

If you try to link antlr statically, then it could be the same bug that I
described in an earlier post.
Try to change the the #ifdef of the __declspec in the antlr/config.hpp to
something like :

# ifdef ANTLR_EXPORTS
#   undef ANTLR_API
#   define ANTLR_API __declspec(dllexport)
# endif
# ifdef ANTLR_IMPORTS
#   undef ANTLR_API
#   define ANTLR_API __declspec(dllimport)
# endif

and do not define neither of the symbols for your program.
Hope this helps.

Ciao, Tom



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From nagii5 at yahoo.com  Thu Feb 21 14:02:50 2002
From: nagii5 at yahoo.com (nagii5)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: ugrade from 270 to 271
In-Reply-To: <20020221110916.T2612@cs.utwente.nl>
Message-ID: <a53qqa+6ek3@eGroups.com>

Hi Ric,

any pointers to what problems you are facing ?
IM moving to 271 bcos of the unicodish support.
Indeed with unicode it does really work well.
I havent had any complains with the unicode stuff.

Can you please list any or all problems u've had.

thanks
Nagesh

--- In antlr-interest@y..., Ric Klaren <klaren@c...> wrote:
> Hi,
> 
> One note.. Please port to 2.7.2a1 or a 'stable' devel version of 
mine. 2.7.1
> is buggy. I'm not sure if this problem relates to something that 
may have
> been fixed. (I'm currently completely swamped in work so I did not 
really
> read the complete thread, my apologies if this is of target)
> 
> Cheers,
> 
> Ric
> -- 
> -----
+++++*****************************************************+++++++++---
----
>     ---- Ric Klaren ----- klaren@c... ----- +31 53 4893722  ----
> -----
+++++*****************************************************+++++++++---
----
>  Why don't we just invite them to dinner and massacre them all when 
they're
>   drunk? You heard the man. There's seven hundred thousand of them. 
Ah? ..
>            So it'd have to be something simple with pasta, then.
>                  From: Interesting Times by Terry Pratchet


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Fri Feb 22 01:49:10 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: ugrade from 270 to 271
In-Reply-To: <a53qqa+6ek3@eGroups.com>; from nagii5@yahoo.com on Thu, Feb 21, 2002 at 10:02:50PM -0000
References: <20020221110916.T2612@cs.utwente.nl> <a53qqa+6ek3@eGroups.com>
Message-ID: <20020222104907.A17101@cs.utwente.nl>

Hi,

On Thu, Feb 21, 2002 at 10:02:50PM -0000, nagii5 wrote:
> any pointers to what problems you are facing ?
> IM moving to 271 bcos of the unicodish support.
> Indeed with unicode it does really work well.
> I havent had any complains with the unicode stuff.
> 
> Can you please list any or all problems u've had.

Check the changelogs/CHANGES files for mentions of bugfixes. Maybe easiest
to look for the announcement of 2.7.2a1 in the archives. Then you can check
wether one of the changes applies.

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Time what is time - I wish I knew how to tell You why - It hurts to know -
          Aren't we machines - Time what is time - Unlock the door
               - And see the truth - Then time is time again
                From: 'Time what is Time' by Blind Guardian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From PION_Stephane at stna.dgac.fr  Fri Feb 22 04:06:18 2002
From: PION_Stephane at stna.dgac.fr (=?ISO-8859-15?Q?St=E9phane?= Pion)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] ambiguous predicates
Message-ID: <3C76343A.2070908@stna.dgac.fr>


hi,
I am using antlr to parse a binary format

The first byte indicate the presence of following other fields:
eg, if first byte is 11000000, then, the message contains two fields 
(defined by the bit positions in the first byte).

One of my fields is construct as a byte representing the number of 
following bytes.
One other is only a byte.
So, i write the following lexer:
AsterixLexer.g:

options {

    language="Cpp";
    mangleLiteralPrefix = "TK_";
}

class AsterixLexer extends Lexer;
options {
    charVocabulary = '\u0000'..'\u00ff';
    exportVocab=AsterixLexer;
    k=1;
}
{
    public:
    unsigned int count;
}
BYTE
    :
        val:.
    ;

And the associated parser:
AsterixParser.g:
options {    
    language="Cpp";
    mangleLiteralPrefix = "TK_";
}

class AsterixParser extends Parser;
options{
    importVocab=AsterixLexer;
    k=1;
}

eng
    :        
        fetch_01
        fetch_02
    ;

protected        
fetch_01
    :
        {asterix->01()}?
        (
            {
                unsigned char count = 0;
            }
            fr:BYTE
            ( // Ambiguous!!! (line 29)
                { count++ <  (fr->getText())[0]}?
                (
                    BYTE                    
                )                
            )+            
        )
        |
    ;
exception
catch[ANTLR_USE_NAMESPACE(antlr)SemanticException ex]{        
        }

protected        
fetch_02
    :
        {asterix->02()}?
        (
            BYTE            
        )
        |
    ;

On fetch_*, the first predicate is present to validate the presence of the field (according to the first field)
the first parsed byte indicate the field length. So, when enough bytes are read, a Semantic exception is thrown and the rule is aborted.
Then the second field parsing can begin. But:

/usr/bin/java antlr.Tool AsterixParser.g
ANTLR Parser Generator   Version 2.7.1   1989-2000 jGuru.com
AsterixParser.g:29: warning: nondeterminism upon
AsterixParser.g:29: 	k==1:BYTE
AsterixParser.g:29: 	between alt 1 and exit branch of block


I remark if i commented out fetch_02 generation work fine.
Any solution?

I have an additionnal question:
Wy antlr throw an error if i want create two parsing rules with the same name but with different signatures?

Thanks for the help

St?phane



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From seth at jtan.com  Fri Feb 22 08:11:31 2002
From: seth at jtan.com (Seth Delackner)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] java.g parsing order for "extends"?
Message-ID: <20020222161131.GA1777@callisto.jtan.com>

Suppose we have the following relationship:

A.java:
public class A {
    public interface I {}
}

B.java:
public class B extends A {}

C.java:

public class C extends B {
    class inner implements I {}
}

Now, if I try to parse C.java, first I get a typeDefinition for 'C',
then it starts analyzing the object block for 'C', which contains the
declaration for 'inner'.  Shouldn't it parse B, then A, then finally get
to A's inner block?  Or does java.g already do this, and the grammar I'm
looking at, which is based loosely on java.g, is broken?

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb 22 09:13:26 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] java.g parsing order for "extends"?
In-Reply-To: <20020222161131.GA1777@callisto.jtan.com>
Message-ID: <7BEFA847-27B7-11D6-B5C5-0030653DE0D6@jguru.com>


On Friday, February 22, 2002, at 08:11  AM, Seth Delackner wrote:

> Suppose we have the following relationship:
>
> A.java:
> public class A {
>     public interface I {}
> }
>
> B.java:
> public class B extends A {}
>
> C.java:
>
> public class C extends B {
>     class inner implements I {}
> }
>
> Now, if I try to parse C.java, first I get a typeDefinition for 'C',
> then it starts analyzing the object block for 'C', which contains the
> declaration for 'inner'.  Shouldn't it parse B, then A, then finally get
> to A's inner block?  Or does java.g already do this, and the grammar I'm
> looking at, which is based loosely on java.g, is broken?

java.g only parses and builds a tree.  It is up to you to do symbol 
resolution if you want a compiler or whatever. :)  Typically you would 
collect a list of dependencies as you parse and then go after them or as 
you say recursively track down all dependencies on demand.

For translation, it is usually sufficient to collect a tree for each 
file separately.

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb 22 14:34:13 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Trees
In-Reply-To: <a5067k+4acc@eGroups.com>
Message-ID: <4C15DDF1-27E4-11D6-A5C3-0030653DE0D6@jguru.com>


On Wednesday, February 20, 2002, at 04:53  AM, eng_john2001 wrote:

> Hello everybody,
>
>   I am a new guy in Antlr world. I want to be professional in Antlr 
> but I
> found its documentation difficult for me. Now I have a tutorial by Scott
> Stanchfield. He didnt mention anything related to AST and tree 
> structures. I
> understood that EBNF is enough to build a parser using Antlr. Is it 
> true or I
> misunderstood? What is the true? How to start?

Well, yes you can build a parser with an understanding of EBNF and 
language structure.  Building trees is a matter of using the AST 
construction suffixes like '^' or adding actions to do it.  Can you look 
at the examples to get started?

Terence
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From eng_john2001 at yahoo.com  Fri Feb 22 14:45:38 2002
From: eng_john2001 at yahoo.com (John michael)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Trees
In-Reply-To: <4C15DDF1-27E4-11D6-A5C3-0030653DE0D6@jguru.com>
Message-ID: <20020222224538.46274.qmail@web13406.mail.yahoo.com>

Dear Terenece,

  Ok, but where can I found such examples. 

Thanks

Regards,

John

*******************************************************


--- Terence Parr <parrt@jguru.com> wrote:
> 
> On Wednesday, February 20, 2002, at 04:53  AM,
> eng_john2001 wrote:
> 
> > Hello everybody,
> >
> >   I am a new guy in Antlr world. I want to be
> professional in Antlr 
> > but I
> > found its documentation difficult for me. Now I
> have a tutorial by Scott
> > Stanchfield. He didnt mention anything related to
> AST and tree 
> > structures. I
> > understood that EBNF is enough to build a parser
> using Antlr. Is it 
> > true or I
> > misunderstood? What is the true? How to start?
> 
> Well, yes you can build a parser with an
> understanding of EBNF and 
> language structure.  Building trees is a matter of
> using the AST 
> construction suffixes like '^' or adding actions to
> do it.  Can you look 
> at the examples to get started?
> 
> Terence
> --
> Chief Scientist & Co-founder, http://www.jguru.com
> Creator, ANTLR Parser Generator:
> http://www.antlr.org
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do You Yahoo!?
Yahoo! Sports - Coverage of the 2002 Olympic Games
http://sports.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Fri Feb 22 14:47:25 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Trees
In-Reply-To: <20020222224538.46274.qmail@web13406.mail.yahoo.com>
Message-ID: <2421C8D4-27E6-11D6-A5C3-0030653DE0D6@jguru.com>


On Friday, February 22, 2002, at 02:45  PM, John michael wrote:

> Dear Terenece,
>
>   Ok, but where can I found such examples.

Have you tried the examples dir of the distribution?  THere is a calcAST 
or others such as the full Java grammar that builds trees.

Terence


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Fri Feb 22 14:50:43 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Trees
Message-ID: <170826586F3BD511910D0200C110AAA801C5826B@memail03.bco-home.com>

Also the GCC grammar is a big working example of building trees.  See
www.codetransform.com/gcc.html

Monty

> -----Original Message-----
> From: John michael [mailto:eng_john2001@yahoo.com]
> Sent: Friday, February 22, 2002 2:46 PM
> To: antlr-interest@yahoogroups.com
> Subject: Re: [antlr-interest] Trees
> 
> 
> Dear Terenece,
> 
>   Ok, but where can I found such examples. 
> 
> Thanks
> 
> Regards,
> 
> John
> 
> *******************************************************
> 
> 
> --- Terence Parr <parrt@jguru.com> wrote:
> > 
> > On Wednesday, February 20, 2002, at 04:53  AM,
> > eng_john2001 wrote:
> > 
> > > Hello everybody,
> > >
> > >   I am a new guy in Antlr world. I want to be
> > professional in Antlr 
> > > but I
> > > found its documentation difficult for me. Now I
> > have a tutorial by Scott
> > > Stanchfield. He didnt mention anything related to
> > AST and tree 
> > > structures. I
> > > understood that EBNF is enough to build a parser
> > using Antlr. Is it 
> > > true or I
> > > misunderstood? What is the true? How to start?
> > 
> > Well, yes you can build a parser with an
> > understanding of EBNF and 
> > language structure.  Building trees is a matter of
> > using the AST 
> > construction suffixes like '^' or adding actions to
> > do it.  Can you look 
> > at the examples to get started?
> > 
> > Terence
> > --
> > Chief Scientist & Co-founder, http://www.jguru.com
> > Creator, ANTLR Parser Generator:
> > http://www.antlr.org
> > 
> > 
> >  
> > 
> > Your use of Yahoo! Groups is subject to
> > http://docs.yahoo.com/info/terms/ 
> > 
> > 
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Yahoo! Sports - Coverage of the 2002 Olympic Games
> http://sports.yahoo.com
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From avkash_chauhan at yahoo.com  Fri Feb 22 15:13:08 2002
From: avkash_chauhan at yahoo.com (Avkash Chauhan)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] PCCTS grammer to ANTLR grammer....
References: <2421C8D4-27E6-11D6-A5C3-0030653DE0D6@jguru.com>
Message-ID: <009001c1bbf6$7dd82230$6501a8c0@tomhawk>

Hi all,

We have a custom language grammer specially written for PCCTS 1.33 MR19.
during sometime 2000 and we also have about 10,000 pages written based on
that language.

I just upgraded older language with a totally new one. Now i need to write a
converter to change the previous language pages to new one. My key questions
are as below:

- Can i use same PCCTS grammer with ANTLR 2.6.x or above.
- Do i need to change my old grammer with new one.
- How ANTLR can help me to write language converter from one to aonther.
- Is there any other metod to perform this work.

Any help would be greatly appreciated...
Thanks in advance.

-Avkash


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From rjc at trump.net.au  Sat Feb 23 02:46:49 2002
From: rjc at trump.net.au (Robert Colquhoun)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Java 1.4 and Antlr temporary files
Message-ID: <4.2.0.58.20020223212614.00d02d40@postoffice.trump.net.au>

Hi,

I was wondering if anyone else is getting a bunch of 'filename.antlr.tmp' 
files in their build directories?

I only noticed this since upgrading to java 1.4 on windows, it does not 
appear to be occurring on unix/java 1.3 or windows/java 1.3.  I traced this 
back to the PreservingFileWriter class in antlr which is doing some sort a 
caching i think.  It creates a temporary .antlr.tmp file which also 
supposedly has deleteOnExit() set to remove it automatically, but for some 
reason this does not happen.

Reading the doc:
http://java.sun.com/j2se/1.4/docs/api/java/io/File.html#deleteOnExit()

...seems to indicate the file will not be deleted if the virtual machine 
has a abnormal exit - which does not seem to be the case.......a bug then 
perhaps?  The only other thing i could think of is the file is being opened 
twice the first one gets destroyed on exit, but the second then flushes as 
the virtual machine shuts down and writes out the file.

PS  Use of deleteOnExit() implies anltr now requires java 1.2+, ie it will 
*not* work on 1.1 VMs like the MS JVM

PPS For some reason lately i am noticing lots of little irritating, but 
harmless things like the above...maybe it is time for a holiday!  ;-)

  - Robert


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From keren_jefet at yahoo.com  Sun Feb 24 05:23:44 2002
From: keren_jefet at yahoo.com (keren_jefet)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] C++ is slower than Java?
Message-ID: <a5aph0+euqh@eGroups.com>

Hi,

I have tested the java.g example both on Java-generated parser, and 
on Cpp-generated parser (antlr-2.7.1, buildAST=true).  
Surprisingly, I found out that the Java parser, was significantly 
faster than the Cpp one, especially when handling long java source 
files. (sometimes even 600% faster...)

How can that be? 
Is this related to the specific java.g grammar definitions, or maybe 
it is true for all parsers, no matter of the grammar complexity?

Thanks,
keren.



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From elim at tti-telecom.com  Sun Feb 24 08:05:02 2002
From: elim at tti-telecom.com (elimesika)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Help for a beginner
Message-ID: <a5b2ve+jkmf@eGroups.com>

HI folks
I am new to antlr and I have several questions:

I have the following rules for my language parser :

procArgs
	:	
	LPAREN (ID|STRING_LITERAL|INT)* RPAREN 
	;

proc
	:
	LPAREN PROC procArgs LPAREN (statement)+ RPAREN RPAREN

	;

questions:

1) statement is a rule, how do I get the text of each staement in 
the "(statement)+" expression in the proc rule.

2) how do I get the value of the argument in the procArgs rule,I have 
tried (v:(ID|STRING_LITERAL|INT))* , that didn't work !

Thanks
       Eli


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From elim at tti-telecom.com  Sun Feb 24 08:29:48 2002
From: elim at tti-telecom.com (elimesika)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Simple questions
Message-ID: <a5b4ds+fke1@eGroups.com>

HI

I have two simple questions:

1) my grammer should recognize the char '!', I have a "connect!" 
command that I should identify. I have tried to define it in the 
Tokens area :

tokens {
	CONNECT = "connect!";
}

and got a run time error. 
Writing
tokens {
	CONNECT = "connect\!";
}
gives an antlr compilation error.
I am using (in the Lexer option section): 
	charVocabulary = '\3'..'\377';
How can I handle that ???

2) I am reading a file written in a certain language.
   I have to recognize only a subset of the language, but I want to 
keep the statements that I am not recognizing.
I have tried to use the filter option and an IGNORE rule :

options {
	k=2;
	filter=IGNORE;
	charVocabulary = '\3'..'\377';
}

protected
IGNORE
	:	c:.
		{System.out.println(c);}
	;

I don't get any printing when I type things that the parser don't 
recognize.
Does anybody knows what's the problem or have a better way to do that?

TIA
     Eli




 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Matthew.Ford at forward.com.au  Sun Feb 24 09:18:48 2002
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Help for a beginner
References: <a5b2ve+jkmf@eGroups.com>
Message-ID: <001401c1bd57$52813b50$0200a8c0@matthewfnb>

>
> 1) statement is a rule, how do I get the text of each statement in
> the "(statement)+" expression in the proc rule.

I use
rule
{String str = null;}
:
.....
   (str = statement
      { // process str here
       }
     )+
....
;



protected statement  returns [String str]
{ str = "";}
: ( id:IDENT { str = id.getText();}
  //  etc
;


>
> 2) how do I get the value of the argument in the procArgs rule,I have
> tried (v:(ID|STRING_LITERAL|INT))* , that didn't work !
Try

rule
{ Token tok = null;}
:
....
(  (id:ID{ tok = id;})
  |( st:STRING_LITERAL {tok = st;})
  | (i:INT{tok = i;})
 { // process tok here
     switch tok.getType()  {
        case ID:
           // process id here
           System.out.println(tok.getText());
          break;
        case STRING_LITERAL:
           // process st here
           System.out.println(tok.getText());
          break;
        case INT:
           // process i here
           System.out.println(tok.getText());
          break;
       default:
           throw new Exception(" bad token"+tok.toString());
     }
 }
  )*
...
;

OR

(
   (id:ID
      {   // process id here
          System.out.println(id.getText());
      }
    ) | ( st:STRING_LITERAL
       {   // process st here
          System.out.println(st.getText());
      }
   ) | (i:INT
      {   // process i here
          System.out.println(i.getText());
      }
   )
  )*


matthew
----- Original Message -----
From: "elimesika" <elim@tti-telecom.com>
To: <antlr-interest@yahoogroups.com>
Sent: Monday, February 25, 2002 3:05 AM
Subject: [antlr-interest] Help for a beginner


> HI folks
> I am new to antlr and I have several questions:
>
> I have the following rules for my language parser :
>
> procArgs
> :
> LPAREN (ID|STRING_LITERAL|INT)* RPAREN
> ;
>
> proc
> :
> LPAREN PROC procArgs LPAREN (statement)+ RPAREN RPAREN
>
> ;
>
> questions:
>
> 1) statement is a rule, how do I get the text of each staement in
> the "(statement)+" expression in the proc rule.
>
> 2) how do I get the value of the argument in the procArgs rule,I have
> tried (v:(ID|STRING_LITERAL|INT))* , that didn't work !
>
> Thanks
>        Eli
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From elim at tti-telecom.com  Sun Feb 24 09:29:05 2002
From: elim at tti-telecom.com (Eli Mesika)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Help for a beginner
Message-ID: <8AABB7C1CB60BD4CB07A1976035C429D63663C@exchange.tti-telecom.com>

Thanks

Your answers helped me very much.

Have a wonderful day ...

-----Original Message-----
From: Matthew Ford [mailto:Matthew.Ford@forward.com.au]
Sent: Sunday, February 24, 2002 7:19 PM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Help for a beginner


>
> 1) statement is a rule, how do I get the text of each statement in
> the "(statement)+" expression in the proc rule.

I use
rule
{String str = null;}
:
.....
   (str = statement
      { // process str here
       }
     )+
....
;



protected statement  returns [String str]
{ str = "";}
: ( id:IDENT { str = id.getText();}
  //  etc
;


>
> 2) how do I get the value of the argument in the procArgs rule,I have
> tried (v:(ID|STRING_LITERAL|INT))* , that didn't work !
Try

rule
{ Token tok = null;}
:
....
(  (id:ID{ tok = id;})
  |( st:STRING_LITERAL {tok = st;})
  | (i:INT{tok = i;})
 { // process tok here
     switch tok.getType()  {
        case ID:
           // process id here
           System.out.println(tok.getText());
          break;
        case STRING_LITERAL:
           // process st here
           System.out.println(tok.getText());
          break;
        case INT:
           // process i here
           System.out.println(tok.getText());
          break;
       default:
           throw new Exception(" bad token"+tok.toString());
     }
 }
  )*
...
;

OR

(
   (id:ID
      {   // process id here
          System.out.println(id.getText());
      }
    ) | ( st:STRING_LITERAL
       {   // process st here
          System.out.println(st.getText());
      }
   ) | (i:INT
      {   // process i here
          System.out.println(i.getText());
      }
   )
  )*


matthew
----- Original Message -----
From: "elimesika" <elim@tti-telecom.com>
To: <antlr-interest@yahoogroups.com>
Sent: Monday, February 25, 2002 3:05 AM
Subject: [antlr-interest] Help for a beginner


> HI folks
> I am new to antlr and I have several questions:
>
> I have the following rules for my language parser :
>
> procArgs
> :
> LPAREN (ID|STRING_LITERAL|INT)* RPAREN
> ;
>
> proc
> :
> LPAREN PROC procArgs LPAREN (statement)+ RPAREN RPAREN
>
> ;
>
> questions:
>
> 1) statement is a rule, how do I get the text of each staement in
> the "(statement)+" expression in the proc rule.
>
> 2) how do I get the value of the argument in the procArgs rule,I have
> tried (v:(ID|STRING_LITERAL|INT))* , that didn't work !
>
> Thanks
>        Eli
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Matthew.Ford at forward.com.au  Sun Feb 24 09:39:22 2002
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Simple questions
References: <a5b4ds+fke1@eGroups.com>
Message-ID: <001901c1bd5a$3259d960$0200a8c0@matthewfnb>


----- Original Message -----
From: "elimesika" <elim@tti-telecom.com>
To: <antlr-interest@yahoogroups.com>
Sent: Monday, February 25, 2002 3:29 AM
Subject: [antlr-interest] Simple questions


> HI
>
> I have two simple questions:
>
> 1) my grammer should recognize the char '!', I have a "connect!"
> command that I should identify. I have tried to define it in the
> Tokens area :
>
> tokens {
> CONNECT = "connect!";
> }
>
> and got a run time error.
> Writing
> tokens {
> CONNECT = "connect\!";
> }
> gives an antlr compilation error.
> I am using (in the Lexer option section):
> charVocabulary = '\3'..'\377';
> How can I handle that ???

options {
 exportVocab=GAUSS_AD_LEXER;      // call the vocabulary "Gauss"
 caseSensitiveLiterals=false;
 caseSensitive=false;
 charVocabulary = '\3'..'\377';
 testLiterals=false;    // don't automatically test for literals
 k=4;                   // four characters of lookahead

}

tokens {
  IF = "if!";
  DLLCALL = "dllcall!";
}

works for me

>
> 2) I am reading a file written in a certain language.
>    I have to recognize only a subset of the language, but I want to
> keep the statements that I am not recognizing.
> I have tried to use the filter option and an IGNORE rule :
>
> options {
> k=2;
> filter=IGNORE;
> charVocabulary = '\3'..'\377';
> }
>
> protected
> IGNORE
> : c:.
> {System.out.println(c);}
> ;
>
> I don't get any printing when I type things that the parser don't
> recognize.
> Does anybody knows what's the problem or have a better way to do that?
>
> TIA
>      Eli
>

Have a look at the generated code to see what is happening.

You seem to trying to IGNORE every thing (.)

also try
{
 String text = $getText;
System.out.println(text);
}
 and
{System.out.println($getText);}
  might (should!) also work also

matthew

>
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sunshine at public.kherson.ua  Sun Feb 24 09:40:28 2002
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] C++ is slower than Java?
In-Reply-To: <a5aph0+euqh@eGroups.com>
Message-ID: <B89EF1D8.FE04%sunshine@public.kherson.ua>

on 2/24/02 15:23, keren_jefet at keren_jefet@yahoo.com wrote:

> Hi,
> 
> I have tested the java.g example both on Java-generated parser, and
> on Cpp-generated parser (antlr-2.7.1, buildAST=true).
> Surprisingly, I found out that the Java parser, was significantly
> faster than the Cpp one, especially when handling long java source
> files. (sometimes even 600% faster...)
> 
> How can that be? 
> Is this related to the specific java.g grammar definitions, or maybe
> it is true for all parsers, no matter of the grammar complexity?

Sounds incredibly!

I think you need contact Ric (main developer of C++ branch) and send to him
your C++ and Java projects. So Ric will be able to see self speed
difference.

May be Ric will be able profile and find bad code in C++ part.

-- 
Best regards,
Ruslan Zasukhin

-------------------------
Paradigma.

e-mail: ruslan@paradigmasoft.com
web   : http://www.paradigmasoft.com

To subscribe to the Valentina mail list
send a letter to valentina-on@lists.macserve.net



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Feb 24 09:58:48 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] C++ is slower than Java?
In-Reply-To: <a5aph0+euqh@eGroups.com>
Message-ID: <276AF3B6-2950-11D6-A5C3-0030653DE0D6@jguru.com>


On Sunday, February 24, 2002, at 05:23  AM, keren_jefet wrote:

> Hi,
>
> I have tested the java.g example both on Java-generated parser, and
> on Cpp-generated parser (antlr-2.7.1, buildAST=true).
> Surprisingly, I found out that the Java parser, was significantly
> faster than the Cpp one, especially when handling long java source
> files. (sometimes even 600% faster...)
>
> How can that be?
> Is this related to the specific java.g grammar definitions, or maybe
> it is true for all parsers, no matter of the grammar complexity?

It must be something weird with the C++ libraries for ANTLR.  Ric has 
done lots of work for 2.7.2a2.  Can you download that and try it?

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From m_schellens at hotmail.com  Sun Feb 24 22:01:19 2002
From: m_schellens at hotmail.com (marc_schellens)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] treewalker as interpreter
Message-ID: <a5cjvf+50fa@eGroups.com>

I would like to use a tree-walker as
an interpreter.
One necessary thing then is, to be able to
'jump' meaning to explicitely set the next 
AST node to be parsed and jump out of a rule
immediately.
What would be the best way to do so?
Thanks,
marc


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Sun Feb 24 22:13:47 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] treewalker as interpreter
In-Reply-To: <a5cjvf+50fa@eGroups.com>
Message-ID: <D4457071-29B6-11D6-A5C3-0030653DE0D6@jguru.com>


On Sunday, February 24, 2002, at 10:01  PM, marc_schellens wrote:

> I would like to use a tree-walker as
> an interpreter.
> One necessary thing then is, to be able to
> 'jump' meaning to explicitely set the next
> AST node to be parsed and jump out of a rule
> immediately.
> What would be the best way to do so?

I would have a instruction "cracker" routine that basically figured out 
what tree fits with the instruction.  Then I'd have just a list of these 
suckers in the tree grammar (i.e., lots and lots of start rules).  Then 
I'd call them individually to parse/handle that kind of element.

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From m_schellens at hotmail.com  Mon Feb 25 00:01:35 2002
From: m_schellens at hotmail.com (marc_schellens)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: treewalker as interpreter
In-Reply-To: <D4457071-29B6-11D6-A5C3-0030653DE0D6@jguru.com>
Message-ID: <a5cr0v+9hp3@eGroups.com>

> I would have a instruction "cracker" routine that basically figured
out 
> what tree fits with the instruction.  Then I'd have just a list of
these 
> suckers in the tree grammar (i.e., lots and lots of start rules). 
Then 
> I'd call them individually to parse/handle that kind of element.
> 
> Ter

Thanks,
but how to handle GOTO statements then?
I.e. how to tell the tree walker to continue with a
specific CommonAST subclass?
marc


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From m_schellens at hotmail.com  Mon Feb 25 00:19:21 2002
From: m_schellens at hotmail.com (marc_schellens)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] RefMyAST
Message-ID: <a5cs29+ka2g@eGroups.com>

What about the RefAST thing?
Obviously it does some reference counting, but
what is the exact purpose?
If I get the tree from a tree walker,
should I get it as RefMyAST of MyAST*?
Whats the difference?
thanks,
marc
 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Mon Feb 25 03:24:30 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] C++ is slower than Java?
In-Reply-To: <a5aph0+euqh@eGroups.com>; from keren_jefet@yahoo.com on Sun, Feb 24, 2002 at 01:23:44PM -0000
References: <a5aph0+euqh@eGroups.com>
Message-ID: <20020225122430.B214@cs.utwente.nl>

Hi,

On Sun, Feb 24, 2002 at 01:23:44PM -0000, keren_jefet wrote:
> I have tested the java.g example both on Java-generated parser, and
> on Cpp-generated parser (antlr-2.7.1, buildAST=true).
> Surprisingly, I found out that the Java parser, was significantly
> faster than the Cpp one, especially when handling long java source
> files. (sometimes even 600% faster...)
>
> How can that be?
> Is this related to the specific java.g grammar definitions, or maybe
> it is true for all parsers, no matter of the grammar complexity?

Hmm strange. Ok I had a quick look now. And noted the following:

Platform specifics:

ANTLR: antlr 2.7.2a1

C++:
  g++ 2.95.3,
  Sun Ultra-60: Solaris 2.8, 1 Gigabyte of main memory, 450 MHz UltraSPARC-II CPU
  All tests on a local disc.
  Relevant compiler options: -O2 -DANTLR_SUPPORT_XML -felide-constructors
  (yields binary of 1Mb)

Java:
  java version "1.2.2"
  Solaris VM (build Solaris_JDK_1.2.2_07a, native threads, sunwjit)
  jikes version 1.11 (10 jan 2000) used as javac

- java.g java.tree.g from 2.7.1 distro. Generated parsers with 2.7.2a2.
  Test files the main antlr/java tree.
- Ported one small change from java version to C++ version.
- The C++ version of the treewalker barfs on several files. Guess there's a
  bug or something in the 2.7.2a1 C++ codegen or javacodegen. (My guess is
  the first)
- Removed the files that misparsed tested again. (this makes my results
  quite questionable I know...) But I presume that if there's no error
  reported that the whole thing gets parsed and that the difference should
  be neglectible (then again it might not..)

Java version comes down to this:

real       20.9
user       10.7
sys         6.6

C++ version to this:

real        7.1
user        6.1
sys         0.0

These results are may vary one or two tenth per number between runs. So I
don't see the behaviour you do, not even the slightest indication of it.
You might post some more specifics on your testrig. Feel free to mail me
your testfiles and I'll run them here.

Ric

PS Oh yah and I had my xmms still playing Tristania's World of Glass album
which is btw very enjoyable ;)
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Human beings, who are almost unique in having the ability to learn
   from the experience of others, are also remarkable for their apparent
         disinclination to do so. --- Douglas Adams, Last Chance to See


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From keren_jefet at yahoo.com  Mon Feb 25 05:40:35 2002
From: keren_jefet at yahoo.com (keren_jefet)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: C++ is slower than Java?
In-Reply-To: <20020225122430.B214@cs.utwente.nl>
Message-ID: <a5desj+89j1@eGroups.com>

Thanks for the fast response.
I downloaded and tested the new 2.7.2a2 version, and results are 
completely different: On all tests I run C++ runs faster.
Thanks again,
Keren.


--- In antlr-interest@y..., Ric Klaren <klaren@c...> wrote:
> Hi,
> 
> On Sun, Feb 24, 2002 at 01:23:44PM -0000, keren_jefet wrote:
> > I have tested the java.g example both on Java-generated parser, 
and
> > on Cpp-generated parser (antlr-2.7.1, buildAST=true).
> > Surprisingly, I found out that the Java parser, was significantly
> > faster than the Cpp one, especially when handling long java source
> > files. (sometimes even 600% faster...)
> >
> > How can that be?
> > Is this related to the specific java.g grammar definitions, or 
maybe
> > it is true for all parsers, no matter of the grammar complexity?
> 
> Hmm strange. Ok I had a quick look now. And noted the following:
> 
> Platform specifics:
> 
> ANTLR: antlr 2.7.2a1
> 
> C++:
>   g++ 2.95.3,
>   Sun Ultra-60: Solaris 2.8, 1 Gigabyte of main memory, 450 MHz 
UltraSPARC-II CPU
>   All tests on a local disc.
>   Relevant compiler options: -O2 -DANTLR_SUPPORT_XML -felide-
constructors
>   (yields binary of 1Mb)
> 
> Java:
>   java version "1.2.2"
>   Solaris VM (build Solaris_JDK_1.2.2_07a, native threads, sunwjit)
>   jikes version 1.11 (10 jan 2000) used as javac
> 
> - java.g java.tree.g from 2.7.1 distro. Generated parsers with 
2.7.2a2.
>   Test files the main antlr/java tree.
> - Ported one small change from java version to C++ version.
> - The C++ version of the treewalker barfs on several files. Guess 
there's a
>   bug or something in the 2.7.2a1 C++ codegen or javacodegen. (My 
guess is
>   the first)
> - Removed the files that misparsed tested again. (this makes my 
results
>   quite questionable I know...) But I presume that if there's no 
error
>   reported that the whole thing gets parsed and that the difference 
should
>   be neglectible (then again it might not..)
> 
> Java version comes down to this:
> 
> real       20.9
> user       10.7
> sys         6.6
> 
> C++ version to this:
> 
> real        7.1
> user        6.1
> sys         0.0
> 
> These results are may vary one or two tenth per number between 
runs. So I
> don't see the behaviour you do, not even the slightest indication 
of it.
> You might post some more specifics on your testrig. Feel free to 
mail me
> your testfiles and I'll run them here.
> 
> Ric
> 
> PS Oh yah and I had my xmms still playing Tristania's World of 
Glass album
> which is btw very enjoyable ;)
> --
> -----
+++++*****************************************************+++++++++---
----
>     ---- Ric Klaren ----- klaren@c... ----- +31 53 4893722  ----
> -----
+++++*****************************************************+++++++++---
----
>      Human beings, who are almost unique in having the ability to 
learn
>    from the experience of others, are also remarkable for their 
apparent
>          disinclination to do so. --- Douglas Adams, Last Chance to 
See


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Mon Feb 25 05:54:27 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: C++ is slower than Java?
In-Reply-To: <a5desj+89j1@eGroups.com>; from keren_jefet@yahoo.com on Mon, Feb 25, 2002 at 01:40:35PM -0000
References: <20020225122430.B214@cs.utwente.nl> <a5desj+89j1@eGroups.com>
Message-ID: <20020225145427.D214@cs.utwente.nl>

Hi,

On Mon, Feb 25, 2002 at 01:40:35PM -0000, keren_jefet wrote:
> I downloaded and tested the new 2.7.2a2 version, and results are
> completely different: On all tests I run C++ runs faster.

Good to hear :)

Now the only problem still is the difference between the two generated
parsers.

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  "I don't have anything against Java - it's the best damn implementation
				  of UCSD Pascal ever released..." --- Larry Smith


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From zjg1964 at yahoo.com  Mon Feb 25 06:14:53 2002
From: zjg1964 at yahoo.com (jg z)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] PCCTS grammer to ANTLR grammer....
In-Reply-To: <009001c1bbf6$7dd82230$6501a8c0@tomhawk>
Message-ID: <20020225141453.27089.qmail@web14904.mail.yahoo.com>

Hi, Avkash,
    I think I can reply your first two questions.
    You can't use the same PCCTS grammar with ANTLR
2.6 or above. There are two main differences between
PCCTS and ANTLR.
   First, ANTLR is run in JAVA environment and can
generate source code either in C++ or in JAVA.
   Second, the procedures to generate the lexer are
different. With PCCTS, the first step is to generate a
.dlg file, then use DLG to generate the final source
code for lexer. But with ANTLR, you can directly
generate source code for lexer simply in one step,
don't need DLG any more. So the grammar for lexer is
totally different. You have to rewrite the lexer part
in your old grammar to replace the old part.
   Additionally, the parser part in the grammar also
has some differences which you can find on the 
  http://www.ANTLR.org/papers/133to220.htm.

     zuo
--- Avkash Chauhan <avkash_chauhan@yahoo.com> wrote:
> Hi all,
> 
> We have a custom language grammer specially written
> for PCCTS 1.33 MR19.
> during sometime 2000 and we also have about 10,000
> pages written based on
> that language.
> 
> I just upgraded older language with a totally new
> one. Now i need to write a
> converter to change the previous language pages to
> new one. My key questions
> are as below:
> 
> - Can i use same PCCTS grammer with ANTLR 2.6.x or
> above.
> - Do i need to change my old grammer with new one.
> - How ANTLR can help me to write language converter
> from one to aonther.
> - Is there any other metod to perform this work.
> 
> Any help would be greatly appreciated...
> Thanks in advance.
> 
> -Avkash
> 
> 
>
_________________________________________________________
> Do You Yahoo!?
> Get your free @yahoo.com address at
> http://mail.yahoo.com
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to
> http://docs.yahoo.com/info/terms/ 
> 
> 


__________________________________________________
Do You Yahoo!?
Yahoo! Sports - Coverage of the 2002 Olympic Games
http://sports.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Trey.Spiva at embarcadero.com  Mon Feb 25 06:37:07 2002
From: Trey.Spiva at embarcadero.com (Trey Spiva)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] C++ is slower than Java?
Message-ID: <6791D870658F174FB863E2FA890000A37DCABD@abyss4.advancedsw.com>

Did you use one of the java Buffered input classes.  Because as far as I can
tell the C++ streams
class are not buffered.  Therefore, every time the C++ antlr runtime reads a
character it is
going to the disk to retrieve the character.  I drastically increased the
speed of the parser by
implementing my own buffer.

> -----Original Message-----
> From: keren_jefet [mailto:keren_jefet@yahoo.com]
> Sent: Sunday, February 24, 2002 6:24 AM
> To: antlr-interest@yahoogroups.com
> Subject: [antlr-interest] C++ is slower than Java?
> 
> 
> Hi,
> 
> I have tested the java.g example both on Java-generated parser, and 
> on Cpp-generated parser (antlr-2.7.1, buildAST=true).  
> Surprisingly, I found out that the Java parser, was significantly 
> faster than the Cpp one, especially when handling long java source 
> files. (sometimes even 600% faster...)
> 
> How can that be? 
> Is this related to the specific java.g grammar definitions, or maybe 
> it is true for all parsers, no matter of the grammar complexity?
> 
> Thanks,
> keren.
> 
> 
> 
>  
> 
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/ 
> 
> 

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From mzukowski at bco.com  Mon Feb 25 06:52:17 2002
From: mzukowski at bco.com (mzukowski@bco.com)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] PCCTS grammer to ANTLR grammer....
Message-ID: <170826586F3BD511910D0200C110AAA801C5826C@memail03.bco-home.com>

> - Can i use same PCCTS grammer with ANTLR 2.6.x or above.

No, they are not compatible.

> - Do i need to change my old grammer with new one.

One option for you would be to continute using PCCTS and update your old
grammar to the new

> - How ANTLR can help me to write language converter from one 
> to aonther.

Basically you build trees and then modify the trees in however many passes
you need, then "unparse" the trees out to source code.

> - Is there any other metod to perform this work.
> 

You've got a big headstart if you already have a PCCTS grammar.  Sounds like
the main choice for you is whether to stay with PCCTS or jump to antlr 2.6
or above.  Note that the newsgroup comp.compilers.tools.pccts is still
active and Tom Moog is still maintaining PCCTS.

Monty
ANTLR Consultant
www.codetransform.com/consulting.html

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Feb 25 09:32:31 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] Re: treewalker as interpreter
In-Reply-To: <a5cr0v+9hp3@eGroups.com>
Message-ID: <A59C8345-2A15-11D6-B280-0030653DE0D6@jguru.com>


On Monday, February 25, 2002, at 12:01  AM, marc_schellens wrote:

>> I would have a instruction "cracker" routine that basically figured
> out
>> what tree fits with the instruction.  Then I'd have just a list of
> these
>> suckers in the tree grammar (i.e., lots and lots of start rules).
> Then
>> I'd call them individually to parse/handle that kind of element.
>>
>> Ter
>
> Thanks,
> but how to handle GOTO statements then?
> I.e. how to tell the tree walker to continue with a
> specific CommonAST subclass?

Well, the goto has to have a number or symbol target.  Your symbol table 
will point to the tree created for the target statement :)  Look it up 
and then jump :)

Ter
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Mon Feb 25 09:35:39 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] PCCTS grammer to ANTLR grammer....
In-Reply-To: <20020225141453.27089.qmail@web14904.mail.yahoo.com>
Message-ID: <157B07CC-2A16-11D6-B280-0030653DE0D6@jguru.com>


On Monday, February 25, 2002, at 06:14  AM, jg z wrote:
>   http://www.ANTLR.org/papers/133to220.htm.

That should be .html (not the dreaded 3-letter M$ version) ;)  Good post 
though :)

Ter


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sagarbiyani at yahoo.com  Tue Feb 26 05:01:04 2002
From: sagarbiyani at yahoo.com (SAGAR BIYANI)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] (unknown)
Message-ID: <20020226130104.47948.qmail@web12507.mail.yahoo.com>

Hi ,
	I am writing an grammar file for SQL commands. 
I have extended the same grammar for some other
purpose. Now during
generating 
the code for derived lexer and parser classes it is
throwing following
error. 

#$%%*&@# internal error:
java.lang.NullPointerException
[complain to nearest government official
 or send hate-mail to parrt@jguru.com;
 please send stack trace with report.]

java.lang.NullPointerException
        at java.util.Hashtable.get(Hashtable.java:320)
        at
antlr.SimpleTokenManager.getTokenSymbol(SimpleTokenManager.java:84)
        at
antlr.SimpleTokenManager.getTokenSymbolAt(SimpleTokenManager.java:89)
        at
antlr.JavaCodeGenerator.getValueString(JavaCodeGenerator.java:3046)
        at
antlr.JavaCodeGenerator.getRangeExpression(JavaCodeGenerator.java:3032)
        at
antlr.JavaCodeGenerator.getLookaheadTestTerm(JavaCodeGenerator.java:2991)
        at
antlr.JavaCodeGenerator.getLookaheadTestExpression(JavaCodeGenerator.java:29
47)
        at
antlr.JavaCodeGenerator.getLookaheadTestExpression(JavaCodeGenerator.java:29
73)
        at
antlr.JavaCodeGenerator.genCommonBlock(JavaCodeGenerator.java:1644)
        at
antlr.JavaCodeGenerator.gen(JavaCodeGenerator.java:533)
        at
antlr.OneOrMoreBlock.generate(OneOrMoreBlock.java:21)
        at
antlr.JavaCodeGenerator.genAlt(JavaCodeGenerator.java:1190)
        at
antlr.JavaCodeGenerator.genRule(JavaCodeGenerator.java:2503)
        at
antlr.JavaCodeGenerator.gen(JavaCodeGenerator.java:693)
        at
antlr.ParserGrammar.generate(ParserGrammar.java:28)
        at
antlr.JavaCodeGenerator.gen(JavaCodeGenerator.java:111)
        at antlr.Tool.doEverything(Tool.java:254)
        at antlr.Tool.main(Tool.java:390)

Is is a bug ? Any help on this will be greatly
appreciated.

Thanks,
Sagar


__________________________________________________
Do You Yahoo!?
Yahoo! Sports - Coverage of the 2002 Olympic Games
http://sports.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sagarbiyani at yahoo.com  Tue Feb 26 05:03:04 2002
From: sagarbiyani at yahoo.com (SAGAR BIYANI)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] NullPointerException in antlr
Message-ID: <20020226130304.5920.qmail@web12508.mail.yahoo.com>

Hi ,
	I am writing an grammar file for SQL commands. 
I have extended the same grammar for some other
purpose. Now during
generating 
the code for derived lexer and parser classes it is
throwing following
error. 

#$%%*&@# internal error:
java.lang.NullPointerException
[complain to nearest government official
 or send hate-mail to parrt@jguru.com;
 please send stack trace with report.]

java.lang.NullPointerException
        at java.util.Hashtable.get(Hashtable.java:320)
        at
antlr.SimpleTokenManager.getTokenSymbol(SimpleTokenManager.java:84)
        at
antlr.SimpleTokenManager.getTokenSymbolAt(SimpleTokenManager.java:89)
        at
antlr.JavaCodeGenerator.getValueString(JavaCodeGenerator.java:3046)
        at
antlr.JavaCodeGenerator.getRangeExpression(JavaCodeGenerator.java:3032)
        at
antlr.JavaCodeGenerator.getLookaheadTestTerm(JavaCodeGenerator.java:2991)
        at
antlr.JavaCodeGenerator.getLookaheadTestExpression(JavaCodeGenerator.java:29
47)
        at
antlr.JavaCodeGenerator.getLookaheadTestExpression(JavaCodeGenerator.java:29
73)
        at
antlr.JavaCodeGenerator.genCommonBlock(JavaCodeGenerator.java:1644)
        at
antlr.JavaCodeGenerator.gen(JavaCodeGenerator.java:533)
        at
antlr.OneOrMoreBlock.generate(OneOrMoreBlock.java:21)
        at
antlr.JavaCodeGenerator.genAlt(JavaCodeGenerator.java:1190)
        at
antlr.JavaCodeGenerator.genRule(JavaCodeGenerator.java:2503)
        at
antlr.JavaCodeGenerator.gen(JavaCodeGenerator.java:693)
        at
antlr.ParserGrammar.generate(ParserGrammar.java:28)
        at
antlr.JavaCodeGenerator.gen(JavaCodeGenerator.java:111)
        at antlr.Tool.doEverything(Tool.java:254)
        at antlr.Tool.main(Tool.java:390)

Is is a bug ? Any help on this will be greatly
appreciated.

Thanks,
Sagar


__________________________________________________
Do You Yahoo!?
Yahoo! Sports - Coverage of the 2002 Olympic Games
http://sports.yahoo.com

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From parrt at jguru.com  Tue Feb 26 09:43:21 2002
From: parrt at jguru.com (Terence Parr)
Date: Mon Dec 20 16:14:41 2004
Subject: [antlr-interest] NullPointerException in antlr
In-Reply-To: <20020226130304.5920.qmail@web12508.mail.yahoo.com>
Message-ID: <5385329E-2AE0-11D6-B280-0030653DE0D6@jguru.com>

Hi Sagar,

Can you narrow down the input for me so that you can find a small 
grammar that causes the error?  That would allow me to fix it quickly. 
Thanks!

Ter
PS	your direct email bounced.

On Tuesday, February 26, 2002, at 05:03  AM, SAGAR BIYANI wrote:

> Hi ,
> 	I am writing an grammar file for SQL commands.
> I have extended the same grammar for some other
> purpose. Now during
> generating
> the code for derived lexer and parser classes it is
> throwing following
> error.
>
> #$%%*&@# internal error:
> java.lang.NullPointerException
> [complain to nearest government official
>  or send hate-mail to parrt@jguru.com;
>  please send stack trace with report.]
>
> java.lang.NullPointerException
>         at java.util.Hashtable.get(Hashtable.java:320)
>         at
> antlr.SimpleTokenManager.getTokenSymbol(SimpleTokenManager.java:84)
>         at
> antlr.SimpleTokenManager.getTokenSymbolAt(SimpleTokenManager.java:89)
>         at
> antlr.JavaCodeGenerator.getValueString(JavaCodeGenerator.java:3046)
>         at
> antlr.JavaCodeGenerator.getRangeExpression(JavaCodeGenerator.java:3032)
>         at
> antlr.JavaCodeGenerator.getLookaheadTestTerm(JavaCodeGenerator.java:2991)
>         at
> antlr.JavaCodeGenerator.getLookaheadTestExpression(JavaCodeGenerator.java:
> 29
> 47)
>         at
> antlr.JavaCodeGenerator.getLookaheadTestExpression(JavaCodeGenerator.java:
> 29
> 73)
>         at
> antlr.JavaCodeGenerator.genCommonBlock(JavaCodeGenerator.java:1644)
>         at
> antlr.JavaCodeGenerator.gen(JavaCodeGenerator.java:533)
>         at
> antlr.OneOrMoreBlock.generate(OneOrMoreBlock.java:21)
>         at
> antlr.JavaCodeGenerator.genAlt(JavaCodeGenerator.java:1190)
>         at
> antlr.JavaCodeGenerator.genRule(JavaCodeGenerator.java:2503)
>         at
> antlr.JavaCodeGenerator.gen(JavaCodeGenerator.java:693)
>         at
> antlr.ParserGrammar.generate(ParserGrammar.java:28)
>         at
> antlr.JavaCodeGenerator.gen(JavaCodeGenerator.java:111)
>         at antlr.Tool.doEverything(Tool.java:254)
>         at antlr.Tool.main(Tool.java:390)
>
> Is is a bug ? Any help on this will be greatly
> appreciated.
>
> Thanks,
> Sagar
>
>
> __________________________________________________
> Do You Yahoo!?
> Yahoo! Sports - Coverage of the 2002 Olympic Games
> http://sports.yahoo.com
>
>
>
> Your use of Yahoo! Groups is subject to 
> http://docs.yahoo.com/info/terms/
>
>
--
Chief Scientist & Co-founder, http://www.jguru.com
Creator, ANTLR Parser Generator: http://www.antlr.org


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From rradh at yahoo.com  Tue Feb 26 13:07:11 2002
From: rradh at yahoo.com (rradh)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] Using ANTLR generated Parser and Lexer for an interactive shell
Message-ID: <a5gtdv+imu6@eGroups.com>

Hi,

I have the following procedure:

1. The shell lexer takes a line of text returned by 'readline()' and
generates tokens.
2. The shell parser takes the tokens generated by the lexer and
performs the actions. 


   for ( ; shellExit == false; )
   {
      line = readline(prompt);
      
      if (!line)
         break;

      istrstream inputLine(line);
      
      ShellLexer inputLineLexer( inputLine  );
      ShellParser inputLineParser(inputLineLexer);

      inputLineParser.parse_command();
   }

I know this sounds lousy, but the only working solution I have. A
script file that contains commands understood by the shell can be
input. 

A single shell parser and lexer is what I am shooting for as the
parser is decoupled from the input stream by lexer and i want the
lexer to just read consecutive input lines of text. The problem I am
having with that is that only the first command gets understood and I
can't flush the previous input stream to the lexer.

Any suggestions?
Thanks
Rajesh


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From m_schellens at hotmail.com  Tue Feb 26 21:56:50 2002
From: m_schellens at hotmail.com (marc_schellens)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] ANTLR C++ error?
Message-ID: <a5hsf2+fmfo@eGroups.com>

I have the following tree parser:

label!
  : #(i:IDENTIFIER COLON)
	{ 
	  #label=#[LABEL,i->getText()];
	  comp.Label(#label); 
	}	
  ;

ANTLR generates:
	
label_AST=astFactory.create(LABEL,i->getText());
comp.Label(label_AST); 

ok.		
But for the following:

var!
  : #(VAR i:IDENTIFIER)
	{ 
	  #var=#[VAR,i->getText()];
	  comp.Var(#var);	
	}
  ;

ANTLR generates:
		 
var_AST=astFactory.create(static_cast<antlr::RefAST>(static_cast<antlr::RefAST>(tmp58_AST),i->getText()));
		  comp.Var(var_AST);	

What is the reason? For me both examples look
pretty much the same.
Thanks,
marc


both LABEL and VAR are defined in MyTreeParserTokenTypes.hpp.
The code genrated before the above two lines in the 2nd example is:
void MyTreeParser::var(RefDNode _t) {
	RefDNode var_AST_in = _t;
	returnAST = static_cast<RefDNode>(antlr::nullAST);
	antlr::ASTPair currentAST;
	RefDNode var_AST = static_cast<RefDNode>(antlr::nullAST);
	RefDNode i = static_cast<RefDNode>(antlr::nullAST);
	RefDNode i_AST = static_cast<RefDNode>(antlr::nullAST);
	
	RefDNode __t106 = _t;
	RefDNode tmp58_AST = static_cast<RefDNode>(antlr::nullAST);
	RefDNode tmp58_AST_in = static_cast<RefDNode>(antlr::nullAST);
	tmp58_AST = astFactory.create(static_cast<antlr::RefAST>(_t));
	tmp58_AST_in = _t;
	antlr::ASTPair __currentAST106 = currentAST;
	currentAST.root = currentAST.child;
	currentAST.child = static_cast<RefDNode>(antlr::nullAST);
	match(static_cast<antlr::RefAST>(_t),VAR);
	_t = _t->getFirstChild();
	i = _t;
	i_AST = astFactory.create(static_cast<antlr::RefAST>(i));
	match(static_cast<antlr::RefAST>(_t),IDENTIFIER);
	_t = _t->getNextSibling();
	currentAST = __currentAST106;
	_t = __t106;
	_t = _t->getNextSibling();
	var_AST = RefDNode(currentAST.root);



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Wed Feb 27 01:51:23 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] ANTLR C++ error?
In-Reply-To: <a5hsf2+fmfo@eGroups.com>; from m_schellens@hotmail.com on Wed, Feb 27, 2002 at 05:56:50AM -0000
References: <a5hsf2+fmfo@eGroups.com>
Message-ID: <20020227105123.L214@cs.utwente.nl>

Hi,

On Wed, Feb 27, 2002 at 05:56:50AM -0000, marc_schellens wrote:
> I have the following tree parser:
> 
> label!
>   : #(i:IDENTIFIER COLON)
> 	{ 
> 	  #label=#[LABEL,i->getText()];
> 	  comp.Label(#label); 
> 	}	
>   ;
> 
> ANTLR generates:
> 	
> label_AST=astFactory.create(LABEL,i->getText());
> comp.Label(label_AST); 
> 
> ok.		
> But for the following:
> 
> var!
>   : #(VAR i:IDENTIFIER)
> 	{ 
> 	  #var=#[VAR,i->getText()];
> 	  comp.Var(#var);	
> 	}
>   ;
> 
> ANTLR generates:
> 		 
> var_AST=astFactory.create(static_cast<antlr::RefAST>(static_cast<antlr::RefAST>(tmp58_AST),i->getText()));
> 		  comp.Var(var_AST);	
> 
> What is the reason? For me both examples look
> pretty much the same.

Why do you suspect this is an error? Is there weird behaviour? As far as I
can tell you have a treeparser with buildast on.

In the first case antlr cannot copy the incoming AST so it generates a new
one. In the second case the incoming ast (_t) can be copied (via tmp58) to
the output tree whilst overriding the text. The code may be inefficient but
it works.

I see no problem here.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Time what is time - I wish I knew how to tell You why - It hurts to know -
          Aren't we machines - Time what is time - Unlock the door
               - And see the truth - Then time is time again
                From: 'Time what is Time' by Blind Guardian


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From m_schellens at hotmail.com  Wed Feb 27 02:36:38 2002
From: m_schellens at hotmail.com (marc_schellens)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] Re: ANTLR C++ error?
In-Reply-To: <20020227105123.L214@cs.utwente.nl>
Message-ID: <a5icrm+3veh@eGroups.com>

> Why do you suspect this is an error? Is there weird behaviour? As
far as I
> can tell you have a treeparser with buildast on.
> 
> In the first case antlr cannot copy the incoming AST so it generates
a new
> one. In the second case the incoming ast (_t) can be copied (via
tmp58) to
> the output tree whilst overriding the text. The code may be
inefficient but
> it works.
> 
> I see no problem here.
> 
> Cheers,
>> Ric

As I see it, the problem is the first cast:

var_AST=astFactory.create(static_cast<antlr::RefAST>(
static_cast<antlr::RefAST>(tmp58_AST),i->getText()
));

because of which the expression is a comma expression instead of
to paramters. Consequently I get the following error:

my.tree.g: In method `void MyTreeParser::var
(antlr::ASTRefCount<DNode>)':
my.tree.g:316: no matching function for call to 
`antlr::ASTRefCount<antlr::AST>::ASTRefCount (string)'
antlr/ASTRefCount.hpp:66: candidates are: 
antlr::ASTRefCount<T>::ASTRefCount (const antlr::AST * = 0) [with T = 
antlr::AST]
antlr/ASTRefCount.hpp:70:                 
antlr::ASTRefCount<T>::ASTRefCount (const antlr::ASTRefCount<T> &) 
[with T = antlr::AST]

Do I miss something?
Maybe I got the wrong syntax?
I thought with #[TYPE,text] I would define a NEW node. I don't want
to copy something here.

marc


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Wed Feb 27 03:00:44 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] Re: ANTLR C++ error?
In-Reply-To: <a5icrm+3veh@eGroups.com>; from m_schellens@hotmail.com on Wed, Feb 27, 2002 at 10:36:38AM -0000
References: <20020227105123.L214@cs.utwente.nl> <a5icrm+3veh@eGroups.com>
Message-ID: <20020227120043.M214@cs.utwente.nl>

On Wed, Feb 27, 2002 at 10:36:38AM -0000, marc_schellens wrote:
> > I see no problem here.
> 
> As I see it, the problem is the first cast:
> 
> var_AST=astFactory.create(static_cast<antlr::RefAST>(
> static_cast<antlr::RefAST>(tmp58_AST),i->getText()
> ));
> 
> because of which the expression is a comma expression instead of
> to paramters. Consequently I get the following error:
> 
> my.tree.g: In method `void MyTreeParser::var
> (antlr::ASTRefCount<DNode>)':
> my.tree.g:316: no matching function for call to
> `antlr::ASTRefCount<antlr::AST>::ASTRefCount (string)'
> antlr/ASTRefCount.hpp:66: candidates are: 
> antlr::ASTRefCount<T>::ASTRefCount (const antlr::AST * = 0) [with T = 
> antlr::AST]
> antlr/ASTRefCount.hpp:70:                 
> antlr::ASTRefCount<T>::ASTRefCount (const antlr::ASTRefCount<T> &) 
> [with T = antlr::AST]
> 
> Do I miss something?
> Maybe I got the wrong syntax?
> I thought with #[TYPE,text] I would define a NEW node. I don't want
> to copy something here.

Aha I see the problem now, didn't look at the braces for the first mail.
Ok. What ANTLR version (did you try the prerelease already)? What compiler?
What exact grammar options?

Above all send me a small version of your grammar that can run through
antlr, then I might be able to look at this sooner, if not I'll put it of
till I got time again.

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 'And this 'rebooting' business? Give it a good kicking, do you?' 'Oh, no,
  of course, we ... that is ... well, yes, in fact,' said Ponder. 'Adrian
    goes round the back and ... er ... prods it with his foot. But in a
     technical way,' he added. --- From: Hogfather by Terry Pratchett.

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From klaren at cs.utwente.nl  Wed Feb 27 03:09:36 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:42 2004
Subject: Swamped
Message-ID: <20020227120936.N214@cs.utwente.nl>

Hi,

Just to let you know, I've hinted at it already several times. I'm
completely swamped in work right now.

Which means I practically don't have any time to work on ANTLR. Basically
I've not done anything big since the prerelease was released. There are
still several issues with the C++ codegen, a few bugs cropped up in the
last month, all of which are showstoppers for as far as I'm concerned.

I'm not sure when I get time again to spend on ANTLR. I'm thinking more in
months than in weeks with respect to this :(.

Cheers,

Ric

PS Terence the repository seems down? Or did it move? I'm currently still
using 208.44.197.71:666.
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
Wit is cultured insolence. --- Aristotle

From klaren at cs.utwente.nl  Wed Feb 27 03:09:36 2002
From: klaren at cs.utwente.nl (Ric Klaren)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] Swamped
Message-ID: <20020227120936.N214@cs.utwente.nl>

Hi,

Just to let you know, I've hinted at it already several times. I'm
completely swamped in work right now.

Which means I practically don't have any time to work on ANTLR. Basically
I've not done anything big since the prerelease was released. There are
still several issues with the C++ codegen, a few bugs cropped up in the
last month, all of which are showstoppers for as far as I'm concerned.

I'm not sure when I get time again to spend on ANTLR. I'm thinking more in
months than in weeks with respect to this :(.

Cheers,

Ric

PS Terence the repository seems down? Or did it move? I'm currently still
using 208.44.197.71:666.
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- klaren@cs.utwente.nl ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
Wit is cultured insolence. --- Aristotle

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From anuragag_iitk at yahoo.co.in  Wed Feb 27 08:06:43 2002
From: anuragag_iitk at yahoo.co.in (anuragag_iitk)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] AST Construction
Message-ID: <a5j06j+ir5u@eGroups.com>

Hi,
  I want to use antlr to construct an AST in which nodes of user
defined node types will be associated with non-terminals in the the
grammer.How do I about it? The documentation that I have seen tells
how to associate user-defined node types with Tokens only and not with
rules or non-terminals.Please give me some reference or some examples
on this

-- Anurag 


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sinan.karasu at boeing.com  Wed Feb 27 09:07:52 2002
From: sinan.karasu at boeing.com (Sinan)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] AST Construction
References: <a5j06j+ir5u@eGroups.com>
Message-ID: <3C7D1268.BCE82C59@boeing.com>

anuragag_iitk wrote:
> 
> Hi,
>   I want to use antlr to construct an AST in which nodes of user
> defined node types will be associated with non-terminals in the the
> grammer.How do I about it? The documentation that I have seen tells
> how to associate user-defined node types with Tokens only and not with
> rules or non-terminals.Please give me some reference or some examples
> on this
> 
> -- Anurag


 You can just create a synthetic "Token" root for your non-terminals ,
and then traverse 
the non-terminals.

e,g,

 rule : x y z { ##=#([MYROOT],##);

 and then in tree walker:

 #(m:MYROOT   { for(i=0;i<100000) {myrule(m,i);})

myrule[int i]: #(MYROOT x y z);

So basically it boils down to tagging an AST with an artifical root.

sinan

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sinan.karasu at boeing.com  Wed Feb 27 12:53:27 2002
From: sinan.karasu at boeing.com (Sinan)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] treewalker as interpreter
References: <D4457071-29B6-11D6-A5C3-0030653DE0D6@jguru.com>
Message-ID: <3C7D4747.558CF772@boeing.com>

Terence Parr wrote:
> 
> On Sunday, February 24, 2002, at 10:01  PM, marc_schellens wrote:
> 
> > I would like to use a tree-walker as
> > an interpreter.
> > One necessary thing then is, to be able to
> > 'jump' meaning to explicitely set the next
> > AST node to be parsed and jump out of a rule
> > immediately.
> > What would be the best way to do so?
> 
> I would have a instruction "cracker" routine that basically figured out
> what tree fits with the instruction.  Then I'd have just a list of these
> suckers in the tree grammar (i.e., lots and lots of start rules).  Then
> I'd call them individually to parse/handle that kind of element.
> 
> Ter

Go To statement would be something like ( in the treewalker)

gotoStatement
	:	#( "goto"		i:INT_CONST)
		{
			_t=(AST)theContext.getTarget(i.getText());
			_retTree=_t;
			throw new DTGoToException(i.getText());
		}
	;


Then you would have:

codeblock:
		CODEBLOCK (statement)*
;
exception
	catch [DTGoToException ex]{
		_t=_retTree;
	}


Couple of things to watch out for.

   if(x==x)then{
100:  x=x-x+x;
   }

   goto 100;

 is obviously bad.....

 So it is a good idea to create a new scope for each block, so that if
target is not found in the
current scope, then rethrow the goto exception...

 Sinan

 PS: I tried this and it works.....

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sinan.karasu at boeing.com  Wed Feb 27 12:54:59 2002
From: sinan.karasu at boeing.com (Sinan)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] treewalker as interpreter
References: <a5cjvf+50fa@eGroups.com>
Message-ID: <3C7D47A3.AAA53DF@boeing.com>

marc_schellens wrote:
> 
> I would like to use a tree-walker as
> an interpreter.
> One necessary thing then is, to be able to
> 'jump' meaning to explicitely set the next
> AST node to be parsed and jump out of a rule
> immediately.
> What would be the best way to do so?
> Thanks,
> marc

BTW, tinybasic example already does this , minus the goto. I did
implement goto,
but haven't sent it to Ter yet.... I will clean the whole thing up and
resend it..

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sunshine at public.kherson.ua  Wed Feb 27 13:22:18 2002
From: sunshine at public.kherson.ua (Ruslan Zasukhin)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] Swamped
In-Reply-To: <20020227120936.N214@cs.utwente.nl>
Message-ID: <B8A31A1D.FFEB%sunshine@public.kherson.ua>

on 2/27/02 13:09, Ric Klaren at klaren@cs.utwente.nl wrote:

> Hi,
> 
> Just to let you know, I've hinted at it already several times. I'm
> completely swamped in work right now.
> 
> Which means I practically don't have any time to work on ANTLR. Basically
> I've not done anything big since the prerelease was released. There are
> still several issues with the C++ codegen, a few bugs cropped up in the
> last month, all of which are showstoppers for as far as I'm concerned.
> 
> I'm not sure when I get time again to spend on ANTLR. I'm thinking more in
> months than in weeks with respect to this :(.

Hi Ric,

I am very sorry. You have made great work.

Any idea if anybody else will be able replace you for this months?
 

-- 
Best regards,
Ruslan Zasukhin

-------------------------
Paradigma.

e-mail: ruslan@paradigmasoft.com
web   : http://www.paradigmasoft.com

To subscribe to the Valentina mail list
send a letter to valentina-on@lists.macserve.net



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From pc_poppe at hotmail.com  Thu Feb 28 01:51:10 2002
From: pc_poppe at hotmail.com (pc_poppe)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] from antrl-generated AST back to java-file?
Message-ID: <a5kuie+k5mv@eGroups.com>

Hi I'm working on a refactoring tool for java and I'm using antlr to 
parse java-files.(the java example that you can download). the result 
is an AST. and then I make some changes to that AST.These are very 
simple like renaming a method.


My question is how can i get a working java-file from my altered AST?

If I try to write out the AST additional words like modifiers and 
class-def,... are written out with the rest and then I dont have a 
java-file I can compile and execute.

To resume I want my sourcecode back, starting from an AST.

Who can help me?



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From Matthew.Ford at forward.com.au  Thu Feb 28 02:36:09 2002
From: Matthew.Ford at forward.com.au (Matthew Ford)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] from antrl-generated AST back to java-file?
References: <a5kuie+k5mv@eGroups.com>
Message-ID: <000e01c1c043$bd64b480$0200a8c0@matthewfnb>

Here is a sample of what I use to output statements from a tree (after
transforming them)

statement
{ String str,lhsStr;
 }

 : #(as:ASSIGN_EXPR lhsStr=identOrConstant str = expression)
  {
   Output.out(lhsStr + " " + as.getText() + " " + str + "; //
ASSIGN_EXPR",debug);
  }

expression returns [String str]
{ str = "";
 }
 : (
   #(EXPRESSION (str=operator | str=identOrConstant | str=just_expression) )
  | str=operator
  | str=identOrConstant
  )
 ;

----- Original Message -----
From: "pc_poppe" <pc_poppe@hotmail.com>
To: <antlr-interest@yahoogroups.com>
Sent: Thursday, February 28, 2002 8:51 PM
Subject: [antlr-interest] from antrl-generated AST back to java-file?


> Hi I'm working on a refactoring tool for java and I'm using antlr to
> parse java-files.(the java example that you can download). the result
> is an AST. and then I make some changes to that AST.These are very
> simple like renaming a method.
>
>
> My question is how can i get a working java-file from my altered AST?
>
> If I try to write out the AST additional words like modifiers and
> class-def,... are written out with the rest and then I dont have a
> java-file I can compile and execute.
>
> To resume I want my sourcecode back, starting from an AST.
>
> Who can help me?
>
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sander at aqris.com  Thu Feb 28 04:59:55 2002
From: sander at aqris.com (=?iso-8859-1?Q?Sander_M=E4gi?=)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] Fix to Java 1.3 Grammer, new Java 1.4 Grammer.
References: <E16VcsD-0000cN-00@frontend2.herald.ox.ac.uk> <E16WL3d-0001OH-00@frontend2.herald.ox.ac.uk>
Message-ID: <07dc01c1c057$d1bb5f10$1200a8c0@sander>

Hi John,

Took me a bit longer than expected but now I can say - ~1400 Jacks tests
agree with your changes :)

br,
Sander

----- Original Message -----
From: "John P N Pybus" <john-yahoo@pybus.org>
To: <antlr-interest@yahoogroups.com>
Sent: Thursday, January 31, 2002 7:31 PM
Subject: Re: [antlr-interest] Fix to Java 1.3 Grammer, new Java 1.4 Grammer.


> On Tuesday 29 Jan 2002 6:20 pm, you (John P N Pybus) wrote:
> >
> > On Tuesday 29 Jan 2002 8:41 am, you (Sander M?gi) wrote:
> > > Thanks,
> > >
> > > I can merge it with my code next week and run jacks tests on it. I'll
let
> > > you know.
> > >
> > > Sander
> >
> > I've tidied the version I posted on Friday up a little, and run some
> > comparisons with the previous version.  I'm now much more sure it's
> > correct. I'm attaching the new version.
> >
> > I've also included a grammer java14.g which inherits from java.g, and
adds
> > support for Java 1.4 style assertions.  Since this syntax is optional in
> > 1.4, I've not rolled it into the main grammer.
>
> I've fixed a couple of silly mistakes in my previous changes to the java
> grammer.  I'm not going to try attaching it to an email.  It's available
at
> <http://www.pybus.org/code/antlr/java14.2002-01-31.zip>.
>
> Yours,
>
> John
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Thu Feb 28 05:50:08 2002
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] Fix to Java 1.3 Grammer, new Java 1.4 Grammer
Message-ID: <Pine.SOL.4.10.10202281447310.84-100000@reticuli>

Speaking of tests, are these ~1400 tests available somewhere on the net ?

Ciao, Tom



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sander at aqris.com  Thu Feb 28 06:04:54 2002
From: sander at aqris.com (=?iso-8859-1?Q?Sander_M=E4gi?=)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] Fix to Java 1.3 Grammer, new Java 1.4 Grammer
References: <Pine.SOL.4.10.10202281447310.84-100000@reticuli>
Message-ID: <084b01c1c060$e5f5a900$1200a8c0@sander>

Jacks tests are at:
http://oss.software.ibm.com/developerworks/oss/cvs/jikes/~checkout~/jacks/do
cs/tests.html

----- Original Message -----
From: "Thomas Dudziak" <tomdz@cs.tu-berlin.de>
To: <antlr-interest@yahoogroups.com>
Sent: Thursday, February 28, 2002 3:50 PM
Subject: Re: [antlr-interest] Fix to Java 1.3 Grammer, new Java 1.4 Grammer


> Speaking of tests, are these ~1400 tests available somewhere on the net ?
>
> Ciao, Tom
>
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From tomdz at cs.tu-berlin.de  Thu Feb 28 06:45:38 2002
From: tomdz at cs.tu-berlin.de (Thomas Dudziak)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] Fix to Java 1.3 Grammer, new Java 1.4 Grammer
Message-ID: <Pine.SOL.4.10.10202281541420.396-100000@reticuli>

Thanks.

BTW, just out of curiosity, how do you use them to test the Java grammar ?
Simply run the grammar on all supplied input java files ?

Ciao, Tom



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From elim at tti-telecom.com  Thu Feb 28 08:52:22 2002
From: elim at tti-telecom.com (Eli Mesika)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] Simple questions
Message-ID: <8AABB7C1CB60BD4CB07A1976035C429D63664D@exchange.tti-telecom.com>

HI folks

I have a real problem in using '!' in the Antlr Tokens section.
I have tried Matthew's solution, it doesn't work.

Attached please find connect.g which describes the "connect" language.
The language can recognize the following statement:
(connect a b)
However, the exact command is 
(connect! a b)
if you are generating java files from it compiling and running Main it will
accept (connect a b)
However if you change the CONNECT token in the .g file to "connect!" and
test (connect! a b) you 
will get an error.

Am I missing something ???

Please HELP.
Thanks
	Eli 

-----Original Message-----
From: Matthew Ford [mailto:Matthew.Ford@forward.com.au]
Sent: Sunday, February 24, 2002 7:39 PM
To: antlr-interest@yahoogroups.com
Subject: Re: [antlr-interest] Simple questions



----- Original Message -----
From: "elimesika" <elim@tti-telecom.com>
To: <antlr-interest@yahoogroups.com>
Sent: Monday, February 25, 2002 3:29 AM
Subject: [antlr-interest] Simple questions


> HI
>
> I have two simple questions:
>
> 1) my grammer should recognize the char '!', I have a "connect!"
> command that I should identify. I have tried to define it in the
> Tokens area :
>
> tokens {
> CONNECT = "connect!";
> }
>
> and got a run time error.
> Writing
> tokens {
> CONNECT = "connect\!";
> }
> gives an antlr compilation error.
> I am using (in the Lexer option section):
> charVocabulary = '\3'..'\377';
> How can I handle that ???

options {
 exportVocab=GAUSS_AD_LEXER;      // call the vocabulary "Gauss"
 caseSensitiveLiterals=false;
 caseSensitive=false;
 charVocabulary = '\3'..'\377';
 testLiterals=false;    // don't automatically test for literals
 k=4;                   // four characters of lookahead

}

tokens {
  IF = "if!";
  DLLCALL = "dllcall!";
}

works for me

>
> 2) I am reading a file written in a certain language.
>    I have to recognize only a subset of the language, but I want to
> keep the statements that I am not recognizing.
> I have tried to use the filter option and an IGNORE rule :
>
> options {
> k=2;
> filter=IGNORE;
> charVocabulary = '\3'..'\377';
> }
>
> protected
> IGNORE
> : c:.
> {System.out.println(c);}
> ;
>
> I don't get any printing when I type things that the parser don't
> recognize.
> Does anybody knows what's the problem or have a better way to do that?
>
> TIA
>      Eli
>

Have a look at the generated code to see what is happening.

You seem to trying to IGNORE every thing (.)

also try
{
 String text = $getText;
System.out.println(text);
}
 and
{System.out.println($getText);}
  might (should!) also work also

matthew

>
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 



 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: connect.g
Type: application/octet-stream
Size: 5748 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20020228/a581e30a/connect.obj
From sander at aqris.com  Thu Feb 28 09:14:47 2002
From: sander at aqris.com (=?iso-8859-1?Q?Sander_M=E4gi?=)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] Fix to Java 1.3 Grammer, new Java 1.4 Grammer
References: <Pine.SOL.4.10.10202281541420.396-100000@reticuli>
Message-ID: <001f01c1c07b$6c780580$1200a8c0@sander>

Hi

We have adopted these tests for our application, that also resolves the
source files so we had to build a JUnit launcher, but generally - just
running the grammar is all that should be done.

Sander

----- Original Message -----
From: "Thomas Dudziak" <tomdz@cs.tu-berlin.de>
To: <antlr-interest@yahoogroups.com>
Sent: Thursday, February 28, 2002 4:45 PM
Subject: Re: [antlr-interest] Fix to Java 1.3 Grammer, new Java 1.4 Grammer


> Thanks.
>
> BTW, just out of curiosity, how do you use them to test the Java grammar ?
> Simply run the grammar on all supplied input java files ?
>
> Ciao, Tom
>
>
>
>
>
> Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/
>
>
>


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sinan.karasu at boeing.com  Thu Feb 28 09:56:31 2002
From: sinan.karasu at boeing.com (Sinan)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] from antrl-generated AST back to java-file?
References: <a5kuie+k5mv@eGroups.com> <000e01c1c043$bd64b480$0200a8c0@matthewfnb>
Message-ID: <3C7E6F4F.CDB33AEF@boeing.com>

Matthew Ford wrote:
> 
> Here is a sample of what I use to output statements from a tree (after
> transforming them)
> 
> statement
> { String str,lhsStr;
>  }
> 
>  : #(as:ASSIGN_EXPR lhsStr=identOrConstant str = expression)
>   {
>    Output.out(lhsStr + " " + as.getText() + " " + str + "; //
> ASSIGN_EXPR",debug);
>   }
> 
> expression returns [String str]
> { str = "";
>  }
>  : (
>    #(EXPRESSION (str=operator | str=identOrConstant | str=just_expression) )
>   | str=operator
>   | str=identOrConstant
>   )
>  ;
 See examples/java/heteroAST 
for an xmlizedversion.

Sinan

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From sinan.karasu at boeing.com  Thu Feb 28 09:53:08 2002
From: sinan.karasu at boeing.com (Sinan)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] Simple questions
References: <8AABB7C1CB60BD4CB07A1976035C429D63664D@exchange.tti-telecom.com>
Message-ID: <3C7E6E84.47C7B408@boeing.com>

Eli Mesika wrote:
> 
> HI folks
> 
> I have a real problem in using '!' in the Antlr Tokens section.
> I have tried Matthew's solution, it doesn't work.
> 
> Attached please find connect.g which describes the "connect" language.
> The language can recognize the following statement:
> (connect a b)
> However, the exact command is
> (connect! a b)
> if you are generating java files from it compiling and running Main it will
> accept (connect a b)
> However if you change the CONNECT token in the .g file to "connect!" and
> test (connect! a b) you
> will get an error.
> 
> Am I missing something ???
> 
> Please HELP.
> Thanks


The way nextToken works in lexer, you have to have a rule that accepts
the token before a hash
table is consulted for keywords.

so do in the lexer

CATCH_LITERAL_TOKENS:  ( "connect!" | "whatever_else_i_want!@#") ;

so on...

you HAVE TO HAVE testLiterals=true; for this to work.....


I think nextToken should check the keyword  table after consuming 
until a special token ( such as WS ) is seen. But both Ter and Ric are
pretty busy these days.....

 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

From rradh at yahoo.com  Thu Feb 28 10:12:03 2002
From: rradh at yahoo.com (rradh)
Date: Mon Dec 20 16:14:42 2004
Subject: [antlr-interest] making the lexer discard the current input stream
Message-ID: <a5lrtj+gl56@eGroups.com>

Hi,

In the event of an user-defined exception, is there any way to make
the lexer throw away (flush) the current input stream and read from
another input stream.

Similarly is there any way to make the parser discard the current
token(s).

Thanks
Rajesh


 

Your use of Yahoo! Groups is subject to http://docs.yahoo.com/info/terms/ 

