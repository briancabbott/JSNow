<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] static antlr c++ BitSets
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20static%20antlr%20c%2B%2B%20BitSets&In-Reply-To=%3C%22L6E1ABE1A0C164f11B127051B5B2BBA9A.1204056392.scalix.temporal-wave.com%2A%22%40MHS%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026806.html">
   <LINK REL="Next"  HREF="026807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] static antlr c++ BitSets</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20static%20antlr%20c%2B%2B%20BitSets&In-Reply-To=%3C%22L6E1ABE1A0C164f11B127051B5B2BBA9A.1204056392.scalix.temporal-wave.com%2A%22%40MHS%3E"
       TITLE="[antlr-interest] static antlr c++ BitSets">jimi at temporal-wave.com
       </A><BR>
    <I>Tue Feb 26 12:05:19 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026806.html">[antlr-interest] static antlr c++ BitSets
</A></li>
        <LI>Next message: <A HREF="026807.html">[antlr-interest] static antlr c++ BitSets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26810">[ date ]</a>
              <a href="thread.html#26810">[ thread ]</a>
              <a href="subject.html#26810">[ subject ]</a>
              <a href="author.html#26810">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If you don&#8217;t mind working with the beta for a week or so, then switching
to 3.1 C runtime allows you to use C++ directly in your grammar/actions.
The generated C can be compiled as C++ and so any embedded code can be
C++, not just C. If you are doing something new then you should really
put your efforts in to this version (I think). As much as is possible,
everything is pre-computed and allocated at compile time. Obviously
memory is allocated for tokens and so on, but this is done with
factories so it does chunks of them and does not thrash memory.

 

The 3.1 C runtime compares well with the Java version memory wise. The
java parser example (see the example downloads on the downloads page),
runs (on my system) through the JDK 1.6 source in about half the time
that the Java version does, and it is mostly waiting for IO that holds
it back. To perform the task, the Java version uses a working set
(Windows Vista 64) of 380,000K, whereas the C version hits a peaks of
11,700K. Of course working with C is commensurably a little more
involved. 

 

The C parser example in the 3.1 example downloads shows using C++
classes in the generated code, which is of course just a matter of
declaring them and newing them. The runtime itself is pure C, which
makes integration as a library, very simple.

 

Jim

 

 

From: Brian Meidell Andersen [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">brian at gameequation.com</A>] 
Sent: Tuesday, February 26, 2008 11:33 AM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] static antlr c++ BitSets

 

 

On Tue, Feb 26 08, at 19:03 , Jim Idle wrote:





As of 3.1 the C runtime supports C++ integration, I dont know if this 
is of help to you, as you may be inextricably bound to 2.7.x of course, 
but the bitsets there are static C and perform no runtime allocations.

 

So changing to 3.1 would likely solve my problem? 

I am not sure how &quot;c++ integration&quot; does this, so I'm mostly referring
to &quot;perform no runtime allocations&quot;.

 

Regards, Brian

 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080226/7ea2905d/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080226/7ea2905d/attachment.html</A> 
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026806.html">[antlr-interest] static antlr c++ BitSets
</A></li>
	<LI>Next message: <A HREF="026807.html">[antlr-interest] static antlr c++ BitSets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26810">[ date ]</a>
              <a href="thread.html#26810">[ thread ]</a>
              <a href="subject.html#26810">[ subject ]</a>
              <a href="author.html#26810">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
