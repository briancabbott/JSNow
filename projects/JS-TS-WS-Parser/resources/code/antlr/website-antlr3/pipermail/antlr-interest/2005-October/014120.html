<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ASTPair handling in C# runtime for 2.7.6
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ASTPair%20handling%20in%20C%23%20runtime%20for%202.7.6&In-Reply-To=1130363688.9728.3.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014118.html">
   <LINK REL="Next"  HREF="014121.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ASTPair handling in C# runtime for 2.7.6</H1>
    <B>Micheal J</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ASTPair%20handling%20in%20C%23%20runtime%20for%202.7.6&In-Reply-To=1130363688.9728.3.camel%40localhost.localdomain"
       TITLE="[antlr-interest] ASTPair handling in C# runtime for 2.7.6">open.zone at virgin.net
       </A><BR>
    <I>Wed Oct 26 16:05:30 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014118.html">[antlr-interest] ASTPair handling in C# runtime for 2.7.6
</A></li>
        <LI>Next message: <A HREF="014121.html">[antlr-interest] Changes for stream offset determination
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14120">[ date ]</a>
              <a href="thread.html#14120">[ thread ]</a>
              <a href="subject.html#14120">[ subject ]</a>
              <a href="author.html#14120">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Has anyone actually tested how big the performance impact is? 
</I>&gt;<i> This is of course application dependant, but in my experience 
</I>&gt;<i> doing such optimisations without a good benchmark is not a 
</I>&gt;<i> good idea, especially in managed code (in my case: Java code, 
</I>&gt;<i> but probably applies to .NET, too).
</I>
Yes. I did with a couple of in-production grammars with input files
typically over 3MB in size. Hundreds of thousands of the damned things were
alloc'ed even though the longest only call-chain was only a few thousands.
With larger files, that alloc'ed resource and the resulting GC churn was an
issue. That is what led to the original change to use an object pool in
2.7.5. 

Jim Crozman did as well. He reports about this in the thread.

Option 1 seems to have it all IMO.

Cheers,

Micheal

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014118.html">[antlr-interest] ASTPair handling in C# runtime for 2.7.6
</A></li>
	<LI>Next message: <A HREF="014121.html">[antlr-interest] Changes for stream offset determination
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14120">[ date ]</a>
              <a href="thread.html#14120">[ thread ]</a>
              <a href="subject.html#14120">[ subject ]</a>
              <a href="author.html#14120">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
