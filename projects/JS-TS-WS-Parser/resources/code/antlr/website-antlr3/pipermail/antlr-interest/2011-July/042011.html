<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] alternatives to linq LambdaExpression	Compile	method
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20alternatives%20to%20linq%20LambdaExpression%0A%09Compile%09method&In-Reply-To=%3C01b801cc3b1c%24618ebfd0%2424ac3f70%24%40pixelminegames.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042004.html">
   <LINK REL="Next"  HREF="042014.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] alternatives to linq LambdaExpression	Compile	method</H1>
    <B>Sam Harwell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20alternatives%20to%20linq%20LambdaExpression%0A%09Compile%09method&In-Reply-To=%3C01b801cc3b1c%24618ebfd0%2424ac3f70%24%40pixelminegames.com%3E"
       TITLE="[antlr-interest] alternatives to linq LambdaExpression	Compile	method">sharwell at pixelminegames.com
       </A><BR>
    <I>Tue Jul  5 07:03:55 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="042004.html">[antlr-interest] alternatives to linq LambdaExpression Compile	method
</A></li>
        <LI>Next message: <A HREF="042014.html">[antlr-interest] alternatives to linq LambdaExpression Compile	method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42011">[ date ]</a>
              <a href="thread.html#42011">[ thread ]</a>
              <a href="subject.html#42011">[ subject ]</a>
              <a href="author.html#42011">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Costa,

There are three options which I might suggest, with the first two being
vastly preferred to the last. First of all, you should review your current
code to make sure that if a formula gets evaluated multiple times, the
compiled expression (Func&lt;T&gt; delegate) is reused. I've successfully used
that Compile method as part of a fairly expensive finite element computation
program with surprisingly great results. :)

Second, if your expressions are not always the same but can be factored as
in f(x)=3*x and g(x)=2*x, the you can instead create a reusable h(x, y)=x*y
which would have much better results.

If for some reason the above do not work well in your situation, I privately
have a version of ASMJIT written entirely in C# which can directly emit x86
and/or x64 code (without parsing intermediate assembly language files) that
is then called through a delegate. Depending on your needs, I might be able
to work out a commercial license for its use. This library can certainly
produce fast code, but it's extremely difficult both to get correct and to
debug.

Sam

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Costa Basil
Sent: Tuesday, July 05, 2011 2:17 AM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: [antlr-interest] alternatives to linq LambdaExpression Compile
method

I have a program that has to compile and execute formulas on the fly. I am
using antlr to build linq expression trees which I then compile using the
LambdaExpression.Compile() method.

The problem is that this method is far too slow. Are there any other
alternatives perhaps commercial that would be faster?

Any other suggestions?

Thanks

List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
Unsubscribe:
<A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042004.html">[antlr-interest] alternatives to linq LambdaExpression Compile	method
</A></li>
	<LI>Next message: <A HREF="042014.html">[antlr-interest] alternatives to linq LambdaExpression Compile	method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42011">[ date ]</a>
              <a href="thread.html#42011">[ thread ]</a>
              <a href="subject.html#42011">[ subject ]</a>
              <a href="author.html#42011">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
