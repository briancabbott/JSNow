<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Code generation advice
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Code%20generation%20advice&In-Reply-To=%3CCAN45N13GWPyuiVpaLr7Y6mSo_Q_HV3bhCLtTWecLr44G0rmaBw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044761.html">
   <LINK REL="Next"  HREF="044765.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Code generation advice</H1>
    <B>Eric</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Code%20generation%20advice&In-Reply-To=%3CCAN45N13GWPyuiVpaLr7Y6mSo_Q_HV3bhCLtTWecLr44G0rmaBw%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Code generation advice">researcher0x00 at gmail.com
       </A><BR>
    <I>Wed Jun 20 13:16:24 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044761.html">[antlr-interest] Code generation advice
</A></li>
        <LI>Next message: <A HREF="044765.html">[antlr-interest] Code generation advice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44764">[ date ]</a>
              <a href="thread.html#44764">[ thread ]</a>
              <a href="subject.html#44764">[ subject ]</a>
              <a href="author.html#44764">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matt,

Here is a summary of what I understand that you want. Please correct me
where I am wrong.

You want to create a grammar, the mother grammar for lack of something that
would be confusing, for creating other DSL grammars.

As an example the mother grammar would be ANTLR or some variant of ANTLR,
and the DSL grammar would be any grammar the user is intending to create.
Let's say the DSL grammar is for DOT files, yes I know there really is a
DOT file grammar created by ANTLR.

So using your mother grammar, the user would define the DOT grammar. Now
comes the big difference; instead of using the DOT grammar as an input to
ANTLR, you would use the DOT grammar to generate Java Interfaces that can
be called by the end program. I am not sure of what happens between the
call to the Java interface and the output of the call, but the point is
that you are not using ANTLR, but going straight from a call based on
grammar rule as a Java interface to some ouput such as an AST.

Eric



On Wed, Jun 20, 2012 at 3:54 PM, Eric &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">researcher0x00 at gmail.com</A>&gt; wrote:

&gt;<i> Hi Matt,
</I>&gt;<i>
</I>&gt;<i> It is now making much more sense.
</I>&gt;<i>
</I>&gt;<i> How do you plan on ensuring the grammar is not ambiguious?
</I>&gt;<i> Will the grammar have to conform to one of the Chomsky hierarchies?  See:
</I>&gt;<i> <A HREF="http://en.wikipedia.org/wiki/Chomsky_hierarchy">http://en.wikipedia.org/wiki/Chomsky_hierarchy</A>
</I>&gt;<i> It sounds like when you are done you be recreating PROLOG's Definite
</I>&gt;<i> Clause Grammar.
</I>&gt;<i> See: <A HREF="http://en.wikipedia.org/wiki/Definite_clause_grammar">http://en.wikipedia.org/wiki/Definite_clause_grammar</A>
</I>&gt;<i>
</I>&gt;<i> Eric
</I>&gt;<i>
</I>&gt;<i> On Wed, Jun 20, 2012 at 3:44 PM, Matt Benson &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">gudnabrsam at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi, Scott--and thanks for ANTLREclipse, which (never having moved past
</I>&gt;&gt;<i> v2) I still use.  ;)  Actually, embedded in my original email was the
</I>&gt;&gt;<i> fact that I have looked at xtext and making it do what I'm looking for
</I>&gt;&gt;<i> is at least an endeavor whose HOWTO is non-obvious.  AFAICT, its focus
</I>&gt;&gt;<i> is on parsing a DSL into a Java model:  well and good, but I know how
</I>&gt;&gt;<i> to do that with ANTLR.  Xtext might well make this job easier, but in
</I>&gt;&gt;<i> my case, I want more or less to bypass the idea of parsing a DSL and
</I>&gt;&gt;<i> simply use the same meta-grammar to describe an embedded DSL whose
</I>&gt;&gt;<i> rules are actually invoked as Java methods.  Possibly xtext *can* do
</I>&gt;&gt;<i> this, but so far its documentation is quite obtuse to me, and I have
</I>&gt;&gt;<i> yet to see anything in its examples that suggests that it would give
</I>&gt;&gt;<i> me a leg up on this particular task.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> @Eric:  your question is answered ;)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Regards,
</I>&gt;&gt;<i> Matt
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wed, Jun 20, 2012 at 2:31 PM, Scott Stanchfield &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">scott at javadude.com</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i> &gt; Have you taken a look at xtext ( <A HREF="http://www.eclipse.org/Xtext/">http://www.eclipse.org/Xtext/</A>) It
</I>&gt;&gt;<i> uses a
</I>&gt;&gt;<i> &gt; grammar similar to antlr to generate model interfaces/classes, a
</I>&gt;&gt;<i> &gt; syntax-highlighting editor (optional, but very useful), persistence
</I>&gt;&gt;<i> manager
</I>&gt;&gt;<i> &gt; and other doodads. Under the covers it uses antlr to do the actual
</I>&gt;&gt;<i> parsing.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; xtext is intended for DSL definition and is rather mature, too.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; As a really short example (from the xtext site):
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; grammar org.xtext.example.mydsl.MyDsl
</I>&gt;&gt;<i> &gt;     with org.eclipse.xtext.common.Terminals
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; generate myDsl &quot;<A HREF="http://www.xtext.org/example/mydsl/MyDsl&quot;">http://www.xtext.org/example/mydsl/MyDsl&quot;</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Model:
</I>&gt;&gt;<i> &gt;     greetings+=Greeting*;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Greeting:
</I>&gt;&gt;<i> &gt;     'Hello' name=ID '!';
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; would generate a Model class that has a property greetings which is a
</I>&gt;&gt;<i> list
</I>&gt;&gt;<i> &gt; of Greeting instances, and a Greeting class that has a name property.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I don't know if it fits exactly what you're looking for, but it's worth
</I>&gt;&gt;<i> &gt; taking a look.
</I>&gt;&gt;<i> &gt; -- Scott
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; ----------------------------------------
</I>&gt;&gt;<i> &gt; Scott Stanchfield
</I>&gt;&gt;<i> &gt; <A HREF="http://javadude.com">http://javadude.com</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; On Wed, Jun 20, 2012 at 2:49 PM, Matt Benson &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">gudnabrsam at gmail.com</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; What I want to do is make it easier to write an EDSL by having it
</I>&gt;&gt;<i> &gt;&gt; specified like any other grammar, generating Java interfaces to
</I>&gt;&gt;<i> &gt;&gt; represent the grammar's various rules, as well as basic
</I>&gt;&gt;<i> &gt;&gt; implementations of these, which I expect will accumulate &quot;tokens&quot;
</I>&gt;&gt;<i> &gt;&gt; extracted from method arguments specified in fluent fashion.  In fact,
</I>&gt;&gt;<i> &gt;&gt; spelling it out here makes it sound as though it might be just as
</I>&gt;&gt;<i> &gt;&gt; reasonable for the end result of a series of calls upon the
</I>&gt;&gt;<i> &gt;&gt; implementation of this EDSL interface to create a (parse?) tree, which
</I>&gt;&gt;<i> &gt;&gt; could then be walked to resolve the final result of such a series of
</I>&gt;&gt;<i> &gt;&gt; method invocations.  This would have the benefit that such a tree
</I>&gt;&gt;<i> &gt;&gt; walker (parse, AST, what-have-you) would be equally applicable to a
</I>&gt;&gt;<i> &gt;&gt; tree generated from a &quot;normal&quot; ANTLR-generated Java Parser
</I>&gt;&gt;<i> &gt;&gt; implementation.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Is that more clear?
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Thanks for your interest,
</I>&gt;&gt;<i> &gt;&gt; Matt
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; On Wed, Jun 20, 2012 at 1:14 PM, Eric &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">researcher0x00 at gmail.com</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt; Ok, I'm curious as to what you are trying to do. It sounds like
</I>&gt;&gt;<i> &gt;&gt; &gt; something I
</I>&gt;&gt;<i> &gt;&gt; &gt; once tinkered with but since I did not understand your exact goal I
</I>&gt;&gt;<i> &gt;&gt; &gt; could be
</I>&gt;&gt;<i> &gt;&gt; &gt; totally wrong.
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; The only part that I understood as part of the goal was &quot;generation
</I>&gt;&gt;<i> of
</I>&gt;&gt;<i> &gt;&gt; &gt; Java
</I>&gt;&gt;<i> &gt;&gt; &gt; interfaces from EBNF-style grammars&quot;. Are you trying to generate Java
</I>&gt;&gt;<i> &gt;&gt; &gt; interfaces from a grammar for other languages or interface languages
</I>&gt;&gt;<i> &gt;&gt; &gt; such as
</I>&gt;&gt;<i> &gt;&gt; &gt; C++, CORBA, etc.?
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; Eric
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; On Wed, Jun 20, 2012 at 12:08 PM, Matt Benson &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">gudnabrsam at gmail.com</A>&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; Hi all,
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;  In the Java ecosystem embedded DSLs have become increasingly
</I>&gt;&gt;<i> popular
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; over the past several years.  In my opinion the primary drawback to
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; these is the painful task of their creation.  For this reason I want
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; to experiment with the generation of Java interfaces from EBNF-style
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; grammars to see what I can accomplish, in true Dr. Terence Parr &quot;why
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; program by hand in 5 days...&quot; fashion.  I have explored, for
</I>&gt;&gt;<i> example,
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; xtext, but the process of going from its meta-grammar to EDSL code
</I>&gt;&gt;<i> is
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; non-obvious.  I'm open to other suggestions if anyone has any, but
</I>&gt;&gt;<i> in
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; the meantime I'm looking at ANTLR 4 and/or 3-based approaches.  It
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; would seem most appropriate to use the ANTLR 4 meta-grammar, from
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; which point I would seem to have the following options:
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; * Implement a custom code generation target for ANTLR 4
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; * Use ANTLRMorph with the ANTLR 3-based ANTLR 4 meta-grammar
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; It might well be the case that these differ only in the manner in
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; which the output stringtemplates are provided.  Does anyone have any
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; opinions on which approach is to be preferred?  Failing that, I am
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; willing to entertain aspersions cast on, or less likely, advocations
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; in favor of, my sanity in conceiving this endeavor.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; Thanks in advance for any input,
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; Matt
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; Unsubscribe:
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;<i> &gt;&gt; Unsubscribe:
</I>&gt;&gt;<i> &gt;&gt; <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;<i> Unsubscribe:
</I>&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044761.html">[antlr-interest] Code generation advice
</A></li>
	<LI>Next message: <A HREF="044765.html">[antlr-interest] Code generation advice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44764">[ date ]</a>
              <a href="thread.html#44764">[ thread ]</a>
              <a href="subject.html#44764">[ subject ]</a>
              <a href="author.html#44764">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
