<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer lookahead overoptimizes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20lookahead%20overoptimizes&In-Reply-To=%3C461F85FA.2070308%40shmuelhome.mine.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020177.html">
   <LINK REL="Next"  HREF="020178.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer lookahead overoptimizes</H1>
    <B>shmuel siegel</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20lookahead%20overoptimizes&In-Reply-To=%3C461F85FA.2070308%40shmuelhome.mine.nu%3E"
       TITLE="[antlr-interest] Lexer lookahead overoptimizes">antlr at shmuelhome.mine.nu
       </A><BR>
    <I>Fri Apr 13 06:30:34 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020177.html">[antlr-interest] Lexer lookahead overoptimizes
</A></li>
        <LI>Next message: <A HREF="020178.html">[antlr-interest] CFG tool for Java
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20181">[ date ]</a>
              <a href="thread.html#20181">[ thread ]</a>
              <a href="subject.html#20181">[ subject ]</a>
              <a href="author.html#20181">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jim Idle wrote:
&gt;<i> I think that what Ter is trying to tell you is that you are not really
</I>&gt;<i> supplying quite enough information for the lexer analyser to work things
</I>&gt;<i> out without making a 'mistake', so the behavior, without any further
</I>&gt;<i> information, is as you see it.
</I>&gt;<i>
</I>&gt;<i> I think that you need a predicate on your rule, such as this:
</I>&gt;<i>
</I>&gt;<i> SHIN : '\u00d7' '\u00a9' ( ('\u00d7' '\u0081')=&gt; ('\u00d7' '\u0081'))? '
</I>&gt;<i>
</I>&gt;<i> You might need the very latest snapshot for this predicate, but probably
</I>&gt;<i> not. 
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i>   
</I>I understand what Ter is saying; that is why I referred to it as a 
feature that I disagree with rather than a bug. I think that Ter is 
making the mistake of having implementation issues drive functional 
specifications. To my mind, EBNF '?' means optional, and optional 
clauses can't fire recognition exceptions. In the notation that you have 
used, Ter has essentially defined

('\u00d7' '\u0081')?

 as

( ('\u00d7')=&gt; ('\u00d7' '\u0081'))?

I don't think that that matches anybody's expectation. The way I look at 
it, Ter has restricted my usage of '?' to single elements, otherwise, 
its behavior is unpredictable.
 From a practical point of view, I will get around the problem by 
promoting my optional term to the status of a full token and letting the 
parser deal with the optional nature.
The bottom line is that I think that Ter needs to document '?' very 
carefully, both in his book and in the Wiki, if he expects to not run 
into a lot of problems. This will be just as bad as ANTLR2's linear 
approximate look ahead! Of course, by definition, Ter wins this debate.

Shmuel

</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020177.html">[antlr-interest] Lexer lookahead overoptimizes
</A></li>
	<LI>Next message: <A HREF="020178.html">[antlr-interest] CFG tool for Java
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20181">[ date ]</a>
              <a href="thread.html#20181">[ thread ]</a>
              <a href="subject.html#20181">[ subject ]</a>
              <a href="author.html#20181">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
