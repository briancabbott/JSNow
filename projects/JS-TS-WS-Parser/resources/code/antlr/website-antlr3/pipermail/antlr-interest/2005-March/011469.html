<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Need help: How to remove comments before
	parsing?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Need%20help%3A%20How%20to%20remove%20comments%20before%0A%09parsing%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011465.html">
   <LINK REL="Next"  HREF="011470.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Need help: How to remove comments before
	parsing?</H1>
    <B>Premkumar Rathanavelu</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Need%20help%3A%20How%20to%20remove%20comments%20before%0A%09parsing%3F&In-Reply-To="
       TITLE="[antlr-interest] Re: Need help: How to remove comments before
	parsing?">rprememail at yahoo.com
       </A><BR>
    <I>Thu Mar 17 17:39:58 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011465.html">[antlr-interest] treeParser problem
</A></li>
        <LI>Next message: <A HREF="011470.html">[antlr-interest] Re: Need help: How to remove comments before parsing?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11469">[ date ]</a>
              <a href="thread.html#11469">[ thread ]</a>
              <a href="subject.html#11469">[ subject ]</a>
              <a href="author.html#11469">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi ..
 Thanks for your relply.
Your Question : Why the comment rules are not working ? 
Ans: Because, take 
Eg : #define MAX_SETUP_STRINGS  (sizeof(setup_strings) / sizeof(char *))  /*comment*/
In the above eg. my rule should parse/lex 
after #define &quot; MAX_SETUP_STRINGS &quot;  -
 this should be done seperately and written to the DB 
and then whatever comes next to this,
 that is here in this eg.,  &quot;(sizeof(setup_strings) / sizeof(char *)) &quot; -
 this should be written to the DB seperately and 
after that comments should be skipped.. removing comments is very important..
 
The rule what i tried and became tired --
 this is for the third part that is the replacement value ..in lexer 

ReplacementList returns [String Replacement=&quot;&quot;]
:<i>
</I>
(

Rep :PPtokens

{Replacement = Rep.getText();}

)

;

PPtokens  
:<i>
</I>
 id:ID  

|<i> num:Number 
</I>
|<i> cl:CharLiteral 
</I>
|<i> sl:StringLiteral 
</I>
|<i> opt:OPERATORS
</I>
 ;  

Explanation : As the #define macros ( Object-like and Function -like) has very 
complex structure of expanding its macros i.e. sometimes with lot of
 operators and expressions, I can't able to write a perfect rule for 
parsing the replacement value and so I thought of capturing all
 everything upto the nextline.But here the problem comes due 
to comments.I can use the comment rules to skip ..but it is not
 working in this context becos I'm capturing all up to the end of the line.. 
 
Result:The comments are also written to my
          Database together with the replacement value.
 
Suggestion: I tried by exploring lot of rules and 
            now I got an idea to precompile the files(.c or .h or .cpp) 
            to remove all the comments by using  some tools 
            and then acting grammar upon them.
 
Please reply me whether this above concept work ? 
 
Pleasure to have comments..
Thanks.,
PREM

		
---------------------------------
Do you Yahoo!?
 Yahoo! Small Business - Try our new resources site! 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20050317/2c2423ba/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20050317/2c2423ba/attachment.html</A>
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011465.html">[antlr-interest] treeParser problem
</A></li>
	<LI>Next message: <A HREF="011470.html">[antlr-interest] Re: Need help: How to remove comments before parsing?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11469">[ date ]</a>
              <a href="thread.html#11469">[ thread ]</a>
              <a href="subject.html#11469">[ subject ]</a>
              <a href="author.html#11469">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
