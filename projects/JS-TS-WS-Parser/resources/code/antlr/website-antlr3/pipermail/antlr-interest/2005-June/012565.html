<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Grammar Question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Grammar%20Question&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012564.html">
   <LINK REL="Next"  HREF="012515.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Grammar Question</H1>
    <B>Alexey Demakov</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Grammar%20Question&In-Reply-To="
       TITLE="[antlr-interest] Grammar Question">demakov at ispras.ru
       </A><BR>
    <I>Sun Jun  5 22:52:39 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012564.html">[antlr-interest] Grammar Question
</A></li>
        <LI>Next message: <A HREF="012515.html">[antlr-interest] Diagram notation for Antlr Studio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12565">[ date ]</a>
              <a href="thread.html#12565">[ thread ]</a>
              <a href="subject.html#12565">[ subject ]</a>
              <a href="author.html#12565">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Andrew,

----- Original Message ----- 
From: &quot;Andrew Deren&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">andrew at adersoftware.com</A>&gt;
To: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
Sent: Monday, June 06, 2005 7:54 AM
Subject: [antlr-interest] Grammar Question


&gt;<i> I'm working on a small language with syntax similar to basic. 
</I>&gt;<i> One of the expression types is array access, where you can use parenthesis
</I>&gt;<i> for accessing the array member:
</I>&gt;<i> x = somearray(3)
</I>&gt;<i> 
</I>&gt;<i> the problem I'm having is that this somearray(3) could also be function
</I>&gt;<i> call. Currently I'm creating FunctionCall for those and converting those to
</I>&gt;<i> ArrayAccess at type checking stage. 
</I>&gt;<i> I don't like doing that, so are there any ways around it? I'm constructing
</I>&gt;<i> heterogeneous immutable AST, so just for this little thing as a hack I allow
</I>&gt;<i> modification of the expression tree. The tree is constructed by the parser. 
</I>
Why not have single node for both cases? It is responsibility
of semantic checker and code generator (or interpreter) to process
them correctly.

&gt;<i> The future problem could be that someone could define array with name
</I>&gt;<i> somearray and function somearray(int), so which expression should be used?
</I>&gt;<i> The language spec allows function and variable names to be the same (I
</I>&gt;<i> didn't write it and can't change it).
</I>&gt;<i> If anyone has experience with basic, how do they handle it?
</I>
Language specification must describe this case. If not, you have
ambiguity and have to resolve it. There are two ways:
1. Prefer one case to other. So, if there are function somearray(int) 
and array named somearrray, somearray(1) will always be the sunction call.
Or array access if you like :)
2. Report about semantic error. So, user have to rename function or array.

Regards,
Alexey

P.S. How your AST is described? May be you will be interested in
my work on special language (TreeDL) for description 
of heterohenous tree structure. See link below.

-----
Alexey Demakov
TreeDL: Tree Description Language: <A HREF="http://treedl.sourceforge.net">http://treedl.sourceforge.net</A>
RedVerst Group: <A HREF="http://www.unitesk.com">http://www.unitesk.com</A>


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012564.html">[antlr-interest] Grammar Question
</A></li>
	<LI>Next message: <A HREF="012515.html">[antlr-interest] Diagram notation for Antlr Studio
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12565">[ date ]</a>
              <a href="thread.html#12565">[ thread ]</a>
              <a href="subject.html#12565">[ subject ]</a>
              <a href="author.html#12565">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
