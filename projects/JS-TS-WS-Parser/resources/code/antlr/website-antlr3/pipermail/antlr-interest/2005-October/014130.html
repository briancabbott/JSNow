<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Run-time construction of syntactic predicates
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Run-time%20construction%20of%20syntactic%20predicates&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014135.html">
   <LINK REL="Next"  HREF="014136.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Run-time construction of syntactic predicates</H1>
    <B>Jan Ploski</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Run-time%20construction%20of%20syntactic%20predicates&In-Reply-To="
       TITLE="[antlr-interest] Run-time construction of syntactic predicates">jpljpl at gmx.de
       </A><BR>
    <I>Thu Oct 27 12:26:52 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014135.html">[antlr-interest] Two questions about antlr3 syntax
</A></li>
        <LI>Next message: <A HREF="014136.html">[antlr-interest] Replies to messages in a digest
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14130">[ date ]</a>
              <a href="thread.html#14130">[ thread ]</a>
              <a href="subject.html#14130">[ subject ]</a>
              <a href="author.html#14130">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Is it possible to construct a syntactic predicate in ANTLR for
which the lookahead string is computed at run time from a token
previously read by the lexer?

Context: I need to extract strings from a Perl source file.
Such strings begin with a quote character after which some text
enclosed by a pair of arbitrary non-alphanumeric, non-whitespace
delimiters follows. For example

q/some string/
q!some string!
q#some string#

and even

q{some string}

are all legal strings.

I want to avoid putting rules for all possible pairs of delimiters
into my grammar.

My idea was to save the delimiter in an action after reading the
it first and use the saved value while looking for the second
delimiter. I can implement this easily by modifying the generated
lexer, but I am at loss when it comes to expressing this in the
grammar file (obviously, modifying generated code would be a last
resort).

I guess it would be something for the parser phase where I could
use a semantic predicate. However, moving the logic to parser would
be difficult because I also rely on the filter=IGNORE option in the
lexer (is there anything like that available at the parser level?)

I have already tried a semantic predicate in a lexer rule,
but this results in an exception being thrown rather than
the desired disambiguating effect.

Best regards -
Jan Ploski

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014135.html">[antlr-interest] Two questions about antlr3 syntax
</A></li>
	<LI>Next message: <A HREF="014136.html">[antlr-interest] Replies to messages in a digest
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14130">[ date ]</a>
              <a href="thread.html#14130">[ thread ]</a>
              <a href="subject.html#14130">[ subject ]</a>
              <a href="author.html#14130">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
