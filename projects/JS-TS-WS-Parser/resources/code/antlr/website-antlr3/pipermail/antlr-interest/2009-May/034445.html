<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] simple return value problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20simple%20return%20value%20problem&In-Reply-To=%3C4CB7FBC9-E488-4262-9572-ABFF7700574A%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034448.html">
   <LINK REL="Next"  HREF="034447.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] simple return value problem</H1>
    <B>Tobias Wunner</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20simple%20return%20value%20problem&In-Reply-To=%3C4CB7FBC9-E488-4262-9572-ABFF7700574A%40gmail.com%3E"
       TITLE="[antlr-interest] simple return value problem">tobias.wunner at gmail.com
       </A><BR>
    <I>Tue May 12 00:42:25 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="034448.html">[antlr-interest] Problem with AST parsing for ST
</A></li>
        <LI>Next message: <A HREF="034447.html">[antlr-interest] simple return value problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34445">[ date ]</a>
              <a href="thread.html#34445">[ thread ]</a>
              <a href="subject.html#34445">[ subject ]</a>
              <a href="author.html#34445">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

still new ANTLR I ran into a simple return value problem. I would like  
to parse a token sequence and return the matched string.

For example I would like to match the characters &quot;hello&quot; in  &quot;11 hello  
22&quot; and return it as a string. I used $var.getText() and matched with  
something like var=CHAR+.

Unfortunately I was only able to retrieve the last character e.g. &quot;o&quot;  
in &quot;hello&quot;

My full code is attached below.

For any help I would be very thankful.

Toby

sample input:		MYTYPES: name1, name2
sample output:		Type = S
					  param = 1
					  param = 2

grammar parse;

@members {
String type;
ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();
}

in		:  typeExpression
		{
		  System.out.println(&quot;Type = &quot;+type);
		  for(String p:list) {
		    System.out.println(&quot; param = &quot;+p);
		  }
		};
typeExpression  :  '@' var=(CHAR|DIGIT)+ ':' DELIM* param (DELIM* ','  
DELIM* param)*
		{
		   type=$var.getText();
		};
param		:  var=(CHAR|DIGIT)+
		{
		  list.add($var.getText());
		}
		;

CHAR	:	'a'..'z';
DIGIT	:	'0'..'9';
DELIM	:	' '|'\t'|'\n';
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034448.html">[antlr-interest] Problem with AST parsing for ST
</A></li>
	<LI>Next message: <A HREF="034447.html">[antlr-interest] simple return value problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34445">[ date ]</a>
              <a href="thread.html#34445">[ thread ]</a>
              <a href="subject.html#34445">[ subject ]</a>
              <a href="author.html#34445">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
