<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Incremental Lexing in an Editor with Stateful
	Lexers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Incremental%20Lexing%20in%20an%20Editor%20with%20Stateful%0A%09Lexers&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014522.html">
   <LINK REL="Next"  HREF="014517.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Incremental Lexing in an Editor with Stateful
	Lexers</H1>
    <B>Martin Probst</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Incremental%20Lexing%20in%20an%20Editor%20with%20Stateful%0A%09Lexers&In-Reply-To="
       TITLE="[antlr-interest] Incremental Lexing in an Editor with Stateful
	Lexers">mail at martin-probst.com
       </A><BR>
    <I>Sun Nov 27 13:18:33 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014522.html">[antlr-interest] v3 code generator developers unite!
</A></li>
        <LI>Next message: <A HREF="014517.html">[antlr-interest] Antlr 3 and the newline token problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14514">[ date ]</a>
              <a href="thread.html#14514">[ thread ]</a>
              <a href="subject.html#14514">[ subject ]</a>
              <a href="author.html#14514">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm currently trying to create a nice GUI for our XQuery enabled XML
database. This of course includes a proper editor for XQuery, and I'm
going to do that in Eclipse. Eclipse standard TextEditors have some
really nifty features about incremental/partial parsing, e.g.
partitioning the document, detecting the 'damage' done to the view and
re-lexing only those parts that are damaged.

So far so good, but my language (XQuery) requires highly stateful
lexing. I have to maintain several different states throughout the
process, every input usually changes state, and to top it off I need a
stack of states.

So my problem is: even if I'm able to detect where exactly someone typed
something, I cannot start lexing for that region only again, as I need
the state stack the Lexer was in just before that region. This would be
fairly complex and brings a lot of overhead in turn (storing the lexing
state stack for each token).

I can only think of two solutions, either mark the places where the
lexer returns to the default state with an empty stack, or copy and
store the whole stack every n tokens. Another solution would be to
re-lex lazily after some 100ms of no keyboard activity, but that seems
less attractive (and is also not so easy, with background threads and
such...).

Has anyone done something like this before? Any experiences/tips?

Martin

</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014522.html">[antlr-interest] v3 code generator developers unite!
</A></li>
	<LI>Next message: <A HREF="014517.html">[antlr-interest] Antlr 3 and the newline token problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14514">[ date ]</a>
              <a href="thread.html#14514">[ thread ]</a>
              <a href="subject.html#14514">[ subject ]</a>
              <a href="author.html#14514">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
