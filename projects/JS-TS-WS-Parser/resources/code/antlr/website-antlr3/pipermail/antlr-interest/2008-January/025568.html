<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] how to tweak the handling of include files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20how%20to%20tweak%20the%20handling%20of%20include%20files&In-Reply-To=%3CCD77C41B-5F42-430B-B681-9B98051EC586%40ucar.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025584.html">
   <LINK REL="Next"  HREF="025585.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] how to tweak the handling of include files</H1>
    <B>siemsen at ucar.edu</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20how%20to%20tweak%20the%20handling%20of%20include%20files&In-Reply-To=%3CCD77C41B-5F42-430B-B681-9B98051EC586%40ucar.edu%3E"
       TITLE="[antlr-interest] how to tweak the handling of include files">siemsen at ucar.edu
       </A><BR>
    <I>Sun Jan  6 18:37:18 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025584.html">[antlr-interest] passing stuff from lexer to parser
</A></li>
        <LI>Next message: <A HREF="025585.html">[antlr-interest] how to tweak the handling of include files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25568">[ date ]</a>
              <a href="thread.html#25568">[ thread ]</a>
              <a href="subject.html#25568">[ subject ]</a>
              <a href="author.html#25568">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm parsing some &quot;include&quot; statements using the code suggested by the  
ANTLR Wiki page entitled &quot;How do I implement include files?&quot; at  
<A HREF="http://www.antlr.org/wiki/pages/viewpage.action?pageId=557057.">http://www.antlr.org/wiki/pages/viewpage.action?pageId=557057.</A>  It  
works but for one thing.  The code executes in the lexer, and quietly  
replaces the include statement with tokens representing the contents  
of the include file.  This is expocted, but no tokens representing  
the include statement itself get into the token stream.  The include  
statement itself is &quot;lost&quot;.

Is there any way for the parser to see the name of the include file?   
I want it for a problem specific to the files I'm parsing, but I can  
imagine a more general case where the the parser might want to report  
the name of the include file in error messages or something.

I tried inserting an &quot;emit&quot; call into the code to explicitly emit a  
token containing the file name, but the following calls to  
setCharStream and reset eat the resulting token, so the parser never  
sees it.

-- Pete

</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025584.html">[antlr-interest] passing stuff from lexer to parser
</A></li>
	<LI>Next message: <A HREF="025585.html">[antlr-interest] how to tweak the handling of include files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25568">[ date ]</a>
              <a href="thread.html#25568">[ thread ]</a>
              <a href="subject.html#25568">[ subject ]</a>
              <a href="author.html#25568">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
