<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] V4 Feature Request: Externally loadable target	generators
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20V4%20Feature%20Request%3A%20Externally%20loadable%20target%0A%09generators&In-Reply-To=%3CEC6E1A44-49B5-4652-A2AA-0A0CBF214A56%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045355.html">
   <LINK REL="Next"  HREF="045399.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] V4 Feature Request: Externally loadable target	generators</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20V4%20Feature%20Request%3A%20Externally%20loadable%20target%0A%09generators&In-Reply-To=%3CEC6E1A44-49B5-4652-A2AA-0A0CBF214A56%40cs.usfca.edu%3E"
       TITLE="[antlr-interest] V4 Feature Request: Externally loadable target	generators">parrt at cs.usfca.edu
       </A><BR>
    <I>Mon Sep 24 11:13:54 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="045355.html">[antlr-interest] V4 Feature Request: Externally loadable target generators
</A></li>
        <LI>Next message: <A HREF="045399.html">[antlr-interest] V4 Feature Request: Externally loadable target generators
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45375">[ date ]</a>
              <a href="thread.html#45375">[ thread ]</a>
              <a href="subject.html#45375">[ subject ]</a>
              <a href="author.html#45375">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sep 21, 2012, at 12:29 PM, Stephen Gaito wrote:

&gt;<i> Ter,
</I>&gt;<i> 
</I>&gt;<i> *Problem:*
</I>&gt;<i> 
</I>&gt;<i> Maybe I missed it, but one of the serious drawbacks I found in using 
</I>&gt;<i> your excellent ANTLR V3, was the inability of cleanly loading a new or 
</I>&gt;<i> slightly altered target (C/C++/Java/...) generator.
</I>
All you have to do is place the template files before the standard distribution in your class path. I use a resource loader to get those templates and so we will see your modified version's first. no fuss no muss.

This is also true if you want to alter the CTarget.java file or whatever. Just put your own version first in the class that and it will override the standard one when it loads.

 This will also be true of v4.

 Does this do what you want?

Ter
&gt;<i> 
</I>&gt;<i> If I remember correctly in reading through the Java code for the Tool, 
</I>&gt;<i> the list of the various target generators were hard-coded into the Tool.
</I>&gt;<i> 
</I>&gt;<i> If my memory is correct, to load my own generator I would need to alter 
</I>&gt;<i> your code... which, if I were to open-source my own project, would get 
</I>&gt;<i> seriously messy... with a (potential) proliferation of different forks 
</I>&gt;<i> of ANTLR.  (Or alternatively with a very large number of &quot;pull&quot; requests 
</I>&gt;<i> back into the main project).
</I>&gt;<i> 
</I>&gt;<i> *Request:*
</I>&gt;<i> 
</I>&gt;<i> As the community begins to develop or port targets for the ANTLR v4, it 
</I>&gt;<i> would be nice to have a clean way of developing and deploying targets 
</I>&gt;<i> which exist /outside/ of the official ANTLR4 project.
</I>&gt;<i> 
</I>&gt;<i> *Benefits:*
</I>&gt;<i> 
</I>&gt;<i> This should make maintaining the core ANTLR4 project much easier, and it 
</I>&gt;<i> would allow users of ANTLR v4 more flexibility in their choice of targets.
</I>&gt;<i> 
</I>&gt;<i> For example, from Sam's comments on the &quot;standard&quot; C++ target, this C++ 
</I>&gt;<i> target /might/ make use of &quot;external&quot; dependencies which /might/ 
</I>&gt;<i> preclude the use of a generated grammar inside, for example, the PHP engine.
</I>&gt;<i> 
</I>&gt;<i> If ANTLR v4 allowed externally loadable target generators, then I (for 
</I>&gt;<i> example) might be able to make simple changes to the standard C++ target 
</I>&gt;<i> (or alternatively write my own) so that grammars generated using my 
</I>&gt;<i> generator would be embeddable inside, for example, the PHP engine.
</I>&gt;<i> 
</I>&gt;<i> Then in my (eventually) open-source project I could distribute an 
</I>&gt;<i> additional jar file to be loaded at runtime.  This additional jar file 
</I>&gt;<i> could, cleanly, contain &quot;my&quot; version of the C++ target generator as 
</I>&gt;<i> required by my project.  (Of course I would also provide my C++ target 
</I>&gt;<i> as an un-official but, hopefully,  useful GitHub project).
</I>&gt;<i> 
</I>&gt;<i> *Possible implementation?*
</I>&gt;<i> 
</I>&gt;<i> I know that ANTLR v4 now makes extensive use of Java's reflection 
</I>&gt;<i> mechanisms.  Could you use this reflection mechanism to find externally 
</I>&gt;<i> loadable target generator interfaces?
</I>&gt;<i> 
</I>&gt;<i> Alternatively, could you search for all instances of a suitably named 
</I>&gt;<i> file in the resources to load any external target generator?
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> Stephen Gaito
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045355.html">[antlr-interest] V4 Feature Request: Externally loadable target generators
</A></li>
	<LI>Next message: <A HREF="045399.html">[antlr-interest] V4 Feature Request: Externally loadable target generators
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45375">[ date ]</a>
              <a href="thread.html#45375">[ thread ]</a>
              <a href="subject.html#45375">[ subject ]</a>
              <a href="author.html#45375">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
