<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] NON-reserved Words
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20NON-reserved%20Words&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003700.html">
   <LINK REL="Next"  HREF="003686.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] NON-reserved Words</H1>
    <B>Anthony W Youngman</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20NON-reserved%20Words&In-Reply-To="
       TITLE="[antlr-interest] NON-reserved Words">Anthony.Youngman at ECA-International.com
       </A><BR>
    <I>Tue Apr 29 01:37:44 PDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003700.html">[antlr-interest] I'm so stupid or there are inaccuracy in java tree parser grammar
</A></li>
        <LI>Next message: <A HREF="003686.html">[antlr-interest] variable definition in java.g
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3685">[ date ]</a>
              <a href="thread.html#3685">[ thread ]</a>
              <a href="subject.html#3685">[ subject ]</a>
              <a href="author.html#3685">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If you want a (complex) example of a grammar that has to handle this
problem, then go to www.maverick-dbms.org and download MaVerick. In
BASIC.g it has to cope with the REM identifier.

Given that there are multiple variants of databasic (which this is an
implementation of) where REM is variously the REMark keyword, not a
keyword at all, or can vary depending on context, I gather Rob had a lot
of fun getting it to work!

And even the commercial compilers don't get it right - when we ported
our code from PI to UV (PI didn't have REMark), the UV compiler got it
right (as a variable) sometimes and wrong (as a keyword) sometimes with
the result that the compile screwed up pretty spectacularly :-)

Cheers,
Wol

-----Original Message-----
From: Brian Hagenbuch [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bhagenbuch at didera.com</A>] 
Sent: 29 April 2003 00:54
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
Subject: [antlr-interest] NON-reserved Words


I'm trying to parse a a dialect of SQL in which there are both
reserved and &quot;non-reserved&quot; words.  A non-reserved word is one
that can be an identifier or a syntactic marker depending on the
context.  For example CASE can be a variable, as in

  ... WHERE CASE=12 AND...

or it can begin an expression, as in

  SELECT CASE WHEN AGE&lt;20 THEN 'kid' ELSE 'geezer' END, ...

The language has about 100 such non-reserved words and about 100
reserved words.

The approach suggested by the FAQ and the Yahoo Group seems to
something like

- Have the lexer treat non-reserved words (like CASE) as ordinary
  identifiers, i.e., don't represent them in the literals table.

- Use semantic predicates in the parser to distinguish the cases.

I started down this road, but found it to be complicated to
implement and hard/impossible to remove non-determinism.  So I'm 
considering a different approach:

- Have the lexer treat non-reserved words as keywords and collect
  them under a parser rule such as maybeIdentifier.

- In the parser, include maybeIdentifer in the rule for variable.

- Use syntactic predicates to distinguish the cases.

So far this seems to be easier, but I'm inexperienced with Antlr
and parsing in general and I'm concerned that there's some GOTCHA
lurking in there somewhere.

Ideas?  Experiences?  Thank you.


 

Your use of Yahoo! Groups is subject to
<A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 



 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

-------------- next part --------------
This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 9911 7799, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003700.html">[antlr-interest] I'm so stupid or there are inaccuracy in java tree parser grammar
</A></li>
	<LI>Next message: <A HREF="003686.html">[antlr-interest] variable definition in java.g
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3685">[ date ]</a>
              <a href="thread.html#3685">[ thread ]</a>
              <a href="subject.html#3685">[ subject ]</a>
              <a href="author.html#3685">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
