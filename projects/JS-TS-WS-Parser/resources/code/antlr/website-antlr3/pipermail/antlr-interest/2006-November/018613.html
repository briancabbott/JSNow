<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] v3 lexer problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20v3%20lexer%20problem&In-Reply-To=25EF88D5A001C54697E67354AE71A63A8BDECF%40si-mail15.de.bosch.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018610.html">
   <LINK REL="Next"  HREF="018612.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] v3 lexer problem</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20v3%20lexer%20problem&In-Reply-To=25EF88D5A001C54697E67354AE71A63A8BDECF%40si-mail15.de.bosch.com"
       TITLE="[antlr-interest] v3 lexer problem">parrt at cs.usfca.edu
       </A><BR>
    <I>Mon Nov 27 09:49:38 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018610.html">[antlr-interest] v3 lexer problem
</A></li>
        <LI>Next message: <A HREF="018612.html">[antlr-interest] public sign-up off on the wiki
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18613">[ date ]</a>
              <a href="thread.html#18613">[ thread ]</a>
              <a href="subject.html#18613">[ subject ]</a>
              <a href="author.html#18613">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi.  '.' in the parser matches a token not any random character.  You  
must be very careful how you draw the line between the lexer and the  
parser. also note that protected-&gt;fragment in version 3.
Ter
On Nov 27, 2006, at 12:40 AM, EXTERNAL Schnitzer Stephan (Praktikant;  
BEG-PG/EAP5) wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I use v3.0b5 and have a (probably simple) lexer problem.
</I>&gt;<i>
</I>&gt;<i> grammar Test;
</I>&gt;<i> protected ALPHABET : ('a'..'z'|'A'..'Z');
</I>&gt;<i> file    : ('T' . | 'Test')  EOF;
</I>&gt;<i> ----------------
</I>&gt;<i> public static void main(String[] args) throws Exception {	
</I>&gt;<i>    TestLexer lexer = new TestLexer(new ANTLRStringStream(&quot;Te&quot;));
</I>&gt;<i>    CommonTokenStream tokens = new CommonTokenStream(lexer);
</I>&gt;<i>    TestParser parser = new TestParser(tokens);
</I>&gt;<i>    parser.file();
</I>&gt;<i> }
</I>&gt;<i> ----------------
</I>&gt;<i>
</I>&gt;<i> I expected &quot;Te&quot; matching to &quot;'T' .&quot;
</I>&gt;<i> But it returns &quot;[mTokens, mT6]: line 1:2 mismatched char: '?' on  
</I>&gt;<i> line 1;
</I>&gt;<i> expecting char 's'
</I>&gt;<i> [file]: line 0:-1 state 0 (decision=1) no viable alt;
</I>&gt;<i> token=[@-1,0:0='&lt;no text&gt;',&lt;-1&gt;,0:-1]&quot;
</I>&gt;<i>
</I>&gt;<i> The method mTokens() reads &quot;Te&quot; and then tries to match &quot;Test&quot;, which
</I>&gt;<i> fails.
</I>&gt;<i> However if I use
</I>&gt;<i> file    : ('T' . | 'T''e''s''t')  EOF;
</I>&gt;<i> everything works as expected. But it looks ugly, especially with long
</I>&gt;<i> expressions!
</I>&gt;<i>
</I>&gt;<i> Does anybody know, how I can get the same behaviour using 'Test'  
</I>&gt;<i> instead
</I>&gt;<i> of 'T''e''s''t'?
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Stephan
</I>&gt;<i>
</I>
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018610.html">[antlr-interest] v3 lexer problem
</A></li>
	<LI>Next message: <A HREF="018612.html">[antlr-interest] public sign-up off on the wiki
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18613">[ date ]</a>
              <a href="thread.html#18613">[ thread ]</a>
              <a href="subject.html#18613">[ subject ]</a>
              <a href="author.html#18613">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
