<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Token Memory / Insertion
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Token%20Memory%20/%20Insertion&In-Reply-To=%3C46FB55D9.8010403%40sogotech.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023871.html">
   <LINK REL="Next"  HREF="023878.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Token Memory / Insertion</H1>
    <B>Matthew Bowman</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Token%20Memory%20/%20Insertion&In-Reply-To=%3C46FB55D9.8010403%40sogotech.com%3E"
       TITLE="[antlr-interest] Token Memory / Insertion">matthew.bowman at sogotech.com
       </A><BR>
    <I>Thu Sep 27 00:03:53 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023871.html">[antlr-interest] Trying to resolve mutual left-recursion
</A></li>
        <LI>Next message: <A HREF="023878.html">[antlr-interest] What does empty subrule mean?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23874">[ date ]</a>
              <a href="thread.html#23874">[ thread ]</a>
              <a href="subject.html#23874">[ subject ]</a>
              <a href="author.html#23874">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a simple problem that I thought would be easy enough ... but as 
usual I was wrong :(

I have rules in my grammar like so ... (this is simplified of course)

foo : FOO '(' a=NUM ',' b=NUM ')' -&gt; ^(FUNC FOO $a $b)
{ memory.put(&quot;a&quot;, $a); memory.put(&quot;b&quot;, $b); };
FOO : 'foo' {barEnabled=true;};

bar : BAR -&gt; ^(FUNC BAR)
BAR : {barEnabled}?=&gt; 'bar';

Now in this example bar is a valid function iff foo appears before it 
(and I have this working with gates). However, the 2 NUM arguments to 
the foo function need to be passed to the bar function (with having to 
retype them). I've tried keeping the Tokens that are parsed at foo and 
can't figure a way to create a rewrite rule in bar that manages to do 
something like this ...

bar : BAR -&gt; ^(FUNC BAR {memory.get(&quot;a&quot;);} {memory.get(&quot;b&quot;);} );

Is this even close and/or possible?

Thanks in advance!

-- 
Matthew Bowman

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023871.html">[antlr-interest] Trying to resolve mutual left-recursion
</A></li>
	<LI>Next message: <A HREF="023878.html">[antlr-interest] What does empty subrule mean?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23874">[ date ]</a>
              <a href="thread.html#23874">[ thread ]</a>
              <a href="subject.html#23874">[ subject ]</a>
              <a href="author.html#23874">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
