<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] acceptance of new ideas (was philosophy about translation)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20acceptance%20of%20new%20ideas%20%28was%20philosophy%20about%0A%20translation%29&In-Reply-To=0C5FA3C4-6F29-4FD8-B7F9-8BDA268C4031%40classdump.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017929.html">
   <LINK REL="Next"  HREF="017930.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] acceptance of new ideas (was philosophy about translation)</H1>
    <B>Andy Tripp</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20acceptance%20of%20new%20ideas%20%28was%20philosophy%20about%0A%20translation%29&In-Reply-To=0C5FA3C4-6F29-4FD8-B7F9-8BDA268C4031%40classdump.org"
       TITLE="[antlr-interest] acceptance of new ideas (was philosophy about translation)">antlr at jazillian.com
       </A><BR>
    <I>Thu Oct 12 16:01:23 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017929.html">[antlr-interest] acceptance of new ideas (was philosophy about	translation)
</A></li>
        <LI>Next message: <A HREF="017930.html">[antlr-interest] Exception when running compiled ANTLR on all	grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17932">[ date ]</a>
              <a href="thread.html#17932">[ thread ]</a>
              <a href="subject.html#17932">[ subject ]</a>
              <a href="author.html#17932">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Kay Roepke wrote:

&gt;<i>
</I>&gt;<i> On 12. Oct 2006, at 22:17 Uhr, Andy Tripp wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I think the &quot;it's ok to generate less-than-perfect code&quot; mindset is  
</I>&gt;&gt;<i> especially hard to get
</I>&gt;&gt;<i> for someone in the compiler crowd.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Of course it depends. Clearly, no one can expect a code translator  
</I>&gt;<i> that can convert huge programs
</I>&gt;<i> flawlessly, in every instance. Those who expect that probably have no  
</I>&gt;<i> inkling about the problem domain,
</I>&gt;<i> even if they are successful compiler engineers. The sad thing is,  
</I>&gt;<i> most of the time they are just pointing to
</I>&gt;<i> the really hard stuff and ignore the 90% of the work you can take off  
</I>&gt;<i> their shoulders. Stupid behavior, if you ask
</I>&gt;<i> me.
</I>
It can and has been done. See <A HREF="http://ovid.tigris.org/Ephedra/.">http://ovid.tigris.org/Ephedra/.</A>
I don't doubt that it works perfectly. Just don't expect to be able to 
read or maintain the
generated code just because it's Java and not assembly.

&gt;<i>
</I>&gt;<i> What really interests me are automatic code refactoring (how I hate  
</I>&gt;<i> that word) tools for a variety of languages (including
</I>&gt;<i> script languages that have a very implicit type system, like Perl).
</I>&gt;<i> In particular for Objective-C, since that has the immensely  
</I>&gt;<i> fascinating mixture of both early and late binding,
</I>&gt;<i> the latter inherited from Smalltalk.
</I>&gt;<i> In that problem domain, accuracy is a must and it is a hard problem  
</I>&gt;<i> to prove correctness of transformation, if you
</I>&gt;<i> cannot completely rely on types. You don't want to mess with code  
</I>&gt;<i> that will be failing in obscure ways at runtime.
</I>&gt;<i> The effects of rearranging code can be hard to visualize so there  
</I>&gt;<i> must not be any foul surprises lurking behind the corner.
</I>&gt;<i> Coming from that direction, your work interests me immensely, and  
</I>&gt;<i> your success gives me the hint that it indeed is
</I>&gt;<i> feasible to try for something like I'm aiming at.
</I>
 From what I've seen, all the refactoring tools, IDEs, etc. all use ASTs.
Also note that Sun is adding adding an API to be able to access all 
javac functionality. That's pretty cool.
If you really do need 100% correctness, you'd better stick with ASTs.

&gt;<i> In that respect, it is of course valuable to know your motivations  
</I>&gt;<i> for avoiding a tree based approach, and be it just
</I>&gt;<i> for seeing a different approach which causes me to reflect my  
</I>&gt;<i> presuppositions, which is always good.
</I>
I didn't start out avoiding ASTs. I had just jotted down a couple 
hundred simple rules like:
strcpy(a, b) --&gt; a = b;
if (true) { x } --&gt; x  // as long as there's no 'else'
printf(x) --&gt; sprintf(stdout, x)

And I found it very hard to work with the ASTs. At least for these 
trivial cases, it shouldn't take much
longer than the few seconds it took to type that mapping.

&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Lex and Yacc where around for, what? 20 years
</I>&gt;&gt;<i> before ANTLR came along? 20 years of people using lex and yacc, and  
</I>&gt;&gt;<i> getting things
</I>&gt;&gt;<i> to work by trial-and-error because the generated code was  
</I>&gt;&gt;<i> unreadable? That's crazy!
</I>&gt;&gt;<i> Thank goodness Terence came along and saw the value in generating  
</I>&gt;&gt;<i> readable code.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> All hail the chief! :) BTW, I totally agree.
</I>
On some things, we can all agree :)

&gt;<i>
</I>&gt;<i> -k
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017929.html">[antlr-interest] acceptance of new ideas (was philosophy about	translation)
</A></li>
	<LI>Next message: <A HREF="017930.html">[antlr-interest] Exception when running compiled ANTLR on all	grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17932">[ date ]</a>
              <a href="thread.html#17932">[ thread ]</a>
              <a href="subject.html#17932">[ subject ]</a>
              <a href="author.html#17932">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
