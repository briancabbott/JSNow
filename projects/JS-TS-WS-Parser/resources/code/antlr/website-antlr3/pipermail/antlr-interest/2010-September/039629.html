<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Issue ANTLR-397 - CommonTreeNodeStream.index()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Issue%20ANTLR-397%20-%20CommonTreeNodeStream.index%28%29&In-Reply-To=%3C4C7FE57F.4030508%40junkwallah.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039631.html">
   <LINK REL="Next"  HREF="039632.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Issue ANTLR-397 - CommonTreeNodeStream.index()</H1>
    <B>Junkman</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Issue%20ANTLR-397%20-%20CommonTreeNodeStream.index%28%29&In-Reply-To=%3C4C7FE57F.4030508%40junkwallah.org%3E"
       TITLE="[antlr-interest] Issue ANTLR-397 - CommonTreeNodeStream.index()">j at junkwallah.org
       </A><BR>
    <I>Thu Sep  2 10:57:19 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="039631.html">[antlr-interest] if/else if/else vs. if/elif/else
</A></li>
        <LI>Next message: <A HREF="039632.html">[antlr-interest] A Problem Using VS2008
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39629">[ date ]</a>
              <a href="thread.html#39629">[ thread ]</a>
              <a href="subject.html#39629">[ subject ]</a>
              <a href="author.html#39629">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings,

I've encountered the issue noted in the subject -
CommonTreeNodeStream.index() does not return the correct current index
into the stream.  Just reporting to give it any extra visibility it may
so that its fix is incorporated into the next release.

It was an entertaining bug in my case, though.  The method seems to
return an index into its node buffer, and the index may adjust depending
on invocation of LT(n) probably because it can cause buffering
additional nodes.  So, given the same input, I could get different
outcomes if I trace it under a debugger while monitoring LT(n) - like a
heisenbug. :-)  More specifically in my instance, the error recovery
code that uses index() to see if the error recovery is getting stuck, it
leads to different outcomes depending on the index() values when
encountering multiple errors.

BufferedTreeNodeStream seems to serve well as an alternative for now.

Regards,

J



</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039631.html">[antlr-interest] if/else if/else vs. if/elif/else
</A></li>
	<LI>Next message: <A HREF="039632.html">[antlr-interest] A Problem Using VS2008
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39629">[ date ]</a>
              <a href="thread.html#39629">[ thread ]</a>
              <a href="subject.html#39629">[ subject ]</a>
              <a href="author.html#39629">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
