<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Excaping quotation characters in quoted	strings - javascript target
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Excaping%20quotation%20characters%20in%20quoted%0A%09strings%20-%20javascript%20target&In-Reply-To=%3C471196.68941.qm%40web43512.mail.sp1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035350.html">
   <LINK REL="Next"  HREF="035357.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Excaping quotation characters in quoted	strings - javascript target</H1>
    <B>James Robson</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Excaping%20quotation%20characters%20in%20quoted%0A%09strings%20-%20javascript%20target&In-Reply-To=%3C471196.68941.qm%40web43512.mail.sp1.yahoo.com%3E"
       TITLE="[antlr-interest] Excaping quotation characters in quoted	strings - javascript target">james.robson at ymail.com
       </A><BR>
    <I>Sun Jul 26 22:05:11 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="035350.html">[antlr-interest] Excaping quotation characters in quoted strings -	javascript target
</A></li>
        <LI>Next message: <A HREF="035357.html">[antlr-interest] Excaping quotation characters in quoted	strings - javascript target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35351">[ date ]</a>
              <a href="thread.html#35351">[ thread ]</a>
              <a href="subject.html#35351">[ subject ]</a>
              <a href="author.html#35351">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Don't worry I've solved the problem. It was my lack of JavaScript knowledge..



________________________________
From: James Robson &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">james.robson at ymail.com</A>&gt;
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Sent: Monday, 27 July, 2009 2:52:23 PM
Subject: [antlr-interest] Excaping quotation characters in quoted strings - javascript target


HI, I'm trying to allow escape sequencs in quoted strings  using the java script target.

I've a similar implementation using the Java Target which works without any problems. It seems that the ext is not available when using the javascirpt target.

Does anyone know how this could be solved for the javascript target?

Below are the lexer rules:


TEXT        
@init{var lBuf = &quot;&quot;;}
    :   
           QUOTATION_MARK
           ( escaped=ESC {lBuf = lBuf.concat(this.getText());} | 
             normal=~(QUOTATION_MARK|'\\'|'\n'|'\r')     {lBuf = lBuf.concat(String.fromCharCode(normal));} )* 
           QUOTATION_MARK    
           {this.setText(&quot;\&quot;&quot;.concat(lBuf, &quot;\&quot;&quot;));}
    ;

fragment
ESC
    :   '\\'
        (       'n'    {this.setText(&quot;\n&quot;);}
        |       'r'    {this.setText(&quot;\r&quot;);}
        |       't'    {this.setText(&quot;\t&quot;);}
        |       'b'    {this.setText(&quot;\b&quot;);}
        |       'f'    {this.setText(&quot;\f&quot;);}
        |       '&quot;'    {this.setText(&quot;\\\&quot;&quot;);}
        |       '\''   {this.setText(&quot;\'&quot;);}
        |       '\\'   {this.setText(&quot;\\&quot;);}
        )
    ;

QUOTATION_MARK
  : '&quot;'
  ;

________________________________
 Access Yahoo!7 Mail on your mobile. Anytime. Anywhere. Show me how.


      ____________________________________________________________________________________
Access Yahoo!7 Mail on your mobile. Anytime. Anywhere.
Show me how: <A HREF="http://au.mobile.yahoo.com/mail">http://au.mobile.yahoo.com/mail</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090726/71bb8505/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090726/71bb8505/attachment.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035350.html">[antlr-interest] Excaping quotation characters in quoted strings -	javascript target
</A></li>
	<LI>Next message: <A HREF="035357.html">[antlr-interest] Excaping quotation characters in quoted	strings - javascript target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35351">[ date ]</a>
              <a href="thread.html#35351">[ thread ]</a>
              <a href="subject.html#35351">[ subject ]</a>
              <a href="author.html#35351">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
