<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] BaseTreeAdaptor.becomeRoot	throwsNullPointerException
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20BaseTreeAdaptor.becomeRoot%0A%09throwsNullPointerException&In-Reply-To=%3Cbe9e4140706090342g6299df9cl5f847add6a98dc0e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021211.html">
   <LINK REL="Next"  HREF="021103.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] BaseTreeAdaptor.becomeRoot	throwsNullPointerException</H1>
    <B>Alessandro</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20BaseTreeAdaptor.becomeRoot%0A%09throwsNullPointerException&In-Reply-To=%3Cbe9e4140706090342g6299df9cl5f847add6a98dc0e%40mail.gmail.com%3E"
       TITLE="[antlr-interest] BaseTreeAdaptor.becomeRoot	throwsNullPointerException">alessnet at gmail.com
       </A><BR>
    <I>Sat Jun  9 03:42:23 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021211.html">[antlr-interest] BaseTreeAdaptor.becomeRoot	throwsNullPointerException
</A></li>
        <LI>Next message: <A HREF="021103.html">[antlr-interest] blogging about book etc...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21232">[ date ]</a>
              <a href="thread.html#21232">[ thread ]</a>
              <a href="subject.html#21232">[ subject ]</a>
              <a href="author.html#21232">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>my grammar : <A HREF="http://pastie.textmate.org/68884">http://pastie.textmate.org/68884</A>
input : &quot;var = \r\n&quot;


On 6/8/07, Jim Idle &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>&gt; wrote:
&gt;<i> Hmm - debatable whether you should get the crash, which I presume is null exception on atom10 after an NVE?
</I>
There is an NoViableAltException in atom(). atom() try to recover and returns.
Because the exception was thrown before any initialisation of the
tree, atom() return an null pointer for the tree ...

Perhaps I must to do something about error handling ? :-(
- Hide quoted text -


&gt;<i> However, I suspect that what is happening is that you are generating a default tree or have not covered the case, so you can either 'fix' this or work around it, depending on whether this is really a bug or not by looking for it. We would need to see your grammar to see exactly why it causes this, but for the moment, let's presume that atom10 can somehow be null and you still want to generate a tree, then:
</I>&gt;<i>
</I>&gt;<i> r1: e1=r2 (PLUS e2=r2)
</I>&gt;<i>         -&gt; {$e2 != null}? ^(PLUS e1 e2)
</I>&gt;<i>         -&gt; e1
</I>&gt;<i> ;
</I>
&gt;<i> Or something similar, more apropos to your purpose should get you around that.
</I>&gt;<i>
</I>&gt;<i> However it looks a bit suspicious that it is trying to generate a tree on an error, unless this is just cascading up the expression tree and by the time you try to use it... etc.
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I></PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021211.html">[antlr-interest] BaseTreeAdaptor.becomeRoot	throwsNullPointerException
</A></li>
	<LI>Next message: <A HREF="021103.html">[antlr-interest] blogging about book etc...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21232">[ date ]</a>
              <a href="thread.html#21232">[ thread ]</a>
              <a href="subject.html#21232">[ subject ]</a>
              <a href="author.html#21232">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
