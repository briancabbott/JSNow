<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Minor suggestion re. Java output
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Minor%20suggestion%20re.%20Java%20output&In-Reply-To=%3C%22L51905EA5D6D44569BC5B69481A68A893.1202144582.scalix.temporal-wave.com%2A%22%40MHS%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026176.html">
   <LINK REL="Next"  HREF="026183.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Minor suggestion re. Java output</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Minor%20suggestion%20re.%20Java%20output&In-Reply-To=%3C%22L51905EA5D6D44569BC5B69481A68A893.1202144582.scalix.temporal-wave.com%2A%22%40MHS%3E"
       TITLE="[antlr-interest] Minor suggestion re. Java output">jimi at temporal-wave.com
       </A><BR>
    <I>Mon Feb  4 08:39:49 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026176.html">[antlr-interest] Minor suggestion re. Java output
</A></li>
        <LI>Next message: <A HREF="026183.html">[antlr-interest] Minor suggestion re. Java output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26175">[ date ]</a>
              <a href="thread.html#26175">[ thread ]</a>
              <a href="subject.html#26175">[ subject ]</a>
              <a href="author.html#26175">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Guntis Ozols [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">guntiso at latnet.lv</A>]
</I>&gt;<i> Sent: Sunday, February 03, 2008 1:38 PM
</I>&gt;<i> To: Jim Idle
</I>&gt;<i> Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: Re: [antlr-interest] Minor suggestion re. Java output
</I>&gt;<i> 
</I>&gt;<i> &gt; A tree is not guaranteed to be any particular type or interface as
</I>&gt;<i> the
</I>&gt;<i> &gt; tree adaptor can produce anything it likes. Hence it must be an
</I>&gt;<i> object.
</I>&gt;<i> &gt; This is explained in the code etc.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Jim
</I>&gt;<i> 
</I>&gt;<i> Casting tree once is not that big of a deal, but tons of casting could
</I>&gt;<i> be
</I>&gt;<i> eliminated, plus there is no need for an option, if
</I>&gt;<i> CommonTree.getChild()
</I>&gt;<i> returned CommonTree.
</I>&gt;<i> 
</I>&gt;<i> Covariant return types are available since java 1.5 (Sept 2004).
</I>&gt;<i> 
</I>&gt;<i> Also, how about using enum for tokens? It would free client code of
</I>&gt;<i> prefixes in
</I>&gt;<i> switch statements, plus toString() would be available and more.
</I>
The original code was 1.4 compliant - I don't know how Ter feels about 
being 1.5+ compliant but it is probably OK these days. However to b 
co-variant you must be able to return things that or more or less 
derived and an adapter can do anything it likes including ignoring 
CommonTree and so on. What you probably want to do is just derive from 
CommonTree and add the method yourself. The generated code will carry on 
using (cast) but your code can use your own methods. 

I think using enums is a reasonable suggestion, but I seemed to think 
that there was some reason not to do it and I don't remember what it 
was.

Jim


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026176.html">[antlr-interest] Minor suggestion re. Java output
</A></li>
	<LI>Next message: <A HREF="026183.html">[antlr-interest] Minor suggestion re. Java output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26175">[ date ]</a>
              <a href="thread.html#26175">[ thread ]</a>
              <a href="subject.html#26175">[ subject ]</a>
              <a href="author.html#26175">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
