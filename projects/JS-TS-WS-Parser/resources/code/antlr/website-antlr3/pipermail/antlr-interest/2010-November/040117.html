<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer generator bug?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20generator%20bug%3F&In-Reply-To=%3C4CED466F.1050307%40kjchome.homeip.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040115.html">
   <LINK REL="Next"  HREF="040119.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer generator bug?</H1>
    <B>Kevin J. Cummings</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20generator%20bug%3F&In-Reply-To=%3C4CED466F.1050307%40kjchome.homeip.net%3E"
       TITLE="[antlr-interest] Lexer generator bug?">cummings at kjchome.homeip.net
       </A><BR>
    <I>Wed Nov 24 09:07:59 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="040115.html">[antlr-interest] Lexer generator bug?
</A></li>
        <LI>Next message: <A HREF="040119.html">[antlr-interest] gUnitEditor support for Tree Walker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40117">[ date ]</a>
              <a href="thread.html#40117">[ thread ]</a>
              <a href="subject.html#40117">[ subject ]</a>
              <a href="author.html#40117">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/24/2010 09:55 AM, Arthur Goldberg wrote:
&gt;<i> Hello
</I>&gt;<i> 
</I>&gt;<i> ANTLRWorks can automatically generate
</I>&gt;<i> FLOAT
</I>&gt;<i>      :   ('0'..'9')+ '.' ('0'..'9')* EXPONENT?
</I>&gt;<i>      |   '.' ('0'..'9')+ EXPONENT?
</I>&gt;<i>      |   ('0'..'9')+ EXPONENT
</I>&gt;<i>      ;
</I>&gt;<i> 
</I>&gt;<i> fragment
</I>&gt;<i> EXPONENT : ('e'|'E') ('+'|'-')? ('0'..'9')+ ;
</I>&gt;<i> 
</I>&gt;<i> But I want a FLOAT that doesn't require an exponent:
</I>&gt;<i> FLOAT_NOE2
</I>&gt;<i>      :   '.' ('0'..'9')+
</I>&gt;<i>      | ('0'..'9')+ ('.' ('0'..'9')* )?
</I>&gt;<i>      ;
</I>
Is this in addition to the other FLOAT rule???

&gt;<i> It seems that this should recognize any of these: 1.2 .3 4
</I>&gt;<i> But this doesn't recognize 4. I cant find a branch in the generated 
</I>&gt;<i> Lexer that doesn't enter '.' ( '0' .. '9' )*
</I>
Do you have an INTEGER rule elsewhere in the grammar that matches
('0'..'9')+ as an integer?

&gt;<i> Also
</I>&gt;<i> 
</I>&gt;<i> FLOAT
</I>&gt;<i>      :   ('0'..'9')+ '.' ('0'..'9')*
</I>&gt;<i>      |   '.' ('0'..'9')+
</I>&gt;<i>      |   ('0'..'9')+
</I>&gt;<i>      ;
</I>&gt;<i> 
</I>&gt;<i> doesn't recognize 4, but I've not examined that lexer.
</I>&gt;<i> 
</I>&gt;<i> Do I misunderstand lexer syntax or is this a Lexer generator bug?
</I>
Have you looked at the following example?

&gt;<i> <A HREF="http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating+point%2C">http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating+point%2C</A>
</I>
It is a good example of combining various lexer rules to help eliminate
ambiguities during lexing, and more importantly, increasing the
efficiency of lexing and producing the right tokens.

You may not need all of it, but it may help you understand why your
attempts aren't doing what you think they are.

&gt;<i> Regards
</I>&gt;<i> Arthur
</I>
-- 
Kevin J. Cummings
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">kjchome at rcn.com</A>
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cummings at kjchome.homeip.net</A>
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cummings at kjc386.framingham.ma.us</A>
Registered Linux User #1232 (<A HREF="http://counter.li.org">http://counter.li.org</A>)
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040115.html">[antlr-interest] Lexer generator bug?
</A></li>
	<LI>Next message: <A HREF="040119.html">[antlr-interest] gUnitEditor support for Tree Walker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40117">[ date ]</a>
              <a href="thread.html#40117">[ thread ]</a>
              <a href="subject.html#40117">[ subject ]</a>
              <a href="author.html#40117">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
