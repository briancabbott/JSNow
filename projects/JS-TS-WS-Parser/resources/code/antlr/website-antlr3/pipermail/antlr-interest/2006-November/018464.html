<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] [v3] TreeParser capabilities
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20%5Bv3%5D%20TreeParser%20capabilities&In-Reply-To=7B3E1670-AF89-484C-BD66-58046A90F131%40classdump.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018463.html">
   <LINK REL="Next"  HREF="018651.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] [v3] TreeParser capabilities</H1>
    <B>Emond Papegaaij</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20%5Bv3%5D%20TreeParser%20capabilities&In-Reply-To=7B3E1670-AF89-484C-BD66-58046A90F131%40classdump.org"
       TITLE="[antlr-interest] [v3] TreeParser capabilities">e.papegaaij at student.utwente.nl
       </A><BR>
    <I>Mon Nov 20 04:31:48 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018463.html">[antlr-interest] [v3] TreeParser capabilities
</A></li>
        <LI>Next message: <A HREF="018651.html">[antlr-interest] [v3] TreeParser capabilities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18464">[ date ]</a>
              <a href="thread.html#18464">[ thread ]</a>
              <a href="subject.html#18464">[ subject ]</a>
              <a href="author.html#18464">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Monday 20 November 2006 12:07, you wrote:
&gt;<i> On 20. Nov 2006, at 11:57 , Emond Papegaaij wrote:
</I>&gt;<i> &gt; I'm using a heterogeneous AST, which is generated by an external
</I>&gt;<i> &gt; tool. This
</I>&gt;<i> &gt; tree is strictly typed, with fields containing the various
</I>&gt;<i> &gt; subtrees. This
</I>&gt;<i> &gt; makes the Tree interface difficult to implement. All functionality
</I>&gt;<i> &gt; required
</I>&gt;<i> &gt; for the Tree interface is already part of the custom TreeAdaptor
</I>&gt;<i> &gt; (such as
</I>&gt;<i> &gt; getChildCount() and getChild(int)). Therefore, I'm wondering why the
</I>&gt;<i> &gt; CommonTreeNodeStream is based on the Tree interface, and not on a
</I>&gt;<i> &gt; TreeAdaptor. Especially because CommonTreeNodeStream can take a
</I>&gt;<i> &gt; TreeAdaptor
</I>&gt;<i> &gt; in its constructor, but it's not used.
</I>&gt;<i>
</I>&gt;<i> Ah, I see. I think the reason was to not place any burden on the tree
</I>&gt;<i> nodes, i.e.
</I>&gt;<i> you should be able to pass in everything, as long as it implements
</I>&gt;<i> the basic Tree
</I>&gt;<i> interface. At some point Terence has said that he wants to support
</I>&gt;<i> heterogeneous
</I>&gt;<i> trees again. It's just not done yet :(
</I>&gt;<i> You can probably hack around for the time being, it all depends on
</I>&gt;<i> how much custom
</I>&gt;<i> code you are willing to invest at this point.
</I>
It seems, it should be fairly easy to convert CommonTreeNodeStream to use 
TreeAdaptor. I just tried a naive attempt to convert the class. It commes 
down to converting 'node.getChild(n)' to 'adaptor.getChild(node, n)'. There 
are however 2 problems: TreeAdaptor is missing a isNil method and the EOF, 
DOWN and UP nodes cannot be made static final. Another minor issue is that 
some methods are not implemented in CommonTreeAdaptor, such as getChild and 
getChildCount. But these methods are trivial to implement.

With these changes, the tree node stream can be implemented without any 
reliance on the Tree interface, just as the parser.

Best regards,
Emond
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018463.html">[antlr-interest] [v3] TreeParser capabilities
</A></li>
	<LI>Next message: <A HREF="018651.html">[antlr-interest] [v3] TreeParser capabilities
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18464">[ date ]</a>
              <a href="thread.html#18464">[ thread ]</a>
              <a href="subject.html#18464">[ subject ]</a>
              <a href="author.html#18464">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
