<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Access to lexer warning/error messages after	parsing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Access%20to%20lexer%20warning/error%20messages%20after%0A%09parsing&In-Reply-To=%3C8B58B6C6-68DF-43E0-9F1C-AA0049217CB4%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028903.html">
   <LINK REL="Next"  HREF="028921.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Access to lexer warning/error messages after	parsing</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Access%20to%20lexer%20warning/error%20messages%20after%0A%09parsing&In-Reply-To=%3C8B58B6C6-68DF-43E0-9F1C-AA0049217CB4%40cs.usfca.edu%3E"
       TITLE="[antlr-interest] Access to lexer warning/error messages after	parsing">parrt at cs.usfca.edu
       </A><BR>
    <I>Tue Jul  1 12:19:10 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028903.html">[antlr-interest] templates and question marks (-&gt; '?')
</A></li>
        <LI>Next message: <A HREF="028921.html">[antlr-interest] Access to lexer warning/error messages after	parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28904">[ date ]</a>
              <a href="thread.html#28904">[ thread ]</a>
              <a href="subject.html#28904">[ subject ]</a>
              <a href="author.html#28904">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Gang, :)

My intention was that you override one method and do what you want.   
Not sure what else anybody would want. Replace System.err in override  
with errors.add(...) and you're done.  Not sure what the long  
conversation is about.  Can't think of an easier way.

Ter

On Jun 30, 2008, at 3:25 PM, Sumanto Biswas wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> Many times the lexer gives warnings but tries to continue. When the
</I>&gt;<i> parser is not able to handle, then we get exception.
</I>&gt;<i>
</I>&gt;<i> As an example, for an input for my lexer-parser, from the parser I get
</I>&gt;<i> NoViableAltException, with the following (formatted) information
</I>&gt;<i> :&quot;Mesg: Line number:0, Column no:-1, Message:no viable alternative at
</I>&gt;<i> input '&lt;EOF&gt;'&quot;. Earlier the lexer had given the following warning:
</I>&gt;<i> &quot;line 1:17 mismatched character '}' expecting '&quot;'&quot;.
</I>&gt;<i>
</I>&gt;<i> If I use antlr within a product, the lexer warning seems to be much
</I>&gt;<i> better to show since its clear and the line and column nos are correct
</I>&gt;<i> with respect to the input. But the messages are in the error stream,
</I>&gt;<i> and not stored somewhere. So I have to do something like what is
</I>&gt;<i> pasted below.
</I>&gt;<i>
</I>&gt;<i> I think it would be nice to have a list of structures which contain
</I>&gt;<i> the line no, column no, and the error message, and the exception so
</I>&gt;<i> that programmatically it would be easy to get that to see warnings
</I>&gt;<i> generated. Maybe something like 'getWarnings()' on the lexer.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Sumanto
</I>&gt;<i>
</I>&gt;<i> ==========================================================
</I>&gt;<i> @lexer::members {
</I>&gt;<i>  private List&lt;String&gt; messages = new ArrayList&lt;String&gt;();
</I>&gt;<i>
</I>&gt;<i>  public void displayRecognitionError(String[] tokenNames,
</I>&gt;<i> RecognitionException e) {
</I>&gt;<i>    String hdr = getErrorHeader(e);
</I>&gt;<i>    String msg = getErrorMessage(e, tokenNames);
</I>&gt;<i>    messages.add(hdr+&quot; &quot;+msg);
</I>&gt;<i>  }
</I>&gt;<i> 	
</I>&gt;<i>  public List&lt;String&gt; getMessages() {
</I>&gt;<i>    return messages;
</I>&gt;<i>  }
</I>&gt;<i>
</I>&gt;<i>  // And other methods to get line no/column no as needed.
</I>&gt;<i> }
</I>&gt;<i> ==========================================================
</I>
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028903.html">[antlr-interest] templates and question marks (-&gt; '?')
</A></li>
	<LI>Next message: <A HREF="028921.html">[antlr-interest] Access to lexer warning/error messages after	parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28904">[ date ]</a>
              <a href="thread.html#28904">[ thread ]</a>
              <a href="subject.html#28904">[ subject ]</a>
              <a href="author.html#28904">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
