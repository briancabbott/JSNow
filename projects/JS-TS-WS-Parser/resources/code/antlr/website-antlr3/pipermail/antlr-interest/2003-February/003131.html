<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Please Help : How do i change the default AST node type for a grammar ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Please%20Help%20%3A%20How%20do%20i%20change%20the%20default%20AST%20node%20type%20for%20a%20grammar%20%3F&In-Reply-To=000901c2d828%24f2300540%24cb646464%40lavaserver">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003130.html">
   <LINK REL="Next"  HREF="003132.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Please Help : How do i change the default AST node type for a grammar ?</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Please%20Help%20%3A%20How%20do%20i%20change%20the%20default%20AST%20node%20type%20for%20a%20grammar%20%3F&In-Reply-To=000901c2d828%24f2300540%24cb646464%40lavaserver"
       TITLE="[antlr-interest] Please Help : How do i change the default AST node type for a grammar ?">klaren at cs.utwente.nl
       </A><BR>
    <I>Wed Feb 19 07:44:06 PST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003130.html">[antlr-interest] Please Help : How do i change the default AST node type for a grammar ?
</A></li>
        <LI>Next message: <A HREF="003132.html">[antlr-interest] Ric.. it's ok !
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3131">[ date ]</a>
              <a href="thread.html#3131">[ thread ]</a>
              <a href="subject.html#3131">[ subject ]</a>
              <a href="author.html#3131">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Wed, Feb 19, 2003 at 04:09:48PM +0100, Anthony Breneli&#232;re wrote:
&gt;<i> 1/
</I>&gt;<i> The parser&#160;::setASTNodeType method, as specified in the documentation,
</I>&gt;<i> does not exist in the Cpp distrib.
</I>
C++ differs from java mode on several details. Check the C++ section of the
documentation and/or header files in case of trouble. Also doxygen
generated docs of the support lib are availabe at:

<A HREF="http://wwwhome.cs.utwente.nl/~klaren/antlr/support-docs/">http://wwwhome.cs.utwente.nl/~klaren/antlr/support-docs/</A>

One of these days these need to be integrated in the normal docs.

&gt;<i> 2/
</I>&gt;<i> I also specified the option :
</I>&gt;<i> options {
</I>&gt;<i> 	..
</I>&gt;<i> 	ASTLabelType = &quot;ANTLR_USE_NAMESPACE(antlr)RefTextNode&quot;;
</I>&gt;<i>          ..
</I>&gt;<i> }
</I>&gt;<i> .. but there is no effect, commonAST is still used.
</I>
I use it daily and it works. Maybe you have your ASTFactory setup
incorrectly?

&gt;<i> 3/
</I>&gt;<i> In..
</I>&gt;<i>
</I>&gt;<i> ASTFactory::ASTFactory( const char* factory_node_name, factory_type fact
</I>&gt;<i> )
</I>&gt;<i>
</I>&gt;<i> ..what does the second arguement mean ? there is no comment about the
</I>&gt;<i> second arguement.
</I>
It specifies a default factory to use of type factory type. As noted in the
comment in the ASTFactory.hpp.

&gt;<i> I also tried to declare the factory in that way:
</I>&gt;<i> ASTFactory ast_factory( &quot;RefTextNode&quot;, 0 )
</I>&gt;<i> ..but there is no effect when i run the program.
</I>&gt;<i>
</I>&gt;<i> So/
</I>&gt;<i> My question is :
</I>&gt;<i>
</I>&gt;<i> How do i set the default AST node type ?
</I>
<A HREF="http://www.antlr.org/doc/cpp-runtime.html#_changingasttype">http://www.antlr.org/doc/cpp-runtime.html#_changingasttype</A>

Also the heteroAST example contains some setup code that is will work in
the simple custom AST type case.

If it still fails post relevant bits of how you setup your
lexer/parser/treewalker and the rest of the options section.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">j.klaren at utwente.nl</A> ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Why don't we just invite them to dinner and massacre them all when they're
  drunk? You heard the man. There's seven hundred thousand of them. Ah? ..
           So it'd have to be something simple with pasta, then.
                 From: Interesting Times by Terry Pratchet


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003130.html">[antlr-interest] Please Help : How do i change the default AST node type for a grammar ?
</A></li>
	<LI>Next message: <A HREF="003132.html">[antlr-interest] Ric.. it's ok !
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3131">[ date ]</a>
              <a href="thread.html#3131">[ thread ]</a>
              <a href="subject.html#3131">[ subject ]</a>
              <a href="author.html#3131">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
