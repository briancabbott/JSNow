From xukaiv at gmail.com  Tue Mar  1 05:51:06 2011
From: xukaiv at gmail.com (Xu Kai)
Date: Tue, 1 Mar 2011 21:51:06 +0800
Subject: [antlr-interest] Best practise to handle undefined reference symbol
Message-ID: <AANLkTin0nA57fp4buK+PE7Z8MeZV6skKRo=wqAGq5Wyv@mail.gmail.com>

Hi,
   I am new to language design and I am designing a language to generate
code for sim card file decode.
   Is there any best practise for handling "undefined reference symbol" when
user use a type symbol before defining it?
   My current implementation is just print out the symbol name and call
system.exit(1) to stop further parsing? Is there a better way(throw custom
exception maybe)?
   Thanks a lot

-- 
Xu Kai

From douglasgodfrey at gmail.com  Tue Mar  1 06:32:05 2011
From: douglasgodfrey at gmail.com (Douglas Godfrey)
Date: Tue, 1 Mar 2011 09:32:05 -0500
Subject: [antlr-interest] Question: how to increase max heap size for
	AntlrWorks on Mac OS X
Message-ID: <AANLkTimBq01FnPP4zFgfcrDfkAmw_N0sP=Rj0JuFg9jH@mail.gmail.com>

I have tried several methods to increase the Heap size for AntlrWorks but
none of them have worked.

AntlrWorks Preferences:General:Antlr options = [ -Xms128m -Xmx1024m ]

AntlrWorks-1.4.2.app/Contents/Info.plist
Plist entry: Root:Java:VMOptions:-Xms [String] = 128m
Plist entry: Root:Java:VMOptions:-Xmx [String] = 1024m

Neither option changed the 64m max Heap size.

From tijet at mac.com  Tue Mar  1 08:03:18 2011
From: tijet at mac.com (Trevor John Thompson)
Date: Tue, 01 Mar 2011 08:03:18 -0800
Subject: [antlr-interest] Question: how to increase max heap size for
 AntlrWorks on Mac OS X
In-Reply-To: <AANLkTimBq01FnPP4zFgfcrDfkAmw_N0sP=Rj0JuFg9jH@mail.gmail.com>
References: <AANLkTimBq01FnPP4zFgfcrDfkAmw_N0sP=Rj0JuFg9jH@mail.gmail.com>
Message-ID: <BE1C4BE5-0A25-4611-97E8-95811C3ACC96@mac.com>

On 2011 Mar 1, at 06:32, Douglas Godfrey wrote:

> I have tried several methods to increase the Heap size for AntlrWorks but
> none of them have worked.
> 
> AntlrWorks Preferences:General:Antlr options = [ -Xms128m -Xmx1024m ]
> 
> AntlrWorks-1.4.2.app/Contents/Info.plist
> Plist entry: Root:Java:VMOptions:-Xms [String] = 128m
> Plist entry: Root:Java:VMOptions:-Xmx [String] = 1024m
> 
> Neither option changed the 64m max Heap size.

Last try very close. Use:
		<key>VMOptions</key>
		<string>-Xmx1G</string>

--
Trevor John Thompson    net: tijet at me.com

Quidquid Latine dictum sit, altum videtur.


From douglasgodfrey at gmail.com  Tue Mar  1 09:10:09 2011
From: douglasgodfrey at gmail.com (Douglas Godfrey)
Date: Tue, 1 Mar 2011 12:10:09 -0500
Subject: [antlr-interest] AntlrWorks Feature Request
Message-ID: <AANLkTinLe4efuXWgc68wLJKCxwHsa2iixN3-mRFL4PE+@mail.gmail.com>

Add an "AntlrWorks Options" field to the General Tab of AntlrWorks's
preferences dialog.

When the user clicks apply, set the VMOptions value in AntlrWorks info.plist
file.

i.e. AntlrWorks Options string = -Xms1G

Info.plist file VMOptions value set to the following:

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "
http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>CFBundleAllowMixedLocalizations</key>
    <string>true</string>
    <key>CFBundleDevelopmentRegion</key>
    <string>English</string>
    <key>CFBundleDocumentTypes</key>
    <array>
        <dict>
            <key>CFBundleTypeExtensions</key>
            <array>
                <string>g</string>
            </array>
            <key>CFBundleTypeIconFile</key>
            <string>doc.icns</string>
            <key>CFBundleTypeName</key>
            <string>ANTLRWorks</string>
            <key>CFBundleTypeRole</key>
            <string>Editor</string>
        </dict>
    </array>
    <key>CFBundleExecutable</key>
    <string>JavaApplicationStub</string>
    <key>CFBundleGetInfoString</key>
    <string>(c) 2005-2008 Jean Bovet</string>
    <key>CFBundleIconFile</key>
    <string>app.icns</string>
    <key>CFBundleIdentifier</key>
    <string>org.antlr.works</string>
    <key>CFBundleInfoDictionaryVersion</key>
    <string>6.0</string>
    <key>CFBundleName</key>
    <string>ANTLRWorks</string>
    <key>CFBundlePackageType</key>
    <string>APPL</string>
    <key>CFBundleShortVersionString</key>
    <string>1.4.2</string>
    <key>CFBundleSignature</key>
    <string>ATLW</string>
    <key>CFBundleVersion</key>
    <string>1.4.2</string>
    <key>Java</key>
    <dict>
        <key>ClassPath</key>
        <string>$JAVAROOT/antlrworks.jar</string>
        <key>JVMVersion</key>
        <string>1.5+</string>
        <key>MainClass</key>
        <string>org.antlr.works.IDE</string>
        <key>VMOptions</key>
        <string>-Xmx1G</string>
    </dict>
</dict>
</plist>

From tenajahiker at yahoo.com  Tue Mar  1 11:04:34 2011
From: tenajahiker at yahoo.com (Tenaja)
Date: Tue, 1 Mar 2011 11:04:34 -0800 (PST)
Subject: [antlr-interest] implementing compiler directives
Message-ID: <361696.90588.qm@web110010.mail.gq1.yahoo.com>

How do you implement compiler directives? Can anyone offer an example, or the 
page# in the book? 


I'd like to implement a "switch" (actually, an array of switches) that alters 
Antlrs output based on the switch value. For instance, switching TAB from 
whitespace into a token that can be used for termination.

Thanks.


      

From felix.natter at smail.inf.fh-brs.de  Tue Mar  1 13:00:33 2011
From: felix.natter at smail.inf.fh-brs.de (Felix Natter)
Date: Tue, 01 Mar 2011 22:00:33 +0100
Subject: [antlr-interest] C# Target: Problems with Mono
Message-ID: <874o7mk13i.fsf@smail.inf.fh-brs.de>

hello,

I am trying to generate C# code from my grammar for use with Mono2
(v1.9).

I tried to use the C# runtime binaries (ANTLR-3.1-2009-06-28.7z):
$ cd ANTLR-binary/
$ mono Antlr3.exe 

** (Antlr3.exe:4230): WARNING **: Missing method System.Reflection.Emit.DynamicMethod::.ctor(string,Type,Type[]) in assembly /usr/lib/mono/2.0/mscorlib.dll, referenced in assembly /home/felix/doks/CSMath/ANTLR/ANTLR-binary/Antlr3.StringTemplate.dll

Unhandled Exception: System.TypeInitializationException: An exception was thrown by the type initializer for Antlr3.Tool.ErrorManager ---> System.TypeInitializationException: An exception was thrown by the type initializer for Antlr3.ST.StringTemplateGroup ---> System.MissingMethodException: Method not found: 'System.Reflection.Emit.DynamicMethod..ctor'.
  at Antlr3.ST.StringTemplateGroup..cctor () [0x00000] --- End of inner exception stack trace ---
[...]

I also tried to recompile the Runtime:

----------------------
$ cd antlr-3.3/runtime/CSharp2/
$ nant clean
NAnt 0.85 (Build 0.85.2478.0; release; 14.10.2006)
Copyright (C) 2001-2006 Gerry Shaw
http://nant.sourceforge.net

Buildfile: file:///home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/all.antlr3.runtime.net.build
Target framework: Mono 2.0 Profile
Target(s) specified: clean 
clean:
   [delete] Deleting directory '/home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/bin'.
   [delete] Deleting directory '/home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/build/mono-2.0'.
BUILD SUCCEEDED

Total time: 0.1 seconds.
----------------------

----------------------
$ $ nant build
NAnt 0.85 (Build 0.85.2478.0; release; 14.10.2006)
Copyright (C) 2001-2006 Gerry Shaw
http://nant.sourceforge.net

Buildfile: file:///home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/all.antlr3.runtime.net.build
Target framework: Mono 2.0 Profile
Target(s) specified: build 

clean:
init:

    [mkdir] Creating directory '/home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/bin'.
    [mkdir] Creating directory '/home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/build/mono-2.0'.

copy_build_dependencies:

     [copy] Copying 3 files to '/home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/build/mono-2.0'.

build.v3.runtime:

     [nant] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/default.build build
            Buildfile: file:///home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/default.build
            Target framework: Mono 2.0 Profile
            Target(s) specified: build 
            
               [tstamp] 1. M?rz 2011 21:05:34.
                 [echo] Building project: 'Antlr3.Runtime' version 3.1b1 ==> 'Antlr3.Runtime.dll'
            
            clean:
            
            
            copy_build_dependencies:
            
                 [copy] Copying 3 files to '/home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/bin'.
            
            init:
            
                [mkdir] Creating directory '/home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/bin/tests'.
            
            compile:
            
                  [csc] Compiling 105 files to '/home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/bin/Antlr3.Runtime.dll'.
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime/CommonToken.cs(115,0): warning CS1587: XML comment is not placed on a valid language element
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime/Lexer.cs(61,0): warning CS1587: XML comment is not placed on a valid language element
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime/Lexer.cs(68,0): warning CS1587: XML comment is not placed on a valid language element
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime/Lexer.cs(161,0): warning CS1587: XML comment is not placed on a valid language element
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime/Lexer.cs(266,0): warning CS1587: XML comment is not placed on a valid language element
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime.Tree/ITreeNodeStream.cs(44,9): warning CS1587: XML comment is not placed on a valid language element
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime.Tree/TreeRewriter.cs(40,21): error CS0246: The type or namespace name `IAstRuleReturnScope`1' could not be found. Are you missing a using directive or an assembly reference?
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime.Tree/TreeRewriter.cs(40,16): error CS0234: The type or namespace name `Func`1' does not exist in the namespace `System'. Are you missing an assembly reference?
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime.Tree/TreeRewriter.cs(41,21): error CS0246: The type or namespace name `IAstRuleReturnScope`1' could not be found. Are you missing a using directive or an assembly reference?
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime.Tree/TreeRewriter.cs(41,16): error CS0234: The type or namespace name `Func`1' does not exist in the namespace `System'. Are you missing an assembly reference?
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime.Tree/TreeRewriter.cs(54,63): error CS0246: The type or namespace name `IAstRuleReturnScope`1' could not be found. Are you missing a using directive or an assembly reference?
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime.Tree/TreeRewriter.cs(54,58): error CS0234: The type or namespace name `Func`1' does not exist in the namespace `System'. Are you missing an assembly reference?
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime.Tree/TreeRewriter.cs(86,69): error CS0246: The type or namespace name `IAstRuleReturnScope`1' could not be found. Are you missing a using directive or an assembly reference?
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime.Tree/TreeRewriter.cs(86,64): error CS0234: The type or namespace name `Func`1' does not exist in the namespace `System'. Are you missing an assembly reference?
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime.Tree/TreeRewriter.cs(105,24): error CS0246: The type or namespace name `IAstRuleReturnScope`1' could not be found. Are you missing a using directive or an assembly reference?
                  [csc] Compilation failed: 10 error(s), 6 warnings
                  [csc] /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/Antlr.Runtime.Tree/TreeRewriter.cs(109,24): error CS0246: The type or namespace name `IAstRuleReturnScope`1' could not be found. Are you missing a using directive or an assembly reference?
            
            BUILD FAILED - 0 non-fatal error(s), 16 warning(s)
            
            /home/felix/doks/CSMath/ANTLR/antlr-3.3/runtime/CSharp2/Sources/Antlr3.Runtime/default.build(83,4):
            External Program Failed: /usr/lib/mono/2.0/gmcs.exe (return code was 1)
            
            Total time: 0.7 seconds.
            

BUILD FAILED
----------------------

Next I tried to copy over the generated Lexer + Parser (with options
{language=CSharp2;}) to a C# Project (using Monodevelop) and reference
Antlr3.Runtime.dll in the solution.  But then I get these errors
(I guess this is because the c#-runtime-binaries are for antlr 3.1):

----------------------
/home/felix/doks/CSMath/CSAnalysis/simpleexprLexer.cs(1136,40): error CS0115: `simpleexprLexer.DFA10.Description' is marked as an override but no suitable property found to override
/home/felix/doks/CSMath/CSAnalysis/simpleexprLexer.cs(1220,40): error
CS0115: `simpleexprLexer.DFA13.Description' is marked as an override but
no suitable property found to override

/home/felix/doks/CSMath/CSAnalysis/simpleexprLexer.cs(18,22): warning CS3021: `simpleexprLexer' does not need a CLSCompliant attribute because the assembly is not marked as CLS-compliant
/home/felix/doks/CSMath/CSAnalysis/simpleexprLexer.cs(68,6): error CS0246: The type or namespace name `GrammarRule' could not be found. Are you missing a using directive or an assembly reference?
/home/felix/doks/CSMath/CSAnalysis/simpleexprLexer.cs(77,17): error CS0103: The name `DebugEnterAlt' does not exist in the current context
/home/felix/doks/CSMath/CSAnalysis/simpleexprLexer.cs(80,17): error CS0103: The name `DebugLocation' does not exist in the current context
/home/felix/doks/CSMath/CSAnalysis/simpleexprLexer.cs(98,6): error CS0246: The type or namespace name `GrammarRule' could not be found. Are you missing a using directive or an assembly reference?
/home/felix/doks/CSMath/CSAnalysis/simpleexprLexer.cs(107,17): error CS0103: The name `DebugEnterAlt' does not exist in the current context
/home/felix/doks/CSMath/CSAnalysis/simpleexprLexer.cs(110,17): error CS0103: The name `DebugLocation' does not exist in the current context
[...]
----------------------

Note that there is
  using Antlr.Runtime;
at the top of simpleexprLexer.cs.

Previous postings suggest that the C# Target should work out of the box
with Mono. I am using Mono 1.9 (Debian Lenny).

Sorry for the verbosity and thanks in Advance!
-- 
Felix Natter


From researcher0x00 at gmail.com  Tue Mar  1 13:36:39 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Tue, 1 Mar 2011 16:36:39 -0500
Subject: [antlr-interest] Can a ANTLR 3 rule have both a rule and global
	scope?
In-Reply-To: <481a4b6d5c82476121938444bc7b2593@mail.gmail.com>
References: <AANLkTimaOewyD-zXho12xFHaFyyDLAK=3gROenm3x+ca@mail.gmail.com>
	<481a4b6d5c82476121938444bc7b2593@mail.gmail.com>
Message-ID: <AANLkTin=-g2Av2DMgPnZG_qJ9nywbxezYsLE5Uv9Fh2J@mail.gmail.com>

FYI.

Due to the bug http://www.antlr.org/jira/browse/ANTLR-310 only the last
global scope of multiple global scopes for a rule is correctly pushed and
popped. The other push and pops are missing.

I don't know if this is limited to my version or all versions of ANTLR 3.

On Mon, Feb 28, 2011 at 8:24 PM, Jim Idle <jimi at temporal-wave.com> wrote:

> Nope - you just have the order specified in the wrong sequence. Use
> antlr.markmail.org and search for my answer to this exact question of
> about 5 days or so ago.
>
> Jim
>
> > -----Original Message-----
> > From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> > bounces at antlr.org] On Behalf Of The Researcher
> > Sent: Monday, February 28, 2011 4:16 PM
> > To: antlr-interest at antlr.org
>  > Subject: [antlr-interest] Can a ANTLR 3 rule have both a rule and
> > global scope?
> >
> > When trying to use both a rule and global scope for a rule, ANTLR
> > generated errors. To get past the error all of the attributes were
> > pused into the global scope.
> >
> > Just want to confirm that ANTLR 3 only allows a rule to have either a
> > rule or global scope but not both.
> >
> >
> >
> > Thanks, Eric
> >
>  > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> > email-address
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From jimi at temporal-wave.com  Tue Mar  1 14:05:15 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Tue, 1 Mar 2011 14:05:15 -0800
Subject: [antlr-interest] Can a ANTLR 3 rule have both a rule and global
	scope?
In-Reply-To: <AANLkTin=-g2Av2DMgPnZG_qJ9nywbxezYsLE5Uv9Fh2J@mail.gmail.com>
References: <AANLkTimaOewyD-zXho12xFHaFyyDLAK=3gROenm3x+ca@mail.gmail.com>
	<481a4b6d5c82476121938444bc7b2593@mail.gmail.com>
	<AANLkTin=-g2Av2DMgPnZG_qJ9nywbxezYsLE5Uv9Fh2J@mail.gmail.com>
Message-ID: <951d111dc33dbc9e9fa40cb0bfa16b44@mail.gmail.com>

For multiple globals;

Scope s1, s2, s3;  // Not additional scope statements.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of The Researcher
> Sent: Tuesday, March 01, 2011 1:37 PM
> To: antlr-interest at antlr.org
> Subject: Re: [antlr-interest] Can a ANTLR 3 rule have both a rule and
> global scope?
>
> FYI.
>
> Due to the bug http://www.antlr.org/jira/browse/ANTLR-310 only the last
> global scope of multiple global scopes for a rule is correctly pushed
> and popped. The other push and pops are missing.
>
> I don't know if this is limited to my version or all versions of ANTLR
> 3.
>
> On Mon, Feb 28, 2011 at 8:24 PM, Jim Idle <jimi at temporal-wave.com>
> wrote:
>
> > Nope - you just have the order specified in the wrong sequence. Use
> > antlr.markmail.org and search for my answer to this exact question of
> > about 5 days or so ago.
> >
> > Jim
> >
> > > -----Original Message-----
> > > From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> > > bounces at antlr.org] On Behalf Of The Researcher
> > > Sent: Monday, February 28, 2011 4:16 PM
> > > To: antlr-interest at antlr.org
> >  > Subject: [antlr-interest] Can a ANTLR 3 rule have both a rule and
> > > global scope?
> > >
> > > When trying to use both a rule and global scope for a rule, ANTLR
> > > generated errors. To get past the error all of the attributes were
> > > pused into the global scope.
> > >
> > > Just want to confirm that ANTLR 3 only allows a rule to have either
> > > a rule or global scope but not both.
> > >
> > >
> > >
> > > Thanks, Eric
> > >
> >  > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > > Unsubscribe:
> > > http://www.antlr.org/mailman/options/antlr-interest/your-
> > > email-address
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> > http://www.antlr.org/mailman/options/antlr-interest/your-email-
> address
> >
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From researcher0x00 at gmail.com  Tue Mar  1 14:59:49 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Tue, 1 Mar 2011 17:59:49 -0500
Subject: [antlr-interest] Can a ANTLR 3 rule have both a rule and global
	scope?
In-Reply-To: <951d111dc33dbc9e9fa40cb0bfa16b44@mail.gmail.com>
References: <AANLkTimaOewyD-zXho12xFHaFyyDLAK=3gROenm3x+ca@mail.gmail.com>
	<481a4b6d5c82476121938444bc7b2593@mail.gmail.com>
	<AANLkTin=-g2Av2DMgPnZG_qJ9nywbxezYsLE5Uv9Fh2J@mail.gmail.com>
	<951d111dc33dbc9e9fa40cb0bfa16b44@mail.gmail.com>
Message-ID: <AANLkTinzctq_8UcF8DxVZ434haU3ZXy1GD2yeHr=3gRP@mail.gmail.com>

Jim,

If it wasn't for your and the others help all these years I don't know if
the ANTLR community would be so strong.

Thank you, sir.

On Tue, Mar 1, 2011 at 5:05 PM, Jim Idle <jimi at temporal-wave.com> wrote:

> For multiple globals;
>
> Scope s1, s2, s3;  // Not additional scope statements.
>
> Jim
>
> > -----Original Message-----
> > From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> > bounces at antlr.org] On Behalf Of The Researcher
> > Sent: Tuesday, March 01, 2011 1:37 PM
> > To: antlr-interest at antlr.org
>  > Subject: Re: [antlr-interest] Can a ANTLR 3 rule have both a rule and
> > global scope?
> >
> > FYI.
> >
> > Due to the bug http://www.antlr.org/jira/browse/ANTLR-310 only the last
> > global scope of multiple global scopes for a rule is correctly pushed
> > and popped. The other push and pops are missing.
> >
> > I don't know if this is limited to my version or all versions of ANTLR
> > 3.
> >
> > On Mon, Feb 28, 2011 at 8:24 PM, Jim Idle <jimi at temporal-wave.com>
> > wrote:
> >
> > > Nope - you just have the order specified in the wrong sequence. Use
> > > antlr.markmail.org and search for my answer to this exact question of
> > > about 5 days or so ago.
> > >
> > > Jim
> > >
> > > > -----Original Message-----
> > > > From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> > > > bounces at antlr.org] On Behalf Of The Researcher
> > > > Sent: Monday, February 28, 2011 4:16 PM
> > > > To: antlr-interest at antlr.org
> > >  > Subject: [antlr-interest] Can a ANTLR 3 rule have both a rule and
> > > > global scope?
> > > >
> > > > When trying to use both a rule and global scope for a rule, ANTLR
> > > > generated errors. To get past the error all of the attributes were
> > > > pused into the global scope.
> > > >
> > > > Just want to confirm that ANTLR 3 only allows a rule to have either
> > > > a rule or global scope but not both.
> > > >
> > > >
> > > >
> > > > Thanks, Eric
> > > >
> > >  > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > > > Unsubscribe:
> > > > http://www.antlr.org/mailman/options/antlr-interest/your-
> > > > email-address
> > >
> > > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > > Unsubscribe:
> > > http://www.antlr.org/mailman/options/antlr-interest/your-email-
> > address
> > >
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> > email-address
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From jimi at temporal-wave.com  Tue Mar  1 15:12:15 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Tue, 1 Mar 2011 15:12:15 -0800
Subject: [antlr-interest] Can a ANTLR 3 rule have both a rule and global
	scope?
In-Reply-To: <AANLkTinzctq_8UcF8DxVZ434haU3ZXy1GD2yeHr=3gRP@mail.gmail.com>
References: <AANLkTimaOewyD-zXho12xFHaFyyDLAK=3gROenm3x+ca@mail.gmail.com>
	<481a4b6d5c82476121938444bc7b2593@mail.gmail.com>	<AANLkTin=-g2Av2DMgPnZG_qJ9nywbxezYsLE5Uv9Fh2J@mail.gmail.com>
	<951d111dc33dbc9e9fa40cb0bfa16b44@mail.gmail.com>
	<AANLkTinzctq_8UcF8DxVZ434haU3ZXy1GD2yeHr=3gRP@mail.gmail.com>
Message-ID: <7dcb2f59c64ab1a0f638fc8052e46012@mail.gmail.com>

Thanks for the thanks :-)

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of The Researcher
> Sent: Tuesday, March 01, 2011 3:00 PM
> To: antlr-interest at antlr.org
> Subject: Re: [antlr-interest] Can a ANTLR 3 rule have both a rule and
> global scope?
>
> Jim,
>
> If it wasn't for your and the others help all these years I don't know
> if the ANTLR community would be so strong.
>
> Thank you, sir.
>
> On Tue, Mar 1, 2011 at 5:05 PM, Jim Idle <jimi at temporal-wave.com>
> wrote:
>
> > For multiple globals;
> >
> > Scope s1, s2, s3;  // Not additional scope statements.
> >
> > Jim
> >
> > > -----Original Message-----
> > > From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> > > bounces at antlr.org] On Behalf Of The Researcher
> > > Sent: Tuesday, March 01, 2011 1:37 PM
> > > To: antlr-interest at antlr.org
> >  > Subject: Re: [antlr-interest] Can a ANTLR 3 rule have both a rule
> > and
> > > global scope?
> > >
> > > FYI.
> > >
> > > Due to the bug http://www.antlr.org/jira/browse/ANTLR-310 only the
> > > last global scope of multiple global scopes for a rule is correctly
> > > pushed and popped. The other push and pops are missing.
> > >
> > > I don't know if this is limited to my version or all versions of
> > > ANTLR 3.
> > >
> > > On Mon, Feb 28, 2011 at 8:24 PM, Jim Idle <jimi at temporal-wave.com>
> > > wrote:
> > >
> > > > Nope - you just have the order specified in the wrong sequence.
> > > > Use antlr.markmail.org and search for my answer to this exact
> > > > question of about 5 days or so ago.
> > > >
> > > > Jim
> > > >
> > > > > -----Original Message-----
> > > > > From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> > > > > bounces at antlr.org] On Behalf Of The Researcher
> > > > > Sent: Monday, February 28, 2011 4:16 PM
> > > > > To: antlr-interest at antlr.org
> > > >  > Subject: [antlr-interest] Can a ANTLR 3 rule have both a rule
> > > > and
> > > > > global scope?
> > > > >
> > > > > When trying to use both a rule and global scope for a rule,
> > > > > ANTLR generated errors. To get past the error all of the
> > > > > attributes were pused into the global scope.
> > > > >
> > > > > Just want to confirm that ANTLR 3 only allows a rule to have
> > > > > either a rule or global scope but not both.
> > > > >
> > > > >
> > > > >
> > > > > Thanks, Eric
> > > > >
> > > >  > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > > > > Unsubscribe:
> > > > > http://www.antlr.org/mailman/options/antlr-interest/your-
> > > > > email-address
> > > >
> > > > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > > > Unsubscribe:
> > > > http://www.antlr.org/mailman/options/antlr-interest/your-email-
> > > address
> > > >
> > >
> > > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > > Unsubscribe:
> > > http://www.antlr.org/mailman/options/antlr-interest/your-
> > > email-address
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> > http://www.antlr.org/mailman/options/antlr-interest/your-email-
> address
> >
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From researcher0x00 at gmail.com  Wed Mar  2 09:26:36 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Wed, 2 Mar 2011 12:26:36 -0500
Subject: [antlr-interest] @scopeinit, can find the post but nothing else.
Message-ID: <AANLkTinbn0N7rck26G50K6bW4jnPnmNZ2Qxij4n2WX8y@mail.gmail.com>

Sam,

I saw your post about @scopeinit which I take was related to
Trouble with syntactic predicates that reference semantic predicates that
rely on a current dynamic attribute scope.

Did @scopeinit make it into a released C# version?
If so could you point me to how it is used?

I can get by without it, but  my current solution is a crutch at best.

Thanks Eric.

From parrt at cs.usfca.edu  Wed Mar  2 10:05:40 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Wed, 2 Mar 2011 10:05:40 -0800
Subject: [antlr-interest] AntlrWorks Feature Request
In-Reply-To: <AANLkTinLe4efuXWgc68wLJKCxwHsa2iixN3-mRFL4PE+@mail.gmail.com>
References: <AANLkTinLe4efuXWgc68wLJKCxwHsa2iixN3-mRFL4PE+@mail.gmail.com>
Message-ID: <8842F98A-2725-4B48-AA1B-25495170D890@cs.usfca.edu>

isn't it easier to just edit that file?
Ter
On Mar 1, 2011, at 9:10 AM, Douglas Godfrey wrote:

> Add an "AntlrWorks Options" field to the General Tab of AntlrWorks's
> preferences dialog.
> 
> When the user clicks apply, set the VMOptions value in AntlrWorks info.plist
> file.
> 
> i.e. AntlrWorks Options string = -Xms1G
> 
> Info.plist file VMOptions value set to the following:
> 
> <?xml version="1.0" encoding="UTF-8"?>
> <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "
> http://www.apple.com/DTDs/PropertyList-1.0.dtd">
> <plist version="1.0">
> <dict>
>    <key>CFBundleAllowMixedLocalizations</key>
>    <string>true</string>
>    <key>CFBundleDevelopmentRegion</key>
>    <string>English</string>
>    <key>CFBundleDocumentTypes</key>
>    <array>
>        <dict>
>            <key>CFBundleTypeExtensions</key>
>            <array>
>                <string>g</string>
>            </array>
>            <key>CFBundleTypeIconFile</key>
>            <string>doc.icns</string>
>            <key>CFBundleTypeName</key>
>            <string>ANTLRWorks</string>
>            <key>CFBundleTypeRole</key>
>            <string>Editor</string>
>        </dict>
>    </array>
>    <key>CFBundleExecutable</key>
>    <string>JavaApplicationStub</string>
>    <key>CFBundleGetInfoString</key>
>    <string>(c) 2005-2008 Jean Bovet</string>
>    <key>CFBundleIconFile</key>
>    <string>app.icns</string>
>    <key>CFBundleIdentifier</key>
>    <string>org.antlr.works</string>
>    <key>CFBundleInfoDictionaryVersion</key>
>    <string>6.0</string>
>    <key>CFBundleName</key>
>    <string>ANTLRWorks</string>
>    <key>CFBundlePackageType</key>
>    <string>APPL</string>
>    <key>CFBundleShortVersionString</key>
>    <string>1.4.2</string>
>    <key>CFBundleSignature</key>
>    <string>ATLW</string>
>    <key>CFBundleVersion</key>
>    <string>1.4.2</string>
>    <key>Java</key>
>    <dict>
>        <key>ClassPath</key>
>        <string>$JAVAROOT/antlrworks.jar</string>
>        <key>JVMVersion</key>
>        <string>1.5+</string>
>        <key>MainClass</key>
>        <string>org.antlr.works.IDE</string>
>        <key>VMOptions</key>
>        <string>-Xmx1G</string>
>    </dict>
> </dict>
> </plist>
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From parrt at cs.usfca.edu  Wed Mar  2 10:16:43 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Wed, 2 Mar 2011 10:16:43 -0800
Subject: [antlr-interest] ANTLR 3 using k=0, any info on doing this?
In-Reply-To: <AANLkTimFsVgRhj6FaXKyTSXc4DYAQv7qgRbADL3TZzts@mail.gmail.com>
References: <AANLkTimFsVgRhj6FaXKyTSXc4DYAQv7qgRbADL3TZzts@mail.gmail.com>
Message-ID: <25A6E4D5-03A8-4B99-9267-248A1DF40251@cs.usfca.edu>

Use {...}?=> for this.It forces the predicates to be tested regardless of whether or not the lookahead predicts an alternative.

Ter
On Feb 28, 2011, at 6:12 PM, The Researcher wrote:

> I tried searching the interest group with k=0 but that wasn't productive,
> and Google doesn't do any better.
> 
> Yes I know setting k=0 is not what one normally if ever does with ANTLR, but
> I am researching what it will take to get ANTLR to validate a Microsoft
> Common Language Infrastructure file. I did write a separate validator by
> hand and that works great.
> 
> One of my goals out of this is to have a way to write binary file readers
> and validators using ANTLR. Yes I know that I will have to modify ANTLR.g to
> do this correctly, but before that, I have to know what the current ANTLR.g
> is capable of doing and what needs to be modified or enhanced.
> 
> So far I have only fond the ANTLR 2 Java .class file reader by Andreas
> Rueckert and the few mentions of using Bytes in "Definitive ANTLR
> Reference". I am getting the other book.
> 
> Using gated semantic predicates is working out great, but ANTLR is
> determined to check for multiple alternatives. I was hoping that K=0 would
> shut that whole process down  and using the gated semantic predicates to
> dynamically shut off the options would leave ANTLR not trying alternatives.
> 
> Any clues or references are welcome.
> 
> Thanks Eric
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From researcher0x00 at gmail.com  Wed Mar  2 10:31:16 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Wed, 2 Mar 2011 13:31:16 -0500
Subject: [antlr-interest] ANTLR 3 using k=0, any info on doing this?
In-Reply-To: <25A6E4D5-03A8-4B99-9267-248A1DF40251@cs.usfca.edu>
References: <AANLkTimFsVgRhj6FaXKyTSXc4DYAQv7qgRbADL3TZzts@mail.gmail.com>
	<25A6E4D5-03A8-4B99-9267-248A1DF40251@cs.usfca.edu>
Message-ID: <AANLkTikGPnaS2i6mf_RYoMJ-PiKWUT5Vgmb53xpSngCJ@mail.gmail.com>

Ter

Thanks, they work great, but then I run into what I believe is the "Trouble
with syntactic predicates that reference semantic predicates that rely on a
current dynamic attribute scope" which is why I have asked Sam about
@scopeinit. I can get around it, but it doesn't seem intuitive.

If you are anyone else wants me to keep an eye open for certain things while
writing this grammar, just ask.

I do have several suggestions in the work, but want to have a working
grammar for at least the PE Image before any write-up, then move onto the
.text section which is where it will get really interesting.

Eric

On Wed, Mar 2, 2011 at 1:16 PM, Terence Parr <parrt at cs.usfca.edu> wrote:

> Use {...}?=> for this.It forces the predicates to be tested regardless of
> whether or not the lookahead predicts an alternative.
>
> Ter
>  On Feb 28, 2011, at 6:12 PM, The Researcher wrote:
>
> > I tried searching the interest group with k=0 but that wasn't productive,
> > and Google doesn't do any better.
> >
> > Yes I know setting k=0 is not what one normally if ever does with ANTLR,
> but
> > I am researching what it will take to get ANTLR to validate a Microsoft
> > Common Language Infrastructure file. I did write a separate validator by
> > hand and that works great.
> >
> > One of my goals out of this is to have a way to write binary file readers
> > and validators using ANTLR. Yes I know that I will have to modify ANTLR.g
> to
> > do this correctly, but before that, I have to know what the current
> ANTLR.g
> > is capable of doing and what needs to be modified or enhanced.
> >
> > So far I have only fond the ANTLR 2 Java .class file reader by Andreas
> > Rueckert and the few mentions of using Bytes in "Definitive ANTLR
> > Reference". I am getting the other book.
> >
> > Using gated semantic predicates is working out great, but ANTLR is
> > determined to check for multiple alternatives. I was hoping that K=0
> would
> > shut that whole process down  and using the gated semantic predicates to
> > dynamically shut off the options would leave ANTLR not trying
> alternatives.
> >
> > Any clues or references are welcome.
> >
> > Thanks Eric
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From parrt at cs.usfca.edu  Wed Mar  2 10:37:28 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Wed, 2 Mar 2011 10:37:28 -0800
Subject: [antlr-interest] ANTLR 3 using k=0, any info on doing this?
In-Reply-To: <AANLkTikGPnaS2i6mf_RYoMJ-PiKWUT5Vgmb53xpSngCJ@mail.gmail.com>
References: <AANLkTimFsVgRhj6FaXKyTSXc4DYAQv7qgRbADL3TZzts@mail.gmail.com>
	<25A6E4D5-03A8-4B99-9267-248A1DF40251@cs.usfca.edu>
	<AANLkTikGPnaS2i6mf_RYoMJ-PiKWUT5Vgmb53xpSngCJ@mail.gmail.com>
Message-ID: <AD41465A-6AC1-4062-8B54-873F704AB215@cs.usfca.edu>

Syntactic predicates can only execute actions that can be undone or that have no side effects. to specify such a special action, use {{...}} :) In general though {...}?=> should be for Boolean that say things like "Allow GCC extensions".
Ter
On Mar 2, 2011, at 10:31 AM, The Researcher wrote:

> Ter
> 
> Thanks, they work great, but then I run into what I believe is the "Trouble
> with syntactic predicates that reference semantic predicates that rely on a
> current dynamic attribute scope" which is why I have asked Sam about
> @scopeinit. I can get around it, but it doesn't seem intuitive.
> 
> If you are anyone else wants me to keep an eye open for certain things while
> writing this grammar, just ask.
> 
> I do have several suggestions in the work, but want to have a working
> grammar for at least the PE Image before any write-up, then move onto the
> .text section which is where it will get really interesting.
> 
> Eric
> 
> On Wed, Mar 2, 2011 at 1:16 PM, Terence Parr <parrt at cs.usfca.edu> wrote:
> 
>> Use {...}?=> for this.It forces the predicates to be tested regardless of
>> whether or not the lookahead predicts an alternative.
>> 
>> Ter
>> On Feb 28, 2011, at 6:12 PM, The Researcher wrote:
>> 
>>> I tried searching the interest group with k=0 but that wasn't productive,
>>> and Google doesn't do any better.
>>> 
>>> Yes I know setting k=0 is not what one normally if ever does with ANTLR,
>> but
>>> I am researching what it will take to get ANTLR to validate a Microsoft
>>> Common Language Infrastructure file. I did write a separate validator by
>>> hand and that works great.
>>> 
>>> One of my goals out of this is to have a way to write binary file readers
>>> and validators using ANTLR. Yes I know that I will have to modify ANTLR.g
>> to
>>> do this correctly, but before that, I have to know what the current
>> ANTLR.g
>>> is capable of doing and what needs to be modified or enhanced.
>>> 
>>> So far I have only fond the ANTLR 2 Java .class file reader by Andreas
>>> Rueckert and the few mentions of using Bytes in "Definitive ANTLR
>>> Reference". I am getting the other book.
>>> 
>>> Using gated semantic predicates is working out great, but ANTLR is
>>> determined to check for multiple alternatives. I was hoping that K=0
>> would
>>> shut that whole process down  and using the gated semantic predicates to
>>> dynamically shut off the options would leave ANTLR not trying
>> alternatives.
>>> 
>>> Any clues or references are welcome.
>>> 
>>> Thanks Eric
>>> 
>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>> Unsubscribe:
>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>> 
>> 
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe:
>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>> 
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From bacon at zoramite.com  Wed Mar  2 16:58:26 2011
From: bacon at zoramite.com (Randy Merrill)
Date: Wed, 2 Mar 2011 16:58:26 -0800
Subject: [antlr-interest] gUnit No longer adding package when creating test
	file in 3.3
Message-ID: <AANLkTim8B6y0-UmR25_XXUeO8RStq_qAPDph_OjGwZ6W@mail.gmail.com>

I started working on some updates to a grammar that I had started some time
back and upgraded the jar file to the 3.3 version.

The problem is that now when I generate the test .java file it doesn't add
the package to the test file.

Here is an example of my .gunit file:

gunit Widget;

@header {
>   package org.testing.widget;
> }


If I remove the @header then I get a "Exception in thread "main"
java.lang.ClassNotFoundException: WidgetParser" error, i can tell that is is
using the package, but not outputing it in the generated .java file.

To generate the test .java file:

java org.antlr.gunit.Interp -o Widget.gunit


Any thoughts as to why it would stop outputting the package in the test
file?

Thanks!

Randy

From researcher0x00 at gmail.com  Wed Mar  2 18:00:31 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Wed, 2 Mar 2011 21:00:31 -0500
Subject: [antlr-interest] ANTLR 3 using k=0, any info on doing this?
In-Reply-To: <AD41465A-6AC1-4062-8B54-873F704AB215@cs.usfca.edu>
References: <AANLkTimFsVgRhj6FaXKyTSXc4DYAQv7qgRbADL3TZzts@mail.gmail.com>
	<25A6E4D5-03A8-4B99-9267-248A1DF40251@cs.usfca.edu>
	<AANLkTikGPnaS2i6mf_RYoMJ-PiKWUT5Vgmb53xpSngCJ@mail.gmail.com>
	<AD41465A-6AC1-4062-8B54-873F704AB215@cs.usfca.edu>
Message-ID: <AANLkTimZEH=aYGwp3GxxYS6=R2F30Pr6VNF4M6BJm-z+@mail.gmail.com>

{{...}} syntax doesn't ring a bell. I would like to understand it, but can
find nothing on it.
Any references or wiki pages?

Thanks.


On Wed, Mar 2, 2011 at 1:37 PM, Terence Parr <parrt at cs.usfca.edu> wrote:

> Syntactic predicates can only execute actions that can be undone or that
> have no side effects. to specify such a special action, use {{...}} :) In
> general though {...}?=> should be for Boolean that say things like "Allow
> GCC extensions".
> Ter
>  On Mar 2, 2011, at 10:31 AM, The Researcher wrote:
>
> > Ter
> >
> > Thanks, they work great, but then I run into what I believe is the
> "Trouble
> > with syntactic predicates that reference semantic predicates that rely on
> a
> > current dynamic attribute scope" which is why I have asked Sam about
> > @scopeinit. I can get around it, but it doesn't seem intuitive.
> >
> > If you are anyone else wants me to keep an eye open for certain things
> while
> > writing this grammar, just ask.
> >
> > I do have several suggestions in the work, but want to have a working
> > grammar for at least the PE Image before any write-up, then move onto the
> > .text section which is where it will get really interesting.
> >
> > Eric
> >
> > On Wed, Mar 2, 2011 at 1:16 PM, Terence Parr <parrt at cs.usfca.edu> wrote:
> >
> >> Use {...}?=> for this.It forces the predicates to be tested regardless
> of
> >> whether or not the lookahead predicts an alternative.
> >>
> >> Ter
> >> On Feb 28, 2011, at 6:12 PM, The Researcher wrote:
> >>
> >>> I tried searching the interest group with k=0 but that wasn't
> productive,
> >>> and Google doesn't do any better.
> >>>
> >>> Yes I know setting k=0 is not what one normally if ever does with
> ANTLR,
> >> but
> >>> I am researching what it will take to get ANTLR to validate a Microsoft
> >>> Common Language Infrastructure file. I did write a separate validator
> by
> >>> hand and that works great.
> >>>
> >>> One of my goals out of this is to have a way to write binary file
> readers
> >>> and validators using ANTLR. Yes I know that I will have to modify
> ANTLR.g
> >> to
> >>> do this correctly, but before that, I have to know what the current
> >> ANTLR.g
> >>> is capable of doing and what needs to be modified or enhanced.
> >>>
> >>> So far I have only fond the ANTLR 2 Java .class file reader by Andreas
> >>> Rueckert and the few mentions of using Bytes in "Definitive ANTLR
> >>> Reference". I am getting the other book.
> >>>
> >>> Using gated semantic predicates is working out great, but ANTLR is
> >>> determined to check for multiple alternatives. I was hoping that K=0
> >> would
> >>> shut that whole process down  and using the gated semantic predicates
> to
> >>> dynamically shut off the options would leave ANTLR not trying
> >> alternatives.
> >>>
> >>> Any clues or references are welcome.
> >>>
> >>> Thanks Eric
> >>>
> >>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >>> Unsubscribe:
> >> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
> >>
> >>
> >> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >> Unsubscribe:
> >> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
> >>
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From researcher0x00 at gmail.com  Wed Mar  2 18:09:08 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Wed, 2 Mar 2011 21:09:08 -0500
Subject: [antlr-interest] ANTLR 3 matching an exact number or bounded number
	of items
Message-ID: <AANLkTikF_rSSdmHtq11_NX4kj5iTCJA62ZPsmMNj4zoL@mail.gmail.com>

Does ANTLR 3 have built-in support for matching an exact number or bounded
number of items that does not rely on using {...}?=>

e.g for a 32 bit value of four bytes the rule statement would be
    byte[4]

or for an a structure that has a bound of elements between 1 and 16 the rule
statement would be
    struc[1:16]
While ANTLR 3 uses [ ] for rule parameters, here [ ] is used to signify
element bounds.

I have looked high and low for this, and found nothing tangible.

Abusing {...}?=> works, but I would like to stop abusing it.

From cummings at kjchome.homeip.net  Wed Mar  2 18:20:10 2011
From: cummings at kjchome.homeip.net (Kevin J. Cummings)
Date: Wed, 02 Mar 2011 21:20:10 -0500
Subject: [antlr-interest] ANTLR 3 matching an exact number or bounded
 number	of items
In-Reply-To: <AANLkTikF_rSSdmHtq11_NX4kj5iTCJA62ZPsmMNj4zoL@mail.gmail.com>
References: <AANLkTikF_rSSdmHtq11_NX4kj5iTCJA62ZPsmMNj4zoL@mail.gmail.com>
Message-ID: <4D6EFADA.1050709@kjchome.homeip.net>

On 03/02/2011 09:09 PM, The Researcher wrote:
> Does ANTLR 3 have built-in support for matching an exact number or bounded
> number of items that does not rely on using {...}?=>
> 
> e.g for a 32 bit value of four bytes the rule statement would be
>     byte[4]
> 
> or for an a structure that has a bound of elements between 1 and 16 the rule
> statement would be
>     struc[1:16]
> While ANTLR 3 uses [ ] for rule parameters, here [ ] is used to signify
> element bounds.
> 
> I have looked high and low for this, and found nothing tangible.
> 
> Abusing {...}?=> works, but I would like to stop abusing it.

Set up the action code for your rule to count the number of elements
matched.  When you exceed the number you need, have the action output an
error, or raise an exception, or, ....

Or you can abuse gated semantic predicates.

> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address

-- 
Kevin J. Cummings
kjchome at verizon.net
cummings at kjchome.homeip.net
cummings at kjc386.framingham.ma.us
Registered Linux User #1232 (http://counter.li.org)

From jimi at temporal-wave.com  Wed Mar  2 18:52:24 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Wed, 2 Mar 2011 18:52:24 -0800
Subject: [antlr-interest] ANTLR 3 matching an exact number or bounded
 number of items
In-Reply-To: <AANLkTikF_rSSdmHtq11_NX4kj5iTCJA62ZPsmMNj4zoL@mail.gmail.com>
References: <AANLkTikF_rSSdmHtq11_NX4kj5iTCJA62ZPsmMNj4zoL@mail.gmail.com>
Message-ID: <61ae977d6b4e7779a30bfe70738ad578@mail.gmail.com>

That's because what you ask for is not the right way to do it. As per
prior posts ad nausea (as Private Eye would say), you should be as loose
as you can be with the syntax rules and make lots of semantic checks in a
later pass. If you do what you are asking for you will end up with an
error message such as:

Syntax error at 2B, not expecting 2B, expecting ';'

Whereas with a semantic check, you will parse as many as you see and
produce a tree (or you could issue this in the parser but best not to
really), that with a verification walk says:

... 33 44 55 66 2B 43 33 ;
                ^^^^^^^^

Too many bytes specified, there can be only 4 and you have 7.

You will also maximize the number of real errors that you can capture in
one pass.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of The Researcher
> Sent: Wednesday, March 02, 2011 6:09 PM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] ANTLR 3 matching an exact number or bounded
> number of items
>
> Does ANTLR 3 have built-in support for matching an exact number or
> bounded number of items that does not rely on using {...}?=>
>
> e.g for a 32 bit value of four bytes the rule statement would be
>     byte[4]
>
> or for an a structure that has a bound of elements between 1 and 16 the
> rule statement would be
>     struc[1:16]
> While ANTLR 3 uses [ ] for rule parameters, here [ ] is used to signify
> element bounds.
>
> I have looked high and low for this, and found nothing tangible.
>
> Abusing {...}?=> works, but I would like to stop abusing it.
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From researcher0x00 at gmail.com  Wed Mar  2 19:04:49 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Wed, 2 Mar 2011 22:04:49 -0500
Subject: [antlr-interest] ANTLR 3 matching an exact number or bounded
 number of items
In-Reply-To: <4D6EFADA.1050709@kjchome.homeip.net>
References: <AANLkTikF_rSSdmHtq11_NX4kj5iTCJA62ZPsmMNj4zoL@mail.gmail.com>
	<4D6EFADA.1050709@kjchome.homeip.net>
Message-ID: <AANLkTinTVKv9=kfSA6XNFpLh8f7zNtJvnAtjZsK_yyZZ@mail.gmail.com>

Thanks for the feedback.

I am working on reading binary file structures and have set K=0 because the
file should be able to read without look ahead. Thus the need for exact
bounds. The parser gets only two types of tokens, one is the next byte, or
the EOF token that's it. It actually doesn't even have a lexer, it uses a
hand built token stream. < I didn't get a memo saying I needed one>

The methods you suggested did work for me on the simple test cases, but once
a few levels of nesting of the structures with fixed element bounds were
seen by ANTLR, it's analysis kicked in and started reporting
error(201) The following alternatives can never be matched.
The strategic use of {...}?=> is the only strategy that is allowing the
build to succeed.

The regular expression tools I use support the bounded syntax, and I was
hoping the ANTLR would have it and that I was just not able to find it.

Again thanks for the response, it nice to know I didn't miss any option.


On Wed, Mar 2, 2011 at 9:20 PM, Kevin J. Cummings <
cummings at kjchome.homeip.net> wrote:

>  On 03/02/2011 09:09 PM, The Researcher wrote:
> > Does ANTLR 3 have built-in support for matching an exact number or
> bounded
> > number of items that does not rely on using {...}?=>
> >
> > e.g for a 32 bit value of four bytes the rule statement would be
> >     byte[4]
> >
> > or for an a structure that has a bound of elements between 1 and 16 the
> rule
> > statement would be
> >     struc[1:16]
> > While ANTLR 3 uses [ ] for rule parameters, here [ ] is used to signify
> > element bounds.
> >
> > I have looked high and low for this, and found nothing tangible.
> >
> > Abusing {...}?=> works, but I would like to stop abusing it.
>
> Set up the action code for your rule to count the number of elements
> matched.  When you exceed the number you need, have the action output an
> error, or raise an exception, or, ....
>
> Or you can abuse gated semantic predicates.
>
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>
> --
> Kevin J. Cummings
> kjchome at verizon.net
> cummings at kjchome.homeip.net
> cummings at kjc386.framingham.ma.us
> Registered Linux User #1232 (http://counter.li.org)
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From david.daeschler at gmail.com  Thu Mar  3 11:45:18 2011
From: david.daeschler at gmail.com (David Daeschler)
Date: Thu, 3 Mar 2011 14:45:18 -0500
Subject: [antlr-interest] C# tree parser memoize issue?
Message-ID: <AANLkTikWjrvw3nCuo3V8Ku51znt5houNNtAmzSs_39i_@mail.gmail.com>

I have a grammar that contains a 3d vector type.

Parsing the grammar for my test case yields the following AST:
http://graph.gafol.net/dZxqGkwww

<http://graph.gafol.net/dZxqGkwww>During the code generation step I am using
a tree grammar with backtracking and memoization turned on.

With memoization the following generates an error:

float f;
vector v = <1.0,1.0,1.0> * <f,f,f>;
^Z
Gen.g: node from line 2:28 mismatched tree node: f expecting FLOAT_LITERAL

Turning off memoization fixes the issue.

The grammar fragments involved are (trying to cut down as much as I can):

expression
@init {MyAst t = (MyAst )input.LT(1);}
@after { $expression.st = DoPromotion(t, $expression.st); }
: ^(EXPR expr) -> {$expr.st}
;

expr
: multiplicativeExpression-> {$multiplicativeExpression.st}
;

multiplicativeExpression
: mult -> {$mult.st}
| primary -> {$primary.st}
;

mult
: ^(op='*' l=multiplicativeExpression r=multiplicativeExpression)
->
mul(subtemplate={TemplateMapping.Multiplication[$l.start.evalType.TypeIndex,
$r.start.evalType.TypeIndex]}, lexpr={$l.st}, rexpr={$r.st})
;
primary
@init {MyAst t = (MyAst)input.LT(1);} @after { $primary.st = DoPromotion(t,
$primary.st); }
| vecConst -> {$vecConst.st}
| vecLiteral -> {$vecLiteral.st}
| expression -> {$expression.st}
;

vecConst
: ^(VECTOR_LITERAL x=FLOAT_LITERAL y=FLOAT_LITERAL z=FLOAT_LITERAL) ->
vconst(x={$x.text}, y={$y.text}, z={$z.text})
;

vecLiteral
: ^(VECTOR_LITERAL x=expr y=expr z=expr) ->
buildvec(x={$x.st}, y={$y.st}, z={$z.st})
;

Sorry for the verbosity of this post, and thank you ahead of time for any
help.
-- 
David Daeschler

From researcher0x00 at gmail.com  Thu Mar  3 12:20:17 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Thu, 3 Mar 2011 15:20:17 -0500
Subject: [antlr-interest] ANTLR 3 using k=0, any info on doing this?
In-Reply-To: <AANLkTimZEH=aYGwp3GxxYS6=R2F30Pr6VNF4M6BJm-z+@mail.gmail.com>
References: <AANLkTimFsVgRhj6FaXKyTSXc4DYAQv7qgRbADL3TZzts@mail.gmail.com>
	<25A6E4D5-03A8-4B99-9267-248A1DF40251@cs.usfca.edu>
	<AANLkTikGPnaS2i6mf_RYoMJ-PiKWUT5Vgmb53xpSngCJ@mail.gmail.com>
	<AD41465A-6AC1-4062-8B54-873F704AB215@cs.usfca.edu>
	<AANLkTimZEH=aYGwp3GxxYS6=R2F30Pr6VNF4M6BJm-z+@mail.gmail.com>
Message-ID: <AANLkTi=4PvRto=KLYw+_iLagn8FP4HpYp0DxD1M1_we=@mail.gmail.com>

>From the cheat sheet.

{{...}} forced action; execute even while backtracking

FYI  for http://antlr.markmail.org/  use forced action instead of special
action or {{

Thanks Ter

On Wed, Mar 2, 2011 at 9:00 PM, The Researcher <researcher0x00 at gmail.com>wrote:

>
> {{...}} syntax doesn't ring a bell. I would like to understand it, but can
> find nothing on it.
> Any references or wiki pages?
>
> Thanks.
>
>
> On Wed, Mar 2, 2011 at 1:37 PM, Terence Parr <parrt at cs.usfca.edu> wrote:
>
>> Syntactic predicates can only execute actions that can be undone or that
>> have no side effects. to specify such a special action, use {{...}} :) In
>> general though {...}?=> should be for Boolean that say things like "Allow
>> GCC extensions".
>> Ter
>>  On Mar 2, 2011, at 10:31 AM, The Researcher wrote:
>>
>> > Ter
>> >
>> > Thanks, they work great, but then I run into what I believe is the
>> "Trouble
>> > with syntactic predicates that reference semantic predicates that rely
>> on a
>> > current dynamic attribute scope" which is why I have asked Sam about
>> > @scopeinit. I can get around it, but it doesn't seem intuitive.
>> >
>> > If you are anyone else wants me to keep an eye open for certain things
>> while
>> > writing this grammar, just ask.
>> >
>> > I do have several suggestions in the work, but want to have a working
>> > grammar for at least the PE Image before any write-up, then move onto
>> the
>> > .text section which is where it will get really interesting.
>> >
>> > Eric
>> >
>> > On Wed, Mar 2, 2011 at 1:16 PM, Terence Parr <parrt at cs.usfca.edu>
>> wrote:
>> >
>> >> Use {...}?=> for this.It forces the predicates to be tested regardless
>> of
>> >> whether or not the lookahead predicts an alternative.
>> >>
>> >> Ter
>> >> On Feb 28, 2011, at 6:12 PM, The Researcher wrote:
>> >>
>> >>> I tried searching the interest group with k=0 but that wasn't
>> productive,
>> >>> and Google doesn't do any better.
>> >>>
>> >>> Yes I know setting k=0 is not what one normally if ever does with
>> ANTLR,
>> >> but
>> >>> I am researching what it will take to get ANTLR to validate a
>> Microsoft
>> >>> Common Language Infrastructure file. I did write a separate validator
>> by
>> >>> hand and that works great.
>> >>>
>> >>> One of my goals out of this is to have a way to write binary file
>> readers
>> >>> and validators using ANTLR. Yes I know that I will have to modify
>> ANTLR.g
>> >> to
>> >>> do this correctly, but before that, I have to know what the current
>> >> ANTLR.g
>> >>> is capable of doing and what needs to be modified or enhanced.
>> >>>
>> >>> So far I have only fond the ANTLR 2 Java .class file reader by Andreas
>> >>> Rueckert and the few mentions of using Bytes in "Definitive ANTLR
>> >>> Reference". I am getting the other book.
>> >>>
>> >>> Using gated semantic predicates is working out great, but ANTLR is
>> >>> determined to check for multiple alternatives. I was hoping that K=0
>> >> would
>> >>> shut that whole process down  and using the gated semantic predicates
>> to
>> >>> dynamically shut off the options would leave ANTLR not trying
>> >> alternatives.
>> >>>
>> >>> Any clues or references are welcome.
>> >>>
>> >>> Thanks Eric
>> >>>
>> >>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> >>> Unsubscribe:
>> >> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>> >>
>> >>
>> >> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> >> Unsubscribe:
>> >> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>> >>
>> >
>> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> > Unsubscribe:
>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>
>>
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe:
>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>
>
>

From researcher0x00 at gmail.com  Thu Mar  3 12:39:54 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Thu, 3 Mar 2011 15:39:54 -0500
Subject: [antlr-interest] On the plan to do list is "context-sensitive or
 goal-oriented lexing", what are the specifics?
Message-ID: <AANLkTi=wNW0wu_NeXM7eZK2TFfQjBBmrpXTx6P1Ag24m@mail.gmail.com>

I was reviewing the "Here is what I plan to do: " list at

http://www.antlr.org/wiki/display/ANTLR3/To+implement

and was wondering specifically what "context-sensitive or goal-oriented
lexing", means.
It sounds like something I was considering for use with K=0.

From researcher0x00 at gmail.com  Thu Mar  3 12:48:51 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Thu, 3 Mar 2011 15:48:51 -0500
Subject: [antlr-interest] @scopeinit, can find the post but nothing else.
In-Reply-To: <AANLkTinbn0N7rck26G50K6bW4jnPnmNZ2Qxij4n2WX8y@mail.gmail.com>
References: <AANLkTinbn0N7rck26G50K6bW4jnPnmNZ2Qxij4n2WX8y@mail.gmail.com>
Message-ID: <AANLkTinDw9Wp=0BMkjUwj=V_o_1ANUkq5U6spvznAcJc@mail.gmail.com>

This appears to be on the To Implement list

constructors or init for global scopes

http://www.antlr.org/wiki/display/ANTLR3/constructors+or+init+for+global+scopes

Eric

On Wed, Mar 2, 2011 at 12:26 PM, The Researcher <researcher0x00 at gmail.com>wrote:

> Sam,
>
> I saw your post about @scopeinit which I take was related to
> Trouble with syntactic predicates that reference semantic predicates that
> rely on a current dynamic attribute scope.
>
> Did @scopeinit make it into a released C# version?
> If so could you point me to how it is used?
>
> I can get by without it, but  my current solution is a crutch at best.
>
> Thanks Eric.
>
>

From juanmcam at gmail.com  Thu Mar  3 14:10:12 2011
From: juanmcam at gmail.com (=?ISO-8859-1?Q?Juan_Manuel_C=E1mara?=)
Date: Thu, 3 Mar 2011 19:10:12 -0300
Subject: [antlr-interest] How to get the complete syntax tree
Message-ID: <AANLkTikmkFKENHQgRO9sb0KWyyLXjy_kxp5jn8XMsY-5@mail.gmail.com>

Hi,
I`m new for ANTLR, and have this trouble:
I implemented a simple mathematical expression parser, similar to the
example in the page,
I need to work with the generated AST, so I added the option output=AST to
the grammar.
The Parser works fine, but its return is a flat tree, all tokens are childs
of the root.

Is this the normal use?
Can someone guess what I'm doing wrong, or tell me the way to get the
complete tree?
If the question is so basic, and large to respond, any reference will be
welcome too...

Thanks!

Juan Manuel

From bkiers at gmail.com  Thu Mar  3 14:22:00 2011
From: bkiers at gmail.com (Bart Kiers)
Date: Thu, 3 Mar 2011 23:22:00 +0100
Subject: [antlr-interest] How to get the complete syntax tree
In-Reply-To: <AANLkTikmkFKENHQgRO9sb0KWyyLXjy_kxp5jn8XMsY-5@mail.gmail.com>
References: <AANLkTikmkFKENHQgRO9sb0KWyyLXjy_kxp5jn8XMsY-5@mail.gmail.com>
Message-ID: <AANLkTik89Umst0_tjN+SXh+7ocV=qUfDPhGyigbEA8rc@mail.gmail.com>

Hi,

2011/3/3 Juan Manuel C?mara <juanmcam at gmail.com>

> ...
> The Parser works fine, but its return is a flat tree, all tokens are childs
> of the root.
>
> Is this the normal use?
> Can someone guess what I'm doing wrong, or tell me the way to get the
> complete tree? ...
>

_You_ need to tell how the tree looks like.

See: http://www.antlr.org/wiki/display/ANTLR3/Tree+construction
<http://www.antlr.org/wiki/display/ANTLR3/Tree+construction>And/or:
http://stackoverflow.com/questions/4931346/how-to-output-the-ast-built-using-antlr

<http://stackoverflow.com/questions/4931346/how-to-output-the-ast-built-using-antlr>
Regards,

Bart.

From researcher0x00 at gmail.com  Thu Mar  3 16:46:51 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Thu, 3 Mar 2011 19:46:51 -0500
Subject: [antlr-interest] ANTLR 3 matching an exact number or bounded
 number of items
In-Reply-To: <AANLkTi=u39bJNwa0gFnjCP5zetLPTmb=9D7o3LWGZU12@mail.gmail.com>
References: <AANLkTikF_rSSdmHtq11_NX4kj5iTCJA62ZPsmMNj4zoL@mail.gmail.com>
	<61ae977d6b4e7779a30bfe70738ad578@mail.gmail.com>
	<AANLkTi=u39bJNwa0gFnjCP5zetLPTmb=9D7o3LWGZU12@mail.gmail.com>
Message-ID: <AANLkTi=Vbep2gDy2NBz7WAL1dujHyg5Yviu2nj-eK1tz@mail.gmail.com>

Jim,

I have been thinking a lot about what you have said and took for granted
when I said binary data that it refered to data that was not serialized
binary data. So instead of using the phrase binary data the two following
separate definitions are used:
1. serialized binary data
2. not serialized binary data - which I will call stored data structures for
lack of something
    better. This is data that is all binary and has *no* bytes or bit
patterns across
    the entire data stream that can be used to designate any delimits or
anchor points
    for use by a lexer. The data is just values for data structures stored
at certain offsets
    in the file. There is no requirement for the data to be continuous.
Their can be gaps
    between the data structures with invalid data.
    The only tokens for use by an analysis phase are byte and EOF. The byte
token value has
    no meaning until assigned to a field in a structure.

As for serialized binary data, then I have no problem with the concept of
loose with the syntax.
As for stored data structures, it still doesn't seem right, but  I am
restarting to see how it applies.

Another note of mention is that I rarely look at ANTLR as a tool for
translation, or to create Domain Specific Languages, or any of the things
one normally does with ANTLR.
With reference to "Flatland" by Edwin Abbott Abbott, I see it like the 2-D
entity looking at a 3-D entity, depending on the perspective it is one thing
and from another perspective it is a different thing, and yet it is still
one thing.
One of the main uses for me with  ANTLR is to use it to create lots of mini
state machines that can be orchestrated to do something I need. As such I
spend more time breaking with tradition than I do using it as designed.

 Hopefully this makes by goal more clear which is not to apply parsing
techniques to a file, but to read the file into a fully connected set of
data structures.

Again thanks for your input, I due value it and learn from it.

FYI for others
The file specification I am researching creating for an ANTLR 3 grammar is
based on:
 "The Common Language Infrastructure Annotated Standard" by James S. Miller,

ECMA-335 5th edition
"Expert .NET 2.0 IL Assembler" by Serge Lindin

Eric

On Wed, Mar 2, 2011 at 10:53 PM, The Researcher <researcher0x00 at gmail.com>wrote:

> antlr-interest at antlr.org
>
> Jim,
>
> Thanks for responding.
>
> If I don't get the thought across correctly don't shoot me.
>
> I know I didn't mention at the start of this post that I was specifically
> working on binary files.
> If this applies to binary files then I am not seeing how loose with the
> syntax works here and wouldn't mind learning.
>
> The notion I am working with is that there can be only two tokens; one for
> a byte and one for EOF. There are no special bytes reserved for delimiters,
> thus one lexer rule which makes a token out of a single byte. The working
> code currently forgoes the lexer and uses a hand built stream token for
> feeding the parser. It doesn't even have the fillbuffer().
>
> Based on that, all the work falls into the parser. Once in the parser, the
> only places I know of that have definite patterns are the two magic numbers.
> i.e MZ and PE/0/0 for two out the possible tens of structures. There is no
> guarantee that magic numbers are unique in the file. The only means that I
> know to read a binary files is based on structure definitions, values in
> those structures and offsets into the file.
>
> Thanks, Eric
>
>
>
>
> On Wed, Mar 2, 2011 at 9:52 PM, Jim Idle <jimi at temporal-wave.com> wrote:
>
>> That's because what you ask for is not the right way to do it. As per
>> prior posts ad nausea (as Private Eye would say), you should be as loose
>> as you can be with the syntax rules and make lots of semantic checks in a
>> later pass. If you do what you are asking for you will end up with an
>> error message such as:
>>
>> Syntax error at 2B, not expecting 2B, expecting ';'
>>
>> Whereas with a semantic check, you will parse as many as you see and
>> produce a tree (or you could issue this in the parser but best not to
>> really), that with a verification walk says:
>>
>> ... 33 44 55 66 2B 43 33 ;
>>                ^^^^^^^^
>>
>> Too many bytes specified, there can be only 4 and you have 7.
>>
>> You will also maximize the number of real errors that you can capture in
>> one pass.
>>
>> Jim
>>
>> > -----Original Message-----
>> > From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
>> > bounces at antlr.org] On Behalf Of The Researcher
>> > Sent: Wednesday, March 02, 2011 6:09 PM
>> > To: antlr-interest at antlr.org
>> > Subject: [antlr-interest] ANTLR 3 matching an exact number or bounded
>> > number of items
>> >
>> > Does ANTLR 3 have built-in support for matching an exact number or
>> > bounded number of items that does not rely on using {...}?=>
>> >
>> > e.g for a 32 bit value of four bytes the rule statement would be
>> >     byte[4]
>> >
>> > or for an a structure that has a bound of elements between 1 and 16 the
>> > rule statement would be
>> >     struc[1:16]
>> > While ANTLR 3 uses [ ] for rule parameters, here [ ] is used to signify
>> > element bounds.
>> >
>> > I have looked high and low for this, and found nothing tangible.
>> >
>> > Abusing {...}?=> works, but I would like to stop abusing it.
>> >
>>  > List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> > Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
>> > email-address
>>
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe:
>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>
>
>

From miller.garym at gmail.com  Thu Mar  3 22:40:55 2011
From: miller.garym at gmail.com (Gary Miller)
Date: Fri, 4 Mar 2011 17:40:55 +1100
Subject: [antlr-interest] Grammar to parser a Tree syntax
Message-ID: <AANLkTikyZ+HEcZiazUek8hK+TkEuNNTE8AoHLbDzEzz2@mail.gmail.com>

Hey All,

I'm looking for some feedback on a grammar that creates an AST for a
simple syntax representing a tree.

Tr.g & TrWalker.g
http://pastie.org/1631538

See some examples string and tree string representations below.

The question I have is
A{B}
  1. => (TREE A (NODE B))
better then
  2. => (TREE A (TREE (NODE B)))

If so any suggestions on to generate version 1.

Thanks
Gary

Some examples
A{B C D E} => (TREE A (TREE (NODE B) (NODE C) (NODE D) (NODE E)))
A{B { C } D E} => (TREE A (TREE (NODE B) (TREE (NODE C)) (NODE D) (NODE E)))
A{B { C D } E} => (TREE A (TREE (NODE B) (TREE (NODE C) (NODE D)) (NODE E)))
A{B { C { D } } E} => (TREE A (TREE (NODE B) (TREE (NODE C) (TREE
(NODE D))) (NODE E)))
A{B { C { D { E } } } } => (TREE A (TREE (NODE B) (TREE (NODE C) (TREE
(NODE D) (TREE (NODE E))))))

From lefevrol at yahoo.com  Fri Mar  4 00:02:47 2011
From: lefevrol at yahoo.com (Olivier Lefevre)
Date: Fri, 04 Mar 2011 09:02:47 +0100
Subject: [antlr-interest] [SPAM] Syntax ambiguity?
Message-ID: <ikq6bb$mlt$1@dough.gmane.org>

Sorry, the subject is not very informational but I cannot
get the hang of the problem, so I cannot devise a better
subject. I have this small grammar:

   grammar Gr3;

   options { output=AST; }

   stat : fun1 | fun2 ;
   fun1 : 'fun1(' ID1 ')' ;
   fun2 : 'fun2(' ID2 ')' ;

   fragment DIGIT  : '0'..'9' ;
   fragment LETTER : ('a'..'z' | 'A'..'Z') ;

   ID1 : (DIGIT | LETTER)+ ;
   ID2 : (DIGIT | LETTER | '_' | '-' | '.')+ ;
   WS  : (' '|'\t')+ { skip(); } ;

It can recognize, say, fun1(AB) and fun2(AB_CD) as expected
but not fun2(AB), which should also be valid since AB matches
both ID1 or ID2. Rewriting fun2 as

   fun2 : 'fun2(' (ID1 | ID2) ')' ;

works but is not satisfactory because I want an ID2 as fun2
argument, not an ID1. So, how can I force ANTLR to "consider"
ID1 in this position?

Thanks,

-- O.L.


From cummings at kjchome.homeip.net  Fri Mar  4 00:27:13 2011
From: cummings at kjchome.homeip.net (Kevin J. Cummings)
Date: Fri, 04 Mar 2011 03:27:13 -0500
Subject: [antlr-interest] [SPAM]  [SPAM] Syntax ambiguity?
In-Reply-To: <ikq6bb$mlt$1@dough.gmane.org>
References: <ikq6bb$mlt$1@dough.gmane.org>
Message-ID: <4D70A261.8000302@kjchome.homeip.net>

On 03/04/2011 03:02 AM, Olivier Lefevre wrote:
> Sorry, the subject is not very informational but I cannot
> get the hang of the problem, so I cannot devise a better
> subject. I have this small grammar:
> 
>    grammar Gr3;
> 
>    options { output=AST; }
> 
>    stat : fun1 | fun2 ;
>    fun1 : 'fun1(' ID1 ')' ;
>    fun2 : 'fun2(' ID2 ')' ;
> 
>    fragment DIGIT  : '0'..'9' ;
>    fragment LETTER : ('a'..'z' | 'A'..'Z') ;
> 
>    ID1 : (DIGIT | LETTER)+ ;
>    ID2 : (DIGIT | LETTER | '_' | '-' | '.')+ ;
>    WS  : (' '|'\t')+ { skip(); } ;
> 
> It can recognize, say, fun1(AB) and fun2(AB_CD) as expected
> but not fun2(AB), which should also be valid since AB matches
> both ID1 or ID2. Rewriting fun2 as
> 
>    fun2 : 'fun2(' (ID1 | ID2) ')' ;
> 
> works but is not satisfactory because I want an ID2 as fun2
> argument, not an ID1. So, how can I force ANTLR to "consider"
> ID1 in this position?

The usual answer would be to rewrite ID1 and ID2 as:

fragment ID2 : ;
ID1 : ( DIGIT | LETTER | ( '_' | '-' | '.' ) { $type = ID2; } )
    ;

The problem is that if only ID2 types are legal in fun2, you might end
up with an ID1 in a fun2 which you would have to change the type of "on
the fly" to ID2, even though the token was lexed as ID1.

> Thanks,
> 
> -- O.L.

I hope this helps....

-- 
Kevin J. Cummings
kjchome at verizon.net
cummings at kjchome.homeip.net
cummings at kjc386.framingham.ma.us
Registered Linux User #1232 (http://counter.li.org)

From cummings at kjchome.homeip.net  Fri Mar  4 00:33:44 2011
From: cummings at kjchome.homeip.net (Kevin J. Cummings)
Date: Fri, 04 Mar 2011 03:33:44 -0500
Subject: [antlr-interest] [SPAM]  [SPAM] Syntax ambiguity?
In-Reply-To: <ikq6bb$mlt$1@dough.gmane.org>
References: <ikq6bb$mlt$1@dough.gmane.org>
Message-ID: <4D70A3E8.2040905@kjchome.homeip.net>

On 03/04/2011 03:02 AM, Olivier Lefevre wrote:
> Sorry, the subject is not very informational but I cannot
> get the hang of the problem, so I cannot devise a better
> subject. I have this small grammar:
> 
>    grammar Gr3;
> 
>    options { output=AST; }
> 
>    stat : fun1 | fun2 ;
>    fun1 : 'fun1(' ID1 ')' ;
>    fun2 : 'fun2(' ID2 ')' ;
> 
>    fragment DIGIT  : '0'..'9' ;
>    fragment LETTER : ('a'..'z' | 'A'..'Z') ;
> 
>    ID1 : (DIGIT | LETTER)+ ;
>    ID2 : (DIGIT | LETTER | '_' | '-' | '.')+ ;
>    WS  : (' '|'\t')+ { skip(); } ;
> 
> It can recognize, say, fun1(AB) and fun2(AB_CD) as expected
> but not fun2(AB), which should also be valid since AB matches
> both ID1 or ID2. Rewriting fun2 as
> 
>    fun2 : 'fun2(' (ID1 | ID2) ')' ;
> 
> works but is not satisfactory because I want an ID2 as fun2
> argument, not an ID1. So, how can I force ANTLR to "consider"
> ID1 in this position?

Sorry,
	After reading what I wrote (of course after I sent it) and re-reading
what you wanted, I will offer up the following "different" solution:

You could change fun2 to:

fun2 : 'fun2(' (id1=ID1 { id1.setType(ID2); } | ID2 ) ')' ;

Now, you will always have an ID2 in fun2....  Even if it was lexed as
ID1, it would be changed during the parser to an ID2 so your tree parser
will always see an ID2.

> Thanks,
> 
> -- O.L.
> 
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


-- 
Kevin J. Cummings
kjchome at verizon.net
cummings at kjchome.homeip.net
cummings at kjc386.framingham.ma.us
Registered Linux User #1232 (http://counter.li.org)

From antlr at xrad.org  Fri Mar  4 03:28:18 2011
From: antlr at xrad.org (Conrad Hughes)
Date: Fri, 04 Mar 2011 11:28:18 +0000
Subject: [antlr-interest] Template rewriting: processing lists of things
	(possible bug?)
Message-ID: <E1PvTBD-0005eB-2W@mouse.home.xrad.org>


Dear all,

I'm using ANTLR 3.3.  In a template rewriting grammar, structures like

  rule: l+=otherRule+

create a list of nulls in $l if otherRule isn't a template rewrite.
This seems undesirable behaviour since I'd've thought that unrewritten
rules should just appear in $l as their original text?  Am I doing
something wrong, is it correct behaviour (in which case, is there an
explanation as to why it's correct please?) or is it a bug?

Below is a grammar playing around with this; to clearly separate
behaviour, I treat lower case words as tokens, rewrite upper case words
and don't rewrite numbers.  I then play with collections of all three.
My sample input is:

  hi there
  123 456
  THIRD LIST
  ; mixture 07 THINGS
  ; MY 2 mixture
  ; version 3 MIXTURE

After the three "pure" collections, I try mixing them up.  I've come up
with two ways of rewriting a list containing a mixture of rules,
rewrites and tokens (I know ANTLR refuses to mix tokens and rules in its
own lists):

  - one (mix) is to insert a new rule (mixItem) which turns everything
    in the mixture into a template (which seems like a lot of work ---
    is there a templating shorthand for rewriting a rule to its
    identical self?);
  - another (hackMix) is to manually build the list using rule.text to
    work around the rules-turn-into-nulls problem.
  - I also sketch an "idealMix" rule which doesn't work.

Is there a version of idealMix which does work and is less messy than
mix or hackMix please?

Any suggestions gratefully received...
Conrad

grammar PlusEquals;

options {
  output = template;
  rewrite = true;
}

file    : tokeNs rules rewrites ';' mix ';' hackMix ';' idealMix ;

// To collect some tokens, you need <it.text>.  input -> output:
//    hi there -> Tokens (2): ["hi", "there"]
tokeNs  : (w+=TOKEN)+
          -> template(w={$w})
             "Tokens (<length(w)>): [<w:{\"<it.text>\"};separator={, }>]"
        ;

TOKEN   : ('a'..'z')+ ;

// You can't collect rules: $w contains a list of nulls.  input -> output:
//   123 456 -> Rules (2): []
rules   : (w+=rule)+
          -> template(w={$w})
             "Rules (<length(w)>): [<w:{\"<it>\"};separator={, }>]"
        ;

rule    : NUMBER ;
NUMBER  : ('0'..'9')+ ;

// To collect rewrites, you just use <it> directly.  input -> output:
//   THIRD LIST -> Rewrites (2): ["THIRD", "LIST"]
rewrites: (w+=rewrite)+
          -> template(w={$w})
             "Rewrites (<length(w)>): [<w:{<it>};separator={, }>]"
        ;

rewrite : CAPS -> template(w={$text}) "\"<w>\"" ;
CAPS    : ('A'..'Z')+ ;

// Because rules don't seem to accumulate right, turn everything into rewrites:
//   mixture 07 THINGS ->
//     Mixture (3): [Token:"mixture", Rule:"07", Rewrite:"THINGS"]
mix     : (w+=mixItem)+
          -> template(w={$w})
             "Mixture (<length(w)>): [<w:{<it>};separator={, }>]"
        ;

mixItem : rule -> template(w={$text}) "Rule:\"<w>\""
        | rewrite -> template(w={$text}) "Rewrite:<w>"
        | TOKEN -> template(w={$text}) "Token:\"<w>\""
        ;

// Build list manually; possible to avoid creating hackMixItem?
//   My 2 mixture -> Hacky mixture (3): ["MY", 2, mixture]
hackMix returns [List w = new ArrayList()]: (hackMixItem { $w.add($hackMixItem.text); })+
          -> template(w={$w})
             "Hacky mixture (<length(w)>): [<w:{<it>};separator={, }>]"
        ;

hackMixItem : rule | rewrite | TOKEN ;

// Doesn't work; no idea whether anything like it could.
//   version 3 MIXTURE -> Ideal mix (0): []
// I know ANTLR stops you from mixing tokens and rules in one list anyway.
idealMix : (w+=(rule | rewrite | TOKEN))+
          -> template(w={$w})
             "Ideal mix (<length(w)>): [<w:{<it>};separator={, }>]"
        ;

WS      : (' '|'\t'|'\n')+ {$channel=HIDDEN;} ;

From g4 at novadsp.com  Fri Mar  4 09:53:59 2011
From: g4 at novadsp.com (g4 at novadsp.com)
Date: Fri, 04 Mar 2011 17:53:59 +0000
Subject: [antlr-interest] Tree grammar for expression subrules?
Message-ID: <4D712737.7090104@novadsp.com>

Is there a pattern to follow for creating tree grammars for subrules?

// parser rule. this works.
expression
     : (a=term -> $a) ( ( '|' b=term -> ^(OR $expression $b)
                        | '|'        -> ^(OR $expression EPSILON)
                        )
                      )*
     ;

// tree grammar 1, based on CMinus example in the book.Throws a 
MismatchedTreeNodeException complaining about lack of
// 'UP' at SEQUENCE_EXPR
expression
     : IF_ACTION
     | ID
     | ID ATTRIBUTES
     | STRINGLITERAL
     | EPSILON
     | ^(GROUPED_EXPR expression)
     | ^(OPTIONAL_EXPR expression)
     | ^(SEQUENCE_EXPR expression)
     ;

Any pointers welcomed. Thx++

Jerry



From juanmcam at gmail.com  Fri Mar  4 09:59:35 2011
From: juanmcam at gmail.com (=?ISO-8859-1?Q?Juan_Manuel_C=E1mara?=)
Date: Fri, 4 Mar 2011 14:59:35 -0300
Subject: [antlr-interest] How to get the complete syntax tree
In-Reply-To: <AANLkTik89Umst0_tjN+SXh+7ocV=qUfDPhGyigbEA8rc@mail.gmail.com>
References: <AANLkTikmkFKENHQgRO9sb0KWyyLXjy_kxp5jn8XMsY-5@mail.gmail.com>
	<AANLkTik89Umst0_tjN+SXh+7ocV=qUfDPhGyigbEA8rc@mail.gmail.com>
Message-ID: <AANLkTi=yGrhZ04HP3Aq+Zy7g94aG_+WvXNhit01_CNXX@mail.gmail.com>

Thank you Bart,
your post at stackoverflow.com was exactly what I was looking for.
The explanation is very clear.
Thanks!

El 3 de marzo de 2011 19:22, Bart Kiers <bkiers at gmail.com> escribi?:

>
> Hi,
>
> 2011/3/3 Juan Manuel C?mara <juanmcam at gmail.com>
>
>> ...
>>
>> The Parser works fine, but its return is a flat tree, all tokens are
>> childs
>> of the root.
>>
>> Is this the normal use?
>> Can someone guess what I'm doing wrong, or tell me the way to get the
>> complete tree? ...
>>
>
> _You_ need to tell how the tree looks like.
>
> See: http://www.antlr.org/wiki/display/ANTLR3/Tree+construction
>  <http://www.antlr.org/wiki/display/ANTLR3/Tree+construction>And/or:
> http://stackoverflow.com/questions/4931346/how-to-output-the-ast-built-using-antlr
>
>
> <http://stackoverflow.com/questions/4931346/how-to-output-the-ast-built-using-antlr>
> Regards,
>
> Bart.
>
>

From parrt at cs.usfca.edu  Fri Mar  4 10:25:14 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Fri, 4 Mar 2011 10:25:14 -0800
Subject: [antlr-interest] Template rewriting: processing lists of things
	(possible bug?)
In-Reply-To: <E1PvTBD-0005eB-2W@mouse.home.xrad.org>
References: <E1PvTBD-0005eB-2W@mouse.home.xrad.org>
Message-ID: <B04F32D3-9BFE-4107-A173-89F1182FBC79@cs.usfca.edu>

hi. Rules do not return templates by default; you have to set them. any that does not returns a null, hence, the list of  nulls you get :)
Ter
On Mar 4, 2011, at 3:28 AM, Conrad Hughes wrote:

> 
> Dear all,
> 
> I'm using ANTLR 3.3.  In a template rewriting grammar, structures like
> 
>  rule: l+=otherRule+
> 
> create a list of nulls in $l if otherRule isn't a template rewrite.
> This seems undesirable behaviour since I'd've thought that unrewritten
> rules should just appear in $l as their original text?  Am I doing
> something wrong, is it correct behaviour (in which case, is there an
> explanation as to why it's correct please?) or is it a bug?
> 
> Below is a grammar playing around with this; to clearly separate
> behaviour, I treat lower case words as tokens, rewrite upper case words
> and don't rewrite numbers.  I then play with collections of all three.
> My sample input is:
> 
>  hi there
>  123 456
>  THIRD LIST
>  ; mixture 07 THINGS
>  ; MY 2 mixture
>  ; version 3 MIXTURE
> 
> After the three "pure" collections, I try mixing them up.  I've come up
> with two ways of rewriting a list containing a mixture of rules,
> rewrites and tokens (I know ANTLR refuses to mix tokens and rules in its
> own lists):
> 
>  - one (mix) is to insert a new rule (mixItem) which turns everything
>    in the mixture into a template (which seems like a lot of work ---
>    is there a templating shorthand for rewriting a rule to its
>    identical self?);
>  - another (hackMix) is to manually build the list using rule.text to
>    work around the rules-turn-into-nulls problem.
>  - I also sketch an "idealMix" rule which doesn't work.
> 
> Is there a version of idealMix which does work and is less messy than
> mix or hackMix please?
> 
> Any suggestions gratefully received...
> Conrad
> 
> grammar PlusEquals;
> 
> options {
>  output = template;
>  rewrite = true;
> }
> 
> file    : tokeNs rules rewrites ';' mix ';' hackMix ';' idealMix ;
> 
> // To collect some tokens, you need <it.text>.  input -> output:
> //    hi there -> Tokens (2): ["hi", "there"]
> tokeNs  : (w+=TOKEN)+
>          -> template(w={$w})
>             "Tokens (<length(w)>): [<w:{\"<it.text>\"};separator={, }>]"
>        ;
> 
> TOKEN   : ('a'..'z')+ ;
> 
> // You can't collect rules: $w contains a list of nulls.  input -> output:
> //   123 456 -> Rules (2): []
> rules   : (w+=rule)+
>          -> template(w={$w})
>             "Rules (<length(w)>): [<w:{\"<it>\"};separator={, }>]"
>        ;
> 
> rule    : NUMBER ;
> NUMBER  : ('0'..'9')+ ;
> 
> // To collect rewrites, you just use <it> directly.  input -> output:
> //   THIRD LIST -> Rewrites (2): ["THIRD", "LIST"]
> rewrites: (w+=rewrite)+
>          -> template(w={$w})
>             "Rewrites (<length(w)>): [<w:{<it>};separator={, }>]"
>        ;
> 
> rewrite : CAPS -> template(w={$text}) "\"<w>\"" ;
> CAPS    : ('A'..'Z')+ ;
> 
> // Because rules don't seem to accumulate right, turn everything into rewrites:
> //   mixture 07 THINGS ->
> //     Mixture (3): [Token:"mixture", Rule:"07", Rewrite:"THINGS"]
> mix     : (w+=mixItem)+
>          -> template(w={$w})
>             "Mixture (<length(w)>): [<w:{<it>};separator={, }>]"
>        ;
> 
> mixItem : rule -> template(w={$text}) "Rule:\"<w>\""
>        | rewrite -> template(w={$text}) "Rewrite:<w>"
>        | TOKEN -> template(w={$text}) "Token:\"<w>\""
>        ;
> 
> // Build list manually; possible to avoid creating hackMixItem?
> //   My 2 mixture -> Hacky mixture (3): ["MY", 2, mixture]
> hackMix returns [List w = new ArrayList()]: (hackMixItem { $w.add($hackMixItem.text); })+
>          -> template(w={$w})
>             "Hacky mixture (<length(w)>): [<w:{<it>};separator={, }>]"
>        ;
> 
> hackMixItem : rule | rewrite | TOKEN ;
> 
> // Doesn't work; no idea whether anything like it could.
> //   version 3 MIXTURE -> Ideal mix (0): []
> // I know ANTLR stops you from mixing tokens and rules in one list anyway.
> idealMix : (w+=(rule | rewrite | TOKEN))+
>          -> template(w={$w})
>             "Ideal mix (<length(w)>): [<w:{<it>};separator={, }>]"
>        ;
> 
> WS      : (' '|'\t'|'\n')+ {$channel=HIDDEN;} ;
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From bkiers at gmail.com  Fri Mar  4 11:13:12 2011
From: bkiers at gmail.com (Bart Kiers)
Date: Fri, 4 Mar 2011 20:13:12 +0100
Subject: [antlr-interest] Tree grammar for expression subrules?
In-Reply-To: <4D712737.7090104@novadsp.com>
References: <4D712737.7090104@novadsp.com>
Message-ID: <AANLkTincofiCoW02J1=1ziAcLvceLd6YX1PCWexsBwC4@mail.gmail.com>

On Fri, Mar 4, 2011 at 6:53 PM, g4 at novadsp.com <g4 at novadsp.com> wrote:

> Is there a pattern to follow for creating tree grammars for subrules?
>
> // parser rule. this works.
> expression
>     : (a=term -> $a) ( ( '|' b=term -> ^(OR $expression $b)
>                        | '|'        -> ^(OR $expression EPSILON)
>                        )
>                      )*
>     ;
>


I'd expect that to become the tree-grammar rule:

expression
  :  term
  |  ^(OR expression term)
  |  ^(OR expression EPSILON)
  ;



instead of:


>
> // tree grammar 1, based on CMinus example in the book.Throws a
> MismatchedTreeNodeException complaining about lack of
> // 'UP' at SEQUENCE_EXPR
> expression
>     : IF_ACTION
>     | ID
>     | ID ATTRIBUTES
>     | STRINGLITERAL
>     | EPSILON
>     | ^(GROUPED_EXPR expression)
>     | ^(OPTIONAL_EXPR expression)
>     | ^(SEQUENCE_EXPR expression)
>     ;
>
>
Regards,

Bart.

From lefevrol at yahoo.com  Fri Mar  4 12:28:13 2011
From: lefevrol at yahoo.com (Olivier Lefevre)
Date: Fri, 04 Mar 2011 21:28:13 +0100
Subject: [antlr-interest] [SPAM] Re: [SPAM]  [SPAM] Syntax ambiguity?
In-Reply-To: <4D70A3E8.2040905@kjchome.homeip.net>
References: <ikq6bb$mlt$1@dough.gmane.org>
	<4D70A3E8.2040905@kjchome.homeip.net>
Message-ID: <ikri10$ntq$1@dough.gmane.org>

First, a correction. I wrote: So, how can I force ANTLR to
"consider" ID1 in this position? I meant ID2, of course.

On 3/4/2011 9:33 AM, Kevin J. Cummings wrote:
> fun2 : 'fun2(' (id1=ID1 { id1.setType(ID2); } | ID2 ) ')' ;

This is a perfectly good solution, thanks! It's a pity the
ANTLR book doesn't mention this technique.

Just for my understanding of ANTLR, though, I wonder if
there isn't a solution at the lexer level: some way to tell
the lexer that if it sees a 'fun2(' then it *must* look for
an ID2 next.

Regards,

-- O.L.


From cummings at kjchome.homeip.net  Fri Mar  4 12:32:07 2011
From: cummings at kjchome.homeip.net (Kevin J. Cummings)
Date: Fri, 04 Mar 2011 15:32:07 -0500
Subject: [antlr-interest] [SPAM] [SPAM] Re: [SPAM] [SPAM] Syntax
	ambiguity?
In-Reply-To: <ikri10$ntq$1@dough.gmane.org>
References: <ikq6bb$mlt$1@dough.gmane.org>
	<4D70A3E8.2040905@kjchome.homeip.net> <ikri10$ntq$1@dough.gmane.org>
Message-ID: <4D714C47.8080103@kjchome.homeip.net>

On 03/04/2011 03:28 PM, Olivier Lefevre wrote:
> Just for my understanding of ANTLR, though, I wonder if
> there isn't a solution at the lexer level: some way to tell
> the lexer that if it sees a 'fun2(' then it *must* look for
> an ID2 next.

That would involve the lexer knowing something about the parsing
context, which it doesn't.  Your entire character stream gets tokenized
before the parser even gets run....

> Regards,
> 
> -- O.L.
> 
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


-- 
Kevin J. Cummings
kjchome at verizon.net
cummings at kjchome.homeip.net
cummings at kjc386.framingham.ma.us
Registered Linux User #1232 (http://counter.li.org)

From felix.natter at smail.inf.fh-brs.de  Fri Mar  4 13:26:57 2011
From: felix.natter at smail.inf.fh-brs.de (Felix Natter)
Date: Fri, 04 Mar 2011 22:26:57 +0100
Subject: [antlr-interest] Updated CSharp2 Runtime in "main"?
Message-ID: <874o7i8tlq.fsf@smail.inf.fh-brs.de>

hello,

Is there a development version with updated CSharp2 runtime?
I cannot get it to work at all :-/

I found the snapshots:
  http://www.antlr.org/depot/antlr3//main/target/antlr-master-3.3.1-SNAPSHOT-src.jar
but they do not contain the runtimes other than the java one.

Another question: Would it be useful to switch to ANTLR3.1 because .NET
binaries exist?

Thanks!
-- 
Felix Natter


From g4 at novadsp.com  Fri Mar  4 14:23:44 2011
From: g4 at novadsp.com (g4 at novadsp.com)
Date: Fri, 04 Mar 2011 22:23:44 +0000
Subject: [antlr-interest] Tree grammar for expression subrules?
In-Reply-To: <AANLkTincofiCoW02J1=1ziAcLvceLd6YX1PCWexsBwC4@mail.gmail.com>
References: <4D712737.7090104@novadsp.com>
	<AANLkTincofiCoW02J1=1ziAcLvceLd6YX1PCWexsBwC4@mail.gmail.com>
Message-ID: <4D716670.1080505@novadsp.com>


On 04/03/2011 19:13, Bart Kiers wrote:

>> I'd expect that to become the tree-grammar rule:
>>
>>     expression
>>        :  term
>>        |  ^(OR expression term)
>>        |  ^(OR expression EPSILON)
>>        ;

Hello Bart

Once again, extremely useful input. Thanks. My question though still 
stands. Cannot discern any pattern in writing the tree rules as, for 
example, this seems to violate cardinality ... or does it?



From lefevrol at yahoo.com  Fri Mar  4 16:47:40 2011
From: lefevrol at yahoo.com (Olivier Lefevre)
Date: Sat, 05 Mar 2011 01:47:40 +0100
Subject: [antlr-interest] [SPAM] Re: [SPAM] [SPAM] Re: [SPAM] [SPAM] Syntax
	ambiguity?
In-Reply-To: <4D714C47.8080103@kjchome.homeip.net>
References: <ikq6bb$mlt$1@dough.gmane.org>	<4D70A3E8.2040905@kjchome.homeip.net>
	<ikri10$ntq$1@dough.gmane.org>
	<4D714C47.8080103@kjchome.homeip.net>
Message-ID: <iks17g$c3c$1@dough.gmane.org>

On 3/4/2011 9:32 PM, Kevin J. Cummings wrote:
> That would involve the lexer knowing something about the parsing
> context, which it doesn't.  Your entire character stream gets
> tokenized before the parser even gets run....

I see. I thought cases like this might be an argument for a combined
lexer-parser but I have since found the notes where TP argues it:
http://www.antlr.org/blog/antlr3/lexical.tml

-- O.L.


From g4 at novadsp.com  Fri Mar  4 17:18:04 2011
From: g4 at novadsp.com (g4 at novadsp.com)
Date: Sat, 05 Mar 2011 01:18:04 +0000
Subject: [antlr-interest] Updated CSharp2 Runtime in "main"?
In-Reply-To: <874o7i8tlq.fsf@smail.inf.fh-brs.de>
References: <874o7i8tlq.fsf@smail.inf.fh-brs.de>
Message-ID: <4D718F4C.4090306@novadsp.com>

Felix

>> Is there a development version with updated CSharp2 runtime?

I've been able to use the CSharp2 run-time with the following changes, 
the original code was pulled as a tarball from Atlassian:

* Atlassian CSharp2 running is missing the IASTRuleReturnScope file. 
Implemented as

namespace Antlr.Runtime
{
     /** <summary>AST rules have trees</summary> */
     public interface IAstRuleReturnScope<T>
     {
         /** <summary>Has a value potentially if output=AST;</summary> */
         object Tree
         {
             get;
         }
     }
}

* The following typo appears to be in all versions of the VS2008 .csproj 
files (the file does not exist either):

   <Compile Include="IAstRuleReturnScope`1.cs" />

HTH

On 04/03/2011 21:26, Felix Natter wrote:
> hello,
>
> Is there a development version with updated CSharp2 runtime?
> I cannot get it to work at all :-/
>
> I found the snapshots:
>    http://www.antlr.org/depot/antlr3//main/target/antlr-master-3.3.1-SNAPSHOT-src.jar
> but they do not contain the runtimes other than the java one.
>
> Another question: Would it be useful to switch to ANTLR3.1 because .NET
> binaries exist?
>
> Thanks!



From lefevrol at yahoo.com  Fri Mar  4 17:25:24 2011
From: lefevrol at yahoo.com (Olivier Lefevre)
Date: Sat, 05 Mar 2011 02:25:24 +0100
Subject: [antlr-interest] [SPAM] Re: Syntax ambiguity?
In-Reply-To: <iks17g$c3c$1@dough.gmane.org>
References: <ikq6bb$mlt$1@dough.gmane.org>	<4D70A3E8.2040905@kjchome.homeip.net>	<ikri10$ntq$1@dough.gmane.org>	<4D714C47.8080103@kjchome.homeip.net>
	<iks17g$c3c$1@dough.gmane.org>
Message-ID: <iks3e6$l51$1@dough.gmane.org>

> I see. I thought cases like this might be an argument for a combined
> lexer-parser but I have since found the notes where TP argues it:

against it, I meant.


From lefevrol at yahoo.com  Fri Mar  4 17:53:22 2011
From: lefevrol at yahoo.com (Olivier Lefevre)
Date: Sat, 05 Mar 2011 02:53:22 +0100
Subject: [antlr-interest] [SPAM] Re: C# Target: Problems with Mono
In-Reply-To: <874o7mk13i.fsf@smail.inf.fh-brs.de>
References: <874o7mk13i.fsf@smail.inf.fh-brs.de>
Message-ID: <iks52p$rlr$1@dough.gmane.org>

On 3/1/2011 10:00 PM, Felix Natter wrote:
> I am trying to generate C# code from my grammar for use with Mono2 (v1.9).
 >
> ** (Antlr3.exe:4230): WARNING **: Missing method System.Reflection.Emit.DynamicMethod::.ctor(string,Type,Type[])

1) The Mono team is quite candid about what is missing:
    http://www.go-mono.com/status/ (System.Reflection can be found under mscorlib)
2) Mono 2.1.9 is ancient: the long-term and current stable versions are 2.6.7 and
    2.10.1: http://www.go-mono.com/mono-downloads/download.html
3) Has anyone run the ANTLR C# runtime through Moma, the Mono Migration Analyzer?
    http://mono-project.com/Moma

-- O.L.


From felix.natter at smail.inf.fh-brs.de  Sat Mar  5 07:24:41 2011
From: felix.natter at smail.inf.fh-brs.de (Felix Natter)
Date: Sat, 05 Mar 2011 16:24:41 +0100
Subject: [antlr-interest] [SPAM] [SPAM] Re: C# Target: Problems with Mono
References: <874o7mk13i.fsf@smail.inf.fh-brs.de> <iks52p$rlr$1@dough.gmane.org>
Message-ID: <87tyfhh9om.fsf@smail.inf.fh-brs.de>

Olivier Lefevre <lefevrol at yahoo.com>
writes:

> On 3/1/2011 10:00 PM, Felix Natter wrote:
>> I am trying to generate C# code from my grammar for use with Mono2 (v1.9).
>  >
>> ** (Antlr3.exe:4230): WARNING **: Missing method System.Reflection.Emit.DynamicMethod::.ctor(string,Type,Type[])
>
> 1) The Mono team is quite candid about what is missing:
>     http://www.go-mono.com/status/ (System.Reflection can be found under mscorlib)
> 2) Mono 2.1.9 is ancient: the long-term and current stable versions
>     are 2.6.7 and

Thanks for the hint. Yesterday I upgraded to Mono 2.6.7 (backport from
Debian squeeze, I haven't yet upgraded) and it seems I can now use the
CSharp3 target by loading the .sln in monodevelop (but I have yet to
test this more thoroughly).

But I am quite sure that the CSharp2 target in ANTLR 3.3 is broken
(but, as a last resort, the CSharp target in ANTLR 3.1 seems to work).

>     2.10.1: http://www.go-mono.com/mono-downloads/download.html
> 3) Has anyone run the ANTLR C# runtime through Moma, the Mono Migration Analyzer?
>     http://mono-project.com/Moma

That would be interesting.

Greetings,
-- 
Felix Natter


From sharwell at pixelminegames.com  Sat Mar  5 08:31:42 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Sat, 5 Mar 2011 10:31:42 -0600
Subject: [antlr-interest] [SPAM] [SPAM] Re: C# Target: Problems with Mono
In-Reply-To: <87tyfhh9om.fsf@smail.inf.fh-brs.de>
References: <874o7mk13i.fsf@smail.inf.fh-brs.de> <iks52p$rlr$1@dough.gmane.org>
	<87tyfhh9om.fsf@smail.inf.fh-brs.de>
Message-ID: <024801cbdb52$d064a890$712df9b0$@pixelminegames.com>

The CSharp2 target is currently broken, but it's in the process of getting
fixed. The maintainer has been very busy, and it's been especially difficult
given the extra features I've recently added to the CSharp3 target which
aren't supported in C# 2.

Sam

-----Original Message-----
From: antlr-interest-bounces at antlr.org
[mailto:antlr-interest-bounces at antlr.org] On Behalf Of Felix Natter
Sent: Saturday, March 05, 2011 9:25 AM
To: antlr-interest at antlr.org
Subject: Re: [antlr-interest] [SPAM] [SPAM] Re: C# Target: Problems with
Mono

Olivier Lefevre <lefevrol at yahoo.com>
writes:

> On 3/1/2011 10:00 PM, Felix Natter wrote:
>> I am trying to generate C# code from my grammar for use with Mono2
(v1.9).
>  >
>> ** (Antlr3.exe:4230): WARNING **: Missing method 
>> System.Reflection.Emit.DynamicMethod::.ctor(string,Type,Type[])
>
> 1) The Mono team is quite candid about what is missing:
>     http://www.go-mono.com/status/ (System.Reflection can be found 
> under mscorlib)
> 2) Mono 2.1.9 is ancient: the long-term and current stable versions
>     are 2.6.7 and

Thanks for the hint. Yesterday I upgraded to Mono 2.6.7 (backport from
Debian squeeze, I haven't yet upgraded) and it seems I can now use the
CSharp3 target by loading the .sln in monodevelop (but I have yet to test
this more thoroughly).

But I am quite sure that the CSharp2 target in ANTLR 3.3 is broken (but, as
a last resort, the CSharp target in ANTLR 3.1 seems to work).

>     2.10.1: http://www.go-mono.com/mono-downloads/download.html
> 3) Has anyone run the ANTLR C# runtime through Moma, the Mono Migration
Analyzer?
>     http://mono-project.com/Moma

That would be interesting.

Greetings,
--
Felix Natter


List: http://www.antlr.org/mailman/listinfo/antlr-interest
Unsubscribe:
http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From g4 at novadsp.com  Sat Mar  5 08:33:52 2011
From: g4 at novadsp.com (g4 at novadsp.com)
Date: Sat, 05 Mar 2011 16:33:52 +0000
Subject: [antlr-interest] CSharp 2 - IToken::TokenIndex clarification
Message-ID: <4D7265F0.1090801@novadsp.com>


From bkiers at gmail.com  Sat Mar  5 09:09:01 2011
From: bkiers at gmail.com (Bart Kiers)
Date: Sat, 5 Mar 2011 18:09:01 +0100
Subject: [antlr-interest] Tree grammar for expression subrules?
In-Reply-To: <4D716670.1080505@novadsp.com>
References: <4D712737.7090104@novadsp.com>
	<AANLkTincofiCoW02J1=1ziAcLvceLd6YX1PCWexsBwC4@mail.gmail.com>
	<4D716670.1080505@novadsp.com>
Message-ID: <AANLkTinQYBgJSdh4QhW7Uooq0iD4ytEuBaOzrkijRf99@mail.gmail.com>

On Fri, Mar 4, 2011 at 11:23 PM, g4 at novadsp.com <g4 at novadsp.com> wrote:

>
> On 04/03/2011 19:13, Bart Kiers wrote:
>
>  I'd expect that to become the tree-grammar rule:
>>>
>>>    expression
>>>       :  term
>>>       |  ^(OR expression term)
>>>       |  ^(OR expression EPSILON)
>>>       ;
>>>
>>
> Hello Bart
>
> Once again, extremely useful input. Thanks. My question though still
> stands. Cannot discern any pattern in writing the tree rules as, for
> example, this seems to violate cardinality ... or does it?
>
>
>
Hi, I'm starting to hesitate. Could you send your combined- or
parser-grammar that produces the AST? I'll have a look at it to see if I can
create a tree grammar (with a bit of comments).

Regards,

Bart.

From douglasgodfrey at gmail.com  Sat Mar  5 09:51:49 2011
From: douglasgodfrey at gmail.com (Douglas Godfrey)
Date: Sat, 5 Mar 2011 12:51:49 -0500
Subject: [antlr-interest] Question about the cost of implementing case
 insensitivity in an Antlr Lexer
Message-ID: <AANLkTikqVmSi=ZiCDV1jh2VkR0o0CRuZK7FBu3=n_VZ8@mail.gmail.com>

What is the relative cost for implementing case insensitive lexer tokens [as
shown below] versus case sensitive tokens?

// case sensitive keywords

GRAPH: 'GRAPH';
DIGRAPH: 'DIGRAPH';
STRICT: 'STRICT';
NODE: 'NODE';
EDGE: 'EDGE';
SUBGRAPH: 'SUBGRAPH';

// case-insensitive keywords

GRAPH: G R A P H;
DIGRAPH: D I G R A P H;
STRICT: S T R I C T;
NODE: N O D E;
EDGE: E D G E;
SUBGRAPH: S U B G R A P H;


fragment A:('a'|'A');
fragment B:('b'|'B');
fragment C:('c'|'C');
fragment D:('d'|'D');
fragment E:('e'|'E');
fragment F:('f'|'F');
fragment G:('g'|'G');
fragment H:('h'|'H');
fragment I:('i'|'I');
fragment J:('j'|'J');
fragment K:('k'|'K');
fragment L:('l'|'L');
fragment M:('m'|'M');
fragment N:('n'|'N');
fragment O:('o'|'O');
fragment P:('p'|'P');
fragment Q:('q'|'Q');
fragment R:('r'|'R');
fragment S:('s'|'S');
fragment T:('t'|'T');
fragment U:('u'|'U');
fragment V:('v'|'V');
fragment W:('w'|'W');
fragment X:('x'|'X');
fragment Y:('y'|'Y');
fragment Z:('z'|'Z');

From jimi at temporal-wave.com  Sat Mar  5 10:34:16 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Sat, 5 Mar 2011 10:34:16 -0800
Subject: [antlr-interest] Tree grammar for expression subrules?
In-Reply-To: <AANLkTinQYBgJSdh4QhW7Uooq0iD4ytEuBaOzrkijRf99@mail.gmail.com>
References: <4D712737.7090104@novadsp.com>	<AANLkTincofiCoW02J1=1ziAcLvceLd6YX1PCWexsBwC4@mail.gmail.com>
	<4D716670.1080505@novadsp.com>
	<AANLkTinQYBgJSdh4QhW7Uooq0iD4ytEuBaOzrkijRf99@mail.gmail.com>
Message-ID: <1576ff546af9175da5b516b673a2ece7@mail.gmail.com>

You write expressions like that in the following way:

expression
 : ^(OR expression expression)
 | term
 ;

term
 : X
 | Y
 | Z
 ;

Then do not create the UPSILON as it will just mislead you. if you feel
you need it then add it to term, which although allowing ^(OR EPSILION
EPSILON) won't happen because you won't produce that tree. However, don't
generally make a token for something that isn't there.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Bart Kiers
> Sent: Saturday, March 05, 2011 9:09 AM
> To: g4 at novadsp.com
> Cc: antlr-interest at antlr.org interest
> Subject: Re: [antlr-interest] Tree grammar for expression subrules?
>
> On Fri, Mar 4, 2011 at 11:23 PM, g4 at novadsp.com <g4 at novadsp.com> wrote:
>
> >
> > On 04/03/2011 19:13, Bart Kiers wrote:
> >
> >  I'd expect that to become the tree-grammar rule:
> >>>
> >>>    expression
> >>>       :  term
> >>>       |  ^(OR expression term)
> >>>       |  ^(OR expression EPSILON)
> >>>       ;
> >>>
> >>
> > Hello Bart
> >
> > Once again, extremely useful input. Thanks. My question though still
> > stands. Cannot discern any pattern in writing the tree rules as, for
> > example, this seems to violate cardinality ... or does it?
> >
> >
> >
> Hi, I'm starting to hesitate. Could you send your combined- or parser-
> grammar that produces the AST? I'll have a look at it to see if I can
> create a tree grammar (with a bit of comments).
>
> Regards,
>
> Bart.
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From themightystephen at googlemail.com  Sat Mar  5 16:08:26 2011
From: themightystephen at googlemail.com (Stephen Tuttlebee)
Date: Sun, 06 Mar 2011 00:08:26 +0000
Subject: [antlr-interest] Tree construction rewrite rule error
Message-ID: <4D72D07A.70005@googlemail.com>

Hi there,

I'm currently using the Java.g parser grammar (by Yang Jiang) from 
http://openjdk.java.net/projects/compiler-grammar/ and am trying to add 
tree construction rewrite rules and operators to build an AST. That's 
quite a job in itself (I'm trying roughly to base it on one I found in 
the mercurial repository on that site that contained actions that 
created a javac-style AST).

Anyway, my specific question relates to the LAST ALTERNATIVE in the 
following rule (from the "expression hierarchy"):

unaryExpressionNotPlusMinus
     :   TILDE unaryExpression -> ^(BITWISE_COMPLEMENT unaryExpression)
     |   BANG unaryExpression -> ^(LOGICAL_COMPLEMENT unaryExpression)
     |   castExpression
     |   {inHandlerDeclaration||inRunMethodDeclaration}?=> 
inSynchronizationExpression // only allowed within handler declarations 
(which in turn are inside component definitions)
     |   primary -> primary
         (selector -> selector[$unaryExpressionNotPlusMinus.tree])*
         (   PLUSPLUS -> ^(POSTINC $unaryExpressionNotPlusMinus)
         |   SUBSUB -> ^(POSTDEC $unaryExpressionNotPlusMinus)
         )?
     ;

The last alternative does look a little complicated but it is basically 
creating a single tree from the 'primary' in case nothing else is 
matched (due to the * and ? that mean we could not match anything), 
while the subsequent rewrite rules (->) within the alternative are 
successively building up the tree by making the tree constructed thus 
far a child of a newly created tree (this is done by referencing the 
rule itself -- referencing $unaryExpressionNotPlusMinus in the context 
of a rewrite rule means "take the current value of the tree of 
unaryExpressionNotPlusMinus").

However, when I run the grammar through ANTLR (3.3) I get the following 
errors:

error(100): /JavaBTranslator/src/JavaBPhase1SynSem1.g:1026:19: syntax 
error: antlr: expecting RPAREN, found '->'
  |---> (selector -> selector[$unaryExpressionNotPlusMinus.tree])*

error(100): /JavaBTranslator/src/JavaBPhase1SynSem1.g:1027:22: syntax 
error: antlr: expecting RPAREN, found '->'
  |---> (   PLUSPLUS -> ^(POSTINC $unaryExpressionNotPlusMinus)

error(10):  internal error: /JavaBTranslator/src/JavaBPhase1SynSem1.g : 
java.lang.NullPointerException
3 errors


It seems that ANTLR does not like the -> that appear in the middle of 
the alternative for some reason. The problem could be a simple ANTLR 
syntax thing which I'm not clear about.

Anyone have any ideas about why I'm getting these errors.

Thanks,
Stephen

PS. also, it seems that coming up with the tree grammar rules to 
recognise the tree might be a little harder than constructing the tree 
in the parser, at least for the more complicated tree rewrite rules like 
this. But I'll have to cross that bridge when I come to it.

From themightystephen at googlemail.com  Sat Mar  5 16:47:57 2011
From: themightystephen at googlemail.com (Stephen Tuttlebee)
Date: Sun, 06 Mar 2011 00:47:57 +0000
Subject: [antlr-interest] Yang's Java.g - tree construction rules
Message-ID: <4D72D9BD.3000308@googlemail.com>

Hello

Does anyone know of a version of the Java.g written by Yang Jiang (see: 
http://openjdk.java.net/projects/compiler-grammar/ and 
http://www.antlr.org/grammar/1152141644268/Java.g) that performs tree 
construction using ANTLR's AST rewrite rules/construction operators 
(plus a tree grammar would be a bonus)?

I found a version of the Java.g parser that does tree construction of 
javac-style trees (required by the javac backend) using actions that 
created custom tree node objects (as opposed to using ANTLR's AST 
rewrite rules/construction operators (see: 
http://hg.openjdk.java.net/compiler-grammar/compiler-grammar/langtools/file/e37d7d5df672/src/share/classes/com/sun/tools/javac/antlr/Java.g). 
I have started going through that grammar and used it to help me work 
out how to build the AST -- however, the code is quite long and I 
thought I'd check if anyone knew of a version of Java.g that contained 
ANTLR-style tree construction before I go any further -- I don't want to 
try to reproduce something that someone else might have already done and 
also likely done a better job at too.

Thanks,
Stephen

From jimi at temporal-wave.com  Sat Mar  5 16:55:43 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Sat, 5 Mar 2011 16:55:43 -0800
Subject: [antlr-interest] Tree construction rewrite rule error
In-Reply-To: <4D72D07A.70005@googlemail.com>
References: <4D72D07A.70005@googlemail.com>
Message-ID: <d47309424ee56b788c32c833c6201d1a@mail.gmail.com>

You are just getting that because you need the rewrite at the end of an
alt or section:

| ( primary -> primary)

 ...

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Stephen Tuttlebee
> Sent: Saturday, March 05, 2011 4:08 PM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] Tree construction rewrite rule error
>
> Hi there,
>
> I'm currently using the Java.g parser grammar (by Yang Jiang) from
> http://openjdk.java.net/projects/compiler-grammar/ and am trying to add
> tree construction rewrite rules and operators to build an AST. That's
> quite a job in itself (I'm trying roughly to base it on one I found in
> the mercurial repository on that site that contained actions that
> created a javac-style AST).
>
> Anyway, my specific question relates to the LAST ALTERNATIVE in the
> following rule (from the "expression hierarchy"):
>
> unaryExpressionNotPlusMinus
>      :   TILDE unaryExpression -> ^(BITWISE_COMPLEMENT unaryExpression)
>      |   BANG unaryExpression -> ^(LOGICAL_COMPLEMENT unaryExpression)
>      |   castExpression
>      |   {inHandlerDeclaration||inRunMethodDeclaration}?=>
> inSynchronizationExpression // only allowed within handler declarations
> (which in turn are inside component definitions)
>      |   primary -> primary
>          (selector -> selector[$unaryExpressionNotPlusMinus.tree])*
>          (   PLUSPLUS -> ^(POSTINC $unaryExpressionNotPlusMinus)
>          |   SUBSUB -> ^(POSTDEC $unaryExpressionNotPlusMinus)
>          )?
>      ;
>
> The last alternative does look a little complicated but it is basically
> creating a single tree from the 'primary' in case nothing else is
> matched (due to the * and ? that mean we could not match anything),
> while the subsequent rewrite rules (->) within the alternative are
> successively building up the tree by making the tree constructed thus
> far a child of a newly created tree (this is done by referencing the
> rule itself -- referencing $unaryExpressionNotPlusMinus in the context
> of a rewrite rule means "take the current value of the tree of
> unaryExpressionNotPlusMinus").
>
> However, when I run the grammar through ANTLR (3.3) I get the following
> errors:
>
> error(100): /JavaBTranslator/src/JavaBPhase1SynSem1.g:1026:19: syntax
> error: antlr: expecting RPAREN, found '->'
>   |---> (selector -> selector[$unaryExpressionNotPlusMinus.tree])*
>
> error(100): /JavaBTranslator/src/JavaBPhase1SynSem1.g:1027:22: syntax
> error: antlr: expecting RPAREN, found '->'
>   |---> (   PLUSPLUS -> ^(POSTINC $unaryExpressionNotPlusMinus)
>
> error(10):  internal error: /JavaBTranslator/src/JavaBPhase1SynSem1.g :
> java.lang.NullPointerException
> 3 errors
>
>
> It seems that ANTLR does not like the -> that appear in the middle of
> the alternative for some reason. The problem could be a simple ANTLR
> syntax thing which I'm not clear about.
>
> Anyone have any ideas about why I'm getting these errors.
>
> Thanks,
> Stephen
>
> PS. also, it seems that coming up with the tree grammar rules to
> recognise the tree might be a little harder than constructing the tree
> in the parser, at least for the more complicated tree rewrite rules
> like this. But I'll have to cross that bridge when I come to it.
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From themightystephen at googlemail.com  Sun Mar  6 04:17:46 2011
From: themightystephen at googlemail.com (Stephen Tuttlebee)
Date: Sun, 06 Mar 2011 12:17:46 +0000
Subject: [antlr-interest] Tree construction rewrite rule error
In-Reply-To: <4D72D07A.70005@googlemail.com>
References: <4D72D07A.70005@googlemail.com>
Message-ID: <4D737B6A.5050001@googlemail.com>

Thanks Jim, putting the brackets around it worked. I also had another 
error in that code with the 'selector' parameter being passed to it in 
the rewrite rule rather than in the parser invocation of the rule. 
Here's the working version:

unaryExpressionNotPlusMinus
     :   TILDE unaryExpression -> ^(BITWISE_COMPLEMENT unaryExpression)
     |   BANG unaryExpression -> ^(LOGICAL_COMPLEMENT unaryExpression)
     |   castExpression
     |   {inHandlerDeclaration||inRunMethodDeclaration}?=> 
inSynchronizationExpression // only allowed within handler declarations 
(which in turn are inside component definitions)
     |   (primary -> primary) // FIX HERE
         (selector[$unaryExpressionNotPlusMinus.tree] -> selector)* // 
AND HERE
         (   PLUSPLUS -> ^(POSTINC $unaryExpressionNotPlusMinus)
         |   SUBSUB -> ^(POSTDEC $unaryExpressionNotPlusMinus)
         )?
     ;

Thanks again.
Stephen

On 06/03/2011 00:08, Stephen Tuttlebee wrote:
> Hi there,
>
> I'm currently using the Java.g parser grammar (by Yang Jiang) from 
> http://openjdk.java.net/projects/compiler-grammar/ and am trying to 
> add tree construction rewrite rules and operators to build an AST. 
> That's quite a job in itself (I'm trying roughly to base it on one I 
> found in the mercurial repository on that site that contained actions 
> that created a javac-style AST).
>
> Anyway, my specific question relates to the LAST ALTERNATIVE in the 
> following rule (from the "expression hierarchy"):
>
> unaryExpressionNotPlusMinus
>     :   TILDE unaryExpression -> ^(BITWISE_COMPLEMENT unaryExpression)
>     |   BANG unaryExpression -> ^(LOGICAL_COMPLEMENT unaryExpression)
>     |   castExpression
>     |   {inHandlerDeclaration||inRunMethodDeclaration}?=> 
> inSynchronizationExpression // only allowed within handler 
> declarations (which in turn are inside component definitions)
>     |   primary -> primary
>         (selector -> selector[$unaryExpressionNotPlusMinus.tree])*
>         (   PLUSPLUS -> ^(POSTINC $unaryExpressionNotPlusMinus)
>         |   SUBSUB -> ^(POSTDEC $unaryExpressionNotPlusMinus)
>         )?
>     ;
>
> The last alternative does look a little complicated but it is 
> basically creating a single tree from the 'primary' in case nothing 
> else is matched (due to the * and ? that mean we could not match 
> anything), while the subsequent rewrite rules (->) within the 
> alternative are successively building up the tree by making the tree 
> constructed thus far a child of a newly created tree (this is done by 
> referencing the rule itself -- referencing 
> $unaryExpressionNotPlusMinus in the context of a rewrite rule means 
> "take the current value of the tree of unaryExpressionNotPlusMinus").
>
> However, when I run the grammar through ANTLR (3.3) I get the 
> following errors:
>
> error(100): /JavaBTranslator/src/JavaBPhase1SynSem1.g:1026:19: syntax 
> error: antlr: expecting RPAREN, found '->'
>  |---> (selector -> selector[$unaryExpressionNotPlusMinus.tree])*
>
> error(100): /JavaBTranslator/src/JavaBPhase1SynSem1.g:1027:22: syntax 
> error: antlr: expecting RPAREN, found '->'
>  |---> (   PLUSPLUS -> ^(POSTINC $unaryExpressionNotPlusMinus)
>
> error(10):  internal error: /JavaBTranslator/src/JavaBPhase1SynSem1.g 
> : java.lang.NullPointerException
> 3 errors
>
>
> It seems that ANTLR does not like the -> that appear in the middle of 
> the alternative for some reason. The problem could be a simple ANTLR 
> syntax thing which I'm not clear about.
>
> Anyone have any ideas about why I'm getting these errors.
>
> Thanks,
> Stephen
>
> PS. also, it seems that coming up with the tree grammar rules to 
> recognise the tree might be a little harder than constructing the tree 
> in the parser, at least for the more complicated tree rewrite rules 
> like this. But I'll have to cross that bridge when I come to it.


From themightystephen at googlemail.com  Sun Mar  6 04:22:15 2011
From: themightystephen at googlemail.com (Stephen Tuttlebee)
Date: Sun, 06 Mar 2011 12:22:15 +0000
Subject: [antlr-interest] How to use antlr-interest mailing list
Message-ID: <4D737C77.6030607@googlemail.com>

Hi

This is my first time using the antlr-interest mailing list and mailing 
lists in general and am wondering if there is any way for me to receive 
digests whilst still being able to respond to specific messages? With 
digests turned on at the moment, the best I can manage is to reply to my 
own messages (from my e-mail outbox). Anyone know of a way I can do both?

Also, anyone know of somewhere that explains how to use the mailing 
list. I've moreorless worked it out but an explanation somewhere might 
be helpful.

Thanks
Stephen

From g4 at novadsp.com  Sun Mar  6 04:33:21 2011
From: g4 at novadsp.com (g4 at novadsp.com)
Date: Sun, 06 Mar 2011 12:33:21 +0000
Subject: [antlr-interest] Tree grammar for expression subrules?
In-Reply-To: <1576ff546af9175da5b516b673a2ece7@mail.gmail.com>
References: <4D712737.7090104@novadsp.com>	<AANLkTincofiCoW02J1=1ziAcLvceLd6YX1PCWexsBwC4@mail.gmail.com>	<4D716670.1080505@novadsp.com>	<AANLkTinQYBgJSdh4QhW7Uooq0iD4ytEuBaOzrkijRf99@mail.gmail.com>
	<1576ff546af9175da5b516b673a2ece7@mail.gmail.com>
Message-ID: <4D737F11.4000605@novadsp.com>

Jim, thanks. To generalize then - tree grammars should 'track' the 
terminal/non-terminal structure (of interest) but exclude any 
cardinality specifiers.

On 05/03/2011 18:34, Jim Idle wrote:
> You write expressions like that in the following way:
>
> expression
>   : ^(OR expression expression)
>   | term
>   ;
>
> term
>   : X
>   | Y
>   | Z
>   ;
>
> Then do not create the UPSILON as it will just mislead you. if you feel
> you need it then add it to term, which although allowing ^(OR EPSILION
> EPSILON) won't happen because you won't produce that tree. However, don't
> generally make a token for something that isn't there.



From michael.bedward at gmail.com  Sun Mar  6 15:38:12 2011
From: michael.bedward at gmail.com (Michael Bedward)
Date: Mon, 7 Mar 2011 10:38:12 +1100
Subject: [antlr-interest] How to use antlr-interest mailing list
In-Reply-To: <4D737C77.6030607@googlemail.com>
References: <4D737C77.6030607@googlemail.com>
Message-ID: <AANLkTi=-XBNj0XReOMB3eNgxsNDbEwcEchcQ=JFODrVE@mail.gmail.com>

Hi Stephen

I haven't used the digest mode on this list but I think all that you
have to do is make sure you're replying to antlr-interest at antlr.org
(rather than antlr-interest-digest at antlr.org or whatever the digest
address is).

The only other thing to watch our for is to edit the subject line so
you don't have [antlr-interest] Re: antlr-interest Digest, Vol XX,
Issue YY which won't attract many replies :)

Michael

On 6 March 2011 23:22, Stephen Tuttlebee
<themightystephen at googlemail.com> wrote:
> Hi
>
> This is my first time using the antlr-interest mailing list and mailing
> lists in general and am wondering if there is any way for me to receive
> digests whilst still being able to respond to specific messages? With
> digests turned on at the moment, the best I can manage is to reply to my
> own messages (from my e-mail outbox). Anyone know of a way I can do both?
>
> Also, anyone know of somewhere that explains how to use the mailing
> list. I've moreorless worked it out but an explanation somewhere might
> be helpful.
>
> Thanks
> Stephen
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From acondit at IPNS.COM  Sun Mar  6 17:08:33 2011
From: acondit at IPNS.COM (Alan Condit)
Date: Sun, 6 Mar 2011 17:08:33 -0800
Subject: [antlr-interest] ANTLR maven build failing
Message-ID: <1FB1B63E-F208-4528-99F0-428E968A5ECF@IPNS.COM>

I have been successfully building ANTLR for sometime but yesterday it suddenly started failing. Can anyone shed some light on what is going on.

Below is a stacktrace of the errors I am seeing.

Thanks,
Alan

[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr-runtime:jar:3.3.1-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 188, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 107, column 17
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 250, column 14
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr:jar:3.3.1-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 94, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 188, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 192, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 250, column 14
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr3-maven-plugin:maven-plugin:3.3.1-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ line 338, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:gunit:jar:3.3.1-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 132, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 141, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 145, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 250, column 14
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:maven-gunit-plugin:maven-plugin:3.3.1-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-project-info-reports-plugin is missing. @ line 231, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ line 239, column 21
[WARNING] The expression ${groupId} is deprecated. Please use ${project.groupId} instead.
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr3-maven-archetype:maven-archetype:3.3-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ line 79, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr-master:pom:3.3.1-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 179, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 188, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 192, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ line 250, column 14
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] ANTLR Master build control POM
[INFO] Antlr 3 Runtime
[INFO] ANTLR Grammar Tool
[INFO] Maven plugin for ANTLR V3
[INFO] ANTLR gUnit
[INFO] Maven plugin for gUnit ANTLR V3
[INFO] ANTLR3 Maven Archetype
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building ANTLR Master build control POM 3.3.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @ antlr-master ---
[INFO] Storing buildNumber: Mar 06, 2011 17:04:09 at timestamp: 1299459849565
[INFO] 
[INFO] >>> maven-source-plugin:2.1.2:jar (attach-sources) @ antlr-master >>>
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @ antlr-master ---
[INFO] Storing buildNumber: Mar 06, 2011 17:04:09 at timestamp: 1299459849573
[INFO] 
[INFO] <<< maven-source-plugin:2.1.2:jar (attach-sources) @ antlr-master <<<
[INFO] 
[INFO] --- maven-source-plugin:2.1.2:jar (attach-sources) @ antlr-master ---
[INFO] 
[INFO] --- maven-install-plugin:2.3.1:install (default-install) @ antlr-master ---
[INFO] Installing /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/pom.xml to /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Antlr 3 Runtime 3.3.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @ antlr-runtime ---
[INFO] Storing buildNumber: Mar 06, 2011 17:04:09 at timestamp: 1299459849939
[INFO] 
[INFO] --- maven-resources-plugin:2.4.3:resources (default-resources) @ antlr-runtime ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/runtime/Java/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:2.0.2:compile (default-compile) @ antlr-runtime ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.4.3:testResources (default-testResources) @ antlr-runtime ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/runtime/Java/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:2.0.2:testCompile (default-testCompile) @ antlr-runtime ---
[INFO] Not compiling test sources
[INFO] 
[INFO] --- maven-surefire-plugin:2.7.2:test (default-test) @ antlr-runtime ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.3.1:jar (default-jar) @ antlr-runtime ---
[INFO] 
[INFO] >>> maven-source-plugin:2.1.2:jar (attach-sources) @ antlr-runtime >>>
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @ antlr-runtime ---
[INFO] Storing buildNumber: Mar 06, 2011 17:04:10 at timestamp: 1299459850982
[INFO] 
[INFO] <<< maven-source-plugin:2.1.2:jar (attach-sources) @ antlr-runtime <<<
[INFO] 
[INFO] --- maven-source-plugin:2.1.2:jar (attach-sources) @ antlr-runtime ---
[INFO] 
[INFO] --- maven-install-plugin:2.3.1:install (default-install) @ antlr-runtime ---
[INFO] Installing /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/runtime/Java/target/antlr-runtime-3.3.1-SNAPSHOT.jar to /Users/acondit/.m2/repository/org/antlr/antlr-runtime/3.3.1-SNAPSHOT/antlr-runtime-3.3.1-SNAPSHOT.jar
[INFO] Installing /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/runtime/Java/pom.xml to /Users/acondit/.m2/repository/org/antlr/antlr-runtime/3.3.1-SNAPSHOT/antlr-runtime-3.3.1-SNAPSHOT.pom
[INFO] Installing /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/runtime/Java/target/antlr-runtime-3.3.1-SNAPSHOT-sources.jar to /Users/acondit/.m2/repository/org/antlr/antlr-runtime/3.3.1-SNAPSHOT/antlr-runtime-3.3.1-SNAPSHOT-sources.jar
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building ANTLR Grammar Tool 3.3.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @ antlr ---
[INFO] Storing buildNumber: Mar 06, 2011 17:04:11 at timestamp: 1299459851775
[INFO] 
[INFO] --- antlr-maven-plugin:2.2:generate (default) @ antlr ---
[INFO] grammar [antlr.g] was up-to-date; skipping
[INFO] grammar [codegen.g] was up-to-date; skipping
[INFO] grammar [antlr.print.g] was up-to-date; skipping
[INFO] grammar [assign.types.g] was up-to-date; skipping
[INFO] grammar [buildnfa.g] was up-to-date; skipping
[INFO] grammar [left.recur.rules.g] was up-to-date; skipping
[INFO] grammar [define.g] was up-to-date; skipping
[INFO] 
[INFO] --- antlr3-maven-plugin:3.3:antlr (default) @ antlr ---
[INFO] ANTLR: Processing source directory /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src/main/antlr3
ANTLR Parser Generator  Version 3.3 Nov 30, 2010 12:46:29
Grammar /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src/main/antlr3/org/antlr/grammar/v3/ANTLRv3.g is up to date - build skipped
Grammar /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src/main/antlr3/org/antlr/grammar/v3/ActionAnalysis.g is up to date - build skipped
Grammar /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src/main/antlr3/org/antlr/grammar/v3/ANTLRv3Tree.g is up to date - build skipped
Grammar /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src/main/antlr3/org/antlr/grammar/v3/ActionTranslator.g is up to date - build skipped
[INFO] 
[INFO] --- maven-resources-plugin:2.4.3:resources (default-resources) @ antlr ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 89 resources
[INFO] Copying 8 resources
[INFO] 
[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ antlr ---
[INFO] Compiling 28 source files to /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/classes
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/org/antlr/grammar/v2/ANTLRParser.java:[89,7] duplicate class: org.antlr.grammar.v2.ANTLRParser
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/org/antlr/grammar/v2/ANTLRLexer.java:[78,7] duplicate class: org.antlr.grammar.v2.ANTLRLexer
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/ANTLRTokenTypes.java:[50,7] duplicate class: org.antlr.grammar.v2.ANTLRTokenTypes
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src/main/java/org/antlr/tool/Grammar.java:[948,15] non-static method createSimpleRuleAST(java.lang.String,org.antlr.tool.GrammarAST,boolean) cannot be referenced from a static context
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/ANTLRParser.java:[1417,8] cannot find symbol
symbol  : variable ruleStartTokenIndex
location: class org.antlr.tool.GrammarAST
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/ANTLRParser.java:[1418,8] cannot find symbol
symbol  : variable ruleStopTokenIndex
location: class org.antlr.tool.GrammarAST
[INFO] 6 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] ANTLR Master build control POM .................... SUCCESS [0.741s]
[INFO] Antlr 3 Runtime ................................... SUCCESS [1.803s]
[INFO] ANTLR Grammar Tool ................................ FAILURE [3.893s]
[INFO] Maven plugin for ANTLR V3 ......................... SKIPPED
[INFO] ANTLR gUnit ....................................... SKIPPED
[INFO] Maven plugin for gUnit ANTLR V3 ................... SKIPPED
[INFO] ANTLR3 Maven Archetype ............................ SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 7.337s
[INFO] Finished at: Sun Mar 06 17:04:15 PST 2011
[INFO] Final Memory: 13M/62M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on project antlr: Compilation failure: Compilation failure:
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/org/antlr/grammar/v2/ANTLRParser.java:[89,7] duplicate class: org.antlr.grammar.v2.ANTLRParser
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/org/antlr/grammar/v2/ANTLRLexer.java:[78,7] duplicate class: org.antlr.grammar.v2.ANTLRLexer
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/ANTLRTokenTypes.java:[50,7] duplicate class: org.antlr.grammar.v2.ANTLRTokenTypes
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src/main/java/org/antlr/tool/Grammar.java:[948,15] non-static method createSimpleRuleAST(java.lang.String,org.antlr.tool.GrammarAST,boolean) cannot be referenced from a static context
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/ANTLRParser.java:[1417,8] cannot find symbol
[ERROR] symbol  : variable ruleStartTokenIndex
[ERROR] location: class org.antlr.tool.GrammarAST
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/ANTLRParser.java:[1418,8] cannot find symbol
[ERROR] symbol  : variable ruleStopTokenIndex
[ERROR] location: class org.antlr.tool.GrammarAST
[ERROR] -> [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on project antlr: Compilation failure
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
Caused by: org.apache.maven.plugin.CompilationFailureException: Compilation failure
	at org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:656)
	at org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:128)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
	... 19 more
[ERROR] 
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :antlr
[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr-runtime:jar:3.3.1-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 188, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 107, column 17
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 250, column 14
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr:jar:3.3.1-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 94, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 188, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 192, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 250, column 14
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr3-maven-plugin:maven-plugin:3.3.1-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ line 338, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:gunit:jar:3.3.1-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 132, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 141, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 145, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 250, column 14
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:maven-gunit-plugin:maven-plugin:3.3.1-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-project-info-reports-plugin is missing. @ line 231, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ line 239, column 21
[WARNING] The expression ${groupId} is deprecated. Please use ${project.groupId} instead.
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr3-maven-archetype:maven-archetype:3.3-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ line 79, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr-master:pom:3.3.1-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 179, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 188, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 192, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-source-plugin is missing. @ line 250, column 14
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] ANTLR Master build control POM
[INFO] Antlr 3 Runtime
[INFO] ANTLR Grammar Tool
[INFO] Maven plugin for ANTLR V3
[INFO] ANTLR gUnit
[INFO] Maven plugin for gUnit ANTLR V3
[INFO] ANTLR3 Maven Archetype
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building ANTLR Master build control POM 3.3.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @ antlr-master ---
[INFO] Storing buildNumber: Mar 06, 2011 17:04:19 at timestamp: 1299459859339
[INFO] 
[INFO] >>> maven-source-plugin:2.1.2:jar (attach-sources) @ antlr-master >>>
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @ antlr-master ---
[INFO] Storing buildNumber: Mar 06, 2011 17:04:19 at timestamp: 1299459859347
[INFO] 
[INFO] <<< maven-source-plugin:2.1.2:jar (attach-sources) @ antlr-master <<<
[INFO] 
[INFO] --- maven-source-plugin:2.1.2:jar (attach-sources) @ antlr-master ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Antlr 3 Runtime 3.3.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @ antlr-runtime ---
[INFO] Storing buildNumber: Mar 06, 2011 17:04:19 at timestamp: 1299459859613
[INFO] 
[INFO] --- maven-resources-plugin:2.4.3:resources (default-resources) @ antlr-runtime ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/runtime/Java/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:2.0.2:compile (default-compile) @ antlr-runtime ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.4.3:testResources (default-testResources) @ antlr-runtime ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/runtime/Java/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:2.0.2:testCompile (default-testCompile) @ antlr-runtime ---
[INFO] Not compiling test sources
[INFO] 
[INFO] --- maven-surefire-plugin:2.7.2:test (default-test) @ antlr-runtime ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.3.1:jar (default-jar) @ antlr-runtime ---
[INFO] 
[INFO] >>> maven-source-plugin:2.1.2:jar (attach-sources) @ antlr-runtime >>>
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @ antlr-runtime ---
[INFO] Storing buildNumber: Mar 06, 2011 17:04:20 at timestamp: 1299459860647
[INFO] 
[INFO] <<< maven-source-plugin:2.1.2:jar (attach-sources) @ antlr-runtime <<<
[INFO] 
[INFO] --- maven-source-plugin:2.1.2:jar (attach-sources) @ antlr-runtime ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building ANTLR Grammar Tool 3.3.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @ antlr ---
[INFO] Storing buildNumber: Mar 06, 2011 17:04:21 at timestamp: 1299459861219
[INFO] 
[INFO] --- antlr-maven-plugin:2.2:generate (default) @ antlr ---
[INFO] grammar [antlr.g] was up-to-date; skipping
[INFO] grammar [codegen.g] was up-to-date; skipping
[INFO] grammar [antlr.print.g] was up-to-date; skipping
[INFO] grammar [assign.types.g] was up-to-date; skipping
[INFO] grammar [buildnfa.g] was up-to-date; skipping
[INFO] grammar [left.recur.rules.g] was up-to-date; skipping
[INFO] grammar [define.g] was up-to-date; skipping
[INFO] 
[INFO] --- antlr3-maven-plugin:3.3:antlr (default) @ antlr ---
[INFO] ANTLR: Processing source directory /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src/main/antlr3
ANTLR Parser Generator  Version 3.3 Nov 30, 2010 12:46:29
Grammar /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src/main/antlr3/org/antlr/grammar/v3/ANTLRv3.g is up to date - build skipped
Grammar /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src/main/antlr3/org/antlr/grammar/v3/ActionAnalysis.g is up to date - build skipped
Grammar /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src/main/antlr3/org/antlr/grammar/v3/ANTLRv3Tree.g is up to date - build skipped
Grammar /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src/main/antlr3/org/antlr/grammar/v3/ActionTranslator.g is up to date - build skipped
[INFO] 
[INFO] --- maven-resources-plugin:2.4.3:resources (default-resources) @ antlr ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 89 resources
[INFO] Copying 8 resources
[INFO] 
[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ antlr ---
[INFO] Compiling 28 source files to /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/classes
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/org/antlr/grammar/v2/ANTLRParser.java:[89,7] duplicate class: org.antlr.grammar.v2.ANTLRParser
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/org/antlr/grammar/v2/ANTLRLexer.java:[78,7] duplicate class: org.antlr.grammar.v2.ANTLRLexer
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/ANTLRTokenTypes.java:[50,7] duplicate class: org.antlr.grammar.v2.ANTLRTokenTypes
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src/main/java/org/antlr/tool/Grammar.java:[948,15] non-static method createSimpleRuleAST(java.lang.String,org.antlr.tool.GrammarAST,boolean) cannot be referenced from a static context
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/ANTLRParser.java:[1417,8] cannot find symbol
symbol  : variable ruleStartTokenIndex
location: class org.antlr.tool.GrammarAST
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/ANTLRParser.java:[1418,8] cannot find symbol
symbol  : variable ruleStopTokenIndex
location: class org.antlr.tool.GrammarAST
[INFO] 6 errors 
[INFO] -------------------------------------------------------------
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Skipping ANTLR Master build control POM
[INFO] This project has been banned from the build due to previous failures.
[INFO] ------------------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] ANTLR Master build control POM .................... SUCCESS [0.498s]
[INFO] Antlr 3 Runtime ................................... SUCCESS [1.607s]
[INFO] ANTLR Grammar Tool ................................ FAILURE [3.515s]
[INFO] Maven plugin for ANTLR V3 ......................... SKIPPED
[INFO] ANTLR gUnit ....................................... SKIPPED
[INFO] Maven plugin for gUnit ANTLR V3 ................... SKIPPED
[INFO] ANTLR3 Maven Archetype ............................ SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 6.672s
[INFO] Finished at: Sun Mar 06 17:04:24 PST 2011
[INFO] Final Memory: 13M/62M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on project antlr: Compilation failure: Compilation failure:
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/org/antlr/grammar/v2/ANTLRParser.java:[89,7] duplicate class: org.antlr.grammar.v2.ANTLRParser
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/org/antlr/grammar/v2/ANTLRLexer.java:[78,7] duplicate class: org.antlr.grammar.v2.ANTLRLexer
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/ANTLRTokenTypes.java:[50,7] duplicate class: org.antlr.grammar.v2.ANTLRTokenTypes
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src/main/java/org/antlr/tool/Grammar.java:[948,15] non-static method createSimpleRuleAST(java.lang.String,org.antlr.tool.GrammarAST,boolean) cannot be referenced from a static context
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/ANTLRParser.java:[1417,8] cannot find symbol
[ERROR] symbol  : variable ruleStartTokenIndex
[ERROR] location: class org.antlr.tool.GrammarAST
[ERROR] /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/target/generated-sources/antlr/ANTLRParser.java:[1418,8] cannot find symbol
[ERROR] symbol  : variable ruleStopTokenIndex
[ERROR] location: class org.antlr.tool.GrammarAST
[ERROR] -> [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on project antlr: Compilation failure
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
Caused by: org.apache.maven.plugin.CompilationFailureException: Compilation failure
	at org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:656)
	at org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:128)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
	... 19 more
[ERROR] 
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :antlr


From qiaomuf at gmail.com  Sun Mar  6 17:18:41 2011
From: qiaomuf at gmail.com (Mu Qiao)
Date: Mon, 7 Mar 2011 01:18:41 +0000
Subject: [antlr-interest] How to reduce the size of the generated lexer?
Message-ID: <AANLkTi=+veLC+6UjbWT-cyjrC3zrYjbshZzH+hZWHcoR@mail.gmail.com>

Hi

I use c runtime libantlr3c-3.1.3. The generated lexer is bigger than
10 MB full of arrays of integers. I tried to see what was going on and
I found there was a rule:
NQCHAR_NO_ALPHANUM
    :   ~('\n'|'\r'|'
'|'\t'|'\\'|CARET|QMARK|COLON|AT|SEMIC|POUND|SLASH|BANG|TIMES|COMMA|PIPE|AMP|MINUS|PLUS|PCT|EQUALS|LSQUARE|RSQUARE|RPAREN|LPAREN|RBRACE|LBRACE|DOLLAR|TICK|DOT|LT|GT|SQUOTE|QUOTE|'a'..'z'|'A'..'Z'|'0'..'9')+;

If I remove the rule, the lexer is only 400 KB.

I'm still new to antlr and I'm not sure if there is any way to
refactor the rule and reduce the size of lexer. Could anyone please
help me out?

-- 
Best wishes,
Mu Qiao
GnuPG fingerprint: 92B1 B0C4 8D14 F8C4 EFA5? 3ACC 30B3 0DE4 17B1 57E9

From jimi at temporal-wave.com  Sun Mar  6 17:29:55 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Sun, 6 Mar 2011 17:29:55 -0800
Subject: [antlr-interest] ANTLR maven build failing
In-Reply-To: <1FB1B63E-F208-4528-99F0-428E968A5ECF@IPNS.COM>
References: <1FB1B63E-F208-4528-99F0-428E968A5ECF@IPNS.COM>
Message-ID: <d774ff6501ce11be62429c196ba07d79@mail.gmail.com>

Looks like you are not using the same version of maven as you were or have
otherwise changed something. Also, you are using the snapshot development
version, which is not guaranteed to work, switch back to a released
version. Before too long, when my x week work backlog gets better, I will
upgrade to the latest maven, with associated tweaks, but until then, stick
to the released version and you should be OK - I use those every day.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Alan Condit
> Sent: Sunday, March 06, 2011 5:09 PM
> To: ANTLR Interest
> Subject: [antlr-interest] ANTLR maven build failing
>
> I have been successfully building ANTLR for sometime but yesterday it
> suddenly started failing. Can anyone shed some light on what is going
> on.
>
> Below is a stacktrace of the errors I am seeing.
>
> Thanks,
> Alan
>
> [INFO] Error stacktraces are turned on.
> [INFO] Scanning for projects...
> [WARNING]
> [WARNING] Some problems were encountered while building the effective
> model for org.antlr:antlr-runtime:jar:3.3.1-SNAPSHOT
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-surefire-plugin is missing. @
> org.antlr:antlr-master:3.3.1-SNAPSHOT,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-
> SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 188, column 21 [WARNING]
> 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-
> plugin is missing. @ line 107, column 17 [WARNING]
> 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-
> source-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-
> SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 250, column 14 [WARNING]
> [WARNING] Some problems were encountered while building the effective
> model for org.antlr:antlr:jar:3.3.1-SNAPSHOT
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 94,
> column 21 [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-surefire-plugin is missing. @
> org.antlr:antlr-master:3.3.1-SNAPSHOT,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-
> SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 188, column 21 [WARNING]
> 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-
> plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-
> SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 192, column 21 [WARNING]
> 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-
> source-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-
> SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 250, column 14 [WARNING]
> [WARNING] Some problems were encountered while building the effective
> model for org.antlr:antlr3-maven-plugin:maven-plugin:3.3.1-SNAPSHOT
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-source-plugin is missing. @ line 338,
> column 21 [WARNING] [WARNING] Some problems were encountered while
> building the effective model for org.antlr:gunit:jar:3.3.1-SNAPSHOT
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 132,
> column 21 [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 141,
> column 21 [WARNING] 'build.plugins.plugin.version' for
> org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 145, column
> 21 [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-source-plugin is missing. @
> org.antlr:antlr-master:3.3.1-SNAPSHOT,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-
> SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 250, column 14 [WARNING]
> [WARNING] Some problems were encountered while building the effective
> model for org.antlr:maven-gunit-plugin:maven-plugin:3.3.1-SNAPSHOT
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-project-info-reports-plugin is missing.
> @ line 231, column 21 [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-source-plugin is missing. @ line 239,
> column 21 [WARNING] The expression ${groupId} is deprecated. Please use
> ${project.groupId} instead.
> [WARNING]
> [WARNING] Some problems were encountered while building the effective
> model for org.antlr:antlr3-maven-archetype:maven-archetype:3.3-SNAPSHOT
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-source-plugin is missing. @ line 79,
> column 21 [WARNING] [WARNING] Some problems were encountered while
> building the effective model for org.antlr:antlr-master:pom:3.3.1-
> SNAPSHOT
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 179,
> column 21 [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 188,
> column 21 [WARNING] 'build.plugins.plugin.version' for
> org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 192, column
> 21 [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-source-plugin is missing. @ line 250,
> column 14 [WARNING] [WARNING] It is highly recommended to fix these
> problems because they threaten the stability of your build.
> [WARNING]
> [WARNING] For this reason, future Maven versions might no longer
> support building such malformed projects.
> [WARNING]
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Reactor Build Order:
> [INFO]
> [INFO] ANTLR Master build control POM
> [INFO] Antlr 3 Runtime
> [INFO] ANTLR Grammar Tool
> [INFO] Maven plugin for ANTLR V3
> [INFO] ANTLR gUnit
> [INFO] Maven plugin for gUnit ANTLR V3
> [INFO] ANTLR3 Maven Archetype
> [INFO]
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Building ANTLR Master build control POM 3.3.1-SNAPSHOT [INFO] --
> ----------------------------------------------------------------------
> [INFO]
> [INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @
> antlr-master --- [INFO] Storing buildNumber: Mar 06, 2011 17:04:09 at
> timestamp: 1299459849565 [INFO] [INFO] >>> maven-source-
> plugin:2.1.2:jar (attach-sources) @ antlr-master >>> [INFO] [INFO] ---
> buildnumber-maven-plugin:1.0-beta-2:create (default) @ antlr-master ---
> [INFO] Storing buildNumber: Mar 06, 2011 17:04:09 at timestamp:
> 1299459849573 [INFO] [INFO] <<< maven-source-plugin:2.1.2:jar (attach-
> sources) @ antlr-master <<< [INFO] [INFO] --- maven-source-
> plugin:2.1.2:jar (attach-sources) @ antlr-master --- [INFO] [INFO] ---
> maven-install-plugin:2.3.1:install (default-install) @ antlr-master ---
> [INFO] Installing
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/pom.xml
> to /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-
> SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom
> [INFO]
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Building Antlr 3 Runtime 3.3.1-SNAPSHOT [INFO] -----------------
> -------------------------------------------------------
> [INFO]
> [INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @
> antlr-runtime --- [INFO] Storing buildNumber: Mar 06, 2011 17:04:09 at
> timestamp: 1299459849939 [INFO] [INFO] --- maven-resources-
> plugin:2.4.3:resources (default-resources) @ antlr-runtime --- [INFO]
> Using 'UTF-8' encoding to copy filtered resources.
> [INFO] skip non existing resourceDirectory
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/runtime/
> Java/src/main/resources
> [INFO]
> [INFO] --- maven-compiler-plugin:2.0.2:compile (default-compile) @
> antlr-runtime --- [INFO] Nothing to compile - all classes are up to
> date [INFO] [INFO] --- maven-resources-plugin:2.4.3:testResources
> (default-testResources) @ antlr-runtime --- [INFO] Using 'UTF-8'
> encoding to copy filtered resources.
> [INFO] skip non existing resourceDirectory
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/runtime/
> Java/src/test/resources
> [INFO]
> [INFO] --- maven-compiler-plugin:2.0.2:testCompile (default-
> testCompile) @ antlr-runtime --- [INFO] Not compiling test sources
> [INFO] [INFO] --- maven-surefire-plugin:2.7.2:test (default-test) @
> antlr-runtime --- [INFO] Tests are skipped.
> [INFO]
> [INFO] --- maven-jar-plugin:2.3.1:jar (default-jar) @ antlr-runtime ---
> [INFO] [INFO] >>> maven-source-plugin:2.1.2:jar (attach-sources) @
> antlr-runtime >>> [INFO] [INFO] --- buildnumber-maven-plugin:1.0-beta-
> 2:create (default) @ antlr-runtime --- [INFO] Storing buildNumber: Mar
> 06, 2011 17:04:10 at timestamp: 1299459850982 [INFO] [INFO] <<< maven-
> source-plugin:2.1.2:jar (attach-sources) @ antlr-runtime <<< [INFO]
> [INFO] --- maven-source-plugin:2.1.2:jar (attach-sources) @ antlr-
> runtime --- [INFO] [INFO] --- maven-install-plugin:2.3.1:install
> (default-install) @ antlr-runtime --- [INFO] Installing
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/runtime/
> Java/target/antlr-runtime-3.3.1-SNAPSHOT.jar to
> /Users/acondit/.m2/repository/org/antlr/antlr-runtime/3.3.1-
> SNAPSHOT/antlr-runtime-3.3.1-SNAPSHOT.jar
> [INFO] Installing
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/runtime/
> Java/pom.xml to /Users/acondit/.m2/repository/org/antlr/antlr-
> runtime/3.3.1-SNAPSHOT/antlr-runtime-3.3.1-SNAPSHOT.pom
> [INFO] Installing
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/runtime/
> Java/target/antlr-runtime-3.3.1-SNAPSHOT-sources.jar to
> /Users/acondit/.m2/repository/org/antlr/antlr-runtime/3.3.1-
> SNAPSHOT/antlr-runtime-3.3.1-SNAPSHOT-sources.jar
> [INFO]
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Building ANTLR Grammar Tool 3.3.1-SNAPSHOT [INFO] --------------
> ----------------------------------------------------------
> [INFO]
> [INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @ antlr
> --- [INFO] Storing buildNumber: Mar 06, 2011 17:04:11 at timestamp:
> 1299459851775 [INFO] [INFO] --- antlr-maven-plugin:2.2:generate
> (default) @ antlr --- [INFO] grammar [antlr.g] was up-to-date; skipping
> [INFO] grammar [codegen.g] was up-to-date; skipping [INFO] grammar
> [antlr.print.g] was up-to-date; skipping [INFO] grammar
> [assign.types.g] was up-to-date; skipping [INFO] grammar [buildnfa.g]
> was up-to-date; skipping [INFO] grammar [left.recur.rules.g] was up-to-
> date; skipping [INFO] grammar [define.g] was up-to-date; skipping
> [INFO] [INFO] --- antlr3-maven-plugin:3.3:antlr (default) @ antlr ---
> [INFO] ANTLR: Processing source directory
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src
> /main/antlr3
> ANTLR Parser Generator  Version 3.3 Nov 30, 2010 12:46:29 Grammar
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src
> /main/antlr3/org/antlr/grammar/v3/ANTLRv3.g is up to date - build
> skipped Grammar
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src
> /main/antlr3/org/antlr/grammar/v3/ActionAnalysis.g is up to date -
> build skipped Grammar
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src
> /main/antlr3/org/antlr/grammar/v3/ANTLRv3Tree.g is up to date - build
> skipped Grammar
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src
> /main/antlr3/org/antlr/grammar/v3/ActionTranslator.g is up to date -
> build skipped [INFO] [INFO] --- maven-resources-plugin:2.4.3:resources
> (default-resources) @ antlr --- [INFO] Using 'UTF-8' encoding to copy
> filtered resources.
> [INFO] Copying 89 resources
> [INFO] Copying 8 resources
> [INFO]
> [INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @
> antlr --- [INFO] Compiling 28 source files to
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/classes
> [INFO] -------------------------------------------------------------
> [ERROR] COMPILATION ERROR :
> [INFO] -------------------------------------------------------------
> [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-
> sources/antlr/org/antlr/grammar/v2/ANTLRParser.java:[89,7] duplicate
> class: org.antlr.grammar.v2.ANTLRParser [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/org/antlr/grammar/v2/ANTLRLexer.java:[78,7]
> duplicate class: org.antlr.grammar.v2.ANTLRLexer [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/ANTLRTokenTypes.java:[50,7] duplicate
> class: org.antlr.grammar.v2.ANTLRTokenTypes
> [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src
> /main/java/org/antlr/tool/Grammar.java:[948,15] non-static method
> createSimpleRuleAST(java.lang.String,org.antlr.tool.GrammarAST,boolean)
> cannot be referenced from a static context [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/ANTLRParser.java:[1417,8] cannot find
> symbol symbol  : variable ruleStartTokenIndex
> location: class org.antlr.tool.GrammarAST [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/ANTLRParser.java:[1418,8] cannot find
> symbol symbol  : variable ruleStopTokenIndex
> location: class org.antlr.tool.GrammarAST [INFO] 6 errors [INFO] ------
> -------------------------------------------------------
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Reactor Summary:
> [INFO]
> [INFO] ANTLR Master build control POM .................... SUCCESS
> [0.741s] [INFO] Antlr 3 Runtime ...................................
> SUCCESS [1.803s] [INFO] ANTLR Grammar Tool
> ................................ FAILURE [3.893s] [INFO] Maven plugin
> for ANTLR V3 ......................... SKIPPED [INFO] ANTLR gUnit
> ....................................... SKIPPED [INFO] Maven plugin for
> gUnit ANTLR V3 ................... SKIPPED [INFO] ANTLR3 Maven
> Archetype ............................ SKIPPED [INFO] -----------------
> -------------------------------------------------------
> [INFO] BUILD FAILURE
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Total time: 7.337s
> [INFO] Finished at: Sun Mar 06 17:04:15 PST 2011 [INFO] Final Memory:
> 13M/62M [INFO] --------------------------------------------------------
> ----------------
> [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-
> plugin:2.3.2:compile (default-compile) on project antlr: Compilation
> failure: Compilation failure:
> [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-
> sources/antlr/org/antlr/grammar/v2/ANTLRParser.java:[89,7] duplicate
> class: org.antlr.grammar.v2.ANTLRParser [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/org/antlr/grammar/v2/ANTLRLexer.java:[78,7]
> duplicate class: org.antlr.grammar.v2.ANTLRLexer [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/ANTLRTokenTypes.java:[50,7] duplicate
> class: org.antlr.grammar.v2.ANTLRTokenTypes
> [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src
> /main/java/org/antlr/tool/Grammar.java:[948,15] non-static method
> createSimpleRuleAST(java.lang.String,org.antlr.tool.GrammarAST,boolean)
> cannot be referenced from a static context [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/ANTLRParser.java:[1417,8] cannot find
> symbol [ERROR] symbol  : variable ruleStartTokenIndex [ERROR] location:
> class org.antlr.tool.GrammarAST [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/ANTLRParser.java:[1418,8] cannot find
> symbol [ERROR] symbol  : variable ruleStopTokenIndex [ERROR] location:
> class org.antlr.tool.GrammarAST [ERROR] -> [Help 1]
> org.apache.maven.lifecycle.LifecycleExecutionException: Failed to
> execute goal org.apache.maven.plugins:maven-compiler-
> plugin:2.3.2:compile (default-compile) on project antlr: Compilation
> failure
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:213)
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:153)
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:145)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject
> (LifecycleModuleBuilder.java:84)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject
> (LifecycleModuleBuilder.java:59)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuil
> d(LifecycleStarter.java:183)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleS
> tarter.java:161)
> 	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)
> 	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
> 	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
> 	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
> 	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at
> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.ja
> va:39)
> 	at
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccesso
> rImpl.java:25)
> 	at java.lang.reflect.Method.invoke(Method.java:597)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launch
> er.java:290)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:
> 230)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Laun
> cher.java:409)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:35
> 2)
> Caused by: org.apache.maven.plugin.CompilationFailureException:
> Compilation failure
> 	at
> org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompilerMo
> jo.java:656)
> 	at
> org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:128)
> 	at
> org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBu
> ildPluginManager.java:101)
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:209)
> 	... 19 more
> [ERROR]
> [ERROR] Re-run Maven using the -X switch to enable full debug logging.
> [ERROR]
> [ERROR] For more information about the errors and possible solutions,
> please read the following articles:
> [ERROR] [Help 1]
> http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
> [ERROR]
> [ERROR] After correcting the problems, you can resume the build with
> the command
> [ERROR]   mvn <goals> -rf :antlr
> [INFO] Error stacktraces are turned on.
> [INFO] Scanning for projects...
> [WARNING]
> [WARNING] Some problems were encountered while building the effective
> model for org.antlr:antlr-runtime:jar:3.3.1-SNAPSHOT
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-surefire-plugin is missing. @
> org.antlr:antlr-master:3.3.1-SNAPSHOT,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-
> SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 188, column 21 [WARNING]
> 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-
> plugin is missing. @ line 107, column 17 [WARNING]
> 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-
> source-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-
> SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 250, column 14 [WARNING]
> [WARNING] Some problems were encountered while building the effective
> model for org.antlr:antlr:jar:3.3.1-SNAPSHOT
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 94,
> column 21 [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-surefire-plugin is missing. @
> org.antlr:antlr-master:3.3.1-SNAPSHOT,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-
> SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 188, column 21 [WARNING]
> 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-
> plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-
> SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 192, column 21 [WARNING]
> 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-
> source-plugin is missing. @ org.antlr:antlr-master:3.3.1-SNAPSHOT,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-
> SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 250, column 14 [WARNING]
> [WARNING] Some problems were encountered while building the effective
> model for org.antlr:antlr3-maven-plugin:maven-plugin:3.3.1-SNAPSHOT
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-source-plugin is missing. @ line 338,
> column 21 [WARNING] [WARNING] Some problems were encountered while
> building the effective model for org.antlr:gunit:jar:3.3.1-SNAPSHOT
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 132,
> column 21 [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 141,
> column 21 [WARNING] 'build.plugins.plugin.version' for
> org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 145, column
> 21 [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-source-plugin is missing. @
> org.antlr:antlr-master:3.3.1-SNAPSHOT,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.3.1-
> SNAPSHOT/antlr-master-3.3.1-SNAPSHOT.pom, line 250, column 14 [WARNING]
> [WARNING] Some problems were encountered while building the effective
> model for org.antlr:maven-gunit-plugin:maven-plugin:3.3.1-SNAPSHOT
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-project-info-reports-plugin is missing.
> @ line 231, column 21 [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-source-plugin is missing. @ line 239,
> column 21 [WARNING] The expression ${groupId} is deprecated. Please use
> ${project.groupId} instead.
> [WARNING]
> [WARNING] Some problems were encountered while building the effective
> model for org.antlr:antlr3-maven-archetype:maven-archetype:3.3-SNAPSHOT
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-source-plugin is missing. @ line 79,
> column 21 [WARNING] [WARNING] Some problems were encountered while
> building the effective model for org.antlr:antlr-master:pom:3.3.1-
> SNAPSHOT
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 179,
> column 21 [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 188,
> column 21 [WARNING] 'build.plugins.plugin.version' for
> org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 192, column
> 21 [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-source-plugin is missing. @ line 250,
> column 14 [WARNING] [WARNING] It is highly recommended to fix these
> problems because they threaten the stability of your build.
> [WARNING]
> [WARNING] For this reason, future Maven versions might no longer
> support building such malformed projects.
> [WARNING]
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Reactor Build Order:
> [INFO]
> [INFO] ANTLR Master build control POM
> [INFO] Antlr 3 Runtime
> [INFO] ANTLR Grammar Tool
> [INFO] Maven plugin for ANTLR V3
> [INFO] ANTLR gUnit
> [INFO] Maven plugin for gUnit ANTLR V3
> [INFO] ANTLR3 Maven Archetype
> [INFO]
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Building ANTLR Master build control POM 3.3.1-SNAPSHOT [INFO] --
> ----------------------------------------------------------------------
> [INFO]
> [INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @
> antlr-master --- [INFO] Storing buildNumber: Mar 06, 2011 17:04:19 at
> timestamp: 1299459859339 [INFO] [INFO] >>> maven-source-
> plugin:2.1.2:jar (attach-sources) @ antlr-master >>> [INFO] [INFO] ---
> buildnumber-maven-plugin:1.0-beta-2:create (default) @ antlr-master ---
> [INFO] Storing buildNumber: Mar 06, 2011 17:04:19 at timestamp:
> 1299459859347 [INFO] [INFO] <<< maven-source-plugin:2.1.2:jar (attach-
> sources) @ antlr-master <<< [INFO] [INFO] --- maven-source-
> plugin:2.1.2:jar (attach-sources) @ antlr-master ---
> [INFO]
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Building Antlr 3 Runtime 3.3.1-SNAPSHOT [INFO] -----------------
> -------------------------------------------------------
> [INFO]
> [INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @
> antlr-runtime --- [INFO] Storing buildNumber: Mar 06, 2011 17:04:19 at
> timestamp: 1299459859613 [INFO] [INFO] --- maven-resources-
> plugin:2.4.3:resources (default-resources) @ antlr-runtime --- [INFO]
> Using 'UTF-8' encoding to copy filtered resources.
> [INFO] skip non existing resourceDirectory
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/runtime/
> Java/src/main/resources
> [INFO]
> [INFO] --- maven-compiler-plugin:2.0.2:compile (default-compile) @
> antlr-runtime --- [INFO] Nothing to compile - all classes are up to
> date [INFO] [INFO] --- maven-resources-plugin:2.4.3:testResources
> (default-testResources) @ antlr-runtime --- [INFO] Using 'UTF-8'
> encoding to copy filtered resources.
> [INFO] skip non existing resourceDirectory
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/runtime/
> Java/src/test/resources
> [INFO]
> [INFO] --- maven-compiler-plugin:2.0.2:testCompile (default-
> testCompile) @ antlr-runtime --- [INFO] Not compiling test sources
> [INFO] [INFO] --- maven-surefire-plugin:2.7.2:test (default-test) @
> antlr-runtime --- [INFO] Tests are skipped.
> [INFO]
> [INFO] --- maven-jar-plugin:2.3.1:jar (default-jar) @ antlr-runtime ---
> [INFO] [INFO] >>> maven-source-plugin:2.1.2:jar (attach-sources) @
> antlr-runtime >>> [INFO] [INFO] --- buildnumber-maven-plugin:1.0-beta-
> 2:create (default) @ antlr-runtime --- [INFO] Storing buildNumber: Mar
> 06, 2011 17:04:20 at timestamp: 1299459860647 [INFO] [INFO] <<< maven-
> source-plugin:2.1.2:jar (attach-sources) @ antlr-runtime <<< [INFO]
> [INFO] --- maven-source-plugin:2.1.2:jar (attach-sources) @ antlr-
> runtime ---
> [INFO]
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Building ANTLR Grammar Tool 3.3.1-SNAPSHOT [INFO] --------------
> ----------------------------------------------------------
> [INFO]
> [INFO] --- buildnumber-maven-plugin:1.0-beta-2:create (default) @ antlr
> --- [INFO] Storing buildNumber: Mar 06, 2011 17:04:21 at timestamp:
> 1299459861219 [INFO] [INFO] --- antlr-maven-plugin:2.2:generate
> (default) @ antlr --- [INFO] grammar [antlr.g] was up-to-date; skipping
> [INFO] grammar [codegen.g] was up-to-date; skipping [INFO] grammar
> [antlr.print.g] was up-to-date; skipping [INFO] grammar
> [assign.types.g] was up-to-date; skipping [INFO] grammar [buildnfa.g]
> was up-to-date; skipping [INFO] grammar [left.recur.rules.g] was up-to-
> date; skipping [INFO] grammar [define.g] was up-to-date; skipping
> [INFO] [INFO] --- antlr3-maven-plugin:3.3:antlr (default) @ antlr ---
> [INFO] ANTLR: Processing source directory
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src
> /main/antlr3
> ANTLR Parser Generator  Version 3.3 Nov 30, 2010 12:46:29 Grammar
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src
> /main/antlr3/org/antlr/grammar/v3/ANTLRv3.g is up to date - build
> skipped Grammar
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src
> /main/antlr3/org/antlr/grammar/v3/ActionAnalysis.g is up to date -
> build skipped Grammar
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src
> /main/antlr3/org/antlr/grammar/v3/ANTLRv3Tree.g is up to date - build
> skipped Grammar
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src
> /main/antlr3/org/antlr/grammar/v3/ActionTranslator.g is up to date -
> build skipped [INFO] [INFO] --- maven-resources-plugin:2.4.3:resources
> (default-resources) @ antlr --- [INFO] Using 'UTF-8' encoding to copy
> filtered resources.
> [INFO] Copying 89 resources
> [INFO] Copying 8 resources
> [INFO]
> [INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @
> antlr --- [INFO] Compiling 28 source files to
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/classes
> [INFO] -------------------------------------------------------------
> [ERROR] COMPILATION ERROR :
> [INFO] -------------------------------------------------------------
> [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-
> sources/antlr/org/antlr/grammar/v2/ANTLRParser.java:[89,7] duplicate
> class: org.antlr.grammar.v2.ANTLRParser [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/org/antlr/grammar/v2/ANTLRLexer.java:[78,7]
> duplicate class: org.antlr.grammar.v2.ANTLRLexer [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/ANTLRTokenTypes.java:[50,7] duplicate
> class: org.antlr.grammar.v2.ANTLRTokenTypes
> [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src
> /main/java/org/antlr/tool/Grammar.java:[948,15] non-static method
> createSimpleRuleAST(java.lang.String,org.antlr.tool.GrammarAST,boolean)
> cannot be referenced from a static context [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/ANTLRParser.java:[1417,8] cannot find
> symbol symbol  : variable ruleStartTokenIndex
> location: class org.antlr.tool.GrammarAST [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/ANTLRParser.java:[1418,8] cannot find
> symbol symbol  : variable ruleStopTokenIndex
> location: class org.antlr.tool.GrammarAST [INFO] 6 errors [INFO] ------
> -------------------------------------------------------
> [INFO]
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Skipping ANTLR Master build control POM [INFO] This project has
> been banned from the build due to previous failures.
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Reactor Summary:
> [INFO]
> [INFO] ANTLR Master build control POM .................... SUCCESS
> [0.498s] [INFO] Antlr 3 Runtime ...................................
> SUCCESS [1.607s] [INFO] ANTLR Grammar Tool
> ................................ FAILURE [3.515s] [INFO] Maven plugin
> for ANTLR V3 ......................... SKIPPED [INFO] ANTLR gUnit
> ....................................... SKIPPED [INFO] Maven plugin for
> gUnit ANTLR V3 ................... SKIPPED [INFO] ANTLR3 Maven
> Archetype ............................ SKIPPED [INFO] -----------------
> -------------------------------------------------------
> [INFO] BUILD FAILURE
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Total time: 6.672s
> [INFO] Finished at: Sun Mar 06 17:04:24 PST 2011 [INFO] Final Memory:
> 13M/62M [INFO] --------------------------------------------------------
> ----------------
> [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-
> plugin:2.3.2:compile (default-compile) on project antlr: Compilation
> failure: Compilation failure:
> [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-
> sources/antlr/org/antlr/grammar/v2/ANTLRParser.java:[89,7] duplicate
> class: org.antlr.grammar.v2.ANTLRParser [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/org/antlr/grammar/v2/ANTLRLexer.java:[78,7]
> duplicate class: org.antlr.grammar.v2.ANTLRLexer [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/ANTLRTokenTypes.java:[50,7] duplicate
> class: org.antlr.grammar.v2.ANTLRTokenTypes
> [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/src
> /main/java/org/antlr/tool/Grammar.java:[948,15] non-static method
> createSimpleRuleAST(java.lang.String,org.antlr.tool.GrammarAST,boolean)
> cannot be referenced from a static context [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/ANTLRParser.java:[1417,8] cannot find
> symbol [ERROR] symbol  : variable ruleStartTokenIndex [ERROR] location:
> class org.antlr.tool.GrammarAST [ERROR]
> /Users/acondit/source/antlr3/acondit_localhost/code/antlr/main/tool/tar
> get/generated-sources/antlr/ANTLRParser.java:[1418,8] cannot find
> symbol [ERROR] symbol  : variable ruleStopTokenIndex [ERROR] location:
> class org.antlr.tool.GrammarAST [ERROR] -> [Help 1]
> org.apache.maven.lifecycle.LifecycleExecutionException: Failed to
> execute goal org.apache.maven.plugins:maven-compiler-
> plugin:2.3.2:compile (default-compile) on project antlr: Compilation
> failure
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:213)
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:153)
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:145)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject
> (LifecycleModuleBuilder.java:84)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject
> (LifecycleModuleBuilder.java:59)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuil
> d(LifecycleStarter.java:183)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleS
> tarter.java:161)
> 	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)
> 	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
> 	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
> 	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
> 	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at
> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.ja
> va:39)
> 	at
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccesso
> rImpl.java:25)
> 	at java.lang.reflect.Method.invoke(Method.java:597)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launch
> er.java:290)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:
> 230)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Laun
> cher.java:409)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:35
> 2)
> Caused by: org.apache.maven.plugin.CompilationFailureException:
> Compilation failure
> 	at
> org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompilerMo
> jo.java:656)
> 	at
> org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:128)
> 	at
> org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBu
> ildPluginManager.java:101)
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:209)
> 	... 19 more
> [ERROR]
> [ERROR] Re-run Maven using the -X switch to enable full debug logging.
> [ERROR]
> [ERROR] For more information about the errors and possible solutions,
> please read the following articles:
> [ERROR] [Help 1]
> http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
> [ERROR]
> [ERROR] After correcting the problems, you can resume the build with
> the command
> [ERROR]   mvn <goals> -rf :antlr
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From jimi at temporal-wave.com  Sun Mar  6 17:39:40 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Sun, 6 Mar 2011 17:39:40 -0800
Subject: [antlr-interest] How to reduce the size of the generated lexer?
In-Reply-To: <AANLkTi=+veLC+6UjbWT-cyjrC3zrYjbshZzH+hZWHcoR@mail.gmail.com>
References: <AANLkTi=+veLC+6UjbWT-cyjrC3zrYjbshZzH+hZWHcoR@mail.gmail.com>
Message-ID: <5c7b88085bf441626e572a42a3aa0063@mail.gmail.com>

It means that that rule is not well formed, but without seeing your lexer
I can't tell you :-) But generally, rules that say "everything but these",
combined with overly specialized rules will cause you issues. Try to be as
relaxed as you can in the lexer without generating ambiguities, then check
valid characters with code; the reason is that the errors you give out
will be semantic in nature such as "Identifiers cannot contain characters
like 'x'" instead of: Unexpected character 'x' skipped, rather than the
ability of ANTLR to work out some way for your rules to be encoded.

Your rule below though looks highly ambiguous based on the sets. Perhaps
all you are looking for is a final rule in the list of rules that says:

ANYTHINGELSE : . { myErrorMessage(invalid); } ;

Additionally adding + to such a rule will generate huge tables and will
probably not make sense. Just removing the + will help, but is unlikely to
be the correct solution. Post what you are trying to do rather than what
is going wrong with what you have.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Mu Qiao
> Sent: Sunday, March 06, 2011 5:19 PM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] How to reduce the size of the generated
> lexer?
>
> Hi
>
> I use c runtime libantlr3c-3.1.3. The generated lexer is bigger than
> 10 MB full of arrays of integers. I tried to see what was going on and
> I found there was a rule:
> NQCHAR_NO_ALPHANUM
>     :   ~('\n'|'\r'|'
> '|'\t'|'\\'|CARET|QMARK|COLON|AT|SEMIC|POUND|SLASH|BANG|TIMES|COMMA|PIP
> E|AMP|MINUS|PLUS|PCT|EQUALS|LSQUARE|RSQUARE|RPAREN|LPAREN|RBRACE|LBRACE
> |DOLLAR|TICK|DOT|LT|GT|SQUOTE|QUOTE|'a'..'z'|'A'..'Z'|'0'..'9')+;
>
> If I remove the rule, the lexer is only 400 KB.
>
> I'm still new to antlr and I'm not sure if there is any way to refactor
> the rule and reduce the size of lexer. Could anyone please help me out?
>
> --
> Best wishes,
> Mu Qiao
> GnuPG fingerprint: 92B1 B0C4 8D14 F8C4 EFA5? 3ACC 30B3 0DE4 17B1 57E9
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From qiaomuf at gmail.com  Sun Mar  6 18:12:59 2011
From: qiaomuf at gmail.com (Mu Qiao)
Date: Mon, 7 Mar 2011 02:12:59 +0000
Subject: [antlr-interest] How to reduce the size of the generated lexer?
In-Reply-To: <5c7b88085bf441626e572a42a3aa0063@mail.gmail.com>
References: <AANLkTi=+veLC+6UjbWT-cyjrC3zrYjbshZzH+hZWHcoR@mail.gmail.com>
	<5c7b88085bf441626e572a42a3aa0063@mail.gmail.com>
Message-ID: <AANLkTi=CmNW=KjyGnbh7E=81oOjE8DtXhYhAXnxzBU5q@mail.gmail.com>

The rule is used in another rule to represent a part of a string that
doesn't contain reserved word. You're right that the grammar is not
well formed, and I should try to refactor it in some way. This rule is
only used by the rule that represents strings. So I marked it as a
fragment lexer rule and then the size of lexer seems acceptable to me.
Because Java runtime generated an acceptable lexer for the original
grammar, it confused me at first. Thanks for answering.

On Mon, Mar 7, 2011 at 1:39 AM, Jim Idle <jimi at temporal-wave.com> wrote:
> It means that that rule is not well formed, but without seeing your lexer
> I can't tell you :-) But generally, rules that say "everything but these",
> combined with overly specialized rules will cause you issues. Try to be as
> relaxed as you can in the lexer without generating ambiguities, then check
> valid characters with code; the reason is that the errors you give out
> will be semantic in nature such as "Identifiers cannot contain characters
> like 'x'" instead of: Unexpected character 'x' skipped, rather than the
> ability of ANTLR to work out some way for your rules to be encoded.
>
> Your rule below though looks highly ambiguous based on the sets. Perhaps
> all you are looking for is a final rule in the list of rules that says:
>
> ANYTHINGELSE : . { myErrorMessage(invalid); } ;
>
> Additionally adding + to such a rule will generate huge tables and will
> probably not make sense. Just removing the + will help, but is unlikely to
> be the correct solution. Post what you are trying to do rather than what
> is going wrong with what you have.
>
> Jim
>
>> -----Original Message-----
>> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
>> bounces at antlr.org] On Behalf Of Mu Qiao
>> Sent: Sunday, March 06, 2011 5:19 PM
>> To: antlr-interest at antlr.org
>> Subject: [antlr-interest] How to reduce the size of the generated
>> lexer?
>>
>> Hi
>>
>> I use c runtime libantlr3c-3.1.3. The generated lexer is bigger than
>> 10 MB full of arrays of integers. I tried to see what was going on and
>> I found there was a rule:
>> NQCHAR_NO_ALPHANUM
>> ? ? : ? ~('\n'|'\r'|'
>> '|'\t'|'\\'|CARET|QMARK|COLON|AT|SEMIC|POUND|SLASH|BANG|TIMES|COMMA|PIP
>> E|AMP|MINUS|PLUS|PCT|EQUALS|LSQUARE|RSQUARE|RPAREN|LPAREN|RBRACE|LBRACE
>> |DOLLAR|TICK|DOT|LT|GT|SQUOTE|QUOTE|'a'..'z'|'A'..'Z'|'0'..'9')+;
>>
>> If I remove the rule, the lexer is only 400 KB.
>>
>> I'm still new to antlr and I'm not sure if there is any way to refactor
>> the rule and reduce the size of lexer. Could anyone please help me out?
>>
>> --
>> Best wishes,
>> Mu Qiao
>> GnuPG fingerprint: 92B1 B0C4 8D14 F8C4 EFA5? 3ACC 30B3 0DE4 17B1 57E9
>>
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
>> email-address
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>



-- 
Best wishes,
Mu Qiao
GnuPG fingerprint: 92B1 B0C4 8D14 F8C4 EFA5? 3ACC 30B3 0DE4 17B1 57E9

From michael.bedward at gmail.com  Sun Mar  6 18:31:06 2011
From: michael.bedward at gmail.com (Michael Bedward)
Date: Mon, 7 Mar 2011 13:31:06 +1100
Subject: [antlr-interest] ANTLR maven build failing
In-Reply-To: <d774ff6501ce11be62429c196ba07d79@mail.gmail.com>
References: <1FB1B63E-F208-4528-99F0-428E968A5ECF@IPNS.COM>
	<d774ff6501ce11be62429c196ba07d79@mail.gmail.com>
Message-ID: <AANLkTi=HSUGREcv8HW9D-SYHoFenhL3Mq8Ga8G6kopnx@mail.gmail.com>

Hello Jim

> Before too long, when my x week work backlog gets better, I will
> upgrade to the latest maven, with associated tweaks,

Do you mean maven 3  or the latest maven 2.x ?  I've had trouble with
maven 3 running out of memory for projects where maven 2 works fine.
Although some useful options have been added to maven 3 I planned to
wait another year or two for the dust to settle :)

Michael

From cummings at kjchome.homeip.net  Sun Mar  6 20:16:31 2011
From: cummings at kjchome.homeip.net (Kevin J. Cummings)
Date: Sun, 06 Mar 2011 23:16:31 -0500
Subject: [antlr-interest] How to use antlr-interest mailing list
In-Reply-To: <4D737C77.6030607@googlemail.com>
References: <4D737C77.6030607@googlemail.com>
Message-ID: <4D745C1F.8070000@kjchome.homeip.net>

On 03/06/2011 07:22 AM, Stephen Tuttlebee wrote:
> Hi
> 
> This is my first time using the antlr-interest mailing list and mailing 
> lists in general and am wondering if there is any way for me to receive 
> digests whilst still being able to respond to specific messages? With 
> digests turned on at the moment, the best I can manage is to reply to my 
> own messages (from my e-mail outbox). Anyone know of a way I can do both?

Stephen,
	ANTLR uses GNU Mailman for its email list (as opposed to Yahoo egroup,
or an older ListServ, or a GoogleGroup).  As such, most email servers
have the option of you receiving your emails either individually or in a
digest form.  Contrary to popular belief, in order to maintain proper
email threading in response to particular emails in a digest, the
support needs to be in your email program.  Very few of them do it
correctly.  Also contrary to popular belief, anyone who tells you to
just change the subject line *is* *wrong*.  They probably do not a use
an email program which maintains proper email threading by properly
following the hints and tips in the email headers.  If all you do is
change the subject line, it will not be properly threaded by the users
who use the proper software, in fact, it will *break* that threading.

	I really can't explain how difficult it is to properly follow
discussions that have been broken by people using inferior email
software, or just don't care that they are breaking the threading.....
(And I'm not talking about just *this* email list!  I am subscribed to
more than a dozen different email lists of various kinds....)

> Also, anyone know of somewhere that explains how to use the mailing 
> list. I've moreorless worked it out but an explanation somewhere might 
> be helpful.

The 2 links at the bottom of each and every email should be your
starting place.  All of the documentation is linked from those pages.
For the most part, when you sent out your email, you showed that you
understood most of what it takes to know how to use the email list.  B^)

> Thanks
> Stephen
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address

-- 
Kevin J. Cummings
kjchome at verizon.net
cummings at kjchome.homeip.net
cummings at kjc386.framingham.ma.us
Registered Linux User #1232 (http://counter.li.org)

From acondit at ipns.com  Sun Mar  6 21:22:58 2011
From: acondit at ipns.com (Alan Condit)
Date: Sun, 6 Mar 2011 21:22:58 -0800
Subject: [antlr-interest] ANTLR maven build failing
Message-ID: <5EA6B4D0-8830-4669-9674-9A3A068951FA@ipns.com>

OK, I reverted back to maven 2.2.1 and tried to build ANTLR3.2 and it still fails.

[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr-runtime:jar:3.2
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 149, column 22
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 177, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 107, column 17
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr:jar:3.2
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:antlr-maven-plugin is missing. @ line 77, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 93, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 149, column 22
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 177, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 181, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:gunit:jar:3.2
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 132, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 149, column 22
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 141, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 145, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:maven-gunit-plugin:maven-plugin:3.2
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-project-info-reports-plugin is missing. @ line 231, column 21
[WARNING] The expression ${groupId} is deprecated. Please use ${project.groupId} instead.
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr-master:pom:3.2
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 168, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ line 149, column 22
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 177, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 181, column 21
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] ANTLR Master build control POM
[INFO] Antlr 3 Runtime
[INFO] ANTLR Grammar Tool
[INFO] Maven plugin for ANTLR V3
[INFO] ANTLR gUnit
[INFO] Maven plugin for gUnit ANTLR V3
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building ANTLR Master build control POM 3.2
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.0-beta-4:create (default) @ antlr-master ---
[INFO] Storing buildNumber: Mar 06, 2011 21:09:10 at timestamp: 1299474550995
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] ANTLR Master build control POM .................... FAILURE [0.624s]
[INFO] Antlr 3 Runtime ................................... SKIPPED
[INFO] ANTLR Grammar Tool ................................ SKIPPED
[INFO] Maven plugin for ANTLR V3 ......................... SKIPPED
[INFO] ANTLR gUnit ....................................... SKIPPED
[INFO] Maven plugin for gUnit ANTLR V3 ................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.146s
[INFO] Finished at: Sun Mar 06 21:09:11 PST 2011
[INFO] Final Memory: 3M/62M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create (default) on project antlr-master: Execution default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed: The scm url cannot be null. -> [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create (default) on project antlr-master: Execution default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed: The scm url cannot be null.
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:225)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
Caused by: org.apache.maven.plugin.PluginExecutionException: Execution default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed: The scm url cannot be null.
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:110)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
	... 19 more
Caused by: java.lang.NullPointerException: The scm url cannot be null.
	at org.apache.maven.scm.manager.AbstractScmManager.makeScmRepository(AbstractScmManager.java:181)
	at org.codehaus.mojo.build.CreateMojo.getScmRepository(CreateMojo.java:722)
	at org.codehaus.mojo.build.CreateMojo.getScmBranch(CreateMojo.java:593)
	at org.codehaus.mojo.build.CreateMojo.execute(CreateMojo.java:452)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
	... 20 more
[ERROR] 
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException
[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr-runtime:jar:3.2
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 149, column 22
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 177, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 107, column 17
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr:jar:3.2
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:antlr-maven-plugin is missing. @ line 77, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 93, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 149, column 22
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 177, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 181, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:gunit:jar:3.2
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 132, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 149, column 22
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 141, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 145, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:maven-gunit-plugin:maven-plugin:3.2
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-project-info-reports-plugin is missing. @ line 231, column 21
[WARNING] The expression ${groupId} is deprecated. Please use ${project.groupId} instead.
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr-master:pom:3.2
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 168, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ line 149, column 22
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 177, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 181, column 21
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] ANTLR Master build control POM
[INFO] Antlr 3 Runtime
[INFO] ANTLR Grammar Tool
[INFO] Maven plugin for ANTLR V3
[INFO] ANTLR gUnit
[INFO] Maven plugin for gUnit ANTLR V3
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building ANTLR Master build control POM 3.2
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.0-beta-4:create (default) @ antlr-master ---
[INFO] Storing buildNumber: Mar 06, 2011 21:09:14 at timestamp: 1299474554408
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Skipping ANTLR Master build control POM
[INFO] This project has been banned from the build due to previous failures.
[INFO] ------------------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] ANTLR Master build control POM .................... FAILURE [0.449s]
[INFO] Antlr 3 Runtime ................................... SKIPPED
[INFO] ANTLR Grammar Tool ................................ SKIPPED
[INFO] Maven plugin for ANTLR V3 ......................... SKIPPED
[INFO] ANTLR gUnit ....................................... SKIPPED
[INFO] Maven plugin for gUnit ANTLR V3 ................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.141s
[INFO] Finished at: Sun Mar 06 21:09:14 PST 2011
[INFO] Final Memory: 4M/62M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create (default) on project antlr-master: Execution default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed: The scm url cannot be null. -> [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create (default) on project antlr-master: Execution default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed: The scm url cannot be null.
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:225)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
Caused by: org.apache.maven.plugin.PluginExecutionException: Execution default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed: The scm url cannot be null.
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:110)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
	... 19 more
Caused by: java.lang.NullPointerException: The scm url cannot be null.
	at org.apache.maven.scm.manager.AbstractScmManager.makeScmRepository(AbstractScmManager.java:181)
	at org.codehaus.mojo.build.CreateMojo.getScmRepository(CreateMojo.java:722)
	at org.codehaus.mojo.build.CreateMojo.getScmBranch(CreateMojo.java:593)
	at org.codehaus.mojo.build.CreateMojo.execute(CreateMojo.java:452)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
	... 20 more
[ERROR] 
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException
cp: target/antlr-master-3.2.1-SNAPSHOT-completejar.jar: No such file or directory
cp: /Library/Java/Extensions/antlr-3.2.1.jar: No such file or directory
B
---

Alan Condit
1085 Tierra Ct.
Woodburn, OR 97071

Email -- acondit at ipns.com
Home-Office (503) 982-0906


From g4 at novadsp.com  Mon Mar  7 06:32:55 2011
From: g4 at novadsp.com (g4 at novadsp.com)
Date: Mon, 07 Mar 2011 14:32:55 +0000
Subject: [antlr-interest] V2 -> V3 rules
Message-ID: <4D74EC97.4080005@novadsp.com>

I've checked the Migration Wiki and it's a little unclear on how handle 
the following. The general form is taken from bison.g:

V2:

rhs : rhs_alt
     { ## = #( [ALT, "alt"], #rhs ); }
     ( OR^ rhs_alt )*;

V3:

rhs : (a=rhs_alt -> $rhs ) (OR b=rhs)*
     ;

error(132) reference $rhs is ambiguous; rule rhs is enclosing rule and 
referenced in the production (assuming enclosing rule)

V3 - not even sure if this form is legal ...

rhs : rhs_alt
         { $$ = $([OR,"or"],$rhs); }
       (OR^ rhs_alt)*
     ;

error(117): missing attribute access on rule scope: rhs

Thx++

Jerry.




From jimi at temporal-wave.com  Mon Mar  7 07:19:30 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Mon, 7 Mar 2011 07:19:30 -0800
Subject: [antlr-interest] ANTLR maven build failing
In-Reply-To: <AANLkTi=HSUGREcv8HW9D-SYHoFenhL3Mq8Ga8G6kopnx@mail.gmail.com>
References: <1FB1B63E-F208-4528-99F0-428E968A5ECF@IPNS.COM>
	<d774ff6501ce11be62429c196ba07d79@mail.gmail.com>
	<AANLkTi=HSUGREcv8HW9D-SYHoFenhL3Mq8Ga8G6kopnx@mail.gmail.com>
Message-ID: <8c32e5b7ed6fcd353b1728c0c6992784@mail.gmail.com>

I think that I will make that decision once I try running Maven 3 :)

Jim

> -----Original Message-----
> From: Michael Bedward [mailto:michael.bedward at gmail.com]
> Sent: Sunday, March 06, 2011 6:31 PM
> To: Jim Idle
> Cc: ANTLR Interest
> Subject: Re: [antlr-interest] ANTLR maven build failing
>
> Hello Jim
>
> > Before too long, when my x week work backlog gets better, I will
> > upgrade to the latest maven, with associated tweaks,
>
> Do you mean maven 3  or the latest maven 2.x ?  I've had trouble with
> maven 3 running out of memory for projects where maven 2 works fine.
> Although some useful options have been added to maven 3 I planned to
> wait another year or two for the dust to settle :)
>
> Michael

From jimi at temporal-wave.com  Mon Mar  7 07:22:50 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Mon, 7 Mar 2011 07:22:50 -0800
Subject: [antlr-interest] ANTLR maven build failing
In-Reply-To: <5EA6B4D0-8830-4669-9674-9A3A068951FA@ipns.com>
References: <5EA6B4D0-8830-4669-9674-9A3A068951FA@ipns.com>
Message-ID: <46ed87a79a2ca91372b1f52334e3dde4@mail.gmail.com>

This looks like your maven repository is corrupt. Just delete:

/Users/acondit/.m2

And start again. Such a thing has happened to me infrequently and on
Windows only, but it is your first port of call as this is complaining
about plugins that are not ours.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Alan Condit
> Sent: Sunday, March 06, 2011 9:23 PM
> To: ANTLR Interest
> Subject: [antlr-interest] ANTLR maven build failing
>
> OK, I reverted back to maven 2.2.1 and tried to build ANTLR3.2 and it
> still fails.
>
> [INFO] Error stacktraces are turned on.
> [INFO] Scanning for projects...
> [WARNING]
> [WARNING] Some problems were encountered while building the effective
> model for org.antlr:antlr-runtime:jar:3.2 [WARNING]
> 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-
> plugin is missing. @ org.antlr:antlr-master:3.2,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-
> 3.2.pom, line 149, column 22 [WARNING] 'build.plugins.plugin.version'
> for org.apache.maven.plugins:maven-surefire-plugin is missing. @
> org.antlr:antlr-master:3.2,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-
> 3.2.pom, line 177, column 21 [WARNING] 'build.plugins.plugin.version'
> for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 107,
> column 17 [WARNING] [WARNING] Some problems were encountered while
> building the effective model for org.antlr:antlr:jar:3.2 [WARNING]
> 'build.plugins.plugin.version' for org.codehaus.mojo:antlr-maven-plugin
> is missing. @ line 77, column 21 [WARNING]
> 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-
> compiler-plugin is missing. @ line 93, column 21 [WARNING]
> 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-
> plugin is missing. @ org.antlr:antlr-master:3.2,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-
> 3.2.pom, line 149, column 22 [WARNING] 'build.plugins.plugin.version'
> for org.apache.maven.plugins:maven-surefire-plugin is missing. @
> org.antlr:antlr-master:3.2,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-
> 3.2.pom, line 177, column 21 [WARNING] 'build.plugins.plugin.version'
> for org.codehaus.mojo:findbugs-maven-plugin is missing. @
> org.antlr:antlr-master:3.2,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-
> 3.2.pom, line 181, column 21 [WARNING] [WARNING] Some problems were
> encountered while building the effective model for
> org.antlr:gunit:jar:3.2 [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 132,
> column 21 [WARNING] 'build.plugins.plugin.version' for
> org.codehaus.mojo:buildnumber-maven-plugin is missing. @
> org.antlr:antlr-master:3.2,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-
> 3.2.pom, line 149, column 22 [WARNING] 'build.plugins.plugin.version'
> for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line
> 141, column 21 [WARNING] 'build.plugins.plugin.version' for
> org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 145, column
> 21 [WARNING] [WARNING] Some problems were encountered while building
> the effective model for org.antlr:maven-gunit-plugin:maven-plugin:3.2
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-project-info-reports-plugin is missing.
> @ line 231, column 21 [WARNING] The expression ${groupId} is
> deprecated. Please use ${project.groupId} instead.
> [WARNING]
> [WARNING] Some problems were encountered while building the effective
> model for org.antlr:antlr-master:pom:3.2 [WARNING]
> 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-
> compiler-plugin is missing. @ line 168, column 21 [WARNING]
> 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-
> plugin is missing. @ line 149, column 22 [WARNING]
> 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-
> surefire-plugin is missing. @ line 177, column 21 [WARNING]
> 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-
> plugin is missing. @ line 181, column 21 [WARNING] [WARNING] It is
> highly recommended to fix these problems because they threaten the
> stability of your build.
> [WARNING]
> [WARNING] For this reason, future Maven versions might no longer
> support building such malformed projects.
> [WARNING]
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Reactor Build Order:
> [INFO]
> [INFO] ANTLR Master build control POM
> [INFO] Antlr 3 Runtime
> [INFO] ANTLR Grammar Tool
> [INFO] Maven plugin for ANTLR V3
> [INFO] ANTLR gUnit
> [INFO] Maven plugin for gUnit ANTLR V3
> [INFO]
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Building ANTLR Master build control POM 3.2 [INFO] -------------
> -----------------------------------------------------------
> [INFO]
> [INFO] --- buildnumber-maven-plugin:1.0-beta-4:create (default) @
> antlr-master --- [INFO] Storing buildNumber: Mar 06, 2011 21:09:10 at
> timestamp: 1299474550995 [INFO] ---------------------------------------
> ---------------------------------
> [INFO] Reactor Summary:
> [INFO]
> [INFO] ANTLR Master build control POM .................... FAILURE
> [0.624s] [INFO] Antlr 3 Runtime ...................................
> SKIPPED [INFO] ANTLR Grammar Tool ................................
> SKIPPED [INFO] Maven plugin for ANTLR V3 .........................
> SKIPPED [INFO] ANTLR gUnit .......................................
> SKIPPED [INFO] Maven plugin for gUnit ANTLR V3 ...................
> SKIPPED [INFO] --------------------------------------------------------
> ----------------
> [INFO] BUILD FAILURE
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Total time: 1.146s
> [INFO] Finished at: Sun Mar 06 21:09:11 PST 2011 [INFO] Final Memory:
> 3M/62M [INFO] ---------------------------------------------------------
> ---------------
> [ERROR] Failed to execute goal org.codehaus.mojo:buildnumber-maven-
> plugin:1.0-beta-4:create (default) on project antlr-master: Execution
> default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-
> 4:create failed: The scm url cannot be null. -> [Help 1]
> org.apache.maven.lifecycle.LifecycleExecutionException: Failed to
> execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-
> 4:create (default) on project antlr-master: Execution default of goal
> org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed:
> The scm url cannot be null.
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:225)
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:153)
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:145)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject
> (LifecycleModuleBuilder.java:84)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject
> (LifecycleModuleBuilder.java:59)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuil
> d(LifecycleStarter.java:183)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleS
> tarter.java:161)
> 	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)
> 	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
> 	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
> 	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
> 	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at
> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.ja
> va:39)
> 	at
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccesso
> rImpl.java:25)
> 	at java.lang.reflect.Method.invoke(Method.java:597)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launch
> er.java:290)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:
> 230)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Laun
> cher.java:409)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:35
> 2)
> Caused by: org.apache.maven.plugin.PluginExecutionException: Execution
> default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-
> 4:create failed: The scm url cannot be null.
> 	at
> org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBu
> ildPluginManager.java:110)
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:209)
> 	... 19 more
> Caused by: java.lang.NullPointerException: The scm url cannot be null.
> 	at
> org.apache.maven.scm.manager.AbstractScmManager.makeScmRepository(Abstr
> actScmManager.java:181)
> 	at
> org.codehaus.mojo.build.CreateMojo.getScmRepository(CreateMojo.java:722
> )
> 	at
> org.codehaus.mojo.build.CreateMojo.getScmBranch(CreateMojo.java:593)
> 	at org.codehaus.mojo.build.CreateMojo.execute(CreateMojo.java:452)
> 	at
> org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBu
> ildPluginManager.java:101)
> 	... 20 more
> [ERROR]
> [ERROR] Re-run Maven using the -X switch to enable full debug logging.
> [ERROR]
> [ERROR] For more information about the errors and possible solutions,
> please read the following articles:
> [ERROR] [Help 1]
> http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionExcepti
> on
> [INFO] Error stacktraces are turned on.
> [INFO] Scanning for projects...
> [WARNING]
> [WARNING] Some problems were encountered while building the effective
> model for org.antlr:antlr-runtime:jar:3.2 [WARNING]
> 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-
> plugin is missing. @ org.antlr:antlr-master:3.2,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-
> 3.2.pom, line 149, column 22 [WARNING] 'build.plugins.plugin.version'
> for org.apache.maven.plugins:maven-surefire-plugin is missing. @
> org.antlr:antlr-master:3.2,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-
> 3.2.pom, line 177, column 21 [WARNING] 'build.plugins.plugin.version'
> for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 107,
> column 17 [WARNING] [WARNING] Some problems were encountered while
> building the effective model for org.antlr:antlr:jar:3.2 [WARNING]
> 'build.plugins.plugin.version' for org.codehaus.mojo:antlr-maven-plugin
> is missing. @ line 77, column 21 [WARNING]
> 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-
> compiler-plugin is missing. @ line 93, column 21 [WARNING]
> 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-
> plugin is missing. @ org.antlr:antlr-master:3.2,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-
> 3.2.pom, line 149, column 22 [WARNING] 'build.plugins.plugin.version'
> for org.apache.maven.plugins:maven-surefire-plugin is missing. @
> org.antlr:antlr-master:3.2,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-
> 3.2.pom, line 177, column 21 [WARNING] 'build.plugins.plugin.version'
> for org.codehaus.mojo:findbugs-maven-plugin is missing. @
> org.antlr:antlr-master:3.2,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-
> 3.2.pom, line 181, column 21 [WARNING] [WARNING] Some problems were
> encountered while building the effective model for
> org.antlr:gunit:jar:3.2 [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 132,
> column 21 [WARNING] 'build.plugins.plugin.version' for
> org.codehaus.mojo:buildnumber-maven-plugin is missing. @
> org.antlr:antlr-master:3.2,
> /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-
> 3.2.pom, line 149, column 22 [WARNING] 'build.plugins.plugin.version'
> for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line
> 141, column 21 [WARNING] 'build.plugins.plugin.version' for
> org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 145, column
> 21 [WARNING] [WARNING] Some problems were encountered while building
> the effective model for org.antlr:maven-gunit-plugin:maven-plugin:3.2
> [WARNING] 'build.plugins.plugin.version' for
> org.apache.maven.plugins:maven-project-info-reports-plugin is missing.
> @ line 231, column 21 [WARNING] The expression ${groupId} is
> deprecated. Please use ${project.groupId} instead.
> [WARNING]
> [WARNING] Some problems were encountered while building the effective
> model for org.antlr:antlr-master:pom:3.2 [WARNING]
> 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-
> compiler-plugin is missing. @ line 168, column 21 [WARNING]
> 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-
> plugin is missing. @ line 149, column 22 [WARNING]
> 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-
> surefire-plugin is missing. @ line 177, column 21 [WARNING]
> 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-
> plugin is missing. @ line 181, column 21 [WARNING] [WARNING] It is
> highly recommended to fix these problems because they threaten the
> stability of your build.
> [WARNING]
> [WARNING] For this reason, future Maven versions might no longer
> support building such malformed projects.
> [WARNING]
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Reactor Build Order:
> [INFO]
> [INFO] ANTLR Master build control POM
> [INFO] Antlr 3 Runtime
> [INFO] ANTLR Grammar Tool
> [INFO] Maven plugin for ANTLR V3
> [INFO] ANTLR gUnit
> [INFO] Maven plugin for gUnit ANTLR V3
> [INFO]
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Building ANTLR Master build control POM 3.2 [INFO] -------------
> -----------------------------------------------------------
> [INFO]
> [INFO] --- buildnumber-maven-plugin:1.0-beta-4:create (default) @
> antlr-master --- [INFO] Storing buildNumber: Mar 06, 2011 21:09:14 at
> timestamp: 1299474554408
> [INFO]
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Skipping ANTLR Master build control POM [INFO] This project has
> been banned from the build due to previous failures.
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Reactor Summary:
> [INFO]
> [INFO] ANTLR Master build control POM .................... FAILURE
> [0.449s] [INFO] Antlr 3 Runtime ...................................
> SKIPPED [INFO] ANTLR Grammar Tool ................................
> SKIPPED [INFO] Maven plugin for ANTLR V3 .........................
> SKIPPED [INFO] ANTLR gUnit .......................................
> SKIPPED [INFO] Maven plugin for gUnit ANTLR V3 ...................
> SKIPPED [INFO] --------------------------------------------------------
> ----------------
> [INFO] BUILD FAILURE
> [INFO] ----------------------------------------------------------------
> --------
> [INFO] Total time: 1.141s
> [INFO] Finished at: Sun Mar 06 21:09:14 PST 2011 [INFO] Final Memory:
> 4M/62M [INFO] ---------------------------------------------------------
> ---------------
> [ERROR] Failed to execute goal org.codehaus.mojo:buildnumber-maven-
> plugin:1.0-beta-4:create (default) on project antlr-master: Execution
> default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-
> 4:create failed: The scm url cannot be null. -> [Help 1]
> org.apache.maven.lifecycle.LifecycleExecutionException: Failed to
> execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-
> 4:create (default) on project antlr-master: Execution default of goal
> org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed:
> The scm url cannot be null.
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:225)
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:153)
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:145)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject
> (LifecycleModuleBuilder.java:84)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject
> (LifecycleModuleBuilder.java:59)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuil
> d(LifecycleStarter.java:183)
> 	at
> org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleS
> tarter.java:161)
> 	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)
> 	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
> 	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
> 	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
> 	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at
> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.ja
> va:39)
> 	at
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccesso
> rImpl.java:25)
> 	at java.lang.reflect.Method.invoke(Method.java:597)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launch
> er.java:290)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:
> 230)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Laun
> cher.java:409)
> 	at
> org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:35
> 2)
> Caused by: org.apache.maven.plugin.PluginExecutionException: Execution
> default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-
> 4:create failed: The scm url cannot be null.
> 	at
> org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBu
> ildPluginManager.java:110)
> 	at
> org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.j
> ava:209)
> 	... 19 more
> Caused by: java.lang.NullPointerException: The scm url cannot be null.
> 	at
> org.apache.maven.scm.manager.AbstractScmManager.makeScmRepository(Abstr
> actScmManager.java:181)
> 	at
> org.codehaus.mojo.build.CreateMojo.getScmRepository(CreateMojo.java:722
> )
> 	at
> org.codehaus.mojo.build.CreateMojo.getScmBranch(CreateMojo.java:593)
> 	at org.codehaus.mojo.build.CreateMojo.execute(CreateMojo.java:452)
> 	at
> org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBu
> ildPluginManager.java:101)
> 	... 20 more
> [ERROR]
> [ERROR] Re-run Maven using the -X switch to enable full debug logging.
> [ERROR]
> [ERROR] For more information about the errors and possible solutions,
> please read the following articles:
> [ERROR] [Help 1]
> http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionExcepti
> on
> cp: target/antlr-master-3.2.1-SNAPSHOT-completejar.jar: No such file or
> directory
> cp: /Library/Java/Extensions/antlr-3.2.1.jar: No such file or directory
> B
> ---
>
> Alan Condit
> 1085 Tierra Ct.
> Woodburn, OR 97071
>
> Email -- acondit at ipns.com
> Home-Office (503) 982-0906
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From jimi at temporal-wave.com  Mon Mar  7 07:25:22 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Mon, 7 Mar 2011 07:25:22 -0800
Subject: [antlr-interest] V2 -> V3 rules
In-Reply-To: <4D74EC97.4080005@novadsp.com>
References: <4D74EC97.4080005@novadsp.com>
Message-ID: <6f67bd3c2757d87b45b0c29e7a8130b5@mail.gmail.com>

rhs : rhs_alt ( OR^ rhs_alt )*;



> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of g4 at novadsp.com
> Sent: Monday, March 07, 2011 6:33 AM
> To: ANTLR Interest
> Subject: [antlr-interest] V2 -> V3 rules
>
> I've checked the Migration Wiki and it's a little unclear on how handle
> the following. The general form is taken from bison.g:
>
> V2:
>
> rhs : rhs_alt
>      { ## = #( [ALT, "alt"], #rhs ); }
>      ( OR^ rhs_alt )*;
>
> V3:
>
> rhs : (a=rhs_alt -> $rhs ) (OR b=rhs)*
>      ;
>
> error(132) reference $rhs is ambiguous; rule rhs is enclosing rule and
> referenced in the production (assuming enclosing rule)
>
> V3 - not even sure if this form is legal ...
>
> rhs : rhs_alt
>          { $$ = $([OR,"or"],$rhs); }
>        (OR^ rhs_alt)*
>      ;
>
> error(117): missing attribute access on rule scope: rhs
>
> Thx++
>
> Jerry.
>
>
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From acondit at ipns.com  Mon Mar  7 08:01:24 2011
From: acondit at ipns.com (Alan Condit)
Date: Mon, 7 Mar 2011 08:01:24 -0800
Subject: [antlr-interest] ANTLR maven build failing
Message-ID: <B83C5CD8-62F0-49B9-BD60-983F8A8CE5CF@ipns.com>

jimi,

I deleted .m2 and tried it again, it looks like the same basic errors in trying to build.

The following two lines seem to be the source of the errors (not found together in listing):
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 149, column 22

[ERROR] Failed to execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create (default) on project antlr-master: Execution default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed: The scm url cannot be null. -> [Help 1]

The first line appears multiple times with different line and column numbers.

---
alan

localhost:antlr3 acondit$ ./BuildAntlr3.2.sh
[INFO] Error stacktraces are turned on.
[INFO] Scanning for projects...
Downloading: http://repo1.maven.org/maven2/org/antlr/antlr-master/3.2/antlr-master-3.2.pom
Downloaded: http://repo1.maven.org/maven2/org/antlr/antlr-master/3.2/antlr-master-3.2.pom (9 KB at 8.3 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-external/1.0-beta-2/wagon-ssh-external-1.0-beta-2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-external/1.0-beta-2/wagon-ssh-external-1.0-beta-2.pom (2 KB at 1.8 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-providers/1.0-beta-2/wagon-providers-1.0-beta-2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-providers/1.0-beta-2/wagon-providers-1.0-beta-2.pom (2 KB at 2.2 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon/1.0-beta-2/wagon-1.0-beta-2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon/1.0-beta-2/wagon-1.0-beta-2.pom (6 KB at 7.7 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/4/maven-parent-4.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/4/maven-parent-4.pom (10 KB at 20.8 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/apache/3/apache-3.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/apache/3/apache-3.pom (4 KB at 4.4 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.0.4/plexus-utils-1.0.4.pom
Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.0.4/plexus-utils-1.0.4.pom (7 KB at 8.7 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-common/1.0-beta-2/wagon-ssh-common-1.0-beta-2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-common/1.0-beta-2/wagon-ssh-common-1.0-beta-2.pom (851 B at 1.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.pom
Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.pom (7 KB at 9.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-container-default/1.0-alpha-8/plexus-container-default-1.0-alpha-8.pom
Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-container-default/1.0-alpha-8/plexus-container-default-1.0-alpha-8.pom (8 KB at 9.3 KB/sec)
Downloading: http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.pom
Downloaded: http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.pom (998 B at 1.3 KB/sec)
Downloading: http://repo1.maven.org/maven2/classworlds/classworlds/1.1-alpha-2/classworlds-1.1-alpha-2.pom
Downloaded: http://repo1.maven.org/maven2/classworlds/classworlds/1.1-alpha-2/classworlds-1.1-alpha-2.pom (4 KB at 3.9 KB/sec)
Downloading: http://repo1.maven.org/maven2/plexus/plexus-utils/1.0.2/plexus-utils-1.0.2.pom
Downloaded: http://repo1.maven.org/maven2/plexus/plexus-utils/1.0.2/plexus-utils-1.0.2.pom (740 B at 0.9 KB/sec)
Downloading: http://repo1.maven.org/maven2/plexus/plexus-root/1.0.3/plexus-root-1.0.3.pom
Downloaded: http://repo1.maven.org/maven2/plexus/plexus-root/1.0.3/plexus-root-1.0.3.pom (6 KB at 7.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-provider-api/1.0-beta-2/wagon-provider-api-1.0-beta-2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-provider-api/1.0-beta-2/wagon-provider-api-1.0-beta-2.pom (680 B at 0.8 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-external/1.0-beta-2/wagon-ssh-external-1.0-beta-2.jar
Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.0.4/plexus-utils-1.0.4.jar
Downloading: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-common/1.0-beta-2/wagon-ssh-common-1.0-beta-2.jar
Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar
Downloading: http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.jar
Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.0.4/plexus-utils-1.0.4.jar (160 KB at 73.8 KB/sec)
Downloading: http://repo1.maven.org/maven2/plexus/plexus-utils/1.0.2/plexus-utils-1.0.2.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-common/1.0-beta-2/wagon-ssh-common-1.0-beta-2.jar (25 KB at 7.3 KB/sec)
Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar (14 KB at 3.6 KB/sec)
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-external/1.0-beta-2/wagon-ssh-external-1.0-beta-2.jar (13 KB at 3.0 KB/sec)
Downloaded: http://repo1.maven.org/maven2/plexus/plexus-utils/1.0.2/plexus-utils-1.0.2.jar (157 KB at 69.1 KB/sec)
Downloaded: http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.jar (119 KB at 24.7 KB/sec)
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr-runtime:jar:3.2
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 149, column 22
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 177, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 107, column 17
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr:jar:3.2
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:antlr-maven-plugin is missing. @ line 77, column 21
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 93, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 149, column 22
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 177, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 181, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:gunit:jar:3.2
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 132, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 149, column 22
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 141, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 145, column 21
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:maven-gunit-plugin:maven-plugin:3.2
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-project-info-reports-plugin is missing. @ line 231, column 21
[WARNING] The expression ${groupId} is deprecated. Please use ${project.groupId} instead.
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for org.antlr:antlr-master:pom:3.2
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 168, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ line 149, column 22
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 177, column 21
[WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 181, column 21
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] ANTLR Master build control POM
[INFO] Antlr 3 Runtime
[INFO] ANTLR Grammar Tool
[INFO] Maven plugin for ANTLR V3
[INFO] ANTLR gUnit
[INFO] Maven plugin for gUnit ANTLR V3
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building ANTLR Master build control POM 3.2
[INFO] ------------------------------------------------------------------------
Downloading: http://repo1.maven.org/maven2/org/codehaus/mojo/buildnumber-maven-plugin/maven-metadata.xml
Downloaded: http://repo1.maven.org/maven2/org/codehaus/mojo/buildnumber-maven-plugin/maven-metadata.xml (501 B at 0.7 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/mojo/buildnumber-maven-plugin/1.0-beta-4/buildnumber-maven-plugin-1.0-beta-4.pom
Downloaded: http://repo1.maven.org/maven2/org/codehaus/mojo/buildnumber-maven-plugin/1.0-beta-4/buildnumber-maven-plugin-1.0-beta-4.pom (10 KB at 12.3 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/mojo/mojo-parent/22/mojo-parent-22.pom
Downloaded: http://repo1.maven.org/maven2/org/codehaus/mojo/mojo-parent/22/mojo-parent-22.pom (19 KB at 25.5 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/mojo/buildnumber-maven-plugin/1.0-beta-4/buildnumber-maven-plugin-1.0-beta-4.jar
Downloaded: http://repo1.maven.org/maven2/org/codehaus/mojo/buildnumber-maven-plugin/1.0-beta-4/buildnumber-maven-plugin-1.0-beta-4.jar (22 KB at 45.5 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/maven-metadata.xml
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/maven-metadata.xml (597 B at 0.8 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/2.3.2/maven-compiler-plugin-2.3.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/2.3.2/maven-compiler-plugin-2.3.2.pom (8 KB at 2.8 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-plugins/18/maven-plugins-18.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-plugins/18/maven-plugins-18.pom (13 KB at 16.4 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/16/maven-parent-16.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/16/maven-parent-16.pom (23 KB at 26.0 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/apache/7/apache-7.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/apache/7/apache-7.pom (15 KB at 18.2 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/2.3.2/maven-compiler-plugin-2.3.2.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/2.3.2/maven-compiler-plugin-2.3.2.jar (29 KB at 25.8 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/maven-metadata.xml
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/maven-metadata.xml (868 B at 1.2 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.7.2/maven-surefire-plugin-2.7.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.7.2/maven-surefire-plugin-2.7.2.pom (10 KB at 11.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/surefire/surefire/2.7.2/surefire-2.7.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/surefire/surefire/2.7.2/surefire-2.7.2.pom (11 KB at 13.2 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/18/maven-parent-18.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/18/maven-parent-18.pom (24 KB at 30.5 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/apache/8/apache-8.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/apache/8/apache-8.pom (14 KB at 17.4 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.7.2/maven-surefire-plugin-2.7.2.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.7.2/maven-surefire-plugin-2.7.2.jar (29 KB at 25.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/mojo/findbugs-maven-plugin/maven-metadata.xml
Downloaded: http://repo1.maven.org/maven2/org/codehaus/mojo/findbugs-maven-plugin/maven-metadata.xml (648 B at 0.8 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/mojo/findbugs-maven-plugin/2.3.1/findbugs-maven-plugin-2.3.1.pom
Downloaded: http://repo1.maven.org/maven2/org/codehaus/mojo/findbugs-maven-plugin/2.3.1/findbugs-maven-plugin-2.3.1.pom (12 KB at 14.3 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/mojo/findbugs-maven-plugin/2.3.1/findbugs-maven-plugin-2.3.1.jar
Downloaded: http://repo1.maven.org/maven2/org/codehaus/mojo/findbugs-maven-plugin/2.3.1/findbugs-maven-plugin-2.3.1.jar (111 KB at 66.7 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.3.1/maven-install-plugin-2.3.1.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.3.1/maven-install-plugin-2.3.1.pom (5 KB at 6.4 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.3.1/maven-install-plugin-2.3.1.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.3.1/maven-install-plugin-2.3.1.jar (23 KB at 24.9 KB/sec)
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.0-beta-4:create (default) @ antlr-master ---
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-project/2.0.6/maven-project-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-project/2.0.6/maven-project-2.0.6.pom (3 KB at 3.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven/2.0.6/maven-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven/2.0.6/maven-2.0.6.pom (9 KB at 11.4 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/5/maven-parent-5.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/5/maven-parent-5.pom (15 KB at 19.0 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-settings/2.0.6/maven-settings-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-settings/2.0.6/maven-settings-2.0.6.pom (2 KB at 2.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-model/2.0.6/maven-model-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-model/2.0.6/maven-model-2.0.6.pom (3 KB at 3.9 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.4.1/plexus-utils-1.4.1.pom
Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.4.1/plexus-utils-1.4.1.pom (2 KB at 2.5 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus/1.0.11/plexus-1.0.11.pom
Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus/1.0.11/plexus-1.0.11.pom (9 KB at 11.2 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-container-default/1.0-alpha-9-stable-1/plexus-container-default-1.0-alpha-9-stable-1.pom
Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-container-default/1.0-alpha-9-stable-1/plexus-container-default-1.0-alpha-9-stable-1.pom (4 KB at 5.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-containers/1.0.3/plexus-containers-1.0.3.pom
Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-containers/1.0.3/plexus-containers-1.0.3.pom (492 B at 0.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus/1.0.4/plexus-1.0.4.pom
Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus/1.0.4/plexus-1.0.4.pom (6 KB at 7.2 KB/sec)
Downloading: http://repo1.maven.org/maven2/junit/junit/3.8.2/junit-3.8.2.pom
Downloaded: http://repo1.maven.org/maven2/junit/junit/3.8.2/junit-3.8.2.pom (747 B at 1.0 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-profile/2.0.6/maven-profile-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-profile/2.0.6/maven-profile-2.0.6.pom (2 KB at 2.7 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-artifact-manager/2.0.6/maven-artifact-manager-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-artifact-manager/2.0.6/maven-artifact-manager-2.0.6.pom (3 KB at 3.3 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-repository-metadata/2.0.6/maven-repository-metadata-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-repository-metadata/2.0.6/maven-repository-metadata-2.0.6.pom (2 KB at 2.4 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-artifact/2.0.6/maven-artifact-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-artifact/2.0.6/maven-artifact-2.0.6.pom (2 KB at 2.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-registry/2.0.6/maven-plugin-registry-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-registry/2.0.6/maven-plugin-registry-2.0.6.pom (2 KB at 2.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-core/2.0.6/maven-core-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-core/2.0.6/maven-core-2.0.6.pom (7 KB at 8.8 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-parameter-documenter/2.0.6/maven-plugin-parameter-documenter-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-parameter-documenter/2.0.6/maven-plugin-parameter-documenter-2.0.6.pom (2 KB at 2.5 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.pom (2 KB at 2.3 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/reporting/maven-reporting/2.0.6/maven-reporting-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/reporting/maven-reporting/2.0.6/maven-reporting-2.0.6.pom (2 KB at 1.8 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.pom (424 B at 0.5 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/doxia/doxia/1.0-alpha-7/doxia-1.0-alpha-7.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/doxia/doxia/1.0-alpha-7/doxia-1.0-alpha-7.pom (4 KB at 4.9 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-error-diagnostics/2.0.6/maven-error-diagnostics-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-error-diagnostics/2.0.6/maven-error-diagnostics-2.0.6.pom (2 KB at 2.2 KB/sec)
Downloading: http://repo1.maven.org/maven2/commons-cli/commons-cli/1.0/commons-cli-1.0.pom
Downloaded: http://repo1.maven.org/maven2/commons-cli/commons-cli/1.0/commons-cli-1.0.pom (3 KB at 2.7 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-api/2.0/maven-plugin-api-2.0.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-api/2.0/maven-plugin-api-2.0.pom (601 B at 0.3 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven/2.0/maven-2.0.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven/2.0/maven-2.0.pom (9 KB at 12.7 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-descriptor/2.0.6/maven-plugin-descriptor-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-descriptor/2.0.6/maven-plugin-descriptor-2.0.6.pom (2 KB at 2.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-monitor/2.0.6/maven-monitor-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-monitor/2.0.6/maven-monitor-2.0.6.pom (2 KB at 1.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/classworlds/classworlds/1.1/classworlds-1.1.pom
Downloaded: http://repo1.maven.org/maven2/classworlds/classworlds/1.1/classworlds-1.1.pom (4 KB at 5.7 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-api/2.0.6/maven-plugin-api-2.0.6.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-api/2.0.6/maven-plugin-api-2.0.6.pom (2 KB at 2.4 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-api/1.2/maven-scm-api-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-api/1.2/maven-scm-api-1.2.pom (2 KB at 2.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm/1.2/maven-scm-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm/1.2/maven-scm-1.2.pom (12 KB at 14.3 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/11/maven-parent-11.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/11/maven-parent-11.pom (32 KB at 37.5 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/apache/5/apache-5.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/apache/5/apache-5.pom (5 KB at 5.7 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.5.6/plexus-utils-1.5.6.pom
Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.5.6/plexus-utils-1.5.6.pom (6 KB at 6.9 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus/1.0.12/plexus-1.0.12.pom
Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus/1.0.12/plexus-1.0.12.pom (10 KB at 12.2 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-manager-plexus/1.2/maven-scm-manager-plexus-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-manager-plexus/1.2/maven-scm-manager-plexus-1.2.pom (3 KB at 2.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-managers/1.2/maven-scm-managers-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-managers/1.2/maven-scm-managers-1.2.pom (2 KB at 1.9 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-container-default/1.0-alpha-9/plexus-container-default-1.0-alpha-9.pom
Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-container-default/1.0-alpha-9/plexus-container-default-1.0-alpha-9.pom (2 KB at 1.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svnexe/1.2/maven-scm-provider-svnexe-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svnexe/1.2/maven-scm-provider-svnexe-1.2.pom (3 KB at 2.9 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-providers-svn/1.2/maven-scm-providers-svn-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-providers-svn/1.2/maven-scm-providers-svn-1.2.pom (2 KB at 2.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-providers/1.2/maven-scm-providers-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-providers/1.2/maven-scm-providers-1.2.pom (4 KB at 4.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svn-commons/1.2/maven-scm-provider-svn-commons-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svn-commons/1.2/maven-scm-provider-svn-commons-1.2.pom (2 KB at 2.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/regexp/regexp/1.3/regexp-1.3.pom
Downloaded: http://repo1.maven.org/maven2/regexp/regexp/1.3/regexp-1.3.pom (145 B at 0.2 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvsexe/1.2/maven-scm-provider-cvsexe-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvsexe/1.2/maven-scm-provider-cvsexe-1.2.pom (3 KB at 3.3 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-providers-cvs/1.2/maven-scm-providers-cvs-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-providers-cvs/1.2/maven-scm-providers-cvs-1.2.pom (2 KB at 2.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvs-commons/1.2/maven-scm-provider-cvs-commons-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvs-commons/1.2/maven-scm-provider-cvs-commons-1.2.pom (3 KB at 2.9 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-starteam/1.2/maven-scm-provider-starteam-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-starteam/1.2/maven-scm-provider-starteam-1.2.pom (3 KB at 3.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-clearcase/1.2/maven-scm-provider-clearcase-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-clearcase/1.2/maven-scm-provider-clearcase-1.2.pom (3 KB at 3.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-perforce/1.2/maven-scm-provider-perforce-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-perforce/1.2/maven-scm-provider-perforce-1.2.pom (3 KB at 3.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-hg/1.2/maven-scm-provider-hg-1.2.pom
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-hg/1.2/maven-scm-provider-hg-1.2.pom (3 KB at 3.4 KB/sec)
Downloading: http://repo1.maven.org/maven2/com/google/code/maven-scm-provider-svnjava/maven-scm-provider-svnjava/1.8/maven-scm-provider-svnjava-1.8.pom
Downloaded: http://repo1.maven.org/maven2/com/google/code/maven-scm-provider-svnjava/maven-scm-provider-svnjava/1.8/maven-scm-provider-svnjava-1.8.pom (8 KB at 10.7 KB/sec)
Downloading: http://repo1.maven.org/maven2/net/java/dev/jna/jna/3.2.2/jna-3.2.2.pom
Downloaded: http://repo1.maven.org/maven2/net/java/dev/jna/jna/3.2.2/jna-3.2.2.pom (2 KB at 2.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/tmatesoft/svnkit/svnkit/1.3.1-1/svnkit-1.3.1-1.pom
Downloaded: http://repo1.maven.org/maven2/org/tmatesoft/svnkit/svnkit/1.3.1-1/svnkit-1.3.1-1.pom (2 KB at 1.4 KB/sec)
Downloading: http://repo1.maven.org/maven2/com/trilead/trilead-ssh2/build213-svnkit-1.3-patch/trilead-ssh2-build213-svnkit-1.3-patch.pom
Downloaded: http://repo1.maven.org/maven2/com/trilead/trilead-ssh2/build213-svnkit-1.3-patch/trilead-ssh2-build213-svnkit-1.3-patch.pom (716 B at 0.9 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/tmatesoft/sqljet/sqljet/1.0.0-1/sqljet-1.0.0-1.pom
Downloaded: http://repo1.maven.org/maven2/org/tmatesoft/sqljet/sqljet/1.0.0-1/sqljet-1.0.0-1.pom (774 B at 1.2 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/antlr/antlr-runtime/3.1.3/antlr-runtime-3.1.3.pom
Downloaded: http://repo1.maven.org/maven2/org/antlr/antlr-runtime/3.1.3/antlr-runtime-3.1.3.pom (4 KB at 5.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/antlr/antlr-master/3.1.3/antlr-master-3.1.3.pom
Downloaded: http://repo1.maven.org/maven2/org/antlr/antlr-master/3.1.3/antlr-master-3.1.3.pom (9 KB at 10.7 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.pom
Downloaded: http://repo1.maven.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.pom (2 KB at 2.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/antlr/antlr/2.7.7/antlr-2.7.7.pom
Downloaded: http://repo1.maven.org/maven2/antlr/antlr/2.7.7/antlr-2.7.7.pom (632 B at 0.8 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar
Downloading: http://repo1.maven.org/maven2/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar
Downloading: http://repo1.maven.org/maven2/commons-cli/commons-cli/1.0/commons-cli-1.0.jar
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-manager-plexus/1.2/maven-scm-manager-plexus-1.2.jar
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-api/1.2/maven-scm-api-1.2.jar
Downloaded: http://repo1.maven.org/maven2/commons-cli/commons-cli/1.0/commons-cli-1.0.jar (30 KB at 16.6 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svnexe/1.2/maven-scm-provider-svnexe-1.2.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar (6 KB at 2.3 KB/sec)
Downloading: http://repo1.maven.org/maven2/regexp/regexp/1.3/regexp-1.3.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svnexe/1.2/maven-scm-provider-svnexe-1.2.jar (59 KB at 46.3 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svn-commons/1.2/maven-scm-provider-svn-commons-1.2.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar (10 KB at 2.8 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvsexe/1.2/maven-scm-provider-cvsexe-1.2.jar
Downloaded: http://repo1.maven.org/maven2/regexp/regexp/1.3/regexp-1.3.jar (25 KB at 13.9 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvs-commons/1.2/maven-scm-provider-cvs-commons-1.2.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-api/1.2/maven-scm-api-1.2.jar (83 KB at 16.3 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-starteam/1.2/maven-scm-provider-starteam-1.2.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svn-commons/1.2/maven-scm-provider-svn-commons-1.2.jar (37 KB at 17.8 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-clearcase/1.2/maven-scm-provider-clearcase-1.2.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-manager-plexus/1.2/maven-scm-manager-plexus-1.2.jar (11 KB at 1.8 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-perforce/1.2/maven-scm-provider-perforce-1.2.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvsexe/1.2/maven-scm-provider-cvsexe-1.2.jar (27 KB at 11.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-hg/1.2/maven-scm-provider-hg-1.2.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvs-commons/1.2/maven-scm-provider-cvs-commons-1.2.jar (70 KB at 23.2 KB/sec)
Downloading: http://repo1.maven.org/maven2/com/google/code/maven-scm-provider-svnjava/maven-scm-provider-svnjava/1.8/maven-scm-provider-svnjava-1.8.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-starteam/1.2/maven-scm-provider-starteam-1.2.jar (70 KB at 30.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.5.6/plexus-utils-1.5.6.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-clearcase/1.2/maven-scm-provider-clearcase-1.2.jar (63 KB at 19.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/tmatesoft/svnkit/svnkit/1.3.1-1/svnkit-1.3.1-1.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-hg/1.2/maven-scm-provider-hg-1.2.jar (52 KB at 11.3 KB/sec)
Downloading: http://repo1.maven.org/maven2/com/trilead/trilead-ssh2/build213-svnkit-1.3-patch/trilead-ssh2-build213-svnkit-1.3-patch.jar
Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.5.6/plexus-utils-1.5.6.jar (245 KB at 71.4 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/tmatesoft/sqljet/sqljet/1.0.0-1/sqljet-1.0.0-1.jar
Downloaded: http://repo1.maven.org/maven2/com/google/code/maven-scm-provider-svnjava/maven-scm-provider-svnjava/1.8/maven-scm-provider-svnjava-1.8.jar (44 KB at 12.0 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/antlr/antlr-runtime/3.1.3/antlr-runtime-3.1.3.jar
Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-perforce/1.2/maven-scm-provider-perforce-1.2.jar (67 KB at 10.2 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.jar
Downloaded: http://repo1.maven.org/maven2/org/antlr/antlr-runtime/3.1.3/antlr-runtime-3.1.3.jar (148 KB at 27.0 KB/sec)
Downloading: http://repo1.maven.org/maven2/antlr/antlr/2.7.7/antlr-2.7.7.jar
Downloaded: http://repo1.maven.org/maven2/com/trilead/trilead-ssh2/build213-svnkit-1.3-patch/trilead-ssh2-build213-svnkit-1.3-patch.jar (246 KB at 32.1 KB/sec)
Downloading: http://repo1.maven.org/maven2/net/java/dev/jna/jna/3.2.2/jna-3.2.2.jar
Downloaded: http://repo1.maven.org/maven2/org/tmatesoft/sqljet/sqljet/1.0.0-1/sqljet-1.0.0-1.jar (657 KB at 61.3 KB/sec)
Downloaded: http://repo1.maven.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.jar (168 KB at 15.6 KB/sec)
Downloaded: http://repo1.maven.org/maven2/antlr/antlr/2.7.7/antlr-2.7.7.jar (435 KB at 57.3 KB/sec)
Downloaded: http://repo1.maven.org/maven2/net/java/dev/jna/jna/3.2.2/jna-3.2.2.jar (839 KB at 64.5 KB/sec)
Downloaded: http://repo1.maven.org/maven2/org/tmatesoft/svnkit/svnkit/1.3.1-1/svnkit-1.3.1-1.jar (1883 KB at 67.3 KB/sec)
[INFO] Storing buildNumber: Mar 07, 2011 07:36:06 at timestamp: 1299512166959
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] ANTLR Master build control POM .................... FAILURE [1:43.164s]
[INFO] Antlr 3 Runtime ................................... SKIPPED
[INFO] ANTLR Grammar Tool ................................ SKIPPED
[INFO] Maven plugin for ANTLR V3 ......................... SKIPPED
[INFO] ANTLR gUnit ....................................... SKIPPED
[INFO] Maven plugin for gUnit ANTLR V3 ................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 2:00.332s
[INFO] Finished at: Mon Mar 07 07:36:06 PST 2011
[INFO] Final Memory: 3M/62M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create (default) on project antlr-master: Execution default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed: The scm url cannot be null. -> [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create (default) on project antlr-master: Execution default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed: The scm url cannot be null.
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:225)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
Caused by: org.apache.maven.plugin.PluginExecutionException: Execution default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed: The scm url cannot be null.
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:110)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
	... 19 more
Caused by: java.lang.NullPointerException: The scm url cannot be null.
	at org.apache.maven.scm.manager.AbstractScmManager.makeScmRepository(AbstractScmManager.java:181)
	at org.codehaus.mojo.build.CreateMojo.getScmRepository(CreateMojo.java:722)
	at org.codehaus.mojo.build.CreateMojo.getScmBranch(CreateMojo.java:593)
	at org.codehaus.mojo.build.CreateMojo.execute(CreateMojo.java:452)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
	... 20 more
[ERROR] 
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException


From matt.fowles at gmail.com  Tue Mar  8 09:36:45 2011
From: matt.fowles at gmail.com (Matt Fowles)
Date: Tue, 8 Mar 2011 12:36:45 -0500
Subject: [antlr-interest] Tree Pattern Matching with Rewrite Rules
Message-ID: <AANLkTi=RvGDBF3BidZPRC9R6aMWOVVx7U91YFrj5jzic@mail.gmail.com>

All~

I have a trivial antlr grammar for expressions like `a.b.c + d.e.f`
(Test.g).  Now I want to define a pattern matcher over this grammar
that turns `a.b.c` into `0.1.2`, so I define a Tree Pattern Matcher
(TestWalker.g) and put together a small test program (Main.java).

When I run this program with basic input, I see surprising results:
`a.b.c` -> `0.b.c`
`a.b + d.e` -> `0.b + 0.e`
and so on.

It appears that the `(DOT qualifier_id)*` portion of my rule never
matches and I cannot figure out why.  I have tried adding my rules to
the topdown and the bottomup portions of the Tree Pattern Match.  If I
switch from a filter matcher to a whole tree matcher and add rules to
branch for the `'+'` case appropriately it works, but when the rewrite
is just a smaller fragment of a much larger grammar this becomes
untenable.  Any pointers would be greatly appreciated.

Thanks,
Matt
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pattern-test.tgz
Type: application/x-gzip
Size: 19399 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20110308/1b30dadb/attachment.tgz 

From g4 at novadsp.com  Tue Mar  8 10:45:19 2011
From: g4 at novadsp.com (g4 at novadsp.com)
Date: Tue, 08 Mar 2011 18:45:19 +0000
Subject: [antlr-interest] V2 -> V3 rules
In-Reply-To: <6f67bd3c2757d87b45b0c29e7a8130b5@mail.gmail.com>
References: <4D74EC97.4080005@novadsp.com>
	<6f67bd3c2757d87b45b0c29e7a8130b5@mail.gmail.com>
Message-ID: <4D76793F.6060705@novadsp.com>

Thanks Jim

In order to get the right tree I ended up with this:

rhs
	: a=rhs_alt (OR b=rhs)*
	;


Sorry to labor the point here but what I keep failing to see is how you 
spec a rewrite rule for this kind of expression. I know the default gets 
me what I need but that's not quite the same as knowing :)

I do not want to use the list idiom Ter mentions in the book. Are 
sub-rules the only way to do it?

On 07/03/2011 15:25, Jim Idle wrote:
> rhs : rhs_alt ( OR^ rhs_alt )*;
>
>
>
>> -----Original Message-----
>> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
>> bounces at antlr.org] On Behalf Of g4 at novadsp.com
>> Sent: Monday, March 07, 2011 6:33 AM
>> To: ANTLR Interest
>> Subject: [antlr-interest] V2 ->  V3 rules
>>
>> I've checked the Migration Wiki and it's a little unclear on how handle
>> the following. The general form is taken from bison.g:
>>
>> V2:
>>
>> rhs : rhs_alt
>>       { ## = #( [ALT, "alt"], #rhs ); }
>>       ( OR^ rhs_alt )*;
>>
>> V3:
>>
>> rhs : (a=rhs_alt ->  $rhs ) (OR b=rhs)*
>>       ;
>>
>> error(132) reference $rhs is ambiguous; rule rhs is enclosing rule and
>> referenced in the production (assuming enclosing rule)
>>
>> V3 - not even sure if this form is legal ...
>>
>> rhs : rhs_alt
>>           { $$ = $([OR,"or"],$rhs); }
>>         (OR^ rhs_alt)*
>>       ;
>>
>> error(117): missing attribute access on rule scope: rhs
>>
>> Thx++
>>
>> Jerry.
>>
>>
>>
>>
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
>> email-address
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>



From cummings at kjchome.homeip.net  Tue Mar  8 11:13:18 2011
From: cummings at kjchome.homeip.net (Kevin J. Cummings)
Date: Tue, 08 Mar 2011 14:13:18 -0500
Subject: [antlr-interest] V2 -> V3 rules
In-Reply-To: <4D76793F.6060705@novadsp.com>
References: <4D74EC97.4080005@novadsp.com>
	<6f67bd3c2757d87b45b0c29e7a8130b5@mail.gmail.com>
	<4D76793F.6060705@novadsp.com>
Message-ID: <4D767FCE.5010301@kjchome.homeip.net>

On 03/08/2011 01:45 PM, g4 at novadsp.com wrote:
> Thanks Jim
> 
> In order to get the right tree I ended up with this:
> 
> rhs
> 	: a=rhs_alt (OR b=rhs)*
> 	;
> 
> 
> Sorry to labor the point here but what I keep failing to see is how you 
> spec a rewrite rule for this kind of expression. I know the default gets 
> me what I need but that's not quite the same as knowing :)

Sorry, I'm not Jim.  B^)

When I write tree grammars (I've only written a couple), I think of what
the trees will look like, and write the grammars to match the trees that
could possibly be walked as input.  If it helps you to think of what the
trees will look like, consider this:  Most parsed trees are a list of
root nodes.  What can those root nodes have for children.  Create rules
for those cases and for the cases of when those children are themselves
trees (and not single nodes).  When there are multiple possibilities,
either handle them with alternations or with multiple rules to be able
to match all possible cases.

Pretty simple when you think about it, but its not exactly the same as
trying to parse the source code into an AST (at least its not how *I*
think about it).

> I do not want to use the list idiom Ter mentions in the book. Are 
> sub-rules the only way to do it?

-- 
Kevin J. Cummings
kjchome at verizon.net
cummings at kjchome.homeip.net
cummings at kjc386.framingham.ma.us
Registered Linux User #1232 (http://counter.li.org)

From bkiers at gmail.com  Tue Mar  8 12:46:32 2011
From: bkiers at gmail.com (Bart Kiers)
Date: Tue, 8 Mar 2011 21:46:32 +0100
Subject: [antlr-interest] Tree Pattern Matching with Rewrite Rules
In-Reply-To: <AANLkTi=RvGDBF3BidZPRC9R6aMWOVVx7U91YFrj5jzic@mail.gmail.com>
References: <AANLkTi=RvGDBF3BidZPRC9R6aMWOVVx7U91YFrj5jzic@mail.gmail.com>
Message-ID: <AANLkTin9VyE+BRgRGwidF15TSbkP5sr9tmdwP6VN04zs@mail.gmail.com>

On Tue, Mar 8, 2011 at 6:36 PM, Matt Fowles <matt.fowles at gmail.com> wrote:

> All~
>
> I have a trivial antlr grammar for expressions like `a.b.c + d.e.f`
> (Test.g).  Now I want to define a pattern matcher over this grammar
> that turns `a.b.c` into `0.1.2`, so I define a Tree Pattern Matcher
> (TestWalker.g) and put together a small test program (Main.java).
>
> When I run this program with basic input, I see surprising results:
> `a.b.c` -> `0.b.c`
> `a.b + d.e` -> `0.b + 0.e`
> and so on.
> ...


FYI:
http://stackoverflow.com/questions/5236089/antlr-tree-pattern-matching-with-rewrite-rules/5237962#5237962

Regards,

Bart.

From markwright at internode.on.net  Tue Mar  8 16:25:28 2011
From: markwright at internode.on.net (Mark Wright)
Date: Wed, 09 Mar 2011 11:25:28 +1100
Subject: [antlr-interest] ANTLR maven build failing
In-Reply-To: <B83C5CD8-62F0-49B9-BD60-983F8A8CE5CF@ipns.com>
References: <B83C5CD8-62F0-49B9-BD60-983F8A8CE5CF@ipns.com>
Message-ID: <ymafwqxqgw7.fsf@internode.on.net>

Hi Alan,

Maybe this might help:

% diff -wc pom.xml.orig pom.xml
*** pom.xml.orig	Thu Sep 24 04:46:18 2009
--- pom.xml	Fri Mar 12 15:45:35 2010
***************
*** 31,36 ****
--- 31,39 ----
          <module>gunit</module>
          <module>gunit-maven-plugin</module>
      </modules>
+   <scm>
+     <developerConnection>scm:svn:http://fisheye2.cenqua.com/browse/antlr</developerConnection>
+   </scm>
    <!--
  
      Define where the ANTLR releated jars are deployed both for
% 

Regards, Mark

From jimi at temporal-wave.com  Tue Mar  8 16:39:45 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Tue, 8 Mar 2011 16:39:45 -0800
Subject: [antlr-interest] ANTLR maven build failing
In-Reply-To: <ymafwqxqgw7.fsf@internode.on.net>
References: <B83C5CD8-62F0-49B9-BD60-983F8A8CE5CF@ipns.com>
	<ymafwqxqgw7.fsf@internode.on.net>
Message-ID: <2bb868fa8eee459e5e6682de12003327@mail.gmail.com>

I went back to an earlier version of the buildnumber plugin that did not
require that change as it was a bug to do so, even though I could see why
the developer did it. So that should not be a requirement in the current
development branch.

Try it though as things may be out of sync I suppose. But:


I just did:

mvn -N deploy
mvn -Dmaven.test.skip=true
mvn -Dmaven.test.skip=true package assembly:assembly

And the build was fine:

>mvn -version
Apache Maven 2.2.1 (r801777; 2009-08-06 12:16:01-0700)
Java version: 1.6.0_21
Java home: C:\Program Files\Java\jdk1.6.0_21\jre
Default locale: en_US, platform encoding: Cp1252
OS name: "windows 7" version: "6.1" arch: "amd64" Family: "windows"


Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Mark Wright
> Sent: Tuesday, March 08, 2011 4:25 PM
> To: Alan Condit; ANTLR Interest
> Subject: Re: [antlr-interest] ANTLR maven build failing
>
> Hi Alan,
>
> Maybe this might help:
>
> % diff -wc pom.xml.orig pom.xml
> *** pom.xml.orig	Thu Sep 24 04:46:18 2009
> --- pom.xml	Fri Mar 12 15:45:35 2010
> ***************
> *** 31,36 ****
> --- 31,39 ----
>           <module>gunit</module>
>           <module>gunit-maven-plugin</module>
>       </modules>
> +   <scm>
> +
> <developerConnection>scm:svn:http://fisheye2.cenqua.com/browse/antlr</d
> eveloperConnection>
> +   </scm>
>     <!--
>
>       Define where the ANTLR releated jars are deployed both for %
>
> Regards, Mark
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From miller.garym at gmail.com  Tue Mar  8 19:57:14 2011
From: miller.garym at gmail.com (Gary Miller)
Date: Wed, 9 Mar 2011 14:57:14 +1100
Subject: [antlr-interest] Composite Tree Grammars are things of beauty,
	but ...
Message-ID: <AANLkTi=vg3DKQFJscW-DidnecVc_oNS-4BOr4VU-7Hv2@mail.gmail.com>

Hi All,

First a bit of background.
I've been use AntLR for about the last year and the majority of that
has been "using it in anger".

A big thanks to Terrance and everyone else involved.

Hopefully I can help in my small way.
The application we are building used Google Web Toolkit and out of the
box AntLR 3.2 Java runtime is not GWT compatible.
This is a GWT issue, (for those of you who know GWT) a properly
constructed module definition file and some super-src are all that is
needed.
I have packaged this up at http://code.google.com/p/gwtified/,
hopefully this can make it way back into the AntLR source.

If anyone is interested in an example of what can be achieved with GWT
and AntLR, have a http://www.sumwise.com/templates.
AntLR to Java, then Java to JS via GWT is probably a better option
then AntLR to JS.


Now onto the beauty of Composite Tree Grammars.

Currently we use AntLR in a limited way and I'm hoping to refactor it
into more of our code.
To that end I have been playing with AntLR, to try understand THE BOOK
(ala Paul Erd?s quote) way of using AntLR.
Also I have had people say to me "why don't you just program some
examples in Haskell or X" so the semantics are clear.
My feeling has been that I could get more clarity if I have a pure
tree grammar, one without actions.
The problem is that I did want to maintain multiple walker with the
only difference being the actions.
Here is where imports / composition comes to the rescue (well almost).

By way of example. I have a tree grammar called PureTreeWalker that
imo is pretty close to a perfect representation of a tree (if that not
request for comment I don't know what is).
Now I want to have a print walker that output a syntax representation,
The PureTreePrintWalker.g imports PureTreeWalker and adds actions
where necessary.

Here is the but ...
What would be even nicer would be if PureTreePrintWalker could call
directly into PureTreeWalker. see PureTreePrintWalker.g+.
This is valid AntLR, but the Java it produces has compile errors. By
creating an PureTreeWalkerEmpty.g that import PureTreeWalker but does
override any rules, I was able to merge and modify
PureTreePrintWalker_PureTreeWalker.java so that this works.

Any idea how hard it would be to add this "super calls" to the Java
target for Composite Tree Grammars?

Regards
Gary Miller


PureTreeWalker.g
================
/** This is the purist representation of the AST.
 * This tree grammar is imported (inherited) by the other
 * tree grammars that actually do the work. */
tree grammar PureTreeWalker;

/** Top of a Tree */
        treestruct  : ^(TREE (treenode)+) ;
/** Abstract node of a tree, either a subtree or a leaf */
treenode  : subtree   | leaf;
/** Subtree, has a root tree node and tree node children */  subtree
: ^(NODE root (treenode)+) ;
/** The root of a subtree */
     root  : ^(ROOT id);
/** Leaf, has no children */
     leaf  : ^(LEAF id);
/** An id */
            id  : ID ;


PureTreePrintWalker.g
================
tree grammar PureTreePrintWalker;

options {  tokenVocab=PureTreeParser;  ASTLabelType=CommonTree; }

import PureTreeWalker;

@header {
package puretree;
}

@members {
  IMTWriter writer;
  void setWriter(IMTWriter writer) {
    this.writer = writer;
  }

  void inc() { writer.indent_inc(); }
  void dec() { writer.indent_dec(); }
  void append( String s ) { writer.append( s ); }
  void nl() {  writer.nl(); }
}

statement
     : {append("TREE");}   treestruct       {nl();}
     | {append("NODE");}   subtree          {nl();}
     | {append("LEAF");}   leaf             {nl();}
;
//treestruct see PureTreeWalker
treenode  : {inc();} subtree {dec();}  | {inc();} leaf    {dec();};
//subtree see PureTreeWalker
root   : {nl();} ^(ROOT id);
leaf   : {nl();} ^(LEAF id);
id     : ID {append($ID.text);};



PureTreePrintWalker.g+
================
tree grammar PureTreePrintWalker;

options {  tokenVocab=PureTreeParser;  ASTLabelType=CommonTree; }

import PureTreeWalker;

@header {package puretree}

@members {
  IMTWriter writer;
  void setWriter(IMTWriter writer) {
    this.writer = writer;
  }

  void inc() { writer.indent_inc(); }
  void dec() { writer.indent_dec(); }
  void append( String s ) { writer.append( s ); }
  void nl() {  writer.nl(); }
}

statement
     : {append("TREE");}   treestruct       {nl();}
     | {append("NODE");}   subtree          {nl();}
     | {append("LEAF");}   leaf             {nl();}
;

//treestruct see PureTreeWalker
treenode  : {inc();} PureTreeWalker.treenode {dec();};
//subtree see PureTreeWalker
root   : {nl();} PureTreeWalker.root;
leaf   : {nl();} PureTreeWalker.leaf;
id     : ID {append($ID.text);};

From list at toolazydogs.com  Tue Mar  8 20:39:42 2011
From: list at toolazydogs.com (Alan D. Cabrera)
Date: Tue, 8 Mar 2011 20:39:42 -0800
Subject: [antlr-interest] ANTLR maven build failing
In-Reply-To: <B83C5CD8-62F0-49B9-BD60-983F8A8CE5CF@ipns.com>
References: <B83C5CD8-62F0-49B9-BD60-983F8A8CE5CF@ipns.com>
Message-ID: <3DD0AE6E-ABC1-4D0E-A5FB-3487D728CAB3@toolazydogs.com>

I'm still seeing you run maven 3 instead of maven 2.  The current POMs will not build under maven 3 and deleting ~/.m2/repository will not help things.


Regards,
Alan

On Mar 7, 2011, at 8:01 AM, Alan Condit wrote:

> jimi,
> 
> I deleted .m2 and tried it again, it looks like the same basic errors in trying to build.
> 
> The following two lines seem to be the source of the errors (not found together in listing):
> [WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 149, column 22
> 
> [ERROR] Failed to execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create (default) on project antlr-master: Execution default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed: The scm url cannot be null. -> [Help 1]
> 
> The first line appears multiple times with different line and column numbers.
> 
> ---
> alan
> 
> localhost:antlr3 acondit$ ./BuildAntlr3.2.sh
> [INFO] Error stacktraces are turned on.
> [INFO] Scanning for projects...
> Downloading: http://repo1.maven.org/maven2/org/antlr/antlr-master/3.2/antlr-master-3.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/antlr/antlr-master/3.2/antlr-master-3.2.pom (9 KB at 8.3 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-external/1.0-beta-2/wagon-ssh-external-1.0-beta-2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-external/1.0-beta-2/wagon-ssh-external-1.0-beta-2.pom (2 KB at 1.8 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-providers/1.0-beta-2/wagon-providers-1.0-beta-2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-providers/1.0-beta-2/wagon-providers-1.0-beta-2.pom (2 KB at 2.2 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon/1.0-beta-2/wagon-1.0-beta-2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon/1.0-beta-2/wagon-1.0-beta-2.pom (6 KB at 7.7 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/4/maven-parent-4.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/4/maven-parent-4.pom (10 KB at 20.8 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/apache/3/apache-3.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/apache/3/apache-3.pom (4 KB at 4.4 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.0.4/plexus-utils-1.0.4.pom
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.0.4/plexus-utils-1.0.4.pom (7 KB at 8.7 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-common/1.0-beta-2/wagon-ssh-common-1.0-beta-2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-common/1.0-beta-2/wagon-ssh-common-1.0-beta-2.pom (851 B at 1.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.pom
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.pom (7 KB at 9.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-container-default/1.0-alpha-8/plexus-container-default-1.0-alpha-8.pom
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-container-default/1.0-alpha-8/plexus-container-default-1.0-alpha-8.pom (8 KB at 9.3 KB/sec)
> Downloading: http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.pom
> Downloaded: http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.pom (998 B at 1.3 KB/sec)
> Downloading: http://repo1.maven.org/maven2/classworlds/classworlds/1.1-alpha-2/classworlds-1.1-alpha-2.pom
> Downloaded: http://repo1.maven.org/maven2/classworlds/classworlds/1.1-alpha-2/classworlds-1.1-alpha-2.pom (4 KB at 3.9 KB/sec)
> Downloading: http://repo1.maven.org/maven2/plexus/plexus-utils/1.0.2/plexus-utils-1.0.2.pom
> Downloaded: http://repo1.maven.org/maven2/plexus/plexus-utils/1.0.2/plexus-utils-1.0.2.pom (740 B at 0.9 KB/sec)
> Downloading: http://repo1.maven.org/maven2/plexus/plexus-root/1.0.3/plexus-root-1.0.3.pom
> Downloaded: http://repo1.maven.org/maven2/plexus/plexus-root/1.0.3/plexus-root-1.0.3.pom (6 KB at 7.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-provider-api/1.0-beta-2/wagon-provider-api-1.0-beta-2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-provider-api/1.0-beta-2/wagon-provider-api-1.0-beta-2.pom (680 B at 0.8 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-external/1.0-beta-2/wagon-ssh-external-1.0-beta-2.jar
> Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.0.4/plexus-utils-1.0.4.jar
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-common/1.0-beta-2/wagon-ssh-common-1.0-beta-2.jar
> Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar
> Downloading: http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.jar
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.0.4/plexus-utils-1.0.4.jar (160 KB at 73.8 KB/sec)
> Downloading: http://repo1.maven.org/maven2/plexus/plexus-utils/1.0.2/plexus-utils-1.0.2.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-common/1.0-beta-2/wagon-ssh-common-1.0-beta-2.jar (25 KB at 7.3 KB/sec)
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar (14 KB at 3.6 KB/sec)
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ssh-external/1.0-beta-2/wagon-ssh-external-1.0-beta-2.jar (13 KB at 3.0 KB/sec)
> Downloaded: http://repo1.maven.org/maven2/plexus/plexus-utils/1.0.2/plexus-utils-1.0.2.jar (157 KB at 69.1 KB/sec)
> Downloaded: http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.jar (119 KB at 24.7 KB/sec)
> [WARNING] 
> [WARNING] Some problems were encountered while building the effective model for org.antlr:antlr-runtime:jar:3.2
> [WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 149, column 22
> [WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 177, column 21
> [WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 107, column 17
> [WARNING] 
> [WARNING] Some problems were encountered while building the effective model for org.antlr:antlr:jar:3.2
> [WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:antlr-maven-plugin is missing. @ line 77, column 21
> [WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 93, column 21
> [WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 149, column 22
> [WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 177, column 21
> [WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 181, column 21
> [WARNING] 
> [WARNING] Some problems were encountered while building the effective model for org.antlr:gunit:jar:3.2
> [WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 132, column 21
> [WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ org.antlr:antlr-master:3.2, /Users/acondit/.m2/repository/org/antlr/antlr-master/3.2/antlr-master-3.2.pom, line 149, column 22
> [WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 141, column 21
> [WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 145, column 21
> [WARNING] 
> [WARNING] Some problems were encountered while building the effective model for org.antlr:maven-gunit-plugin:maven-plugin:3.2
> [WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-project-info-reports-plugin is missing. @ line 231, column 21
> [WARNING] The expression ${groupId} is deprecated. Please use ${project.groupId} instead.
> [WARNING] 
> [WARNING] Some problems were encountered while building the effective model for org.antlr:antlr-master:pom:3.2
> [WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-compiler-plugin is missing. @ line 168, column 21
> [WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:buildnumber-maven-plugin is missing. @ line 149, column 22
> [WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-surefire-plugin is missing. @ line 177, column 21
> [WARNING] 'build.plugins.plugin.version' for org.codehaus.mojo:findbugs-maven-plugin is missing. @ line 181, column 21
> [WARNING] 
> [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
> [WARNING] 
> [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
> [WARNING] 
> [INFO] ------------------------------------------------------------------------
> [INFO] Reactor Build Order:
> [INFO] 
> [INFO] ANTLR Master build control POM
> [INFO] Antlr 3 Runtime
> [INFO] ANTLR Grammar Tool
> [INFO] Maven plugin for ANTLR V3
> [INFO] ANTLR gUnit
> [INFO] Maven plugin for gUnit ANTLR V3
> [INFO]                                                                         
> [INFO] ------------------------------------------------------------------------
> [INFO] Building ANTLR Master build control POM 3.2
> [INFO] ------------------------------------------------------------------------
> Downloading: http://repo1.maven.org/maven2/org/codehaus/mojo/buildnumber-maven-plugin/maven-metadata.xml
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/mojo/buildnumber-maven-plugin/maven-metadata.xml (501 B at 0.7 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/mojo/buildnumber-maven-plugin/1.0-beta-4/buildnumber-maven-plugin-1.0-beta-4.pom
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/mojo/buildnumber-maven-plugin/1.0-beta-4/buildnumber-maven-plugin-1.0-beta-4.pom (10 KB at 12.3 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/mojo/mojo-parent/22/mojo-parent-22.pom
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/mojo/mojo-parent/22/mojo-parent-22.pom (19 KB at 25.5 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/mojo/buildnumber-maven-plugin/1.0-beta-4/buildnumber-maven-plugin-1.0-beta-4.jar
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/mojo/buildnumber-maven-plugin/1.0-beta-4/buildnumber-maven-plugin-1.0-beta-4.jar (22 KB at 45.5 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/maven-metadata.xml
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/maven-metadata.xml (597 B at 0.8 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/2.3.2/maven-compiler-plugin-2.3.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/2.3.2/maven-compiler-plugin-2.3.2.pom (8 KB at 2.8 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-plugins/18/maven-plugins-18.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-plugins/18/maven-plugins-18.pom (13 KB at 16.4 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/16/maven-parent-16.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/16/maven-parent-16.pom (23 KB at 26.0 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/apache/7/apache-7.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/apache/7/apache-7.pom (15 KB at 18.2 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/2.3.2/maven-compiler-plugin-2.3.2.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/2.3.2/maven-compiler-plugin-2.3.2.jar (29 KB at 25.8 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/maven-metadata.xml
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/maven-metadata.xml (868 B at 1.2 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.7.2/maven-surefire-plugin-2.7.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.7.2/maven-surefire-plugin-2.7.2.pom (10 KB at 11.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/surefire/surefire/2.7.2/surefire-2.7.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/surefire/surefire/2.7.2/surefire-2.7.2.pom (11 KB at 13.2 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/18/maven-parent-18.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/18/maven-parent-18.pom (24 KB at 30.5 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/apache/8/apache-8.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/apache/8/apache-8.pom (14 KB at 17.4 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.7.2/maven-surefire-plugin-2.7.2.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.7.2/maven-surefire-plugin-2.7.2.jar (29 KB at 25.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/mojo/findbugs-maven-plugin/maven-metadata.xml
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/mojo/findbugs-maven-plugin/maven-metadata.xml (648 B at 0.8 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/mojo/findbugs-maven-plugin/2.3.1/findbugs-maven-plugin-2.3.1.pom
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/mojo/findbugs-maven-plugin/2.3.1/findbugs-maven-plugin-2.3.1.pom (12 KB at 14.3 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/mojo/findbugs-maven-plugin/2.3.1/findbugs-maven-plugin-2.3.1.jar
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/mojo/findbugs-maven-plugin/2.3.1/findbugs-maven-plugin-2.3.1.jar (111 KB at 66.7 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.3.1/maven-install-plugin-2.3.1.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.3.1/maven-install-plugin-2.3.1.pom (5 KB at 6.4 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.3.1/maven-install-plugin-2.3.1.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-install-plugin/2.3.1/maven-install-plugin-2.3.1.jar (23 KB at 24.9 KB/sec)
> [INFO] 
> [INFO] --- buildnumber-maven-plugin:1.0-beta-4:create (default) @ antlr-master ---
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-project/2.0.6/maven-project-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-project/2.0.6/maven-project-2.0.6.pom (3 KB at 3.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven/2.0.6/maven-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven/2.0.6/maven-2.0.6.pom (9 KB at 11.4 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/5/maven-parent-5.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/5/maven-parent-5.pom (15 KB at 19.0 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-settings/2.0.6/maven-settings-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-settings/2.0.6/maven-settings-2.0.6.pom (2 KB at 2.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-model/2.0.6/maven-model-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-model/2.0.6/maven-model-2.0.6.pom (3 KB at 3.9 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.4.1/plexus-utils-1.4.1.pom
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.4.1/plexus-utils-1.4.1.pom (2 KB at 2.5 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus/1.0.11/plexus-1.0.11.pom
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus/1.0.11/plexus-1.0.11.pom (9 KB at 11.2 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-container-default/1.0-alpha-9-stable-1/plexus-container-default-1.0-alpha-9-stable-1.pom
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-container-default/1.0-alpha-9-stable-1/plexus-container-default-1.0-alpha-9-stable-1.pom (4 KB at 5.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-containers/1.0.3/plexus-containers-1.0.3.pom
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-containers/1.0.3/plexus-containers-1.0.3.pom (492 B at 0.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus/1.0.4/plexus-1.0.4.pom
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus/1.0.4/plexus-1.0.4.pom (6 KB at 7.2 KB/sec)
> Downloading: http://repo1.maven.org/maven2/junit/junit/3.8.2/junit-3.8.2.pom
> Downloaded: http://repo1.maven.org/maven2/junit/junit/3.8.2/junit-3.8.2.pom (747 B at 1.0 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-profile/2.0.6/maven-profile-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-profile/2.0.6/maven-profile-2.0.6.pom (2 KB at 2.7 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-artifact-manager/2.0.6/maven-artifact-manager-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-artifact-manager/2.0.6/maven-artifact-manager-2.0.6.pom (3 KB at 3.3 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-repository-metadata/2.0.6/maven-repository-metadata-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-repository-metadata/2.0.6/maven-repository-metadata-2.0.6.pom (2 KB at 2.4 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-artifact/2.0.6/maven-artifact-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-artifact/2.0.6/maven-artifact-2.0.6.pom (2 KB at 2.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-registry/2.0.6/maven-plugin-registry-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-registry/2.0.6/maven-plugin-registry-2.0.6.pom (2 KB at 2.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-core/2.0.6/maven-core-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-core/2.0.6/maven-core-2.0.6.pom (7 KB at 8.8 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-parameter-documenter/2.0.6/maven-plugin-parameter-documenter-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-parameter-documenter/2.0.6/maven-plugin-parameter-documenter-2.0.6.pom (2 KB at 2.5 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.pom (2 KB at 2.3 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/reporting/maven-reporting/2.0.6/maven-reporting-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/reporting/maven-reporting/2.0.6/maven-reporting-2.0.6.pom (2 KB at 1.8 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.pom (424 B at 0.5 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/doxia/doxia/1.0-alpha-7/doxia-1.0-alpha-7.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/doxia/doxia/1.0-alpha-7/doxia-1.0-alpha-7.pom (4 KB at 4.9 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-error-diagnostics/2.0.6/maven-error-diagnostics-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-error-diagnostics/2.0.6/maven-error-diagnostics-2.0.6.pom (2 KB at 2.2 KB/sec)
> Downloading: http://repo1.maven.org/maven2/commons-cli/commons-cli/1.0/commons-cli-1.0.pom
> Downloaded: http://repo1.maven.org/maven2/commons-cli/commons-cli/1.0/commons-cli-1.0.pom (3 KB at 2.7 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-api/2.0/maven-plugin-api-2.0.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-api/2.0/maven-plugin-api-2.0.pom (601 B at 0.3 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven/2.0/maven-2.0.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven/2.0/maven-2.0.pom (9 KB at 12.7 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-descriptor/2.0.6/maven-plugin-descriptor-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-descriptor/2.0.6/maven-plugin-descriptor-2.0.6.pom (2 KB at 2.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-monitor/2.0.6/maven-monitor-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-monitor/2.0.6/maven-monitor-2.0.6.pom (2 KB at 1.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/classworlds/classworlds/1.1/classworlds-1.1.pom
> Downloaded: http://repo1.maven.org/maven2/classworlds/classworlds/1.1/classworlds-1.1.pom (4 KB at 5.7 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-api/2.0.6/maven-plugin-api-2.0.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-api/2.0.6/maven-plugin-api-2.0.6.pom (2 KB at 2.4 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-api/1.2/maven-scm-api-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-api/1.2/maven-scm-api-1.2.pom (2 KB at 2.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm/1.2/maven-scm-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm/1.2/maven-scm-1.2.pom (12 KB at 14.3 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/11/maven-parent-11.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/maven-parent/11/maven-parent-11.pom (32 KB at 37.5 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/apache/5/apache-5.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/apache/5/apache-5.pom (5 KB at 5.7 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.5.6/plexus-utils-1.5.6.pom
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.5.6/plexus-utils-1.5.6.pom (6 KB at 6.9 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus/1.0.12/plexus-1.0.12.pom
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus/1.0.12/plexus-1.0.12.pom (10 KB at 12.2 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-manager-plexus/1.2/maven-scm-manager-plexus-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-manager-plexus/1.2/maven-scm-manager-plexus-1.2.pom (3 KB at 2.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-managers/1.2/maven-scm-managers-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-managers/1.2/maven-scm-managers-1.2.pom (2 KB at 1.9 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-container-default/1.0-alpha-9/plexus-container-default-1.0-alpha-9.pom
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-container-default/1.0-alpha-9/plexus-container-default-1.0-alpha-9.pom (2 KB at 1.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svnexe/1.2/maven-scm-provider-svnexe-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svnexe/1.2/maven-scm-provider-svnexe-1.2.pom (3 KB at 2.9 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-providers-svn/1.2/maven-scm-providers-svn-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-providers-svn/1.2/maven-scm-providers-svn-1.2.pom (2 KB at 2.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-providers/1.2/maven-scm-providers-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-providers/1.2/maven-scm-providers-1.2.pom (4 KB at 4.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svn-commons/1.2/maven-scm-provider-svn-commons-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svn-commons/1.2/maven-scm-provider-svn-commons-1.2.pom (2 KB at 2.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/regexp/regexp/1.3/regexp-1.3.pom
> Downloaded: http://repo1.maven.org/maven2/regexp/regexp/1.3/regexp-1.3.pom (145 B at 0.2 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvsexe/1.2/maven-scm-provider-cvsexe-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvsexe/1.2/maven-scm-provider-cvsexe-1.2.pom (3 KB at 3.3 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-providers-cvs/1.2/maven-scm-providers-cvs-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-providers-cvs/1.2/maven-scm-providers-cvs-1.2.pom (2 KB at 2.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvs-commons/1.2/maven-scm-provider-cvs-commons-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvs-commons/1.2/maven-scm-provider-cvs-commons-1.2.pom (3 KB at 2.9 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-starteam/1.2/maven-scm-provider-starteam-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-starteam/1.2/maven-scm-provider-starteam-1.2.pom (3 KB at 3.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-clearcase/1.2/maven-scm-provider-clearcase-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-clearcase/1.2/maven-scm-provider-clearcase-1.2.pom (3 KB at 3.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-perforce/1.2/maven-scm-provider-perforce-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-perforce/1.2/maven-scm-provider-perforce-1.2.pom (3 KB at 3.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-hg/1.2/maven-scm-provider-hg-1.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-hg/1.2/maven-scm-provider-hg-1.2.pom (3 KB at 3.4 KB/sec)
> Downloading: http://repo1.maven.org/maven2/com/google/code/maven-scm-provider-svnjava/maven-scm-provider-svnjava/1.8/maven-scm-provider-svnjava-1.8.pom
> Downloaded: http://repo1.maven.org/maven2/com/google/code/maven-scm-provider-svnjava/maven-scm-provider-svnjava/1.8/maven-scm-provider-svnjava-1.8.pom (8 KB at 10.7 KB/sec)
> Downloading: http://repo1.maven.org/maven2/net/java/dev/jna/jna/3.2.2/jna-3.2.2.pom
> Downloaded: http://repo1.maven.org/maven2/net/java/dev/jna/jna/3.2.2/jna-3.2.2.pom (2 KB at 2.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/tmatesoft/svnkit/svnkit/1.3.1-1/svnkit-1.3.1-1.pom
> Downloaded: http://repo1.maven.org/maven2/org/tmatesoft/svnkit/svnkit/1.3.1-1/svnkit-1.3.1-1.pom (2 KB at 1.4 KB/sec)
> Downloading: http://repo1.maven.org/maven2/com/trilead/trilead-ssh2/build213-svnkit-1.3-patch/trilead-ssh2-build213-svnkit-1.3-patch.pom
> Downloaded: http://repo1.maven.org/maven2/com/trilead/trilead-ssh2/build213-svnkit-1.3-patch/trilead-ssh2-build213-svnkit-1.3-patch.pom (716 B at 0.9 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/tmatesoft/sqljet/sqljet/1.0.0-1/sqljet-1.0.0-1.pom
> Downloaded: http://repo1.maven.org/maven2/org/tmatesoft/sqljet/sqljet/1.0.0-1/sqljet-1.0.0-1.pom (774 B at 1.2 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/antlr/antlr-runtime/3.1.3/antlr-runtime-3.1.3.pom
> Downloaded: http://repo1.maven.org/maven2/org/antlr/antlr-runtime/3.1.3/antlr-runtime-3.1.3.pom (4 KB at 5.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/antlr/antlr-master/3.1.3/antlr-master-3.1.3.pom
> Downloaded: http://repo1.maven.org/maven2/org/antlr/antlr-master/3.1.3/antlr-master-3.1.3.pom (9 KB at 10.7 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.pom
> Downloaded: http://repo1.maven.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.pom (2 KB at 2.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/antlr/antlr/2.7.7/antlr-2.7.7.pom
> Downloaded: http://repo1.maven.org/maven2/antlr/antlr/2.7.7/antlr-2.7.7.pom (632 B at 0.8 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar
> Downloading: http://repo1.maven.org/maven2/commons-cli/commons-cli/1.0/commons-cli-1.0.jar
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-manager-plexus/1.2/maven-scm-manager-plexus-1.2.jar
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-api/1.2/maven-scm-api-1.2.jar
> Downloaded: http://repo1.maven.org/maven2/commons-cli/commons-cli/1.0/commons-cli-1.0.jar (30 KB at 16.6 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svnexe/1.2/maven-scm-provider-svnexe-1.2.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar (6 KB at 2.3 KB/sec)
> Downloading: http://repo1.maven.org/maven2/regexp/regexp/1.3/regexp-1.3.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svnexe/1.2/maven-scm-provider-svnexe-1.2.jar (59 KB at 46.3 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svn-commons/1.2/maven-scm-provider-svn-commons-1.2.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar (10 KB at 2.8 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvsexe/1.2/maven-scm-provider-cvsexe-1.2.jar
> Downloaded: http://repo1.maven.org/maven2/regexp/regexp/1.3/regexp-1.3.jar (25 KB at 13.9 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvs-commons/1.2/maven-scm-provider-cvs-commons-1.2.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-api/1.2/maven-scm-api-1.2.jar (83 KB at 16.3 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-starteam/1.2/maven-scm-provider-starteam-1.2.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-svn-commons/1.2/maven-scm-provider-svn-commons-1.2.jar (37 KB at 17.8 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-clearcase/1.2/maven-scm-provider-clearcase-1.2.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-manager-plexus/1.2/maven-scm-manager-plexus-1.2.jar (11 KB at 1.8 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-perforce/1.2/maven-scm-provider-perforce-1.2.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvsexe/1.2/maven-scm-provider-cvsexe-1.2.jar (27 KB at 11.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-hg/1.2/maven-scm-provider-hg-1.2.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-cvs-commons/1.2/maven-scm-provider-cvs-commons-1.2.jar (70 KB at 23.2 KB/sec)
> Downloading: http://repo1.maven.org/maven2/com/google/code/maven-scm-provider-svnjava/maven-scm-provider-svnjava/1.8/maven-scm-provider-svnjava-1.8.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-starteam/1.2/maven-scm-provider-starteam-1.2.jar (70 KB at 30.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.5.6/plexus-utils-1.5.6.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-clearcase/1.2/maven-scm-provider-clearcase-1.2.jar (63 KB at 19.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/tmatesoft/svnkit/svnkit/1.3.1-1/svnkit-1.3.1-1.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-hg/1.2/maven-scm-provider-hg-1.2.jar (52 KB at 11.3 KB/sec)
> Downloading: http://repo1.maven.org/maven2/com/trilead/trilead-ssh2/build213-svnkit-1.3-patch/trilead-ssh2-build213-svnkit-1.3-patch.jar
> Downloaded: http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.5.6/plexus-utils-1.5.6.jar (245 KB at 71.4 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/tmatesoft/sqljet/sqljet/1.0.0-1/sqljet-1.0.0-1.jar
> Downloaded: http://repo1.maven.org/maven2/com/google/code/maven-scm-provider-svnjava/maven-scm-provider-svnjava/1.8/maven-scm-provider-svnjava-1.8.jar (44 KB at 12.0 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/antlr/antlr-runtime/3.1.3/antlr-runtime-3.1.3.jar
> Downloaded: http://repo1.maven.org/maven2/org/apache/maven/scm/maven-scm-provider-perforce/1.2/maven-scm-provider-perforce-1.2.jar (67 KB at 10.2 KB/sec)
> Downloading: http://repo1.maven.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.jar
> Downloaded: http://repo1.maven.org/maven2/org/antlr/antlr-runtime/3.1.3/antlr-runtime-3.1.3.jar (148 KB at 27.0 KB/sec)
> Downloading: http://repo1.maven.org/maven2/antlr/antlr/2.7.7/antlr-2.7.7.jar
> Downloaded: http://repo1.maven.org/maven2/com/trilead/trilead-ssh2/build213-svnkit-1.3-patch/trilead-ssh2-build213-svnkit-1.3-patch.jar (246 KB at 32.1 KB/sec)
> Downloading: http://repo1.maven.org/maven2/net/java/dev/jna/jna/3.2.2/jna-3.2.2.jar
> Downloaded: http://repo1.maven.org/maven2/org/tmatesoft/sqljet/sqljet/1.0.0-1/sqljet-1.0.0-1.jar (657 KB at 61.3 KB/sec)
> Downloaded: http://repo1.maven.org/maven2/org/antlr/stringtemplate/3.2/stringtemplate-3.2.jar (168 KB at 15.6 KB/sec)
> Downloaded: http://repo1.maven.org/maven2/antlr/antlr/2.7.7/antlr-2.7.7.jar (435 KB at 57.3 KB/sec)
> Downloaded: http://repo1.maven.org/maven2/net/java/dev/jna/jna/3.2.2/jna-3.2.2.jar (839 KB at 64.5 KB/sec)
> Downloaded: http://repo1.maven.org/maven2/org/tmatesoft/svnkit/svnkit/1.3.1-1/svnkit-1.3.1-1.jar (1883 KB at 67.3 KB/sec)
> [INFO] Storing buildNumber: Mar 07, 2011 07:36:06 at timestamp: 1299512166959
> [INFO] ------------------------------------------------------------------------
> [INFO] Reactor Summary:
> [INFO] 
> [INFO] ANTLR Master build control POM .................... FAILURE [1:43.164s]
> [INFO] Antlr 3 Runtime ................................... SKIPPED
> [INFO] ANTLR Grammar Tool ................................ SKIPPED
> [INFO] Maven plugin for ANTLR V3 ......................... SKIPPED
> [INFO] ANTLR gUnit ....................................... SKIPPED
> [INFO] Maven plugin for gUnit ANTLR V3 ................... SKIPPED
> [INFO] ------------------------------------------------------------------------
> [INFO] BUILD FAILURE
> [INFO] ------------------------------------------------------------------------
> [INFO] Total time: 2:00.332s
> [INFO] Finished at: Mon Mar 07 07:36:06 PST 2011
> [INFO] Final Memory: 3M/62M
> [INFO] ------------------------------------------------------------------------
> [ERROR] Failed to execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create (default) on project antlr-master: Execution default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed: The scm url cannot be null. -> [Help 1]
> org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create (default) on project antlr-master: Execution default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed: The scm url cannot be null.
> 	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:225)
> 	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
> 	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
> 	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
> 	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
> 	at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
> 	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
> 	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)
> 	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
> 	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
> 	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
> 	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
> 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
> 	at java.lang.reflect.Method.invoke(Method.java:597)
> 	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
> 	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
> 	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
> 	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
> Caused by: org.apache.maven.plugin.PluginExecutionException: Execution default of goal org.codehaus.mojo:buildnumber-maven-plugin:1.0-beta-4:create failed: The scm url cannot be null.
> 	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:110)
> 	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
> 	... 19 more
> Caused by: java.lang.NullPointerException: The scm url cannot be null.
> 	at org.apache.maven.scm.manager.AbstractScmManager.makeScmRepository(AbstractScmManager.java:181)
> 	at org.codehaus.mojo.build.CreateMojo.getScmRepository(CreateMojo.java:722)
> 	at org.codehaus.mojo.build.CreateMojo.getScmBranch(CreateMojo.java:593)
> 	at org.codehaus.mojo.build.CreateMojo.execute(CreateMojo.java:452)
> 	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
> 	... 20 more
> [ERROR] 
> [ERROR] Re-run Maven using the -X switch to enable full debug logging.
> [ERROR] 
> [ERROR] For more information about the errors and possible solutions, please read the following articles:
> [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException
> 
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From antlr at xrad.org  Wed Mar  9 07:27:46 2011
From: antlr at xrad.org (Conrad Hughes)
Date: Wed, 09 Mar 2011 15:27:46 +0000
Subject: [antlr-interest] Template rewriting: processing lists of things
	(possible bug?)
In-Reply-To: Message from Terence Parr <parrt@cs.usfca.edu>
	dated Friday at 10:25.
References: <E1PvTBD-0005eB-2W@mouse.home.xrad.org>
	<B04F32D3-9BFE-4107-A173-89F1182FBC79@cs.usfca.edu>
Message-ID: <E1PxLIg-0007s4-40@mouse.home.xrad.org>


Terence> Rules do not return templates by default; you have to set them.
Terence> any that does not returns a null, hence, the list of nulls you
Terence> get :)

Thanks for clarifying this.  Dunno if I could table a configurable
alternative (unmodified-defaults-to-self, or something) as a wishlist
item for some future version --- I'm doing some moderately substantial
rewrites on Java source, and in collecting lists of various kinds like
this (where some of the elements are rewritten and some aren't) I end up
having to modify quite a number of rules to just rewrite themselves as
themselves:

  container: (l+=element) -> template(...) "<l:{...}>" ;

  element
      : foo -> template(self={$text}) "<self>"
      ...
      | actualRewrittenStuff
      ;

Regards,
Conrad

From matt.fowles at gmail.com  Wed Mar  9 09:33:46 2011
From: matt.fowles at gmail.com (Matt Fowles)
Date: Wed, 9 Mar 2011 12:33:46 -0500
Subject: [antlr-interest] Reserved words for Rule Parameters
Message-ID: <AANLkTinyA1Nt7=0TYhK3sDFiigYxLiS=urJ__-_rQa_-@mail.gmail.com>

All~

I noticed when making a rule that takes an argument, I get compile
errors if I name the variable "state" (although the generation
succeeds).  I don't have an account on Jira so I can't open a bug for
this, but I think antlr should check for reserved words and produce an
error at generation time for them.

Matt

From themightystephen at googlemail.com  Wed Mar  9 15:17:17 2011
From: themightystephen at googlemail.com (Stephen Tuttlebee)
Date: Wed, 09 Mar 2011 23:17:17 +0000
Subject: [antlr-interest] Tree construction - Adding subtrees
Message-ID: <4D780A7D.4090701@googlemail.com>

Hi

I have a tree grammar that takes an AST and I want to rewrite/modify the 
AST slightly.

Here is the rule we're concerned with (with some unrelated actions removed):
componentDefinition
         :  ^(COMPONENT_DEF IDENTIFIER ^(BOUNDARY_DECLS 
boundaryDeclaration*) ^(FIELD_DECLS fieldDeclaration*) 
runMethodDeclaration* ^(HANDLER_DECLS handlerDeclaration*) 
^(METHOD_DECLS methodDeclaration*))
         ;

Now, under the ^(HANDLER_DECLS ...) subtree in the rule above I want to 
add extra 'handlerDeclaration' subtrees in the rewrite rule, each of 
which have the following form (you can ignore the details of the other 
rules referenced in it):
     ^(HANDLER_DECL IDENTIFIER type boundaryDirection IDENTIFIER 
handlerBlock)

I would like be able to have a tree rewrite rule like this for the 
componentDefinition rule. I know it's not valid ANTLR syntax but it 
hopefully gives the idea of what I want to achieve (it's broken up into 
many lines and indented appropriately for clarity) (also read the 
comments in the code):

componentDefinition
         :  ^(COMPONENT_DEF IDENTIFIER ^(BOUNDARY_DECLS 
boundaryDeclaration*) ^(FIELD_DECLS fieldDeclaration*) 
runMethodDeclaration* ^(HANDLER_DECLS handlerDeclaration*) 
^(METHOD_DECLS methodDeclaration*))
         { ... some actions here you can ignore... }
          -> ^(COMPONENT_DEF IDENTIFIER ^(BOUNDARY_DECLS 
boundaryDeclaration*) ^(FIELD_DECLS fieldDeclaration*) runMethodDeclaration*
                                                           
^(HANDLER_DECLS handlerDeclaration*
                                                               {
                                                               
for(String boundaryName : boundariesWithNoHandler) {
                                                                 // .... 
calculate/get values to put in subtree ...

                                                                 /* I 
want to be able to use ANTLR's friendly tree construction syntax here 
somehow whilst in the middle of this action.
                                                                      
Every iteration of the for loop creates a new subtree --- if I can't do 
it this way, what is the tree construction code I would need here? */
                                                                 
^(HANDLER_DECL {$boundaryName} ^(IDENT {$b.getType}) 
{$b.getDirectionString()} ^(BLOCK BLOCK_STATEMENT))
                                                               } // end for
                                                               }
                                                            )
                                                           
^(METHOD_DECLS methodDeclaration*))


So in the above tree rewrite, the tree is untouched except the 
^(HANDLER_DECLS ...) subtree which will have new ^(HANDLER_DECL ...) 
subtrees being added to it as children. I want to be able to use ANTLR's 
friendly tree construction syntax in the middle of the loop. Is there 
any way I can do this or another approach that might work?

Thanks for your time and effort,
Stephen

From themightystephen at googlemail.com  Wed Mar  9 15:21:55 2011
From: themightystephen at googlemail.com (Stephen Tuttlebee)
Date: Wed, 09 Mar 2011 23:21:55 +0000
Subject: [antlr-interest] Tree construction - Adding subtrees
In-Reply-To: <4D780A7D.4090701@googlemail.com>
References: <4D780A7D.4090701@googlemail.com>
Message-ID: <4D780B93.6000907@googlemail.com>

I just realised that the (big) rule in that last message didn't come out 
too well on the archives so I'll try again with less indenting to stop 
wrapping at the ends of lines as much:
componentDefinition
         :  ^(COMPONENT_DEF IDENTIFIER ^(BOUNDARY_DECLS 
boundaryDeclaration*) ^(FIELD_DECLS fieldDeclaration*) 
runMethodDeclaration* ^(HANDLER_DECLS handlerDeclaration*) 
^(METHOD_DECLS methodDeclaration*))
         { ... some actions here you can ignore... }
          -> ^(COMPONENT_DEF IDENTIFIER ^(BOUNDARY_DECLS 
boundaryDeclaration*) ^(FIELD_DECLS fieldDeclaration*) 
runMethodDeclaration*
                     ^(HANDLER_DECLS handlerDeclaration*
                         {
                         for(String boundaryName : 
boundariesWithNoHandler) {
                             // .... calculate/get values to put in 
subtree ...

                             /* I want to be able to use ANTLR's 
friendly tree construction syntax here somehow whilst in the middle of 
this action.
                                 Every iteration of the for loop creates 
a new subtree --- if I can't do it this way, what is the tree 
construction code I would need here? */
                             ^(HANDLER_DECL {$boundaryName} ^(IDENT 
{$b.getType}) {$b.getDirectionString()} ^(BLOCK BLOCK_STATEMENT))
                          } // end for
                          }
                      )
                      ^(METHOD_DECLS methodDeclaration*))
         ;

(I also forgot the semi-colon at the end)

Hope it looks good this time. :)

Stephen


On 09/03/2011 23:17, Stephen Tuttlebee wrote:
> Hi
>
> I have a tree grammar that takes an AST and I want to rewrite/modify 
> the AST slightly.
>
> Here is the rule we're concerned with (with some unrelated actions 
> removed):
> componentDefinition
>         :  ^(COMPONENT_DEF IDENTIFIER ^(BOUNDARY_DECLS 
> boundaryDeclaration*) ^(FIELD_DECLS fieldDeclaration*) 
> runMethodDeclaration* ^(HANDLER_DECLS handlerDeclaration*) 
> ^(METHOD_DECLS methodDeclaration*))
>         ;
>
> Now, under the ^(HANDLER_DECLS ...) subtree in the rule above I want 
> to add extra 'handlerDeclaration' subtrees in the rewrite rule, each 
> of which have the following form (you can ignore the details of the 
> other rules referenced in it):
>     ^(HANDLER_DECL IDENTIFIER type boundaryDirection IDENTIFIER 
> handlerBlock)
>
> I would like be able to have a tree rewrite rule like this for the 
> componentDefinition rule. I know it's not valid ANTLR syntax but it 
> hopefully gives the idea of what I want to achieve (it's broken up 
> into many lines and indented appropriately for clarity) (also read the 
> comments in the code):
>
> componentDefinition
>         :  ^(COMPONENT_DEF IDENTIFIER ^(BOUNDARY_DECLS 
> boundaryDeclaration*) ^(FIELD_DECLS fieldDeclaration*) 
> runMethodDeclaration* ^(HANDLER_DECLS handlerDeclaration*) 
> ^(METHOD_DECLS methodDeclaration*))
>         { ... some actions here you can ignore... }
>          -> ^(COMPONENT_DEF IDENTIFIER ^(BOUNDARY_DECLS 
> boundaryDeclaration*) ^(FIELD_DECLS fieldDeclaration*) 
> runMethodDeclaration*
>                                                           
> ^(HANDLER_DECLS handlerDeclaration*
>                                                               {
>                                                               
> for(String boundaryName : boundariesWithNoHandler) {
>                                                                 // 
> .... calculate/get values to put in subtree ...
>
>                                                                 /* I 
> want to be able to use ANTLR's friendly tree construction syntax here 
> somehow whilst in the middle of this action.
>                                                                      
> Every iteration of the for loop creates a new subtree --- if I can't 
> do it this way, what is the tree construction code I would need here? */
>                                                                 
> ^(HANDLER_DECL {$boundaryName} ^(IDENT {$b.getType}) 
> {$b.getDirectionString()} ^(BLOCK BLOCK_STATEMENT))
>                                                               } // end 
> for
>                                                               }
>                                                            )
>                                                           
> ^(METHOD_DECLS methodDeclaration*))
>
>
> So in the above tree rewrite, the tree is untouched except the 
> ^(HANDLER_DECLS ...) subtree which will have new ^(HANDLER_DECL ...) 
> subtrees being added to it as children. I want to be able to use 
> ANTLR's friendly tree construction syntax in the middle of the loop. 
> Is there any way I can do this or another approach that might work?
>
> Thanks for your time and effort,
> Stephen


From parrt at cs.usfca.edu  Wed Mar  9 16:39:24 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Wed, 9 Mar 2011 16:39:24 -0800
Subject: [antlr-interest] Composite Tree Grammars are things of beauty,
	but ...
In-Reply-To: <AANLkTi=vg3DKQFJscW-DidnecVc_oNS-4BOr4VU-7Hv2@mail.gmail.com>
References: <AANLkTi=vg3DKQFJscW-DidnecVc_oNS-4BOr4VU-7Hv2@mail.gmail.com>
Message-ID: <AEE1039C-1160-4C83-81A5-A7E0B5CA8343@cs.usfca.edu>

Hi Gary,
Thanks for your excellent explanation of your issue. Turns out that you can in fact secretly use x.y to refer to rule y in grammar x in some cases. In this case, ANTLR optimized away the super rule.

treenode  :  PureTreeWalker.treenode ;

ANTLR technically doesn't expose x.y syntax to the user and so I didn't recognize the fact that you invoked the super rule.  It extracted only those rules from your super grammar that it needed. It does this so that you can fill up libraries of grammars with rules and then pick out which ones you want without bloating your generated code.

That said, I am adding an improvement request for consideration.

http://www.antlr.org/jira/browse/ANTLR-452

I'd like to retract or how ANTLR it handles imports anyway.

Ter

On Mar 8, 2011, at 7:57 PM, Gary Miller wrote:

> Hi All,
> 
> First a bit of background.
> I've been use AntLR for about the last year and the majority of that
> has been "using it in anger".
> 
> A big thanks to Terrance and everyone else involved.
> 
> Hopefully I can help in my small way.
> The application we are building used Google Web Toolkit and out of the
> box AntLR 3.2 Java runtime is not GWT compatible.
> This is a GWT issue, (for those of you who know GWT) a properly
> constructed module definition file and some super-src are all that is
> needed.
> I have packaged this up at http://code.google.com/p/gwtified/,
> hopefully this can make it way back into the AntLR source.
> 
> If anyone is interested in an example of what can be achieved with GWT
> and AntLR, have a http://www.sumwise.com/templates.
> AntLR to Java, then Java to JS via GWT is probably a better option
> then AntLR to JS.
> 
> 
> Now onto the beauty of Composite Tree Grammars.
> 
> Currently we use AntLR in a limited way and I'm hoping to refactor it
> into more of our code.
> To that end I have been playing with AntLR, to try understand THE BOOK
> (ala Paul Erd?s quote) way of using AntLR.
> Also I have had people say to me "why don't you just program some
> examples in Haskell or X" so the semantics are clear.
> My feeling has been that I could get more clarity if I have a pure
> tree grammar, one without actions.
> The problem is that I did want to maintain multiple walker with the
> only difference being the actions.
> Here is where imports / composition comes to the rescue (well almost).
> 
> By way of example. I have a tree grammar called PureTreeWalker that
> imo is pretty close to a perfect representation of a tree (if that not
> request for comment I don't know what is).
> Now I want to have a print walker that output a syntax representation,
> The PureTreePrintWalker.g imports PureTreeWalker and adds actions
> where necessary.
> 
> Here is the but ...
> What would be even nicer would be if PureTreePrintWalker could call
> directly into PureTreeWalker. see PureTreePrintWalker.g+.
> This is valid AntLR, but the Java it produces has compile errors. By
> creating an PureTreeWalkerEmpty.g that import PureTreeWalker but does
> override any rules, I was able to merge and modify
> PureTreePrintWalker_PureTreeWalker.java so that this works.
> 
> Any idea how hard it would be to add this "super calls" to the Java
> target for Composite Tree Grammars?
> 
> Regards
> Gary Miller
> 
> 
> PureTreeWalker.g
> ================
> /** This is the purist representation of the AST.
> * This tree grammar is imported (inherited) by the other
> * tree grammars that actually do the work. */
> tree grammar PureTreeWalker;
> 
> /** Top of a Tree */
>        treestruct  : ^(TREE (treenode)+) ;
> /** Abstract node of a tree, either a subtree or a leaf */
> treenode  : subtree   | leaf;
> /** Subtree, has a root tree node and tree node children */  subtree
> : ^(NODE root (treenode)+) ;
> /** The root of a subtree */
>     root  : ^(ROOT id);
> /** Leaf, has no children */
>     leaf  : ^(LEAF id);
> /** An id */
>            id  : ID ;
> 
> 
> PureTreePrintWalker.g
> ================
> tree grammar PureTreePrintWalker;
> 
> options {  tokenVocab=PureTreeParser;  ASTLabelType=CommonTree; }
> 
> import PureTreeWalker;
> 
> @header {
> package puretree;
> }
> 
> @members {
>  IMTWriter writer;
>  void setWriter(IMTWriter writer) {
>    this.writer = writer;
>  }
> 
>  void inc() { writer.indent_inc(); }
>  void dec() { writer.indent_dec(); }
>  void append( String s ) { writer.append( s ); }
>  void nl() {  writer.nl(); }
> }
> 
> statement
>     : {append("TREE");}   treestruct       {nl();}
>     | {append("NODE");}   subtree          {nl();}
>     | {append("LEAF");}   leaf             {nl();}
> ;
> //treestruct see PureTreeWalker
> treenode  : {inc();} subtree {dec();}  | {inc();} leaf    {dec();};
> //subtree see PureTreeWalker
> root   : {nl();} ^(ROOT id);
> leaf   : {nl();} ^(LEAF id);
> id     : ID {append($ID.text);};
> 
> 
> 
> PureTreePrintWalker.g+
> ================
> tree grammar PureTreePrintWalker;
> 
> options {  tokenVocab=PureTreeParser;  ASTLabelType=CommonTree; }
> 
> import PureTreeWalker;
> 
> @header {package puretree}
> 
> @members {
>  IMTWriter writer;
>  void setWriter(IMTWriter writer) {
>    this.writer = writer;
>  }
> 
>  void inc() { writer.indent_inc(); }
>  void dec() { writer.indent_dec(); }
>  void append( String s ) { writer.append( s ); }
>  void nl() {  writer.nl(); }
> }
> 
> statement
>     : {append("TREE");}   treestruct       {nl();}
>     | {append("NODE");}   subtree          {nl();}
>     | {append("LEAF");}   leaf             {nl();}
> ;
> 
> //treestruct see PureTreeWalker
> treenode  : {inc();} PureTreeWalker.treenode {dec();};
> //subtree see PureTreeWalker
> root   : {nl();} PureTreeWalker.root;
> leaf   : {nl();} PureTreeWalker.leaf;
> id     : ID {append($ID.text);};
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From themightystephen at googlemail.com  Wed Mar  9 16:42:47 2011
From: themightystephen at googlemail.com (Stephen Tuttlebee)
Date: Thu, 10 Mar 2011 00:42:47 +0000
Subject: [antlr-interest] Tree construction - Adding subtrees
In-Reply-To: <4D780B93.6000907@googlemail.com>
References: <4D780A7D.4090701@googlemail.com> <4D780B93.6000907@googlemail.com>
Message-ID: <4D781E87.2060308@googlemail.com>

One last attempt to make the code display better:

componentDefinition
:  ^(COMPONENT_DEF IDENTIFIER ^(BOUNDARY_DECLS boundaryDeclaration*) 
^(FIELD_DECLS fieldDeclaration*) runMethodDeclaration* ^(HANDLER_DECLS 
handlerDeclaration*) ^(METHOD_DECLS methodDeclaration*))

{ ... some actions here you can ignore... }

-> ^(COMPONENT_DEF IDENTIFIER ^(BOUNDARY_DECLS boundaryDeclaration*) 
^(FIELD_DECLS fieldDeclaration*) runMethodDeclaration*

   ^(HANDLER_DECLS handlerDeclaration*
   {
   for(String boundaryName : boundariesWithNoHandler) {
     // .... calculate/get values to put in subtree ...

     /* I want to be able to use ANTLR's friendly tree construction 
syntax here somehow whilst in the middle of this action.
          Every iteration of the for loop creates a new subtree --- if I 
can't do it this way, what is the tree construction code I would need 
here? */
     ^(HANDLER_DECL {$boundaryName} ^(IDENT {$b.getType}) 
{$b.getDirectionString()} ^(BLOCK BLOCK_STATEMENT))
   } // end for
   }

   )  ^(METHOD_DECLS methodDeclaration*))
;

Hope that displays better.


On 09/03/2011 23:21, Stephen Tuttlebee wrote:
> componentDefinition
>         :  ^(COMPONENT_DEF IDENTIFIER ^(BOUNDARY_DECLS 
> boundaryDeclaration*) ^(FIELD_DECLS fieldDeclaration*) 
> runMethodDeclaration* ^(HANDLER_DECLS handlerDeclaration*) 
> ^(METHOD_DECLS methodDeclaration*))
>         { ... some actions here you can ignore... }
>          -> ^(COMPONENT_DEF IDENTIFIER ^(BOUNDARY_DECLS 
> boundaryDeclaration*) ^(FIELD_DECLS fieldDeclaration*) 
> runMethodDeclaration*
>                     ^(HANDLER_DECLS handlerDeclaration*
>                         {
>                         for(String boundaryName : 
> boundariesWithNoHandler) {
>                             // .... calculate/get values to put in 
> subtree ...
>
>                             /* I want to be able to use ANTLR's 
> friendly tree construction syntax here somehow whilst in the middle of 
> this action.
>                                 Every iteration of the for loop 
> creates a new subtree --- if I can't do it this way, what is the tree 
> construction code I would need here? */
>                             ^(HANDLER_DECL {$boundaryName} ^(IDENT 
> {$b.getType}) {$b.getDirectionString()} ^(BLOCK BLOCK_STATEMENT))
>                          } // end for
>                          }
>                      )
>                      ^(METHOD_DECLS methodDeclaration*))
>         ; 


From researcher0x00 at gmail.com  Wed Mar  9 17:56:58 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Wed, 9 Mar 2011 20:56:58 -0500
Subject: [antlr-interest] What are the names for parts of code making up a
	rule.
Message-ID: <AANLkTi=9t80nnBAF2X4OYO48V_30bDivd-reZLcmBV4+@mail.gmail.com>

In 'The Definitive ANTLR Reference" on pg. 49 the two main parts of a
rule are identified by the comments,

1. "predict which alternative will succeed ..."
2. "now we know which alt will succeed, ..."

Does any body know if these parts have a formal name and what are they?
Is there a reference on the Internet naming them?

Thanks, Eric

From miller.garym at gmail.com  Wed Mar  9 19:15:07 2011
From: miller.garym at gmail.com (Gary Miller)
Date: Thu, 10 Mar 2011 14:15:07 +1100
Subject: [antlr-interest] Composite Tree Grammars are things of beauty,
 but ...
In-Reply-To: <AEE1039C-1160-4C83-81A5-A7E0B5CA8343@cs.usfca.edu>
References: <AANLkTi=vg3DKQFJscW-DidnecVc_oNS-4BOr4VU-7Hv2@mail.gmail.com>
	<AEE1039C-1160-4C83-81A5-A7E0B5CA8343@cs.usfca.edu>
Message-ID: <AANLkTi=b_bRf0WrjJ4Htea-QFkVO-AFgq516Z=0A2ef_@mail.gmail.com>

Hey Terrance,

tree grammar T;
a : some horrible mess of a RECURSIVE rule;
b : B ;

tree grammar U;
import T;
a : {pre action} T.a {post action}; // <-- wants to be able to refer
to super rule

It wouldn't be enough to just expose the super rule T.a.
In the generated walker A_T the rule 'a' would need to call the delegators.a().

> ANTLR technically doesn't expose x.y syntax to the user and so I didn't recognize the fact that you invoked the super rule. ?It extracted only those rules from your super grammar that it needed. It does this so that you can fill up libraries of grammars with rules and then pick out which ones you want without bloating your generated code.

Thanks for raising the issue.
Based on my bias ("Composite Tree Grammars are things of beauty") I
would hope for more than a minor ;-)
How do I get a login the JIRA so that I can follow issues?

> That said, I am adding an improvement request for consideration.
>
> http://www.antlr.org/jira/browse/ANTLR-452

Sorry, I can't parse this. Are you saying that you would like to
removed imports from ANTLR?

> I'd like to retract or how ANTLR it handles imports anyway.

Regards
Gary

P.S. is there any reason for ANTLR over Antlr | AntLR | AntLr | antlr etc.

From cummings at kjchome.homeip.net  Wed Mar  9 20:16:07 2011
From: cummings at kjchome.homeip.net (Kevin J. Cummings)
Date: Wed, 09 Mar 2011 23:16:07 -0500
Subject: [antlr-interest] Composite Tree Grammars are things of beauty,
 but ...
In-Reply-To: <AANLkTi=b_bRf0WrjJ4Htea-QFkVO-AFgq516Z=0A2ef_@mail.gmail.com>
References: <AANLkTi=vg3DKQFJscW-DidnecVc_oNS-4BOr4VU-7Hv2@mail.gmail.com>
	<AEE1039C-1160-4C83-81A5-A7E0B5CA8343@cs.usfca.edu>
	<AANLkTi=b_bRf0WrjJ4Htea-QFkVO-AFgq516Z=0A2ef_@mail.gmail.com>
Message-ID: <4D785087.8090002@kjchome.homeip.net>

On 03/09/2011 10:15 PM, Gary Miller wrote:
> P.S. is there any reason for ANTLR over Antlr | AntLR | AntLr | antlr etc.

ANother Tool for Language Recognition

-- 
Kevin J. Cummings
kjchome at verizon.net
cummings at kjchome.homeip.net
cummings at kjc386.framingham.ma.us
Registered Linux User #1232 (http://counter.li.org)

From ben.corne at gmail.com  Thu Mar 10 05:54:34 2011
From: ben.corne at gmail.com (Ben Corne)
Date: Thu, 10 Mar 2011 14:54:34 +0100
Subject: [antlr-interest] simple annotation parser
Message-ID: <AANLkTinq9t+b+4q2ANAqk_sy1cJLbxJssA_8gdEzM9bQ@mail.gmail.com>

Hello

I'm trying to parse the examplary lines:
example1: "//@author Ben Corne"
example2: "//@ this is an example docstring"

However, when running this in the interpreter window on example 1 or 2, it
always seems to cut off the last last part of the letters in the resulting
tree:
http://igor.rave.org/annotation.png

here's my attempt so far:
-------------------------------
grammar Annotation;

options {
  language  = Java;
  output    = AST;
}

@header{
  package edu.vub.at.parser;
}
@lexer::header{
  package edu.vub.at.parser;
}

annotation
  : '//@'  rule
  ;

rule
  : ('\t'|'\n'|' '|'\r')* author
  | docstring
  ;

// Documentation rules
author
  : 'author'!
    (( '\t' | ' ' )+)!
    .*
    EOF
  ;

docstring
  : (( '\t' | ' ')+)!
    .*
    EOF
  ;
-------------------------------

From ben.corne at gmail.com  Thu Mar 10 05:55:07 2011
From: ben.corne at gmail.com (Ben Corne)
Date: Thu, 10 Mar 2011 14:55:07 +0100
Subject: [antlr-interest] simple annotation parser
Message-ID: <AANLkTinEhx7k1=5_=AnJ=31TtUMhi0GFSTE0+GK6kU7Q@mail.gmail.com>

Hello

I'm trying to parse the examplary lines:
example1: "//@author Ben Corne"
example2: "//@ this is an example docstring"

However, when running this in the interpreter window on example 1 or 2, it
always seems to cut off the last last part of the letters in the resulting
tree:
http://igor.rave.org/annotation.png

here's my attempt so far:
-------------------------------
grammar Annotation;

options {
  language  = Java;
  output    = AST;
}

@header{
  package edu.vub.at.parser;
}
@lexer::header{
  package edu.vub.at.parser;
}

annotation
  : '//@'  rule
  ;

rule
  : ('\t'|'\n'|' '|'\r')* author
  | docstring
  ;

// Documentation rules
author
  : 'author'!
    (( '\t' | ' ' )+)!
    .*
    EOF
  ;

docstring
  : (( '\t' | ' ')+)!
    .*
    EOF
  ;
-------------------------------

From jimi at temporal-wave.com  Thu Mar 10 06:35:40 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Thu, 10 Mar 2011 06:35:40 -0800
Subject: [antlr-interest] Composite Tree Grammars are things of beauty,
 but ...
In-Reply-To: <AANLkTi=b_bRf0WrjJ4Htea-QFkVO-AFgq516Z=0A2ef_@mail.gmail.com>
References: <AANLkTi=vg3DKQFJscW-DidnecVc_oNS-4BOr4VU-7Hv2@mail.gmail.com>
	<AEE1039C-1160-4C83-81A5-A7E0B5CA8343@cs.usfca.edu>
	<AANLkTi=b_bRf0WrjJ4Htea-QFkVO-AFgq516Z=0A2ef_@mail.gmail.com>
Message-ID: <7095a3bdcd61c362175ca4bbdad46c62@mail.gmail.com>

Gary,

Hope things are good and that your product is coming along nicely!

The best way to deal with this to have your main including grammar
implement a superclass, then all the other grammars will inherit it. That
is where all your extra code and variables go and it works better that
way. If you use Maven, my archetype will create this structure for you out
of the box. Don?t put anything in the .g files that you can put in the
super class.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Gary Miller
> Sent: Wednesday, March 09, 2011 7:15 PM
> To: antlr-interest at antlr.org
> Subject: Re: [antlr-interest] Composite Tree Grammars are things of
> beauty, but ...
>
> Hey Terrance,
>
> tree grammar T;
> a : some horrible mess of a RECURSIVE rule; b : B ;
>
> tree grammar U;
> import T;
> a : {pre action} T.a {post action}; // <-- wants to be able to refer to
> super rule
>
> It wouldn't be enough to just expose the super rule T.a.
> In the generated walker A_T the rule 'a' would need to call the
> delegators.a().
>
> > ANTLR technically doesn't expose x.y syntax to the user and so I
> didn't recognize the fact that you invoked the super rule. ?It
> extracted only those rules from your super grammar that it needed. It
> does this so that you can fill up libraries of grammars with rules and
> then pick out which ones you want without bloating your generated code.
>
> Thanks for raising the issue.
> Based on my bias ("Composite Tree Grammars are things of beauty") I
> would hope for more than a minor ;-) How do I get a login the JIRA so
> that I can follow issues?
>
> > That said, I am adding an improvement request for consideration.
> >
> > http://www.antlr.org/jira/browse/ANTLR-452
>
> Sorry, I can't parse this. Are you saying that you would like to
> removed imports from ANTLR?
>
> > I'd like to retract or how ANTLR it handles imports anyway.
>
> Regards
> Gary
>
> P.S. is there any reason for ANTLR over Antlr | AntLR | AntLr | antlr
> etc.
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From jimi at temporal-wave.com  Thu Mar 10 06:42:46 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Thu, 10 Mar 2011 06:42:46 -0800
Subject: [antlr-interest] simple annotation parser
In-Reply-To: <AANLkTinEhx7k1=5_=AnJ=31TtUMhi0GFSTE0+GK6kU7Q@mail.gmail.com>
References: <AANLkTinEhx7k1=5_=AnJ=31TtUMhi0GFSTE0+GK6kU7Q@mail.gmail.com>
Message-ID: <645b95847da28b2003f89339f85958f1@mail.gmail.com>

Use the debugger, not the interpreter. However your parsing rules are
ambiguous - switch from literals to real lexer tokens and look at the
error messages that ANTLR works gives you if you try to debug this.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Ben Corne
> Sent: Thursday, March 10, 2011 5:55 AM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] simple annotation parser
>
> Hello
>
> I'm trying to parse the examplary lines:
> example1: "//@author Ben Corne"
> example2: "//@ this is an example docstring"
>
> However, when running this in the interpreter window on example 1 or 2,
> it always seems to cut off the last last part of the letters in the
> resulting
> tree:
> http://igor.rave.org/annotation.png
>
> here's my attempt so far:
> -------------------------------
> grammar Annotation;
>
> options {
>   language  = Java;
>   output    = AST;
> }
>
> @header{
>   package edu.vub.at.parser;
> }
> @lexer::header{
>   package edu.vub.at.parser;
> }
>
> annotation
>   : '//@'  rule
>   ;
>
> rule
>   : ('\t'|'\n'|' '|'\r')* author
>   | docstring
>   ;
>
> // Documentation rules
> author
>   : 'author'!
>     (( '\t' | ' ' )+)!
>     .*
>     EOF
>   ;
>
> docstring
>   : (( '\t' | ' ')+)!
>     .*
>     EOF
>   ;
> -------------------------------
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From WeikEngOff at aol.com  Thu Mar 10 10:30:30 2011
From: WeikEngOff at aol.com (Udo Weik)
Date: Thu, 10 Mar 2011 19:30:30 +0100
Subject: [antlr-interest] ANTLRWorks 1.4.2: Remote debugger - socket
	protocol description
Message-ID: <4D7918C6.6060607@aol.com>

Hello,

I'm looking for a comprehensive socket protocol description of the
remote debugger with some examples (e. g. the LT-command).


Thanks and greetings
Udo

From WeikEngOff at aol.com  Thu Mar 10 10:31:28 2011
From: WeikEngOff at aol.com (Udo Weik)
Date: Thu, 10 Mar 2011 19:31:28 +0100
Subject: [antlr-interest] ANTLR v3.3/ANTLRWorks 1.4.2: Using with
	Delphi/C++Builder
Message-ID: <4D791900.2050101@aol.com>

Hello again,

does anybody use ANTRL/ANTLRWorks with Delphi and/or especially
with C++Builder?


Thanks and greetings
Udo

From avs at lizatec.com  Fri Mar 11 06:13:24 2011
From: avs at lizatec.com (Andrey Sirotkin)
Date: Fri, 11 Mar 2011 15:13:24 +0100
Subject: [antlr-interest] CSharp3 Composite error
Message-ID: <A25192812C42974B949C0D3D6199E4DE25AAAB93A0@Liza-mail01.lizatec.com>

Hello!

I created three simple grammar files:

G1_Lexer.g:

lexer grammar G1_Lexer;
options {
    language=CSharp3;
}
INT :	'0'..'9'+;

G1_Parser.g:

parser grammar G1_Parser;
options {
    language=CSharp3;
    tokenVocab = G1_Lexer;
}
rule1: INT;

G2.g

grammar G2;
options {
    language=CSharp3;
    output=AST;
}
import G1_Parser;
prog 	:rule1*;

Then generate the C# code. The constructor of G2Parser is:

	public G2Parser(ITokenStream input, RecognizerSharedState state)
		: base(input, state)
	{
		ITreeAdaptor treeAdaptor = null;
		CreateTreeAdaptor(ref treeAdaptor);
		TreeAdaptor = treeAdaptor ?? new CommonTreeAdaptor(); //throws NullReference exception
		gG1_Parser = new G2_G1_Parser(input, state, this);

		OnCreated();
	}

As you can see the gG1_Parser is initialized after setting of TreeAdaptor; but TreeAdaptor setter uses this field:

	public ITreeAdaptor TreeAdaptor
	{
..........
		set
		{
			this.adaptor = value;
			gG1_Parser.TreeAdaptor = this.adaptor;
		}
	}


I changed the '..\org\antlr\codegen\templates\CSharp3\CSharp3.stg' file like this:

public <grammar.recognizerName>(<inputStreamType> input, RecognizerSharedState state<grammar.delegators:{g|, <g.recognizerName> <g:delegateName()>}>)
	: base(input, state)
{
	<grammar.directDelegates:
	 {g|<g:delegateName()> = new <g.recognizerName>(input, state<trunc(g.delegators):{p|, <p:delegateName()>}>, this);}; separator="\n">
	<parserCtorBody()>
	<grammar.indirectDelegates:{g | <g:delegateName()> = <g.delegator:delegateName()>.<g:delegateName()>;}; separator="\n">
	<last(grammar.delegators):{g|gParent = <g:delegateName()>;}>

	OnCreated();
}

Move the <parserCtorBody()> after <grammar.directDelegates and now it works correctly.

Kind regards,
Andrey Sirotkin


From DShumsheruddin at rocketsoftware.com  Fri Mar 11 06:32:51 2011
From: DShumsheruddin at rocketsoftware.com (Dean Shumsheruddin)
Date: Fri, 11 Mar 2011 14:32:51 +0000
Subject: [antlr-interest] Parsing poorly terminated IF statements
Message-ID: <89A4F908E21C3B449CAE3F93E81F8C0307B933AF@nwt-s-mbx2.rocketsoftware.com>

Hi Folks,

I'm using ANTLR to parse an old Fortran-like language with poorly terminated if statements.
Here is a simplified version of a block in the language. I've just added the indentation to show the structure:

print 1
if
  print 2
else
  print 3
endif
if
  print 4
if
  print 5
  do
    print 6
    if
      print 7
  next
  print 8

If constructs may be terminated by 'endif', a new 'if' construct, or the end of the current block.
If statements cannot be nested except via a do-next construct. Every 'do' is terminated by matching 'next'.

Here is a simplified version of the grammar I'm using:

block     : command* ;

command            : (ifcom)=> ifcom
               | print
               | docom
               ;

ifcom   : IF NL noifblock (ELSE NL noifblock)? (ENDIF NL)? ;

noifblock : noifcommand* ;

noifcommand : print | docom ;

print   : PRINT NL ;

docom   : DO NL block NEXT NL ;

// Lexer Rules
IF      : 'if'    ;
ELSE    : 'else'    ;
ENDIF   : 'endif'    ;
PRINT   : 'print'    ;
DO      : 'do'    ;
NEXT    : 'next'    ;
INT         : '0'..'9'+               ;
NL          : '\n'       ;
WS      : (' ' |'\n' |'\r' )+ {skip();}     ;


It generates warnings:

[14:15:38] warning(200): if.g:37:4: Decision can match input such as "DO" using multiple alternatives: 1, 2
As a result, alternative(s) 2 were disabled for that input
[14:15:38] warning(200): if.g:37:4: Decision can match input such as "PRINT" using multiple alternatives: 1, 2
As a result, alternative(s) 2 were disabled for that input

but seems to work because of the greedy ifcom rule.  Can anyone suggest a better way of doing it?

Thanks for your help.

Dean





From sharwell at pixelminegames.com  Fri Mar 11 06:55:41 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Fri, 11 Mar 2011 08:55:41 -0600
Subject: [antlr-interest] CSharp3 Composite error
In-Reply-To: <A25192812C42974B949C0D3D6199E4DE25AAAB93A0@Liza-mail01.lizatec.com>
References: <A25192812C42974B949C0D3D6199E4DE25AAAB93A0@Liza-mail01.lizatec.com>
Message-ID: <002f01cbdffc$6520c470$2f624d50$@pixelminegames.com>

Hi Andrey,

Thanks for the info. I'll see to getting it in for the next release. :)

Sam

-----Original Message-----
From: antlr-interest-bounces at antlr.org
[mailto:antlr-interest-bounces at antlr.org] On Behalf Of Andrey Sirotkin
Sent: Friday, March 11, 2011 8:13 AM
To: antlr-interest at antlr.org
Subject: [antlr-interest] CSharp3 Composite error

Hello!


...

Move the <parserCtorBody()> after <grammar.directDelegates and now it works
correctly.

Kind regards,
Andrey Sirotkin



From parrt at cs.usfca.edu  Fri Mar 11 14:29:29 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Fri, 11 Mar 2011 14:29:29 -0800
Subject: [antlr-interest] Composite Tree Grammars are things of beauty,
	but ...
In-Reply-To: <AANLkTi=b_bRf0WrjJ4Htea-QFkVO-AFgq516Z=0A2ef_@mail.gmail.com>
References: <AANLkTi=vg3DKQFJscW-DidnecVc_oNS-4BOr4VU-7Hv2@mail.gmail.com>
	<AEE1039C-1160-4C83-81A5-A7E0B5CA8343@cs.usfca.edu>
	<AANLkTi=b_bRf0WrjJ4Htea-QFkVO-AFgq516Z=0A2ef_@mail.gmail.com>
Message-ID: <98E6EEF0-6647-43DA-99A7-F6A14475907C@cs.usfca.edu>


On Mar 9, 2011, at 7:15 PM, Gary Miller wrote:

> Hey Terrance,
>
> tree grammar T;
> a : some horrible mess of a RECURSIVE rule;
> b : B ;
>
> tree grammar U;
> import T;
> a : {pre action} T.a {post action}; // <-- wants to be able to refer
> to super rule
>
> It wouldn't be enough to just expose the super rule T.a.
> In the generated walker A_T the rule 'a' would need to call the  
> delegators.a().

hmm...crap. you're right. polymorphism wouldn't work. it would call  
T's 'a' not U's a.

>> ANTLR technically doesn't expose x.y syntax to the user and so I  
>> didn't recognize the fact that you invoked the super rule.  It  
>> extracted only those rules from your super grammar that it needed.  
>> It does this so that you can fill up libraries of grammars with  
>> rules and then pick out which ones you want without bloating your  
>> generated code.
>
> Thanks for raising the issue.
> Based on my bias ("Composite Tree Grammars are things of beauty") I
> would hope for more than a minor ;-)

I ignore most bug fields ;)

> How do I get a login the JIRA so that I can follow issues?

send me separate email with the username :)

>> That said, I am adding an improvement request for consideration.
>>
>> http://www.antlr.org/jira/browse/ANTLR-452
>
> Sorry, I can't parse this. Are you saying that you would like to
> removed imports from ANTLR?

fixed.

allow x.y syntax to refer to rule y in imported grammar x
>
>> I'd like to retract or how ANTLR it handles imports anyway.

"refactor"; voice recog error.

>
> Regards
> Gary
>
> P.S. is there any reason for ANTLR over Antlr | AntLR | AntLr |  
> antlr etc.

easier to type. :)

T

From mtnygard at gmail.com  Sat Mar 12 20:06:02 2011
From: mtnygard at gmail.com (Michael Nygard)
Date: Sat, 12 Mar 2011 22:06:02 -0600
Subject: [antlr-interest] Imaginary Node with Constructor Syntax,
	broken Java code generated?
Message-ID: <CEA2F682-68B6-419E-A221-6848B86396FD@gmail.com>

Hi all,

Here's a small fragment of an AST grammar:

qualifiedNameList 
    :   qnames+=qualifiedName (',' qnames+=qualifiedName )*
        -> ^(TYPEREF[$qnames.text])+
    ;

qualifiedName
    :   IDENTIFIER ('.' IDENTIFIER )* 
        -> {new CommonTree(new CommonToken(QNAME, $qualifiedName.text))}
    ;

I'm trying to manipulate the tree so it's easy to process from Clojure, by reducing some AST nodes down to text. ANTLR seems OK with this construct, but the code that it generates won't compile:

/Users/mtnygard/work/atg-xref/indexer/src/gen-java/ImaginaryNodeBugParser.java:139: illegal start of expression
                if ( !() ) {
                       ^
/Users/mtnygard/work/atg-xref/indexer/src/gen-java/ImaginaryNodeBugParser.java:142: illegal start of expression
                while (  ) {
                         ^

Sure enough, when I check the generated code, I see conditionals that are completely empty! Is this a bug in codegen for the Java runtime, or am I doing something wrong with my cardinality?

The whole grammar, the generated parser source, and the errors are visible at https://gist.github.com/867853.

Cheers,
-Michael Nygard



Michael T. Nygard
mtnygard at gmail.com
http://www.michaelnygard.com/

Release It! Design and Deploy Production-Ready Software
http://bit.ly/ReleaseIt

Beautiful Architecture
http://bit.ly/BeautifulArchitecture

97 Things Every Software Architect Should Know
http://bit.ly/97Things


From g4 at novadsp.com  Sun Mar 13 05:58:10 2011
From: g4 at novadsp.com (g4 at novadsp.com)
Date: Sun, 13 Mar 2011 12:58:10 +0000
Subject: [antlr-interest] #include mechanism for grammar files?
Message-ID: <4D7CBF62.4020307@novadsp.com>


From g4 at novadsp.com  Sun Mar 13 06:26:06 2011
From: g4 at novadsp.com (g4 at novadsp.com)
Date: Sun, 13 Mar 2011 13:26:06 +0000
Subject: [antlr-interest] Kudos.
Message-ID: <4D7CC5EE.7020204@novadsp.com>


From g4 at novadsp.com  Sun Mar 13 07:33:16 2011
From: g4 at novadsp.com (g4 at novadsp.com)
Date: Sun, 13 Mar 2011 14:33:16 +0000
Subject: [antlr-interest] #include mechanism for grammar files?
Message-ID: <4D7CD5AC.8010607@novadsp.com>

Sorry! Must remember  to post plain-text only.

It would be useful to be able to #include a file in a grammar. use case: 
grammar is generated by another tool but the lexer definitions are not.

i.e.

grammar auto
...

#include auto_lexer.g

Is there a way to do this with the grammar spread over 2 files?

thx++

Jerry



From g4 at novadsp.com  Sun Mar 13 07:35:40 2011
From: g4 at novadsp.com (g4 at novadsp.com)
Date: Sun, 13 Mar 2011 14:35:40 +0000
Subject: [antlr-interest] Kudos redux.
Message-ID: <4D7CD63C.7020007@novadsp.com>

Many thanks to Cap'n Parr* and the team. ANTLR is a fantastic tool, it's 
taken a few days to do what would have been many weeks of work with 
older tools. Marvelous. Just marvelous.

*The books are good too, LIP in particular. My iPad now has a genuine 
reason for being.

Can we look forward to a V2 of the ANTLR reference?

Thx++

Jerry.



From bkiers at gmail.com  Sun Mar 13 07:37:02 2011
From: bkiers at gmail.com (Bart Kiers)
Date: Sun, 13 Mar 2011 15:37:02 +0100
Subject: [antlr-interest] #include mechanism for grammar files?
In-Reply-To: <4D7CD5AC.8010607@novadsp.com>
References: <4D7CD5AC.8010607@novadsp.com>
Message-ID: <AANLkTim+EByu+j-0H6MNz6AxS=rVUWckpUYU6s1YXD75@mail.gmail.com>

Hi Jerry,.

On Sun, Mar 13, 2011 at 3:33 PM, g4 at novadsp.com <g4 at novadsp.com> wrote:

> Sorry! Must remember  to post plain-text only.
>
> It would be useful to be able to #include a file in a grammar. use case:
> grammar is generated by another tool but the lexer definitions are not.
>
> i.e.
>
> grammar auto
> ...
>
> #include auto_lexer.g
>
> Is there a way to do this with the grammar spread over 2 files?
>

Yes, in ANTLR this is called "composite grammars".
Have a look at: http://www.antlr.org/wiki/display/ANTLR3/Composite+Grammars

Regards,

Bart.

From g4 at novadsp.com  Sun Mar 13 07:48:53 2011
From: g4 at novadsp.com (g4 at novadsp.com)
Date: Sun, 13 Mar 2011 14:48:53 +0000
Subject: [antlr-interest] #include mechanism for grammar files?
In-Reply-To: <AANLkTim+EByu+j-0H6MNz6AxS=rVUWckpUYU6s1YXD75@mail.gmail.com>
References: <4D7CD5AC.8010607@novadsp.com>
	<AANLkTim+EByu+j-0H6MNz6AxS=rVUWckpUYU6s1YXD75@mail.gmail.com>
Message-ID: <4D7CD955.9060709@novadsp.com>

Hi Bart

Just the ticket. Thanks.

On 13/03/2011 14:37, Bart Kiers wrote:
> Hi Jerry,.
>
> On Sun, Mar 13, 2011 at 3:33 PM, g4 at novadsp.com <mailto:g4 at novadsp.com>
> <g4 at novadsp.com <mailto:g4 at novadsp.com>> wrote:
>
>     Sorry! Must remember  to post plain-text only.
>
>     It would be useful to be able to #include a file in a grammar. use case:
>     grammar is generated by another tool but the lexer definitions are not.
>
>     i.e.
>
>     grammar auto
>     ...
>
>     #include auto_lexer.g
>
>     Is there a way to do this with the grammar spread over 2 files?
>
>
> Yes, in ANTLR this is called "composite grammars".
> Have a look at: http://www.antlr.org/wiki/display/ANTLR3/Composite+Grammars
>
> Regards,
>
> Bart.
>



From parrt at cs.usfca.edu  Sun Mar 13 10:40:20 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Sun, 13 Mar 2011 10:40:20 -0700
Subject: [antlr-interest] Imaginary Node with Constructor Syntax,
	broken Java code generated?
In-Reply-To: <CEA2F682-68B6-419E-A221-6848B86396FD@gmail.com>
References: <CEA2F682-68B6-419E-A221-6848B86396FD@gmail.com>
Message-ID: <C3E4E3E2-B955-4CA8-97D7-6ADCF0F963ED@cs.usfca.edu>

Boy that sure seems like a bug..weird. adding. can I link to that page you sent or will it disappear sometime in the future?

Ter

On Mar 12, 2011, at 8:06 PM, Michael Nygard wrote:

> Hi all,
> 
> Here's a small fragment of an AST grammar:
> 
> qualifiedNameList 
>    :   qnames+=qualifiedName (',' qnames+=qualifiedName )*
>        -> ^(TYPEREF[$qnames.text])+
>    ;
> 
> qualifiedName
>    :   IDENTIFIER ('.' IDENTIFIER )* 
>        -> {new CommonTree(new CommonToken(QNAME, $qualifiedName.text))}
>    ;
> 
> I'm trying to manipulate the tree so it's easy to process from Clojure, by reducing some AST nodes down to text. ANTLR seems OK with this construct, but the code that it generates won't compile:
> 
> /Users/mtnygard/work/atg-xref/indexer/src/gen-java/ImaginaryNodeBugParser.java:139: illegal start of expression
>                if ( !() ) {
>                       ^
> /Users/mtnygard/work/atg-xref/indexer/src/gen-java/ImaginaryNodeBugParser.java:142: illegal start of expression
>                while (  ) {
>                         ^
> 
> Sure enough, when I check the generated code, I see conditionals that are completely empty! Is this a bug in codegen for the Java runtime, or am I doing something wrong with my cardinality?
> 
> The whole grammar, the generated parser source, and the errors are visible at https://gist.github.com/867853.
> 
> Cheers,
> -Michael Nygard
> 
> 
> 
> Michael T. Nygard
> mtnygard at gmail.com
> http://www.michaelnygard.com/
> 
> Release It! Design and Deploy Production-Ready Software
> http://bit.ly/ReleaseIt
> 
> Beautiful Architecture
> http://bit.ly/BeautifulArchitecture
> 
> 97 Things Every Software Architect Should Know
> http://bit.ly/97Things
> 
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From parrt at cs.usfca.edu  Sun Mar 13 10:42:21 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Sun, 13 Mar 2011 10:42:21 -0700
Subject: [antlr-interest] Kudos redux.
In-Reply-To: <4D7CD63C.7020007@novadsp.com>
References: <4D7CD63C.7020007@novadsp.com>
Message-ID: <F9151BB3-3F0C-425F-A9D2-2F84158C1BFE@cs.usfca.edu>

Hi Jerry,
thanks for the kudos. at some point I will have to do an upgrade to the reference, yes! :) It's incomplete now and not as good as LIP ;)
Ter
On Mar 13, 2011, at 7:35 AM, g4 at novadsp.com wrote:

> Many thanks to Cap'n Parr* and the team. ANTLR is a fantastic tool, it's 
> taken a few days to do what would have been many weeks of work with 
> older tools. Marvelous. Just marvelous.
> 
> *The books are good too, LIP in particular. My iPad now has a genuine 
> reason for being.
> 
> Can we look forward to a V2 of the ANTLR reference?
> 
> Thx++
> 
> Jerry.
> 
> 
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From antlr at xrad.org  Sun Mar 13 19:26:09 2011
From: antlr at xrad.org (Conrad Hughes)
Date: Mon, 14 Mar 2011 02:26:09 +0000
Subject: [antlr-interest] Bug in application of rewrite insertAfters?
Message-ID: <E1PyxU2-0007e1-Eo@mouse.home.xrad.org>


Hi all,

I've run into a bit of a problem with concatenation of insertions during
rewriting, and think that the problem may be due to an asymmetry
resulting from the transmutation of insertAfter(n, x) into
insertBefore(n+1, x) in TokenRewriteStream...  The comments before
reduceToSingleOperationPerIndex() state that

     *  I.i.u I.i.v                             combine: Iivu

.. if two insertBefores occur before the same index i with text u and v
respectively, then they're glued together second-first, v-u, *not*
first-second.  This means that an insertion before a token applied in an
inner rule is glued more tightly to the token than an insertion applied
in a containing rule --- or, temporally, that in a sequence of
insertBefores, the first one will remain adjacent to the token, the
second adjacent to the first, and so on.  Here's an illustration, now
writing iB (for insertBefore) instead of I:

  iB.1.x iB.1.y iB.1.z -> iB.1.yx iB.1.z -> iB.1.zyx

This makes sense, I think.  However, the reverse situation is true of
insertAfters: if a similar sequence of insertAfters following the
preceding token are processed, we get (iA=insertAfter):

  iA.0.x iA.0.y iA.0.z ->
  iB.1.x iB.1.y iB.1.z -> iB.1.yx iB.1.z -> iB.1.zyx

.. now, where we'd have liked the first insertion to be closely glued to
token 0, in fact it's been closely glued to token 1 --- and instead of
the desired concatenation resulting in something equivalent to iA.0.xyz,
we have iB.1.zyx = iA.0.zyx, the reverse of what I think we'd hope for.

Does this make sense?  I saw a similar question asked in November 2008,
but there was no response...

One solution I can think of would be to give InsertBeforeOp two text
fields, one left-accumulating (for insertAfters) and one right-
accumulating (for insertBefores), and these could be joined together
when final rewrite processing is applied.  It might be possible to do
something smarter by collecting insertions last-first instead of
first-last, but intuition suggests that that would involve substantially
larger changes to the code.

Conrad

From jmurray at aerotech.com  Mon Mar 14 08:59:34 2011
From: jmurray at aerotech.com (Justin Murray)
Date: Mon, 14 Mar 2011 11:59:34 -0400
Subject: [antlr-interest] Best way to handle a large number of language
	constants?
Message-ID: <6B458D23F5D4A24ABCDB3C78EA97393BED18DE@EXCH-VIRTUAL.aerotechad.com>

Hi All,

I am working on a proprietary language of ours that is reminiscent of 
BASIC in some ways, but has morphed over the years into its own 
monstrosity. This language is primarily used to command our hardware 
devices. Our system has a large number of "parameters" (762 to be 
precise) that define the complex configuration of the hardware. This 
configuration mainly lives in a file that is read and sent down to the 
hardware (where it is stored as a simple array of values), but there is 
also the desire to edit these parameters programmatically at runtime. 
Each parameter has a name, and a numeric value. The desire is for each 
parameter to be read/written through simple assignment statements. For 
example, "AxisType.X = 0" assigns the value 0 to the AxisType parameter 
on the X axis. This is currently implemented in a seemingly terrible 
way, and I am looking for the best way to improve it.

The current implementation involves providing a #include file that 
#defines each parameter as an array with a hard-coded index. This 
include file is handled by the pre-processor so that the syntax in 
question only has to handle the hard-coded array. The pre-processor is 
not too terribly inefficient, but the problem is that we have to 
distribute this enormous include file, and the users must remember to 
include it.

I can imagine a couple of other ways to implement this, but I am not 
sure what way would be the most efficient. One way would be to add every 
parameter name as a keyword in the lexer. This has the benefit of 
relying on ANTLR to do all of the lexing for me, so that I don't have to 
parse any strings later in my own code. The problem is that this 
requires a lot of custom code in the grammar file (each token must have 
a well defined numeric index associated with it, to match the index used 
internally in the arrays). Additionally, I don't know how well ANTLR 
will handle having so many hundreds of additional tokens in the 
language. The good thing is that I could auto-generate the grammar from 
our definition of the parameters (in XML format).

Alternatively, I could add a very generic rule to the lexer that would 
match any potentially valid parameter name, and wait until the semantic 
actions to validate this as an actual parameter or a syntax error. While 
this allows for a much simpler grammar on the ANTLR end, what I don't 
like about this that I then have to write a bunch of C code that 
essentially parses the string again.

So I am looking for some advice on the best way to approach this 
problem. If anyone has done something similar before, I would appreciate 
any suggestions that you have for me.

Much thanks,

Justin Murray
jmurray at aerotech.com

From matt.fowles at gmail.com  Mon Mar 14 09:41:26 2011
From: matt.fowles at gmail.com (Matt Fowles)
Date: Mon, 14 Mar 2011 12:41:26 -0400
Subject: [antlr-interest] throws clauses ignored?
Message-ID: <AANLkTin+4d5Rgp49+JKDW=BYry4=Gs7=0ssEk7LAoOhw@mail.gmail.com>

All~

I believe I am seeing the same issue as

http://stackoverflow.com/questions/2836177/exception-declared-on-antlr-grammar-rule-ignored
http://www.antlr.org/jira/browse/ANTLR-100

in essence, the throws clauses on my walker are being completely
ignored (which is causing me great pain).  This seems like a
relatively large issue to be extant from 3.0, am I just missing
something?

Thanks,
Matt

From jimi at temporal-wave.com  Mon Mar 14 14:34:02 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Mon, 14 Mar 2011 14:34:02 -0700
Subject: [antlr-interest] Best way to handle a large number of language
	constants?
In-Reply-To: <6B458D23F5D4A24ABCDB3C78EA97393BED18DE@EXCH-VIRTUAL.aerotechad.com>
References: <6B458D23F5D4A24ABCDB3C78EA97393BED18DE@EXCH-VIRTUAL.aerotechad.com>
Message-ID: <860c04ed071621278c2ffc88e950efc4@mail.gmail.com>

Justin,


Use gperf to generate a perfect hash of your tokens. Use a simple rule to
match anything, then a custom dictionary for the lexer that uses your
pre-known token numbers. Look up in perfect hash and change the token to
the returned value. I have done this a number of times when there is a
large number of fixed keywords and it is easy to maintain. Perhaps you can
do everything you need with just gperf to be honest.



// Pick up the token definitions as assigned by ANTLR
//
#include "MySqlLexer.h"

// Certain keywords, as well as being part of the keyword set are also
// reserved words that cannot normally be used as identifiers the lexer
// defines the value IS_RESERVED for us to use to indicate this.
//

%}
%struct-type
%ignore-case
%language=ANSI-C
%define hash-function-name getKeyword
%define lookup-function-name getInWordSet
%7bit
%compare-lengths
%readonly-tables
%switch=1
%omit-struct-type
mySqlKeywordTok;
%%
# --------------
# Reserved words
#
# Reserved words are used exclusively to specify syntactical
# constructs in SQL and may not be used as identifiers.
#
ADD, KADD
| IS_RESERVED
ALL, ALL                    				| IS_RESERVED
ALTER, ALTER                  				| IS_RESERVED
ANALYZE, ANALYZE                			| IS_RESERVED
AND, AND                    				| IS_RESERVED




> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Justin Murray
> Sent: Monday, March 14, 2011 9:00 AM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] Best way to handle a large number of language
> constants?
>
> Hi All,
>
> I am working on a proprietary language of ours that is reminiscent of
> BASIC in some ways, but has morphed over the years into its own
> monstrosity. This language is primarily used to command our hardware
> devices. Our system has a large number of "parameters" (762 to be
> precise) that define the complex configuration of the hardware. This
> configuration mainly lives in a file that is read and sent down to the
> hardware (where it is stored as a simple array of values), but there is
> also the desire to edit these parameters programmatically at runtime.
> Each parameter has a name, and a numeric value. The desire is for each
> parameter to be read/written through simple assignment statements. For
> example, "AxisType.X = 0" assigns the value 0 to the AxisType parameter
> on the X axis. This is currently implemented in a seemingly terrible
> way, and I am looking for the best way to improve it.
>
> The current implementation involves providing a #include file that
> #defines each parameter as an array with a hard-coded index. This
> include file is handled by the pre-processor so that the syntax in
> question only has to handle the hard-coded array. The pre-processor is
> not too terribly inefficient, but the problem is that we have to
> distribute this enormous include file, and the users must remember to
> include it.
>
> I can imagine a couple of other ways to implement this, but I am not
> sure what way would be the most efficient. One way would be to add
> every parameter name as a keyword in the lexer. This has the benefit of
> relying on ANTLR to do all of the lexing for me, so that I don't have
> to parse any strings later in my own code. The problem is that this
> requires a lot of custom code in the grammar file (each token must have
> a well defined numeric index associated with it, to match the index
> used internally in the arrays). Additionally, I don't know how well
> ANTLR will handle having so many hundreds of additional tokens in the
> language. The good thing is that I could auto-generate the grammar from
> our definition of the parameters (in XML format).
>
> Alternatively, I could add a very generic rule to the lexer that would
> match any potentially valid parameter name, and wait until the semantic
> actions to validate this as an actual parameter or a syntax error.
> While this allows for a much simpler grammar on the ANTLR end, what I
> don't like about this that I then have to write a bunch of C code that
> essentially parses the string again.
>
> So I am looking for some advice on the best way to approach this
> problem. If anyone has done something similar before, I would
> appreciate any suggestions that you have for me.
>
> Much thanks,
>
> Justin Murray
> jmurray at aerotech.com
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From dimka87 at gmail.com  Mon Mar 14 21:39:44 2011
From: dimka87 at gmail.com (=?KOI8-R?B?5M3J1NLJyiDnz8zP18nOz9c=?=)
Date: Tue, 15 Mar 2011 07:39:44 +0300
Subject: [antlr-interest] Please,
	help me with inserting imaginary tokens to exostong grammar
Message-ID: <AANLkTinh40Y1CwsKmfTQ1pQSkbzAw_7HLoX1_V-_M6oV@mail.gmail.com>

I have recently downloaded C# 4 grammar from your site and somehow
adopted for my case. But when I am trying to add some imaginary tokens
in token section(with adding it to the beginning of the file) - and
just after using them in parcer rules(for example in namespace body) -
it gives me a warning "no lexer rule corresponding to token:" and the
name of my new imaginary token. Please, help me to add these to
grammar.



Sincerely yours,
Dmitriy

From stefika at gmail.com  Tue Mar 15 14:15:09 2011
From: stefika at gmail.com (Andreas Stefik)
Date: Tue, 15 Mar 2011 16:15:09 -0500
Subject: [antlr-interest]  String Templates and return values
Message-ID: <AANLkTin-sC6sLVK-sMZbkzmoU-wLOwY6pNPTA_1H2Po2@mail.gmail.com>

Hello all,

My team is changing over our existing grammars from
Parser->TreeWalker, to adding a new phase where we are outputting text
from String templates. We have made some test grammars, which work
fine, generating some output, but are having some difficulty
integrating templates into our real system. Specifically, we started
out doing the simplest thing, putting output = template; into the
options. After changing around some of our grammar to account for
different return types from outputting templates, we ran into one
grammar rule that we haven't quite figured out how to fix:

^(FUNCTION_CALL qualified_name(COLON ID)? LEFT_PAREN ({temp++;}exprs
+= expression (COMMA exprs += expression)*)? RIGHT_PAREN)

Inside the semantic action for this rule is the following:

if($exprs != null) {
			for(Object o : $exprs) {
                		expression_return ex = (expression_return)o;
                		types.add(ex.eval.getType());
                		argumentTypes.add(ex.eval.getType());
                		steps.add(ex.step);
                		values.add(ex.eval);
                		registers.add(ex.eval.getRegister());
                	}
                }

Basically, we are adding expressions into an ArrayList (exprs +=
expression), which we then crawl through to grab details for the
parameters. However, when we comment out output=template; this code
works just fine, but when we leave it in, the array list is populated
with null values. I don't quite understand what is going on here. For
example, the code generated for the expression return looks about the
same:

//templating on
public static class expression_return extends TreeRuleReturnScope {
        public ExpressionValue eval;
        public ExecutionStep step;
        public StringTemplate st;
        public Object getTemplate() { return st; }
        public String toString() { return st==null?null:st.toString(); }
    };

as opposed to

//templating off
public static class expression_return extends TreeRuleReturnScope {
        public ExpressionValue eval;
        public ExecutionStep step;
    };

I assume that, perhaps, there is some other way should be doing this. Any clues?

Stefik

From themightystephen at googlemail.com  Tue Mar 15 15:17:29 2011
From: themightystephen at googlemail.com (Stephen Tuttlebee)
Date: Tue, 15 Mar 2011 22:17:29 +0000
Subject: [antlr-interest] Please,
 help me with inserting imaginary tokens to exostong grammar
In-Reply-To: <AANLkTinh40Y1CwsKmfTQ1pQSkbzAw_7HLoX1_V-_M6oV@mail.gmail.com>
References: <AANLkTinh40Y1CwsKmfTQ1pQSkbzAw_7HLoX1_V-_M6oV@mail.gmail.com>
Message-ID: <4D7FE579.4090604@googlemail.com>

Are you able to provide the relevant part of the code you have?
That would make it easier to help you.

Stephen


From miller.garym at gmail.com  Tue Mar 15 17:57:20 2011
From: miller.garym at gmail.com (Gary Miller)
Date: Wed, 16 Mar 2011 11:57:20 +1100
Subject: [antlr-interest] Composite Tree Grammars are things of beauty,
 but ...
In-Reply-To: <AANLkTi=b_bRf0WrjJ4Htea-QFkVO-AFgq516Z=0A2ef_@mail.gmail.com>
References: <AANLkTi=vg3DKQFJscW-DidnecVc_oNS-4BOr4VU-7Hv2@mail.gmail.com>
	<AEE1039C-1160-4C83-81A5-A7E0B5CA8343@cs.usfca.edu>
	<AANLkTi=b_bRf0WrjJ4Htea-QFkVO-AFgq516Z=0A2ef_@mail.gmail.com>
Message-ID: <AANLkTimFyBMw7kX+dY1YMnpx7wJj_6qdVdBrdrNghFRT@mail.gmail.com>

Hey Jim,

Thanks for the wishes, the Sumwise is coming along nicely. I'm bashing
my head against an optimization problem at the moment, maybe due to a
monolithic code I wrote before I really knew what I was doing.

I'll got a test project up and running using your archetype.
As you know the 3.3 archetype an issue, but it get in the way of using
3.2 and created a project is a real b!t@#.
It would be nice if the archetype contained example unit tests, I
understand this might be a problem as you'll get complaints about
which unit test framework to use.
A small point the example command line on
http://www.antlr.org/wiki/display/ANTLR3/Building+ANTLR+Projects+with+Maven
contains
  "-Dpackage=com.yourcompany.package.path",
can you change it to valid Java e.g.
  "-Dpackage=com.yourcompany.pkg.path"

I like a lot of what you've done, the AbstractTLexer/Parser is nice
for the things I currently have in my @member block.
General I prefer delegation to inheritance and I tend to pass in an
object to the top rule. This delegate would be better passed into the
constructor of the abstract. One question, does this play nicely with
ANTLRWorks?

None of this address the reasons for tree grammar importing and the
desire to be able to refer to imported rules in a polymorphic way (if
that is the correct terminology).

I think a common pattern is to have multiple walkers that are
basically the same except for the actions, laziness, starting rule,
exception handling ....

It would be better to have one walker that specifies the complete tree
grammar and then tree grammars that customize this with overridden
rules and add actions.

Particularly with prototyping and new grammars that AST structure
changes frequently and having to update the multiple walkers is a
significant overhead. This is where the ability to refer to an import
(super) rule really comes in to it's own, as it gives the ability to
effectively do an action oriented style cross cut before and after a
rule. There are alternatives, e.g. are filtered walkers.

Probably the biggest benefit of pure tree walkers is maintainability.
Antlr without the actions and anys is extremely readable and what a
win if a sub tree grammar only has to implements the smallest set of
differences. Terence what about adding a "pure tree grammar" option
where @header, @member, scopes actions etc. and maybe even anys aren't
legal ?-)

Regards
Gary

P.S.
By laziness I mean a rule like
   if : ^(IF a=bool b=. c=. ) { $a.result ? walk( this, $b ) : walk(
this, $c ) ;   };
   bool : returns[ boolean result ] some rules with actions;

> Gary,
>
> Hope things are good and that your product is coming along nicely!
>
> The best way to deal with this to have your main including grammar
> implement a superclass, then all the other grammars will inherit it. That
> is where all your extra code and variables go and it works better that
> way. If you use Maven, my archetype will create this structure for you out
> of the box. Don?t put anything in the .g files that you can put in the
> super class.
>
> Jim

From michael.bedward at gmail.com  Tue Mar 15 18:51:54 2011
From: michael.bedward at gmail.com (Michael Bedward)
Date: Wed, 16 Mar 2011 12:51:54 +1100
Subject: [antlr-interest] String Templates and return values
In-Reply-To: <AANLkTin-sC6sLVK-sMZbkzmoU-wLOwY6pNPTA_1H2Po2@mail.gmail.com>
References: <AANLkTin-sC6sLVK-sMZbkzmoU-wLOwY6pNPTA_1H2Po2@mail.gmail.com>
Message-ID: <AANLkTikMU1a13oTX3Egd2VdgON11o7oudyMfzeTjXsGa@mail.gmail.com>

Hi Andreas,

The problem is that when using template output the generated code for
your ArrayList will look like this...

list_exprs.add(exprs.getTemplate());

ie. it is a list of *templates* not a list of rule return scopes.

One way to get around this is to do something like the following...

In your token parser grammar...

funcCall : ID '(' expressionList ')' -> ^(FUNC_CALL ID expressionList) ;

expressionList : (expression (',' expression)* )? -> ^(EXPR_LIST expression*);

Then in your tree walker grammer...

expressionList returns [List list]
@init { $list = new ArrayList(); }
        : ^(EXPR_LIST ( e = expression {$list.add($e);} )
        ;

funcCall : ^(FUNC_CALL ID expressionList)
             {
                 for (Object o : $expressionList.list) {
                     // do stuff
                 }
             }
             ;

Hope this helps.
Michael


On 16 March 2011 08:15, Andreas Stefik <stefika at gmail.com> wrote:
> Hello all,
>
> My team is changing over our existing grammars from
> Parser->TreeWalker, to adding a new phase where we are outputting text
> from String templates. We have made some test grammars, which work
> fine, generating some output, but are having some difficulty
> integrating templates into our real system. Specifically, we started
> out doing the simplest thing, putting output = template; into the
> options. After changing around some of our grammar to account for
> different return types from outputting templates, we ran into one
> grammar rule that we haven't quite figured out how to fix:
>
> ^(FUNCTION_CALL qualified_name(COLON ID)? LEFT_PAREN ({temp++;}exprs
> += expression (COMMA exprs += expression)*)? RIGHT_PAREN)
>
> Inside the semantic action for this rule is the following:
>
> if($exprs != null) {
> ? ? ? ? ? ? ? ? ? ? ? ?for(Object o : $exprs) {
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?expression_return ex = (expression_return)o;
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?types.add(ex.eval.getType());
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?argumentTypes.add(ex.eval.getType());
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?steps.add(ex.step);
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?values.add(ex.eval);
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?registers.add(ex.eval.getRegister());
> ? ? ? ? ? ? ? ? ? ? ? ?}
> ? ? ? ? ? ? ? ?}
>
> Basically, we are adding expressions into an ArrayList (exprs +=
> expression), which we then crawl through to grab details for the
> parameters. However, when we comment out output=template; this code
> works just fine, but when we leave it in, the array list is populated
> with null values. I don't quite understand what is going on here. For
> example, the code generated for the expression return looks about the
> same:
>
> //templating on
> public static class expression_return extends TreeRuleReturnScope {
> ? ? ? ?public ExpressionValue eval;
> ? ? ? ?public ExecutionStep step;
> ? ? ? ?public StringTemplate st;
> ? ? ? ?public Object getTemplate() { return st; }
> ? ? ? ?public String toString() { return st==null?null:st.toString(); }
> ? ?};
>
> as opposed to
>
> //templating off
> public static class expression_return extends TreeRuleReturnScope {
> ? ? ? ?public ExpressionValue eval;
> ? ? ? ?public ExecutionStep step;
> ? ?};
>
> I assume that, perhaps, there is some other way should be doing this. Any clues?
>
> Stefik
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From michael.bedward at gmail.com  Tue Mar 15 18:54:25 2011
From: michael.bedward at gmail.com (Michael Bedward)
Date: Wed, 16 Mar 2011 12:54:25 +1100
Subject: [antlr-interest] String Templates and return values
In-Reply-To: <AANLkTikMU1a13oTX3Egd2VdgON11o7oudyMfzeTjXsGa@mail.gmail.com>
References: <AANLkTin-sC6sLVK-sMZbkzmoU-wLOwY6pNPTA_1H2Po2@mail.gmail.com>
	<AANLkTikMU1a13oTX3Egd2VdgON11o7oudyMfzeTjXsGa@mail.gmail.com>
Message-ID: <AANLkTimtZqSK7fvEPj19Rkv_=j4gsibZNLpjM-azSgRf@mail.gmail.com>

Oops...

The tree walker action for expressionList should be:
{ $list.add(e); }

Rather than
{ $list.add($e); }

Sorry about that.

Michael

On 16 March 2011 12:51, Michael Bedward <michael.bedward at gmail.com> wrote:
> Hi Andreas,
>
> The problem is that when using template output the generated code for
> your ArrayList will look like this...
>
> list_exprs.add(exprs.getTemplate());
>
> ie. it is a list of *templates* not a list of rule return scopes.
>
> One way to get around this is to do something like the following...
>
> In your token parser grammar...
>
> funcCall : ID '(' expressionList ')' -> ^(FUNC_CALL ID expressionList) ;
>
> expressionList : (expression (',' expression)* )? -> ^(EXPR_LIST expression*);
>
> Then in your tree walker grammer...
>
> expressionList returns [List list]
> @init { $list = new ArrayList(); }
> ? ? ? ?: ^(EXPR_LIST ( e = expression {$list.add($e);} )
> ? ? ? ?;
>
> funcCall : ^(FUNC_CALL ID expressionList)
> ? ? ? ? ? ? {
> ? ? ? ? ? ? ? ? for (Object o : $expressionList.list) {
> ? ? ? ? ? ? ? ? ? ? // do stuff
> ? ? ? ? ? ? ? ? }
> ? ? ? ? ? ? }
> ? ? ? ? ? ? ;
>
> Hope this helps.
> Michael
>
>
> On 16 March 2011 08:15, Andreas Stefik <stefika at gmail.com> wrote:
>> Hello all,
>>
>> My team is changing over our existing grammars from
>> Parser->TreeWalker, to adding a new phase where we are outputting text
>> from String templates. We have made some test grammars, which work
>> fine, generating some output, but are having some difficulty
>> integrating templates into our real system. Specifically, we started
>> out doing the simplest thing, putting output = template; into the
>> options. After changing around some of our grammar to account for
>> different return types from outputting templates, we ran into one
>> grammar rule that we haven't quite figured out how to fix:
>>
>> ^(FUNCTION_CALL qualified_name(COLON ID)? LEFT_PAREN ({temp++;}exprs
>> += expression (COMMA exprs += expression)*)? RIGHT_PAREN)
>>
>> Inside the semantic action for this rule is the following:
>>
>> if($exprs != null) {
>> ? ? ? ? ? ? ? ? ? ? ? ?for(Object o : $exprs) {
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?expression_return ex = (expression_return)o;
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?types.add(ex.eval.getType());
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?argumentTypes.add(ex.eval.getType());
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?steps.add(ex.step);
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?values.add(ex.eval);
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?registers.add(ex.eval.getRegister());
>> ? ? ? ? ? ? ? ? ? ? ? ?}
>> ? ? ? ? ? ? ? ?}
>>
>> Basically, we are adding expressions into an ArrayList (exprs +=
>> expression), which we then crawl through to grab details for the
>> parameters. However, when we comment out output=template; this code
>> works just fine, but when we leave it in, the array list is populated
>> with null values. I don't quite understand what is going on here. For
>> example, the code generated for the expression return looks about the
>> same:
>>
>> //templating on
>> public static class expression_return extends TreeRuleReturnScope {
>> ? ? ? ?public ExpressionValue eval;
>> ? ? ? ?public ExecutionStep step;
>> ? ? ? ?public StringTemplate st;
>> ? ? ? ?public Object getTemplate() { return st; }
>> ? ? ? ?public String toString() { return st==null?null:st.toString(); }
>> ? ?};
>>
>> as opposed to
>>
>> //templating off
>> public static class expression_return extends TreeRuleReturnScope {
>> ? ? ? ?public ExpressionValue eval;
>> ? ? ? ?public ExecutionStep step;
>> ? ?};
>>
>> I assume that, perhaps, there is some other way should be doing this. Any clues?
>>
>> Stefik
>>
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>
>

From miller.garym at gmail.com  Tue Mar 15 21:29:41 2011
From: miller.garym at gmail.com (Gary Miller)
Date: Wed, 16 Mar 2011 15:29:41 +1100
Subject: [antlr-interest] Grammar Imports and @rulecatch
Message-ID: <AANLkTimn3H-Rbq9fRRcg5_RO8BhFYQeAi6t3yZVtHuPL@mail.gmail.com>

If parser or tree grammar A is imported by B, I would have expected
generated B_A to use @rulecatch specified in B.
It is currently using the @rulecatch (or lack on one) in A.g.

Regards
Gary

From stefika at gmail.com  Wed Mar 16 07:37:46 2011
From: stefika at gmail.com (Andreas Stefik)
Date: Wed, 16 Mar 2011 09:37:46 -0500
Subject: [antlr-interest] String Templates and return values
In-Reply-To: <AANLkTimtZqSK7fvEPj19Rkv_=j4gsibZNLpjM-azSgRf@mail.gmail.com>
References: <AANLkTin-sC6sLVK-sMZbkzmoU-wLOwY6pNPTA_1H2Po2@mail.gmail.com>
	<AANLkTikMU1a13oTX3Egd2VdgON11o7oudyMfzeTjXsGa@mail.gmail.com>
	<AANLkTimtZqSK7fvEPj19Rkv_=j4gsibZNLpjM-azSgRf@mail.gmail.com>
Message-ID: <AANLkTik+rcDtrhS0XXnPADMJFa5sDtDuKr==9q71BOWs@mail.gmail.com>

Thanks Michael, this helps. I'll give it a try and see what happens.

Stefik

On Tue, Mar 15, 2011 at 8:54 PM, Michael Bedward
<michael.bedward at gmail.com> wrote:
> Oops...
>
> The tree walker action for expressionList should be:
> { $list.add(e); }
>
> Rather than
> { $list.add($e); }
>
> Sorry about that.
>
> Michael
>
> On 16 March 2011 12:51, Michael Bedward <michael.bedward at gmail.com> wrote:
>> Hi Andreas,
>>
>> The problem is that when using template output the generated code for
>> your ArrayList will look like this...
>>
>> list_exprs.add(exprs.getTemplate());
>>
>> ie. it is a list of *templates* not a list of rule return scopes.
>>
>> One way to get around this is to do something like the following...
>>
>> In your token parser grammar...
>>
>> funcCall : ID '(' expressionList ')' -> ^(FUNC_CALL ID expressionList) ;
>>
>> expressionList : (expression (',' expression)* )? -> ^(EXPR_LIST expression*);
>>
>> Then in your tree walker grammer...
>>
>> expressionList returns [List list]
>> @init { $list = new ArrayList(); }
>> ? ? ? ?: ^(EXPR_LIST ( e = expression {$list.add($e);} )
>> ? ? ? ?;
>>
>> funcCall : ^(FUNC_CALL ID expressionList)
>> ? ? ? ? ? ? {
>> ? ? ? ? ? ? ? ? for (Object o : $expressionList.list) {
>> ? ? ? ? ? ? ? ? ? ? // do stuff
>> ? ? ? ? ? ? ? ? }
>> ? ? ? ? ? ? }
>> ? ? ? ? ? ? ;
>>
>> Hope this helps.
>> Michael
>>
>>
>> On 16 March 2011 08:15, Andreas Stefik <stefika at gmail.com> wrote:
>>> Hello all,
>>>
>>> My team is changing over our existing grammars from
>>> Parser->TreeWalker, to adding a new phase where we are outputting text
>>> from String templates. We have made some test grammars, which work
>>> fine, generating some output, but are having some difficulty
>>> integrating templates into our real system. Specifically, we started
>>> out doing the simplest thing, putting output = template; into the
>>> options. After changing around some of our grammar to account for
>>> different return types from outputting templates, we ran into one
>>> grammar rule that we haven't quite figured out how to fix:
>>>
>>> ^(FUNCTION_CALL qualified_name(COLON ID)? LEFT_PAREN ({temp++;}exprs
>>> += expression (COMMA exprs += expression)*)? RIGHT_PAREN)
>>>
>>> Inside the semantic action for this rule is the following:
>>>
>>> if($exprs != null) {
>>> ? ? ? ? ? ? ? ? ? ? ? ?for(Object o : $exprs) {
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?expression_return ex = (expression_return)o;
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?types.add(ex.eval.getType());
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?argumentTypes.add(ex.eval.getType());
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?steps.add(ex.step);
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?values.add(ex.eval);
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?registers.add(ex.eval.getRegister());
>>> ? ? ? ? ? ? ? ? ? ? ? ?}
>>> ? ? ? ? ? ? ? ?}
>>>
>>> Basically, we are adding expressions into an ArrayList (exprs +=
>>> expression), which we then crawl through to grab details for the
>>> parameters. However, when we comment out output=template; this code
>>> works just fine, but when we leave it in, the array list is populated
>>> with null values. I don't quite understand what is going on here. For
>>> example, the code generated for the expression return looks about the
>>> same:
>>>
>>> //templating on
>>> public static class expression_return extends TreeRuleReturnScope {
>>> ? ? ? ?public ExpressionValue eval;
>>> ? ? ? ?public ExecutionStep step;
>>> ? ? ? ?public StringTemplate st;
>>> ? ? ? ?public Object getTemplate() { return st; }
>>> ? ? ? ?public String toString() { return st==null?null:st.toString(); }
>>> ? ?};
>>>
>>> as opposed to
>>>
>>> //templating off
>>> public static class expression_return extends TreeRuleReturnScope {
>>> ? ? ? ?public ExpressionValue eval;
>>> ? ? ? ?public ExecutionStep step;
>>> ? ?};
>>>
>>> I assume that, perhaps, there is some other way should be doing this. Any clues?
>>>
>>> Stefik
>>>
>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>>
>>
>

From maulattu at yahoo.it  Wed Mar 16 08:11:19 2011
From: maulattu at yahoo.it (maulattu)
Date: Wed, 16 Mar 2011 15:11:19 +0000 (GMT)
Subject: [antlr-interest] Grammar issue
Message-ID: <177462.54488.qm@web26008.mail.ukl.yahoo.com>

Hi all,
I'm trying to develop a simple lexer/parser in order to parse a list "key - 
value" like:

PARAM_1 = 0x05
PARAM_2 = 75
MESSAGE_1 = this is a message
MESSAGE_2 = go away
VARIABLE = true
...

There are keys (left side) that should be with indexes ("PARAM_1", "PARAM_2", 
...).or without (see "VARIABLE").
The values associated to keys could be numbers (decimal/hexadecimal) or strings.
There are specific keys accepting numbers and other keys accepting strings as 
value, so:
  * ok --> PARAM_1 = 38
  * error --> PARAM_1 = true

Whit the grammar explained below I'm able to parse sentences like:
  * PARAM_1 = 1

but not
  * MESSAGE_1 = this is a message
  * VARIABLE = true

I suppose the error should be in the "TEXT_LITERAL" below (fragment), but I'm 
not sure about it.
Leaving it, the lexer hangs up immediately when it reads "PARAM_1..."
Maybe the whole grammar is not properly structured :-|

Thank you all for your precious help :)

This is the grammar I said above:
/*----------------------------------------*/
parametersList
  : parametersDeclaration+ EOF
  ;

parametersDeclaration
  : parameter_with_index /* like PARAM_1 above*/
  | paramemter_without_index /* like VARIABILE above */
  ;

parameter_with_index
  : parameterName = 'PARAM_' parameterIndex '=' numericLiteral
  | parameterName = 'MESSAGE_' parameterIndex '=' textLiteral
  ;

paramemter_without_index
  : parameterName = 'VARIABLE' '=' textLiteral
  ;
/*----------------------------------------*/
parameterIndex
  : DECIMAL_LITERAL
  ;

numericLiteral
  :  HEX_LITERAL
  |  DECIMAL_LITERAL
  ;

textLiteral
  : TEXT_LITERAL
  ;

HEX_LITERAL
  : '0' ('x' | 'X') HEX_DIGIT+
  ;

DECIMAL_LITERAL
  : '0' | '1'..'9' '0'..'9'*
  ;
/*----------------------------------------*/
fragment
TEXT_LITERAL
  : LETTER (LETTER | '0'..'9')*
  ;

fragment
HEX_DIGIT
  : ('0'..'9' | 'a'..'f' | 'A'..'F')
  ;

fragment
LETTER
  : 'A'..'Z'
  | 'a'..'z'
  | '_'
  | '+'
  ;



      

From artg at cs.nyu.edu  Wed Mar 16 10:10:35 2011
From: artg at cs.nyu.edu (Arthur Goldberg)
Date: Wed, 16 Mar 2011 13:10:35 -0400
Subject: [antlr-interest] oncology query language,
	an interesting language implemented in ANTLR
Message-ID: <4D80EF0B.30406@cs.nyu.edu>

Folks

I've built an oncology query language (OQL), which enables cancer 
researchers to refine queries of cancer profile data (genetic status as 
a function of patient and gene). We call it an advanced gene filter 
<http://www.cbioportal.org/cgx/onco_spec_lang_desc.jsp>. In particular, 
researchers can use OQL to define genetic alterations, and thereby 
better investigate which genes are involved in which cancerous activities.

It supports multiple genomic datatypes (expression, copy number and 
mutation), discrete and continuous thresholds for alteration, nicknames, 
and arbitrary ordering of datatypes in the query. It also provides 
extensive error-checking.

In one genetically detailed example, given what is known about the RB 
pathway, the events that are most likely selected for in the tumors are 
CCNE1 amplification,
RB1 deletions or mutations, and loss of expression of CDKN2A. To 
investigate this hypothesis, we use this OQL:

CCNE1: AMP MUTATED
RB1: HOMDEL MUTATED
CDKN2A: HOMDEL EXP < -1

to display only these events 
<http://www.cbioportal.org/cgx/index.do?cancer_type_id=ova&action=Submit&genetic_profile_ids=ova_mutations_next_gen&genetic_profile_ids=ova_gistic&genetic_profile_ids=ova_mrna_median_Zscores&MRNA_PROFILES_SELECTED=on&case_set_id=ova_4way_complete&Z_SCORE_THRESHOLD=1.0&case_ids=&gene_list=%0D%0ACCNE1%3A+AMP+MUTATED%3B%0D%0ARB1%3A+HOMDEL+MUTATED%3B%0D%0ACDKN2A%3A+HOMDEL+EXP+%3C+-1%0D%0A&tab_index=tab_visualize&gene_set_choice=user-defined_list&>.

BR
A

PS. It would be handy if the goldberg at cbio.mskcc.org account on 
antlr-interest at antlr.org could be made to work.

-- 
Senior Research Scientist
Computational Biology
Memorial Sloan-Kettering Cancer Center
cBio Cancer Genomics Portal <http://www.cbioportal.org/>

-- 
Arthur Goldberg
www.cs.nyu.edu/artg

We moved on Dec. 11. Our new address is
2741 Arlington Ave.
Bronx NY 10463


From researcher0x00 at gmail.com  Wed Mar 16 11:20:32 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Wed, 16 Mar 2011 14:20:32 -0400
Subject: [antlr-interest] LIP pg. 285 11.4 Rewriter. How do you do it with
	ANLTR 3?
Message-ID: <AANLkTik9j3MKrPuisYgZ3HCG3F2LoZyzJ8vvze2E50rH@mail.gmail.com>

In "Language Implementation Patterns" on page 285, Figure 11.4 Model-Driven
Translator With Tree Rewriting,
the picture shows a Rewriter.

The rewriter takes in an IR, alters IR structure then outputs an IR.

The only mention in the book is "The role of tree rewriting in translator
design is a pretty big topic and too much to go into here."

I have no doubt that it is a pretty big topic if one tries to rewrite the
processing logic of a language, however I am only working on the data
structures which should be a lot simpler.

For those who have seen my earlier questions, I have set aside trying to get
ANTLR 3 to read a data structure directly and am now creating a DSL to read
data structure definitions. In other words I am not abusing predicates this
round and using ANTLR as intended.

What I am hoping can be done, but have little hope, is that one can define a
grammar that takes in an AST, alters the AST with ANTLR rewrite rules, and
outputs an AST.

So how is a rewrite implemented with ANTLR3? Can you provide a reference to
an example.

Thanks Eric

From parrt at cs.usfca.edu  Wed Mar 16 13:20:31 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Wed, 16 Mar 2011 13:20:31 -0700
Subject: [antlr-interest] oncology query language,
	an interesting language implemented in ANTLR
In-Reply-To: <4D80EF0B.30406@cs.nyu.edu>
References: <4D80EF0B.30406@cs.nyu.edu>
Message-ID: <8B1B4880-3673-45D7-A227-6BCC6A5BEC93@cs.usfca.edu>

Heh, that is cool! added your email above.
Adding to showcase.

http://www.antlr.org/showcase/list

Ter
On Mar 16, 2011, at 10:10 AM, Arthur Goldberg wrote:

> Folks
> 
> I've built an oncology query language (OQL), which enables cancer 
> researchers to refine queries of cancer profile data (genetic status as 
> a function of patient and gene). We call it an advanced gene filter 
> <http://www.cbioportal.org/cgx/onco_spec_lang_desc.jsp>. In particular, 
> researchers can use OQL to define genetic alterations, and thereby 
> better investigate which genes are involved in which cancerous activities.
> 
> It supports multiple genomic datatypes (expression, copy number and 
> mutation), discrete and continuous thresholds for alteration, nicknames, 
> and arbitrary ordering of datatypes in the query. It also provides 
> extensive error-checking.
> 
> In one genetically detailed example, given what is known about the RB 
> pathway, the events that are most likely selected for in the tumors are 
> CCNE1 amplification,
> RB1 deletions or mutations, and loss of expression of CDKN2A. To 
> investigate this hypothesis, we use this OQL:
> 
> CCNE1: AMP MUTATED
> RB1: HOMDEL MUTATED
> CDKN2A: HOMDEL EXP < -1
> 
> to display only these events 
> <http://www.cbioportal.org/cgx/index.do?cancer_type_id=ova&action=Submit&genetic_profile_ids=ova_mutations_next_gen&genetic_profile_ids=ova_gistic&genetic_profile_ids=ova_mrna_median_Zscores&MRNA_PROFILES_SELECTED=on&case_set_id=ova_4way_complete&Z_SCORE_THRESHOLD=1.0&case_ids=&gene_list=%0D%0ACCNE1%3A+AMP+MUTATED%3B%0D%0ARB1%3A+HOMDEL+MUTATED%3B%0D%0ACDKN2A%3A+HOMDEL+EXP+%3C+-1%0D%0A&tab_index=tab_visualize&gene_set_choice=user-defined_list&>.
> 
> BR
> A
> 
> PS. It would be handy if the goldberg at cbio.mskcc.org account on 
> antlr-interest at antlr.org could be made to work.
> 
> -- 
> Senior Research Scientist
> Computational Biology
> Memorial Sloan-Kettering Cancer Center
> cBio Cancer Genomics Portal <http://www.cbioportal.org/>
> 
> -- 
> Arthur Goldberg
> www.cs.nyu.edu/artg
> 
> We moved on Dec. 11. Our new address is
> 2741 Arlington Ave.
> Bronx NY 10463
> 
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From David.Goodlaxson at microfocus.com  Wed Mar 16 13:20:55 2011
From: David.Goodlaxson at microfocus.com (David Goodlaxson)
Date: Wed, 16 Mar 2011 16:20:55 -0400
Subject: [antlr-interest] CSharp3 and SQLCLR
Message-ID: <FC73CCA79EF12948A31A0936A10E1E760BA6B6BE@rock-exchange.microfocus.com>

Hello - (this is probably a query directed to Sam Harwell or Jim Idle)

The short version of this request is that I'd like to get a consistent set of sources and VC projects for the C# port of Antlr3.Runtime and Antlr3.StringTemplate, if that's possible. 

The long version:

For a project I'm currently working on, we'd like to deploy a C# SQL parser and supporting Antlr .dlls to a MS SqlServer 2008 instance (SQLCLR). 

(The parser will parse dynamic SQL from client or server applications and transform it on the fly before it is passed to SQL Server.)

I'm currently working with Sam Harwell's C# port of Antlr 3.3 - Antlr.exe version 3.3.0.7239. I'd like to deploy an assembly of my C# parser, Antlr3.Runtime.dll and Antlr3.StringTemplate.dll to SqlServer.

The existing Antlr3.Runtime and StringTemplate are verifiable (so there's no problem with .NET CLRs), but SQLCLR adds several restrictions (which unfortunately don't seem to be spelled out in one place).

For example, static fields under SQLCLR have to be readonly. This is the output of one of our development tools when run against the Antlr3 runtime:

  E:Antlr3.Runtime failed SQLCLR validation
  E: Location     : G:\AntlrCSharp\Antlr3.Runtime.dll
.NET Version : 3.3.0.7239
File Version : 3.3.0.7239

  E:Type : Antlr.Runtime.Tree.TreeParser ->
  E: Field dotdot should be readonly
  E: Field doubleEtc should be readonly
  E: Field dotdotPattern should be readonly
  E: Field doubleEtcPattern should be readonly

There's also a (probably minor) wrinkle in that SQLServer 2008 is locked into .Net V2 for now: 
- http://blogs.msdn.com/b/dohollan/archive/2010/07/08/sql-server-2008-r2-sqlclr-net-framework-version.aspx

My question is, what's the best way for me to proceed with this project? Can I get a consistent set of sources and visual studio projects that will let me modify and build Antlr3.Runtime.dll and Antlr3.StringTemplate, and see whether I can make SQLCLR happy with them?

I tried pulling down the Antlr3.StringTemplate from github, but it only had a repository link to Antlr3.Runtime, so I wasn't able to build it.

Thanks,
Dave Goodlaxson
 
Please consider the environment before printing this e-mail.
This message has been scanned by MailController - portal1.mailcontroller.co.uk

From themightystephen at googlemail.com  Thu Mar 17 05:00:59 2011
From: themightystephen at googlemail.com (Stephen Tuttlebee)
Date: Thu, 17 Mar 2011 12:00:59 +0000
Subject: [antlr-interest] Grammar issue
In-Reply-To: <177462.54488.qm@web26008.mail.ukl.yahoo.com>
References: <177462.54488.qm@web26008.mail.ukl.yahoo.com>
Message-ID: <4D81F7FB.7020900@googlemail.com>

Hi

Is not the failure to parse:
     MESSAGE_1 = this is a message
due to the whitespace between the words in the string following the 
equals sign?

Do you have a whitespace lexer rule (often called WS)? I suspect the 
parser is failing due to the fact that it parses up to 'MESSAGE_1 = 
this' just fine but then after that point it is expecting another 
'parametersDeclaration' to follow, for which the remaining input 'is a 
message' would not have any rules that matches it (the parser would be 
expecting one of three things next, either 'PARAM_', 'MESSAGE_' or 
'VARIABLE').

I'm not an expert on ANTLR, but I think that might be your problem.

Thanks
Stephen

From themightystephen at googlemail.com  Thu Mar 17 05:07:38 2011
From: themightystephen at googlemail.com (Stephen Tuttlebee)
Date: Thu, 17 Mar 2011 12:07:38 +0000
Subject: [antlr-interest] Grammar issue
In-Reply-To: <4D81F7FB.7020900@googlemail.com>
References: <4D81F7FB.7020900@googlemail.com>
Message-ID: <4D81F98A.4020600@googlemail.com>

Also, forgot to ask...are you defining the format of this input or is it 
fixed (i.e. you can't change it). Because, if you are free to change it, 
then I would solve this problem by making sure strings are quoted in 
double quotes "my string" and then alter the parser to match a string / 
text literal by looking for the double quotes that mark the beginning 
and end of the string.

Or, another way round this would be to use the the fact that you have a 
new line between each key-value pair and use that to unambiguously be 
able to tell when one key-value ends and when another starts. (this 
method only works if you know there will always be a new line between 
each key-value pair and you never get two appearing on the same line)

From themightystephen at googlemail.com  Thu Mar 17 05:56:17 2011
From: themightystephen at googlemail.com (Stephen Tuttlebee)
Date: Thu, 17 Mar 2011 12:56:17 +0000
Subject: [antlr-interest] LIP pg. 285 11.4 Rewriter. How do you do it
 with	ANLTR 3?
In-Reply-To: <AANLkTik9j3MKrPuisYgZ3HCG3F2LoZyzJ8vvze2E50rH@mail.gmail.com>
References: <AANLkTik9j3MKrPuisYgZ3HCG3F2LoZyzJ8vvze2E50rH@mail.gmail.com>
Message-ID: <4D8204F1.7030200@googlemail.com>

Hi Eric

I don't know if I understand your question completely (I haven't read 
the previous questions you mentioned), but are you simply asking how you 
rewrite a tree using ANTLR? Or were you actually asking how ANTLR 
actually IMPLEMENTS this rewriting under the hood (i.e. what code does 
it generate to do the rewriting)? Or something else?

If you were asking the first question, then I can provide a fairly 
simple example from a couple of grammars I have been working on recently 
(I don't know if the example is too simple since it only alters the tree 
in a very minor way, and maybe you're thinking along the lines of larger 
and more substantial changes to the tree).

I have the 'phase 1 grammar' (JavaBPhase1Parser.g) that does the parsing 
and has tree rewrite rules to build an AST. This grammar has the 
following options:
options {
     language = Java;
     output = AST;
     tokenVocab = JavaBLexer;
}

This grammar just builds a tree in the normal way.

My 'phase 2 grammar' (JavaBPhase2WalkerSem1.g) is a tree grammar that 
reads that AST, performs some semantic analysis of the input and spits 
out an almost identical AST. It has similar options as before but the 
really important one here is the rewrite=true option:
options {
     language = Java;
     output = AST; // since we are performing a tree rewrite, as well as 
reading in an AST, I will also be outputting an AST
     rewrite = true; // <---- this is the key option here
     tokenVocab = JavaBPhase1Parser;
     ASTLabelType = CommonTree; // this option here because we're 
reading in a tree and ANTLR would like to know the type of the nodes
}

The rewrite=true causes the tree to be spat out just the same as the 
input tree except where you specify otherwise. For example, in one rule 
I perform some semantic analysis that informs me on how to rewrite the tree:

compositionExpression
     @init {
     boolean compositionComponent = false; // this is only here rather 
than further below where I would want to use it because in the code 
generated by ANTLR the variable is out of scope if I declare it down there
     }
     : ... // other tree rule
     | ... // other tree rule
     | ^(PLAIN_OR_COMPOSITION_COMPONENT ^(IDENT IDENTIFIER))
       { .... some actions that perform semantic analysis (look up in 
the symbol table) to decide if compositionComponent is true or false }
       -> {compositionComponent}? ^(COMPOSITION_COMPONENT ^(IDENT 
IDENTIFIER))
       ->                                                
^(PLAIN_COMPONENT ^(IDENT IDENTIFIER))


In this example I am performing a very simple tree rewrite by simply 
changing the imaginary token of a subtree's root node, but you could 
change the entire subtree by changing the rewrite rule(s) to produce a 
completely different subtree.

For larger, more 'structural' changes to the tree, I would imagine you 
need to do a fair amount of passing subtrees around as parameters / 
return values between rules so that you have access to the subtrees in 
the rules that need them. p170 of the ANTLR reference book has an 
example of this kind of thing (example is used in doing tree 
construction in a *parser* grammar but you can do exactly the same in a 
tree grammar).

You can also have semantic predicates (I think that's the proper name) 
before multiple rewrite rules to rewrite the tree in different ways 
depending on what the boolean expression in the semantic predicates 
evaluates to. See page 181 of ANTLR reference for an example in the 
variableDefinition rule:
variableDefinition
     : modifiers type ID ('=' expression)? ';'
        -> {inMethod}? ^(VARIABLE ID modifier* type expression?) // 
semantic predicate used here
        ->                        ^(FIELD ID modifier* type expression?)
     ;
Again, that example is used in doing tree construction in a parser 
grammar but you can do exactly the same in a tree grammar.

Bear in mind though (at least I think this is the case...), that with 
these semantic predicates you have to ensure that there is a default 
case which specifies the tree to be built if all the other previous 
semantic predicates evaluate to false.

Hope this helps.

Stephen

From antlr3 at gmail.com  Fri Mar 18 15:24:22 2011
From: antlr3 at gmail.com (Hiten R)
Date: Fri, 18 Mar 2011 15:24:22 -0700
Subject: [antlr-interest] Read multiple times
Message-ID: <AANLkTinbgoHr6WLfYmnBpwi9wg-WKLD0gd+KXhU4SG8g@mail.gmail.com>

Hi everyone,

I have a very simple problem described below and I don`t have a best way to
solve it. The idea is to parse values in each Basket and populate POJO
representing the Basket.

Basket 200
   state California 246
   employee 678
   phone 555-9000 ext 90009
   zip 0909090
Basket 300
   state NY 787
   emp.....
   phone .......
   zip......

My parser parses the first line 'state California 246' and then moves to
another basket. I want to recursively parse each line under basket and at
the end populate POJO and then move to another basket.

So any help would be appreciated.

Thx
H

Grammar below

basket
@init {
    Basket basket;

    String state= "";
    String employee= "";
    String phone= "";
    String zip= "";

}
@after {
    basket= new Basket(state, employee);
    basket.setPhone(phone);
    this.somelist.addBakets(basket);

    print(basket.toString());

    //start again
    parse(); --------? Is this right approach
}
    : 'state'            st=TOKEN          { state= $st.text; }
    | 'employee'     et=TOKEN          { employee= $et.text; }
    | 'phone'          pt=TOKEN           { phone= $pt.text; }
    | 'zip'

    ;

From jbb at acm.org  Fri Mar 18 16:19:26 2011
From: jbb at acm.org (John B. Brodie)
Date: Fri, 18 Mar 2011 19:19:26 -0400
Subject: [antlr-interest] Read multiple times
In-Reply-To: <AANLkTinbgoHr6WLfYmnBpwi9wg-WKLD0gd+KXhU4SG8g@mail.gmail.com>
References: <AANLkTinbgoHr6WLfYmnBpwi9wg-WKLD0gd+KXhU4SG8g@mail.gmail.com>
Message-ID: <1300490366.2891.22.camel@gecko>

Greetings!

On Fri, 2011-03-18 at 15:24 -0700, Hiten R wrote:
> Hi everyone,
> 
> I have a very simple problem described below and I don`t have a best way to
> solve it. The idea is to parse values in each Basket and populate POJO
> representing the Basket.
> 
> Basket 200
>    state California 246
>    employee 678
>    phone 555-9000 ext 90009
>    zip 0909090
> Basket 300
>    state NY 787
>    emp.....
>    phone .......
>    zip......
> 
> My parser parses the first line 'state California 246' and then moves to
> another basket. I want to recursively parse each line under basket and at
> the end populate POJO and then move to another basket.
> 

use a loop! your collection is apparently 1 or more baskets, thus

collection : basket + EOF ;
basket : bannerPhrase stateClause empClause phoneClause zipClause ;
bannerPhrase : 'Basket' ... ;
stateCaluse : 'state' ... ;
empClause : 'employee' ... ;
phoneClause : 'phone' ... ;
zipClause : 'zip' ... ; 

and of course need to add appropriate actions in order to populate your
data structure.


However, from your supplied grammar fragment, i suspect you will have
significant ambiguity issues with your definition of TOKEN.


Hope this helps...
   -jbb



From ribrdb at google.com  Fri Mar 18 20:14:47 2011
From: ribrdb at google.com (Ryan Brown)
Date: Fri, 18 Mar 2011 20:14:47 -0700
Subject: [antlr-interest] lexer rule precedence
Message-ID: <AANLkTikzSoaqD_B6HRfCRnAL5KdDsem4QuNryxXtMccd@mail.gmail.com>

I have a lexer with rules like this:

TRUE : 'true';
IDENTIFIER : 'a'..'z'+;

The text "true" parses as IDENTIFIER.  How do I get it to parse as TRUE? Do
I need to add not and all my keywords to the IDENTIFIER rule? I don't see
anything like that in the java grammar.

-- Ryan Brown

From jimi at temporal-wave.com  Fri Mar 18 20:18:57 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Fri, 18 Mar 2011 20:18:57 -0700
Subject: [antlr-interest] lexer rule precedence
In-Reply-To: <AANLkTikzSoaqD_B6HRfCRnAL5KdDsem4QuNryxXtMccd@mail.gmail.com>
References: <AANLkTikzSoaqD_B6HRfCRnAL5KdDsem4QuNryxXtMccd@mail.gmail.com>
Message-ID: <dd81e854fd659bd90b875f4f9e5d6f43@mail.gmail.com>

List it before IDENTIFIER as you have written it here and add a ERR : . ;
as the last rule to catch non-matches and issue an error.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Ryan Brown
> Sent: Friday, March 18, 2011 8:15 PM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] lexer rule precedence
>
> I have a lexer with rules like this:
>
> TRUE : 'true';
> IDENTIFIER : 'a'..'z'+;
>
> The text "true" parses as IDENTIFIER.  How do I get it to parse as
> TRUE? Do I need to add not and all my keywords to the IDENTIFIER rule?
> I don't see anything like that in the java grammar.
>
> -- Ryan Brown
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From ribrdb at google.com  Fri Mar 18 22:59:23 2011
From: ribrdb at google.com (Ryan Brown)
Date: Fri, 18 Mar 2011 22:59:23 -0700
Subject: [antlr-interest] lexer rule precedence
In-Reply-To: <dd81e854fd659bd90b875f4f9e5d6f43@mail.gmail.com>
References: <AANLkTikzSoaqD_B6HRfCRnAL5KdDsem4QuNryxXtMccd@mail.gmail.com>
	<dd81e854fd659bd90b875f4f9e5d6f43@mail.gmail.com>
Message-ID: <AANLkTi=3VwHHKwvZbbCuntV7wTSJzvyYMRNnQvbWU+1h@mail.gmail.com>

True is first.  I also tried adding True and Identifier to the tokens list,
(with True first), but that doesn't make any difference. I also added an
ERR: . token like you suggested and that doesn't help.

-- Ryan Brown


On Fri, Mar 18, 2011 at 8:18 PM, Jim Idle <jimi at temporal-wave.com> wrote:

> List it before IDENTIFIER as you have written it here and add a ERR : . ;
> as the last rule to catch non-matches and issue an error.
>
> Jim
>
> > -----Original Message-----
> > From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> > bounces at antlr.org] On Behalf Of Ryan Brown
> > Sent: Friday, March 18, 2011 8:15 PM
> > To: antlr-interest at antlr.org
> > Subject: [antlr-interest] lexer rule precedence
> >
> > I have a lexer with rules like this:
> >
> > TRUE : 'true';
> > IDENTIFIER : 'a'..'z'+;
> >
> > The text "true" parses as IDENTIFIER.  How do I get it to parse as
> > TRUE? Do I need to add not and all my keywords to the IDENTIFIER rule?
> > I don't see anything like that in the java grammar.
> >
> > -- Ryan Brown
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> > email-address
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From antlr3 at gmail.com  Sat Mar 19 01:03:47 2011
From: antlr3 at gmail.com (Hiten R)
Date: Sat, 19 Mar 2011 01:03:47 -0700
Subject: [antlr-interest] Read multiple times
In-Reply-To: <1300490366.2891.22.camel@gecko>
References: <AANLkTinbgoHr6WLfYmnBpwi9wg-WKLD0gd+KXhU4SG8g@mail.gmail.com>
	<1300490366.2891.22.camel@gecko>
Message-ID: <AANLkTikSBOajbN2UJu8V2T57fOfspU3kEdxUGJGnK8dv@mail.gmail.com>

Thanks John for a prompt reply. Appreciate your response but your example
was bit hard for me to understand though 'Putting it in the Loop' made
sense.

So this is what I did... now I can sleep like a baby :)

parse
   : ('Basket' basket)*
   ;

basket
@init {
    Basket basket;

    String state= "";
    String employee= "";
    String phone= "";
    String zip= "";

}
@after {
    basket= new Basket(state, employee);
    basket.setPhone(phone);
    this.somelist.addBakets(basket);


    print(basket.toString());

    //start again
    //parse(); --------? Is this right approach /// Not a right approach
}
    : ('state'            st=TOKEN          { state= $st.text; }
    | 'employee'     et=TOKEN          { employee= $et.text; }
    | 'phone'          pt=TOKEN           { phone= $pt.text; }
    | 'zip')* //For looop

    ;

From blreynolds4 at gmail.com  Sat Mar 19 04:39:25 2011
From: blreynolds4 at gmail.com (Brian Reynolds)
Date: Sat, 19 Mar 2011 11:39:25 +0000
Subject: [antlr-interest] Brian Reynolds sent you a movie ticket redeemable
 at more than 200 nation wide theatre chains
Message-ID: <4d8495ed2e491_35ea10dd4f410924377@twig.mail>


Brian Reynolds has chosen to send you a free movie ticket, up to $10 value.

Sit back, relax, and enjoy! In an effort to spread the word about our great products we are allowing our members to send free movie tickets to their selected friends at no charge to our members. This time Brian Reynolds chose you! To redeem your movie ticket and receive deal notifications follow the link below.

http://homerun.com/email_gift/db94027e8a?_e=c0c55201

Enjoy, this one is on us.

The HomeRun Team

From wtcichon at googlemail.com  Sat Mar 19 05:18:35 2011
From: wtcichon at googlemail.com (Wojciech Tomasz Cichon)
Date: Sat, 19 Mar 2011 12:18:35 -0000
Subject: [antlr-interest] Problem with grammar
Message-ID: <66E51AE7358244B297A7EC46BC165E6B@madziaII>

i?m struggling with this grammar for a few days now, and nothing really working,
so i started from beginning and i have :
grammar myGrammar;

options {
  language = Java;
  k=1;
}

rule: term ;

factor  :  '-'? NUMBER
       ;

term  : factor '*'  term   
      | factor '/'  term
      | factor '%'  term
      | factor;
    


NUMBER :  '0'..'9'+
    ;
WS  :   ( ' '
        | '\t'
        | '\r'
        | '\n'
        ) {$channel=HIDDEN;}
    ;


and i got errors:
warning(200): /ANTLR_TEST/myGrammar.g:13:7: Decision can match input such as "'-'" using multiple alternatives: 1, 2, 3, 4
As a result, alternative(s) 2,3,4 were disabled for that input
|---> term  : factor '*'  term

warning(200): /ANTLR_TEST/myGrammar.g:13:7: Decision can match input such as "NUMBER" using multiple alternatives: 1, 2, 3, 4
As a result, alternative(s) 2,3,4 were disabled for that input
|---> term  : factor '*'  term

error(201): /ANTLR_TEST/myGrammar.g:13:7: The following alternatives can never be matched: 2,3,4
|---> term  : factor '*'  term

can anyone tell me what i?m doing wrong
regards

From matt.fowles at gmail.com  Sat Mar 19 06:12:14 2011
From: matt.fowles at gmail.com (Matt Fowles)
Date: Sat, 19 Mar 2011 13:12:14 +0000
Subject: [antlr-interest] Problem with grammar
In-Reply-To: <66E51AE7358244B297A7EC46BC165E6B@madziaII>
References: <66E51AE7358244B297A7EC46BC165E6B@madziaII>
Message-ID: <AANLkTi=UvxtVM5sUQ-Fx6i8rgePNidbWSYPc4CJK0W=H@mail.gmail.com>

Wojciech~

Try pulling out the common left factor from your term expression:

term  : factor (('*'|'/'|'*') term)?;

Matt



On Sat, Mar 19, 2011 at 12:18 PM, Wojciech Tomasz Cichon
<wtcichon at googlemail.com> wrote:
> i?m struggling with this grammar for a few days now, and nothing really working,
> so i started from beginning and i have :
> grammar myGrammar;
>
> options {
> ?language = Java;
> ?k=1;
> }
>
> rule: term ;
>
> factor ?: ?'-'? NUMBER
> ? ? ? ;
>
> term ?: factor '*' ?term
> ? ? ?| factor '/' ?term
> ? ? ?| factor '%' ?term
> ? ? ?| factor;
>
>
>
> NUMBER : ?'0'..'9'+
> ? ?;
> WS ?: ? ( ' '
> ? ? ? ?| '\t'
> ? ? ? ?| '\r'
> ? ? ? ?| '\n'
> ? ? ? ?) {$channel=HIDDEN;}
> ? ?;
>
>
> and i got errors:
> warning(200): /ANTLR_TEST/myGrammar.g:13:7: Decision can match input such as "'-'" using multiple alternatives: 1, 2, 3, 4
> As a result, alternative(s) 2,3,4 were disabled for that input
> |---> term ?: factor '*' ?term
>
> warning(200): /ANTLR_TEST/myGrammar.g:13:7: Decision can match input such as "NUMBER" using multiple alternatives: 1, 2, 3, 4
> As a result, alternative(s) 2,3,4 were disabled for that input
> |---> term ?: factor '*' ?term
>
> error(201): /ANTLR_TEST/myGrammar.g:13:7: The following alternatives can never be matched: 2,3,4
> |---> term ?: factor '*' ?term
>
> can anyone tell me what i?m doing wrong
> regards
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From researcher0x00 at gmail.com  Sat Mar 19 08:08:32 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Sat, 19 Mar 2011 11:08:32 -0400
Subject: [antlr-interest] LIP pg. 285 11.4 Rewriter. How do you do it
 with ANLTR 3?
In-Reply-To: <AANLkTin1wGMd5a5xOajTr9eKj22E0XFLvGpuSdq6GG06@mail.gmail.com>
References: <AANLkTik9j3MKrPuisYgZ3HCG3F2LoZyzJ8vvze2E50rH@mail.gmail.com>
	<4D8204F1.7030200@googlemail.com>
	<AANLkTin1wGMd5a5xOajTr9eKj22E0XFLvGpuSdq6GG06@mail.gmail.com>
Message-ID: <AANLkTiko9xiSCwVqgjC6q9Bxy87mSWSeqR43S+Z0d4Fo@mail.gmail.com>

On Thu, Mar 17, 2011 at 5:54 PM, The Researcher <researcher0x00 at gmail.com>wrote:

>
>
>   On Thu, Mar 17, 2011 at 8:56 AM, Stephen Tuttlebee <
> themightystephen at googlemail.com> wrote:
>
>> Hi Eric
>>
>> I don't know if I understand your question completely (I haven't read
>> the previous questions you mentioned), but are you simply asking how you
>> rewrite a tree using ANTLR? Or were you actually asking how ANTLR
>> actually IMPLEMENTS this rewriting under the hood (i.e. what code does
>> it generate to do the rewriting)? Or something else?
>>
>> If you were asking the first question, then I can provide a fairly
>> simple example from a couple of grammars I have been working on recently
>> (I don't know if the example is too simple since it only alters the tree
>> in a very minor way, and maybe you're thinking along the lines of larger
>> and more substantial changes to the tree).
>>
>> I have the 'phase 1 grammar' (JavaBPhase1Parser.g) that does the parsing
>> and has tree rewrite rules to build an AST. This grammar has the
>> following options:
>> options {
>>     language = Java;
>>     output = AST;
>>     tokenVocab = JavaBLexer;
>> }
>>
>> This grammar just builds a tree in the normal way.
>>
>> My 'phase 2 grammar' (JavaBPhase2WalkerSem1.g) is a tree grammar that
>> reads that AST, performs some semantic analysis of the input and spits
>> out an almost identical AST. It has similar options as before but the
>> really important one here is the rewrite=true option:
>> options {
>>     language = Java;
>>     output = AST; // since we are performing a tree rewrite, as well as
>> reading in an AST, I will also be outputting an AST
>>     rewrite = true; // <---- this is the key option here
>>     tokenVocab = JavaBPhase1Parser;
>>     ASTLabelType = CommonTree; // this option here because we're
>> reading in a tree and ANTLR would like to know the type of the nodes
>> }
>>
>> The rewrite=true causes the tree to be spat out just the same as the
>> input tree except where you specify otherwise. For example, in one rule
>> I perform some semantic analysis that informs me on how to rewrite the
>> tree:
>>
>> compositionExpression
>>     @init {
>>     boolean compositionComponent = false; // this is only here rather
>> than further below where I would want to use it because in the code
>> generated by ANTLR the variable is out of scope if I declare it down there
>>     }
>>     : ... // other tree rule
>>     | ... // other tree rule
>>     | ^(PLAIN_OR_COMPOSITION_COMPONENT ^(IDENT IDENTIFIER))
>>       { .... some actions that perform semantic analysis (look up in
>> the symbol table) to decide if compositionComponent is true or false }
>>       -> {compositionComponent}? ^(COMPOSITION_COMPONENT ^(IDENT
>> IDENTIFIER))
>>       ->
>> ^(PLAIN_COMPONENT ^(IDENT IDENTIFIER))
>>
>>
>> In this example I am performing a very simple tree rewrite by simply
>> changing the imaginary token of a subtree's root node, but you could
>> change the entire subtree by changing the rewrite rule(s) to produce a
>> completely different subtree.
>>
>> For larger, more 'structural' changes to the tree, I would imagine you
>> need to do a fair amount of passing subtrees around as parameters /
>> return values between rules so that you have access to the subtrees in
>> the rules that need them. p170 of the ANTLR reference book has an
>> example of this kind of thing (example is used in doing tree
>> construction in a *parser* grammar but you can do exactly the same in a
>> tree grammar).
>>
>> You can also have semantic predicates (I think that's the proper name)
>> before multiple rewrite rules to rewrite the tree in different ways
>> depending on what the boolean expression in the semantic predicates
>> evaluates to. See page 181 of ANTLR reference for an example in the
>> variableDefinition rule:
>> variableDefinition
>>     : modifiers type ID ('=' expression)? ';'
>>        -> {inMethod}? ^(VARIABLE ID modifier* type expression?) //
>> semantic predicate used here
>>        ->                        ^(FIELD ID modifier* type expression?)
>>     ;
>> Again, that example is used in doing tree construction in a parser
>> grammar but you can do exactly the same in a tree grammar.
>>
>> Bear in mind though (at least I think this is the case...), that with
>> these semantic predicates you have to ensure that there is a default
>> case which specifies the tree to be built if all the other previous
>> semantic predicates evaluate to false.
>>
>> Hope this helps.
>>
>
> Stephen,
>
> Thanks for the big road sign. I tried this originally but failed. I am
> working on it again but am sure to have more questions.
>
> Thanks, Eric
>
>
>>
>> Stephen
>>
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe:
>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>
>
>
Stephen,

It now works. My problem was in my driver/test harness and not the rewrite
rules.

For others with similar problems; the best example of this can be found on
the tree construction wiki page which I just now read.
http://www.antlr.org/wiki/display/ANTLR3/Tree+construction

Yes I spent to much time focused on the books and just needed to look at the
wiki.

Thanks, Eric

From jimi at temporal-wave.com  Sat Mar 19 09:25:18 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Sat, 19 Mar 2011 09:25:18 -0700
Subject: [antlr-interest] lexer rule precedence
In-Reply-To: <AANLkTi=3VwHHKwvZbbCuntV7wTSJzvyYMRNnQvbWU+1h@mail.gmail.com>
References: <AANLkTikzSoaqD_B6HRfCRnAL5KdDsem4QuNryxXtMccd@mail.gmail.com>
	<dd81e854fd659bd90b875f4f9e5d6f43@mail.gmail.com>
	<AANLkTi=3VwHHKwvZbbCuntV7wTSJzvyYMRNnQvbWU+1h@mail.gmail.com>
Message-ID: <94e2d90631536ec27b7441bff6fefb94@mail.gmail.com>

You need to post your grammar and make sure that you have not used
?literals? in the parser.



Jim



*From:* Ryan Brown [mailto:ribrdb at google.com]
*Sent:* Friday, March 18, 2011 10:59 PM
*To:* Jim Idle
*Cc:* antlr-interest at antlr.org
*Subject:* Re: [antlr-interest] lexer rule precedence



True is first.  I also tried adding True and Identifier to the tokens list,
(with True first), but that doesn't make any difference. I also added an
ERR: . token like you suggested and that doesn't help.

-- Ryan Brown

On Fri, Mar 18, 2011 at 8:18 PM, Jim Idle <jimi at temporal-wave.com> wrote:

List it before IDENTIFIER as you have written it here and add a ERR : . ;
as the last rule to catch non-matches and issue an error.

Jim


> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Ryan Brown
> Sent: Friday, March 18, 2011 8:15 PM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] lexer rule precedence
>
> I have a lexer with rules like this:
>
> TRUE : 'true';
> IDENTIFIER : 'a'..'z'+;
>
> The text "true" parses as IDENTIFIER.  How do I get it to parse as
> TRUE? Do I need to add not and all my keywords to the IDENTIFIER rule?
> I don't see anything like that in the java grammar.
>
> -- Ryan Brown
>

> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

List: http://www.antlr.org/mailman/listinfo/antlr-interest
Unsubscribe:
http://www.antlr.org/mailman/options/antlr-interest/your-email-address

From jimi at temporal-wave.com  Sat Mar 19 09:41:50 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Sat, 19 Mar 2011 09:41:50 -0700
Subject: [antlr-interest] Problem with grammar
In-Reply-To: <66E51AE7358244B297A7EC46BC165E6B@madziaII>
References: <66E51AE7358244B297A7EC46BC165E6B@madziaII>
Message-ID: <d01615cd11262cdb7ea2023f44731533@mail.gmail.com>

You need to construct the correct LL tree form of the rules. Always copy
from a pre-written grammar in the examples or read the book and you will not
struggle so much:

factor
  : addexp (('+'|'-')* addexp
  ;

addexp
   : mulexp (('*'|'/') mulexp)*
   ;

mulexp
   : '-' mulexp
   | atom
   ;

atom
   : NUMBER
   | '(' factor ')'
   ;

Jim


> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Wojciech Tomasz Cichon
> Sent: Saturday, March 19, 2011 5:19 AM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] Problem with grammar
>
> i?m struggling with this grammar for a few days now, and nothing really
> working, so i started from beginning and i have :
> grammar myGrammar;
>
> options {
>   language = Java;
>   k=1;
> }
>
> rule: term ;
>
> factor  :  '-'? NUMBER
>        ;
>
> term  : factor '*'  term
>       | factor '/'  term
>       | factor '%'  term
>       | factor;
>
>
>
> NUMBER :  '0'..'9'+
>     ;
> WS  :   ( ' '
>         | '\t'
>         | '\r'
>         | '\n'
>         ) {$channel=HIDDEN;}
>     ;
>
>
> and i got errors:
> warning(200): /ANTLR_TEST/myGrammar.g:13:7: Decision can match input
> such as "'-'" using multiple alternatives: 1, 2, 3, 4 As a result,
> alternative(s) 2,3,4 were disabled for that input
> |---> term  : factor '*'  term
>
> warning(200): /ANTLR_TEST/myGrammar.g:13:7: Decision can match input
> such as "NUMBER" using multiple alternatives: 1, 2, 3, 4 As a result,
> alternative(s) 2,3,4 were disabled for that input
> |---> term  : factor '*'  term
>
> error(201): /ANTLR_TEST/myGrammar.g:13:7: The following alternatives
> can never be matched: 2,3,4
> |---> term  : factor '*'  term
>
> can anyone tell me what i?m doing wrong
> regards
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From cummings at kjchome.homeip.net  Sat Mar 19 09:50:55 2011
From: cummings at kjchome.homeip.net (Kevin J. Cummings)
Date: Sat, 19 Mar 2011 12:50:55 -0400
Subject: [antlr-interest] Problem with grammar
In-Reply-To: <66E51AE7358244B297A7EC46BC165E6B@madziaII>
References: <66E51AE7358244B297A7EC46BC165E6B@madziaII>
Message-ID: <4D84DEEF.70308@kjchome.homeip.net>

On 03/19/2011 08:18 AM, Wojciech Tomasz Cichon wrote:
> i?m struggling with this grammar for a few days now, and nothing really working,
> so i started from beginning and i have :
> grammar myGrammar;
> 
> options {
>   language = Java;
>   k=1;
> }
> 
> rule: term ;
> 
> factor  :  '-'? NUMBER
>        ;
> 
> term  : factor '*'  term   
>       | factor '/'  term
>       | factor '%'  term
>       | factor;

This is the classic case where the following is probably the proper left
factored LL(1) for you:

term : factor ( ( '*' | '/' | '%' ) factor )*
     ;

Now you have a single "factor" that will always match at the beginning
of your term rule, and not have to chose which of the 4 choices to
associate a '-' with without changing to k=2 or k=3, or turning on
backtracking.

> NUMBER :  '0'..'9'+
>     ;
> WS  :   ( ' '
>         | '\t'
>         | '\r'
>         | '\n'
>         ) {$channel=HIDDEN;}
>     ;
> 
> 
> and i got errors:
> warning(200): /ANTLR_TEST/myGrammar.g:13:7: Decision can match input such as "'-'" using multiple alternatives: 1, 2, 3, 4
> As a result, alternative(s) 2,3,4 were disabled for that input
> |---> term  : factor '*'  term

It can't tell which of your 4 term alternatives to choose based on a '-'
look-ahead character....

> warning(200): /ANTLR_TEST/myGrammar.g:13:7: Decision can match input such as "NUMBER" using multiple alternatives: 1, 2, 3, 4
> As a result, alternative(s) 2,3,4 were disabled for that input
> |---> term  : factor '*'  term

The same here, which of the 4 term alternatives does it choose when the
look-ahead character is a NUMBER?

> error(201): /ANTLR_TEST/myGrammar.g:13:7: The following alternatives can never be matched: 2,3,4
> |---> term  : factor '*'  term

Because it "chose" the first alternative for the 2 cases above, it will
never try a division, modulus, or simple factor.

> can anyone tell me what i?m doing wrong

left factor your grammar....

> regards

-- 
Kevin J. Cummings
kjchome at verizon.net
cummings at kjchome.homeip.net
cummings at kjc386.framingham.ma.us
Registered Linux User #1232 (http://counter.li.org)

From wtcichon at googlemail.com  Sat Mar 19 12:14:07 2011
From: wtcichon at googlemail.com (Wojciech Tomasz Cichon)
Date: Sat, 19 Mar 2011 19:14:07 -0000
Subject: [antlr-interest] problem with characters in grammar
Message-ID: <537DBBAE8AF643D2B9B109A46B357250@madziaII>

i decided to extend my grammar for characters
and i added:

factor  :  '-'? (NUMBER )
        | character
       ;
character : AP (LETTER | NUMBER) AP;
AP : '\'';
LETTER :  'A'..'Z' | 'a'..'Z';
NUMBER :  '0'..'9'+;


it's compile with no error
which is good, 

i running program and i?m sending 
2+3*3 >= 'a' + 2

and that gave me
(>= (+ 2 (* 3 3)) (+ ' ' 2))
line 1:10 no viable alternative at character 'a'

clearly this grammar can?t handle characters
can somebody tell me what i?m doing wrong

From bkiers at gmail.com  Sat Mar 19 12:19:22 2011
From: bkiers at gmail.com (Bart Kiers)
Date: Sat, 19 Mar 2011 20:19:22 +0100
Subject: [antlr-interest] problem with characters in grammar
In-Reply-To: <537DBBAE8AF643D2B9B109A46B357250@madziaII>
References: <537DBBAE8AF643D2B9B109A46B357250@madziaII>
Message-ID: <AANLkTi=Ne_GghBZkUw8b9snOvxq8CNpfm41P-uck7jvt@mail.gmail.com>

On Sat, Mar 19, 2011 at 8:14 PM, Wojciech Tomasz Cichon <
wtcichon at googlemail.com> wrote:

> i decided to extend my grammar for characters
> and i added:
>
> factor  :  '-'? (NUMBER )
>        | character
>       ;
> character : AP (LETTER | NUMBER) AP;
> AP : '\'';
> LETTER :  'A'..'Z' | 'a'..'Z';
>

There's a capital Z after the `a`..

Try a lower case.

Regards,

Bart.

From wtcichon at googlemail.com  Sat Mar 19 12:25:24 2011
From: wtcichon at googlemail.com (Wojciech Tomasz Cichon)
Date: Sat, 19 Mar 2011 19:25:24 -0000
Subject: [antlr-interest] problem with characters in grammar
In-Reply-To: <AANLkTi=Ne_GghBZkUw8b9snOvxq8CNpfm41P-uck7jvt@mail.gmail.com>
References: <537DBBAE8AF643D2B9B109A46B357250@madziaII>
	<AANLkTi=Ne_GghBZkUw8b9snOvxq8CNpfm41P-uck7jvt@mail.gmail.com>
Message-ID: <0E72E522547E417F8AE53AD89DBF47A2@madziaII>

damn
i?m so stupid
i spend at least hour trying to find what?s wrong
thanks

From: Bart Kiers 
Sent: Saturday, March 19, 2011 7:19 PM
To: Wojciech Tomasz Cichon 
Cc: antlr-interest at antlr.org 
Subject: Re: [antlr-interest] problem with characters in grammar

On Sat, Mar 19, 2011 at 8:14 PM, Wojciech Tomasz Cichon <wtcichon at googlemail.com> wrote:

  i decided to extend my grammar for characters
  and i added:

  factor  :  '-'? (NUMBER )
         | character
        ;
  character : AP (LETTER | NUMBER) AP;
  AP : '\'';
  LETTER :  'A'..'Z' | 'a'..'Z';


There's a capital Z after the `a`..

Try a lower case.

Regards,

Bart. 

From sharwell at pixelminegames.com  Sat Mar 19 14:39:47 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Sat, 19 Mar 2011 16:39:47 -0500
Subject: [antlr-interest] CSharp3 and SQLCLR
In-Reply-To: <FC73CCA79EF12948A31A0936A10E1E760BA6B6BE@rock-exchange.microfocus.com>
References: <FC73CCA79EF12948A31A0936A10E1E760BA6B6BE@rock-exchange.microfocus.com>
Message-ID: <025901cbe67e$2bcca210$8365e630$@pixelminegames.com>

Hi David,

The latest source distribution of the C# port of ANTLR can be downloaded
from the following link:
http://www.tunnelvisionlabs.com/downloads/antlr/antlr-dotnet-source-3.3.1.77
05.7z

Note that while Antlr3.Runtime uses C# 3 features in only a few places, the
generated grammars and Antlr3.StringTemplate are a completely different
story. The generated grammars use partial methods extensively, and the
StringTemplate port uses lambda functions very extensively. With work, you
could probably make the grammars/runtime run on .NET 2, but I wouldn't count
on using StringTemplate.

Thank you,
Sam Harwell

-----Original Message-----
From: antlr-interest-bounces at antlr.org
[mailto:antlr-interest-bounces at antlr.org] On Behalf Of David Goodlaxson
Sent: Wednesday, March 16, 2011 3:21 PM
To: antlr-interest at antlr.org
Subject: [antlr-interest] CSharp3 and SQLCLR

Hello - (this is probably a query directed to Sam Harwell or Jim Idle)

The short version of this request is that I'd like to get a consistent set
of sources and VC projects for the C# port of Antlr3.Runtime and
Antlr3.StringTemplate, if that's possible. 

The long version:

For a project I'm currently working on, we'd like to deploy a C# SQL parser
and supporting Antlr .dlls to a MS SqlServer 2008 instance (SQLCLR). 

(The parser will parse dynamic SQL from client or server applications and
transform it on the fly before it is passed to SQL Server.)

I'm currently working with Sam Harwell's C# port of Antlr 3.3 - Antlr.exe
version 3.3.0.7239. I'd like to deploy an assembly of my C# parser,
Antlr3.Runtime.dll and Antlr3.StringTemplate.dll to SqlServer.

The existing Antlr3.Runtime and StringTemplate are verifiable (so there's no
problem with .NET CLRs), but SQLCLR adds several restrictions (which
unfortunately don't seem to be spelled out in one place).

For example, static fields under SQLCLR have to be readonly. This is the
output of one of our development tools when run against the Antlr3 runtime:

  E:Antlr3.Runtime failed SQLCLR validation
  E: Location     : G:\AntlrCSharp\Antlr3.Runtime.dll
.NET Version : 3.3.0.7239
File Version : 3.3.0.7239

  E:Type : Antlr.Runtime.Tree.TreeParser ->
  E: Field dotdot should be readonly
  E: Field doubleEtc should be readonly
  E: Field dotdotPattern should be readonly
  E: Field doubleEtcPattern should be readonly

There's also a (probably minor) wrinkle in that SQLServer 2008 is locked
into .Net V2 for now: 
-
http://blogs.msdn.com/b/dohollan/archive/2010/07/08/sql-server-2008-r2-sqlcl
r-net-framework-version.aspx

My question is, what's the best way for me to proceed with this project? Can
I get a consistent set of sources and visual studio projects that will let
me modify and build Antlr3.Runtime.dll and Antlr3.StringTemplate, and see
whether I can make SQLCLR happy with them?

I tried pulling down the Antlr3.StringTemplate from github, but it only had
a repository link to Antlr3.Runtime, so I wasn't able to build it.

Thanks,
Dave Goodlaxson
 
Please consider the environment before printing this e-mail.
This message has been scanned by MailController -
portal1.mailcontroller.co.uk

List: http://www.antlr.org/mailman/listinfo/antlr-interest
Unsubscribe:
http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From sharwell at pixelminegames.com  Sat Mar 19 14:52:56 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Sat, 19 Mar 2011 16:52:56 -0500
Subject: [antlr-interest] @scopeinit, can find the post but nothing else.
In-Reply-To: <AANLkTinDw9Wp=0BMkjUwj=V_o_1ANUkq5U6spvznAcJc@mail.gmail.com>
References: <AANLkTinbn0N7rck26G50K6bW4jnPnmNZ2Qxij4n2WX8y@mail.gmail.com>
	<AANLkTinDw9Wp=0BMkjUwj=V_o_1ANUkq5U6spvznAcJc@mail.gmail.com>
Message-ID: <025b01cbe680$01fb4d40$05f1e7c0$@pixelminegames.com>

Hi Eric,

In the C# 3 documentation, section 4.4 discusses partial methods called when
a scope object is created.
http://www.antlr.org/download/CSharp3.pdf

Thanks,
Sam

-----Original Message-----
From: antlr-interest-bounces at antlr.org
[mailto:antlr-interest-bounces at antlr.org] On Behalf Of The Researcher
Sent: Thursday, March 03, 2011 2:49 PM
To: antlr-interest at antlr.org
Subject: Re: [antlr-interest] @scopeinit, can find the post but nothing
else.

This appears to be on the To Implement list

constructors or init for global scopes

http://www.antlr.org/wiki/display/ANTLR3/constructors+or+init+for+global+sco
pes

Eric

On Wed, Mar 2, 2011 at 12:26 PM, The Researcher
<researcher0x00 at gmail.com>wrote:

> Sam,
>
> I saw your post about @scopeinit which I take was related to Trouble 
> with syntactic predicates that reference semantic predicates that rely 
> on a current dynamic attribute scope.
>
> Did @scopeinit make it into a released C# version?
> If so could you point me to how it is used?
>
> I can get by without it, but  my current solution is a crutch at best.
>
> Thanks Eric.
>
>

List: http://www.antlr.org/mailman/listinfo/antlr-interest
Unsubscribe:
http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From sharwell at pixelminegames.com  Sat Mar 19 14:57:21 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Sat, 19 Mar 2011 16:57:21 -0500
Subject: [antlr-interest] C# tree parser memoize issue?
In-Reply-To: <AANLkTikWjrvw3nCuo3V8Ku51znt5houNNtAmzSs_39i_@mail.gmail.com>
References: <AANLkTikWjrvw3nCuo3V8Ku51znt5houNNtAmzSs_39i_@mail.gmail.com>
Message-ID: <025c01cbe680$a0688d80$e139a880$@pixelminegames.com>

Hi David,

Is there any way you can send me the full grammar you're using (you could
send it to just me if you don't want to send it to the public list)? I don't
use memoization in any of my grammars, so I don't have a way to test this
feature extensively.

Thanks,
Sam

-----Original Message-----
From: antlr-interest-bounces at antlr.org
[mailto:antlr-interest-bounces at antlr.org] On Behalf Of David Daeschler
Sent: Thursday, March 03, 2011 1:45 PM
To: antlr-interest at antlr.org
Subject: [antlr-interest] C# tree parser memoize issue?

I have a grammar that contains a 3d vector type.

Parsing the grammar for my test case yields the following AST:
http://graph.gafol.net/dZxqGkwww

<http://graph.gafol.net/dZxqGkwww>During the code generation step I am using
a tree grammar with backtracking and memoization turned on.

With memoization the following generates an error:

float f;
vector v = <1.0,1.0,1.0> * <f,f,f>;
^Z
Gen.g: node from line 2:28 mismatched tree node: f expecting FLOAT_LITERAL

Turning off memoization fixes the issue.

The grammar fragments involved are (trying to cut down as much as I can):

expression
@init {MyAst t = (MyAst )input.LT(1);}
@after { $expression.st = DoPromotion(t, $expression.st); }
: ^(EXPR expr) -> {$expr.st}
;

expr
: multiplicativeExpression-> {$multiplicativeExpression.st} ;

multiplicativeExpression
: mult -> {$mult.st}
| primary -> {$primary.st}
;

mult
: ^(op='*' l=multiplicativeExpression r=multiplicativeExpression)
->
mul(subtemplate={TemplateMapping.Multiplication[$l.start.evalType.TypeIndex,
$r.start.evalType.TypeIndex]}, lexpr={$l.st}, rexpr={$r.st}) ; primary @init
{MyAst t = (MyAst)input.LT(1);} @after { $primary.st = DoPromotion(t,
$primary.st); }
| vecConst -> {$vecConst.st}
| vecLiteral -> {$vecLiteral.st}
| expression -> {$expression.st}
;

vecConst
: ^(VECTOR_LITERAL x=FLOAT_LITERAL y=FLOAT_LITERAL z=FLOAT_LITERAL) ->
vconst(x={$x.text}, y={$y.text}, z={$z.text}) ;

vecLiteral
: ^(VECTOR_LITERAL x=expr y=expr z=expr) -> buildvec(x={$x.st}, y={$y.st},
z={$z.st}) ;

Sorry for the verbosity of this post, and thank you ahead of time for any
help.
--
David Daeschler

List: http://www.antlr.org/mailman/listinfo/antlr-interest
Unsubscribe:
http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From ruslan_zasukhin at valentina-db.com  Sun Mar 20 03:40:41 2011
From: ruslan_zasukhin at valentina-db.com (Ruslan Zasukhin)
Date: Sun, 20 Mar 2011 12:40:41 +0200
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite tree
	rule
Message-ID: <C9ABA649.E8232%ruslan_zasukhin@valentina-db.com>

Hi All,

In v2 grammar we have rule as

===========================================
query_expression
    :    query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
        {    ## = #([QUERY_EXPRESSION,"QUERY_EXPRESSION"], ##);    }
    ;
===========================================


We try change it to v3

===========================================
query_expression
    :    query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
            ->(QUERY_EXPRESSION  ???? )
    ;
===========================================

Ops, we cannot specify top node, because it can be  union OR except.


For now the only way we have found is:
===========================================
query_expression
    :    query_expression2  ->(QUERY_EXPRESSION  query_expression2)
    ;


query_expression2
    :    query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
    ;
===========================================



Question is. May be exists more elegant way for v3
Without additional rule?


-- 
Best regards,

Ruslan Zasukhin
VP Engineering and New Technology
Paradigma Software, Inc

Valentina - Joining Worlds of Information
http://www.paradigmasoft.com

[I feel the need: the need for speed]



From matt.fowles at gmail.com  Sun Mar 20 04:11:20 2011
From: matt.fowles at gmail.com (Matt Fowles)
Date: Sun, 20 Mar 2011 11:11:20 +0000
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <C9ABA649.E8232%ruslan_zasukhin@valentina-db.com>
References: <C9ABA649.E8232%ruslan_zasukhin@valentina-db.com>
Message-ID: <AANLkTimCYssVsUfCyFCOho+V-eAADoTQXtE7vru+8yHP@mail.gmail.com>

Rusian~

Try:

query_expression
 ? ?: ? ?query_term (( "union" | "except" )^ "all"? query_term)*
         -> ^(QUERY_EXPRESSION $query_expression)
 ? ?;

Matt

On Sun, Mar 20, 2011 at 10:40 AM, Ruslan Zasukhin
<ruslan_zasukhin at valentina-db.com> wrote:
> Hi All,
>
> In v2 grammar we have rule as
>
> ===========================================
> query_expression
> ? ?: ? ?query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
> ? ? ? ?{ ? ?## = #([QUERY_EXPRESSION,"QUERY_EXPRESSION"], ##); ? ?}
> ? ?;
> ===========================================
>
>
> We try change it to v3
>
> ===========================================
> query_expression
> ? ?: ? ?query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
> ? ? ? ? ? ?->(QUERY_EXPRESSION ????? )
> ? ?;
> ===========================================
>
> Ops, we cannot specify top node, because it can be ?union OR except.
>
>
> For now the only way we have found is:
> ===========================================
> query_expression
> ? ?: ? ?query_expression2 ?->(QUERY_EXPRESSION ?query_expression2)
> ? ?;
>
>
> query_expression2
> ? ?: ? ?query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
> ? ?;
> ===========================================
>
>
>
> Question is. May be exists more elegant way for v3
> Without additional rule?
>
>
> --
> Best regards,
>
> Ruslan Zasukhin
> VP Engineering and New Technology
> Paradigma Software, Inc
>
> Valentina - Joining Worlds of Information
> http://www.paradigmasoft.com
>
> [I feel the need: the need for speed]
>
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From Philip.Moetteli at tele2.ch  Sun Mar 20 12:06:40 2011
From: Philip.Moetteli at tele2.ch (=?iso-8859-1?Q?Philip_M=F6tteli?=)
Date: Sun, 20 Mar 2011 20:06:40 +0100
Subject: [antlr-interest] lexerStringRef
Message-ID: <2F80DC81-8CE1-46B9-988B-ACCC6FEEF72D@tele2.ch>

Hello,


I have a grammar, for which I can generate code in ANTLRWorks, if I say

	Language=C;

If I change it to

	Language=ObjC;

then, I get the following error:

> Cannot generate the grammar because:
> error(10): internal error: group ObjC does not satisfy interface ANTLRCore: mismatched arguments on these templates [lexerStringRef(string, label, elementIndex)]


How can I correct that?


Please help me


From antlr3 at gmail.com  Sun Mar 20 16:19:24 2011
From: antlr3 at gmail.com (Hiten R)
Date: Sun, 20 Mar 2011 16:19:24 -0700
Subject: [antlr-interest] Problem with grammar
In-Reply-To: <4D84DEEF.70308@kjchome.homeip.net>
References: <66E51AE7358244B297A7EC46BC165E6B@madziaII>
	<4D84DEEF.70308@kjchome.homeip.net>
Message-ID: <AANLkTin=o6m_p1DcF2BSQfXCHRjkuAAofvSoBNntxMaz@mail.gmail.com>

Nicely put. Thanks for helping me understand.

Hiten

On Sat, Mar 19, 2011 at 9:50 AM, Kevin J. Cummings <
cummings at kjchome.homeip.net> wrote:

> On 03/19/2011 08:18 AM, Wojciech Tomasz Cichon wrote:
> > i?m struggling with this grammar for a few days now, and nothing really
> working,
> > so i started from beginning and i have :
> > grammar myGrammar;
> >
> > options {
> >   language = Java;
> >   k=1;
> > }
> >
> > rule: term ;
> >
> > factor  :  '-'? NUMBER
> >        ;
> >
> > term  : factor '*'  term
> >       | factor '/'  term
> >       | factor '%'  term
> >       | factor;
>
> This is the classic case where the following is probably the proper left
> factored LL(1) for you:
>
> term : factor ( ( '*' | '/' | '%' ) factor )*
>     ;
>
> Now you have a single "factor" that will always match at the beginning
> of your term rule, and not have to chose which of the 4 choices to
> associate a '-' with without changing to k=2 or k=3, or turning on
> backtracking.
>
> > NUMBER :  '0'..'9'+
> >     ;
> > WS  :   ( ' '
> >         | '\t'
> >         | '\r'
> >         | '\n'
> >         ) {$channel=HIDDEN;}
> >     ;
> >
> >
> > and i got errors:
> > warning(200): /ANTLR_TEST/myGrammar.g:13:7: Decision can match input such
> as "'-'" using multiple alternatives: 1, 2, 3, 4
> > As a result, alternative(s) 2,3,4 were disabled for that input
> > |---> term  : factor '*'  term
>
> It can't tell which of your 4 term alternatives to choose based on a '-'
> look-ahead character....
>
> > warning(200): /ANTLR_TEST/myGrammar.g:13:7: Decision can match input such
> as "NUMBER" using multiple alternatives: 1, 2, 3, 4
> > As a result, alternative(s) 2,3,4 were disabled for that input
> > |---> term  : factor '*'  term
>
> The same here, which of the 4 term alternatives does it choose when the
> look-ahead character is a NUMBER?
>
> > error(201): /ANTLR_TEST/myGrammar.g:13:7: The following alternatives can
> never be matched: 2,3,4
> > |---> term  : factor '*'  term
>
> Because it "chose" the first alternative for the 2 cases above, it will
> never try a division, modulus, or simple factor.
>
> > can anyone tell me what i?m doing wrong
>
> left factor your grammar....
>
> > regards
>
> --
> Kevin J. Cummings
> kjchome at verizon.net
> cummings at kjchome.homeip.net
> cummings at kjc386.framingham.ma.us
> Registered Linux User #1232 (http://counter.li.org)
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From antlr3 at gmail.com  Sun Mar 20 16:40:22 2011
From: antlr3 at gmail.com (Hiten R)
Date: Sun, 20 Mar 2011 16:40:22 -0700
Subject: [antlr-interest] ANTLR3 interprets a letter in a string as TOKEN
Message-ID: <AANLkTinJPyUGyxLOYjQSaoO2zsvH0_pfb=Wj1n_xCEnO@mail.gmail.com>

Hi All,

The problem I am facing is while reading a string if a letter matches a
TOKEN it starts acting funny.

Example
text_content
funny boys are Tom Hardy Donald
serious guys are not funny either

grammar
options {
    language=Java;
    k=1;
}

start
  : 'funny' call_funny_parse
  | 'serious' call_serious_parse
  ;

call_funny_parse
@init {
  ArrayList<String> person = new ArrayList<String>(); //this should contain
Tom Hardy Donald
}
  : jackT=TOKEN    //boys
    macT=TOKEN   //are
    (nextPersonT=TOKEN { person.add($nextPersonT.text); })* // Tom Hardy
Donald
  ;

call_serious_parse
@init {
  String line = "";
}
  : (stringT=TOKEN { line = line + $stringT.text; })* // This is where is
fails and says funny is expecting something else


How do I get around this

Thanks
Hiten

From wtcichon at googlemail.com  Sun Mar 20 21:26:53 2011
From: wtcichon at googlemail.com (Wojciech Tomasz Cichon)
Date: Mon, 21 Mar 2011 04:26:53 -0000
Subject: [antlr-interest] Ambiguity in grammar
Message-ID: <E76576852F12418E9CE70A1555993EFC@madziaII>

i have in my grammar rules:

stmt :
| ident '=' lexp SEMI  -> ^(SET ident lexp);


factor  : 
      '-'?  (NUMBER |ident )^
        ....
       ;

and
lexp : term (SIMOP^  lexp)?;
term  : factor (OP^  term)?;

OP :  '*' | '/' | '%';
SIMOP : '+' | '-';

and i tried it on different inputs
and for
ID = ?5; , ID = 5+3; etc it works, and it build correct tree
bur if i?ll try 
ID = 5-3;
i get error: 
mismatched input '-' expecting SEMI

i?m using options:
options {
  language = Java;
  output = AST;
    k  = 3;
}

can anyone tell me what i should fix?
regards

From cummings at kjchome.homeip.net  Sun Mar 20 23:11:01 2011
From: cummings at kjchome.homeip.net (Kevin J. Cummings)
Date: Mon, 21 Mar 2011 02:11:01 -0400
Subject: [antlr-interest] Ambiguity in grammar
In-Reply-To: <E76576852F12418E9CE70A1555993EFC@madziaII>
References: <E76576852F12418E9CE70A1555993EFC@madziaII>
Message-ID: <4D86EBF5.1040107@kjchome.homeip.net>

On 03/21/2011 12:26 AM, Wojciech Tomasz Cichon wrote:
> i have in my grammar rules:
> 
> stmt :
> | ident '=' lexp SEMI  -> ^(SET ident lexp);
> 
> 
> factor  : 
>       '-'?  (NUMBER |ident )^
>         ....
>        ;
> 
> and
> lexp : term (SIMOP^  lexp)?;
> term  : factor (OP^  term)?;
> 
> OP :  '*' | '/' | '%';
> SIMOP : '+' | '-';
> 
> and i tried it on different inputs
> and for
> ID = ?5; , ID = 5+3; etc it works, and it build correct tree
> bur if i?ll try 
> ID = 5-3;
> i get error: 
> mismatched input '-' expecting SEMI
> 
> i?m using options:
> options {
>   language = Java;
>   output = AST;
>     k  = 3;
> }
> 
> can anyone tell me what i should fix?

'-' can't be both used in a factor in the parser and converted to a
SIMOP in the lexer.  You can't have it both ways.

lexp : term ( ('+'^ | '-'^) lexp)?;
term : factor ( ('*'^ | '/'^ | '%'^) factor )?;

may be closer to what you want, but I think you really want:

lexp    : term ( ( PLUS^ | MINUS^ ) term )*
        ;
term    : factor ( ( STAR^ | SLASH^ | PERCENT^ ) factor)*
        ;
factor  : ( MINUS^ )? ( NUMBER | ident)
        ;

PLUS    : '+';
MINUS   : '-';
STAR    : '*';
SLASH   : '/';
PERCENT : '%';

(Change the token names as you see fit.)

If you do it this way, '-' is always a MINUS token in the lexer and you
can use MINUS in different rules in the parser.  (Note that your token
definitions of OP and SIMOP get expanded into the subrules in the
parser, which is necessary of you want them to be the roots of your
generated AST.)

> regards

-- 
Kevin J. Cummings
kjchome at verizon.net
cummings at kjchome.homeip.net
cummings at kjc386.framingham.ma.us
Registered Linux User #1232 (http://counter.li.org)

From maulattu at yahoo.it  Mon Mar 21 01:53:05 2011
From: maulattu at yahoo.it (maulattu)
Date: Mon, 21 Mar 2011 08:53:05 +0000 (GMT)
Subject: [antlr-interest] Grammar issue
In-Reply-To: <4D81F7FB.7020900@googlemail.com>
References: <177462.54488.qm@web26008.mail.ukl.yahoo.com>
	<4D81F7FB.7020900@googlemail.com>
Message-ID: <490445.8051.qm@web26001.mail.ukl.yahoo.com>

Hi all,
for a matter of convenience I didn't write here all the rules for white spaces 
and so on, but I've them in order to skip white spaces, tab, \r, \n and so on.
It seems the lexer recognize as "textLiteral" the parameter names (i.e.: 
"VARIABLE" and "MESSAGE_").

Any suggestions?

Thank you all :)


/*----------------------------------------*/
parametersList
  : parametersDeclaration+ EOF
  ;

parametersDeclaration
  : parameter_with_index /* like PARAM_1 above*/
  | paramemter_without_index /* like VARIABILE above */
  ;

parameter_with_index
  : parameterName = 'PARAM_' parameterIndex '=' numericLiteral
  | parameterName = 'MESSAGE_' parameterIndex '=' textLiteral
  ;

paramemter_without_index
  : parameterName = 'VARIABLE' '=' textLiteral
  ;
/*----------------------------------------*/
parameterIndex
  : DECIMAL_LITERAL
  ;

numericLiteral
  :  HEX_LITERAL
  |  DECIMAL_LITERAL
  ;

textLiteral
  : TEXT_LITERAL
  ;

HEX_LITERAL
  : '0' ('x' | 'X') HEX_DIGIT+
  ;

DECIMAL_LITERAL
  : '0' | '1'..'9' '0'..'9'*
  ;
/*----------------------------------------*/
fragment
TEXT_LITERAL
  : LETTER (LETTER | '0'..'9')*
  ;

fragment
HEX_DIGIT
  : ('0'..'9' | 'a'..'f' | 'A'..'F')
  ;

fragment
LETTER
  : 'A'..'Z'
  | 'a'..'z'
  | '_'
  | '+'
  ;




________________________________
Da: Stephen Tuttlebee <themightystephen at googlemail.com>
A: antlr-interest at antlr.org
Inviato: Gio 17 marzo 2011, 13:00:59
Oggetto: Re: [antlr-interest] Grammar issue

Hi

Is not the failure to parse:
     MESSAGE_1 = this is a message
due to the whitespace between the words in the string following the 
equals sign?

Do you have a whitespace lexer rule (often called WS)? I suspect the 
parser is failing due to the fact that it parses up to 'MESSAGE_1 = 
this' just fine but then after that point it is expecting another 
'parametersDeclaration' to follow, for which the remaining input 'is a 
message' would not have any rules that matches it (the parser would be 
expecting one of three things next, either 'PARAM_', 'MESSAGE_' or 
'VARIABLE').

I'm not an expert on ANTLR, but I think that might be your problem.

Thanks
Stephen

List: http://www.antlr.org/mailman/listinfo/antlr-interest
Unsubscribe: 
http://www.antlr.org/mailman/options/antlr-interest/your-email-address



      

From wtcichon at googlemail.com  Mon Mar 21 03:40:48 2011
From: wtcichon at googlemail.com (Wojciech Tomasz Cichon)
Date: Mon, 21 Mar 2011 10:40:48 -0000
Subject: [antlr-interest] Problem with grammar
Message-ID: <C758A0DD70124CDFBC351E6B2E95389E@madziaII>

hi,
i have prioblem with one rule from my grammar
factor
...
| ident '('( ident_arg (ident_arg2)*)? ')'  ->  ^(CALL ident ^(PARAMS (ident_arg (  ident_arg2 )* )?))  

after i send line :
c = 2*a+ f(1,4);
i received error:
line 17:11 mismatched input '1' expecting ')'
it looks like it?s completely ignores possibility of having any arguments
can someboduy tell me what i?m doing wrong here and how i can fix that
regards


my grammar looks like that
grammar SmallC;

options {
  language = Java;
  output = AST;
// backtrack = true;
// memoize = true;
    k  = 3;
}

tokens
{
CALL;
SET;

IF;
ELSE;
WHILE;

READ;
OUT;
PRINT;
RETURN;
READC;
OUTC;

BODY;
DECLS;
MAIN;
PROCEDURE;
ARGS;
INCLUDE;
PROGRAM;
PARAMS;
}
program:  includes decls procedure* main;

includes : ('#include' string)* -> ^(INCLUDE string*);

main : 'main' '(' ')' body  -> ^(MAIN body) ;

procedure : TYPE ident '(' args ')' body -> ^(PROCEDURE ident TYPE args body);

args : (typedident (',' restargs)*)?  -> ^(ARGS  (typedident restargs*)?); 

restargs : typedident;

body : '{' decls stmtlist '}' ->   ^(BODY decls stmtlist);

decls : (typedident SEMI)* -> ^(DECLS typedident*);

typedident: TYPE^ ident;

TYPE : 'int' |'char';

stmtlist : stmt*;

stmt  : '{' stmtlist '}' ->   stmtlist
      | 'while' '('  exp ')'  stmt -> ^(WHILE exp stmt)
      |'if' '('  exp ')' stmt -> ^(IF exp stmt)
      | ident '=' lexp SEMI  -> ^(SET ident lexp)
      | 'read' '(' ident ')' SEMI -> ^(READ ident)
      | 'output' '(' ident ')' SEMI -> ^(OUT ident)
      | 'print' '(' string ')' SEMI  ->  ^(PRINT string )
      | 'return' lexp? SEMI  -> ^(RETURN lexp?)
      | 'readc' '(' ident ')' SEMI -> ^(READC ident)
      | 'outputc' '(' ident ')' SEMI -> ^(OUTC ident)
      | ident '('  (ident_arg ( ident_arg2 )* )? ')' SEMI -> ^(CALL ident ^(PARAMS (ident_arg (  ident_arg2 )* )?))  
    
     ;
exp : lexp (COMP^ rexp)?; 


rexp : lexp;



lexp : term (SIMOP^  lexp)?;
     


term  : factor (OP^  term)?;
   
   

factor  : 
      //'-'? 
      (NUMBER |ident )^
        | '(' exp  ')' -> exp
        | character
        | ident '('( ident_arg (ident_arg2)*)? ')'  ->  ^(CALL ident ^(PARAMS (ident_arg (  ident_arg2 )* )?))  
       
       ; 
//(typedident (',' restargs)*)?

    ident_arg  :      ident;
    ident_arg2 : ',' ident;

From matt.fowles at gmail.com  Mon Mar 21 03:56:15 2011
From: matt.fowles at gmail.com (Matt Fowles)
Date: Mon, 21 Mar 2011 10:56:15 +0000
Subject: [antlr-interest] Problem with grammar
In-Reply-To: <C758A0DD70124CDFBC351E6B2E95389E@madziaII>
References: <C758A0DD70124CDFBC351E6B2E95389E@madziaII>
Message-ID: <AANLkTikiFRD9p8mnheN7b4v3YAL+9yr+1cRQFvqsDQeu@mail.gmail.com>

Wojciech~

Not sure what the issue is; however, I might suggest that the rule

function_call : ident '('  (ident_arg ( ident_arg2 )* )? ')' SEMI ->
^(CALL ident ^(PARAMS (ident_arg (  ident_arg2 )* )?));

is better written

function_call : function_ref '('  (arg (',' arg)*)? ')' SEMI -> ^(CALL
function_ref ^(PARAMS arg*));
function_ref : ident;
arg : ident;


I am also not 100% sure that the nested '^' on the rhs of the rewrite
are legal.  Our grammar does function calls more like:

function_call : function_ref '('  (arg (',' arg)*)? ')' -> ^(CALL
function_ref arg*);
function_ref : ident;
arg : ident;

Matt

On Mon, Mar 21, 2011 at 10:40 AM, Wojciech Tomasz Cichon
<wtcichon at googlemail.com> wrote:
> hi,
> i have prioblem with one rule from my grammar
> factor
> ...
> | ident '('( ident_arg (ident_arg2)*)? ')' ?-> ?^(CALL ident ^(PARAMS (ident_arg ( ?ident_arg2 )* )?))
>
> after i send line :
> c = 2*a+ f(1,4);
> i received error:
> line 17:11 mismatched input '1' expecting ')'
> it looks like it?s completely ignores possibility of having any arguments
> can someboduy tell me what i?m doing wrong here and how i can fix that
> regards
>
>
> my grammar looks like that
> grammar SmallC;
>
> options {
> ?language = Java;
> ?output = AST;
> // backtrack = true;
> // memoize = true;
> ? ?k ?= 3;
> }
>
> tokens
> {
> CALL;
> SET;
>
> IF;
> ELSE;
> WHILE;
>
> READ;
> OUT;
> PRINT;
> RETURN;
> READC;
> OUTC;
>
> BODY;
> DECLS;
> MAIN;
> PROCEDURE;
> ARGS;
> INCLUDE;
> PROGRAM;
> PARAMS;
> }
> program: ?includes decls procedure* main;
>
> includes : ('#include' string)* -> ^(INCLUDE string*);
>
> main : 'main' '(' ')' body ?-> ^(MAIN body) ;
>
> procedure : TYPE ident '(' args ')' body -> ^(PROCEDURE ident TYPE args body);
>
> args : (typedident (',' restargs)*)? ?-> ^(ARGS ?(typedident restargs*)?);
>
> restargs : typedident;
>
> body : '{' decls stmtlist '}' -> ? ^(BODY decls stmtlist);
>
> decls : (typedident SEMI)* -> ^(DECLS typedident*);
>
> typedident: TYPE^ ident;
>
> TYPE : 'int' |'char';
>
> stmtlist : stmt*;
>
> stmt ?: '{' stmtlist '}' -> ? stmtlist
> ? ? ?| 'while' '(' ?exp ')' ?stmt -> ^(WHILE exp stmt)
> ? ? ?|'if' '(' ?exp ')' stmt -> ^(IF exp stmt)
> ? ? ?| ident '=' lexp SEMI ?-> ^(SET ident lexp)
> ? ? ?| 'read' '(' ident ')' SEMI -> ^(READ ident)
> ? ? ?| 'output' '(' ident ')' SEMI -> ^(OUT ident)
> ? ? ?| 'print' '(' string ')' SEMI ?-> ?^(PRINT string )
> ? ? ?| 'return' lexp? SEMI ?-> ^(RETURN lexp?)
> ? ? ?| 'readc' '(' ident ')' SEMI -> ^(READC ident)
> ? ? ?| 'outputc' '(' ident ')' SEMI -> ^(OUTC ident)
> ? ? ?| ident '(' ?(ident_arg ( ident_arg2 )* )? ')' SEMI -> ^(CALL ident ^(PARAMS (ident_arg ( ?ident_arg2 )* )?))
>
> ? ? ;
> exp : lexp (COMP^ rexp)?;
>
>
> rexp : lexp;
>
>
>
> lexp : term (SIMOP^ ?lexp)?;
>
>
>
> term ?: factor (OP^ ?term)?;
>
>
>
> factor ?:
> ? ? ?//'-'?
> ? ? ?(NUMBER |ident )^
> ? ? ? ?| '(' exp ?')' -> exp
> ? ? ? ?| character
> ? ? ? ?| ident '('( ident_arg (ident_arg2)*)? ')' ?-> ?^(CALL ident ^(PARAMS (ident_arg ( ?ident_arg2 )* )?))
>
> ? ? ? ;
> //(typedident (',' restargs)*)?
>
> ? ?ident_arg ?: ? ? ?ident;
> ? ?ident_arg2 : ',' ident;
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From becker at lpr.e-technik.tu-muenchen.de  Mon Mar 21 06:13:50 2011
From: becker at lpr.e-technik.tu-muenchen.de (Martin Becker)
Date: Mon, 21 Mar 2011 14:13:50 +0100
Subject: [antlr-interest] How to Read ANTLR Ambiguous Path Visualization?
Message-ID: <1300713230.7192.5.camel@tauon.private.lpr.e-technik.tu-muenchen.de>

Hi there, 

I'm new to grammars and ANTLR(Works) and having a problem now. I
understand there is some disambiguity in my grammar, but due to lack of
documentation of the 'Ambiguous Path Visualization' in ANTLRWorks, I
don't understand what it is trying to tell me. Please have a look at
this screenshot: http://picfront.de/d/87zv

The error is "Decision can match input such as "'['" using multiple
alternatives: 1, 2"

Please note that the line between the state "ruleSelector" in the upper
right corner and the rule "ruleSelector" on the left side is green and
red, so this seems to be a path for both alternatives.

First of all...does it mean, that the disambiguity starts at the upper
right corner, before "ruleSelector"? And then...the red path is just
confusing. I don't understand from where to where it goes...

Could anyone explain that to me, please?

Thanks, Martin


From peter at crispu.com  Mon Mar 21 07:09:43 2011
From: peter at crispu.com (Peter Kooiman)
Date: Mon, 21 Mar 2011 09:09:43 -0500 (CDT)
Subject: [antlr-interest] How to Read ANTLR Ambiguous Path Visualization?
In-Reply-To: <1300713230.7192.5.camel@tauon.private.lpr.e-technik.tu-muenchen.de>
Message-ID: <18110953.13.1300716578660.JavaMail.pitsie@devleno>

Hi Martin, 

It's telling you that when when it recursively enters ruleExpression after ruleUnOp, on encountering "[" at the end of the recursive ruleExpression it cannot decide if ruleSelector is part of the recursive invocation of ruleExpression or of the invoking ruleExpression. Because of the recursion involved the visualization is somewhat hard to parse.. 

Hope his makes sense. 

Peter 



From: "Martin Becker" <becker at lpr.e-technik.tu-muenchen.de> 
To: antlr-interest at antlr.org 
Sent: Monday, March 21, 2011 2:13:50 PM 
Subject: [antlr-interest] How to Read ANTLR Ambiguous Path Visualization? 

Hi there, 

I'm new to grammars and ANTLR(Works) and having a problem now. I 
understand there is some disambiguity in my grammar, but due to lack of 
documentation of the 'Ambiguous Path Visualization' in ANTLRWorks, I 
don't understand what it is trying to tell me. Please have a look at 
this screenshot: http://picfront.de/d/87zv 

The error is "Decision can match input such as "'['" using multiple 
alternatives: 1, 2" 

Please note that the line between the state "ruleSelector" in the upper 
right corner and the rule "ruleSelector" on the left side is green and 
red, so this seems to be a path for both alternatives. 

First of all...does it mean, that the disambiguity starts at the upper 
right corner, before "ruleSelector"? And then...the red path is just 
confusing. I don't understand from where to where it goes... 

Could anyone explain that to me, please? 

Thanks, Martin 


List: http://www.antlr.org/mailman/listinfo/antlr-interest 
Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address 

From jimi at temporal-wave.com  Mon Mar 21 08:25:29 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Mon, 21 Mar 2011 08:25:29 -0700
Subject: [antlr-interest] Grammar issue
In-Reply-To: <490445.8051.qm@web26001.mail.ukl.yahoo.com>
References: <177462.54488.qm@web26008.mail.ukl.yahoo.com>	<4D81F7FB.7020900@googlemail.com>
	<490445.8051.qm@web26001.mail.ukl.yahoo.com>
Message-ID: <efb94695a0a14b4f1c9dbf5d7f0c5952@mail.gmail.com>

Take the 'literals' out of the parser and create real lexer tokens that
are declared before the other, more general tokens.

Using literals in the parser confuses you and will also make error
handling and tree walking more difficult.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of maulattu
> Sent: Monday, March 21, 2011 1:53 AM
> To: antlr-interest at antlr.org
> Subject: Re: [antlr-interest] Grammar issue
>
> Hi all,
> for a matter of convenience I didn't write here all the rules for white
> spaces and so on, but I've them in order to skip white spaces, tab, \r,
> \n and so on.
> It seems the lexer recognize as "textLiteral" the parameter names
> (i.e.:
> "VARIABLE" and "MESSAGE_").
>
> Any suggestions?
>
> Thank you all :)
>
>
> /*----------------------------------------*/
> parametersList
>   : parametersDeclaration+ EOF
>   ;
>
> parametersDeclaration
>   : parameter_with_index /* like PARAM_1 above*/
>   | paramemter_without_index /* like VARIABILE above */
>   ;
>
> parameter_with_index
>   : parameterName = 'PARAM_' parameterIndex '=' numericLiteral
>   | parameterName = 'MESSAGE_' parameterIndex '=' textLiteral
>   ;
>
> paramemter_without_index
>   : parameterName = 'VARIABLE' '=' textLiteral
>   ;
> /*----------------------------------------*/
> parameterIndex
>   : DECIMAL_LITERAL
>   ;
>
> numericLiteral
>   :  HEX_LITERAL
>   |  DECIMAL_LITERAL
>   ;
>
> textLiteral
>   : TEXT_LITERAL
>   ;
>
> HEX_LITERAL
>   : '0' ('x' | 'X') HEX_DIGIT+
>   ;
>
> DECIMAL_LITERAL
>   : '0' | '1'..'9' '0'..'9'*
>   ;
> /*----------------------------------------*/
> fragment
> TEXT_LITERAL
>   : LETTER (LETTER | '0'..'9')*
>   ;
>
> fragment
> HEX_DIGIT
>   : ('0'..'9' | 'a'..'f' | 'A'..'F')
>   ;
>
> fragment
> LETTER
>   : 'A'..'Z'
>   | 'a'..'z'
>   | '_'
>   | '+'
>   ;
>
>
>
>
> ________________________________
> Da: Stephen Tuttlebee <themightystephen at googlemail.com>
> A: antlr-interest at antlr.org
> Inviato: Gio 17 marzo 2011, 13:00:59
> Oggetto: Re: [antlr-interest] Grammar issue
>
> Hi
>
> Is not the failure to parse:
>      MESSAGE_1 = this is a message
> due to the whitespace between the words in the string following the
> equals sign?
>
> Do you have a whitespace lexer rule (often called WS)? I suspect the
> parser is failing due to the fact that it parses up to 'MESSAGE_1 =
> this' just fine but then after that point it is expecting another
> 'parametersDeclaration' to follow, for which the remaining input 'is a
> message' would not have any rules that matches it (the parser would be
> expecting one of three things next, either 'PARAM_', 'MESSAGE_' or
> 'VARIABLE').
>
> I'm not an expert on ANTLR, but I think that might be your problem.
>
> Thanks
> Stephen
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>
>
>
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From jimi at temporal-wave.com  Mon Mar 21 08:29:11 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Mon, 21 Mar 2011 08:29:11 -0700
Subject: [antlr-interest] Problem with grammar
In-Reply-To: <AANLkTikiFRD9p8mnheN7b4v3YAL+9yr+1cRQFvqsDQeu@mail.gmail.com>
References: <C758A0DD70124CDFBC351E6B2E95389E@madziaII>
	<AANLkTikiFRD9p8mnheN7b4v3YAL+9yr+1cRQFvqsDQeu@mail.gmail.com>
Message-ID: <2b0a03d73cbc9ab35c840ecbdb67b6a2@mail.gmail.com>

The nested ^ are fine but without a subrule, the node will not have start
and stop indexes correctly updated. The main problem with this grammar is
that it has no structure and it looks like it is ambiguous. First remove
the 'literals' and make real tokens, then start with one of the simpler
examples that has an expression tree and model your grammar on that.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Matt Fowles
> Sent: Monday, March 21, 2011 3:56 AM
> To: Wojciech Tomasz Cichon
> Cc: ANTLR LIST
> Subject: Re: [antlr-interest] Problem with grammar
>
> Wojciech~
>
> Not sure what the issue is; however, I might suggest that the rule
>
> function_call : ident '('  (ident_arg ( ident_arg2 )* )? ')' SEMI ->
> ^(CALL ident ^(PARAMS (ident_arg (  ident_arg2 )* )?));
>
> is better written
>
> function_call : function_ref '('  (arg (',' arg)*)? ')' SEMI -> ^(CALL
> function_ref ^(PARAMS arg*)); function_ref : ident; arg : ident;
>
>
> I am also not 100% sure that the nested '^' on the rhs of the rewrite
> are legal.  Our grammar does function calls more like:
>
> function_call : function_ref '('  (arg (',' arg)*)? ')' -> ^(CALL
> function_ref arg*); function_ref : ident; arg : ident;
>
> Matt
>
> On Mon, Mar 21, 2011 at 10:40 AM, Wojciech Tomasz Cichon
> <wtcichon at googlemail.com> wrote:
> > hi,
> > i have prioblem with one rule from my grammar factor ...
> > | ident '('( ident_arg (ident_arg2)*)? ')' ?-> ?^(CALL ident ^(PARAMS
> > | (ident_arg ( ?ident_arg2 )* )?))
> >
> > after i send line :
> > c = 2*a+ f(1,4);
> > i received error:
> > line 17:11 mismatched input '1' expecting ')'
> > it looks like it?s completely ignores possibility of having any
> > arguments can someboduy tell me what i?m doing wrong here and how i
> > can fix that regards
> >
> >
> > my grammar looks like that
> > grammar SmallC;
> >
> > options {
> > ?language = Java;
> > ?output = AST;
> > // backtrack = true;
> > // memoize = true;
> > ? ?k ?= 3;
> > }
> >
> > tokens
> > {
> > CALL;
> > SET;
> >
> > IF;
> > ELSE;
> > WHILE;
> >
> > READ;
> > OUT;
> > PRINT;
> > RETURN;
> > READC;
> > OUTC;
> >
> > BODY;
> > DECLS;
> > MAIN;
> > PROCEDURE;
> > ARGS;
> > INCLUDE;
> > PROGRAM;
> > PARAMS;
> > }
> > program: ?includes decls procedure* main;
> >
> > includes : ('#include' string)* -> ^(INCLUDE string*);
> >
> > main : 'main' '(' ')' body ?-> ^(MAIN body) ;
> >
> > procedure : TYPE ident '(' args ')' body -> ^(PROCEDURE ident TYPE
> > args body);
> >
> > args : (typedident (',' restargs)*)? ?-> ^(ARGS ?(typedident
> > restargs*)?);
> >
> > restargs : typedident;
> >
> > body : '{' decls stmtlist '}' -> ? ^(BODY decls stmtlist);
> >
> > decls : (typedident SEMI)* -> ^(DECLS typedident*);
> >
> > typedident: TYPE^ ident;
> >
> > TYPE : 'int' |'char';
> >
> > stmtlist : stmt*;
> >
> > stmt ?: '{' stmtlist '}' -> ? stmtlist
> > ? ? ?| 'while' '(' ?exp ')' ?stmt -> ^(WHILE exp stmt)
> > ? ? ?|'if' '(' ?exp ')' stmt -> ^(IF exp stmt)
> > ? ? ?| ident '=' lexp SEMI ?-> ^(SET ident lexp)
> > ? ? ?| 'read' '(' ident ')' SEMI -> ^(READ ident)
> > ? ? ?| 'output' '(' ident ')' SEMI -> ^(OUT ident)
> > ? ? ?| 'print' '(' string ')' SEMI ?-> ?^(PRINT string )
> > ? ? ?| 'return' lexp? SEMI ?-> ^(RETURN lexp?)
> > ? ? ?| 'readc' '(' ident ')' SEMI -> ^(READC ident)
> > ? ? ?| 'outputc' '(' ident ')' SEMI -> ^(OUTC ident)
> > ? ? ?| ident '(' ?(ident_arg ( ident_arg2 )* )? ')' SEMI -> ^(CALL
> > ident ^(PARAMS (ident_arg ( ?ident_arg2 )* )?))
> >
> > ? ? ;
> > exp : lexp (COMP^ rexp)?;
> >
> >
> > rexp : lexp;
> >
> >
> >
> > lexp : term (SIMOP^ ?lexp)?;
> >
> >
> >
> > term ?: factor (OP^ ?term)?;
> >
> >
> >
> > factor ?:
> > ? ? ?//'-'?
> > ? ? ?(NUMBER |ident )^
> > ? ? ? ?| '(' exp ?')' -> exp
> > ? ? ? ?| character
> > ? ? ? ?| ident '('( ident_arg (ident_arg2)*)? ')' ?-> ?^(CALL ident
> > ^(PARAMS (ident_arg ( ?ident_arg2 )* )?))
> >
> > ? ? ? ;
> > //(typedident (',' restargs)*)?
> >
> > ? ?ident_arg ?: ? ? ?ident;
> > ? ?ident_arg2 : ',' ident;
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> > http://www.antlr.org/mailman/options/antlr-interest/your-email-
> address
> >
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From WeikEngOff at aol.com  Mon Mar 21 08:32:37 2011
From: WeikEngOff at aol.com (Udo Weik)
Date: Mon, 21 Mar 2011 16:32:37 +0100
Subject: [antlr-interest] @ Jim Idle: ANTLR3 C generation
Message-ID: <4D876F95.80401@aol.com>

Hello Jim,

don't want to bother you, but did you get my email dated
03/16/2011 - Re: ANTLR3 C generation? Only want to be sure
that you got it!


Thanks and greetings
Udo

From jimi at temporal-wave.com  Mon Mar 21 08:38:58 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Mon, 21 Mar 2011 08:38:58 -0700
Subject: [antlr-interest] How to Read ANTLR Ambiguous Path Visualization?
In-Reply-To: <1300713230.7192.5.camel@tauon.private.lpr.e-technik.tu-muenchen.de>
References: <1300713230.7192.5.camel@tauon.private.lpr.e-technik.tu-muenchen.de>
Message-ID: <c1ce2093e37aa482030f6077be407ed2@mail.gmail.com>

looks like ruleunop should be one level higher in the expression tree. Are
you trying to type in a grammar straight from a spec by any chance? Specs
are rarely written in LL(k) form as they are more descriptions of a
language perhaps for programmers and so on, but not usually for parser
writers. You will have to left disambiguate as you read the spec, and then
express it in LL terms. Unfortunately only experience will tell you how to
do this well. It looks like you have basically typed in all the things
that ruleExpression can be, but not in any kind of structured form. If it
is a simple language, then it should be easy enough to sort out.

Here is why you have an ambiguity (not a disambiguity):

1) See a ruleunop, which is followed by another ruleexpression.
2) At the end of that rule expression, the [ can be consumed, or it can be
left to the end of the first expression. Ther is no way to no which
expression it should belong to.

So:

ruleExpression
  : ruleUnop exprlevel2
  | exprlevel2
  ;

exprlevel2
   : exprlevel3 rulesSelector?
   ;

exprlevel3
  : the other stuff ...


Should begin to give you some hints on structure.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Martin Becker
> Sent: Monday, March 21, 2011 6:14 AM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] How to Read ANTLR Ambiguous Path
> Visualization?
>
> Hi there,
>
> I'm new to grammars and ANTLR(Works) and having a problem now. I
> understand there is some disambiguity in my grammar, but due to lack of
> documentation of the 'Ambiguous Path Visualization' in ANTLRWorks, I
> don't understand what it is trying to tell me. Please have a look at
> this screenshot: http://picfront.de/d/87zv
>
> The error is "Decision can match input such as "'['" using multiple
> alternatives: 1, 2"
>
> Please note that the line between the state "ruleSelector" in the upper
> right corner and the rule "ruleSelector" on the left side is green and
> red, so this seems to be a path for both alternatives.
>
> First of all...does it mean, that the disambiguity starts at the upper
> right corner, before "ruleSelector"? And then...the red path is just
> confusing. I don't understand from where to where it goes...
>
> Could anyone explain that to me, please?
>
> Thanks, Martin
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From antlr3 at gmail.com  Mon Mar 21 10:00:11 2011
From: antlr3 at gmail.com (Hiten R)
Date: Mon, 21 Mar 2011 10:00:11 -0700
Subject: [antlr-interest] How to ignore TOKEN in a String
Message-ID: <AANLkTikpBCKXqRjrw4zi00hi=me1rJ9=csFF_9Z8t9je@mail.gmail.com>

Hi All,

ANTLR grammar acts funny when it encounters a TOKEN in a String. How should
I make the ANTLR escape the letter found in the String is not a TOKEN.

Help will be appreciated.

Thanks
Hiten

Example
text_content.txt
funny boys are Tom Hardy Donald
serious guys are not funny either

grammar
options {
    language=Java;
    k=1;
}

start
  : 'funny' call_funny_parse
  | 'serious' call_serious_parse
  ;

call_funny_parse
@init {
  ArrayList<String> person = new ArrayList<String>(); //this should contain
Tom Hardy Donald
}
  : jackT=TOKEN    //boys
    macT=TOKEN   //are
    (nextPersonT=TOKEN { person.add($nextPersonT.text); })* // Tom Hardy
Donald
  ;

call_serious_parse
@init {
  String line = "";
}
  : (stringT=TOKEN { line = line + $stringT.text; })* // This is where is
fails and says 'funny' is expecting something else

From jbb at acm.org  Mon Mar 21 11:36:01 2011
From: jbb at acm.org (John B. Brodie)
Date: Mon, 21 Mar 2011 14:36:01 -0400
Subject: [antlr-interest] How to ignore TOKEN in a String
In-Reply-To: <AANLkTikpBCKXqRjrw4zi00hi=me1rJ9=csFF_9Z8t9je@mail.gmail.com>
References: <AANLkTikpBCKXqRjrw4zi00hi=me1rJ9=csFF_9Z8t9je@mail.gmail.com>
Message-ID: <1300732561.10290.17.camel@gecko>

Greetings!

On Mon, 2011-03-21 at 10:00 -0700, Hiten R wrote:
> Hi All,
> 
> ANTLR grammar acts funny when it encounters a TOKEN in a String. How should
> I make the ANTLR escape the letter found in the String is not a TOKEN.
> 
> Help will be appreciated.
> 
> Thanks
> Hiten
> 
> Example
> text_content.txt
> funny boys are Tom Hardy Donald
> serious guys are not funny either
> 
> grammar
> options {
>     language=Java;
>     k=1;
> }
> 
> start
>   : 'funny' call_funny_parse
>   | 'serious' call_serious_parse
>   ;
> 
> call_funny_parse
> @init {
>   ArrayList<String> person = new ArrayList<String>(); //this should contain
> Tom Hardy Donald
> }
>   : jackT=TOKEN    //boys
>     macT=TOKEN   //are
>     (nextPersonT=TOKEN { person.add($nextPersonT.text); })* // Tom Hardy
> Donald
>   ;
> 
> call_serious_parse
> @init {
>   String line = "";
> }
>   : (stringT=TOKEN { line = line + $stringT.text; })* // This is where is
> fails and says 'funny' is expecting something else

you did not post a complete example of your problem so I can only
speculate...

funny is a reserved word in your language and can therefore NEVER be a
TOKEN. so when your call_serious_parse rule encounters the `funny` word
in the input string, it will receive from the lexer a token having the
type of the funny keyword and not the type of TOKEN.

for each quoted string in your parser rules, ANTLR will implicitly
generate a lexer rule corresponding to that string. so until you become
more familiar with the workings of ANTLR, it is best that you avoid
quoted strings in your parser rules and instead explicitly define the
corresponding lexer rules yourself. in this way you (hopefully) will be
better able to see any potential undesired overlap amongst your tokens.


search the mail archives (see antlr.markmail.org) and/or the antlr wiki
for "Keywords as Identifiers" and similar search patterns for the ways
to get around your issues with 'funny'.

Hope this helps...
   -jbb



From ssawkar at aehr.com  Mon Mar 21 12:36:51 2011
From: ssawkar at aehr.com (Sunil Sawkar)
Date: Mon, 21 Mar 2011 12:36:51 -0700
Subject: [antlr-interest] Strip tool
Message-ID: <201103211236.51277.ssawkar@aehr.com>

Hi,

I would like to use the Strip tool to remove action code from my grammar. I 
saw reference to this tool in antlr version 3.1.2. I currently use antlr 
version 3.2. Can anyone help me find this tool / show how to use it from the 
jar package for antlr-3.2 ? Or is this a separate entity that needs to be 
downloaded ?

Appreciate the help.. Thanks,

-Sunil Sawkar

From cormier at u-picardie.fr  Tue Mar 22 00:49:51 2011
From: cormier at u-picardie.fr (Christian CORMIER)
Date: Tue, 22 Mar 2011 08:49:51 +0100
Subject: [antlr-interest] help for URL grammar
Message-ID: <6298E9B0-5133-4193-AEA8-26D93EE6A4E8@u-picardie.fr>

Hi,
I test https://github.com/yaojingguo/antlr-url-grammar.
domainlabel: alphanum ((alphanum | '-')* alphanum)?;
don't recognize something like www.u-picardie.fr using interpreter of  
last version of ANTLRworks (1.4.2)
But for www.uu-picardie.fr is OK.
Regards
Christian CORMIER


From kirby.bohling at gmail.com  Tue Mar 22 01:52:18 2011
From: kirby.bohling at gmail.com (Kirby Bohling)
Date: Tue, 22 Mar 2011 03:52:18 -0500
Subject: [antlr-interest] help for URL grammar
In-Reply-To: <6298E9B0-5133-4193-AEA8-26D93EE6A4E8@u-picardie.fr>
References: <6298E9B0-5133-4193-AEA8-26D93EE6A4E8@u-picardie.fr>
Message-ID: <AANLkTinr=S_9z_Z6cA_do-Te4U0YDf9dikjskP892xc1@mail.gmail.com>

Pretty sure the generated tokens for the '-' in toplabel and
domainlabel are conflicting.  Try creating a '-' token (or potentially
a fragment).  If you are using literal text, I'd only use that as part
of a lexer rule, never a parser rule like you are in those two rules.

By the by, I don't think that the first portion of a domain name has
to start with a letter.  See 23andme.com as an example (while that
redirects you to www.23andme.com, the RFCs for URLs don't require
starting with a letter (no dashes at the beginning from a quick read
of Wikipedia, but that is all I saw, no limits on digits being first).

(Ignoring whether creating an ANTLR grammar for URLs is redundant, or
a good use of the tool).

Kirby


On Tue, Mar 22, 2011 at 2:49 AM, Christian CORMIER
<cormier at u-picardie.fr> wrote:
> Hi,
> I test https://github.com/yaojingguo/antlr-url-grammar.
> domainlabel: alphanum ((alphanum | '-')* alphanum)?;
> don't recognize something like www.u-picardie.fr using interpreter of
> last version of ANTLRworks (1.4.2)
> But for www.uu-picardie.fr is OK.
> Regards
> Christian CORMIER
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From jimi at temporal-wave.com  Tue Mar 22 09:07:35 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Tue, 22 Mar 2011 09:07:35 -0700
Subject: [antlr-interest] help for URL grammar
In-Reply-To: <6298E9B0-5133-4193-AEA8-26D93EE6A4E8@u-picardie.fr>
References: <6298E9B0-5133-4193-AEA8-26D93EE6A4E8@u-picardie.fr>
Message-ID: <804e4fa3f7c010d71eb20e32279454b8@mail.gmail.com>

Use the debugger, not the interpreter, then if it does not work you can
find out why. It might well be just the interpreter that cannot run that
grammar.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Christian CORMIER
> Sent: Tuesday, March 22, 2011 12:50 AM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] help for URL grammar
>
> Hi,
> I test https://github.com/yaojingguo/antlr-url-grammar.
> domainlabel: alphanum ((alphanum | '-')* alphanum)?; don't recognize
> something like www.u-picardie.fr using interpreter of last version of
> ANTLRworks (1.4.2) But for www.uu-picardie.fr is OK.
> Regards
> Christian CORMIER
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From ssawkar at aehr.com  Tue Mar 22 11:01:09 2011
From: ssawkar at aehr.com (Sunil Sawkar)
Date: Tue, 22 Mar 2011 11:01:09 -0700
Subject: [antlr-interest] Strip tool
In-Reply-To: <1300784673.4325.3.camel@tauon.private.lpr.e-technik.tu-muenchen.de>
References: <201103211236.51277.ssawkar@aehr.com>
	<1300784673.4325.3.camel@tauon.private.lpr.e-technik.tu-muenchen.de>
Message-ID: <201103221101.09206.ssawkar@aehr.com>

Martin,

Thanks much for the info.. I found it in the antlr-3.2.jar package and was 
able to extract and use.

-Sunil 

On Tuesday, March 22, 2011 02:04:33 am Martin Becker wrote:
> Sunil,
> 
> there is a class included for that in ANTLRWorks *.jar file. I'm pretty
> sure it is contained in ANTLR itself, too.
> 
> To strip actions "with ANTLRWorks", do the following:
> 
> Add the *.jar file to your Java class path. Then Run (on UNIX):
> 
> java org.antlr.tool.Strip <file_name.g> > <stripped_file_name.g>
> 
> Regards,
> Martin
> ---
> 
> Am Montag, den 21.03.2011, 12:36 -0700 schrieb Sunil Sawkar:
> > Hi,
> > 
> > I would like to use the Strip tool to remove action code from my grammar.
> > I saw reference to this tool in antlr version 3.1.2. I currently use
> > antlr version 3.2. Can anyone help me find this tool / show how to use
> > it from the jar package for antlr-3.2 ? Or is this a separate entity
> > that needs to be downloaded ?
> > 
> > Appreciate the help.. Thanks,
> > 
> > -Sunil Sawkar
> > 
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> > http://www.antlr.org/mailman/options/antlr-interest/your-email-address

From parrt at cs.usfca.edu  Tue Mar 22 10:45:48 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Tue, 22 Mar 2011 10:45:48 -0700
Subject: [antlr-interest] antlr v4 wish list
Message-ID: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>

Howdy, I'm going to start augmenting ANTLR v3 significantly to create v4. The goal is backward compatibility; any new functionality, of course, will require altering or augmenting your grammars to take advantage of it. Here is my potential list of updates:

http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list

Anything to add or comment on?

Ter

From WeikEngOff at aol.com  Tue Mar 22 11:05:38 2011
From: WeikEngOff at aol.com (Udo Weik)
Date: Tue, 22 Mar 2011 19:05:38 +0100
Subject: [antlr-interest] ANTLRWorks 1.4.2: Remote debugger - socket
 protocol description/2. Attempt
Message-ID: <4D88E4F2.6040806@aol.com>

Hello,

I'm looking for a comprehensive socket protocol description of the
remote debugger with some examples (e. g. the LT-command).


Thanks and greetings
Udo

From ruslan_zasukhin at valentina-db.com  Tue Mar 22 11:11:54 2011
From: ruslan_zasukhin at valentina-db.com (Ruslan Zasukhin)
Date: Tue, 22 Mar 2011 20:11:54 +0200
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <AANLkTimCYssVsUfCyFCOho+V-eAADoTQXtE7vru+8yHP@mail.gmail.com>
Message-ID: <C9AEB30A.E8495%ruslan_zasukhin@valentina-db.com>

On 3/20/11 1:11 PM, "Matt Fowles" <matt.fowles at gmail.com> wrote:

Hi Matt,

> Ruslan,

> Try:
> 
> query_expression
>  ? ?: ? ?query_term (( "union" | "except" )^ "all"? query_term)*
>          -> ^(QUERY_EXPRESSION $query_expression)
>  ? ?;

Well,  $  not helps.   Still same
       error 165 uses rewrite syntax and also an ast operator

As I understand, 
    ->   is re-write syntax
    ^    is AST operator ...


 
> Matt
> 
> On Sun, Mar 20, 2011 at 10:40 AM, Ruslan Zasukhin
> <ruslan_zasukhin at valentina-db.com> wrote:
>> Hi All,
>> 
>> In v2 grammar we have rule as
>> 
>> ===========================================
>> query_expression
>> ? ?: ? ?query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
>> ? ? ? ?{ ? ?## = #([QUERY_EXPRESSION,"QUERY_EXPRESSION"], ##); ? ?}
>> ? ?;
>> ===========================================
>> 
>> 
>> We try change it to v3
>> 
>> ===========================================
>> query_expression
>> ? ?: ? ?query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
>> ? ? ? ? ? ?->(QUERY_EXPRESSION ????? )
>> ? ?;
>> ===========================================
>> 
>> Ops, we cannot specify top node, because it can be ?union OR except.
>> 
>> 
>> For now the only way we have found is:
>> ===========================================
>> query_expression
>> ? ?: ? ?query_expression2 ?->(QUERY_EXPRESSION ?query_expression2)
>> ? ?;
>> 
>> 
>> query_expression2
>> ? ?: ? ?query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
>> ? ?;
>> ===========================================
>> 
>> 
>> 
>> Question is. May be exists more elegant way for v3
>> Without additional rule?


-- 
Best regards,

Ruslan Zasukhin
VP Engineering and New Technology
Paradigma Software, Inc

Valentina - Joining Worlds of Information
http://www.paradigmasoft.com

[I feel the need: the need for speed]



From jimi at temporal-wave.com  Tue Mar 22 11:11:11 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Tue, 22 Mar 2011 11:11:11 -0700
Subject: [antlr-interest] ANTLRWorks 1.4.2: Remote debugger - socket
 protocol description/2. Attempt
In-Reply-To: <4D88E4F2.6040806@aol.com>
References: <4D88E4F2.6040806@aol.com>
Message-ID: <37ba3fd00e08b2cac098577ecf04d84d@mail.gmail.com>

It is dead simple, just read through the one Java class in the source
code.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Udo Weik
> Sent: Tuesday, March 22, 2011 11:06 AM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] ANTLRWorks 1.4.2: Remote debugger - socket
> protocol description/2. Attempt
>
> Hello,
>
> I'm looking for a comprehensive socket protocol description of the
> remote debugger with some examples (e. g. the LT-command).
>
>
> Thanks and greetings
> Udo
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From cummings at kjchome.homeip.net  Tue Mar 22 11:20:52 2011
From: cummings at kjchome.homeip.net (Kevin J. Cummings)
Date: Tue, 22 Mar 2011 14:20:52 -0400
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <C9AEB30A.E8495%ruslan_zasukhin@valentina-db.com>
References: <C9AEB30A.E8495%ruslan_zasukhin@valentina-db.com>
Message-ID: <4D88E884.2090001@kjchome.homeip.net>

On 03/22/2011 02:11 PM, Ruslan Zasukhin wrote:
> On 3/20/11 1:11 PM, "Matt Fowles" <matt.fowles at gmail.com> wrote:
> 
> Hi Matt,
> 
>> Ruslan,
> 
>> Try:
>>
>> query_expression
>>     :    query_term (( "union" | "except" )^ "all"? query_term)*
>>          -> ^(QUERY_EXPRESSION $query_expression)
>>     ;
> 
> Well,  $  not helps.   Still same
>        error 165 uses rewrite syntax and also an ast operator
> 
> As I understand, 
>     ->   is re-write syntax
>     ^    is AST operator ...

Sounds like ANTLR is being picky and not letting you mix both AST
construction and rewrite rules in the same production.  You *could* try
the following:

query_expression
	:	qe -> ^(QUERY_EXPRESSION $qe)
	;

qe      :	query_term (( 'union' | 'except' )^ 'all'? query_term)*
	;

Now one rule has the AST construction, and the other the rewrite rule.

-- 
Kevin J. Cummings
kjchome at verizon.net
cummings at kjchome.homeip.net
cummings at kjc386.framingham.ma.us
Registered Linux User #1232 (http://counter.li.org)

From ruslan_zasukhin at valentina-db.com  Tue Mar 22 12:35:47 2011
From: ruslan_zasukhin at valentina-db.com (Ruslan Zasukhin)
Date: Tue, 22 Mar 2011 21:35:47 +0200
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <C9AEB30A.E8495%ruslan_zasukhin@valentina-db.com>
Message-ID: <C9AEC6B3.E84B3%ruslan_zasukhin@valentina-db.com>

On 3/22/11 8:11 PM, "Ruslan Zasukhin" <ruslan_zasukhin at valentina-db.com>
wrote:

IF to remove  ^      ( "union" | "except" )^

query_expression
  ? ?: ? ?query_term (( "union" | "except" ) "all"? query_term)*
          -> ^(QUERY_EXPRESSION $query_expression)

 then all looks correct, but tree is empty from $query_expression

TREE: (SQL_STATEMENT QUERY_EXPRESSION)

But it should looks as

TREE: (SQL_STATEMENT (QUERY_EXPRESSION (select (SELECT_LIST
(SELECT_ELEM_LIST ) (from (NON_JOIN_TABLE t1)))))


> On 3/20/11 1:11 PM, "Matt Fowles" <matt.fowles at gmail.com> wrote:
> 
> Hi Matt,
> 
>> Ruslan,
> 
>> Try:
>> 
>> query_expression
>>  ? ?: ? ?query_term (( "union" | "except" )^ "all"? query_term)*
>>          -> ^(QUERY_EXPRESSION $query_expression)
>>  ? ?;
> 
> Well,  $  not helps.   Still same
>        error 165 uses rewrite syntax and also an ast operator
> 
> As I understand, 
>     ->   is re-write syntax
>     ^    is AST operator ...
> 
> 
>  
>> Matt
>> 
>> On Sun, Mar 20, 2011 at 10:40 AM, Ruslan Zasukhin
>> <ruslan_zasukhin at valentina-db.com> wrote:
>>> Hi All,
>>> 
>>> In v2 grammar we have rule as
>>> 
>>> ===========================================
>>> query_expression
>>> ? ?: ? ?query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
>>> ? ? ? ?{ ? ?## = #([QUERY_EXPRESSION,"QUERY_EXPRESSION"], ##); ? ?}
>>> ? ?;
>>> ===========================================
>>> 
>>> 
>>> We try change it to v3
>>> 
>>> ===========================================
>>> query_expression
>>> ? ?: ? ?query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
>>> ? ? ? ? ? ?->(QUERY_EXPRESSION ????? )
>>> ? ?;
>>> ===========================================
>>> 
>>> Ops, we cannot specify top node, because it can be ?union OR except.
>>> 
>>> 
>>> For now the only way we have found is:
>>> ===========================================
>>> query_expression
>>> ? ?: ? ?query_expression2 ?->(QUERY_EXPRESSION ?query_expression2)
>>> ? ?;
>>> 
>>> 
>>> query_expression2
>>> ? ?: ? ?query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
>>> ? ?;
>>> ===========================================
>>> 
>>> 
>>> 
>>> Question is. May be exists more elegant way for v3
>>> Without additional rule?
> 

-- 
Best regards,

Ruslan Zasukhin
VP Engineering and New Technology
Paradigma Software, Inc

Valentina - Joining Worlds of Information
http://www.paradigmasoft.com

[I feel the need: the need for speed]



From jimi at temporal-wave.com  Tue Mar 22 11:59:01 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Tue, 22 Mar 2011 11:59:01 -0700
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <C9AEB30A.E8495%ruslan_zasukhin@valentina-db.com>
References: <AANLkTimCYssVsUfCyFCOho+V-eAADoTQXtE7vru+8yHP@mail.gmail.com>
	<C9AEB30A.E8495%ruslan_zasukhin@valentina-db.com>
Message-ID: <ef840abcead10a834c0619c39da38773@mail.gmail.com>

That is telling you that err, you can't use rewrite syntax AND an operator
;). Which one is it supposed to use?

So, remove any ^ and ! operators from the rule and use rewrite rules only.
However, is that what you want to rewrite it as. I think you are using
query_expression as that was what it looked like in v2. You might be
better off abstracting in to two rules:

queryExpression
	: unionExpressions -> ^(QUERY_EXPRESSION unionExpressions) ;

unionExpressions
     : query_term (( "union"^ | "except"^ ) "all"? query_term)* ;


However, using lower case literals in your parser directly is not a good
idea. Use real tokens so that you error messages are better and remember
that SQL is generally case insensitive so you will need a [trivial] custom
input stream.

Jim


> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Ruslan Zasukhin
> Sent: Tuesday, March 22, 2011 11:12 AM
> To: Matt Fowles
> Cc: antlr-interest at antlr.org; Michail Kropivka
> Subject: Re: [antlr-interest] Q: move from v2 to v3 parser grammar.
> Rewrite tree rule
>
> On 3/20/11 1:11 PM, "Matt Fowles" <matt.fowles at gmail.com> wrote:
>
> Hi Matt,
>
> > Ruslan,
>
> > Try:
> >
> > query_expression
> >  ? ?: ? ?query_term (( "union" | "except" )^ "all"? query_term)*
> >          -> ^(QUERY_EXPRESSION $query_expression)
> >  ? ?;
>
> Well,  $  not helps.   Still same
>        error 165 uses rewrite syntax and also an ast operator
>
> As I understand,
>     ->   is re-write syntax
>     ^    is AST operator ...
>
>
>
> > Matt
> >
> > On Sun, Mar 20, 2011 at 10:40 AM, Ruslan Zasukhin
> > <ruslan_zasukhin at valentina-db.com> wrote:
> >> Hi All,
> >>
> >> In v2 grammar we have rule as
> >>
> >> ===========================================
> >> query_expression
> >> ? ?: ? ?query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
> >> ? ? ? ?{ ? ?## = #([QUERY_EXPRESSION,"QUERY_EXPRESSION"], ##); ? ?}
> >> ? ?;
> >> ===========================================
> >>
> >>
> >> We try change it to v3
> >>
> >> ===========================================
> >> query_expression
> >> ? ?: ? ?query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
> >> ? ? ? ? ? ?->(QUERY_EXPRESSION ????? )
> >> ? ?;
> >> ===========================================
> >>
> >> Ops, we cannot specify top node, because it can be ?union OR except.
> >>
> >>
> >> For now the only way we have found is:
> >> ===========================================
> >> query_expression
> >> ? ?: ? ?query_expression2 ?->(QUERY_EXPRESSION ?query_expression2)
> >> ? ?;
> >>
> >>
> >> query_expression2
> >> ? ?: ? ?query_term (( "union"^ | "except"^ ) ( "all" )? query_term)*
> >> ? ?;
> >> ===========================================
> >>
> >>
> >>
> >> Question is. May be exists more elegant way for v3 Without
> additional
> >> rule?
>
>
> --
> Best regards,
>
> Ruslan Zasukhin
> VP Engineering and New Technology
> Paradigma Software, Inc
>
> Valentina - Joining Worlds of Information http://www.paradigmasoft.com
>
> [I feel the need: the need for speed]
>
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From researcher0x00 at gmail.com  Tue Mar 22 13:46:30 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Tue, 22 Mar 2011 16:46:30 -0400
Subject: [antlr-interest] Imaginary Node Constructor T[token-ref,
 "text"] throws error: missing attribute access on rule scope:
 token-ref
Message-ID: <AANLkTi=QyaVJobai+0FJuKQYMMqg0aDTEEDM1VkmVGx8@mail.gmail.com>

FYI

In using Imaginary Node Constructor  T[token-ref,"text"]  as documented in
"The Definitive ANTLR Reference" pg. 176,
the error  "missing attribute access on rule scope: token-ref"  was given.

I was able to use  T["text"] as documented  in
http://www.antlr.org/wiki/display/ANTLR3/Tree+construction.

I used the bug report for another bug a few days ago, but never saw it added
to the bug list, so I am using the interest list here instead.

Thanks, Eric

From researcher0x00 at gmail.com  Tue Mar 22 14:04:33 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Tue, 22 Mar 2011 17:04:33 -0400
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <ef840abcead10a834c0619c39da38773@mail.gmail.com>
References: <AANLkTimCYssVsUfCyFCOho+V-eAADoTQXtE7vru+8yHP@mail.gmail.com>
	<C9AEB30A.E8495%ruslan_zasukhin@valentina-db.com>
	<ef840abcead10a834c0619c39da38773@mail.gmail.com>
Message-ID: <AANLkTi=X2CEebUM8EymPCzLdVyngMbgaic2y=hzCQm2O@mail.gmail.com>

Jim,

Give yourself a bouns point on that answer. It helped me figure out a
problem I have been having for a few days.

Thanks, Eric

From jbb at acm.org  Tue Mar 22 14:14:12 2011
From: jbb at acm.org (John B. Brodie)
Date: Tue, 22 Mar 2011 17:14:12 -0400
Subject: [antlr-interest] Imaginary Node Constructor T[token-ref,
 "text"] throws error: missing attribute access on rule scope:
 token-ref
In-Reply-To: <AANLkTi=QyaVJobai+0FJuKQYMMqg0aDTEEDM1VkmVGx8@mail.gmail.com>
References: <AANLkTi=QyaVJobai+0FJuKQYMMqg0aDTEEDM1VkmVGx8@mail.gmail.com>
Message-ID: <1300828452.3276.2.camel@gecko>

On Tue, 2011-03-22 at 16:46 -0400, The Researcher wrote:
> FYI
> 
> In using Imaginary Node Constructor  T[token-ref,"text"]  as documented in
> "The Definitive ANTLR Reference" pg. 176,
> the error  "missing attribute access on rule scope: token-ref"  was given.
> 
> I was able to use  T["text"] as documented  in
> http://www.antlr.org/wiki/display/ANTLR3/Tree+construction.
> 
> I used the bug report for another bug a few days ago, but never saw it added
> to the bug list, so I am using the interest list here instead.
> 

you need a $ on the token ref. see the example on pg. 176. e.g. this:

compoundStatement
  : lc='[' statement* '}' -> ^(SLIST[$lc] statemment *)
  ;




From ruslan_zasukhin at valentina-db.com  Tue Mar 22 14:20:33 2011
From: ruslan_zasukhin at valentina-db.com (Ruslan Zasukhin)
Date: Tue, 22 Mar 2011 23:20:33 +0200
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <ef840abcead10a834c0619c39da38773@mail.gmail.com>
Message-ID: <C9AEDF41.E84CF%ruslan_zasukhin@valentina-db.com>

On 3/22/11 8:59 PM, "Jim Idle" <jimi at temporal-wave.com> wrote:

Hi Jim,

Thank you for answer.

> That is telling you that err, you can't use rewrite syntax AND an operator
> ;). Which one is it supposed to use?
> 
> So, remove any ^ and ! operators from the rule and use rewrite rules only.

Yes, this is clear now :)

> However, is that what you want to rewrite it as. I think you are using
> query_expression as that was what it looked like in v2. You might be
> better off abstracting in to two rules:
> 
> queryExpression
> : unionExpressions -> ^(QUERY_EXPRESSION unionExpressions) ;
> 
> unionExpressions
>      : query_term (( "union"^ | "except"^ ) "all"? query_term)* ;

So really 2 rules should be used as was in my first letter.
Okay, then we will make such changes in our grammar from v2

> However, using lower case literals in your parser directly is not a good
> idea.  Use real tokens so that you error messages are better

Simple example, please?


> and remember
> that SQL is generally case insensitive so you will need a [trivial] custom
> input stream.

Of course we do remember this :)

And after grammar start to breath, we will yet work on
* case-insensitive of SQL text
* UTF-16 for input  -- clarify ..



-- 
Best regards,

Ruslan Zasukhin
VP Engineering and New Technology
Paradigma Software, Inc

Valentina - Joining Worlds of Information
http://www.paradigmasoft.com

[I feel the need: the need for speed]



From researcher0x00 at gmail.com  Tue Mar 22 14:21:10 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Tue, 22 Mar 2011 17:21:10 -0400
Subject: [antlr-interest] Imaginary Node Constructor T[token-ref,
 "text"] throws error: missing attribute access on rule scope:
 token-ref
In-Reply-To: <1300828452.3276.2.camel@gecko>
References: <AANLkTi=QyaVJobai+0FJuKQYMMqg0aDTEEDM1VkmVGx8@mail.gmail.com>
	<1300828452.3276.2.camel@gecko>
Message-ID: <AANLkTik7LURVUe=3wJhc_LTHXqVwQOCrwvUoyZnAT6di@mail.gmail.com>

On Tue, Mar 22, 2011 at 5:14 PM, John B. Brodie <jbb at acm.org> wrote:

>  On Tue, 2011-03-22 at 16:46 -0400, The Researcher wrote:
> > FYI
> >
> > In using Imaginary Node Constructor  T[token-ref,"text"]  as documented
> in
> > "The Definitive ANTLR Reference" pg. 176,
> > the error  "missing attribute access on rule scope: token-ref"  was
> given.
> >
> > I was able to use  T["text"] as documented  in
> > http://www.antlr.org/wiki/display/ANTLR3/Tree+construction.
> >
> > I used the bug report for another bug a few days ago, but never saw it
> added
> > to the bug list, so I am using the interest list here instead.
> >
>
> you need a $ on the token ref. see the example on pg. 176. e.g. this:
>
> compoundStatement
>  : lc='[' statement* '}' -> ^(SLIST[$lc] statemment *)
>  ;
>
>
>
> John,

Thanks. I did. Here is the error and working text

Error:

byteExp = offsetAndOrSizeExpression
-> ^(OffsetAndOrSize ^(ByteValue $byteExp) ^(BitValue
IntegerLiteral[$byteExp,"0"]))

Working:

 byteExp = offsetAndOrSizeExpression
-> ^(OffsetAndOrSize ^(ByteValue $byteExp) ^(BitValue IntegerLiteral["0"]))

Eric

From gary at sumwise.com  Tue Mar 22 14:21:23 2011
From: gary at sumwise.com (Gary Miller)
Date: Wed, 23 Mar 2011 08:21:23 +1100
Subject: [antlr-interest] antlr-interest Digest, Vol 76, Issue 21
In-Reply-To: <mailman.1.1300820402.19671.antlr-interest@antlr.org>
References: <mailman.1.1300820402.19671.antlr-interest@antlr.org>
Message-ID: <AANLkTi=cwMLSQbhV5pdtOoBPxp9d9_4bWP8h2Bmwy0eY@mail.gmail.com>

Terence,

The ANTLR4 Wiki isn't publicly accessible.

Regards
Gary

> Date: Tue, 22 Mar 2011 10:45:48 -0700
> From: Terence Parr <parrt at cs.usfca.edu>
> Subject: [antlr-interest] antlr v4 wish list
> To: antlr-interest Interest <antlr-interest at antlr.org>
> Message-ID: <F8A011FA-9DBE-4024-8982-2D9EC66849E9 at cs.usfca.edu>
> Content-Type: text/plain; charset=us-ascii
>
> Howdy, I'm going to start augmenting ANTLR v3 significantly to create v4. The goal is backward compatibility; any new functionality, of course, will require altering or augmenting your grammars to take advantage of it. Here is my potential list of updates:
>
> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>
> Anything to add or comment on?
>
> Ter

From researcher0x00 at gmail.com  Tue Mar 22 14:26:15 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Tue, 22 Mar 2011 17:26:15 -0400
Subject: [antlr-interest] antlr-interest Digest, Vol 76, Issue 21
In-Reply-To: <AANLkTi=cwMLSQbhV5pdtOoBPxp9d9_4bWP8h2Bmwy0eY@mail.gmail.com>
References: <mailman.1.1300820402.19671.antlr-interest@antlr.org>
	<AANLkTi=cwMLSQbhV5pdtOoBPxp9d9_4bWP8h2Bmwy0eY@mail.gmail.com>
Message-ID: <AANLkTin=mwjz4XDFE10LO8yAc0VF+5NOJ3iD3fF=jr5i@mail.gmail.com>

> Same here.

From jimi at temporal-wave.com  Tue Mar 22 14:27:47 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Tue, 22 Mar 2011 14:27:47 -0700
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <C9AEDF41.E84CF%ruslan_zasukhin@valentina-db.com>
References: <ef840abcead10a834c0619c39da38773@mail.gmail.com>
	<C9AEDF41.E84CF%ruslan_zasukhin@valentina-db.com>
Message-ID: <8dfd6f554394c8d625c4815095499f74@mail.gmail.com>

> -----Original Message-----
> From: Ruslan Zasukhin [mailto:ruslan_zasukhin at valentina-db.com]
> Sent: Tuesday, March 22, 2011 2:21 PM


> > However, using lower case literals in your parser directly is not a
> > good idea.  Use real tokens so that you error messages are better
>
> Simple example, please?

Instead of:

rule : 'join' somerule;

Use:

rule : JOIN somerule;

// Lexer rule to match:
//
JOIN : 'join';

And for case insensitivity I specify the token specs all in UPPPER rather
than lower and then override the input stream as per:

http://www.antlr.org/wiki/pages/viewpage.action?pageId=1782

Although someone has added instructions for generating the slowest case
insensitive lexers in the world with individual letter rules. Use the
input stream override method in general.



>
>
> > and remember
> > that SQL is generally case insensitive so you will need a [trivial]
> > custom input stream.
>
> Of course we do remember this :)
>
> And after grammar start to breath, we will yet work on
> * case-insensitive of SQL text
> * UTF-16 for input  -- clarify ..


UTF-16 input encoding is just a matter of telling the Java input stream to
open the file in that encoding.

Jim

From antlr3 at gmail.com  Tue Mar 22 14:40:00 2011
From: antlr3 at gmail.com (Hiten R)
Date: Tue, 22 Mar 2011 14:40:00 -0700
Subject: [antlr-interest] How to ignore TOKEN in a String
In-Reply-To: <1300732561.10290.17.camel@gecko>
References: <AANLkTikpBCKXqRjrw4zi00hi=me1rJ9=csFF_9Z8t9je@mail.gmail.com>
	<1300732561.10290.17.camel@gecko>
Message-ID: <AANLkTik-swYddC0+sTLRAoGRng5Uq=ON2qzrpg0rQ1v-@mail.gmail.com>

John/All

I followed 'antlr wiki' example but then it stopped working completely.
Previous way it was complaining about the second line but after the change
it could not get past the first line 'funny boys are Tom Hardy Donald '.

*Exception*
line 1:0 no viable alternative at input 'funny'

I am not much familiar with ANTLR but can you give me another example or
point me to getting quoted string resolved.

Thx
Hitender

BEFORE [ignore caps please]
start
  : 'funny' call_funny_parse
  | 'serious' call_serious_parse
  ;

AFTER - ANTLR WIKI [ignore caps please]
start
 : lexer_funny
 | lexer_serious
 ;

lexer_funny : {input.LT(1).getText().equals("funny")}? call_funny_parse;
lexer_serious : {input.LT(1).getText().equals("serious")}?
call_serious_parse;

From ruslan_zasukhin at valentina-db.com  Tue Mar 22 14:43:21 2011
From: ruslan_zasukhin at valentina-db.com (Ruslan Zasukhin)
Date: Tue, 22 Mar 2011 23:43:21 +0200
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <8dfd6f554394c8d625c4815095499f74@mail.gmail.com>
Message-ID: <C9AEE499.E84DE%ruslan_zasukhin@valentina-db.com>

On 3/22/11 11:27 PM, "Jim Idle" <jimi at temporal-wave.com> wrote:

>>> However, using lower case literals in your parser directly is not a
>>> good idea.  Use real tokens so that you error messages are better
>> 
>> Simple example, please?
> 
> Instead of:
> 
> rule : 'join' somerule;
> 
> Use:
> 
> rule : JOIN somerule;
> 
> // Lexer rule to match:
> //
> JOIN : 'join';


Clear.

But this is exactly what was NOT needed in ANTLR v2.
And ANTLR was proud that we can write tokens directly in grammar.

Collecting all this tokens into Lexer is additional manual work. No?
Similar to  Lexer :)


So for me not clear why this is better now for v3?




==============
> And for case insensitivity I specify the token specs all in UPPPER rather
> than lower and then override the input stream as per:
> 
> http://www.antlr.org/wiki/pages/viewpage.action?pageId=1782
> 
> Although someone has added instructions for generating the slowest case
> insensitive lexers in the world with individual letter rules. Use the
> input stream override method in general.

Yes, we have see this page ...

> Support for case insenstive matching is built in to the C target input
> streams. To use it, you must make a method call before using the input stream
> as in the example below and specify all your keyword/lexer tokens in UPPER
> CASE only

    JOIN above  is that  UPPER CASE  example?

I ask because   'join'  above still is in low case ...



-- 
Best regards,

Ruslan Zasukhin
VP Engineering and New Technology
Paradigma Software, Inc

Valentina - Joining Worlds of Information
http://www.paradigmasoft.com

[I feel the need: the need for speed]



From parrt at cs.usfca.edu  Tue Mar 22 14:58:24 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Tue, 22 Mar 2011 14:58:24 -0700
Subject: [antlr-interest] permissions on ANTLR v4 wiki fixed
In-Reply-To: <AANLkTi=cwMLSQbhV5pdtOoBPxp9d9_4bWP8h2Bmwy0eY@mail.gmail.com>
References: <mailman.1.1300820402.19671.antlr-interest@antlr.org>
	<AANLkTi=cwMLSQbhV5pdtOoBPxp9d9_4bWP8h2Bmwy0eY@mail.gmail.com>
Message-ID: <4D4C27A2-F889-4D4A-BBC1-46BFA0391F73@cs.usfca.edu>

ooops. try now.
Ter
On Mar 22, 2011, at 2:21 PM, Gary Miller wrote:

> Terence,
> 
> The ANTLR4 Wiki isn't publicly accessible.
> 
> Regards
> Gary
> 
>> Date: Tue, 22 Mar 2011 10:45:48 -0700
>> From: Terence Parr <parrt at cs.usfca.edu>
>> Subject: [antlr-interest] antlr v4 wish list
>> To: antlr-interest Interest <antlr-interest at antlr.org>
>> Message-ID: <F8A011FA-9DBE-4024-8982-2D9EC66849E9 at cs.usfca.edu>
>> Content-Type: text/plain; charset=us-ascii
>> 
>> Howdy, I'm going to start augmenting ANTLR v3 significantly to create v4. The goal is backward compatibility; any new functionality, of course, will require altering or augmenting your grammars to take advantage of it. Here is my potential list of updates:
>> 
>> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>> 
>> Anything to add or comment on?
>> 
>> Ter
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From Philip.Moetteli at tele2.ch  Tue Mar 22 15:51:08 2011
From: Philip.Moetteli at tele2.ch (=?iso-8859-1?Q?Philip_M=F6tteli?=)
Date: Tue, 22 Mar 2011 23:51:08 +0100
Subject: [antlr-interest] Nobody can tell me,
 what "mismatched arguments on these templates" means?
Message-ID: <C028248B-2B8A-4585-8858-8673B0AB47DC@tele2.ch>

Hello,


I have a grammar, for which I can generate code in ANTLRWorks, if I say

	Language=C;

If I change it to

	Language=ObjC;

then, I get the following error:

> Cannot generate the grammar because:
> error(10): internal error: group ObjC does not satisfy interface ANTLRCore: mismatched arguments on these templates [lexerStringRef(string, label, elementIndex)]


How can I correct that?


Please help me


From jimi at temporal-wave.com  Tue Mar 22 15:58:37 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Tue, 22 Mar 2011 15:58:37 -0700
Subject: [antlr-interest] Nobody can tell me,
 what "mismatched arguments on these templates" means?
In-Reply-To: <C028248B-2B8A-4585-8858-8673B0AB47DC@tele2.ch>
References: <C028248B-2B8A-4585-8858-8673B0AB47DC@tele2.ch>
Message-ID: <a86d37d488c29b0f17787fbcbceb8e53@mail.gmail.com>

You can't I think. I believe that the ObjC target you are trying to use is
out of date. There is a new one though :-), but I am not sure if we have
it available yet. Ter?

JIm

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Philip M?tteli
> Sent: Tuesday, March 22, 2011 3:51 PM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] Nobody can tell me, what "mismatched
> arguments on these templates" means?
> Importance: Low
>
> Hello,
>
>
> I have a grammar, for which I can generate code in ANTLRWorks, if I say
>
> 	Language=C;
>
> If I change it to
>
> 	Language=ObjC;
>
> then, I get the following error:
>
> > Cannot generate the grammar because:
> > error(10): internal error: group ObjC does not satisfy interface
> ANTLRCore: mismatched arguments on these templates
> [lexerStringRef(string, label, elementIndex)]
>
>
> How can I correct that?
>
>
> Please help me
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From jbb at acm.org  Tue Mar 22 16:28:36 2011
From: jbb at acm.org (John B. Brodie)
Date: Tue, 22 Mar 2011 19:28:36 -0400
Subject: [antlr-interest] Imaginary Node Constructor T[token-ref,
 "text"] throws error: missing attribute access on rule scope:
 token-ref
In-Reply-To: <AANLkTik7LURVUe=3wJhc_LTHXqVwQOCrwvUoyZnAT6di@mail.gmail.com>
References: <AANLkTi=QyaVJobai+0FJuKQYMMqg0aDTEEDM1VkmVGx8@mail.gmail.com>
	<1300828452.3276.2.camel@gecko>
	<AANLkTik7LURVUe=3wJhc_LTHXqVwQOCrwvUoyZnAT6di@mail.gmail.com>
Message-ID: <1300836516.32333.3.camel@gecko>

On Tue, 2011-03-22 at 17:21 -0400, The Researcher wrote:
> On Tue, Mar 22, 2011 at 5:14 PM, John B. Brodie <jbb at acm.org> wrote:
> 
> >  On Tue, 2011-03-22 at 16:46 -0400, The Researcher wrote:
> > > FYI
> > >
> > > In using Imaginary Node Constructor  T[token-ref,"text"]  as documented
> > in
> > > "The Definitive ANTLR Reference" pg. 176,
> > > the error  "missing attribute access on rule scope: token-ref"  was
> > given.
> > >
> > > I was able to use  T["text"] as documented  in
> > > http://www.antlr.org/wiki/display/ANTLR3/Tree+construction.
> > >
> > > I used the bug report for another bug a few days ago, but never saw it
> > added
> > > to the bug list, so I am using the interest list here instead.
> > >
> >
> > you need a $ on the token ref. see the example on pg. 176. e.g. this:
> >
> > compoundStatement
> >  : lc='[' statement* '}' -> ^(SLIST[$lc] statemment *)
> >  ;
> >
> >
> >
> > John,
> 
> Thanks. I did. Here is the error and working text
> 
> Error:
> 
> byteExp = offsetAndOrSizeExpression
> -> ^(OffsetAndOrSize ^(ByteValue $byteExp) ^(BitValue
> IntegerLiteral[$byteExp,"0"]))
> 
> Working:
> 
>  byteExp = offsetAndOrSizeExpression
> -> ^(OffsetAndOrSize ^(ByteValue $byteExp) ^(BitValue IntegerLiteral["0"]))

offestAndOrSizeExpression is not a token! so byteExp is not a token
reference...

> 
> Eric
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address




From jbb at acm.org  Tue Mar 22 16:33:24 2011
From: jbb at acm.org (John B. Brodie)
Date: Tue, 22 Mar 2011 19:33:24 -0400
Subject: [antlr-interest] How to ignore TOKEN in a String
In-Reply-To: <AANLkTik-swYddC0+sTLRAoGRng5Uq=ON2qzrpg0rQ1v-@mail.gmail.com>
References: <AANLkTikpBCKXqRjrw4zi00hi=me1rJ9=csFF_9Z8t9je@mail.gmail.com>
	<1300732561.10290.17.camel@gecko>
	<AANLkTik-swYddC0+sTLRAoGRng5Uq=ON2qzrpg0rQ1v-@mail.gmail.com>
Message-ID: <1300836804.32333.8.camel@gecko>

On Tue, 2011-03-22 at 14:40 -0700, Hiten R wrote:
> John/All
> 
> I followed 'antlr wiki' example but then it stopped working
> completely. Previous way it was complaining about the second line but
> after the change it could not get past the first line 'funny boys are
> Tom Hardy Donald '. 
> 
> Exception
> line 1:0 no viable alternative at input 'funny'
> 
> I am not much familiar with ANTLR but can you give me another example
> or point me to getting quoted string resolved.
> 
> Thx
> Hitender
> 
> BEFORE [ignore caps please]
> start
>   : 'funny' call_funny_parse
>   | 'serious' call_serious_parse
>   ;
> 
> AFTER - ANTLR WIKI [ignore caps please]
> start
>  : lexer_funny
>  | lexer_serious
>  ;
> 
> lexer_funny : {input.LT(1).getText().equals("funny")}?
> call_funny_parse;
> lexer_serious : {input.LT(1).getText().equals("serious")}?
> call_serious_parse;

i have not used token look ahead very much so I am fuzzy about this.

but i think LT(1) looks ahead 1 token without actually consuming any
token. so after your predicate the token stream is still positioned at
the "funny" token so you need to consume it before the call_funny_parse.

something like (very much untested!!!)

start
  : {input.LT(1).getText().equals("funny")}? TOKEN call_funny_parse
  | {input.LT(1).getText().equals("serious")}? TOKEN call_serious_parse
  | /* whatever is appropriate if neither funny nor serious is present*/
;


hope this helps...



From parrt at cs.usfca.edu  Tue Mar 22 16:47:01 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Tue, 22 Mar 2011 16:47:01 -0700
Subject: [antlr-interest] Nobody can tell me,
	what "mismatched arguments on these templates" means?
In-Reply-To: <C028248B-2B8A-4585-8858-8673B0AB47DC@tele2.ch>
References: <C028248B-2B8A-4585-8858-8673B0AB47DC@tele2.ch>
Message-ID: <03C59743-180C-4146-B474-0EEE239F7E09@cs.usfca.edu>

Are you using 3.3 ANTLR?
Ter
On Mar 22, 2011, at 3:51 PM, Philip M?tteli wrote:

> Hello,
> 
> 
> I have a grammar, for which I can generate code in ANTLRWorks, if I say
> 
> 	Language=C;
> 
> If I change it to
> 
> 	Language=ObjC;
> 
> then, I get the following error:
> 
>> Cannot generate the grammar because:
>> error(10): internal error: group ObjC does not satisfy interface ANTLRCore: mismatched arguments on these templates [lexerStringRef(string, label, elementIndex)]
> 
> 
> How can I correct that?
> 
> 
> Please help me
> 
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From jimi at temporal-wave.com  Tue Mar 22 16:54:28 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Tue, 22 Mar 2011 16:54:28 -0700
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <C9AEE499.E84DE%ruslan_zasukhin@valentina-db.com>
References: <8dfd6f554394c8d625c4815095499f74@mail.gmail.com>
	<C9AEE499.E84DE%ruslan_zasukhin@valentina-db.com>
Message-ID: <76889a771cb1281292c3b20be32cf4b9@mail.gmail.com>

You can do it the same way in v3, but when you generate the code, ANTLR
will make up token names and you won't be able to write a good error
display routine/handler because you won't know the tokens. You will just
have T23 or something like that, and then you can't do anything
interesting. So, you don't HAVE to, but it is neater when you come to do
certain things.

Jim

> -----Original Message-----
> From: Ruslan Zasukhin [mailto:ruslan_zasukhin at valentina-db.com]
> Sent: Tuesday, March 22, 2011 2:43 PM
> To: Jim Idle; Michail Kropivka
> Cc: antlr-interest at antlr.org
> Subject: Re: [antlr-interest] Q: move from v2 to v3 parser grammar.
> Rewrite tree rule
>
> On 3/22/11 11:27 PM, "Jim Idle" <jimi at temporal-wave.com> wrote:
>
> >>> However, using lower case literals in your parser directly is not a
> >>> good idea.  Use real tokens so that you error messages are better
> >>
> >> Simple example, please?
> >
> > Instead of:
> >
> > rule : 'join' somerule;
> >
> > Use:
> >
> > rule : JOIN somerule;
> >
> > // Lexer rule to match:
> > //
> > JOIN : 'join';
>
>
> Clear.
>
> But this is exactly what was NOT needed in ANTLR v2.
> And ANTLR was proud that we can write tokens directly in grammar.
>
> Collecting all this tokens into Lexer is additional manual work. No?
> Similar to  Lexer :)
>
>
> So for me not clear why this is better now for v3?
>
>
>
>
> ==============
> > And for case insensitivity I specify the token specs all in UPPPER
> > rather than lower and then override the input stream as per:
> >
> > http://www.antlr.org/wiki/pages/viewpage.action?pageId=1782
> >
> > Although someone has added instructions for generating the slowest
> > case insensitive lexers in the world with individual letter rules.
> Use
> > the input stream override method in general.
>
> Yes, we have see this page ...
>
> > Support for case insenstive matching is built in to the C target
> input
> > streams. To use it, you must make a method call before using the
> input
> > stream as in the example below and specify all your keyword/lexer
> > tokens in UPPER CASE only
>
>     JOIN above  is that  UPPER CASE  example?
>
> I ask because   'join'  above still is in low case ...
>
>
>
> --
> Best regards,
>
> Ruslan Zasukhin
> VP Engineering and New Technology
> Paradigma Software, Inc
>
> Valentina - Joining Worlds of Information http://www.paradigmasoft.com
>
> [I feel the need: the need for speed]
>

From researcher0x00 at gmail.com  Tue Mar 22 16:57:09 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Tue, 22 Mar 2011 19:57:09 -0400
Subject: [antlr-interest] Imaginary Node Constructor T[token-ref,
 "text"] throws error: missing attribute access on rule scope:
 token-ref
In-Reply-To: <1300836516.32333.3.camel@gecko>
References: <AANLkTi=QyaVJobai+0FJuKQYMMqg0aDTEEDM1VkmVGx8@mail.gmail.com>
	<1300828452.3276.2.camel@gecko>
	<AANLkTik7LURVUe=3wJhc_LTHXqVwQOCrwvUoyZnAT6di@mail.gmail.com>
	<1300836516.32333.3.camel@gecko>
Message-ID: <AANLkTi=OsOtwqhCoFk+xGAXYAfRw6Guaw-2ZAkgYvyp=@mail.gmail.com>

On Tue, Mar 22, 2011 at 7:28 PM, John B. Brodie <jbb at acm.org> wrote:

>  On Tue, 2011-03-22 at 17:21 -0400, The Researcher wrote:
> > On Tue, Mar 22, 2011 at 5:14 PM, John B. Brodie <jbb at acm.org> wrote:
> >
> > >  On Tue, 2011-03-22 at 16:46 -0400, The Researcher wrote:
> > > > FYI
> > > >
> > > > In using Imaginary Node Constructor  T[token-ref,"text"]  as
> documented
> > > in
> > > > "The Definitive ANTLR Reference" pg. 176,
> > > > the error  "missing attribute access on rule scope: token-ref"  was
> > > given.
> > > >
> > > > I was able to use  T["text"] as documented  in
> > > > http://www.antlr.org/wiki/display/ANTLR3/Tree+construction.
> > > >
> > > > I used the bug report for another bug a few days ago, but never saw
> it
> > > added
> > > > to the bug list, so I am using the interest list here instead.
> > > >
> > >
> > > you need a $ on the token ref. see the example on pg. 176. e.g. this:
> > >
> > > compoundStatement
> > >  : lc='[' statement* '}' -> ^(SLIST[$lc] statemment *)
> > >  ;
> > >
> > >
> > >
> > > John,
> >
> > Thanks. I did. Here is the error and working text
> >
> > Error:
> >
> > byteExp = offsetAndOrSizeExpression
> > -> ^(OffsetAndOrSize ^(ByteValue $byteExp) ^(BitValue
> > IntegerLiteral[$byteExp,"0"]))
> >
> > Working:
> >
> >  byteExp = offsetAndOrSizeExpression
> > -> ^(OffsetAndOrSize ^(ByteValue $byteExp) ^(BitValue
> IntegerLiteral["0"]))
>
> offestAndOrSizeExpression is not a token! so byteExp is not a token
> reference...
>

  How true.  Thanks

After looking at the book i.e. pg. 176, should it be

  T                                 adaptor.create(token-ref)
T["text"]                      adaptor.create(T, "text")
T[token ref]                adaptor.create(T, token-ref)
T[token-ref, "text"]     adaptor.create(T, token-ref, "text")

This was not in the errata. http://pragprog.com/titles/tpantlr/errata

Thanks, Eric

>
> >
> > Eric
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>
>
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From researcher0x00 at gmail.com  Tue Mar 22 17:48:06 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Tue, 22 Mar 2011 20:48:06 -0400
Subject: [antlr-interest] Phases of tree rewriting; is there any Zen to this?
Message-ID: <AANLkTikC3F1vrR-xUmjeoBN1LQjmNRjdtvwYjzn=v=j0@mail.gmail.com>

I am getting ready to refine my transformations, and currently have three
phases but each phase has no particular purpose other than to allow me to do
transformations that I could not figure out how to do combined with a
previous phase, or to keep me from making silly mistakes because the
transformations would be to confusing to read if done in one phase. Also
left is the error checking and recovery.

 I just wanted to know if there is some standard to achieve, or words of
wisdom?

Multiple answers are welcome.

Thanks

Eric

From gary at sumwise.com  Tue Mar 22 18:19:53 2011
From: gary at sumwise.com (Gary Miller)
Date: Wed, 23 Mar 2011 12:19:53 +1100
Subject: [antlr-interest] antlr v4 wish list
Message-ID: <AANLkTikWNb3B_B5pd5h=HRYWvYw40wYom+JG=so+rc5S@mail.gmail.com>

Terence,

As I have mentioned I'm newish to Antlr.
I think that means that only now I'm starting to do things the "proper" way.

Here are a couple of items that I would have on a wish list.
Please let me know which of them are simply from a newbee perspective
and just ignore the one that are already on the wish list.

- Access to override rules, particularly in tree grammars.
  As discussed in
http://www.antlr.org/pipermail/antlr-interest/2011-March/041052.html

- The ability to have actions on the right side of an ast re-write operator.
  I remember this confusing me as the same syntax is used for actions
and Creating Nodes with Arbitrary Actions, but they have different
sematics
  An example of using this would allow for collecting symbols during
parsing or action during tree walking with AST output or rewriting.

- A different rule @init that only executes during when not backtracking.

- The ability to detect / work with an empty scope.
  Currently attempts to access an empty scope throws a stack exception (in Java)

- Lexing (this is still the most confusing aspect of parsing for me)
  - Case insensitive lexing.
    I know this is possible, and I currently do with info from
http://www.antlr.org/wiki/pages/viewpage.action?pageId=1782

  - Block lexing options, ala Jyhton's PythonTokenSource and lexer in Python.g

  - The ability to dynamically change the channel tokens go to
      or
    The ability tack hidden token to the end of the last visible token.


Regards
Gary


On Wed, Mar 23, 2011 at 8:21 AM, Gary Miller <gary at sumwise.com> wrote:
> Terence,
>
> The ANTLR4 Wiki isn't publicly accessible.
>
> Regards
> Gary
>
>> Date: Tue, 22 Mar 2011 10:45:48 -0700
>> From: Terence Parr <parrt at cs.usfca.edu>
>> Subject: [antlr-interest] antlr v4 wish list
>> To: antlr-interest Interest <antlr-interest at antlr.org>
>> Message-ID: <F8A011FA-9DBE-4024-8982-2D9EC66849E9 at cs.usfca.edu>
>> Content-Type: text/plain; charset=us-ascii
>>
>> Howdy, I'm going to start augmenting ANTLR v3 significantly to create v4. The goal is backward compatibility; any new functionality, of course, will require altering or augmenting your grammars to take advantage of it. Here is my potential list of updates:
>>
>> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>>
>> Anything to add or comment on?
>>
>> Ter
>

From antlr3 at gmail.com  Tue Mar 22 19:25:19 2011
From: antlr3 at gmail.com (Hiten R)
Date: Tue, 22 Mar 2011 19:25:19 -0700
Subject: [antlr-interest] How to ignore TOKEN in a String
In-Reply-To: <1300836804.32333.8.camel@gecko>
References: <AANLkTikpBCKXqRjrw4zi00hi=me1rJ9=csFF_9Z8t9je@mail.gmail.com>
	<1300732561.10290.17.camel@gecko>
	<AANLkTik-swYddC0+sTLRAoGRng5Uq=ON2qzrpg0rQ1v-@mail.gmail.com>
	<1300836804.32333.8.camel@gecko>
Message-ID: <AANLkTik9hVG+JDOqEqcej617f60MUSFWbvmSqDC2N5e0@mail.gmail.com>

John/All

TOKEN solved the problem you mentioned but I am still stuck with the
original issue.

It still barfs when it encounters reserved word 'funny' in a sentence
[debugged it] and that leads to unsuccessful transfer of value to String aa.


Do you have any suggestion?

Thanks
Hitender

//grammar
@init {
  String aa;
}

funnyT=TOKEN { aa = $funnyT.text; }

//generated code
funnyT=(Token)match(input,TOKEN,FOLLOW_TOKEN_in_acl472);
String aa = (funnyT!=null?funnyT.getText():null);

From maulattu at yahoo.it  Wed Mar 23 02:41:22 2011
From: maulattu at yahoo.it (maulattu)
Date: Wed, 23 Mar 2011 09:41:22 +0000 (GMT)
Subject: [antlr-interest] Grammar issue
In-Reply-To: <efb94695a0a14b4f1c9dbf5d7f0c5952@mail.gmail.com>
References: <177462.54488.qm@web26008.mail.ukl.yahoo.com>
	<4D81F7FB.7020900@googlemail.com>
	<490445.8051.qm@web26001.mail.ukl.yahoo.com>
	<efb94695a0a14b4f1c9dbf5d7f0c5952@mail.gmail.com>
Message-ID: <284582.98007.qm@web26002.mail.ukl.yahoo.com>

Ok Jim, let me understand if I'm missing something with a short example.
Take this little section of the grammar

parameter_with_index
    : parameterName = 'PARAM_' parameterIndex '=' numericLiteral
    ;


It shall be changed to

parameter_with_index
    : parameterNameLiteral  parameterIndex separator numericLiteral
    ;
parameterNameLiteral
    :    PARAM_TOKEN
    ;
separator
    :    SEPARATOR_TOKEN
    ;
SEPARATOR_TOKEN
    :    '='
    ;
PARAM_TOKEN
    :    'PARAM_'
    ;

is it right?

Thank you all for your precious suggestions :)





________________________________
Da: Jim Idle <jimi at temporal-wave.com>
A: antlr-interest at antlr.org
Inviato: Lun 21 marzo 2011, 16:25:29
Oggetto: Re: [antlr-interest] Grammar issue

Take the 'literals' out of the parser and create real lexer tokens that
are declared before the other, more general tokens.

Using literals in the parser confuses you and will also make error
handling and tree walking more difficult.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of maulattu
> Sent: Monday, March 21, 2011 1:53 AM
> To: antlr-interest at antlr.org
> Subject: Re: [antlr-interest] Grammar issue
>
> Hi all,
> for a matter of convenience I didn't write here all the rules for white
> spaces and so on, but I've them in order to skip white spaces, tab, \r,
> \n and so on.
> It seems the lexer recognize as "textLiteral" the parameter names
> (i.e.:
> "VARIABLE" and "MESSAGE_").
>
> Any suggestions?
>
> Thank you all :)
>
>
> /*----------------------------------------*/
> parametersList
>   : parametersDeclaration+ EOF
>   ;
>
> parametersDeclaration
>   : parameter_with_index /* like PARAM_1 above*/
>   | paramemter_without_index /* like VARIABILE above */
>   ;
>
> parameter_with_index
>   : parameterName = 'PARAM_' parameterIndex '=' numericLiteral
>   | parameterName = 'MESSAGE_' parameterIndex '=' textLiteral
>   ;
>
> paramemter_without_index
>   : parameterName = 'VARIABLE' '=' textLiteral
>   ;
> /*----------------------------------------*/
> parameterIndex
>   : DECIMAL_LITERAL
>   ;
>
> numericLiteral
>   :  HEX_LITERAL
>   |  DECIMAL_LITERAL
>   ;
>
> textLiteral
>   : TEXT_LITERAL
>   ;
>
> HEX_LITERAL
>   : '0' ('x' | 'X') HEX_DIGIT+
>   ;
>
> DECIMAL_LITERAL
>   : '0' | '1'..'9' '0'..'9'*
>   ;
> /*----------------------------------------*/
> fragment
> TEXT_LITERAL
>   : LETTER (LETTER | '0'..'9')*
>   ;
>
> fragment
> HEX_DIGIT
>   : ('0'..'9' | 'a'..'f' | 'A'..'F')
>   ;
>
> fragment
> LETTER
>   : 'A'..'Z'
>   | 'a'..'z'
>   | '_'
>   | '+'
>   ;
>
>
>
>
> ________________________________
> Da: Stephen Tuttlebee <themightystephen at googlemail.com>
> A: antlr-interest at antlr.org
> Inviato: Gio 17 marzo 2011, 13:00:59
> Oggetto: Re: [antlr-interest] Grammar issue
>
> Hi
>
> Is not the failure to parse:
>      MESSAGE_1 = this is a message
> due to the whitespace between the words in the string following the
> equals sign?
>
> Do you have a whitespace lexer rule (often called WS)? I suspect the
> parser is failing due to the fact that it parses up to 'MESSAGE_1 =
> this' just fine but then after that point it is expecting another
> 'parametersDeclaration' to follow, for which the remaining input 'is a
> message' would not have any rules that matches it (the parser would be
> expecting one of three things next, either 'PARAM_', 'MESSAGE_' or
> 'VARIABLE').
>
> I'm not an expert on ANTLR, but I think that might be your problem.
>
> Thanks
> Stephen
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>
>
>
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

List: http://www.antlr.org/mailman/listinfo/antlr-interest
Unsubscribe: 
http://www.antlr.org/mailman/options/antlr-interest/your-email-address



      

From ranco.marcus at epirion.nl  Wed Mar 23 04:39:53 2011
From: ranco.marcus at epirion.nl (Ranco Marcus)
Date: Wed, 23 Mar 2011 11:39:53 +0000
Subject: [antlr-interest] [CSharp3] rule visibility in composite grammars
Message-ID: <2B65C901391C804DBB9CF9E6FE30C6F95608DE64@sun.epirion.local>

Hi all/Sam,

While using the CSharp3 target on a composite grammar, I came across a few issues regarding rule visibility.

If no modifier (private, protected, public, ...) is specified for a rule, the Java target generates public methods (since it is not implemented IIRC) and the CSharp3 target generates private methods.

I like the idea to explicitly specify which rules are callable (by making them public). However, for composite grammars the generated parser contains delegate rules for every rule of the imported grammar, even for rules in the imported grammar that aren't public (causing compile errors). This can solved this adding a public modifier to every rule of the imported grammar, but I was wondering if there's a more convenient way of doing this.

Furthermore, the methods for the delegate rules in the composite grammars are all public, regardless of the visibility of the rule in the imported grammar. IMHO, it would be better to make them private and use the composite grammar to explicitly specify the rules that are externally visible. What are your thoughts on this?

Btw, the CSharp3 templates are also included in the original Java tool. Does that mean that we don't need the .NET version of the tool anymore?


Best regards,

Ranco Marcus
Epirion Knowledge Solutions B.V.


From ruslan_zasukhin at valentina-db.com  Wed Mar 23 05:41:05 2011
From: ruslan_zasukhin at valentina-db.com (Ruslan Zasukhin)
Date: Wed, 23 Mar 2011 14:41:05 +0200
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <76889a771cb1281292c3b20be32cf4b9@mail.gmail.com>
Message-ID: <C9AFB701.E85AE%ruslan_zasukhin@valentina-db.com>

On 3/23/11 1:54 AM, "Jim Idle" <jimi at temporal-wave.com> wrote:

Hi Jim,

> You can do it the same way in v3, but when you generate the code, ANTLR
> will make up token names and you won't be able to write a good error
> display routine/handler because you won't know the tokens. You will just
> have T23 or something like that, and then you can't do anything
> interesting. So, you don't HAVE to, but it is neater when you come to do
> certain things.

Aha, I see.
Yes we have see that T23 a lots in generated code ..


Interesting ... In v2 names of tokens was shown correctly
Right?


In v3 probably was some changes in architecture,
Which prevent from this nice automatic feature ..


Hmm. Actually it is not good, when a newer version loose nice features.
:-)

Again, thank you very much Jim for points.



==========
Before click SEND button have come strange [and OPTIONAL] question to mind.

If v3 was designed to support old AST operators ^ !
And new re-write rules (ok for new)

But why was trashed feature of  ## = (IMAGE_TOKEN, ##) ?
    picture is broken.
    two operators self cannot resolve all tasks ..


If it was not touched, then porting was much easier I think.

Or I do not see big idea behind of this step?


-- 
Best regards,

Ruslan Zasukhin
VP Engineering and New Technology
Paradigma Software, Inc

Valentina - Joining Worlds of Information
http://www.paradigmasoft.com

[I feel the need: the need for speed]



From sharwell at pixelminegames.com  Wed Mar 23 06:42:47 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Wed, 23 Mar 2011 08:42:47 -0500
Subject: [antlr-interest] [CSharp3] rule visibility in composite grammars
In-Reply-To: <2B65C901391C804DBB9CF9E6FE30C6F95608DE64@sun.epirion.local>
References: <2B65C901391C804DBB9CF9E6FE30C6F95608DE64@sun.epirion.local>
Message-ID: <03cc01cbe960$330292d0$9907b870$@pixelminegames.com>

Hi Ranco,

I'll add a simple delegate grammar example to the tests I use here and find
a way to make it work. :)

If you are using Visual Studio (or MSBuild in particular, which is the
standard VS build system), then you'll definitely want to use the C# port of
the tool. I highly recommend this route because it's both easy to work with
and doesn't prod you to check your generated grammar files into source
control. While the following documentation makes specific references to
Visual Studio 2010, everything except section 1.1 (the IDE language support
package) applies equally to Visual Studio 2008.
http://www.antlr.org/wiki/display/ANTLR3/Antlr3CSharpReleases

Thanks,
Sam

-----Original Message-----
From: antlr-interest-bounces at antlr.org
[mailto:antlr-interest-bounces at antlr.org] On Behalf Of Ranco Marcus
Sent: Wednesday, March 23, 2011 6:40 AM
To: antlr-interest at antlr.org
Subject: [antlr-interest] [CSharp3] rule visibility in composite grammars

Hi all/Sam,

While using the CSharp3 target on a composite grammar, I came across a few
issues regarding rule visibility.

If no modifier (private, protected, public, ...) is specified for a rule,
the Java target generates public methods (since it is not implemented IIRC)
and the CSharp3 target generates private methods.

I like the idea to explicitly specify which rules are callable (by making
them public). However, for composite grammars the generated parser contains
delegate rules for every rule of the imported grammar, even for rules in the
imported grammar that aren't public (causing compile errors). This can
solved this adding a public modifier to every rule of the imported grammar,
but I was wondering if there's a more convenient way of doing this.

Furthermore, the methods for the delegate rules in the composite grammars
are all public, regardless of the visibility of the rule in the imported
grammar. IMHO, it would be better to make them private and use the composite
grammar to explicitly specify the rules that are externally visible. What
are your thoughts on this?

Btw, the CSharp3 templates are also included in the original Java tool. Does
that mean that we don't need the .NET version of the tool anymore?


Best regards,

Ranco Marcus
Epirion Knowledge Solutions B.V.


List: http://www.antlr.org/mailman/listinfo/antlr-interest
Unsubscribe:
http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From cummings at kjchome.homeip.net  Wed Mar 23 07:36:13 2011
From: cummings at kjchome.homeip.net (Kevin J. Cummings)
Date: Wed, 23 Mar 2011 10:36:13 -0400
Subject: [antlr-interest] Grammar issue
In-Reply-To: <284582.98007.qm@web26002.mail.ukl.yahoo.com>
References: <177462.54488.qm@web26008.mail.ukl.yahoo.com>
	<4D81F7FB.7020900@googlemail.com>	<490445.8051.qm@web26001.mail.ukl.yahoo.com>
	<efb94695a0a14b4f1c9dbf5d7f0c5952@mail.gmail.com>
	<284582.98007.qm@web26002.mail.ukl.yahoo.com>
Message-ID: <4D8A055D.5040900@kjchome.homeip.net>

On 03/23/2011 05:41 AM, maulattu wrote:
> Ok Jim, let me understand if I'm missing something with a short example.
> Take this little section of the grammar
> 
> parameter_with_index
>     : parameterName = 'PARAM_' parameterIndex '=' numericLiteral
>     ;
> 
> 
> It shall be changed to
> 
> parameter_with_index
>     : parameterNameLiteral  parameterIndex separator numericLiteral
>     ;
> parameterNameLiteral
>     :    PARAM_TOKEN
>     ;
> separator
>     :    SEPARATOR_TOKEN
>     ;
> SEPARATOR_TOKEN
>     :    '='
>     ;
> PARAM_TOKEN
>     :    'PARAM_'
>     ;
> 
> is it right?

No,

prameter_with_index
	: PARAM_TOKEN parameterIndex SEPERATOR_TOKEN numericLiteral
	;

PARAM_TOKEN
	: 'PARAM_'
	;

SEPERATOR_TOKEN
	: '='
	;

should be sufficient.  No need for the extra 2 rules.

> Thank you all for your precious suggestions :)

-- 
Kevin J. Cummings
kjchome at verizon.net
cummings at kjchome.homeip.net
cummings at kjc386.framingham.ma.us
Registered Linux User #1232 (http://counter.li.org)

From cummings at kjchome.homeip.net  Wed Mar 23 07:37:27 2011
From: cummings at kjchome.homeip.net (Kevin J. Cummings)
Date: Wed, 23 Mar 2011 10:37:27 -0400
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <C9AFB701.E85AE%ruslan_zasukhin@valentina-db.com>
References: <C9AFB701.E85AE%ruslan_zasukhin@valentina-db.com>
Message-ID: <4D8A05A7.8050209@kjchome.homeip.net>

On 03/23/2011 08:41 AM, Ruslan Zasukhin wrote:
> On 3/23/11 1:54 AM, "Jim Idle" <jimi at temporal-wave.com> wrote:
> 
> Hi Jim,
> 
>> You can do it the same way in v3, but when you generate the code, ANTLR
>> will make up token names and you won't be able to write a good error
>> display routine/handler because you won't know the tokens. You will just
>> have T23 or something like that, and then you can't do anything
>> interesting. So, you don't HAVE to, but it is neater when you come to do
>> certain things.
> 
> Aha, I see.
> Yes we have see that T23 a lots in generated code ..
> 
> 
> Interesting ... In v2 names of tokens was shown correctly
> Right?

IIRC, the names of tokens literals in V2 had a "Literal_" prefix in
their names....

> In v3 probably was some changes in architecture,
> Which prevent from this nice automatic feature ..
> 
> 
> Hmm. Actually it is not good, when a newer version loose nice features.
> :-)
> 
> Again, thank you very much Jim for points.
> 
> 
> 
> ==========
> Before click SEND button have come strange [and OPTIONAL] question to mind.
> 
> If v3 was designed to support old AST operators ^ !
> And new re-write rules (ok for new)
> 
> But why was trashed feature of  ## = (IMAGE_TOKEN, ##) ?
>     picture is broken.
>     two operators self cannot resolve all tasks ..
> 
> 
> If it was not touched, then porting was much easier I think.
> 
> Or I do not see big idea behind of this step?
> 
> 


-- 
Kevin J. Cummings
kjchome at verizon.net
cummings at kjchome.homeip.net
cummings at kjc386.framingham.ma.us
Registered Linux User #1232 (http://counter.li.org)

From cormier at u-picardie.fr  Wed Mar 23 08:04:54 2011
From: cormier at u-picardie.fr (Christian CORMIER)
Date: Wed, 23 Mar 2011 16:04:54 +0100
Subject: [antlr-interest] help for URL grammar
In-Reply-To: <804e4fa3f7c010d71eb20e32279454b8@mail.gmail.com>
References: <6298E9B0-5133-4193-AEA8-26D93EE6A4E8@u-picardie.fr>
	<804e4fa3f7c010d71eb20e32279454b8@mail.gmail.com>
Message-ID: <05CF1974-5AE3-41CE-B891-9B201438B55F@u-picardie.fr>

Hi,
Right, with debugger and minor changes. Thanks a lot.
Regards
Le 22 mars 11 ? 17:07, Jim Idle a ?crit :

> Use the debugger, not the interpreter, then if it does not work you  
> can
> find out why. It might well be just the interpreter that cannot run  
> that
> grammar.
>
> Jim
>
>> -----Original Message-----
>> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
>> bounces at antlr.org] On Behalf Of Christian CORMIER
>> Sent: Tuesday, March 22, 2011 12:50 AM
>> To: antlr-interest at antlr.org
>> Subject: [antlr-interest] help for URL grammar
>>
>> Hi,
>> I test https://github.com/yaojingguo/antlr-url-grammar.
>> domainlabel: alphanum ((alphanum | '-')* alphanum)?; don't recognize
>> something like www.u-picardie.fr using interpreter of last version of
>> ANTLRworks (1.4.2) But for www.uu-picardie.fr is OK.
>> Regards
>> Christian CORMIER
>>
>>
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/ 
>> your-
>> email-address
>

From jimi at temporal-wave.com  Wed Mar 23 08:13:04 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Wed, 23 Mar 2011 08:13:04 -0700
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <AANLkTikWNb3B_B5pd5h=HRYWvYw40wYom+JG=so+rc5S@mail.gmail.com>
References: <AANLkTikWNb3B_B5pd5h=HRYWvYw40wYom+JG=so+rc5S@mail.gmail.com>
Message-ID: <5ed3307fd63acf5ec98cdff46dd37ab7@mail.gmail.com>

Gary,

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Gary Miller
> - The ability to have actions on the right side of an ast re-write
> operator.

r: ( alt -> ^(X alt) ) {action} ;


> - A different rule @init that only executes during when not
> backtracking.
>
> - The ability to detect / work with an empty scope.
>   Currently attempts to access an empty scope throws a stack exception
> (in Java)

That's deliberate as it means you have your scope in the wrong place.
Getting to an empty scope is a bug in your grammar and you need it to
abort straight away so that you know how you got there.


Jim

From ruslan_zasukhin at valentina-db.com  Wed Mar 23 08:12:51 2011
From: ruslan_zasukhin at valentina-db.com (Ruslan Zasukhin)
Date: Wed, 23 Mar 2011 17:12:51 +0200
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <4D8A05A7.8050209@kjchome.homeip.net>
Message-ID: <C9AFDA93.E85E5%ruslan_zasukhin@valentina-db.com>

On 3/23/11 4:37 PM, "Kevin J. Cummings" <cummings at kjchome.homeip.net> wrote:

>>> You can do it the same way in v3, but when you generate the code, ANTLR
>>> will make up token names and you won't be able to write a good error
>>> display routine/handler because you won't know the tokens. You will just
>>> have T23 or something like that, and then you can't do anything
>>> interesting. So, you don't HAVE to, but it is neater when you come to do
>>> certain things.
>> 
>> Aha, I see.
>> Yes we have see that T23 a lots in generated code ..
>> 
>> 
>> Interesting ... In v2 names of tokens was shown correctly
>> Right?
> 
> IIRC, the names of tokens literals in V2 had a "Literal_" prefix in
> their names....

Yes, in C++ code ... Yes

But in the error messages was quite correct names of tokens ... It seems
For example 
        expected "from"



-- 
Best regards,

Ruslan Zasukhin
VP Engineering and New Technology
Paradigma Software, Inc

Valentina - Joining Worlds of Information
http://www.paradigmasoft.com

[I feel the need: the need for speed]



From jimi at temporal-wave.com  Wed Mar 23 09:03:25 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Wed, 23 Mar 2011 09:03:25 -0700
Subject: [antlr-interest] Grammar issue
In-Reply-To: <284582.98007.qm@web26002.mail.ukl.yahoo.com>
References: <177462.54488.qm@web26008.mail.ukl.yahoo.com>	<4D81F7FB.7020900@googlemail.com>
	<490445.8051.qm@web26001.mail.ukl.yahoo.com>	<efb94695a0a14b4f1c9dbf5d7f0c5952@mail.gmail.com>
	<284582.98007.qm@web26002.mail.ukl.yahoo.com>
Message-ID: <8014c51a12c9183ab2be8366be49600b@mail.gmail.com>

Pretty much the right idea, but you don't need to create all those
non-terminal rules when you just have the single token, you can just do
this:

parameterWithIndex
 : PARAM parameterIndex SEPARATOR EQ NUMBER;

PARAM : '_PARAM' ;
EQ    : '='	;
NUMBER : ('0'..'9')+ ;

Jim


> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of maulattu
> Sent: Wednesday, March 23, 2011 2:41 AM
> To: antlr-interest at antlr.org
> Subject: Re: [antlr-interest] Grammar issue
>
> Ok Jim, let me understand if I'm missing something with a short
> example.
> Take this little section of the grammar
>
> parameter_with_index
>     : parameterName = 'PARAM_' parameterIndex '=' numericLiteral
>     ;
>
>
> It shall be changed to
>
> parameter_with_index
>     : parameterNameLiteral  parameterIndex separator numericLiteral
>     ;
> parameterNameLiteral
>     :    PARAM_TOKEN
>     ;
> separator
>     :    SEPARATOR_TOKEN
>     ;
> SEPARATOR_TOKEN
>     :    '='
>     ;
> PARAM_TOKEN
>     :    'PARAM_'
>     ;
>
> is it right?
>
> Thank you all for your precious suggestions :)
>
>
>
>
>
> ________________________________
> Da: Jim Idle <jimi at temporal-wave.com>
> A: antlr-interest at antlr.org
> Inviato: Lun 21 marzo 2011, 16:25:29
> Oggetto: Re: [antlr-interest] Grammar issue
>
> Take the 'literals' out of the parser and create real lexer tokens that
> are declared before the other, more general tokens.
>
> Using literals in the parser confuses you and will also make error
> handling and tree walking more difficult.
>
> Jim
>
> > -----Original Message-----
> > From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> > bounces at antlr.org] On Behalf Of maulattu
> > Sent: Monday, March 21, 2011 1:53 AM
> > To: antlr-interest at antlr.org
> > Subject: Re: [antlr-interest] Grammar issue
> >
> > Hi all,
> > for a matter of convenience I didn't write here all the rules for
> > white spaces and so on, but I've them in order to skip white spaces,
> > tab, \r, \n and so on.
> > It seems the lexer recognize as "textLiteral" the parameter names
> > (i.e.:
> > "VARIABLE" and "MESSAGE_").
> >
> > Any suggestions?
> >
> > Thank you all :)
> >
> >
> > /*----------------------------------------*/
> > parametersList
> >   : parametersDeclaration+ EOF
> >   ;
> >
> > parametersDeclaration
> >   : parameter_with_index /* like PARAM_1 above*/
> >   | paramemter_without_index /* like VARIABILE above */
> >   ;
> >
> > parameter_with_index
> >   : parameterName = 'PARAM_' parameterIndex '=' numericLiteral
> >   | parameterName = 'MESSAGE_' parameterIndex '=' textLiteral
> >   ;
> >
> > paramemter_without_index
> >   : parameterName = 'VARIABLE' '=' textLiteral
> >   ;
> > /*----------------------------------------*/
> > parameterIndex
> >   : DECIMAL_LITERAL
> >   ;
> >
> > numericLiteral
> >   :  HEX_LITERAL
> >   |  DECIMAL_LITERAL
> >   ;
> >
> > textLiteral
> >   : TEXT_LITERAL
> >   ;
> >
> > HEX_LITERAL
> >   : '0' ('x' | 'X') HEX_DIGIT+
> >   ;
> >
> > DECIMAL_LITERAL
> >   : '0' | '1'..'9' '0'..'9'*
> >   ;
> > /*----------------------------------------*/
> > fragment
> > TEXT_LITERAL
> >   : LETTER (LETTER | '0'..'9')*
> >   ;
> >
> > fragment
> > HEX_DIGIT
> >   : ('0'..'9' | 'a'..'f' | 'A'..'F')
> >   ;
> >
> > fragment
> > LETTER
> >   : 'A'..'Z'
> >   | 'a'..'z'
> >   | '_'
> >   | '+'
> >   ;
> >
> >
> >
> >
> > ________________________________
> > Da: Stephen Tuttlebee <themightystephen at googlemail.com>
> > A: antlr-interest at antlr.org
> > Inviato: Gio 17 marzo 2011, 13:00:59
> > Oggetto: Re: [antlr-interest] Grammar issue
> >
> > Hi
> >
> > Is not the failure to parse:
> >      MESSAGE_1 = this is a message
> > due to the whitespace between the words in the string following the
> > equals sign?
> >
> > Do you have a whitespace lexer rule (often called WS)? I suspect the
> > parser is failing due to the fact that it parses up to 'MESSAGE_1 =
> > this' just fine but then after that point it is expecting another
> > 'parametersDeclaration' to follow, for which the remaining input 'is
> a
> > message' would not have any rules that matches it (the parser would
> be
> > expecting one of three things next, either 'PARAM_', 'MESSAGE_' or
> > 'VARIABLE').
> >
> > I'm not an expert on ANTLR, but I think that might be your problem.
> >
> > Thanks
> > Stephen
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> > http://www.antlr.org/mailman/options/antlr-interest/your-email-
> address
> >
> >
> >
> >
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe: http://www.antlr.org/mailman/options/antlr-
> interest/your-
> > email-address
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>
>
>
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From jimi at temporal-wave.com  Wed Mar 23 09:06:29 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Wed, 23 Mar 2011 09:06:29 -0700
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <C9AFB701.E85AE%ruslan_zasukhin@valentina-db.com>
References: <76889a771cb1281292c3b20be32cf4b9@mail.gmail.com>
	<C9AFB701.E85AE%ruslan_zasukhin@valentina-db.com>
Message-ID: <86dc3e06cc547d968f5ffdff7e410e11@mail.gmail.com>

It is a trade off, as you guess. The features that come with v3 demanded
some changes and sometimes you have to lose a few conveniences. The
lexer/token changes were driven by performance for instance, whereby
copying text in to the token whether you were going to use it or not was a
performance hit.

You will probably see a few other things that may 'annoy' you at first,
but they are changes for good reason :)

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Ruslan Zasukhin
> Sent: Wednesday, March 23, 2011 5:41 AM
> To: antlr-interest at antlr.org
> Subject: Re: [antlr-interest] Q: move from v2 to v3 parser grammar.
> Rewrite tree rule
>
> On 3/23/11 1:54 AM, "Jim Idle" <jimi at temporal-wave.com> wrote:
>
> Hi Jim,
>
> > You can do it the same way in v3, but when you generate the code,
> > ANTLR will make up token names and you won't be able to write a good
> > error display routine/handler because you won't know the tokens. You
> > will just have T23 or something like that, and then you can't do
> > anything interesting. So, you don't HAVE to, but it is neater when
> you
> > come to do certain things.
>
> Aha, I see.
> Yes we have see that T23 a lots in generated code ..
>
>
> Interesting ... In v2 names of tokens was shown correctly Right?
>
>
> In v3 probably was some changes in architecture, Which prevent from
> this nice automatic feature ..
>
>
> Hmm. Actually it is not good, when a newer version loose nice features.
> :-)
>
> Again, thank you very much Jim for points.
>
>
>
> ==========
> Before click SEND button have come strange [and OPTIONAL] question to
> mind.
>
> If v3 was designed to support old AST operators ^ !
> And new re-write rules (ok for new)
>
> But why was trashed feature of  ## = (IMAGE_TOKEN, ##) ?
>     picture is broken.
>     two operators self cannot resolve all tasks ..
>
>
> If it was not touched, then porting was much easier I think.
>
> Or I do not see big idea behind of this step?
>
>
> --
> Best regards,
>
> Ruslan Zasukhin
> VP Engineering and New Technology
> Paradigma Software, Inc
>
> Valentina - Joining Worlds of Information http://www.paradigmasoft.com
>
> [I feel the need: the need for speed]
>
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From antlr3 at gmail.com  Wed Mar 23 09:20:28 2011
From: antlr3 at gmail.com (Hiten R)
Date: Wed, 23 Mar 2011 09:20:28 -0700
Subject: [antlr-interest] Ignore reserved word and treat it as TOKEN
Message-ID: <AANLkTim1kvWR6KVJOQegvkcP8rmS9E8zx7SN1NSbcV=E@mail.gmail.com>

Hi,


Working on this problem for two days and I don`t seem to be any closer than
where I started.


I have defined a combination of reserved words in grammar something like

//grammar
| ?ip? ?route? call_parser_method
| ?some? do_something_else


But when a parser encounters a line ?some other line with ip text? it treats
ip token as a reserved word and it tries to look for a 'route' after ip and
finds 'text'. How do I get around this problem?


Any help would be appreciated.


Thx

Hiten

From jimi at temporal-wave.com  Wed Mar 23 09:38:23 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Wed, 23 Mar 2011 09:38:23 -0700
Subject: [antlr-interest] Ignore reserved word and treat it as TOKEN
In-Reply-To: <AANLkTim1kvWR6KVJOQegvkcP8rmS9E8zx7SN1NSbcV=E@mail.gmail.com>
References: <AANLkTim1kvWR6KVJOQegvkcP8rmS9E8zx7SN1NSbcV=E@mail.gmail.com>
Message-ID: <5f41404b4bcbe1d0b0410449e4c12186@mail.gmail.com>

1) Don't use literals in the parser, create lexer tokens;
2) Replace the use of ID with a non terminal id;
3) Implement as:


rule : KEY id something id SEMI;

id : ID
   | KEY
   | SOME
   | MORE
   | TOKENS
   ;

KEY : 'KEY' ;
etc


Occasionally, this can generate ambiguities which you can solve using k=1
option or a single token predicate:

r2: KEY (id=>id)? KEY KEY SEMI ;

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Hiten R
> Sent: Wednesday, March 23, 2011 9:20 AM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] Ignore reserved word and treat it as TOKEN
>
> Hi,
>
>
> Working on this problem for two days and I don`t seem to be any closer
> than where I started.
>
>
> I have defined a combination of reserved words in grammar something
> like
>
> //grammar
> | 'ip' 'route' call_parser_method
> | 'some' do_something_else
>
>
> But when a parser encounters a line "some other line with ip text" it
> treats ip token as a reserved word and it tries to look for a 'route'
> after ip and finds 'text'. How do I get around this problem?
>
>
> Any help would be appreciated.
>
>
> Thx
>
> Hiten
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From jmurray at aerotech.com  Wed Mar 23 10:26:15 2011
From: jmurray at aerotech.com (Justin Murray)
Date: Wed, 23 Mar 2011 13:26:15 -0400
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
	tree rule
In-Reply-To: <8dfd6f554394c8d625c4815095499f74@mail.gmail.com>
References: <ef840abcead10a834c0619c39da38773@mail.gmail.com>	<C9AEDF41.E84CF%ruslan_zasukhin@valentina-db.com>
	<8dfd6f554394c8d625c4815095499f74@mail.gmail.com>
Message-ID: <6B458D23F5D4A24ABCDB3C78EA97393BED18F7@EXCH-VIRTUAL.aerotechad.com>

Jim,

I have a question regarding your comment on case insensitivity. I have 
been using the "slowest" case insensitive lexer technique, as this is 
the first I have seen a viable alternative (on the page that you linked 
to). The grammar I am working with is a bit strange in that all of the 
keywords in the language are case insensitive, but some rules, such as 
variable names, are case sensitive. My question is, how far reaching is 
the setUcaseLA() function (I am using the C target)? My variable name 
rule accepts both uppercase and lowercase letters, and when I do 
$tok.text->chars, I need to get the string in the original case that was 
entered. So long as that is unaffected, I will be happy to get rid of 
all of my "fragment A : ('A'|'a');" rules.

Thanks,

- Justin

On 3/22/2011 5:27 PM, Jim Idle wrote:
>> -----Original Message-----
>> From: Ruslan Zasukhin [mailto:ruslan_zasukhin at valentina-db.com]
>> Sent: Tuesday, March 22, 2011 2:21 PM
>
>>> However, using lower case literals in your parser directly is not a
>>> good idea.  Use real tokens so that you error messages are better
>> Simple example, please?
> Instead of:
>
> rule : 'join' somerule;
>
> Use:
>
> rule : JOIN somerule;
>
> // Lexer rule to match:
> //
> JOIN : 'join';
>
> And for case insensitivity I specify the token specs all in UPPPER rather
> than lower and then override the input stream as per:
>
> http://www.antlr.org/wiki/pages/viewpage.action?pageId=1782
>
> Although someone has added instructions for generating the slowest case
> insensitive lexers in the world with individual letter rules. Use the
> input stream override method in general.
>
>
>
>>
>>> and remember
>>> that SQL is generally case insensitive so you will need a [trivial]
>>> custom input stream.
>> Of course we do remember this :)
>>
>> And after grammar start to breath, we will yet work on
>> * case-insensitive of SQL text
>> * UTF-16 for input  -- clarify ..
>
> UTF-16 input encoding is just a matter of telling the Java input stream to
> open the file in that encoding.
>
> Jim
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address

From jimi at temporal-wave.com  Wed Mar 23 10:32:06 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Wed, 23 Mar 2011 10:32:06 -0700
Subject: [antlr-interest] Q: move from v2 to v3 parser grammar. Rewrite
 tree rule
In-Reply-To: <6B458D23F5D4A24ABCDB3C78EA97393BED18F7@EXCH-VIRTUAL.aerotechad.com>
References: <ef840abcead10a834c0619c39da38773@mail.gmail.com>
	<C9AEDF41.E84CF%ruslan_zasukhin@valentina-db.com>	<8dfd6f554394c8d625c4815095499f74@mail.gmail.com>
	<6B458D23F5D4A24ABCDB3C78EA97393BED18F7@EXCH-VIRTUAL.aerotechad.com>
Message-ID: <9e3a90a5110b96873104d912e2376ffa@mail.gmail.com>

Check the article as it should tell you this, but it is only the MATCH
that is done in uppercase, and the text for the tokens is taken directly
from the input stream. As you only have a single character to test and not
two for every character position, the lexer is smaller and should be
faster (though with the C target, the compiler can often compile away the
function calls).

The setUCaseLA method is just a convenience that installs an upper case
comparison method. Remember though that the built in one only handles
ASCII, so be careful with other character sets.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Justin Murray
> Sent: Wednesday, March 23, 2011 10:26 AM
> To: antlr-interest at antlr.org
> Subject: Re: [antlr-interest] Q: move from v2 to v3 parser grammar.
> Rewrite tree rule
>
> Jim,
>
> I have a question regarding your comment on case insensitivity. I have
> been using the "slowest" case insensitive lexer technique, as this is
> the first I have seen a viable alternative (on the page that you linked
> to). The grammar I am working with is a bit strange in that all of the
> keywords in the language are case insensitive, but some rules, such as
> variable names, are case sensitive. My question is, how far reaching is
> the setUcaseLA() function (I am using the C target)? My variable name
> rule accepts both uppercase and lowercase letters, and when I do
> $tok.text->chars, I need to get the string in the original case that
> was entered. So long as that is unaffected, I will be happy to get rid
> of all of my "fragment A : ('A'|'a');" rules.
>
> Thanks,
>
> - Justin
>
> On 3/22/2011 5:27 PM, Jim Idle wrote:
> >> -----Original Message-----
> >> From: Ruslan Zasukhin [mailto:ruslan_zasukhin at valentina-db.com]
> >> Sent: Tuesday, March 22, 2011 2:21 PM
> >
> >>> However, using lower case literals in your parser directly is not a
> >>> good idea.  Use real tokens so that you error messages are better
> >> Simple example, please?
> > Instead of:
> >
> > rule : 'join' somerule;
> >
> > Use:
> >
> > rule : JOIN somerule;
> >
> > // Lexer rule to match:
> > //
> > JOIN : 'join';
> >
> > And for case insensitivity I specify the token specs all in UPPPER
> > rather than lower and then override the input stream as per:
> >
> > http://www.antlr.org/wiki/pages/viewpage.action?pageId=1782
> >
> > Although someone has added instructions for generating the slowest
> > case insensitive lexers in the world with individual letter rules.
> Use
> > the input stream override method in general.
> >
> >
> >
> >>
> >>> and remember
> >>> that SQL is generally case insensitive so you will need a [trivial]
> >>> custom input stream.
> >> Of course we do remember this :)
> >>
> >> And after grammar start to breath, we will yet work on
> >> * case-insensitive of SQL text
> >> * UTF-16 for input  -- clarify ..
> >
> > UTF-16 input encoding is just a matter of telling the Java input
> > stream to open the file in that encoding.
> >
> > Jim
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> > http://www.antlr.org/mailman/options/antlr-interest/your-email-
> address
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From kcherr1 at tigers.lsu.edu  Wed Mar 23 10:39:12 2011
From: kcherr1 at tigers.lsu.edu (Kevin Cherry)
Date: Wed, 23 Mar 2011 12:39:12 -0500
Subject: [antlr-interest] Code Generation Concerns
Message-ID: <AANLkTiknFQw5Y=Vh75+cOu94HuwTbxjq7S9aE9_gs+w=@mail.gmail.com>

Maybe this is ANTLR Works doing this, but every time code is generated, the
full file path to my grammar file is displayed in comments throughout the
entire file (i.e. // dir/dir/file.g put in like 50 different places all over
the class definition). I find this both a security and privacy issue if I am
making this code available to other people. Sure I can delete it, but every
time it is regenerated, it comes back. There is also a method created for
the class that returns a string literal with the file path in it. Is there
anyway of telling ANTLR not to do this?
Also, is there any way to change the generated class's visibility from
public to something else?

From jimi at temporal-wave.com  Wed Mar 23 10:55:38 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Wed, 23 Mar 2011 10:55:38 -0700
Subject: [antlr-interest] Code Generation Concerns
In-Reply-To: <AANLkTiknFQw5Y=Vh75+cOu94HuwTbxjq7S9aE9_gs+w=@mail.gmail.com>
References: <AANLkTiknFQw5Y=Vh75+cOu94HuwTbxjq7S9aE9_gs+w=@mail.gmail.com>
Message-ID: <ed93fb5322fc5afc31afbd8cd7ee409c@mail.gmail.com>

Copy the code gen template and take those pieces out.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Kevin Cherry
> Sent: Wednesday, March 23, 2011 10:39 AM
> To: antlr-interest
> Subject: [antlr-interest] Code Generation Concerns
>
> Maybe this is ANTLR Works doing this, but every time code is generated,
> the full file path to my grammar file is displayed in comments
> throughout the entire file (i.e. // dir/dir/file.g put in like 50
> different places all over the class definition). I find this both a
> security and privacy issue if I am making this code available to other
> people. Sure I can delete it, but every time it is regenerated, it
> comes back. There is also a method created for the class that returns a
> string literal with the file path in it. Is there anyway of telling
> ANTLR not to do this?
> Also, is there any way to change the generated class's visibility from
> public to something else?
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From researcher0x00 at gmail.com  Wed Mar 23 11:21:54 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Wed, 23 Mar 2011 14:21:54 -0400
Subject: [antlr-interest] Code Generation Concerns
In-Reply-To: <ed93fb5322fc5afc31afbd8cd7ee409c@mail.gmail.com>
References: <AANLkTiknFQw5Y=Vh75+cOu94HuwTbxjq7S9aE9_gs+w=@mail.gmail.com>
	<ed93fb5322fc5afc31afbd8cd7ee409c@mail.gmail.com>
Message-ID: <AANLkTi=jvVmZ-ZRYsQEd_MMrstdYEMy+OZd+eBLxExit@mail.gmail.com>

On Wed, Mar 23, 2011 at 1:55 PM, Jim Idle <jimi at temporal-wave.com> wrote:

> Copy the code gen template and take those pieces out.
>
> Jim
>
> > -----Original Message-----
> > From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> > bounces at antlr.org] On Behalf Of Kevin Cherry
> > Sent: Wednesday, March 23, 2011 10:39 AM
> > To: antlr-interest
> > Subject: [antlr-interest] Code Generation Concerns
> >
> > Maybe this is ANTLR Works doing this, but every time code is generated,
> > the full file path to my grammar file is displayed in comments
> > throughout the entire file (i.e. // dir/dir/file.g put in like 50
> > different places all over the class definition). I find this both a
> > security and privacy issue if I am making this code available to other
> > people. Sure I can delete it, but every time it is regenerated, it
> > comes back. There is also a method created for the class that returns a
> > string literal with the file path in it. Is there anyway of telling
> > ANTLR not to do this?
> > Also, is there any way to change the generated class's visibility from
> > public to something else?
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> > email-address
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>


Just out of curiosity, but wouldn't an OS symbolic  link satisfy the goal
and save the effort or rewriting a file.?

Eric

From jimi at temporal-wave.com  Wed Mar 23 11:23:34 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Wed, 23 Mar 2011 11:23:34 -0700
Subject: [antlr-interest] Code Generation Concerns
In-Reply-To: <AANLkTi=jvVmZ-ZRYsQEd_MMrstdYEMy+OZd+eBLxExit@mail.gmail.com>
References: <AANLkTiknFQw5Y=Vh75+cOu94HuwTbxjq7S9aE9_gs+w=@mail.gmail.com>
	<ed93fb5322fc5afc31afbd8cd7ee409c@mail.gmail.com>
	<AANLkTi=jvVmZ-ZRYsQEd_MMrstdYEMy+OZd+eBLxExit@mail.gmail.com>
Message-ID: <51f13cea9664138fe9fd95affd70a3dc@mail.gmail.com>

If your OS HAS symbolic links.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of The Researcher
> Sent: Wednesday, March 23, 2011 11:22 AM
> To: antlr-interest at antlr.org
> Subject: Re: [antlr-interest] Code Generation Concerns
>
> On Wed, Mar 23, 2011 at 1:55 PM, Jim Idle <jimi at temporal-wave.com>
> wrote:
>
> > Copy the code gen template and take those pieces out.
> >
> > Jim
> >
> > > -----Original Message-----
> > > From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> > > bounces at antlr.org] On Behalf Of Kevin Cherry
> > > Sent: Wednesday, March 23, 2011 10:39 AM
> > > To: antlr-interest
> > > Subject: [antlr-interest] Code Generation Concerns
> > >
> > > Maybe this is ANTLR Works doing this, but every time code is
> > > generated, the full file path to my grammar file is displayed in
> > > comments throughout the entire file (i.e. // dir/dir/file.g put in
> > > like 50 different places all over the class definition). I find
> this
> > > both a security and privacy issue if I am making this code
> available
> > > to other people. Sure I can delete it, but every time it is
> > > regenerated, it comes back. There is also a method created for the
> > > class that returns a string literal with the file path in it. Is
> > > there anyway of telling ANTLR not to do this?
> > > Also, is there any way to change the generated class's visibility
> > > from public to something else?
> > >
> > > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > > Unsubscribe:
> > > http://www.antlr.org/mailman/options/antlr-interest/your-
> > > email-address
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> > http://www.antlr.org/mailman/options/antlr-interest/your-email-
> address
> >
>
>
> Just out of curiosity, but wouldn't an OS symbolic  link satisfy the
> goal and save the effort or rewriting a file.?
>
> Eric
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From gary at sumwise.com  Wed Mar 23 14:06:10 2011
From: gary at sumwise.com (Gary Miller)
Date: Thu, 24 Mar 2011 08:06:10 +1100
Subject: [antlr-interest] antlr v4 wish list
Message-ID: <AANLkTik9SmAdrBDde=KhY076euYszcxd_Ajhbz4zGp8v@mail.gmail.com>

Hey Jim,

>> - The ability to have actions on the right side of an ast re-write
>> operator.
>
> r: ( alt -> ^(X alt) ) {action} ;

Thanks, I don't recall seeing this anywhere else.
Do you use it often? Or is a bad form?

>> - A different rule @init that only executes during when not
>> backtracking.
>>
>> - The ability to detect / work with an empty scope.
>> ? Currently attempts to access an empty scope throws a stack exception
>> (in Java)
>
> That's deliberate as it means you have your scope in the wrong place.
> Getting to an empty scope is a bug in your grammar and you need it to
> abort straight away so that you know how you got there.

The fact that I ran into this is may just be a newbee mistake.
I currently have a walker that does multiple things depending on how
it is called.
The start rule differs inside my application.
I solved the stack exceptions, by redesigning the grammars or using
share global scope.
I'm not sure what my grammars would have ended up looking like if I
could have tested the validity of a scope.
Probably a mute point.

Regards
Gary

From matt.fowles at gmail.com  Wed Mar 23 14:17:40 2011
From: matt.fowles at gmail.com (Matt Fowles)
Date: Wed, 23 Mar 2011 21:17:40 +0000
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
References: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
Message-ID: <AANLkTinEHMaAcRAOqFW5nrx1EYfJs4TwYpP8gupS1qfx@mail.gmail.com>

Terence~

Better location management.

Tokens and Trees should both have methods for:

getStartLine()
getEndLine()
getStartCharPosition()
getEndCharPosition()

Trees should base them on the tokens that they include.  Synthetic
tokens should get them from the original token or the full production
they match when no original token is provide.  This is especially
useful for IDEs that do several layers of rewrite before they produce
an error, as it can be difficult to match the positions exactly if
things like desugaring have happened before an error is produced.

The methods for end position are important as IDEs use that to figure
out how far to draw the squiggle.

Matt

On Tue, Mar 22, 2011 at 5:45 PM, Terence Parr <parrt at cs.usfca.edu> wrote:
> Howdy, I'm going to start augmenting ANTLR v3 significantly to create v4. The goal is backward compatibility; any new functionality, of course, will require altering or augmenting your grammars to take advantage of it. Here is my potential list of updates:
>
> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>
> Anything to add or comment on?
>
> Ter
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From bill.andersen at mac.com  Wed Mar 23 14:45:45 2011
From: bill.andersen at mac.com (Bill Andersen)
Date: Wed, 23 Mar 2011 17:45:45 -0400
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <AANLkTinEHMaAcRAOqFW5nrx1EYfJs4TwYpP8gupS1qfx@mail.gmail.com>
References: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
	<AANLkTinEHMaAcRAOqFW5nrx1EYfJs4TwYpP8gupS1qfx@mail.gmail.com>
Message-ID: <CFD1F32C-147B-4DAF-9AA8-60BD299E3F75@mac.com>

+1

Sent from my iPad

On Mar 23, 2011, at 17:17, Matt Fowles <matt.fowles at gmail.com> wrote:

> Terence~
> 
> Better location management.
> 
> Tokens and Trees should both have methods for:
> 
> getStartLine()
> getEndLine()
> getStartCharPosition()
> getEndCharPosition()
> 
> Trees should base them on the tokens that they include.  Synthetic
> tokens should get them from the original token or the full production
> they match when no original token is provide.  This is especially
> useful for IDEs that do several layers of rewrite before they produce
> an error, as it can be difficult to match the positions exactly if
> things like desugaring have happened before an error is produced.
> 
> The methods for end position are important as IDEs use that to figure
> out how far to draw the squiggle.
> 
> Matt
> 
> On Tue, Mar 22, 2011 at 5:45 PM, Terence Parr <parrt at cs.usfca.edu> wrote:
>> Howdy, I'm going to start augmenting ANTLR v3 significantly to create v4. The goal is backward compatibility; any new functionality, of course, will require altering or augmenting your grammars to take advantage of it. Here is my potential list of updates:
>> 
>> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>> 
>> Anything to add or comment on?
>> 
>> Ter
>> 
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>> 
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address

From antlr3 at gmail.com  Wed Mar 23 20:42:36 2011
From: antlr3 at gmail.com (Hiten R)
Date: Wed, 23 Mar 2011 20:42:36 -0700
Subject: [antlr-interest] Ignore reserved word and treat it as TOKEN
In-Reply-To: <5f41404b4bcbe1d0b0410449e4c12186@mail.gmail.com>
References: <AANLkTim1kvWR6KVJOQegvkcP8rmS9E8zx7SN1NSbcV=E@mail.gmail.com>
	<5f41404b4bcbe1d0b0410449e4c12186@mail.gmail.com>
Message-ID: <AANLkTi=WZytKGw7HCZA9n1Xtsko7-2h=emEGVVJ6Z5Bg@mail.gmail.com>

Thanks Jim. It worked. :)

Appreciate your help.

Hiten

From antlr3 at gmail.com  Wed Mar 23 20:43:25 2011
From: antlr3 at gmail.com (Hiten R)
Date: Wed, 23 Mar 2011 20:43:25 -0700
Subject: [antlr-interest] How to ignore TOKEN in a String
In-Reply-To: <AANLkTik9hVG+JDOqEqcej617f60MUSFWbvmSqDC2N5e0@mail.gmail.com>
References: <AANLkTikpBCKXqRjrw4zi00hi=me1rJ9=csFF_9Z8t9je@mail.gmail.com>
	<1300732561.10290.17.camel@gecko>
	<AANLkTik-swYddC0+sTLRAoGRng5Uq=ON2qzrpg0rQ1v-@mail.gmail.com>
	<1300836804.32333.8.camel@gecko>
	<AANLkTik9hVG+JDOqEqcej617f60MUSFWbvmSqDC2N5e0@mail.gmail.com>
Message-ID: <AANLkTik9SfCBzmTMDtUnKOWa_jy_BVnJDMXw9Lm4_sxw@mail.gmail.com>

It works !!!

Appreciate your help.

Hiten

From kevin.glynn at gmail.com  Thu Mar 24 01:30:34 2011
From: kevin.glynn at gmail.com (Kevin Glynn)
Date: Thu, 24 Mar 2011 09:30:34 +0100
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
References: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
Message-ID: <AANLkTimh8Qurr7A2gCOQFxOrK=DLo=kg-F2hT=oSyHnv@mail.gmail.com>

Default values for action rule parameters. I often want to pass in
some info from only one context.  Its a pain tracking down all the
other calls. I don't know how you would handle this for multiple
parameters, but having it for just one parameter would be a big win.

k


On Tue, Mar 22, 2011 at 6:45 PM, Terence Parr <parrt at cs.usfca.edu> wrote:
> Howdy, I'm going to start augmenting ANTLR v3 significantly to create v4. The goal is backward compatibility; any new functionality, of course, will require altering or augmenting your grammars to take advantage of it. Here is my potential list of updates:
>
> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>
> Anything to add or comment on?
>
> Ter
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From iztok.kavkler at fmf.uni-lj.si  Thu Mar 24 02:07:25 2011
From: iztok.kavkler at fmf.uni-lj.si (Iztok Kavkler)
Date: Thu, 24 Mar 2011 10:07:25 +0100
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
References: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
Message-ID: <4D8B09CD.7030600@fmf.uni-lj.si>

> Howdy, I'm going to start augmenting ANTLR v3 significantly to create v4. The goal is backward compatibility; any new functionality, of course, will require altering or augmenting your grammars to take advantage of it. Here is my potential list of updates:
>
> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>
> Anything to add or comment on?
>
> Ter
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address

A new error recovery mode for tree parsing:
When parsing ASTs, the ordinary error recovery strategies based on token 
deletion/insertion are completely useless, because there are no man-made 
syntax errors. In my experience, what you really want to do is the 
following: assume that you have an error handler attached to some rule 
and an error happens somewhere in the subtree of the node parsed by that 
rule. When the handler catches an error, the parser must skip the 
remainder of that subtree, otherwise the parser position is not 
consistent with the grammar position anymore. In AST implementations 
that are based on pointers between nodes this happens automatically, but 
Antlr's representation as a flat list of nodes with UP and DOWN tokens 
makes it requires some work - the parser has to keep track of the 
current node's depth and skip the appropriate number of UP nodes 
whenever an error is caught.

Iztok

From ranco.marcus at epirion.nl  Thu Mar 24 03:55:20 2011
From: ranco.marcus at epirion.nl (Ranco Marcus)
Date: Thu, 24 Mar 2011 10:55:20 +0000
Subject: [antlr-interest] [CSharp3] @namespace and composite grammars
Message-ID: <2B65C901391C804DBB9CF9E6FE30C6F95608EEC2@sun.epirion.local>

To maximize reuse of our grammars we generally create separate lexer and parser grammars which are target agnostic (i.e. contain no target specific code). We then combine them into a composite grammar in which the target language and other implementation specific details are specified (header,members,namespace,etc.). This way, grammars can be used for multiple targets and we have maximum freedom to combine multiple lexers/parsers into larger ones.

If a composite grammar C imports a parser grammar P and a lexer grammar L, the tool generates CParser, CLexer, C_P and C_L.

Adding @namespace { <X> } to the composite grammar should IMHO put all four recognizers in namespace <X>. Currently, at least with the CSharp3 target, only CParser is put into the specified namespace.

Specifying @lexer::namespace { <X> } to the composite grammar causes only the outermost lexer CLexer to be added to the specified namespace, not the imported lexer C_L. The same holds for @parser::namespace.

Btw, if I'm not mistaken, there's no way to put recognizers in packages with the Java target. Is that correct?

Best regards,

Ranco Marcus
Epirion Knowledge Solutions B.V.


From sharwell at pixelminegames.com  Thu Mar 24 06:50:13 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Thu, 24 Mar 2011 08:50:13 -0500
Subject: [antlr-interest] [CSharp3] @namespace and composite grammars
In-Reply-To: <2B65C901391C804DBB9CF9E6FE30C6F95608EEC2@sun.epirion.local>
References: <2B65C901391C804DBB9CF9E6FE30C6F95608EEC2@sun.epirion.local>
Message-ID: <041e01cbea2a$66cb32f0$346198d0$@pixelminegames.com>

Hi Ranco,

As mentioned in the CSharp3 documentation, you need to use both
@lexer::namespace{...} and @parser::namespace{...} in a composite grammar.
If you use the templates included in my Visual Studio extension, then these
are automatically inserted for you (including using the correct namespace
based on the location in the project where you placed them).

I'll check into the namespace issue when it comes to imported grammars. The
expected functionality is this should work once you have
@lexer::namespace{...} and @parser::namespace{...} in the composite grammar
, plus @namespace{...} in each of P and L.

Thanks,
Sam

-----Original Message-----
From: antlr-interest-bounces at antlr.org
[mailto:antlr-interest-bounces at antlr.org] On Behalf Of Ranco Marcus
Sent: Thursday, March 24, 2011 5:55 AM
To: antlr-interest at antlr.org
Subject: [antlr-interest] [CSharp3] @namespace and composite grammars

To maximize reuse of our grammars we generally create separate lexer and
parser grammars which are target agnostic (i.e. contain no target specific
code). We then combine them into a composite grammar in which the target
language and other implementation specific details are specified
(header,members,namespace,etc.). This way, grammars can be used for multiple
targets and we have maximum freedom to combine multiple lexers/parsers into
larger ones.

If a composite grammar C imports a parser grammar P and a lexer grammar L,
the tool generates CParser, CLexer, C_P and C_L.

Adding @namespace { <X> } to the composite grammar should IMHO put all four
recognizers in namespace <X>. Currently, at least with the CSharp3 target,
only CParser is put into the specified namespace.

Specifying @lexer::namespace { <X> } to the composite grammar causes only
the outermost lexer CLexer to be added to the specified namespace, not the
imported lexer C_L. The same holds for @parser::namespace.

Btw, if I'm not mistaken, there's no way to put recognizers in packages with
the Java target. Is that correct?

Best regards,

Ranco Marcus
Epirion Knowledge Solutions B.V.


List: http://www.antlr.org/mailman/listinfo/antlr-interest
Unsubscribe:
http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From kcherr1 at tigers.lsu.edu  Thu Mar 24 07:11:52 2011
From: kcherr1 at tigers.lsu.edu (Kevin Cherry)
Date: Thu, 24 Mar 2011 09:11:52 -0500
Subject: [antlr-interest] [CSharp3] @namespace and composite grammars
In-Reply-To: <041e01cbea2a$66cb32f0$346198d0$@pixelminegames.com>
References: <2B65C901391C804DBB9CF9E6FE30C6F95608EEC2@sun.epirion.local>
	<041e01cbea2a$66cb32f0$346198d0$@pixelminegames.com>
Message-ID: <AANLkTin+Fq==D9ipZe1EaKNhPM+xjypULW7pq+iuOF0z@mail.gmail.com>

@Sam, what is the name of the Visual Studio extension you are talking about?
I tried to search for anything with ANTLR in it and it couldn't find
anything.

On Thu, Mar 24, 2011 at 8:50 AM, Sam Harwell <sharwell at pixelminegames.com>wrote:

> Hi Ranco,
>
> As mentioned in the CSharp3 documentation, you need to use both
> @lexer::namespace{...} and @parser::namespace{...} in a composite grammar.
> If you use the templates included in my Visual Studio extension, then these
> are automatically inserted for you (including using the correct namespace
> based on the location in the project where you placed them).
>
> I'll check into the namespace issue when it comes to imported grammars. The
> expected functionality is this should work once you have
> @lexer::namespace{...} and @parser::namespace{...} in the composite grammar
> , plus @namespace{...} in each of P and L.
>
> Thanks,
> Sam
>
> -----Original Message-----
> From: antlr-interest-bounces at antlr.org
> [mailto:antlr-interest-bounces at antlr.org] On Behalf Of Ranco Marcus
> Sent: Thursday, March 24, 2011 5:55 AM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] [CSharp3] @namespace and composite grammars
>
> To maximize reuse of our grammars we generally create separate lexer and
> parser grammars which are target agnostic (i.e. contain no target specific
> code). We then combine them into a composite grammar in which the target
> language and other implementation specific details are specified
> (header,members,namespace,etc.). This way, grammars can be used for
> multiple
> targets and we have maximum freedom to combine multiple lexers/parsers into
> larger ones.
>
> If a composite grammar C imports a parser grammar P and a lexer grammar L,
> the tool generates CParser, CLexer, C_P and C_L.
>
> Adding @namespace { <X> } to the composite grammar should IMHO put all four
> recognizers in namespace <X>. Currently, at least with the CSharp3 target,
> only CParser is put into the specified namespace.
>
> Specifying @lexer::namespace { <X> } to the composite grammar causes only
> the outermost lexer CLexer to be added to the specified namespace, not the
> imported lexer C_L. The same holds for @parser::namespace.
>
> Btw, if I'm not mistaken, there's no way to put recognizers in packages
> with
> the Java target. Is that correct?
>
> Best regards,
>
> Ranco Marcus
> Epirion Knowledge Solutions B.V.
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From sharwell at pixelminegames.com  Thu Mar 24 07:19:45 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Thu, 24 Mar 2011 09:19:45 -0500
Subject: [antlr-interest] [CSharp3] @namespace and composite grammars
In-Reply-To: <AANLkTin+Fq==D9ipZe1EaKNhPM+xjypULW7pq+iuOF0z@mail.gmail.com>
References: <2B65C901391C804DBB9CF9E6FE30C6F95608EEC2@sun.epirion.local>	<041e01cbea2a$66cb32f0$346198d0$@pixelminegames.com>
	<AANLkTin+Fq==D9ipZe1EaKNhPM+xjypULW7pq+iuOF0z@mail.gmail.com>
Message-ID: <042201cbea2e$87674b80$9635e280$@pixelminegames.com>

Hi Kevin,

 

The plugin information is included in the "Visual Studio and the ANTLR C#
Target" documentation referenced on the ANTLR wiki:

http://www.antlr.org/wiki/display/ANTLR3/Antlr3CSharpReleases

 

Thanks,

Sam

 

From: Kevin Cherry [mailto:kcherr1 at tigers.lsu.edu] 
Sent: Thursday, March 24, 2011 9:12 AM
To: Sam Harwell
Cc: Ranco Marcus; antlr-interest at antlr.org
Subject: Re: [antlr-interest] [CSharp3] @namespace and composite grammars

 

@Sam, what is the name of the Visual Studio extension you are talking about?
I tried to search for anything with ANTLR in it and it couldn't find
anything.

On Thu, Mar 24, 2011 at 8:50 AM, Sam Harwell <sharwell at pixelminegames.com>
wrote:

Hi Ranco,

As mentioned in the CSharp3 documentation, you need to use both
@lexer::namespace{...} and @parser::namespace{...} in a composite grammar.
If you use the templates included in my Visual Studio extension, then these
are automatically inserted for you (including using the correct namespace
based on the location in the project where you placed them).

I'll check into the namespace issue when it comes to imported grammars. The
expected functionality is this should work once you have
@lexer::namespace{...} and @parser::namespace{...} in the composite grammar
, plus @namespace{...} in each of P and L.

Thanks,
Sam


-----Original Message-----
From: antlr-interest-bounces at antlr.org
[mailto:antlr-interest-bounces at antlr.org] On Behalf Of Ranco Marcus
Sent: Thursday, March 24, 2011 5:55 AM
To: antlr-interest at antlr.org
Subject: [antlr-interest] [CSharp3] @namespace and composite grammars

To maximize reuse of our grammars we generally create separate lexer and
parser grammars which are target agnostic (i.e. contain no target specific
code). We then combine them into a composite grammar in which the target
language and other implementation specific details are specified
(header,members,namespace,etc.). This way, grammars can be used for multiple
targets and we have maximum freedom to combine multiple lexers/parsers into
larger ones.

If a composite grammar C imports a parser grammar P and a lexer grammar L,
the tool generates CParser, CLexer, C_P and C_L.

Adding @namespace { <X> } to the composite grammar should IMHO put all four
recognizers in namespace <X>. Currently, at least with the CSharp3 target,
only CParser is put into the specified namespace.

Specifying @lexer::namespace { <X> } to the composite grammar causes only
the outermost lexer CLexer to be added to the specified namespace, not the
imported lexer C_L. The same holds for @parser::namespace.

Btw, if I'm not mistaken, there's no way to put recognizers in packages with
the Java target. Is that correct?

Best regards,

Ranco Marcus
Epirion Knowledge Solutions B.V.


List: http://www.antlr.org/mailman/listinfo/antlr-interest
Unsubscribe:
http://www.antlr.org/mailman/options/antlr-interest/your-email-address


List: http://www.antlr.org/mailman/listinfo/antlr-interest
Unsubscribe:
http://www.antlr.org/mailman/options/antlr-interest/your-email-address

 


From siflfran at hawo.stw.uni-erlangen.de  Thu Mar 24 08:08:30 2011
From: siflfran at hawo.stw.uni-erlangen.de (Florian Franzmann)
Date: Thu, 24 Mar 2011 16:08:30 +0100
Subject: [antlr-interest] problems getting a simple grammar to accept it's
	input
Message-ID: <20110324150829.GC3587@narya>

Hi,

I'm having problems getting a (so far) very simple grammar to accept it's input:

-------------------------------------

grammar Simulink;

IDENTIFIER  :	('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'0'..'9'|'_')*
    ;

INT :	'0'..'9'+
    ;

FLOAT
    :   ('0'..'9')+ '.' ('0'..'9')* EXPONENT?
    |   '.' ('0'..'9')+ EXPONENT?
    |   ('0'..'9')+ EXPONENT
    ;

COMMENT
    :   '#' ~('\n'|'\r')* '\r'? '\n' {$channel=HIDDEN;}
    ;

WS  :   ( ' '
        | '\t'
        | '\r'
        | '\n'
        ) {$channel=HIDDEN;}
    ;

STRING
    :  '"' ( ESC_SEQ | ~('\\'|'"') )* '"'
    ;

fragment
EXPONENT : ('e'|'E') ('+'|'-')? ('0'..'9')+ ;

fragment
HEX_DIGIT : ('0'..'9'|'a'..'f'|'A'..'F') ;

fragment
ESC_SEQ
    :   '\\' ('b'|'t'|'n'|'f'|'r'|'\"'|'\''|'\\')
    |   UNICODE_ESC
    |   OCTAL_ESC
    ;

fragment
OCTAL_ESC
    :   '\\' ('0'..'3') ('0'..'7') ('0'..'7')
    |   '\\' ('0'..'7') ('0'..'7')
    |   '\\' ('0'..'7')
    ;

fragment
UNICODE_ESC
    :   '\\' 'u' HEX_DIGIT HEX_DIGIT HEX_DIGIT HEX_DIGIT
    ;

fragment
BLOCK_BEGIN
	:	'{'
	;

fragment
BLOCK_END
	:	'}'
	;

file	:	block+
	;

block	:	IDENTIFIER BLOCK_BEGIN BLOCK_END
	;


-------------------------------------

This is the input:

-------------------------------------

# bla
Model {
}

-------------------------------------

And here is what happens when I try to feed it to the grammar:

-------------------------------------
$ make smalltests
antlr3 -verbose -trace -report Simulink.g
ANTLR Parser Generator  Version 3.3 Nov 30, 2010 12:50:56
Simulink.g
Simulink.file:65:8 decision 1: k=1
javac -classpath antlr/antlr-3.3-complete.jar:. SimulinkLexer.java
javac -classpath antlr/antlr-3.3-complete.jar:. SimulinkParser.java
javac -classpath antlr/antlr-3.3-complete.jar:. Test.java
cat testdata/empty.mdl                | java -classpath antlr/antlr-3.3-complete.jar:. Test
enter COMMENT # line=1:0
exit COMMENT M line=2:0
enter IDENTIFIER M line=2:0
exit IDENTIFIER   line=2:5
enter file [@1,6:10='Model',<4>,2:0]
enter block [@1,6:10='Model',<4>,2:0]
enter WS   line=2:5
exit WS { line=2:6
line 2:6 no viable alternative at character '{'
enter WS 
 line=2:7
exit WS } line=3:0
line 3:0 no viable alternative at character '}'
enter WS 
 line=3:1
exit WS 
 line=4:0
enter WS 
 line=4:0
exit WS  line=5:0
line 5:0 mismatched input '<EOF>' expecting BLOCK_BEGIN
exit block [@6,17:17='<EOF>',<-1>,5:0]
exit file [@6,17:17='<EOF>',<-1>,5:0]
-------------------------------------

As I understand it the parser consumes 'Model' as IDENTIFIER and goes into
state block. It ignores a WS, then finds a '{'. This should be recognized as
BLOCK_BEGIN, which is the next token expected in block---any idea what I'm
doing wrong?

best regards
Florian Franzmann

From bkiers at gmail.com  Thu Mar 24 08:26:44 2011
From: bkiers at gmail.com (Bart Kiers)
Date: Thu, 24 Mar 2011 16:26:44 +0100
Subject: [antlr-interest] problems getting a simple grammar to accept
	it's input
In-Reply-To: <20110324150829.GC3587@narya>
References: <20110324150829.GC3587@narya>
Message-ID: <AANLkTikNQTi=BULN8KK7x+9v7VR1LurJ0NHeLFChkX6s@mail.gmail.com>

On Thu, Mar 24, 2011 at 4:08 PM, Florian Franzmann <
siflfran at hawo.stw.uni-erlangen.de> wrote:

> ...
> As I understand it the parser consumes 'Model' as IDENTIFIER and goes into
> state block. It ignores a WS, then finds a '{'. This should be recognized
> as
> BLOCK_BEGIN, which is the next token expected in block---any idea what I'm
> doing wrong?
>
> best regards
> Florian Franzmann
>
>
Fragment rules can only be "seen" by other lexer rules. There will never be
a token `BLOCK_BEGIN ` created, so it can't be used inside parser rules.

Regards,

Bart.

From cummings at kjchome.homeip.net  Thu Mar 24 08:31:47 2011
From: cummings at kjchome.homeip.net (Kevin J. Cummings)
Date: Thu, 24 Mar 2011 11:31:47 -0400
Subject: [antlr-interest] problems getting a simple grammar to accept
	it's	input
In-Reply-To: <20110324150829.GC3587@narya>
References: <20110324150829.GC3587@narya>
Message-ID: <4D8B63E3.5070709@kjchome.homeip.net>

On 03/24/2011 11:08 AM, Florian Franzmann wrote:
> Hi,
> 
> I'm having problems getting a (so far) very simple grammar to accept it's input:
> 
> -------------------------------------
> 
> grammar Simulink;
> 
> IDENTIFIER  :	('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'0'..'9'|'_')*
>     ;
> 
> INT :	'0'..'9'+
>     ;
> 
> FLOAT
>     :   ('0'..'9')+ '.' ('0'..'9')* EXPONENT?
>     |   '.' ('0'..'9')+ EXPONENT?
>     |   ('0'..'9')+ EXPONENT
>     ;
> 
> COMMENT
>     :   '#' ~('\n'|'\r')* '\r'? '\n' {$channel=HIDDEN;}
>     ;
> 
> WS  :   ( ' '
>         | '\t'
>         | '\r'
>         | '\n'
>         ) {$channel=HIDDEN;}
>     ;
> 
> STRING
>     :  '"' ( ESC_SEQ | ~('\\'|'"') )* '"'
>     ;
> 
> fragment
> EXPONENT : ('e'|'E') ('+'|'-')? ('0'..'9')+ ;
> 
> fragment
> HEX_DIGIT : ('0'..'9'|'a'..'f'|'A'..'F') ;
> 
> fragment
> ESC_SEQ
>     :   '\\' ('b'|'t'|'n'|'f'|'r'|'\"'|'\''|'\\')
>     |   UNICODE_ESC
>     |   OCTAL_ESC
>     ;
> 
> fragment
> OCTAL_ESC
>     :   '\\' ('0'..'3') ('0'..'7') ('0'..'7')
>     |   '\\' ('0'..'7') ('0'..'7')
>     |   '\\' ('0'..'7')
>     ;
> 
> fragment
> UNICODE_ESC
>     :   '\\' 'u' HEX_DIGIT HEX_DIGIT HEX_DIGIT HEX_DIGIT
>     ;
> 
> fragment
> BLOCK_BEGIN
> 	:	'{'
> 	;
> 
> fragment
> BLOCK_END
> 	:	'}'
> 	;
> 
> file	:	block+
> 	;
> 
> block	:	IDENTIFIER BLOCK_BEGIN BLOCK_END
> 	;

Because you actually defined BLOCK_BEGIN and BLOCK_END as fragments,
those tokens are never actually created.  Remove the "fragment" from the
TOKEN rules.

> -------------------------------------
> 
> This is the input:
> 
> -------------------------------------
> 
> # bla
> Model {
> }
> 
> -------------------------------------
> 
> And here is what happens when I try to feed it to the grammar:
> 
> -------------------------------------
> $ make smalltests
> antlr3 -verbose -trace -report Simulink.g
> ANTLR Parser Generator  Version 3.3 Nov 30, 2010 12:50:56
> Simulink.g
> Simulink.file:65:8 decision 1: k=1
> javac -classpath antlr/antlr-3.3-complete.jar:. SimulinkLexer.java
> javac -classpath antlr/antlr-3.3-complete.jar:. SimulinkParser.java
> javac -classpath antlr/antlr-3.3-complete.jar:. Test.java
> cat testdata/empty.mdl                | java -classpath antlr/antlr-3.3-complete.jar:. Test
> enter COMMENT # line=1:0
> exit COMMENT M line=2:0
> enter IDENTIFIER M line=2:0
> exit IDENTIFIER   line=2:5
> enter file [@1,6:10='Model',<4>,2:0]
> enter block [@1,6:10='Model',<4>,2:0]
> enter WS   line=2:5
> exit WS { line=2:6
> line 2:6 no viable alternative at character '{'
> enter WS 
>  line=2:7
> exit WS } line=3:0
> line 3:0 no viable alternative at character '}'
> enter WS 
>  line=3:1
> exit WS 
>  line=4:0
> enter WS 
>  line=4:0
> exit WS  line=5:0
> line 5:0 mismatched input '<EOF>' expecting BLOCK_BEGIN
> exit block [@6,17:17='<EOF>',<-1>,5:0]
> exit file [@6,17:17='<EOF>',<-1>,5:0]
> -------------------------------------
> 
> As I understand it the parser consumes 'Model' as IDENTIFIER and goes into
> state block. It ignores a WS, then finds a '{'. This should be recognized as
> BLOCK_BEGIN, which is the next token expected in block---any idea what I'm
> doing wrong?

fragment TOKENs are meant to only be recognized when creating further
tokens.  Since your BLOCK_BEGIN and BLOCK_END are intended to be final
TOKENs (you use them in your parser's "block" rule), you should remove
the "fragment" from those token rules.

> best regards
> Florian Franzmann
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


-- 
Kevin J. Cummings
kjchome at verizon.net
cummings at kjchome.homeip.net
cummings at kjc386.framingham.ma.us
Registered Linux User #1232 (http://counter.li.org)

From siflfran at hawo.stw.uni-erlangen.de  Thu Mar 24 08:39:11 2011
From: siflfran at hawo.stw.uni-erlangen.de (Florian Franzmann)
Date: Thu, 24 Mar 2011 16:39:11 +0100
Subject: [antlr-interest] problems getting a simple grammar to accept
 it's input
In-Reply-To: <AANLkTikNQTi=BULN8KK7x+9v7VR1LurJ0NHeLFChkX6s@mail.gmail.com>
References: <20110324150829.GC3587@narya>
	<AANLkTikNQTi=BULN8KK7x+9v7VR1LurJ0NHeLFChkX6s@mail.gmail.com>
Message-ID: <20110324153911.GD3587@narya>

On Thu 2011-03-24 16:26:44 +0100, Bart Kiers wrote:
>    On Thu, Mar 24, 2011 at 4:08 PM, Florian Franzmann
>    <[1]siflfran at hawo.stw.uni-erlangen.de> wrote:
> 
>      ...
>      As I understand it the parser consumes 'Model' as IDENTIFIER and goes
>      into
>      state block. It ignores a WS, then finds a '{'. This should be
>      recognized as
>      BLOCK_BEGIN, which is the next token expected in block---any idea what
>      I'm
>      doing wrong?
> 
>      best regards
>      Florian Franzmann
> 
>    Fragment rules can only be "seen" by other lexer rules. There will never
>    be a token `BLOCK_BEGIN*` created, so it can't be used inside parser
>    rules.
Thanks, that did it.

From becker at lpr.e-technik.tu-muenchen.de  Thu Mar 24 08:42:54 2011
From: becker at lpr.e-technik.tu-muenchen.de (Martin Becker)
Date: Thu, 24 Mar 2011 16:42:54 +0100
Subject: [antlr-interest] Unused rule trashes my grammar
Message-ID: <1300981374.4359.10.camel@tauon.private.lpr.e-technik.tu-muenchen.de>

Hi,

I don't understand what's happening here. I am generating an ANTLR
grammar with XText. Xtext introduces rules like shown below with
'someGeneratedRule1' and 'someGeneratedRule2', which I can't influence.
One of the generated rules ("someGeneratedRule2") isn't actually used,
but seems to provoke an ambiguity. How could that be possible?

When checking this (stripped down) grammar ANTLR yields 'error(202):
grammar_min2.g:14:14: the decision cannot distinguish between
alternative(s) 1,2 for input such as "RULE_INT '.' EOF EOF"' 
Obviously this has something to to with the EOF's Xtext introduces.

When I remove the rule "someGeneratedRule2" the problem disappears.

{{{
grammar grammar_min2;

someGeneratedRule1: rulemodule EOF;

rulemodule:
	'module' RULE_ID ruleCOLON
	ruleunaryexpr 
	('end' 'module'	|rulePERIOD)
;

// PROVOKES THE PROBLEM
someGeneratedRule2: ruleunaryexpr EOF;

ruleunaryexpr:
	RULE_INT
	|ruleDOUBLECONST
;

ruleEXPONENT:
	('e' |	'E') ('+'|'-')? RULE_INT
;

ruleDOUBLECONST:
	( RULE_INT '.' (RULE_INT)? (ruleEXPONENT)?)
	|         ('.'	RULE_INT   (ruleEXPONENT)?)
	|              (RULE_INT    ruleEXPONENT)
;

ruleCOLON:':';
rulePERIOD:'.';

// lexer

RULE_ID:('a' .. 'z' | 'A' .. 'Z' | '_' ) ( 'a' .. 'z' | 'A' .. 'Z' | '_'
| '0' .. '9' ) * ;
RULE_INT:('0' .. '9' ) + ; 
RULE_WS:(' ' | '\t' | '\r' | '\n')+;
RULE_ML_COMMENT:'%{' (options {greedy = false; } : . ) * '}%' ;
RULE_SL_COMMENT : '%' ~ ( ( '\n' | '\r' ) ) * ( '\r' ? '\n' ) ? ;
}}}

Additionally ANTLRWorks doesn't visualize the error, just writes it to
the console.

Any ideas?

Thanks,
Martin


From wael.sellami at gmail.com  Thu Mar 24 09:22:14 2011
From: wael.sellami at gmail.com (wael sellami)
Date: Thu, 24 Mar 2011 17:22:14 +0100
Subject: [antlr-interest] Help please
Message-ID: <AANLkTime--P7kODt9UV_e43DLOyGNQ=WdEKQhzP+TFw2@mail.gmail.com>

Hello,
My name is Wael Sellami, I am a computer science researcher in Redcad
laboratory, university of sfax, tunisia, master level.
I use ANTLR to transform xml code to PROMELA code as input language of the
model-checker SPIN.
I have a problem in defining of nested bloc in my output. In fact, I can not
organize the output code as the form of input code. Below, there is a
exemple of small grammar and the rule of translation:

grammar xml;
options {
 output = AST;
 ASTLabelType = CommonTree;
 backtrack=true;
}

tokens {
ROOTDEF; NAMEDEF; XMLTAGDEF; TITLEDEF; BOOKDEF; AUTHORDEF; }

system : root+;

root :  '<books>' (xmltag)+ '</books>'
       -> ^(ROOTDEF (xmltag)+);

xmltag : book -> ^(XMLTAGDEF book)     | title -> ^(XMLTAGDEF title)    |
author -> ^(XMLTAGDEF author);

book : '<book' name '>' (xmltag)+ '</book>'
-> ^(BOOKDEF name (xmltag)+);

title    : '<title' name '>' (ID)+ '</title>'
-> ^(TITLEDEF name (ID)+);

author    : '<author' name '>' (ID)+ '</author>'
-> ^(AUTHORDEF name (ID)+);


name     :  'name="' ID '"'
          -> ^(NAMEDEF ID);

ID  : ('a'..'z'|'A'..'Z'|'0'..'9') ('a'..'z'|'A'..'Z'|'0'..'9')*;
WS  : ( ' ' | '\t' | '\r' | '\n')* { $channel = HIDDEN; } ;


Then I have defined the tree walker:


tree grammar Translate;
options {
 tokenVocab = xml;
 ASTLabelType = CommonTree;
 output=template;

}

@members {
List<String> columnsactbpel = new ArrayList<String>();
}

system : root+;
root :  ^(ROOTDEF (xmltag)+);
xmltag : ^(XMLTAGDEF book) | ^(XMLTAGDEF title) | ^(XMLTAGDEF author);
book : ^(BOOKDEF name (xmltag)+)
{
System.out.println("Begin book tag");
System.out.println("END book tag");
};

title    returns [String tit]
    : ^(TITLEDEF name (ID)+)
{ System.out.println($name.namevar);};

author    returns [String auth]
    : ^(AUTHORDEF name (ID)+)
{ System.out.println($name.namevar);};

name     returns [String namevar]
    : ^(NAMEDEF (ID)+)
    { $namevar = $ID.text;};


After that, I have tried with this input code:

<books>
    <title name="AAA"> Data base </title>
    <author name="BBB"> XML </author>

    <book name="a">
        <title name="CCC"> Data base </title>
         <author name="DDD"> XML </author>

                <book name="a">
                    <title name="EEE"> Data base </title>
                    <author name="FFF"> XML </author>
                </book>
    </book>
</books>


So, the result of this translation is:

AAA
BBB
CCC
DDD
EEE
FFF
Begin book tag
END book tag
Begin book tag
END book tag


But normally, if we follow the input xml code the r?sult must be:

AAA
BBB

Begin book tag
CCC
DDD

    Begin book tag
    EEE
    FFF
    END book tag

END book tag




Please, can you help me to solve this problem.
Thank you in advance
Wael


-- 
---------------------------------------------
* Mr. Wael Sellami
* Master student
* Research Unit on Development and Control of Distributed Applications
(ReDCAD)
============================

From parrt at cs.usfca.edu  Thu Mar 24 10:20:08 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Thu, 24 Mar 2011 10:20:08 -0700
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <AANLkTinEHMaAcRAOqFW5nrx1EYfJs4TwYpP8gupS1qfx@mail.gmail.com>
References: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
	<AANLkTinEHMaAcRAOqFW5nrx1EYfJs4TwYpP8gupS1qfx@mail.gmail.com>
Message-ID: <5CA3CCF9-EE12-4F13-9125-D9B49C56E6E4@cs.usfca.edu>

added

* Tokens and Trees should both know their start/stop line, start/stop char position to make IDEs easier.

Ter
On Mar 23, 2011, at 2:17 PM, Matt Fowles wrote:

> Terence~
> 
> Better location management.
> 
> Tokens and Trees should both have methods for:
> 
> getStartLine()
> getEndLine()
> getStartCharPosition()
> getEndCharPosition()
> 
> Trees should base them on the tokens that they include.  Synthetic
> tokens should get them from the original token or the full production
> they match when no original token is provide.  This is especially
> useful for IDEs that do several layers of rewrite before they produce
> an error, as it can be difficult to match the positions exactly if
> things like desugaring have happened before an error is produced.
> 
> The methods for end position are important as IDEs use that to figure
> out how far to draw the squiggle.
> 
> Matt
> 
> On Tue, Mar 22, 2011 at 5:45 PM, Terence Parr <parrt at cs.usfca.edu> wrote:
>> Howdy, I'm going to start augmenting ANTLR v3 significantly to create v4. The goal is backward compatibility; any new functionality, of course, will require altering or augmenting your grammars to take advantage of it. Here is my potential list of updates:
>> 
>> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>> 
>> Anything to add or comment on?
>> 
>> Ter
>> 
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>> 
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From parrt at cs.usfca.edu  Thu Mar 24 10:21:09 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Thu, 24 Mar 2011 10:21:09 -0700
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <AANLkTimh8Qurr7A2gCOQFxOrK=DLo=kg-F2hT=oSyHnv@mail.gmail.com>
References: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
	<AANLkTimh8Qurr7A2gCOQFxOrK=DLo=kg-F2hT=oSyHnv@mail.gmail.com>
Message-ID: <00C08B77-C416-438C-B6F8-67245B2FC89F@cs.usfca.edu>

added

* Default rule parameter values, same for scope fields.

Ter
On Mar 24, 2011, at 1:30 AM, Kevin Glynn wrote:

> Default values for action rule parameters. I often want to pass in
> some info from only one context.  Its a pain tracking down all the
> other calls. I don't know how you would handle this for multiple
> parameters, but having it for just one parameter would be a big win.
> 
> k
> 
> 
> On Tue, Mar 22, 2011 at 6:45 PM, Terence Parr <parrt at cs.usfca.edu> wrote:
>> Howdy, I'm going to start augmenting ANTLR v3 significantly to create v4. The goal is backward compatibility; any new functionality, of course, will require altering or augmenting your grammars to take advantage of it. Here is my potential list of updates:
>> 
>> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>> 
>> Anything to add or comment on?
>> 
>> Ter
>> 
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>> 


From parrt at cs.usfca.edu  Thu Mar 24 10:23:40 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Thu, 24 Mar 2011 10:23:40 -0700
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <4D8B09CD.7030600@fmf.uni-lj.si>
References: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
	<4D8B09CD.7030600@fmf.uni-lj.si>
Message-ID: <D9CFF953-4FA4-4C8A-9031-4255A300A342@cs.usfca.edu>

added

* Tree parser error handling should skip subtrees not nodes; these are programming errors not input errors.  The flat stream makes it hard to resync.

Ter
On Mar 24, 2011, at 2:07 AM, Iztok Kavkler wrote:

>> Howdy, I'm going to start augmenting ANTLR v3 significantly to create v4. The goal is backward compatibility; any new functionality, of course, will require altering or augmenting your grammars to take advantage of it. Here is my potential list of updates:
>> 
>> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>> 
>> Anything to add or comment on?
>> 
>> Ter
>> 
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
> 
> A new error recovery mode for tree parsing:
> When parsing ASTs, the ordinary error recovery strategies based on token 
> deletion/insertion are completely useless, because there are no man-made 
> syntax errors. In my experience, what you really want to do is the 
> following: assume that you have an error handler attached to some rule 
> and an error happens somewhere in the subtree of the node parsed by that 
> rule. When the handler catches an error, the parser must skip the 
> remainder of that subtree, otherwise the parser position is not 
> consistent with the grammar position anymore. In AST implementations 
> that are based on pointers between nodes this happens automatically, but 
> Antlr's representation as a flat list of nodes with UP and DOWN tokens 
> makes it requires some work - the parser has to keep track of the 
> current node's depth and skip the appropriate number of UP nodes 
> whenever an error is caught.
> 
> Iztok
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From jbb at acm.org  Thu Mar 24 11:05:15 2011
From: jbb at acm.org (John B. Brodie)
Date: Thu, 24 Mar 2011 14:05:15 -0400
Subject: [antlr-interest] Help please
In-Reply-To: <AANLkTime--P7kODt9UV_e43DLOyGNQ=WdEKQhzP+TFw2@mail.gmail.com>
References: <AANLkTime--P7kODt9UV_e43DLOyGNQ=WdEKQhzP+TFw2@mail.gmail.com>
Message-ID: <1300989915.19347.6.camel@gecko>

Greetings!

On Thu, 2011-03-24 at 17:22 +0100, wael sellami wrote:
> Hello,

...stuff snipped...

> book : ^(BOOKDEF name (xmltag)+)
> {
> System.out.println("Begin book tag");
> System.out.println("END book tag");
> };
> 

...snipped...

short answer, place actions properly:

book : ^(BOOKDEF name
      { System.out.println("Begin book tag"); }
    (xmltag)+
      { System.out.println("END book tag"); }
  ) ;

preferred answer, use StringTemplate to compose your output.

hope this helps...
   -jbb



From researcher0x00 at gmail.com  Thu Mar 24 11:32:11 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Thu, 24 Mar 2011 14:32:11 -0400
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <D9CFF953-4FA4-4C8A-9031-4255A300A342@cs.usfca.edu>
References: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
	<4D8B09CD.7030600@fmf.uni-lj.si>
	<D9CFF953-4FA4-4C8A-9031-4255A300A342@cs.usfca.edu>
Message-ID: <AANLkTi=GotzbmArP+LPEbP7aZHVW-AFhXDUPTJctkO0o@mail.gmail.com>

On Thu, Mar 24, 2011 at 1:23 PM, Terence Parr <parrt at cs.usfca.edu> wrote:

> added
>
> * Tree parser error handling should skip subtrees not nodes; these are
> programming errors not input errors.  The flat stream makes it hard to
> resync.
>
> Ter
>  On Mar 24, 2011, at 2:07 AM, Iztok Kavkler wrote:
>
> >> Howdy, I'm going to start augmenting ANTLR v3 significantly to create
> v4. The goal is backward compatibility; any new functionality, of course,
> will require altering or augmenting your grammars to take advantage of it.
> Here is my potential list of updates:
> >>
> >> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
> >>
> >> Anything to add or comment on?
> >>
> >> Ter
> >>
> >> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
> >
> > A new error recovery mode for tree parsing:
> > When parsing ASTs, the ordinary error recovery strategies based on token
> > deletion/insertion are completely useless, because there are no man-made
> > syntax errors. In my experience, what you really want to do is the
> > following: assume that you have an error handler attached to some rule
> > and an error happens somewhere in the subtree of the node parsed by that
> > rule. When the handler catches an error, the parser must skip the
> > remainder of that subtree, otherwise the parser position is not
> > consistent with the grammar position anymore. In AST implementations
> > that are based on pointers between nodes this happens automatically, but
> > Antlr's representation as a flat list of nodes with UP and DOWN tokens
> > makes it requires some work - the parser has to keep track of the
> > current node's depth and skip the appropriate number of UP nodes
> > whenever an error is caught.
> >
> > Iztok
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>


1. If my concept of scannerless parsing is the same as yours, then in the
generated code for a rule allow the true for "do { <rule code> }
while(true)" to be an attribute of the rule, i.e exit. Obviously the value
would be true unless changed by a user.This would allow the user to have
control of when to exit the rule. By turning true into a attribute of the
rule, this allows for more control than gated semantic predicates.

Based on by concept of scannerless parsing, there is no lexer and the parser
drives the reading of the tokens from the intput stream. The input stream
does not generate the tokens ahead of time but only when needed. In a quick
proof of concept I had the token type passed from the parser as a generic
parameter, allowing the redefinition of the token returned by the token
stream. There were no pre-defined tokens values; they were dynamically
generated.To get the proof of concept to work required having a
cross-reference table between token types and token values.

2. If ANTLR 4 will allow the reading of binary data streams, then please
don't put char and line pos in a base class. There could be one inherited
classes that defines line and char pos, and another inherited class that
defines offset.

Thanks

Eric

From jdoege at gmail.com  Thu Mar 24 14:28:09 2011
From: jdoege at gmail.com (Jason Doege)
Date: Thu, 24 Mar 2011 16:28:09 -0500
Subject: [antlr-interest] Problem with ANTLR3.3 and Python 2.7
Message-ID: <AANLkTikWWcfKcju65XT1pou_euyeO_b24qdOMaK93RWz@mail.gmail.com>

Hi all,


I am attempting to use ANTLRWorks with Python2.7 on Windows 7. I am using
the
latest ANTLRWorks release which I think includes ANTLR3.3


I obtained the python runtime from the antlr-3.3.tar.gz file specified on
this
webpage: http://www.antlr.org/wiki/display/ANTLR3/Python+runtime (the
"Complete
ANTLR 3.x Java binaries jar" file mentioned on the webpage actually
contained no
Python runtime.)


I moved the antlr3 folder to my LIB directory under my python2.7
installation
directory as have for every other library I use.

I built and compiled a grammar without difficulty and tried to run the
resultant
parser and I get the following error:

RuntimeError: ANTLR version mismatch: The recognizer has been generated by
V3.3
Nov 30, 2010 12:45:30, but this runtime is V3.1.3. Please use the V3.3 Nov
30,
2010 12:45:30 runtime or higher.

I have been searching for answers to this problem for a couple of days and
have
come up empty.

Does anyone here have any suggestions?

Best regards,
Jason Doege

From point14 at magma.ca  Thu Mar 24 17:18:50 2011
From: point14 at magma.ca (Martin d'Anjou)
Date: Thu, 24 Mar 2011 20:18:50 -0400
Subject: [antlr-interest] in v3.3,
	does the token stream mechanism slurp in the whole file?
Message-ID: <4D8BDF6A.9070204@magma.ca>

Hello,

According to:
http://v2kparse.blogspot.com/2008/06/first-pass-uploaded-to-sourceforce.html

the ANTLR v3.0 token stream mechanism tries to slurp in the whole source 
file, which is problematic with gigantic source files.

1) Does ANTLR v3.3 still try to read all the input at once?

2) Is this what BufferedTokenStream fixes?

Thanks,
Martin

From pink at odahoda.de  Fri Mar 25 02:50:23 2011
From: pink at odahoda.de (Benjamin Niemann)
Date: Fri, 25 Mar 2011 10:50:23 +0100
Subject: [antlr-interest] Problem with ANTLR3.3 and Python 2.7
In-Reply-To: <AANLkTikWWcfKcju65XT1pou_euyeO_b24qdOMaK93RWz@mail.gmail.com>
References: <AANLkTikWWcfKcju65XT1pou_euyeO_b24qdOMaK93RWz@mail.gmail.com>
Message-ID: <AANLkTiktnLJ03h+JRMA93c_Qfgsx-TaYFndPSjz7Evx8@mail.gmail.com>

Hi Jason,

the Python target hasn't been updated since the 3.1.3 release. Using
the runtime with later versions of the tool would probably result in
very subtle errors, so the code does some very strict checking.
I'm working right now on bringing Python back up to speed. In the
meantime you might want to use the 3.1.3 release of antlr from
http://www.antlr.org/download
I also updated the wiki to reflect that.

-Ben

On Thu, Mar 24, 2011 at 10:28 PM, Jason Doege <jdoege at gmail.com> wrote:
> Hi all,
>
>
> I am attempting to use ANTLRWorks with Python2.7 on Windows 7. I am using
> the
> latest ANTLRWorks release which I think includes ANTLR3.3
>
>
> I obtained the python runtime from the antlr-3.3.tar.gz file specified on
> this
> webpage: http://www.antlr.org/wiki/display/ANTLR3/Python+runtime (the
> "Complete
> ANTLR 3.x Java binaries jar" file mentioned on the webpage actually
> contained no
> Python runtime.)
>
>
> I moved the antlr3 folder to my LIB directory under my python2.7
> installation
> directory as have for every other library I use.
>
> I built and compiled a grammar without difficulty and tried to run the
> resultant
> parser and I get the following error:
>
> RuntimeError: ANTLR version mismatch: The recognizer has been generated by
> V3.3
> Nov 30, 2010 12:45:30, but this runtime is V3.1.3. Please use the V3.3 Nov
> 30,
> 2010 12:45:30 runtime or higher.
>
> I have been searching for answers to this problem for a couple of days and
> have
> come up empty.
>
> Does anyone here have any suggestions?
>
> Best regards,
> Jason Doege
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From jason.doege at doege.com  Fri Mar 25 07:15:14 2011
From: jason.doege at doege.com (Jason Doege)
Date: Fri, 25 Mar 2011 09:15:14 -0500
Subject: [antlr-interest] Problem with ANTLR3.3 and Python 2.7
In-Reply-To: <AANLkTiktnLJ03h+JRMA93c_Qfgsx-TaYFndPSjz7Evx8@mail.gmail.com>
References: <AANLkTikWWcfKcju65XT1pou_euyeO_b24qdOMaK93RWz@mail.gmail.com>
	<AANLkTiktnLJ03h+JRMA93c_Qfgsx-TaYFndPSjz7Evx8@mail.gmail.com>
Message-ID: <4D8CA372.1000403@doege.com>

Thanks very much. Do you happen to remember which ANTLRWorks release 
contained ANTLR 3.1.3?

Best regards,
Jason Doege

On 3/25/2011 4:50 AM, Benjamin Niemann wrote:
> Hi Jason,
>
> the Python target hasn't been updated since the 3.1.3 release. Using
> the runtime with later versions of the tool would probably result in
> very subtle errors, so the code does some very strict checking.
> I'm working right now on bringing Python back up to speed. In the
> meantime you might want to use the 3.1.3 release of antlr from
> http://www.antlr.org/download
> I also updated the wiki to reflect that.
>
> -Ben
>
> On Thu, Mar 24, 2011 at 10:28 PM, Jason Doege<jdoege at gmail.com>  wrote:
>> Hi all,
>>
>>
>> I am attempting to use ANTLRWorks with Python2.7 on Windows 7. I am using
>> the
>> latest ANTLRWorks release which I think includes ANTLR3.3
>>
>>
>> I obtained the python runtime from the antlr-3.3.tar.gz file specified on
>> this
>> webpage: http://www.antlr.org/wiki/display/ANTLR3/Python+runtime (the
>> "Complete
>> ANTLR 3.x Java binaries jar" file mentioned on the webpage actually
>> contained no
>> Python runtime.)
>>
>>
>> I moved the antlr3 folder to my LIB directory under my python2.7
>> installation
>> directory as have for every other library I use.
>>
>> I built and compiled a grammar without difficulty and tried to run the
>> resultant
>> parser and I get the following error:
>>
>> RuntimeError: ANTLR version mismatch: The recognizer has been generated by
>> V3.3
>> Nov 30, 2010 12:45:30, but this runtime is V3.1.3. Please use the V3.3 Nov
>> 30,
>> 2010 12:45:30 runtime or higher.
>>
>> I have been searching for answers to this problem for a couple of days and
>> have
>> come up empty.
>>
>> Does anyone here have any suggestions?
>>
>> Best regards,
>> Jason Doege
>>
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>


From researcher0x00 at gmail.com  Fri Mar 25 07:19:35 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Fri, 25 Mar 2011 10:19:35 -0400
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <AANLkTi=GotzbmArP+LPEbP7aZHVW-AFhXDUPTJctkO0o@mail.gmail.com>
References: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
	<4D8B09CD.7030600@fmf.uni-lj.si>
	<D9CFF953-4FA4-4C8A-9031-4255A300A342@cs.usfca.edu>
	<AANLkTi=GotzbmArP+LPEbP7aZHVW-AFhXDUPTJctkO0o@mail.gmail.com>
Message-ID: <AANLkTi=j5cFeORWekJ0jwbFqNOw3Q_AQJVsFJFqKfz0p@mail.gmail.com>



On Thu, Mar 24, 2011 at 2:32 PM, The Researcher <researcher0x00 at gmail.com>wrote:

>
>
> On Thu, Mar 24, 2011 at 1:23 PM, Terence Parr <parrt at cs.usfca.edu> wrote:
>
>> added
>>
>> * Tree parser error handling should skip subtrees not nodes; these are
>> programming errors not input errors.  The flat stream makes it hard to
>> resync.
>>
>> Ter
>>  On Mar 24, 2011, at 2:07 AM, Iztok Kavkler wrote:
>>
>> >> Howdy, I'm going to start augmenting ANTLR v3 significantly to create
>> v4. The goal is backward compatibility; any new functionality, of course,
>> will require altering or augmenting your grammars to take advantage of it.
>> Here is my potential list of updates:
>> >>
>> >> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>> >>
>> >> Anything to add or comment on?
>> >>
>> >> Ter
>> >>
>> >> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> >> Unsubscribe:
>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>> >
>> > A new error recovery mode for tree parsing:
>> > When parsing ASTs, the ordinary error recovery strategies based on token
>> > deletion/insertion are completely useless, because there are no man-made
>> > syntax errors. In my experience, what you really want to do is the
>> > following: assume that you have an error handler attached to some rule
>> > and an error happens somewhere in the subtree of the node parsed by that
>> > rule. When the handler catches an error, the parser must skip the
>> > remainder of that subtree, otherwise the parser position is not
>> > consistent with the grammar position anymore. In AST implementations
>> > that are based on pointers between nodes this happens automatically, but
>> > Antlr's representation as a flat list of nodes with UP and DOWN tokens
>> > makes it requires some work - the parser has to keep track of the
>> > current node's depth and skip the appropriate number of UP nodes
>> > whenever an error is caught.
>> >
>> > Iztok
>> >
>> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> > Unsubscribe:
>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>
>>
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe:
>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>
>
>
> 1. If my concept of scannerless parsing is the same as yours, then in the
> generated code for a rule allow the true for "do { <rule code> }
> while(true)" to be an attribute of the rule, i.e exit. Obviously the value
> would be true unless changed by a user.This would allow the user to have
> control of when to exit the rule. By turning true into a attribute of the
> rule, this allows for more control than gated semantic predicates.
>
> Based on by concept of scannerless parsing, there is no lexer and the
> parser drives the reading of the tokens from the intput stream. The input
> stream does not generate the tokens ahead of time but only when needed. In a
> quick proof of concept I had the token type passed from the parser as a
> generic parameter, allowing the redefinition of the token returned by the
> token stream. There were no pre-defined tokens values; they were dynamically
> generated.To get the proof of concept to work required having a
> cross-reference table between token types and token values.
>
> 2. If ANTLR 4 will allow the reading of binary data streams, then please
> don't put char and line pos in a base class. There could be one inherited
> classes that defines line and char pos, and another inherited class that
> defines offset.
>
> Thanks
>
> Eric
>
>
After finding Scannerless Generalized LR (SGLR),  which I believe is closer
to your meaning, my concept of scannerless parsing is different enough that
the reference should should be disregarded. I still submit the request for a
rule to have an exit attribute.

Thanks, Eric

From pink at odahoda.de  Fri Mar 25 08:27:05 2011
From: pink at odahoda.de (Benjamin Niemann)
Date: Fri, 25 Mar 2011 16:27:05 +0100
Subject: [antlr-interest] Problem with ANTLR3.3 and Python 2.7
In-Reply-To: <4D8CA372.1000403@doege.com>
References: <AANLkTikWWcfKcju65XT1pou_euyeO_b24qdOMaK93RWz@mail.gmail.com>
	<AANLkTiktnLJ03h+JRMA93c_Qfgsx-TaYFndPSjz7Evx8@mail.gmail.com>
	<4D8CA372.1000403@doege.com>
Message-ID: <AANLkTin3o79hGEM5A+N75jxVH+B2W=Ns317xQS79N+Lg@mail.gmail.com>

On Fri, Mar 25, 2011 at 3:15 PM, Jason Doege <jason.doege at doege.com> wrote:
> Thanks very much. Do you happen to remember which ANTLRWorks release
> contained ANTLR 3.1.3?

AW V1.2.2 contains 3.1.1. Give that one a try.

-Ben


>
> Best regards,
> Jason Doege
>
> On 3/25/2011 4:50 AM, Benjamin Niemann wrote:
>> Hi Jason,
>>
>> the Python target hasn't been updated since the 3.1.3 release. Using
>> the runtime with later versions of the tool would probably result in
>> very subtle errors, so the code does some very strict checking.
>> I'm working right now on bringing Python back up to speed. In the
>> meantime you might want to use the 3.1.3 release of antlr from
>> http://www.antlr.org/download
>> I also updated the wiki to reflect that.
>>
>> -Ben
>>
>> On Thu, Mar 24, 2011 at 10:28 PM, Jason Doege<jdoege at gmail.com> ?wrote:
>>> Hi all,
>>>
>>>
>>> I am attempting to use ANTLRWorks with Python2.7 on Windows 7. I am using
>>> the
>>> latest ANTLRWorks release which I think includes ANTLR3.3
>>>
>>>
>>> I obtained the python runtime from the antlr-3.3.tar.gz file specified on
>>> this
>>> webpage: http://www.antlr.org/wiki/display/ANTLR3/Python+runtime (the
>>> "Complete
>>> ANTLR 3.x Java binaries jar" file mentioned on the webpage actually
>>> contained no
>>> Python runtime.)
>>>
>>>
>>> I moved the antlr3 folder to my LIB directory under my python2.7
>>> installation
>>> directory as have for every other library I use.
>>>
>>> I built and compiled a grammar without difficulty and tried to run the
>>> resultant
>>> parser and I get the following error:
>>>
>>> RuntimeError: ANTLR version mismatch: The recognizer has been generated by
>>> V3.3
>>> Nov 30, 2010 12:45:30, but this runtime is V3.1.3. Please use the V3.3 Nov
>>> 30,
>>> 2010 12:45:30 runtime or higher.
>>>
>>> I have been searching for answers to this problem for a couple of days and
>>> have
>>> come up empty.
>>>
>>> Does anyone here have any suggestions?
>>>
>>> Best regards,
>>> Jason Doege
>>>
>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>>
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From pink at odahoda.de  Fri Mar 25 08:28:51 2011
From: pink at odahoda.de (Benjamin Niemann)
Date: Fri, 25 Mar 2011 16:28:51 +0100
Subject: [antlr-interest] Problem with ANTLR3.3 and Python 2.7
In-Reply-To: <AANLkTin3o79hGEM5A+N75jxVH+B2W=Ns317xQS79N+Lg@mail.gmail.com>
References: <AANLkTikWWcfKcju65XT1pou_euyeO_b24qdOMaK93RWz@mail.gmail.com>
	<AANLkTiktnLJ03h+JRMA93c_Qfgsx-TaYFndPSjz7Evx8@mail.gmail.com>
	<4D8CA372.1000403@doege.com>
	<AANLkTin3o79hGEM5A+N75jxVH+B2W=Ns317xQS79N+Lg@mail.gmail.com>
Message-ID: <AANLkTim__oyYW1ihLu4scg12uV5ZM46v7Bert+rqZ6+p@mail.gmail.com>

Actually.. you have to compile and run the parser outside of AW
anyway, so it shouldn't matter what the ANTLR version is that is
shipped with AW. So the latest version *might* work just fine.

On Fri, Mar 25, 2011 at 4:27 PM, Benjamin Niemann <pink at odahoda.de> wrote:
> On Fri, Mar 25, 2011 at 3:15 PM, Jason Doege <jason.doege at doege.com> wrote:
>> Thanks very much. Do you happen to remember which ANTLRWorks release
>> contained ANTLR 3.1.3?
>
> AW V1.2.2 contains 3.1.1. Give that one a try.
>
> -Ben
>
>
>>
>> Best regards,
>> Jason Doege
>>
>> On 3/25/2011 4:50 AM, Benjamin Niemann wrote:
>>> Hi Jason,
>>>
>>> the Python target hasn't been updated since the 3.1.3 release. Using
>>> the runtime with later versions of the tool would probably result in
>>> very subtle errors, so the code does some very strict checking.
>>> I'm working right now on bringing Python back up to speed. In the
>>> meantime you might want to use the 3.1.3 release of antlr from
>>> http://www.antlr.org/download
>>> I also updated the wiki to reflect that.
>>>
>>> -Ben
>>>
>>> On Thu, Mar 24, 2011 at 10:28 PM, Jason Doege<jdoege at gmail.com> ?wrote:
>>>> Hi all,
>>>>
>>>>
>>>> I am attempting to use ANTLRWorks with Python2.7 on Windows 7. I am using
>>>> the
>>>> latest ANTLRWorks release which I think includes ANTLR3.3
>>>>
>>>>
>>>> I obtained the python runtime from the antlr-3.3.tar.gz file specified on
>>>> this
>>>> webpage: http://www.antlr.org/wiki/display/ANTLR3/Python+runtime (the
>>>> "Complete
>>>> ANTLR 3.x Java binaries jar" file mentioned on the webpage actually
>>>> contained no
>>>> Python runtime.)
>>>>
>>>>
>>>> I moved the antlr3 folder to my LIB directory under my python2.7
>>>> installation
>>>> directory as have for every other library I use.
>>>>
>>>> I built and compiled a grammar without difficulty and tried to run the
>>>> resultant
>>>> parser and I get the following error:
>>>>
>>>> RuntimeError: ANTLR version mismatch: The recognizer has been generated by
>>>> V3.3
>>>> Nov 30, 2010 12:45:30, but this runtime is V3.1.3. Please use the V3.3 Nov
>>>> 30,
>>>> 2010 12:45:30 runtime or higher.
>>>>
>>>> I have been searching for answers to this problem for a couple of days and
>>>> have
>>>> come up empty.
>>>>
>>>> Does anyone here have any suggestions?
>>>>
>>>> Best regards,
>>>> Jason Doege
>>>>
>>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>>>
>>
>>
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>
>

From Philip.Moetteli at tele2.ch  Fri Mar 25 09:16:13 2011
From: Philip.Moetteli at tele2.ch (=?iso-8859-1?Q?Philip_M=F6tteli?=)
Date: Fri, 25 Mar 2011 17:16:13 +0100
Subject: [antlr-interest] Nobody can tell me,
 what "mismatched arguments on these templates" means?
Message-ID: <53A22BBB-BF00-443F-8340-E65F21C8ABAB@tele2.ch>

Hello,


I have a grammar, for which I can generate code in ANTLRWorks, if I say

	Language=C;

If I change it to

	Language=ObjC;

then, I get the following error:

> Cannot generate the grammar because:
> error(10): internal error: group ObjC does not satisfy interface ANTLRCore: mismatched arguments on these templates [lexerStringRef(string, label, elementIndex)]


How can I correct that?


Thanks


From james_ladd at hotmail.com  Fri Mar 25 14:57:17 2011
From: james_ladd at hotmail.com (James Ladd)
Date: Sat, 26 Mar 2011 08:57:17 +1100
Subject: [antlr-interest] All choices need a predicate?
In-Reply-To: <mailman.1.1301079601.3004.antlr-interest@antlr.org>
References: <mailman.1.1301079601.3004.antlr-interest@antlr.org>
Message-ID: <BAY149-w44F31E8A34B255144CAC8DEDB90@phx.gbl>


Hi All,

I have a rule with multiple choices.

Do I have to add a predicate to all choices or can I add just the predicates
that I want, ie: leaving the more complicated choice without a predicate?

For example:

primary returns [Primary n]
    :    ('(') => l = '(' expression {$n = new PrimaryExpression($expression.n, $l.line);} ')'
    |    (NAME) => variable {$n = $variable.n;}
    |    (OPEN_BLOCK) => block {$n = $block.n;}
    |    literal {$n = $literal.n;}
    |    ('{') => array {$n = $array.n;}
    ;


Also, is it possible to add multiple choices to a predicate?

eg: ( this | that | thing ) => xxxx

Rgs, James.

 		 	   		  

From quagly at me.com  Fri Mar 25 15:52:14 2011
From: quagly at me.com (Michael West)
Date: Fri, 25 Mar 2011 15:52:14 -0700 (PDT)
Subject: [antlr-interest] 1pass cannot add/subtract more than two
	consecutive integers
Message-ID: <1301093534579-6209416.post@n2.nabble.com>

There seems to be a problem in the definitive guide example code
templates/generator/1pass/Expr.g

If more that two integers are added then the middle ones drop out, that is
1+2+3+4 becomes 1+4 in the generated jasmin.  Seems to be that ops is not
treated as an array in the expr rule.  My fix for this is:

Original Expr.g expr rule:


expr
    :   multExpr ( ops+=addOp | ops+=subOp )*
        -> expr(firstExpr={$multExpr.st}, ops={ops})
    ;


Modified Expr.g expr rule


expr
    :   multExpr ( ops+=addOp | ops+=subOp )*
        -> expr(firstExpr={$multExpr.st}, ops={$ops})
    ;


by adding the $ so that ops becomes $ops it gets treated as an array as it
should.

then since the template is getting an array now, need to add a separator to
the expr template in ByteCode.stg

Original expr template


expr(firstExpr, ops) ::= <<




Modified expr template

expr(firstExpr, ops) ::= <<

&lt;ops; separator=&quot;\n&quot;&gt;
>>

I didn't see a post on this previously.  This works for me.  Hope this helps
someone.

--
View this message in context: http://antlr.1301665.n2.nabble.com/1pass-cannot-add-subtract-more-than-two-consecutive-integers-tp6209416p6209416.html
Sent from the ANTLR mailing list archive at Nabble.com.

From pgquiles at elpauer.org  Fri Mar 25 16:41:56 2011
From: pgquiles at elpauer.org (Pau Garcia i Quiles)
Date: Sat, 26 Mar 2011 00:41:56 +0100
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
References: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
Message-ID: <AANLkTimyFnyHFC07ye=XxQmYDqMYm4aXh0rJ1EtUj5VZ@mail.gmail.com>

On Tue, Mar 22, 2011 at 6:45 PM, Terence Parr <parrt at cs.usfca.edu> wrote:
> Howdy, I'm going to start augmenting ANTLR v3 significantly to create v4. The goal is backward compatibility; any new functionality, of course, will require altering or augmenting your grammars to take advantage of it. Here is my potential list of updates:
>
> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>
> Anything to add or comment on?

While not part of ANTLR per se, an update to the book would be nice

-- 
Pau Garcia i Quiles
http://www.elpauer.org
(Due to my workload, I may need 10 days to answer)

From parrt at cs.usfca.edu  Fri Mar 25 16:54:44 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Fri, 25 Mar 2011 16:54:44 -0700
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <AANLkTimyFnyHFC07ye=XxQmYDqMYm4aXh0rJ1EtUj5VZ@mail.gmail.com>
References: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
	<AANLkTimyFnyHFC07ye=XxQmYDqMYm4aXh0rJ1EtUj5VZ@mail.gmail.com>
Message-ID: <07D3BC56-4D28-408D-BE88-ADE7AC036BD0@cs.usfca.edu>

For sure. :)
Ter
On Mar 25, 2011, at 4:41 PM, Pau Garcia i Quiles wrote:

> On Tue, Mar 22, 2011 at 6:45 PM, Terence Parr <parrt at cs.usfca.edu> wrote:
>> Howdy, I'm going to start augmenting ANTLR v3 significantly to create v4. The goal is backward compatibility; any new functionality, of course, will require altering or augmenting your grammars to take advantage of it. Here is my potential list of updates:
>> 
>> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>> 
>> Anything to add or comment on?
> 
> While not part of ANTLR per se, an update to the book would be nice
> 
> -- 
> Pau Garcia i Quiles
> http://www.elpauer.org
> (Due to my workload, I may need 10 days to answer)


From jdoege at gmail.com  Sat Mar 26 10:21:24 2011
From: jdoege at gmail.com (Jason Doege)
Date: Sat, 26 Mar 2011 12:21:24 -0500
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <AANLkTi=j5cFeORWekJ0jwbFqNOw3Q_AQJVsFJFqKfz0p@mail.gmail.com>
References: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>	<4D8B09CD.7030600@fmf.uni-lj.si>	<D9CFF953-4FA4-4C8A-9031-4255A300A342@cs.usfca.edu>	<AANLkTi=GotzbmArP+LPEbP7aZHVW-AFhXDUPTJctkO0o@mail.gmail.com>
	<AANLkTi=j5cFeORWekJ0jwbFqNOw3Q_AQJVsFJFqKfz0p@mail.gmail.com>
Message-ID: <4D8E2094.20808@gmail.com>

Re: Scanner-less parsing

The Parse::RecDescent module for Perl5 implements parsers without a 
separate scanner and is what comes to mind when I hear the phrase 
scanner-less. If you were to retain a scanner, I think the 
characteristic that could provide the same function is to provide 
context to the scanner so that when you go to get the next token, the 
scanner only considers the type of token next expected in the current 
alternative in the production. This way one could have multiple tokens 
that might all match some text (but not others) and have the context of 
the production resolve which one it was, (so long as it matched, of course.)

For instance, I might want to have separate token types for binary, hex 
and decimal digits, but a scanner can not tell which of the three it is 
if the input is '0' or '1'. Hex overlaps with decimal for 0-9 and 
overlaps with binary for 0-1 and potentially 'x', 'X', 'z' and 'Z' for 
some implementations. There absolutely are other ways to handle this, 
but there is a great deal of flexibility that comes from permitting 
context to guide the scanner.

Having to work through the unambiguity of lexer patterns was something 
that was unexpected when I recently began working with ANTLR. I suspect 
that this would not be the case for someone who is more accustomed to 
using Lex/Yacc or comes from a more traditional or academic 
parser-building background.

Best regards,
Jason Doege

On 3/25/2011 9:19 AM, The Researcher wrote:
> 
>
> On Thu, Mar 24, 2011 at 2:32 PM, The Researcher<researcher0x00 at gmail.com>wrote:
>
>>
>> On Thu, Mar 24, 2011 at 1:23 PM, Terence Parr<parrt at cs.usfca.edu>  wrote:
>>
>>> added
>>>
>>> * Tree parser error handling should skip subtrees not nodes; these are
>>> programming errors not input errors.  The flat stream makes it hard to
>>> resync.
>>>
>>> Ter
>>>   On Mar 24, 2011, at 2:07 AM, Iztok Kavkler wrote:
>>>
>>>>> Howdy, I'm going to start augmenting ANTLR v3 significantly to create
>>> v4. The goal is backward compatibility; any new functionality, of course,
>>> will require altering or augmenting your grammars to take advantage of it.
>>> Here is my potential list of updates:
>>>>> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>>>>>
>>>>> Anything to add or comment on?
>>>>>
>>>>> Ter
>>>>>
>>>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>>>> Unsubscribe:
>>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>>> A new error recovery mode for tree parsing:
>>>> When parsing ASTs, the ordinary error recovery strategies based on token
>>>> deletion/insertion are completely useless, because there are no man-made
>>>> syntax errors. In my experience, what you really want to do is the
>>>> following: assume that you have an error handler attached to some rule
>>>> and an error happens somewhere in the subtree of the node parsed by that
>>>> rule. When the handler catches an error, the parser must skip the
>>>> remainder of that subtree, otherwise the parser position is not
>>>> consistent with the grammar position anymore. In AST implementations
>>>> that are based on pointers between nodes this happens automatically, but
>>>> Antlr's representation as a flat list of nodes with UP and DOWN tokens
>>>> makes it requires some work - the parser has to keep track of the
>>>> current node's depth and skip the appropriate number of UP nodes
>>>> whenever an error is caught.
>>>>
>>>> Iztok
>>>>
>>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>>> Unsubscribe:
>>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>>
>>>
>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>> Unsubscribe:
>>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>>
>>
>> 1. If my concept of scannerless parsing is the same as yours, then in the
>> generated code for a rule allow the true for "do {<rule code>  }
>> while(true)" to be an attribute of the rule, i.e exit. Obviously the value
>> would be true unless changed by a user.This would allow the user to have
>> control of when to exit the rule. By turning true into a attribute of the
>> rule, this allows for more control than gated semantic predicates.
>>
>> Based on by concept of scannerless parsing, there is no lexer and the
>> parser drives the reading of the tokens from the intput stream. The input
>> stream does not generate the tokens ahead of time but only when needed. In a
>> quick proof of concept I had the token type passed from the parser as a
>> generic parameter, allowing the redefinition of the token returned by the
>> token stream. There were no pre-defined tokens values; they were dynamically
>> generated.To get the proof of concept to work required having a
>> cross-reference table between token types and token values.
>>
>> 2. If ANTLR 4 will allow the reading of binary data streams, then please
>> don't put char and line pos in a base class. There could be one inherited
>> classes that defines line and char pos, and another inherited class that
>> defines offset.
>>
>> Thanks
>>
>> Eric
>>
>>
> After finding Scannerless Generalized LR (SGLR),  which I believe is closer
> to your meaning, my concept of scannerless parsing is different enough that
> the reference should should be disregarded. I still submit the request for a
> rule to have an exit attribute.
>
> Thanks, Eric
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>


From researcher0x00 at gmail.com  Sat Mar 26 11:36:44 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Sat, 26 Mar 2011 14:36:44 -0400
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <4D8E2094.20808@gmail.com>
References: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
	<4D8B09CD.7030600@fmf.uni-lj.si>
	<D9CFF953-4FA4-4C8A-9031-4255A300A342@cs.usfca.edu>
	<AANLkTi=GotzbmArP+LPEbP7aZHVW-AFhXDUPTJctkO0o@mail.gmail.com>
	<AANLkTi=j5cFeORWekJ0jwbFqNOw3Q_AQJVsFJFqKfz0p@mail.gmail.com>
	<4D8E2094.20808@gmail.com>
Message-ID: <AANLkTimbu_iS9wYVsXLXgrhY75r6QwKjOCNOR7=46E5t@mail.gmail.com>

On Sat, Mar 26, 2011 at 1:21 PM, Jason Doege <jdoege at gmail.com> wrote:

> Re: Scanner-less parsing
>
> The Parse::RecDescent module for Perl5 implements parsers without a
> separate scanner and is what comes to mind when I hear the phrase
> scanner-less. If you were to retain a scanner, I think the
> characteristic that could provide the same function is to provide
> context to the scanner so that when you go to get the next token, the
> scanner only considers the type of token next expected in the current
> alternative in the production. This way one could have multiple tokens
> that might all match some text (but not others) and have the context of
> the production resolve which one it was, (so long as it matched, of
> course.)
>
> For instance, I might want to have separate token types for binary, hex
> and decimal digits, but a scanner can not tell which of the three it is
> if the input is '0' or '1'. Hex overlaps with decimal for 0-9 and
> overlaps with binary for 0-1 and potentially 'x', 'X', 'z' and 'Z' for
> some implementations. There absolutely are other ways to handle this,
> but there is a great deal of flexibility that comes from permitting
> context to guide the scanner.
>
> Having to work through the unambiguity of lexer patterns was something
> that was unexpected when I recently began working with ANTLR. I suspect
> that this would not be the case for someone who is more accustomed to
> using Lex/Yacc or comes from a more traditional or academic
> parser-building background.
>
> Best regards,
> Jason Doege
>
> On 3/25/2011 9:19 AM, The Researcher wrote:
> >
> >
> > On Thu, Mar 24, 2011 at 2:32 PM, The Researcher<researcher0x00 at gmail.com
> >wrote:
> >
> >>
> >> On Thu, Mar 24, 2011 at 1:23 PM, Terence Parr<parrt at cs.usfca.edu>
>  wrote:
> >>
> >>> added
> >>>
> >>> * Tree parser error handling should skip subtrees not nodes; these are
> >>> programming errors not input errors.  The flat stream makes it hard to
> >>> resync.
> >>>
> >>> Ter
> >>>   On Mar 24, 2011, at 2:07 AM, Iztok Kavkler wrote:
> >>>
> >>>>> Howdy, I'm going to start augmenting ANTLR v3 significantly to create
> >>> v4. The goal is backward compatibility; any new functionality, of
> course,
> >>> will require altering or augmenting your grammars to take advantage of
> it.
> >>> Here is my potential list of updates:
> >>>>> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
> >>>>>
> >>>>> Anything to add or comment on?
> >>>>>
> >>>>> Ter
> >>>>>
> >>>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >>>>> Unsubscribe:
> >>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
> >>>> A new error recovery mode for tree parsing:
> >>>> When parsing ASTs, the ordinary error recovery strategies based on
> token
> >>>> deletion/insertion are completely useless, because there are no
> man-made
> >>>> syntax errors. In my experience, what you really want to do is the
> >>>> following: assume that you have an error handler attached to some rule
> >>>> and an error happens somewhere in the subtree of the node parsed by
> that
> >>>> rule. When the handler catches an error, the parser must skip the
> >>>> remainder of that subtree, otherwise the parser position is not
> >>>> consistent with the grammar position anymore. In AST implementations
> >>>> that are based on pointers between nodes this happens automatically,
> but
> >>>> Antlr's representation as a flat list of nodes with UP and DOWN tokens
> >>>> makes it requires some work - the parser has to keep track of the
> >>>> current node's depth and skip the appropriate number of UP nodes
> >>>> whenever an error is caught.
> >>>>
> >>>> Iztok
> >>>>
> >>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >>>> Unsubscribe:
> >>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
> >>>
> >>>
> >>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >>> Unsubscribe:
> >>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
> >>>
> >>
> >> 1. If my concept of scannerless parsing is the same as yours, then in
> the
> >> generated code for a rule allow the true for "do {<rule code>  }
> >> while(true)" to be an attribute of the rule, i.e exit. Obviously the
> value
> >> would be true unless changed by a user.This would allow the user to have
> >> control of when to exit the rule. By turning true into a attribute of
> the
> >> rule, this allows for more control than gated semantic predicates.
> >>
> >> Based on by concept of scannerless parsing, there is no lexer and the
> >> parser drives the reading of the tokens from the intput stream. The
> input
> >> stream does not generate the tokens ahead of time but only when needed.
> In a
> >> quick proof of concept I had the token type passed from the parser as a
> >> generic parameter, allowing the redefinition of the token returned by
> the
> >> token stream. There were no pre-defined tokens values; they were
> dynamically
> >> generated.To get the proof of concept to work required having a
> >> cross-reference table between token types and token values.
> >>
> >> 2. If ANTLR 4 will allow the reading of binary data streams, then please
> >> don't put char and line pos in a base class. There could be one
> inherited
> >> classes that defines line and char pos, and another inherited class that
> >> defines offset.
> >>
> >> Thanks
> >>
> >> Eric
> >>
> >>
> > After finding Scannerless Generalized LR (SGLR),  which I believe is
> closer
> > to your meaning, my concept of scannerless parsing is different enough
> that
> > the reference should should be disregarded. I still submit the request
> for a
> > rule to have an exit attribute.
> >
> > Thanks, Eric
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
> >
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>


Jason  Thanks for the info.

Ter, with regards to wishes for ANTLR 4, I don't know how long you will be
leaving the pipeline open, so I am sending in my wishes before the pipeline
closes and the wishes aren't as polished as they should be.

More in line with what I am wishing is that ANTLR 4 have more features
accessible from the grammar for doing research; possibly via a research
mode. The ablility to manipulate the state machine for each rule is desired,
along with the ability to manipulte the trees in a fashion simular to
PROLOG.

I know you have been considering LLVM, for which I would truly like to see
in ANTLR 4, and that may be the ingress I seek.

I wish I could flesh out the details more, but maybe others can hop onto
this suggestion.

Thanks, Eric

From parrt at cs.usfca.edu  Sat Mar 26 11:59:28 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Sat, 26 Mar 2011 11:59:28 -0700
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <AANLkTimbu_iS9wYVsXLXgrhY75r6QwKjOCNOR7=46E5t@mail.gmail.com>
References: <F8A011FA-9DBE-4024-8982-2D9EC66849E9@cs.usfca.edu>
	<4D8B09CD.7030600@fmf.uni-lj.si>
	<D9CFF953-4FA4-4C8A-9031-4255A300A342@cs.usfca.edu>
	<AANLkTi=GotzbmArP+LPEbP7aZHVW-AFhXDUPTJctkO0o@mail.gmail.com>
	<AANLkTi=j5cFeORWekJ0jwbFqNOw3Q_AQJVsFJFqKfz0p@mail.gmail.com>
	<4D8E2094.20808@gmail.com>
	<AANLkTimbu_iS9wYVsXLXgrhY75r6QwKjOCNOR7=46E5t@mail.gmail.com>
Message-ID: <2D058444-8F04-4B43-B1AF-3CA7A4A4D402@cs.usfca.edu>

thanks for the ideas gang!  I'll see how things progress soon.

first task: rebuild v3 antlr parser in v3 and jam into v3 code base; it's in v2 now.

then might attack lexer stuff.

Ter
On Mar 26, 2011, at 11:36 AM, The Researcher wrote:

> On Sat, Mar 26, 2011 at 1:21 PM, Jason Doege <jdoege at gmail.com> wrote:
> 
>> Re: Scanner-less parsing
>> 
>> The Parse::RecDescent module for Perl5 implements parsers without a
>> separate scanner and is what comes to mind when I hear the phrase
>> scanner-less. If you were to retain a scanner, I think the
>> characteristic that could provide the same function is to provide
>> context to the scanner so that when you go to get the next token, the
>> scanner only considers the type of token next expected in the current
>> alternative in the production. This way one could have multiple tokens
>> that might all match some text (but not others) and have the context of
>> the production resolve which one it was, (so long as it matched, of
>> course.)
>> 
>> For instance, I might want to have separate token types for binary, hex
>> and decimal digits, but a scanner can not tell which of the three it is
>> if the input is '0' or '1'. Hex overlaps with decimal for 0-9 and
>> overlaps with binary for 0-1 and potentially 'x', 'X', 'z' and 'Z' for
>> some implementations. There absolutely are other ways to handle this,
>> but there is a great deal of flexibility that comes from permitting
>> context to guide the scanner.
>> 
>> Having to work through the unambiguity of lexer patterns was something
>> that was unexpected when I recently began working with ANTLR. I suspect
>> that this would not be the case for someone who is more accustomed to
>> using Lex/Yacc or comes from a more traditional or academic
>> parser-building background.
>> 
>> Best regards,
>> Jason Doege
>> 
>> On 3/25/2011 9:19 AM, The Researcher wrote:
>>> 
>>> 
>>> On Thu, Mar 24, 2011 at 2:32 PM, The Researcher<researcher0x00 at gmail.com
>>> wrote:
>>> 
>>>> 
>>>> On Thu, Mar 24, 2011 at 1:23 PM, Terence Parr<parrt at cs.usfca.edu>
>> wrote:
>>>> 
>>>>> added
>>>>> 
>>>>> * Tree parser error handling should skip subtrees not nodes; these are
>>>>> programming errors not input errors.  The flat stream makes it hard to
>>>>> resync.
>>>>> 
>>>>> Ter
>>>>>  On Mar 24, 2011, at 2:07 AM, Iztok Kavkler wrote:
>>>>> 
>>>>>>> Howdy, I'm going to start augmenting ANTLR v3 significantly to create
>>>>> v4. The goal is backward compatibility; any new functionality, of
>> course,
>>>>> will require altering or augmenting your grammars to take advantage of
>> it.
>>>>> Here is my potential list of updates:
>>>>>>> http://www.antlr.org/wiki/display/ANTLR4/ANTLR+v4+Wish+list
>>>>>>> 
>>>>>>> Anything to add or comment on?
>>>>>>> 
>>>>>>> Ter
>>>>>>> 
>>>>>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>>>>>> Unsubscribe:
>>>>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>>>>> A new error recovery mode for tree parsing:
>>>>>> When parsing ASTs, the ordinary error recovery strategies based on
>> token
>>>>>> deletion/insertion are completely useless, because there are no
>> man-made
>>>>>> syntax errors. In my experience, what you really want to do is the
>>>>>> following: assume that you have an error handler attached to some rule
>>>>>> and an error happens somewhere in the subtree of the node parsed by
>> that
>>>>>> rule. When the handler catches an error, the parser must skip the
>>>>>> remainder of that subtree, otherwise the parser position is not
>>>>>> consistent with the grammar position anymore. In AST implementations
>>>>>> that are based on pointers between nodes this happens automatically,
>> but
>>>>>> Antlr's representation as a flat list of nodes with UP and DOWN tokens
>>>>>> makes it requires some work - the parser has to keep track of the
>>>>>> current node's depth and skip the appropriate number of UP nodes
>>>>>> whenever an error is caught.
>>>>>> 
>>>>>> Iztok
>>>>>> 
>>>>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>>>>> Unsubscribe:
>>>>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>>>> 
>>>>> 
>>>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>>>> Unsubscribe:
>>>>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>>>> 
>>>> 
>>>> 1. If my concept of scannerless parsing is the same as yours, then in
>> the
>>>> generated code for a rule allow the true for "do {<rule code>  }
>>>> while(true)" to be an attribute of the rule, i.e exit. Obviously the
>> value
>>>> would be true unless changed by a user.This would allow the user to have
>>>> control of when to exit the rule. By turning true into a attribute of
>> the
>>>> rule, this allows for more control than gated semantic predicates.
>>>> 
>>>> Based on by concept of scannerless parsing, there is no lexer and the
>>>> parser drives the reading of the tokens from the intput stream. The
>> input
>>>> stream does not generate the tokens ahead of time but only when needed.
>> In a
>>>> quick proof of concept I had the token type passed from the parser as a
>>>> generic parameter, allowing the redefinition of the token returned by
>> the
>>>> token stream. There were no pre-defined tokens values; they were
>> dynamically
>>>> generated.To get the proof of concept to work required having a
>>>> cross-reference table between token types and token values.
>>>> 
>>>> 2. If ANTLR 4 will allow the reading of binary data streams, then please
>>>> don't put char and line pos in a base class. There could be one
>> inherited
>>>> classes that defines line and char pos, and another inherited class that
>>>> defines offset.
>>>> 
>>>> Thanks
>>>> 
>>>> Eric
>>>> 
>>>> 
>>> After finding Scannerless Generalized LR (SGLR),  which I believe is
>> closer
>>> to your meaning, my concept of scannerless parsing is different enough
>> that
>>> the reference should should be disregarded. I still submit the request
>> for a
>>> rule to have an exit attribute.
>>> 
>>> Thanks, Eric
>>> 
>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>> Unsubscribe:
>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>> 
>> 
>> 
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe:
>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>> 
> 
> 
> Jason  Thanks for the info.
> 
> Ter, with regards to wishes for ANTLR 4, I don't know how long you will be
> leaving the pipeline open, so I am sending in my wishes before the pipeline
> closes and the wishes aren't as polished as they should be.
> 
> More in line with what I am wishing is that ANTLR 4 have more features
> accessible from the grammar for doing research; possibly via a research
> mode. The ablility to manipulate the state machine for each rule is desired,
> along with the ability to manipulte the trees in a fashion simular to
> PROLOG.
> 
> I know you have been considering LLVM, for which I would truly like to see
> in ANTLR 4, and that may be the ingress I seek.
> 
> I wish I could flesh out the details more, but maybe others can hop onto
> this suggestion.
> 
> Thanks, Eric
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From james_ladd at hotmail.com  Sat Mar 26 14:04:37 2011
From: james_ladd at hotmail.com (James Ladd)
Date: Sun, 27 Mar 2011 08:04:37 +1100
Subject: [antlr-interest] Want PAID Antlr work?
In-Reply-To: <mailman.1.1301166001.26373.antlr-interest@antlr.org>
References: <mailman.1.1301166001.26373.antlr-interest@antlr.org>
Message-ID: <BAY149-w29EC1E292D0DB3D4B1BAE3EDB80@phx.gbl>


Hi All,

I doing well with my grammar but now I have got it to a place where I need an expert to
help remove my need for backtracing.

If you are interested in being paid to help me with my grammar then please respond to 
this email and we can discuss off-list.

BTW - The grammar is Smalltalk-80 and you can see where Im at here:

http://github.com/jamesladd/redline-smalltalk/blob/master/src/main/grammar/Smalltalk.g

Rgs, James.
 		 	   		  

From eugeny.yakimovitch at gmail.com  Sun Mar 27 04:12:19 2011
From: eugeny.yakimovitch at gmail.com (Yauhen Yakimovich)
Date: Sun, 27 Mar 2011 13:12:19 +0200
Subject: [antlr-interest] download link for STv4
Message-ID: <AANLkTikJRyeyuZ3+VdNTjra3=N2kw3Fht4guG_-fJNS0@mail.gmail.com>

Hi Terence,

Could you please update the ST download page somehow, so that that
http://www.stringtemplate.org/download/ will be present there as well.

I was looking for latest ST-4.0b5-src.zip and it took me a while to grasp that

http://www.stringtemplate.org/download/

and

http://www.stringtemplate.org/download.html

are different pages.

Thanks in advance!

-- 
With best regards,
Y.Y.

From parrt at cs.usfca.edu  Sun Mar 27 12:55:06 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Sun, 27 Mar 2011 12:55:06 -0700
Subject: [antlr-interest] Release of StringTemplate 4.0
Message-ID: <7BEF6A0B-3D23-4D68-89B2-2C586E13A114@cs.usfca.edu>

Get it while it's hot. 4.0 is a complete rewrite as a bytecode interpreter. Is much cleaner and faster than 3.0. enjoy.

http://www.stringtemplate.org/download.html

http://www.antlr.org/wiki/display/ST4/StringTemplate+4+Documentation

http://www.antlr.org/wiki/display/ST4/Differences+between+v3+and+v4

The GUI Visualizer / inspector is very useful; check it out:

http://www.antlr.org/wiki/display/ST4/StringTemplate+Inspector+GUI

Ports to C#, Python, Objective-C on the way thanks to Sam Harwell,  Benjamin Niemann, and Alan Condit.

A big thanks to Udo Borkowski for his incredible bug catching abilities and his suggestions!

Terence
ANTLR project supreme dictator for life


From Philip.Moetteli at tele2.ch  Sun Mar 27 14:41:00 2011
From: Philip.Moetteli at tele2.ch (=?iso-8859-1?Q?Philip_M=F6tteli?=)
Date: Sun, 27 Mar 2011 23:41:00 +0200
Subject: [antlr-interest] Sorry,
	I didn't receive your answer! Was: lexerStringRef
In-Reply-To: <2F80DC81-8CE1-46B9-988B-ACCC6FEEF72D@tele2.ch>
References: <2F80DC81-8CE1-46B9-988B-ACCC6FEEF72D@tele2.ch>
Message-ID: <2C75B184-0D16-49A0-BCDB-15897E9FA1F9@tele2.ch>

Hello,


Somehow, your answers didn't drop into my inbox nor in my spam-box. Strange.
I found your answers by googling yet another time around. Sorry for the double post!

>> > Cannot generate the grammar because: 
>> > error(10): internal error: group ObjC does not satisfy interface ANTLRCore: mismatched arguments on these templates [lexerStringRef(string, label, elementIndex)] 

> You can't I think. I believe that the ObjC target you are trying to use is 
> out of date. There is a new one though :-), but I am not sure if we have 
> it available yet. Ter?

> Are you using 3.3 ANTLR? 

ANTLRWorks v1.4.2

And I installed from 'libantlr3c-3.3-SNAPSHOT'.

I recompiled the ObjC framework after having checked out <https://github.com/antlr/antlr> and installed it in </Library/Frameworks>.


Please ask, if you need any further information.


Thanks!


From Philip.Moetteli at tele2.ch  Sun Mar 27 14:43:25 2011
From: Philip.Moetteli at tele2.ch (=?iso-8859-1?Q?Philip_M=F6tteli?=)
Date: Sun, 27 Mar 2011 23:43:25 +0200
Subject: [antlr-interest] Sorry,
	I didn't receive your answer! Was: lexerStringRef
Message-ID: <D07F97B3-DB50-42BD-A226-CFB270F69CA8@tele2.ch>

Btw, this is the error log:

> [19:09:46] error(10):  internal error: group ObjC does not satisfy interface ANTLRCore: mismatched arguments on these templates [lexerStringRef(string, label, elementIndex)] 
> 
> [19:09:46] error(10):  internal error: group ObjC does not satisfy interface ANTLRCore: mismatched arguments on these templates [lexerStringRef(string, label, elementIndex)] 
> 
> [19:09:46] error(10):  internal error: /Users/moetteli/Developer/Source/Frameworks/PMFoundation/ObjCTypeEncoding.g : java.util.NoSuchElementException: no such attribute: elementIndex in template context [lexerStringRef]
> org.antlr.stringtemplate.StringTemplate.rawSetAttribute(StringTemplate.java:647)
> org.antlr.stringtemplate.StringTemplate.setAttribute(StringTemplate.java:508)
> org.antlr.stringtemplate.StringTemplate.setAttribute(StringTemplate.java:544)
> org.antlr.grammar.v2.CodeGenTreeWalker.atom(CodeGenTreeWalker.java:2144)
> org.antlr.grammar.v2.CodeGenTreeWalker.element(CodeGenTreeWalker.java:1708)
> org.antlr.grammar.v2.CodeGenTreeWalker.alternative(CodeGenTreeWalker.java:1306)
> org.antlr.grammar.v2.CodeGenTreeWalker.block(CodeGenTreeWalker.java:1081)
> org.antlr.grammar.v2.CodeGenTreeWalker.rule(CodeGenTreeWalker.java:797)
> org.antlr.grammar.v2.CodeGenTreeWalker.rules(CodeGenTreeWalker.java:588)
> org.antlr.grammar.v2.CodeGenTreeWalker.grammarSpec(CodeGenTreeWalker.java:530)
> org.antlr.grammar.v2.CodeGenTreeWalker.grammar(CodeGenTreeWalker.java:312)
> org.antlr.codegen.CodeGenerator.genRecognizer(CodeGenerator.java:430)
> org.antlr.Tool.generateRecognizer(Tool.java:642)
> org.antlr.Tool.process(Tool.java:510)
> org.antlr.works.generate.CodeGenerate.generate(CodeGenerate.java:104)
> org.antlr.works.generate.CodeGenerate.run(CodeGenerate.java:185)
> java.lang.Thread.run(Thread.java:680)

From rory.winston at gmail.com  Sun Mar 27 20:49:19 2011
From: rory.winston at gmail.com (Rory Winston)
Date: Mon, 28 Mar 2011 14:49:19 +1100
Subject: [antlr-interest] Problem with Simple Grammar :
	NoViableAltException
In-Reply-To: <AANLkTimWbNNeBTq6JMBHVrD820K5_4EEc9OcdFrvBe0K@mail.gmail.com>
References: <AANLkTimWbNNeBTq6JMBHVrD820K5_4EEc9OcdFrvBe0K@mail.gmail.com>
Message-ID: <AANLkTimkbtF+e23=CnZyXcFm-oDKJrMEtEve-JP2K_Yp@mail.gmail.com>

>
> Hi all
>
> Im having some problems with a simple grammar that I have defined. The
> grammar is as follows:
>
> grammar RvMessage;
>
> START_MSG: '{';
> END_MSG: '}';
>
> parse     :     message+ EOF;
>
> message : START_MSG field+ END_MSG;
>
> field : name '=' value;
>
> fragment LOWER: 'a'..'z';
> fragment UPPER: 'A'..'Z';
> LETTER: LOWER | UPPER;
>
> fragment DIGIT: '0'..'9';
>
> name : LETTER (LETTER | DIGIT | '_')*;
>
> NEWLINE: ('\r'? '\n')+ { $channel=HIDDEN; };
>
> fragment SPACE: ' ' | '\t';
> WHITESPACE: SPACE+ { $channel = HIDDEN; };
>
> fragment NONCONTROL_CHAR: LETTER | DIGIT | SYMBOL | SPACE;
>
> fragment SYMBOL: '!' | '#'..'/' | ':'..'@' | '['..'`' | '{'..'~';
>
> STRING_LITERAL : '"' NONCONTROL_CHAR* '"';
> string : STRING_LITERAL;
> SIGN: '+' | '-';
>
> FLOAT: INTEGER '.' DIGIT+;
> INTEGER: '0' | SIGN? '1'..'9' DIGIT*;
> int : INTEGER;
> float : FLOAT;
>
> value : (string | int | float | message);
>
>
> And it can parse simple inputs like the following with no problems:
>
> {
> a=1
> b=2
> c="dddd"
> d=3.14159
> e= { a=1 }
> f={a=1 b=2 c="1111111111"}
> g="hello" h="world"
> }
>
>
> But an input like the following throws it:
>
> {
> foo_bar_1=1
> }
>
> I get NoViableAltException: no viable alternative at input '1'. The issue
> seems to be variable names (the 'name' rule in my grammar above) that
> contain a digit - even though I have defined this as part of the generating
> rule. Can anyone see if there is anything glaringly obvious in my grammar
> that would prevent the above from working? Im pretty new to Antlr, so any
> help is much appreciated.
>
> Thanks!
> -- Rory
>
>
>

From kirby.bohling at gmail.com  Sun Mar 27 21:12:42 2011
From: kirby.bohling at gmail.com (Kirby Bohling)
Date: Sun, 27 Mar 2011 23:12:42 -0500
Subject: [antlr-interest] Problem with Simple Grammar :
	NoViableAltException
In-Reply-To: <AANLkTimkbtF+e23=CnZyXcFm-oDKJrMEtEve-JP2K_Yp@mail.gmail.com>
References: <AANLkTimWbNNeBTq6JMBHVrD820K5_4EEc9OcdFrvBe0K@mail.gmail.com>
	<AANLkTimkbtF+e23=CnZyXcFm-oDKJrMEtEve-JP2K_Yp@mail.gmail.com>
Message-ID: <AANLkTimbSvVG=PKmtkLZpUPXiQXdj5SWkU4+fADMWip_@mail.gmail.com>

Rory,

I'm pretty sure the problem is that DIGIT is a fragment, but you are
using it as part of a parser rule (I would have thought that this
wouldn't be successfully parsed by ANTLR).

My guess is that is at least part of the problem.  You might also want
to split up your lexer and grammar rules, top to bottom.  I generally
put all the parser rules on the top, and all the lexer rules on the
bottom (actually I generally split all my grammars, as it makes it
harder to accidentally mix parser/lexer rules up mentally).

I think that your grammar is ill-defined, and that you don't yet have
figured out what is a token vs. what is a parser rule.  I'd take a
look at the C or Java lexers and see how they handle what is and isn't
a token.  I think once you clearly differentiate between the different
token types you need, the rest would be an easier mental model to
grasp.

My guess is that you want 'name' to be something like an IDENTIFIER in
C, and then have INTEGER, FLOAT, STRING tokens, all of which would be
options for the value rule.  I'd also be fairly careful about using
the created tokens in parser rules ('=' and '_' are both examples in
your grammar below that I'd likely just change over to real tokens to
avoid any problems).

I'm still learning more about ANTLR, and I've screwed this up plenty
of times, so don't read it as harsh criticism.

Kirby


On Sun, Mar 27, 2011 at 10:49 PM, Rory Winston <rory.winston at gmail.com> wrote:
>>
>> Hi all
>>
>> Im having some problems with a simple grammar that I have defined. The
>> grammar is as follows:
>>
>> grammar RvMessage;
>>
>> START_MSG: '{';
>> END_MSG: '}';
>>
>> parse ? ? : ? ? message+ EOF;
>>
>> message : START_MSG field+ END_MSG;
>>
>> field : name '=' value;
>>
>> fragment LOWER: 'a'..'z';
>> fragment UPPER: 'A'..'Z';
>> LETTER: LOWER | UPPER;
>>
>> fragment DIGIT: '0'..'9';
>>
>> name : LETTER (LETTER | DIGIT | '_')*;
>>
>> NEWLINE: ('\r'? '\n')+ { $channel=HIDDEN; };
>>
>> fragment SPACE: ' ' | '\t';
>> WHITESPACE: SPACE+ { $channel = HIDDEN; };
>>
>> fragment NONCONTROL_CHAR: LETTER | DIGIT | SYMBOL | SPACE;
>>
>> fragment SYMBOL: '!' | '#'..'/' | ':'..'@' | '['..'`' | '{'..'~';
>>
>> STRING_LITERAL : '"' NONCONTROL_CHAR* '"';
>> string : STRING_LITERAL;
>> SIGN: '+' | '-';
>>
>> FLOAT: INTEGER '.' DIGIT+;
>> INTEGER: '0' | SIGN? '1'..'9' DIGIT*;
>> int : INTEGER;
>> float : FLOAT;
>>
>> value : (string | int | float | message);
>>
>>
>> And it can parse simple inputs like the following with no problems:
>>
>> {
>> a=1
>> b=2
>> c="dddd"
>> d=3.14159
>> e= { a=1 }
>> f={a=1 b=2 c="1111111111"}
>> g="hello" h="world"
>> }
>>
>>
>> But an input like the following throws it:
>>
>> {
>> foo_bar_1=1
>> }
>>
>> I get NoViableAltException: no viable alternative at input '1'. The issue
>> seems to be variable names (the 'name' rule in my grammar above) that
>> contain a digit - even though I have defined this as part of the generating
>> rule. Can anyone see if there is anything glaringly obvious in my grammar
>> that would prevent the above from working? Im pretty new to Antlr, so any
>> help is much appreciated.
>>
>> Thanks!
>> -- Rory
>>
>>
>>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From sboisen at mail.dk  Mon Mar 28 05:29:05 2011
From: sboisen at mail.dk (=?UTF-8?Q?S=C3=B8ren_Boisen?=)
Date: Mon, 28 Mar 2011 14:29:05 +0200
Subject: [antlr-interest] Bug in exception initialization code?
Message-ID: <AANLkTi=gJTPfzgBWJzMpQeWUchRpw_cWq5a86hnRZK4n@mail.gmail.com>

Greetings,
I have a encountered a problem while trying to write a tree parser for my
grammar. Sometimes when trying to walk the AST and the tree parser fails to
match some input, I get the following exception:

can't look backwards more than one token in this stream
    org.antlr.runtime.misc.LookaheadStream.LB(LookaheadStream.java:159)
    org.antlr.runtime.misc.LookaheadStream.LT(LookaheadStream.java:120)

org.antlr.runtime.RecognitionException.extractInformationFromTreeNodeStream(RecognitionException.java:144)
    org.antlr.runtime.RecognitionException.(RecognitionException.java:111)

org.antlr.runtime.MismatchedTreeNodeException.(MismatchedTreeNodeException.java:42)

org.antlr.runtime.tree.TreeParser.recoverFromMismatchedToken(TreeParser.java:135)
    org.antlr.runtime.BaseRecognizer.match(BaseRecognizer.java:115)

com.brunata.ws.rest.odata.query.NearestTelegramQueryWalker.queryOp(NearestTelegramQueryWalker.java:243)

com.brunata.ws.rest.odata.query.NearestTelegramQueryWalker.stmt(NearestTelegramQueryWalker.java:128)

I have looked through the FAQ, the issue tracker and Google, but I couldn't
find anything that looked related.

>From the stack trace it looks like an error in the
extractInformationFromTreeNodeStream, since I guess it shouldn't expect to
always be able to look back more than one token in a stream.
Is there a workaround for this? This is the code I use for creating parsers
and streams:

        String query = ...;  // this is a parameter to the method
        Map<String, String> propertyFilters = ...; // this is a field on the
class

        ANTLRStringStream input = new ANTLRStringStream(query);
        QueryParserLexer lexer = new QueryParserLexer(input);

        CommonTokenStream tokens = new CommonTokenStream(lexer);
        QueryParserParser parser = new QueryParserParser(tokens);

        QueryParserParser.stmt_return result = tryParse(parser, query);
        ast = (CommonTree) result.getTree();

        CommonTreeNodeStream nodes = new CommonTreeNodeStream(ast);
        nodes.setTokenStream(tokens);

        NearestTelegramQueryWalker walker = new
NearestTelegramQueryWalker(nodes);
        propertyFilters = tryWalk(walker, query);

Am I using the wrong kind of token/node streams or something?

Regards,
S?ren Boisen

From michael.bedward at gmail.com  Mon Mar 28 06:07:40 2011
From: michael.bedward at gmail.com (Michael Bedward)
Date: Tue, 29 Mar 2011 00:07:40 +1100
Subject: [antlr-interest] Bug in exception initialization code?
In-Reply-To: <AANLkTi=gJTPfzgBWJzMpQeWUchRpw_cWq5a86hnRZK4n@mail.gmail.com>
References: <AANLkTi=gJTPfzgBWJzMpQeWUchRpw_cWq5a86hnRZK4n@mail.gmail.com>
Message-ID: <AANLkTi=NE5OSWTuzGTh4CSdB2jxK+YFxJDNJoJSVe31U@mail.gmail.com>

Hi S?ren,

I see that error every so often and, so far al least, it has always
been due to an error in my tree walker grammar - specifically an
alternative that arises in the AST but that I forgot to consider in
the grammar.

Michael

On 28 March 2011 23:29, S?ren Boisen <sboisen at mail.dk> wrote:
> Greetings,
> I have a encountered a problem while trying to write a tree parser for my
> grammar. Sometimes when trying to walk the AST and the tree parser fails to
> match some input, I get the following exception:
>
> can't look backwards more than one token in this stream
> ? ?org.antlr.runtime.misc.LookaheadStream.LB(LookaheadStream.java:159)
> ? ?org.antlr.runtime.misc.LookaheadStream.LT(LookaheadStream.java:120)
>
> org.antlr.runtime.RecognitionException.extractInformationFromTreeNodeStream(RecognitionException.java:144)
> ? ?org.antlr.runtime.RecognitionException.(RecognitionException.java:111)
>
> org.antlr.runtime.MismatchedTreeNodeException.(MismatchedTreeNodeException.java:42)
>
> org.antlr.runtime.tree.TreeParser.recoverFromMismatchedToken(TreeParser.java:135)
> ? ?org.antlr.runtime.BaseRecognizer.match(BaseRecognizer.java:115)
>
> com.brunata.ws.rest.odata.query.NearestTelegramQueryWalker.queryOp(NearestTelegramQueryWalker.java:243)
>
> com.brunata.ws.rest.odata.query.NearestTelegramQueryWalker.stmt(NearestTelegramQueryWalker.java:128)
>
> I have looked through the FAQ, the issue tracker and Google, but I couldn't
> find anything that looked related.
>
> From the stack trace it looks like an error in the
> extractInformationFromTreeNodeStream, since I guess it shouldn't expect to
> always be able to look back more than one token in a stream.
> Is there a workaround for this? This is the code I use for creating parsers
> and streams:
>
> ? ? ? ?String query = ...; ?// this is a parameter to the method
> ? ? ? ?Map<String, String> propertyFilters = ...; // this is a field on the
> class
>
> ? ? ? ?ANTLRStringStream input = new ANTLRStringStream(query);
> ? ? ? ?QueryParserLexer lexer = new QueryParserLexer(input);
>
> ? ? ? ?CommonTokenStream tokens = new CommonTokenStream(lexer);
> ? ? ? ?QueryParserParser parser = new QueryParserParser(tokens);
>
> ? ? ? ?QueryParserParser.stmt_return result = tryParse(parser, query);
> ? ? ? ?ast = (CommonTree) result.getTree();
>
> ? ? ? ?CommonTreeNodeStream nodes = new CommonTreeNodeStream(ast);
> ? ? ? ?nodes.setTokenStream(tokens);
>
> ? ? ? ?NearestTelegramQueryWalker walker = new
> NearestTelegramQueryWalker(nodes);
> ? ? ? ?propertyFilters = tryWalk(walker, query);
>
> Am I using the wrong kind of token/node streams or something?
>
> Regards,
> S?ren Boisen
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From sboisen at mail.dk  Mon Mar 28 07:35:23 2011
From: sboisen at mail.dk (=?UTF-8?Q?S=C3=B8ren_Boisen?=)
Date: Mon, 28 Mar 2011 16:35:23 +0200
Subject: [antlr-interest] Bug in exception initialization code?
In-Reply-To: <AANLkTi=NE5OSWTuzGTh4CSdB2jxK+YFxJDNJoJSVe31U@mail.gmail.com>
References: <AANLkTi=gJTPfzgBWJzMpQeWUchRpw_cWq5a86hnRZK4n@mail.gmail.com>
	<AANLkTi=NE5OSWTuzGTh4CSdB2jxK+YFxJDNJoJSVe31U@mail.gmail.com>
Message-ID: <AANLkTinsHiDNYUScSXvNEBMk-ZXbd=Vq5u9D4F2Bk0a7@mail.gmail.com>

Hi Michael,

Thanks for the reply. I agree that it was due to an error in my tree walker
grammar (that I've now found and fixed), but I think it is pretty bad that
ANTLR generates an internal error with no useful information, whenever I
make a mistake in my grammar. It certainly doesn't make it easy to learn
ANTLR and how to create tree parsers :-)

I was therefore hoping for Ter or someone else with access, to create an
issue in the bug tracker, so it could be solved eventually.

Regards
S?ren

2011/3/28 Michael Bedward <michael.bedward at gmail.com>

> Hi S?ren,
>
> I see that error every so often and, so far al least, it has always
> been due to an error in my tree walker grammar - specifically an
> alternative that arises in the AST but that I forgot to consider in
> the grammar.
>
> Michael
>
> On 28 March 2011 23:29, S?ren Boisen <sboisen at mail.dk> wrote:
> > Greetings,
> > I have a encountered a problem while trying to write a tree parser for my
> > grammar. Sometimes when trying to walk the AST and the tree parser fails
> to
> > match some input, I get the following exception:
> >
> > can't look backwards more than one token in this stream
> >    org.antlr.runtime.misc.LookaheadStream.LB(LookaheadStream.java:159)
> >    org.antlr.runtime.misc.LookaheadStream.LT(LookaheadStream.java:120)
> >
> >
> org.antlr.runtime.RecognitionException.extractInformationFromTreeNodeStream(RecognitionException.java:144)
> >    org.antlr.runtime.RecognitionException.(RecognitionException.java:111)
> >
> >
> org.antlr.runtime.MismatchedTreeNodeException.(MismatchedTreeNodeException.java:42)
> >
> >
> org.antlr.runtime.tree.TreeParser.recoverFromMismatchedToken(TreeParser.java:135)
> >    org.antlr.runtime.BaseRecognizer.match(BaseRecognizer.java:115)
> >
> >
> com.brunata.ws.rest.odata.query.NearestTelegramQueryWalker.queryOp(NearestTelegramQueryWalker.java:243)
> >
> >
> com.brunata.ws.rest.odata.query.NearestTelegramQueryWalker.stmt(NearestTelegramQueryWalker.java:128)
> >
> > I have looked through the FAQ, the issue tracker and Google, but I
> couldn't
> > find anything that looked related.
> >
> > From the stack trace it looks like an error in the
> > extractInformationFromTreeNodeStream, since I guess it shouldn't expect
> to
> > always be able to look back more than one token in a stream.
> > Is there a workaround for this? This is the code I use for creating
> parsers
> > and streams:
> >
> >        String query = ...;  // this is a parameter to the method
> >        Map<String, String> propertyFilters = ...; // this is a field on
> the
> > class
> >
> >        ANTLRStringStream input = new ANTLRStringStream(query);
> >        QueryParserLexer lexer = new QueryParserLexer(input);
> >
> >        CommonTokenStream tokens = new CommonTokenStream(lexer);
> >        QueryParserParser parser = new QueryParserParser(tokens);
> >
> >        QueryParserParser.stmt_return result = tryParse(parser, query);
> >        ast = (CommonTree) result.getTree();
> >
> >        CommonTreeNodeStream nodes = new CommonTreeNodeStream(ast);
> >        nodes.setTokenStream(tokens);
> >
> >        NearestTelegramQueryWalker walker = new
> > NearestTelegramQueryWalker(nodes);
> >        propertyFilters = tryWalk(walker, query);
> >
> > Am I using the wrong kind of token/node streams or something?
> >
> > Regards,
> > S?ren Boisen
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
> >
>

From jtalafous at gmail.com  Mon Mar 28 08:58:26 2011
From: jtalafous at gmail.com (J. Talafous)
Date: Mon, 28 Mar 2011 10:58:26 -0500
Subject: [antlr-interest] NPE at DefineGrammarItemsWalker.java:94
Message-ID: <AANLkTimgB=oSyNT1Vt4EPc1BTHuj-0Sa-odTd+ZCzK1y@mail.gmail.com>

Why am I getting an NPE on the following test grammar?  Thanks.
I am having a hard time getting the @header into my grammar without
getting a NPE error.  What am I doing wrong?  Thanks for the help.

(ANTLR Parser Generator  Version 3.3 Nov 30, 2010 12:45:30)

THE FOLLOWING test GRAMMAR:

grammar test;

options {
language=Java;
}

@header {
package org.antlr.test;
}

tokens {
TEST='test';
}

INT	:	'0'..'9'+ ;

GAVE THIS ERROR:

error(100): test.g:11:1: syntax error: antlr: test.g:11:1: unexpected
token: tokens {
error(150):  grammar file test.g has no rules
error(100): test.g:0:0: syntax error: assign.types: <AST>:0:0:
unexpected end of subtree
error(100): test.g:0:0: syntax error: define: <AST>:0:0: unexpected
end of subtree
error(10):  internal error: test.g : java.lang.NullPointerException
org.antlr.grammar.v2.DefineGrammarItemsWalker.trimGrammar(DefineGrammarItemsWalker.java:94)
org.antlr.grammar.v2.DefineGrammarItemsWalker.finish(DefineGrammarItemsWalker.java:77)
org.antlr.grammar.v2.DefineGrammarItemsWalker.grammar(DefineGrammarItemsWalker.java:206)
org.antlr.tool.Grammar.defineGrammarSymbols(Grammar.java:707)
org.antlr.tool.CompositeGrammar.defineGrammarSymbols(CompositeGrammar.java:352)
org.antlr.Tool.process(Tool.java:452)
org.antlr.Tool.main(Tool.java:89)

From bkiers at gmail.com  Mon Mar 28 09:26:04 2011
From: bkiers at gmail.com (Bart Kiers)
Date: Mon, 28 Mar 2011 18:26:04 +0200
Subject: [antlr-interest] NPE at DefineGrammarItemsWalker.java:94
In-Reply-To: <AANLkTimgB=oSyNT1Vt4EPc1BTHuj-0Sa-odTd+ZCzK1y@mail.gmail.com>
References: <AANLkTimgB=oSyNT1Vt4EPc1BTHuj-0Sa-odTd+ZCzK1y@mail.gmail.com>
Message-ID: <AANLkTi=_HJaAsYbnbDz-0UFp_PJL78XHiGhRT6dxFcuv@mail.gmail.com>

On Mon, Mar 28, 2011 at 5:58 PM, J. Talafous <jtalafous at gmail.com> wrote:

> Why am I getting an NPE on the following test grammar?  Thanks.
> I am having a hard time getting the @header into my grammar without
> getting a NPE error.  What am I doing wrong?  Thanks for the help.
>
>
For ANTLR 3.x, the following order should be held:

grammar GrammarName;

options { ... }

tokens { ... }

@header { ... }

@members { ... }

parser/lexer rules ...


Regards,

Bart.

From parrt at cs.usfca.edu  Mon Mar 28 09:58:00 2011
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon, 28 Mar 2011 09:58:00 -0700
Subject: [antlr-interest] [stringtemplate-interest] Release of
	StringTemplate 4.0
In-Reply-To: <16D17164-D30E-4656-AAE6-0ADBC0015A5D@abego-software.de>
References: <7BEF6A0B-3D23-4D68-89B2-2C586E13A114@cs.usfca.edu>
	<16D17164-D30E-4656-AAE6-0ADBC0015A5D@abego-software.de>
Message-ID: <1A8945C4-70B2-4B80-8E83-2DC2E7352677@cs.usfca.edu>

oops. Updated the build so that it includes StringTemplate files and grammars.
Ter
On Mar 28, 2011, at 1:36 AM, Udo Borkowski wrote:

>> Get it while it's hot. 4.0 is a complete rewrite as a bytecode interpreter. Is much cleaner and faster than 3.0. enjoy.
>> 
> It looks like the sources zip file http://www.stringtemplate.org/download/ST-4.0-src.zip does not contain all relevant files. 
> 
> Especially it is missing the grammar files in org.stringtemplate.v4.compiler.
> 
> Udo
> 
> On 27.03.2011, at 21:55, Terence Parr wrote:
> 
>> Get it while it's hot. 4.0 is a complete rewrite as a bytecode interpreter. Is much cleaner and faster than 3.0. enjoy.
>> 
>> http://www.stringtemplate.org/download.html
>> 
>> http://www.antlr.org/wiki/display/ST4/StringTemplate+4+Documentation
>> 
>> http://www.antlr.org/wiki/display/ST4/Differences+between+v3+and+v4
>> 
>> The GUI Visualizer / inspector is very useful; check it out:
>> 
>> http://www.antlr.org/wiki/display/ST4/StringTemplate+Inspector+GUI
>> 
>> Ports to C#, Python, Objective-C on the way thanks to Sam Harwell,  Benjamin Niemann, and Alan Condit.
>> 
>> A big thanks to Udo Borkowski for his incredible bug catching abilities and his suggestions!
>> 
>> Terence
>> ANTLR project supreme dictator for life
>> 
>> _______________________________________________
>> stringtemplate-interest mailing list
>> stringtemplate-interest at antlr.org
>> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
> 
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest


From cummings at kjchome.homeip.net  Mon Mar 28 15:01:00 2011
From: cummings at kjchome.homeip.net (Kevin J. Cummings)
Date: Mon, 28 Mar 2011 18:01:00 -0400
Subject: [antlr-interest] -trace is broken for C target?
Message-ID: <4D91051C.1030804@kjchome.homeip.net>

I tried to use the -trace command line option to ANTLR 3.2 and found
that the resulting Lexer.c and Parser.c files don't compile due to
missing arguments or missing references.  After looking at the C.stg
template file that produces the tracing lines, I came up with the
following patch that I think will correct the problem.

This patch should be applied to the:

	tool/src/main/resources/org/antlr/codegen/templates/C/C.stg

file for ANTLR 3.2.  If this is the wrong place, or the wrong fix for
this problem, I apologize, but by applying the fixed ANTLR3_PRINTFs
directly into actions in my grammar, has helped me see some trace output
and helped me debug my current grammar.

If this has already been fixed in ANTLR 3.3 or ANTLR 3.4, I also
apologize, but I'm currently running on Fedora 14, and the last
pre-packaged version of the ANTLR RPMs is 3.2:

antlr3-C-devel-3.2-11.fc14.x86_64
antlr3-C-docs-3.2-11.fc14.noarch
antlr3-javascript-3.1-11.fc14.noarch
antlr3-python-3.1.2-11.fc14.noarch
antlr3-tool-3.2-11.fc14.noarch
antlr3-java-3.2-11.fc14.noarch
antlr3-gunit-3.2-11.fc14.noarch
antlr3-C-3.2-11.fc14.x86_64

-- 
Kevin J. Cummings
kjchome at verizon.net
cummings at kjchome.homeip.net
cummings at kjc386.framingham.ma.us
Registered Linux User #1232 (http://counter.li.org)

From jimi at temporal-wave.com  Mon Mar 28 16:03:41 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Mon, 28 Mar 2011 16:03:41 -0700
Subject: [antlr-interest] -trace is broken for C target?
In-Reply-To: <4D91051C.1030804@kjchome.homeip.net>
References: <4D91051C.1030804@kjchome.homeip.net>
Message-ID: <afcb47ad2c05af1ea864d0cc9403140b@mail.gmail.com>

I don't really support the trace as using the C debugger is usually lots
better, but I will take a look.

Thanks.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Kevin J. Cummings
> Sent: Monday, March 28, 2011 3:01 PM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] -trace is broken for C target?
>
> I tried to use the -trace command line option to ANTLR 3.2 and found
> that the resulting Lexer.c and Parser.c files don't compile due to
> missing arguments or missing references.  After looking at the C.stg
> template file that produces the tracing lines, I came up with the
> following patch that I think will correct the problem.
>
> This patch should be applied to the:
>
> 	tool/src/main/resources/org/antlr/codegen/templates/C/C.stg
>
> file for ANTLR 3.2.  If this is the wrong place, or the wrong fix for
> this problem, I apologize, but by applying the fixed ANTLR3_PRINTFs
> directly into actions in my grammar, has helped me see some trace
> output and helped me debug my current grammar.
>
> If this has already been fixed in ANTLR 3.3 or ANTLR 3.4, I also
> apologize, but I'm currently running on Fedora 14, and the last pre-
> packaged version of the ANTLR RPMs is 3.2:
>
> antlr3-C-devel-3.2-11.fc14.x86_64
> antlr3-C-docs-3.2-11.fc14.noarch
> antlr3-javascript-3.1-11.fc14.noarch
> antlr3-python-3.1.2-11.fc14.noarch
> antlr3-tool-3.2-11.fc14.noarch
> antlr3-java-3.2-11.fc14.noarch
> antlr3-gunit-3.2-11.fc14.noarch
> antlr3-C-3.2-11.fc14.x86_64
>
> --
> Kevin J. Cummings
> kjchome at verizon.net
> cummings at kjchome.homeip.net
> cummings at kjc386.framingham.ma.us
> Registered Linux User #1232 (http://counter.li.org)

From michael.bedward at gmail.com  Mon Mar 28 16:30:48 2011
From: michael.bedward at gmail.com (Michael Bedward)
Date: Tue, 29 Mar 2011 10:30:48 +1100
Subject: [antlr-interest] Bug in exception initialization code?
In-Reply-To: <AANLkTinsHiDNYUScSXvNEBMk-ZXbd=Vq5u9D4F2Bk0a7@mail.gmail.com>
References: <AANLkTi=gJTPfzgBWJzMpQeWUchRpw_cWq5a86hnRZK4n@mail.gmail.com>
	<AANLkTi=NE5OSWTuzGTh4CSdB2jxK+YFxJDNJoJSVe31U@mail.gmail.com>
	<AANLkTinsHiDNYUScSXvNEBMk-ZXbd=Vq5u9D4F2Bk0a7@mail.gmail.com>
Message-ID: <AANLkTik5nRHJbqpPmtdPxV7jkfyXGC559NjgXXC+g7kT@mail.gmail.com>

Hi S?ren,

You're right - it's not the most informative error message :)

Michael

On 29 March 2011 01:35, S?ren Boisen <sboisen at mail.dk> wrote:
> Hi Michael,
>
> Thanks for the reply. I agree that it was due to an error in my tree walker
> grammar (that I've now found and fixed), but I think it is pretty bad that
> ANTLR generates an internal error with no useful information, whenever I
> make a mistake in my grammar. It certainly doesn't make it easy to learn
> ANTLR and how to create tree parsers :-)
>
> I was therefore hoping for Ter or someone else with access, to create an
> issue in the bug tracker, so it could be solved eventually.
>
> Regards
> S?ren
>
> 2011/3/28 Michael Bedward <michael.bedward at gmail.com>
>>
>> Hi S?ren,
>>
>> I see that error every so often and, so far al least, it has always
>> been due to an error in my tree walker grammar - specifically an
>> alternative that arises in the AST but that I forgot to consider in
>> the grammar.
>>
>> Michael
>>
>> On 28 March 2011 23:29, S?ren Boisen <sboisen at mail.dk> wrote:
>> > Greetings,
>> > I have a encountered a problem while trying to write a tree parser for
>> > my
>> > grammar. Sometimes when trying to walk the AST and the tree parser fails
>> > to
>> > match some input, I get the following exception:
>> >
>> > can't look backwards more than one token in this stream
>> > ? ?org.antlr.runtime.misc.LookaheadStream.LB(LookaheadStream.java:159)
>> > ? ?org.antlr.runtime.misc.LookaheadStream.LT(LookaheadStream.java:120)
>> >
>> >
>> > org.antlr.runtime.RecognitionException.extractInformationFromTreeNodeStream(RecognitionException.java:144)
>> >
>> > ?org.antlr.runtime.RecognitionException.(RecognitionException.java:111)
>> >
>> >
>> > org.antlr.runtime.MismatchedTreeNodeException.(MismatchedTreeNodeException.java:42)
>> >
>> >
>> > org.antlr.runtime.tree.TreeParser.recoverFromMismatchedToken(TreeParser.java:135)
>> > ? ?org.antlr.runtime.BaseRecognizer.match(BaseRecognizer.java:115)
>> >
>> >
>> > com.brunata.ws.rest.odata.query.NearestTelegramQueryWalker.queryOp(NearestTelegramQueryWalker.java:243)
>> >
>> >
>> > com.brunata.ws.rest.odata.query.NearestTelegramQueryWalker.stmt(NearestTelegramQueryWalker.java:128)
>> >
>> > I have looked through the FAQ, the issue tracker and Google, but I
>> > couldn't
>> > find anything that looked related.
>> >
>> > From the stack trace it looks like an error in the
>> > extractInformationFromTreeNodeStream, since I guess it shouldn't expect
>> > to
>> > always be able to look back more than one token in a stream.
>> > Is there a workaround for this? This is the code I use for creating
>> > parsers
>> > and streams:
>> >
>> > ? ? ? ?String query = ...; ?// this is a parameter to the method
>> > ? ? ? ?Map<String, String> propertyFilters = ...; // this is a field on
>> > the
>> > class
>> >
>> > ? ? ? ?ANTLRStringStream input = new ANTLRStringStream(query);
>> > ? ? ? ?QueryParserLexer lexer = new QueryParserLexer(input);
>> >
>> > ? ? ? ?CommonTokenStream tokens = new CommonTokenStream(lexer);
>> > ? ? ? ?QueryParserParser parser = new QueryParserParser(tokens);
>> >
>> > ? ? ? ?QueryParserParser.stmt_return result = tryParse(parser, query);
>> > ? ? ? ?ast = (CommonTree) result.getTree();
>> >
>> > ? ? ? ?CommonTreeNodeStream nodes = new CommonTreeNodeStream(ast);
>> > ? ? ? ?nodes.setTokenStream(tokens);
>> >
>> > ? ? ? ?NearestTelegramQueryWalker walker = new
>> > NearestTelegramQueryWalker(nodes);
>> > ? ? ? ?propertyFilters = tryWalk(walker, query);
>> >
>> > Am I using the wrong kind of token/node streams or something?
>> >
>> > Regards,
>> > S?ren Boisen
>> >
>> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> > Unsubscribe:
>> > http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>> >
>
>

From hermenierfabien at gmail.com  Mon Mar 28 23:47:08 2011
From: hermenierfabien at gmail.com (Fabien Hermenier)
Date: Tue, 29 Mar 2011 00:47:08 -0600
Subject: [antlr-interest] Spaces issues
Message-ID: <4D91806C.8000504@gmail.com>

Hi

I starting to use ANTLR3 with AntlrWorks 3.4.1 on OS X and I have some 
issues with spaces. I've attached a sample antlr file describing my 
grammar (see 1st grammar)

I'm trying to test 'litteralRange'. So using the interpreter, I write 
"[2 ..3]" or "[2 .. 3]" as input and it works fine. However, if I give 
the string "[2..3]" it does not
work. I have followed the tutorial and declare the Lexer WS with the 
channel hidden to ignore spaces, but I still have strange issues with this.

Another strange fact is that if I write a reduced grammar that just 
isolate the rule I want to test, it is fine (see 2nd grammar).

Does anyone have a solution or a hint ?

Regards
Fabien.

--- 1st grammar ---
grammar ANTLRVJob5;

options {
     language = Java;
     output = AST;
}
fragment Digit :'0'..'9';
fragment Letter    :'a'..'z'|'A'..'Z';
fragment HexDigit : (Digit|'a'..'f'|'A'..'F');
fragment HexPrefix: '0x'|'0X';
fragment HexNumber: HexPrefix HexDigit+;
fragment OctNumber: '0' Digit+;
fragment DecNumber: '0'|'1'..'9'Digit*;
fragment Integer: HexNumber|OctNumber|DecNumber;
fragment Name    : Fqdn;/*Letter(InnerContent*(Digit|Letter))?;*/
fragment VarPrefix: '$';
fragment EnumSep: ',';
fragment Fqdn: Domain ('.' Domain)*;
fragment Domain: Letter ('-'?(Letter|Digit))*;
fragment InnerContent:    (Letter
             |Digit
             |'_'
             |'-'
             |'.'(Letter|Digit));
fragment RRange: ']' (InnerContent*(Letter|Digit))?;
fragment LRange: (Letter (Digit|Letter|'-'|'_'|'.')*)? '[';


INTEGER    : Integer;
NAME: Name;
ENUMSEP: EnumSep;
EQUALS    :    '=';
ENDL    :    ';';
PLUS    :    '+';
MINUS    :    '-';
TIMES    :    '*';
VARIABLE:    VarPrefix(Letter|'_')(Letter|Digit|'_')*;

COMMENT
     :   '//' ~('\n'|'\r')* '\r'? '\n' {$channel=HIDDEN;}
     |   '/*' ( options {greedy=false;} : . )* '*/' {$channel=HIDDEN;}
     ;

WS    :    ('\n'|'\r'|'\t'|' ') {$channel=HIDDEN;};


INNERCONTENT: InnerContent+;
RRANGE:RRange;
LRANGE: LRange;
LVRANGE: VarPrefix LRange;
CONSTRAINTIDENTIFIER: Letter(Letter|Digit|'_')*'(';

litteral:    NAME|INTEGER;
operator:    PLUS|TIMES;

litteralRange:    '[' INTEGER '..' INTEGER ']';

litteralEnum:    LRANGE INNERCONTENT /*(ENUMSEP INNERCONTENT)+']'  RRANGE*/;

variableEnum: LVRANGE INNERCONTENT (ENUMSEP INNERCONTENT)+  RRANGE;
variableRange: LVRANGE INTEGER '..' INTEGER RRANGE;

explodedSet:('{}'| '{'expression (ENUMSEP expression)*'}');

atom    :    '(' expression ')'
         |litteralRange
;


expression: atom/* (operator expression)?*/;

var_decl:    VARIABLE EQUALS expression ';';

instruction:    var_decl;

vjob_decl:    instruction*;
---

--- 2nd grammar ---
grammar some;

COMMENT
     :   '//' ~('\n'|'\r')* '\r'? '\n' {$channel=HIDDEN;}
     |   '/*' ( options {greedy=false;} : . )* '*/' {$channel=HIDDEN;}
     ;

WS  :   ( ' '
         | '\t'
         | '\r'
         | '\n'
         ) {$channel=HIDDEN;}
     ;
fragment Digit :'0'..'9';
fragment HexDigit : (Digit|'a'..'f'|'A'..'F');
fragment HexPrefix: '0x'|'0X';
fragment HexNumber: HexPrefix HexDigit+;
fragment OctNumber: '0' Digit+;
fragment DecNumber: '0'|'1'..'9'Digit*;
fragment Integer: HexNumber|OctNumber|DecNumber;

INTEGER    : Integer;
litteralRange:    '[' INTEGER '..' INTEGER ']';
//litteralRange:    '[' INTEGER '..' INTEGER ']';
---


From wael.sellami at gmail.com  Tue Mar 29 03:46:48 2011
From: wael.sellami at gmail.com (wael sellami)
Date: Tue, 29 Mar 2011 12:46:48 +0200
Subject: [antlr-interest] Help please
Message-ID: <AANLkTi=PDNf8N7xptW0=y2hCsi1X+iLLSv8pPeLgdypd@mail.gmail.com>

Hello,
My name is Wael Sellami, I am a computer science researcher in Redcad
laboratory, university of sfax, tunisia, master level.
I use ANTLR to transform xml code to PROMELA code as input language of the
model-checker SPIN.
I have a problem in defining of nested bloc in my output. In fact, I can not
organize the output code as the form of input code. Below, there is a
exemple of small grammar and the rule of translation:

grammar xml;

options {
 output = AST;
 ASTLabelType = CommonTree;
 backtrack=true;
}

tokens {
ROOTDEF; NAMEDEF; XMLTAGDEF; TITLEDEF; BOOKDEF; AUTHORDEF; CHAPTDEF;}

grammar xml;

options {
 output = AST;
 ASTLabelType = CommonTree;
 backtrack=true;
}

tokens {
ROOTDEF; NAMEDEF; XMLTAGDEF; TITLEDEF; BOOKDEF; AUTHORDEF; CHAPTDEF;TITAUTH;
}

system : root+;

root :  '<books>' (xmltag)+ '</books>'
       -> ^(ROOTDEF (xmltag)+);

xmltag : book -> ^(XMLTAGDEF book) | title -> ^(XMLTAGDEF title) | author ->
^(XMLTAGDEF author) | chapter -> ^(XMLTAGDEF chapter);

book : '<book' name '>' (xmltag)+ '</book>'
-> ^(BOOKDEF name (xmltag)+) ;

title    : '<title' name '>' (ID)+ '</title>'
-> ^(TITLEDEF name (ID)+);

author    : '<author' name '>' (ID)+ '</author>'
-> ^(AUTHORDEF name (ID)+);

titleorother :    title ->^(TITAUTH title) | author ->^(TITAUTH author);

chapter    : '<chapter' name '>' (titleorother)+ '</chapter>'
-> ^(CHAPTDEF name (titleorother)+);

name     :  'name="' ID '"'
          -> ^(NAMEDEF ID);

ID  : ('a'..'z'|'A'..'Z'|'0'..'9') ('a'..'z'|'A'..'Z'|'0'..'9')*;
WS  : ( ' ' | '\t' | '\r' | '\n')* { $channel = HIDDEN; } ;



Then I have defined the tree walker:


tree grammar Translate;

options {
 tokenVocab = xml;
 ASTLabelType = CommonTree;
 output=template;

}

@members {
List<String> columnstagxml = new ArrayList<String>();

}



system : root+;

root :  ^(ROOTDEF (xmltag)+);

xmltag : ^(XMLTAGDEF book) | ^(XMLTAGDEF title) | ^(XMLTAGDEF author) |
^(XMLTAGDEF chapter);


book : ^(BOOKDEF name
{System.out.println("Begin book tag");}
(xmltag)+
{System.out.println("END book tag");}
)
;

title    returns [String tit]
    : ^(TITLEDEF name (ID)+)
{ System.out.println("The tilte of the book is:" + $name.namevar);
$tit=$name.namevar;
};

author    returns [String auth]
    : ^(AUTHORDEF name (ID)+)
{ System.out.println("The author of the book is:" +$name.namevar);
$auth=$name.namevar;
};

titleorother returns [String titlauth]
    :    ^(TITAUTH title){

        $titlauth= '\n' + "The title of this chapter is:" + $title.tit;
        columnstagxml.add($titlauth);
        }

        | ^(TITAUTH author)
        {
        $titlauth= '\n' + "The author of this chapter is:" + $author.auth;
        columnstagxml.add($titlauth);
        }
        ;

chapter    : ^(CHAPTDEF name (titleorother)+)
{
        Object[] arraycolumnstagxml = columnstagxml.toArray();
            for(int i = 0; i < arraycolumnstagxml.length; i++)
           {
            String x2=arraycolumnstagxml[i].toString();

        System.out.println(x2);
           }

};


name     returns [String namevar]
    : ^(NAMEDEF (ID)+)
    { $namevar = $ID.text;};







After that, I have tried with this input code:

<books>
    <title name="AAA"> Data base </title>
    <author name="BBB"> XML </author>

    <book name="a">
        <title name="CCC"> Data base </title>
        <author name="DDD"> XML </author>

                <chapter name="a">
                    <title name="EEE"> Data base </title>
                    <author name="FFF"> XML </author>
                    <author name="GGG"> XML </author>
                    <title name="HHH"> Data base </title>
                </chapter>
    </book>
</books>


So, the result of this translation which is false because there is the
displaying of title of the book, and may be the strcuture is wrong because
when ANTLR finds
a tag title shows ("The tilte of the book is:" + $name.namevar); but I need
to how reconize the source for each called tag.

The tilte of the book is:AAA
The author of the book is:BBB

Begin book tag
The tilte of the book is:CCC
The author of the book is:DDD
The tilte of the book is:EEE
The author of the book is:FFF
The author of the book is:GGG
The tilte of the book is:HHH

The title of this chapter is:EEE
The author of this chapter is:FFF
The author of this chapter is:GGG
The title of this chapter is:HHH
END book tag


But it's wrong, because normally, if we follow the input xml code the result
must be as follows :

The tilte of the book is:AAA
The author of the book is:BBB

Begin book tag
The tilte of the book is:CCC
The author of the book is:DDD

The title of this chapter is:EEE
The author of this chapter is:FFF
The author of this chapter is:GGG
The title of this chapter is:HHH
END book tag




Please, can you help me to distinguish the source tag of called tag
Thank you in advance for solving this problem.
Wael

-- 
---------------------------------------------
* Mr. Wael Sellami
* Master student
* Research Unit on Development and Control of Distributed Applications
(ReDCAD)
============================
-------------- next part --------------
A non-text attachment was scrubbed...
Name: XML2PROMELA.rar
Type: application/rar
Size: 44376 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20110329/971b4d59/attachment.bin 

From nautiyal.sudhanshu at gmail.com  Tue Mar 29 05:06:07 2011
From: nautiyal.sudhanshu at gmail.com (Sudhanshu Nautiyal)
Date: Tue, 29 Mar 2011 17:36:07 +0530
Subject: [antlr-interest] Help Required in Creating a Parser in Java
Message-ID: <AANLkTikWBnewDOgwbngA57HWkWOvQXTQVsFYdu1da77f@mail.gmail.com>

Help required in Creating a Parser in JavaHi there, I have just 6 months
familiarity with JAVA so excuse me if I am being foolish sometimes. .. My
objective is to create an application in Java which should be able to create
a flow chart of a Java program once its source code is given as input to the
application. It should also be able to generate a basic class hierarchy or
functional hierarchy (If there is one) by reading the source code of the
application. Now my problem is that I am researching on this since two weeks
but didn't get anything significant.......My approach to do this would be
 1. Parse the Java Program..extract as much info as I can
 2. Use tis info to generate the flow chart and all
now problem with the first is I need to write grammars to parse the java
program...and it may complicate the project....so Can you people suggest any
other solution or a more elegant approach....  To generate gramars I am
thinking of using Antlr is it the right choice or Is there something
better??...and even better can anyone guide me on ow to write full fledged
grammar to parse a Java Program So that the stated objectives can be
achieved???...
I am using Eclipse Galileo for development and visual Editor for GUI
development

Thanks in advance.....plz help

-- 
SUDHANSHU NAUTIYAL

From jimi at temporal-wave.com  Tue Mar 29 06:23:45 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Tue, 29 Mar 2011 06:23:45 -0700
Subject: [antlr-interest] Spaces issues
In-Reply-To: <4D91806C.8000504@gmail.com>
References: <4D91806C.8000504@gmail.com>
Message-ID: <77c1c4ea5dcecfbdce5e27233006ccba@mail.gmail.com>

The interpreter is not likely to succeed with all those embedded fragments
and so on. Use the debugger and it will probably be fine.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Fabien Hermenier
> Sent: Monday, March 28, 2011 11:47 PM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] Spaces issues
>
> Hi
>
> I starting to use ANTLR3 with AntlrWorks 3.4.1 on OS X and I have some
> issues with spaces. I've attached a sample antlr file describing my
> grammar (see 1st grammar)
>
> I'm trying to test 'litteralRange'. So using the interpreter, I write
> "[2 ..3]" or "[2 .. 3]" as input and it works fine. However, if I give
> the string "[2..3]" it does not work. I have followed the tutorial and
> declare the Lexer WS with the channel hidden to ignore spaces, but I
> still have strange issues with this.
>
> Another strange fact is that if I write a reduced grammar that just
> isolate the rule I want to test, it is fine (see 2nd grammar).
>
> Does anyone have a solution or a hint ?
>
> Regards
> Fabien.
>
> --- 1st grammar ---
> grammar ANTLRVJob5;
>
> options {
>      language = Java;
>      output = AST;
> }
> fragment Digit :'0'..'9';
> fragment Letter    :'a'..'z'|'A'..'Z';
> fragment HexDigit : (Digit|'a'..'f'|'A'..'F'); fragment HexPrefix:
> '0x'|'0X'; fragment HexNumber: HexPrefix HexDigit+; fragment OctNumber:
> '0' Digit+; fragment DecNumber: '0'|'1'..'9'Digit*; fragment Integer:
> HexNumber|OctNumber|DecNumber;
> fragment Name    : Fqdn;/*Letter(InnerContent*(Digit|Letter))?;*/
> fragment VarPrefix: '$';
> fragment EnumSep: ',';
> fragment Fqdn: Domain ('.' Domain)*;
> fragment Domain: Letter ('-'?(Letter|Digit))*;
> fragment InnerContent:    (Letter
>              |Digit
>              |'_'
>              |'-'
>              |'.'(Letter|Digit));
> fragment RRange: ']' (InnerContent*(Letter|Digit))?; fragment LRange:
> (Letter (Digit|Letter|'-'|'_'|'.')*)? '[';
>
>
> INTEGER    : Integer;
> NAME: Name;
> ENUMSEP: EnumSep;
> EQUALS    :    '=';
> ENDL    :    ';';
> PLUS    :    '+';
> MINUS    :    '-';
> TIMES    :    '*';
> VARIABLE:    VarPrefix(Letter|'_')(Letter|Digit|'_')*;
>
> COMMENT
>      :   '//' ~('\n'|'\r')* '\r'? '\n' {$channel=HIDDEN;}
>      |   '/*' ( options {greedy=false;} : . )* '*/' {$channel=HIDDEN;}
>      ;
>
> WS    :    ('\n'|'\r'|'\t'|' ') {$channel=HIDDEN;};
>
>
> INNERCONTENT: InnerContent+;
> RRANGE:RRange;
> LRANGE: LRange;
> LVRANGE: VarPrefix LRange;
> CONSTRAINTIDENTIFIER: Letter(Letter|Digit|'_')*'(';
>
> litteral:    NAME|INTEGER;
> operator:    PLUS|TIMES;
>
> litteralRange:    '[' INTEGER '..' INTEGER ']';
>
> litteralEnum:    LRANGE INNERCONTENT /*(ENUMSEP INNERCONTENT)+']'
> RRANGE*/;
>
> variableEnum: LVRANGE INNERCONTENT (ENUMSEP INNERCONTENT)+  RRANGE;
> variableRange: LVRANGE INTEGER '..' INTEGER RRANGE;
>
> explodedSet:('{}'| '{'expression (ENUMSEP expression)*'}');
>
> atom    :    '(' expression ')'
>          |litteralRange
> ;
>
>
> expression: atom/* (operator expression)?*/;
>
> var_decl:    VARIABLE EQUALS expression ';';
>
> instruction:    var_decl;
>
> vjob_decl:    instruction*;
> ---
>
> --- 2nd grammar ---
> grammar some;
>
> COMMENT
>      :   '//' ~('\n'|'\r')* '\r'? '\n' {$channel=HIDDEN;}
>      |   '/*' ( options {greedy=false;} : . )* '*/' {$channel=HIDDEN;}
>      ;
>
> WS  :   ( ' '
>          | '\t'
>          | '\r'
>          | '\n'
>          ) {$channel=HIDDEN;}
>      ;
> fragment Digit :'0'..'9';
> fragment HexDigit : (Digit|'a'..'f'|'A'..'F'); fragment HexPrefix:
> '0x'|'0X'; fragment HexNumber: HexPrefix HexDigit+; fragment OctNumber:
> '0' Digit+; fragment DecNumber: '0'|'1'..'9'Digit*; fragment Integer:
> HexNumber|OctNumber|DecNumber;
>
> INTEGER    : Integer;
> litteralRange:    '[' INTEGER '..' INTEGER ']';
> //litteralRange:    '[' INTEGER '..' INTEGER ']';
> ---
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From jbb at acm.org  Tue Mar 29 06:36:42 2011
From: jbb at acm.org (John B. Brodie)
Date: Tue, 29 Mar 2011 09:36:42 -0400
Subject: [antlr-interest] Spaces issues
In-Reply-To: <4D91806C.8000504@gmail.com>
References: <4D91806C.8000504@gmail.com>
Message-ID: <1301405802.24930.5.camel@gecko>

Greetings!

On Tue, 2011-03-29 at 00:47 -0600, Fabien Hermenier wrote:
> Hi
> 
> I starting to use ANTLR3 with AntlrWorks 3.4.1 on OS X and I have some 
> issues with spaces. I've attached a sample antlr file describing my 
> grammar (see 1st grammar)
> 
> I'm trying to test 'litteralRange'. So using the interpreter, I write 
> "[2 ..3]" or "[2 .. 3]" as input and it works fine. However, if I give 
> the string "[2..3]" it does not
> work. I have followed the tutorial and declare the Lexer WS with the 
> channel hidden to ignore spaces, but I still have strange issues with this.
> 
> Another strange fact is that if I write a reduced grammar that just 
> isolate the rule I want to test, it is fine (see 2nd grammar).
> 
> Does anyone have a solution or a hint ?
> 
....good stuff snipped....

see Jim Idle's WIKI entry:

http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating
+point%2C+dot%2C+range%2C+time+specs

(the above url is supposed to be all on 1 line without white space)

Hope this helps...
   -jbb



From hermenierfabien at gmail.com  Tue Mar 29 07:08:16 2011
From: hermenierfabien at gmail.com (Fabien Hermenier)
Date: Tue, 29 Mar 2011 08:08:16 -0600
Subject: [antlr-interest] Spaces issues
In-Reply-To: <77c1c4ea5dcecfbdce5e27233006ccba@mail.gmail.com>
References: <4D91806C.8000504@gmail.com>
	<77c1c4ea5dcecfbdce5e27233006ccba@mail.gmail.com>
Message-ID: <4D91E7D0.3000004@gmail.com>

Le 29/03/11 07:23, Jim Idle a ?crit :
> The interpreter is not likely to succeed with all those embedded fragments
> and so on. Use the debugger and it will probably be fine.
>
> Jim
I just tried my tests using the debugger and I have the same issues. But 
the output
is not really the same (even it is a fail). Is this normal to have a 
different behaviour depending
on the way I test my grammar ?

How may the number of fragment impacts on the interpreter ?

Fabien.
>> -----Original Message-----
>> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
>> bounces at antlr.org] On Behalf Of Fabien Hermenier
>> Sent: Monday, March 28, 2011 11:47 PM
>> To: antlr-interest at antlr.org
>> Subject: [antlr-interest] Spaces issues
>>
>> Hi
>>
>> I starting to use ANTLR3 with AntlrWorks 3.4.1 on OS X and I have some
>> issues with spaces. I've attached a sample antlr file describing my
>> grammar (see 1st grammar)
>>
>> I'm trying to test 'litteralRange'. So using the interpreter, I write
>> "[2 ..3]" or "[2 .. 3]" as input and it works fine. However, if I give
>> the string "[2..3]" it does not work. I have followed the tutorial and
>> declare the Lexer WS with the channel hidden to ignore spaces, but I
>> still have strange issues with this.
>>
>> Another strange fact is that if I write a reduced grammar that just
>> isolate the rule I want to test, it is fine (see 2nd grammar).
>>
>> Does anyone have a solution or a hint ?
>>
>> Regards
>> Fabien.
>>
>> --- 1st grammar ---
>> grammar ANTLRVJob5;
>>
>> options {
>>       language = Java;
>>       output = AST;
>> }
>> fragment Digit :'0'..'9';
>> fragment Letter    :'a'..'z'|'A'..'Z';
>> fragment HexDigit : (Digit|'a'..'f'|'A'..'F'); fragment HexPrefix:
>> '0x'|'0X'; fragment HexNumber: HexPrefix HexDigit+; fragment OctNumber:
>> '0' Digit+; fragment DecNumber: '0'|'1'..'9'Digit*; fragment Integer:
>> HexNumber|OctNumber|DecNumber;
>> fragment Name    : Fqdn;/*Letter(InnerContent*(Digit|Letter))?;*/
>> fragment VarPrefix: '$';
>> fragment EnumSep: ',';
>> fragment Fqdn: Domain ('.' Domain)*;
>> fragment Domain: Letter ('-'?(Letter|Digit))*;
>> fragment InnerContent:    (Letter
>>               |Digit
>>               |'_'
>>               |'-'
>>               |'.'(Letter|Digit));
>> fragment RRange: ']' (InnerContent*(Letter|Digit))?; fragment LRange:
>> (Letter (Digit|Letter|'-'|'_'|'.')*)? '[';
>>
>>
>> INTEGER    : Integer;
>> NAME: Name;
>> ENUMSEP: EnumSep;
>> EQUALS    :    '=';
>> ENDL    :    ';';
>> PLUS    :    '+';
>> MINUS    :    '-';
>> TIMES    :    '*';
>> VARIABLE:    VarPrefix(Letter|'_')(Letter|Digit|'_')*;
>>
>> COMMENT
>>       :   '//' ~('\n'|'\r')* '\r'? '\n' {$channel=HIDDEN;}
>>       |   '/*' ( options {greedy=false;} : . )* '*/' {$channel=HIDDEN;}
>>       ;
>>
>> WS    :    ('\n'|'\r'|'\t'|' ') {$channel=HIDDEN;};
>>
>>
>> INNERCONTENT: InnerContent+;
>> RRANGE:RRange;
>> LRANGE: LRange;
>> LVRANGE: VarPrefix LRange;
>> CONSTRAINTIDENTIFIER: Letter(Letter|Digit|'_')*'(';
>>
>> litteral:    NAME|INTEGER;
>> operator:    PLUS|TIMES;
>>
>> litteralRange:    '[' INTEGER '..' INTEGER ']';
>>
>> litteralEnum:    LRANGE INNERCONTENT /*(ENUMSEP INNERCONTENT)+']'
>> RRANGE*/;
>>
>> variableEnum: LVRANGE INNERCONTENT (ENUMSEP INNERCONTENT)+  RRANGE;
>> variableRange: LVRANGE INTEGER '..' INTEGER RRANGE;
>>
>> explodedSet:('{}'| '{'expression (ENUMSEP expression)*'}');
>>
>> atom    :    '(' expression ')'
>>           |litteralRange
>> ;
>>
>>
>> expression: atom/* (operator expression)?*/;
>>
>> var_decl:    VARIABLE EQUALS expression ';';
>>
>> instruction:    var_decl;
>>
>> vjob_decl:    instruction*;
>> ---
>>
>> --- 2nd grammar ---
>> grammar some;
>>
>> COMMENT
>>       :   '//' ~('\n'|'\r')* '\r'? '\n' {$channel=HIDDEN;}
>>       |   '/*' ( options {greedy=false;} : . )* '*/' {$channel=HIDDEN;}
>>       ;
>>
>> WS  :   ( ' '
>>           | '\t'
>>           | '\r'
>>           | '\n'
>>           ) {$channel=HIDDEN;}
>>       ;
>> fragment Digit :'0'..'9';
>> fragment HexDigit : (Digit|'a'..'f'|'A'..'F'); fragment HexPrefix:
>> '0x'|'0X'; fragment HexNumber: HexPrefix HexDigit+; fragment OctNumber:
>> '0' Digit+; fragment DecNumber: '0'|'1'..'9'Digit*; fragment Integer:
>> HexNumber|OctNumber|DecNumber;
>>
>> INTEGER    : Integer;
>> litteralRange:    '[' INTEGER '..' INTEGER ']';
>> //litteralRange:    '[' INTEGER '..' INTEGER ']';
>> ---
>>
>>
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
>> email-address
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From justin.holewinski at gmail.com  Tue Mar 29 07:42:23 2011
From: justin.holewinski at gmail.com (Justin Holewinski)
Date: Tue, 29 Mar 2011 10:42:23 -0400
Subject: [antlr-interest] C# Tool on *nix Platforms
Message-ID: <AANLkTinJtWoeoWtLn7FoZJCeNFYKX8uTT_xTC15sJ5tT@mail.gmail.com>

Is the C# tool available on the antlr.org website (C# 3 runtime
distribution) supposed to be compatible with Mono on *nix platforms?  When
executed on Mac OS X and Linux, the tool fails to find the .stg files for
any language, and it seems to be an issue in AntlrTool.cs, line 127:

TemplatesDirectory = Path.Combine(ToolPathRoot, @"Codegen\Templates");

On *nix platforms, the use of a back-space character here is invalid.  An
extra Path.Combine call here should fix the issue.  However, the solution
does not build with Mono's xbuild so I am unable to test it.

If this tool is known to be incompatible with Mono on *nix, are there any
future plans to add compatibility?

-- 

Thanks,

Justin Holewinski

From justin.holewinski at gmail.com  Tue Mar 29 07:52:28 2011
From: justin.holewinski at gmail.com (Justin Holewinski)
Date: Tue, 29 Mar 2011 10:52:28 -0400
Subject: [antlr-interest] C# Tool on *nix Platforms
In-Reply-To: <AANLkTinJtWoeoWtLn7FoZJCeNFYKX8uTT_xTC15sJ5tT@mail.gmail.com>
References: <AANLkTinJtWoeoWtLn7FoZJCeNFYKX8uTT_xTC15sJ5tT@mail.gmail.com>
Message-ID: <AANLkTin1U9BeSkC56uzQwHHY_vZnMKUEfHsA67gu97Zr@mail.gmail.com>

On Tue, Mar 29, 2011 at 10:42 AM, Justin Holewinski <
justin.holewinski at gmail.com> wrote:

> Is the C# tool available on the antlr.org website (C# 3 runtime
> distribution) supposed to be compatible with Mono on *nix platforms?  When
> executed on Mac OS X and Linux, the tool fails to find the .stg files for
> any language, and it seems to be an issue in AntlrTool.cs, line 127:
>
> TemplatesDirectory = Path.Combine(ToolPathRoot, @"Codegen\Templates");
>
> On *nix platforms, the use of a back-space character here is invalid.  An
> extra Path.Combine call here should fix the issue.  However, the solution
> does not build with Mono's xbuild so I am unable to test it.
>
> If this tool is known to be incompatible with Mono on *nix, are there any
> future plans to add compatibility?
>

Just a quick follow-up.  I can confirm the above fix would work.  Even
though the solution does not compile with Mono's xbuild, a binary edit of
Antlr3.exe to replace "Codegen\Templates" with "Codegen/Templates" is enough
to make the tool work. :)


>
> --
>
> Thanks,
>
> Justin Holewinski
>
>


-- 

Thanks,

Justin Holewinski

From hermenierfabien at gmail.com  Tue Mar 29 07:57:36 2011
From: hermenierfabien at gmail.com (Fabien Hermenier)
Date: Tue, 29 Mar 2011 08:57:36 -0600
Subject: [antlr-interest] Spaces issues
In-Reply-To: <1301405802.24930.5.camel@gecko>
References: <4D91806C.8000504@gmail.com> <1301405802.24930.5.camel@gecko>
Message-ID: <4D91F360.9070203@gmail.com>

Thanks for this link. I will reformat my grammar asap to check if it works.

Fabien

Le 29/03/11 07:36, John B. Brodie a ?crit :
> Greetings!
>
> On Tue, 2011-03-29 at 00:47 -0600, Fabien Hermenier wrote:
>> Hi
>>
>> I starting to use ANTLR3 with AntlrWorks 3.4.1 on OS X and I have some
>> issues with spaces. I've attached a sample antlr file describing my
>> grammar (see 1st grammar)
>>
>> I'm trying to test 'litteralRange'. So using the interpreter, I write
>> "[2 ..3]" or "[2 .. 3]" as input and it works fine. However, if I give
>> the string "[2..3]" it does not
>> work. I have followed the tutorial and declare the Lexer WS with the
>> channel hidden to ignore spaces, but I still have strange issues with this.
>>
>> Another strange fact is that if I write a reduced grammar that just
>> isolate the rule I want to test, it is fine (see 2nd grammar).
>>
>> Does anyone have a solution or a hint ?
>>
> ....good stuff snipped....
>
> see Jim Idle's WIKI entry:
>
> http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating
> +point%2C+dot%2C+range%2C+time+specs
>
> (the above url is supposed to be all on 1 line without white space)
>
> Hope this helps...
>     -jbb
>
>


From sharwell at pixelminegames.com  Tue Mar 29 08:40:08 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Tue, 29 Mar 2011 10:40:08 -0500
Subject: [antlr-interest] C# Tool on *nix Platforms
In-Reply-To: <AANLkTinJtWoeoWtLn7FoZJCeNFYKX8uTT_xTC15sJ5tT@mail.gmail.com>
References: <AANLkTinJtWoeoWtLn7FoZJCeNFYKX8uTT_xTC15sJ5tT@mail.gmail.com>
Message-ID: <000f01cbee27$96111bf0$c23353d0$@pixelminegames.com>

Hi Justin,

It's supposed to be compatible, but I don't have a test setup here for it.
I'll do a check for path characters and hopefully that takes us a step
closer. :)

Do you mind if I send you an intermediate build to test out for me?

Sam

-----Original Message-----
From: antlr-interest-bounces at antlr.org
[mailto:antlr-interest-bounces at antlr.org] On Behalf Of Justin Holewinski
Sent: Tuesday, March 29, 2011 9:42 AM
To: antlr-interest at antlr.org
Subject: [antlr-interest] C# Tool on *nix Platforms

Is the C# tool available on the antlr.org website (C# 3 runtime
distribution) supposed to be compatible with Mono on *nix platforms?  When
executed on Mac OS X and Linux, the tool fails to find the .stg files for
any language, and it seems to be an issue in AntlrTool.cs, line 127:

TemplatesDirectory = Path.Combine(ToolPathRoot, @"Codegen\Templates");

On *nix platforms, the use of a back-space character here is invalid.  An
extra Path.Combine call here should fix the issue.  However, the solution
does not build with Mono's xbuild so I am unable to test it.

If this tool is known to be incompatible with Mono on *nix, are there any
future plans to add compatibility?

-- 

Thanks,

Justin Holewinski

List: http://www.antlr.org/mailman/listinfo/antlr-interest
Unsubscribe:
http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From justin.holewinski at gmail.com  Tue Mar 29 10:25:36 2011
From: justin.holewinski at gmail.com (Justin Holewinski)
Date: Tue, 29 Mar 2011 13:25:36 -0400
Subject: [antlr-interest] C# Tool on *nix Platforms
In-Reply-To: <000f01cbee27$96111bf0$c23353d0$@pixelminegames.com>
References: <AANLkTinJtWoeoWtLn7FoZJCeNFYKX8uTT_xTC15sJ5tT@mail.gmail.com>
	<000f01cbee27$96111bf0$c23353d0$@pixelminegames.com>
Message-ID: <AANLkTimxmwrW9DJAuGdjHsGjf6cbSfVs06mLMd0_2cvX@mail.gmail.com>

On Tue, Mar 29, 2011 at 11:40 AM, Sam Harwell
<sharwell at pixelminegames.com>wrote:

> Hi Justin,
>
> It's supposed to be compatible, but I don't have a test setup here for it.
> I'll do a check for path characters and hopefully that takes us a step
> closer. :)
>

Awesome!

>
> Do you mind if I send you an intermediate build to test out for me?
>

Sure, though I do not have much test material.  I do not have any concrete
grammars yet, so the best I could do is tell you if the tool runs for the
Antlr samples.


>
> Sam
>
> -----Original Message-----
> From: antlr-interest-bounces at antlr.org
> [mailto:antlr-interest-bounces at antlr.org] On Behalf Of Justin Holewinski
> Sent: Tuesday, March 29, 2011 9:42 AM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] C# Tool on *nix Platforms
>
> Is the C# tool available on the antlr.org website (C# 3 runtime
> distribution) supposed to be compatible with Mono on *nix platforms?  When
> executed on Mac OS X and Linux, the tool fails to find the .stg files for
> any language, and it seems to be an issue in AntlrTool.cs, line 127:
>
> TemplatesDirectory = Path.Combine(ToolPathRoot, @"Codegen\Templates");
>
> On *nix platforms, the use of a back-space character here is invalid.  An
> extra Path.Combine call here should fix the issue.  However, the solution
> does not build with Mono's xbuild so I am unable to test it.
>
> If this tool is known to be incompatible with Mono on *nix, are there any
> future plans to add compatibility?
>
> --
>
> Thanks,
>
> Justin Holewinski
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>
>


-- 

Thanks,

Justin Holewinski

From hermenierfabien at gmail.com  Tue Mar 29 10:37:14 2011
From: hermenierfabien at gmail.com (Fabien Hermenier)
Date: Tue, 29 Mar 2011 11:37:14 -0600
Subject: [antlr-interest] Spaces issues
In-Reply-To: <1301405802.24930.5.camel@gecko>
References: <4D91806C.8000504@gmail.com> <1301405802.24930.5.camel@gecko>
Message-ID: <4D9218CA.8010201@gmail.com>

Le 29/03/11 07:36, John B. Brodie a ?crit :
> Greetings!
>
> On Tue, 2011-03-29 at 00:47 -0600, Fabien Hermenier wrote:
>> Hi
>>
>> I starting to use ANTLR3 with AntlrWorks 3.4.1 on OS X and I have some
>> issues with spaces. I've attached a sample antlr file describing my
>> grammar (see 1st grammar)
>>
>> I'm trying to test 'litteralRange'. So using the interpreter, I write
>> "[2 ..3]" or "[2 .. 3]" as input and it works fine. However, if I give
>> the string "[2..3]" it does not
>> work. I have followed the tutorial and declare the Lexer WS with the
>> channel hidden to ignore spaces, but I still have strange issues with this.
>>
>> Another strange fact is that if I write a reduced grammar that just
>> isolate the rule I want to test, it is fine (see 2nd grammar).
>>
>> Does anyone have a solution or a hint ?
>>
> ....good stuff snipped....
>
> see Jim Idle's WIKI entry:
>
> http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating
> +point%2C+dot%2C+range%2C+time+specs
>
> (the above url is supposed to be all on 1 line without white space)
>
> Hope this helps...
>     -jbb
>
>
Thanks, I still have a question. I understand how it is difficult to 
capture '..' while having to bother with float numbers such as ".3". But 
in my case,
I only have to deal with integer values, so currently I don't see why I 
need to help the Lexer.
I have reduced the number of fragments following the principle of the 
link you sent to me (to catch in a single rule numbers in base 10, 16 or 
8) but
it didn't solve my problem yet.



From jimi at temporal-wave.com  Tue Mar 29 11:16:25 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Tue, 29 Mar 2011 11:16:25 -0700
Subject: [antlr-interest] Spaces issues
In-Reply-To: <4D9218CA.8010201@gmail.com>
References: <4D91806C.8000504@gmail.com> <1301405802.24930.5.camel@gecko>
	<4D9218CA.8010201@gmail.com>
Message-ID: <9714f3ce5a89bbd66e0c430b4a9fd514@mail.gmail.com>

Did you use the debugger instead of the interpreter?

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Fabien Hermenier
> Sent: Tuesday, March 29, 2011 10:37 AM
> To: antlr-interest at antlr.org
> Subject: Re: [antlr-interest] Spaces issues
>
> Le 29/03/11 07:36, John B. Brodie a ?crit :
> > Greetings!
> >
> > On Tue, 2011-03-29 at 00:47 -0600, Fabien Hermenier wrote:
> >> Hi
> >>
> >> I starting to use ANTLR3 with AntlrWorks 3.4.1 on OS X and I have
> >> some issues with spaces. I've attached a sample antlr file
> describing
> >> my grammar (see 1st grammar)
> >>
> >> I'm trying to test 'litteralRange'. So using the interpreter, I
> write
> >> "[2 ..3]" or "[2 .. 3]" as input and it works fine. However, if I
> >> give the string "[2..3]" it does not work. I have followed the
> >> tutorial and declare the Lexer WS with the channel hidden to ignore
> >> spaces, but I still have strange issues with this.
> >>
> >> Another strange fact is that if I write a reduced grammar that just
> >> isolate the rule I want to test, it is fine (see 2nd grammar).
> >>
> >> Does anyone have a solution or a hint ?
> >>
> > ....good stuff snipped....
> >
> > see Jim Idle's WIKI entry:
> >
> > http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating
> > +point%2C+dot%2C+range%2C+time+specs
> >
> > (the above url is supposed to be all on 1 line without white space)
> >
> > Hope this helps...
> >     -jbb
> >
> >
> Thanks, I still have a question. I understand how it is difficult to
> capture '..' while having to bother with float numbers such as ".3".
> But in my case, I only have to deal with integer values, so currently I
> don't see why I need to help the Lexer.
> I have reduced the number of fragments following the principle of the
> link you sent to me (to catch in a single rule numbers in base 10, 16
> or
> 8) but
> it didn't solve my problem yet.
>
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From hermenierfabien at gmail.com  Tue Mar 29 11:24:32 2011
From: hermenierfabien at gmail.com (Fabien Hermenier)
Date: Tue, 29 Mar 2011 12:24:32 -0600
Subject: [antlr-interest] Spaces issues
In-Reply-To: <9714f3ce5a89bbd66e0c430b4a9fd514@mail.gmail.com>
References: <4D91806C.8000504@gmail.com>
	<1301405802.24930.5.camel@gecko>	<4D9218CA.8010201@gmail.com>
	<9714f3ce5a89bbd66e0c430b4a9fd514@mail.gmail.com>
Message-ID: <4D9223E0.7090504@gmail.com>

Yes, and it this situation, it seems it ignores the first number and the 
range delimiter:
Here is a sample of the event list with the input "[2..3]" and the 
starting rule "litteralRange"

Consume [[/<32>,1:0, at 0]
Create node 2(0)
Add child 2 to 1
Location (64,20)
LT 1 (3)
LT 1 (3)
LT 2 (])
LT 1 (3)
LT 1 (3)
LT 1 (3)
RecognitionException: MismatchedTokenException(0!=0)
Begin resync
LT 1 (3)
Consume [3/<15>,1:4, at 1]
LT 1 (])
Consume []/<35>,1:5 at 2]
LT 1 (;)
...
...

Le 29/03/11 12:16, Jim Idle a ?crit :
> Did you use the debugger instead of the interpreter?
>
> Jim
>
>> -----Original Message-----
>> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
>> bounces at antlr.org] On Behalf Of Fabien Hermenier
>> Sent: Tuesday, March 29, 2011 10:37 AM
>> To: antlr-interest at antlr.org
>> Subject: Re: [antlr-interest] Spaces issues
>>
>> Le 29/03/11 07:36, John B. Brodie a ?crit :
>>> Greetings!
>>>
>>> On Tue, 2011-03-29 at 00:47 -0600, Fabien Hermenier wrote:
>>>> Hi
>>>>
>>>> I starting to use ANTLR3 with AntlrWorks 3.4.1 on OS X and I have
>>>> some issues with spaces. I've attached a sample antlr file
>> describing
>>>> my grammar (see 1st grammar)
>>>>
>>>> I'm trying to test 'litteralRange'. So using the interpreter, I
>> write
>>>> "[2 ..3]" or "[2 .. 3]" as input and it works fine. However, if I
>>>> give the string "[2..3]" it does not work. I have followed the
>>>> tutorial and declare the Lexer WS with the channel hidden to ignore
>>>> spaces, but I still have strange issues with this.
>>>>
>>>> Another strange fact is that if I write a reduced grammar that just
>>>> isolate the rule I want to test, it is fine (see 2nd grammar).
>>>>
>>>> Does anyone have a solution or a hint ?
>>>>
>>> ....good stuff snipped....
>>>
>>> see Jim Idle's WIKI entry:
>>>
>>> http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating
>>> +point%2C+dot%2C+range%2C+time+specs
>>>
>>> (the above url is supposed to be all on 1 line without white space)
>>>
>>> Hope this helps...
>>>      -jbb
>>>
>>>
>> Thanks, I still have a question. I understand how it is difficult to
>> capture '..' while having to bother with float numbers such as ".3".
>> But in my case, I only have to deal with integer values, so currently I
>> don't see why I need to help the Lexer.
>> I have reduced the number of fragments following the principle of the
>> link you sent to me (to catch in a single rule numbers in base 10, 16
>> or
>> 8) but
>> it didn't solve my problem yet.
>>
>>
>>
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
>> email-address
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From jimi at temporal-wave.com  Tue Mar 29 11:47:59 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Tue, 29 Mar 2011 11:47:59 -0700
Subject: [antlr-interest] Spaces issues
In-Reply-To: <4D9223E0.7090504@gmail.com>
References: <4D91806C.8000504@gmail.com>	<1301405802.24930.5.camel@gecko>
	<4D9218CA.8010201@gmail.com>	<9714f3ce5a89bbd66e0c430b4a9fd514@mail.gmail.com>
	<4D9223E0.7090504@gmail.com>
Message-ID: <9a3bc3f81b0454e12fe03bd592a865d9@mail.gmail.com>

Looks like you might be looking for a token that you have not defined, but
post your grammar as it stands now and we can work it out.

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Fabien Hermenier
> Sent: Tuesday, March 29, 2011 11:25 AM
> To: antlr-interest at antlr.org
> Subject: Re: [antlr-interest] Spaces issues
>
> Yes, and it this situation, it seems it ignores the first number and
> the range delimiter:
> Here is a sample of the event list with the input "[2..3]" and the
> starting rule "litteralRange"
>
> Consume [[/<32>,1:0, at 0]
> Create node 2(0)
> Add child 2 to 1
> Location (64,20)
> LT 1 (3)
> LT 1 (3)
> LT 2 (])
> LT 1 (3)
> LT 1 (3)
> LT 1 (3)
> RecognitionException: MismatchedTokenException(0!=0) Begin resync LT 1
> (3) Consume [3/<15>,1:4, at 1] LT 1 (]) Consume []/<35>,1:5 at 2] LT 1 (;)
> ...
> ...
>
> Le 29/03/11 12:16, Jim Idle a ?crit :
> > Did you use the debugger instead of the interpreter?
> >
> > Jim
> >
> >> -----Original Message-----
> >> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> >> bounces at antlr.org] On Behalf Of Fabien Hermenier
> >> Sent: Tuesday, March 29, 2011 10:37 AM
> >> To: antlr-interest at antlr.org
> >> Subject: Re: [antlr-interest] Spaces issues
> >>
> >> Le 29/03/11 07:36, John B. Brodie a ?crit :
> >>> Greetings!
> >>>
> >>> On Tue, 2011-03-29 at 00:47 -0600, Fabien Hermenier wrote:
> >>>> Hi
> >>>>
> >>>> I starting to use ANTLR3 with AntlrWorks 3.4.1 on OS X and I have
> >>>> some issues with spaces. I've attached a sample antlr file
> >> describing
> >>>> my grammar (see 1st grammar)
> >>>>
> >>>> I'm trying to test 'litteralRange'. So using the interpreter, I
> >> write
> >>>> "[2 ..3]" or "[2 .. 3]" as input and it works fine. However, if I
> >>>> give the string "[2..3]" it does not work. I have followed the
> >>>> tutorial and declare the Lexer WS with the channel hidden to
> ignore
> >>>> spaces, but I still have strange issues with this.
> >>>>
> >>>> Another strange fact is that if I write a reduced grammar that
> just
> >>>> isolate the rule I want to test, it is fine (see 2nd grammar).
> >>>>
> >>>> Does anyone have a solution or a hint ?
> >>>>
> >>> ....good stuff snipped....
> >>>
> >>> see Jim Idle's WIKI entry:
> >>>
> >>> http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating
> >>> +point%2C+dot%2C+range%2C+time+specs
> >>>
> >>> (the above url is supposed to be all on 1 line without white space)
> >>>
> >>> Hope this helps...
> >>>      -jbb
> >>>
> >>>
> >> Thanks, I still have a question. I understand how it is difficult to
> >> capture '..' while having to bother with float numbers such as ".3".
> >> But in my case, I only have to deal with integer values, so
> currently
> >> I don't see why I need to help the Lexer.
> >> I have reduced the number of fragments following the principle of
> the
> >> link you sent to me (to catch in a single rule numbers in base 10,
> 16
> >> or
> >> 8) but
> >> it didn't solve my problem yet.
> >>
> >>
> >>
> >> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >> Unsubscribe:
> >> http://www.antlr.org/mailman/options/antlr-interest/your-
> >> email-address
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe:
> > http://www.antlr.org/mailman/options/antlr-interest/your-email-
> address
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From hermenierfabien at gmail.com  Tue Mar 29 12:51:47 2011
From: hermenierfabien at gmail.com (Fabien Hermenier)
Date: Tue, 29 Mar 2011 13:51:47 -0600
Subject: [antlr-interest] Spaces issues
In-Reply-To: <9a3bc3f81b0454e12fe03bd592a865d9@mail.gmail.com>
References: <4D91806C.8000504@gmail.com>	<1301405802.24930.5.camel@gecko>	<4D9218CA.8010201@gmail.com>	<9714f3ce5a89bbd66e0c430b4a9fd514@mail.gmail.com>	<4D9223E0.7090504@gmail.com>
	<9a3bc3f81b0454e12fe03bd592a865d9@mail.gmail.com>
Message-ID: <4D923853.5010106@gmail.com>

Here is my entire grammar
There is a lot of commented rules and "litteralRange" does not have its 
complete definition cause easier patterns does not work yet.
Currently, litteralRange should accept inputs such as "[2..3"] or "[ 2   
.. 0xFF]".

Thanks for your help!

---
grammar ANTLRVJob5;

options {
     language = Java;
     output = AST;
}
fragment Digit :'0'..'9';
fragment Letter    :'a'..'z'|'A'..'Z';
fragment Name    : Domain ('.' Domain)*;
fragment Domain: Letter ('-'?(Letter|Digit))*;
fragment VarPrefix: '$';
fragment EnumSep: ',';
fragment InnerContent:    (Letter
             |Digit
             |'_'
             |'-'
             |'.'(Letter|Digit));
fragment RRange: ']' (InnerContent*(Letter|Digit))?;
fragment LRange: (Letter (Digit|Letter|'-'|'_'|'.')*)? '[';

//Number litteral section
fragment HEX_LITERAL : ;
fragment OCTAL_LITERAL :;
fragment DECIMAL_LITERAL:;
NUMBER: '0'(
     ('x'|'X') { $type = HEX_LITERAL;}
     (Digit|'a'..'f'|'A'..'F')+
     |
     ('0'..'7')+ {$type = OCTAL_LITERAL;}
     |
     )
     |
     '1'..'9' Digit* {$type = DECIMAL_LITERAL;}
     ;

NAME: Name;
ENUMSEP: EnumSep;
EQUALS    :    '=';
ENDL    :    ';';
PLUS    :    '+';
MINUS    :    '-';
TIMES    :    '*';
VARIABLE:    VarPrefix(Letter|'_')(Letter|Digit|'_')*;

COMMENT
     :   '//' ~('\n'|'\r')* '\r'? '\n' {$channel=HIDDEN;}
     |   '/*' ( options {greedy=false;} : . )* '*/' {$channel=HIDDEN;}
     ;

WS    :    ('\n'|'\r'|'\t'|' ') {$channel=HIDDEN;};


INNERCONTENT: InnerContent+;
RRANGE:RRange;
LRANGE: LRange;
LVRANGE: VarPrefix LRange;
CONSTRAINTIDENTIFIER: Letter(Letter|Digit|'_')*'(';

litteral:    NAME|NUMBER;
operator:    PLUS|TIMES;

//litteralRange:    LRANGE INTEGER '..' INTEGER RRANGE;
litteralRange:    '[' NUMBER '..' NUMBER ']';

litteralEnum:    LRANGE INNERCONTENT /*(ENUMSEP INNERCONTENT)+']'  RRANGE*/;

variableEnum: LVRANGE INNERCONTENT (ENUMSEP INNERCONTENT)+  RRANGE;
variableRange: LVRANGE NUMBER '..' NUMBER RRANGE;

explodedSet:('{}'| '{'expression (ENUMSEP expression)*'}');

atom    :    '(' expression ')'
         |litteral
//        |VARIABLE
         |litteralRange
//        |litteralEnum
//        |variableRange
//        |variableEnum
//        |explodedSet
;


expression: atom/* (operator expression)?*/;

var_decl:    VARIABLE EQUALS expression ';';

/*forEachStatement:
     'foreach' VARIABLE 'in' expression '{'
     instruction*
     '}';

constraintCallStatement: CONSTRAINTIDENTIFIER expression (',' 
expression)* ')' ';';
*/
instruction:    var_decl;
         //|forEachStatement
//        |constraintCallStatement;

vjob_decl:    instruction*;
---

Le 29/03/11 12:47, Jim Idle a ?crit :
> Looks like you might be looking for a token that you have not defined, but
> post your grammar as it stands now and we can work it out.
>
> Jim
>
>> -----Original Message-----
>> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
>> bounces at antlr.org] On Behalf Of Fabien Hermenier
>> Sent: Tuesday, March 29, 2011 11:25 AM
>> To: antlr-interest at antlr.org
>> Subject: Re: [antlr-interest] Spaces issues
>>
>> Yes, and it this situation, it seems it ignores the first number and
>> the range delimiter:
>> Here is a sample of the event list with the input "[2..3]" and the
>> starting rule "litteralRange"
>>
>> Consume [[/<32>,1:0, at 0]
>> Create node 2(0)
>> Add child 2 to 1
>> Location (64,20)
>> LT 1 (3)
>> LT 1 (3)
>> LT 2 (])
>> LT 1 (3)
>> LT 1 (3)
>> LT 1 (3)
>> RecognitionException: MismatchedTokenException(0!=0) Begin resync LT 1
>> (3) Consume [3/<15>,1:4, at 1] LT 1 (]) Consume []/<35>,1:5 at 2] LT 1 (;)
>> ...
>> ...
>>
>> Le 29/03/11 12:16, Jim Idle a ?crit :
>>> Did you use the debugger instead of the interpreter?
>>>
>>> Jim
>>>
>>>> -----Original Message-----
>>>> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
>>>> bounces at antlr.org] On Behalf Of Fabien Hermenier
>>>> Sent: Tuesday, March 29, 2011 10:37 AM
>>>> To: antlr-interest at antlr.org
>>>> Subject: Re: [antlr-interest] Spaces issues
>>>>
>>>> Le 29/03/11 07:36, John B. Brodie a ?crit :
>>>>> Greetings!
>>>>>
>>>>> On Tue, 2011-03-29 at 00:47 -0600, Fabien Hermenier wrote:
>>>>>> Hi
>>>>>>
>>>>>> I starting to use ANTLR3 with AntlrWorks 3.4.1 on OS X and I have
>>>>>> some issues with spaces. I've attached a sample antlr file
>>>> describing
>>>>>> my grammar (see 1st grammar)
>>>>>>
>>>>>> I'm trying to test 'litteralRange'. So using the interpreter, I
>>>> write
>>>>>> "[2 ..3]" or "[2 .. 3]" as input and it works fine. However, if I
>>>>>> give the string "[2..3]" it does not work. I have followed the
>>>>>> tutorial and declare the Lexer WS with the channel hidden to
>> ignore
>>>>>> spaces, but I still have strange issues with this.
>>>>>>
>>>>>> Another strange fact is that if I write a reduced grammar that
>> just
>>>>>> isolate the rule I want to test, it is fine (see 2nd grammar).
>>>>>>
>>>>>> Does anyone have a solution or a hint ?
>>>>>>
>>>>> ....good stuff snipped....
>>>>>
>>>>> see Jim Idle's WIKI entry:
>>>>>
>>>>> http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating
>>>>> +point%2C+dot%2C+range%2C+time+specs
>>>>>
>>>>> (the above url is supposed to be all on 1 line without white space)
>>>>>
>>>>> Hope this helps...
>>>>>       -jbb
>>>>>
>>>>>
>>>> Thanks, I still have a question. I understand how it is difficult to
>>>> capture '..' while having to bother with float numbers such as ".3".
>>>> But in my case, I only have to deal with integer values, so
>> currently
>>>> I don't see why I need to help the Lexer.
>>>> I have reduced the number of fragments following the principle of
>> the
>>>> link you sent to me (to catch in a single rule numbers in base 10,
>> 16
>>>> or
>>>> 8) but
>>>> it didn't solve my problem yet.
>>>>
>>>>
>>>>
>>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>>> Unsubscribe:
>>>> http://www.antlr.org/mailman/options/antlr-interest/your-
>>>> email-address
>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>> Unsubscribe:
>>> http://www.antlr.org/mailman/options/antlr-interest/your-email-
>> address
>>
>>
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
>> email-address
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From simonzmail at gmail.com  Tue Mar 29 18:43:27 2011
From: simonzmail at gmail.com (Simon)
Date: Wed, 30 Mar 2011 12:43:27 +1100
Subject: [antlr-interest] How to handle rewrite of multiple nodes
Message-ID: <AANLkTino9LKduF8d0JkJ5z_gPkoRUpK1PqBgPJNf+TAg@mail.gmail.com>

Hello all,

I have a grammar that does a rewrite like so:

  bracketedBlock
      : '{' stmts=statement* '}' -> ^(Block $stmts)
      ;

As you can see, the rule is matching multiple statements inside
brackets, like in a typical programming language with blocks - for
example:

   {  echo 'hello';  echo 'world'; }

The problem is that it actually produces a tree like this:

  64: Block
    34: echo
      92: 'world'

Whereas I would expect this:

  64: Block
    34: echo
      92: 'hello'
    34: echo
      92: 'world'

I thought that perhaps the right solution was to add brackets:

  bracketedBlock
      : '{' stmts=(statement*) '}' -> ^(Block $stmts)

However this produces a runtime error when I run the parser:

Antlr.Runtime.Tree.RewriteEmptyStreamException: token stmts
   at Antlr.Runtime.Tree.RewriteRuleElementStream`1._Next()
   at Antlr.Runtime.Tree.RewriteRuleTokenStream.NextNode()

It works fine if I spell out the number of blocks explicitly:

  bracketedBlock
      : '{' s1=statement s2=statement '}' -> ^(Block $s1 $s2)
      ;

So I was wondering if there is a different way to perform a rewrite
rule that would match multiple elements?

In case it is important, the target here is CSharp2.

Many thanks for any help!

Simon

From lgcraymer at yahoo.com  Tue Mar 29 18:53:06 2011
From: lgcraymer at yahoo.com (Loring Craymer)
Date: Tue, 29 Mar 2011 18:53:06 -0700 (PDT)
Subject: [antlr-interest] Spaces issues
In-Reply-To: <4D923853.5010106@gmail.com>
References: <4D91806C.8000504@gmail.com> <1301405802.24930.5.camel@gecko>
	<4D9218CA.8010201@gmail.com>
	<9714f3ce5a89bbd66e0c430b4a9fd514@mail.gmail.com>
	<4D9223E0.7090504@gmail.com>
	<9a3bc3f81b0454e12fe03bd592a865d9@mail.gmail.com>
	<4D923853.5010106@gmail.com>
Message-ID: <210035.81311.qm@web55902.mail.re3.yahoo.com>

The likely cause of your problems is the extensive use of fragment rules.  ANTLR 
3 does not use follow sets in  lexers and invocation of fragment rules usually 
disables LL* processing.  Inline your fragment rules, and your current problems 
should disappear, although others may still lurk.

--Loring


----- Original Message ----
> From: Fabien Hermenier <hermenierfabien at gmail.com>
> To: antlr-interest at antlr.org
> Sent: Tue, March 29, 2011 12:51:47 PM
> Subject: Re: [antlr-interest] Spaces issues
> 
> Here is my entire grammar
> There is a lot of commented rules and  "litteralRange" does not have its 
> complete definition cause easier patterns  does not work yet.
> Currently, litteralRange should accept inputs such as  "[2..3"] or "[ 2  
> .. 0xFF]".
> 
> Thanks for your  help!
> 
> ---
> grammar ANTLRVJob5;
> 
> options {
>       language = Java;
>      output = AST;
> }
> fragment Digit  :'0'..'9';
> fragment Letter    :'a'..'z'|'A'..'Z';
> fragment  Name    : Domain ('.' Domain)*;
> fragment Domain: Letter  ('-'?(Letter|Digit))*;
> fragment VarPrefix: '$';
> fragment EnumSep:  ',';
> fragment InnerContent:    (Letter
>               |Digit
>               |'_'
>              |'-'
>               |'.'(Letter|Digit));
> fragment RRange: ']'  (InnerContent*(Letter|Digit))?;
> fragment LRange: (Letter  (Digit|Letter|'-'|'_'|'.')*)? '[';
> 
> //Number litteral section
> fragment  HEX_LITERAL : ;
> fragment OCTAL_LITERAL :;
> fragment  DECIMAL_LITERAL:;
> NUMBER: '0'(
>      ('x'|'X') { $type =  HEX_LITERAL;}
>      (Digit|'a'..'f'|'A'..'F')+
>       |
>      ('0'..'7')+ {$type = OCTAL_LITERAL;}
>       |
>      )
>      |
>      '1'..'9' Digit*  {$type = DECIMAL_LITERAL;}
>      ;
> 
> NAME: Name;
> ENUMSEP:  EnumSep;
> EQUALS    :    '=';
> ENDL    :     ';';
> PLUS    :    '+';
> MINUS     :    '-';
> TIMES    :    '*';
> VARIABLE:     VarPrefix(Letter|'_')(Letter|Digit|'_')*;
> 
> COMMENT
>       :   '//' ~('\n'|'\r')* '\r'? '\n' {$channel=HIDDEN;}
>       |   '/*' ( options {greedy=false;} : . )* '*/' {$channel=HIDDEN;}
>       ;
> 
> WS    :    ('\n'|'\r'|'\t'|' ')  {$channel=HIDDEN;};
> 
> 
> INNERCONTENT:  InnerContent+;
> RRANGE:RRange;
> LRANGE: LRange;
> LVRANGE: VarPrefix  LRange;
> CONSTRAINTIDENTIFIER:  Letter(Letter|Digit|'_')*'(';
> 
> litteral:     NAME|NUMBER;
> operator:    PLUS|TIMES;
> 
> //litteralRange:     LRANGE INTEGER '..' INTEGER RRANGE;
> litteralRange:    '['  NUMBER '..' NUMBER ']';
> 
> litteralEnum:    LRANGE INNERCONTENT  /*(ENUMSEP INNERCONTENT)+']'  RRANGE*/;
> 
> variableEnum: LVRANGE  INNERCONTENT (ENUMSEP INNERCONTENT)+  RRANGE;
> variableRange: LVRANGE  NUMBER '..' NUMBER RRANGE;
> 
> explodedSet:('{}'| '{'expression (ENUMSEP  expression)*'}');
> 
> atom    :    '(' expression  ')'
>          |litteral
> //         |VARIABLE
>          |litteralRange
> //         |litteralEnum
> //         |variableRange
> //        |variableEnum
> //         |explodedSet
> ;
> 
> 
> expression: atom/* (operator  expression)?*/;
> 
> var_decl:    VARIABLE EQUALS expression  ';';
> 
> /*forEachStatement:
>      'foreach' VARIABLE 'in'  expression '{'
>      instruction*
>       '}';
> 
> constraintCallStatement: CONSTRAINTIDENTIFIER expression (',' 
> expression)* ')' ';';
> */
> instruction:    var_decl;
>           //|forEachStatement
> //         |constraintCallStatement;
> 
> vjob_decl:     instruction*;
> ---
> 
> Le 29/03/11 12:47, Jim Idle a ?crit :
> > Looks  like you might be looking for a token that you have not defined, but
> >  post your grammar as it stands now and we can work it out.
> >
> >  Jim
> >
> >> -----Original Message-----
> >> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> >> bounces at antlr.org] On Behalf Of Fabien  Hermenier
> >> Sent: Tuesday, March 29, 2011 11:25 AM
> >> To: antlr-interest at antlr.org
> >>  Subject: Re: [antlr-interest] Spaces issues
> >>
> >> Yes, and it  this situation, it seems it ignores the first number and
> >> the range  delimiter:
> >> Here is a sample of the event list with the input  "[2..3]" and the
> >> starting rule  "litteralRange"
> >>
> >> Consume  [[/<32>,1:0, at 0]
> >> Create node 2(0)
> >> Add child 2 to  1
> >> Location (64,20)
> >> LT 1 (3)
> >> LT 1  (3)
> >> LT 2 (])
> >> LT 1 (3)
> >> LT 1 (3)
> >>  LT 1 (3)
> >> RecognitionException: MismatchedTokenException(0!=0) Begin  resync LT 1
> >> (3) Consume [3/<15>,1:4, at 1] LT 1 (]) Consume  []/<35>,1:5 at 2] LT 1 (;)
> >> ...
> >>  ...
> >>
> >> Le 29/03/11 12:16, Jim Idle a ?crit  :
> >>> Did you use the debugger instead of the  interpreter?
> >>>
> >>>  Jim
> >>>
> >>>> -----Original  Message-----
> >>>> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> >>>> bounces at antlr.org] On Behalf Of Fabien  Hermenier
> >>>> Sent: Tuesday, March 29, 2011 10:37  AM
> >>>> To: antlr-interest at antlr.org
> >>>>  Subject: Re: [antlr-interest] Spaces  issues
> >>>>
> >>>> Le 29/03/11 07:36, John B. Brodie  a ?crit :
> >>>>>  Greetings!
> >>>>>
> >>>>> On Tue, 2011-03-29 at  00:47 -0600, Fabien Hermenier wrote:
> >>>>>>  Hi
> >>>>>>
> >>>>>> I starting to use  ANTLR3 with AntlrWorks 3.4.1 on OS X and I have
> >>>>>> some  issues with spaces. I've attached a sample antlr file
> >>>>  describing
> >>>>>> my grammar (see 1st  grammar)
> >>>>>>
> >>>>>> I'm trying to  test 'litteralRange'. So using the interpreter, I
> >>>>  write
> >>>>>> "[2 ..3]" or "[2 .. 3]" as input and it works  fine. However, if I
> >>>>>> give the string "[2..3]" it does  not work. I have followed the
> >>>>>> tutorial and declare  the Lexer WS with the channel hidden to
> >>  ignore
> >>>>>> spaces, but I still have strange issues with  this.
> >>>>>>
> >>>>>> Another strange  fact is that if I write a reduced grammar that
> >>  just
> >>>>>> isolate the rule I want to test, it is fine  (see 2nd grammar).
> >>>>>>
> >>>>>> Does  anyone have a solution or a hint  ?
> >>>>>>
> >>>>> ....good stuff  snipped....
> >>>>>
> >>>>> see Jim Idle's WIKI  entry:
> >>>>>
> >>>>> http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating
> >>>>> +point%2C+dot%2C+range%2C+time+specs
> >>>>>
> >>>>> ; (the above url is supposed to be all on 1 line without white  space)
> >>>>>
> >>>>> Hope this  helps...
> >>>>>        -jbb
> >>>>>
> >>>>>
> >>>> Thanks,  I still have a question. I understand how it is difficult to
> >>>>  capture '..' while having to bother with float numbers such as  ".3".
> >>>> But in my case, I only have to deal with integer  values, so
> >> currently
> >>>> I don't see why I need to  help the Lexer.
> >>>> I have reduced the number of fragments  following the principle of
> >> the
> >>>> link you sent to  me (to catch in a single rule numbers in base 10,
> >>  16
> >>>> or
> >>>> 8) but
> >>>> it  didn't solve my problem  yet.
> >>>>
> >>>>
> >>>>
> >>>>  List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >>>>  Unsubscribe:
> >>>> http://www.antlr.org/mailman/options/antlr-interest/your-
> >>>>  email-address
> >>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >>>  Unsubscribe:
> >>> http://www.antlr.org/mailman/options/antlr-interest/your-email-
> >>  address
> >>
> >>
> >> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >>  Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> >>  email-address
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe: 
>http://www.antlr.org/mailman/options/antlr-interest/your-email-address
> 
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: 
>http://www.antlr.org/mailman/options/antlr-interest/your-email-address
> 

From jbb at acm.org  Tue Mar 29 19:27:04 2011
From: jbb at acm.org (John B. Brodie)
Date: Tue, 29 Mar 2011 22:27:04 -0400
Subject: [antlr-interest] How to handle rewrite of multiple nodes
In-Reply-To: <AANLkTino9LKduF8d0JkJ5z_gPkoRUpK1PqBgPJNf+TAg@mail.gmail.com>
References: <AANLkTino9LKduF8d0JkJ5z_gPkoRUpK1PqBgPJNf+TAg@mail.gmail.com>
Message-ID: <1301452024.10128.11.camel@gecko>

Greetings!

On Wed, 2011-03-30 at 12:43 +1100, Simon wrote:
> Hello all,
> 
> I have a grammar that does a rewrite like so:
> 
>   bracketedBlock
>       : '{' stmts=statement* '}' -> ^(Block $stmts)
>       ;
> 
you are not properly handling the cardinality of the * meta-operator.

try:

bracketedBlock : '{' statement* '}' -> ^(Block statement*) ;

or:

bracketedBlock : '{' stmts+=statement* '}' -> ^(Block $stmts} :



Hope this helps...
   -jbb



From point14 at magma.ca  Tue Mar 29 19:33:28 2011
From: point14 at magma.ca (Martin d'Anjou)
Date: Tue, 29 Mar 2011 22:33:28 -0400
Subject: [antlr-interest] antlr v4 wish list
Message-ID: <4D929678.8080308@magma.ca>

Hello,

My suggestions, for what it's worth:

1) In the Runtime section:
* Tokens and Trees should both know their start/stop line, start/stop 
char position to make IDEs easier.

Not only IDEs, but for also for debugging on the command line in a 
terminal. The file name is also needed.

2) Lexer debug enhancement:
Option on the lexer constructor to have the lexer print some debug info: 
token type by name, token value, filename, line and char position, 
without having to replace antlr's built-in classes.

3) General:
I have spent many hours on a ridiculous little problem: the grammar 
declaration statement! So I suggest enforcing the grammar type in the 
grammar declaration:
parser grammar MyGrammar;
lexer grammar MyGrammar;
mixed grammar MyGrammar;  // lexer and parser grammar
tree grammar MyGrammar;

4) Gigantic source files, as described here:
http://v2kparse.blogspot.com/2008/06/first-pass-uploaded-to-sourceforce.html
Maybe this has been solved already?

Regards,
Martin d'Anjou


From hermenierfabien at gmail.com  Tue Mar 29 19:59:54 2011
From: hermenierfabien at gmail.com (Fabien Hermenier)
Date: Tue, 29 Mar 2011 20:59:54 -0600
Subject: [antlr-interest] Spaces issues
In-Reply-To: <210035.81311.qm@web55902.mail.re3.yahoo.com>
References: <4D91806C.8000504@gmail.com> <1301405802.24930.5.camel@gecko>
	<4D9218CA.8010201@gmail.com>
	<9714f3ce5a89bbd66e0c430b4a9fd514@mail.gmail.com>
	<4D9223E0.7090504@gmail.com>
	<9a3bc3f81b0454e12fe03bd592a865d9@mail.gmail.com>
	<4D923853.5010106@gmail.com>
	<210035.81311.qm@web55902.mail.re3.yahoo.com>
Message-ID: <4D929CAA.1090804@gmail.com>

Hi

I have reduced the number of fragment to zero for test purposes but it 
does not solve the problem.
So I have reduced the grammar to a minimum, to only be able to parse the 
input I gave to you.
It appears yet, that the Lexer rule "INNERCONTENT" has caused the issue.
This is strange to me as it was not used in the rule "litteralRange".

Does anyone know how is this possible ?

Thanks for your help
Fabien.

Le 29/03/11 19:53, Loring Craymer a ?crit :
> The likely cause of your problems is the extensive use of fragment rules.  ANTLR
> 3 does not use follow sets in  lexers and invocation of fragment rules usually
> disables LL* processing.  Inline your fragment rules, and your current problems
> should disappear, although others may still lurk.
>
> --Loring
>
>
> ----- Original Message ----
>> From: Fabien Hermenier<hermenierfabien at gmail.com>
>> To: antlr-interest at antlr.org
>> Sent: Tue, March 29, 2011 12:51:47 PM
>> Subject: Re: [antlr-interest] Spaces issues
>>
>> Here is my entire grammar
>> There is a lot of commented rules and  "litteralRange" does not have its
>> complete definition cause easier patterns  does not work yet.
>> Currently, litteralRange should accept inputs such as  "[2..3"] or "[ 2
>> .. 0xFF]".
>>
>> Thanks for your  help!
>>
>> ---
>> grammar ANTLRVJob5;
>>
>> options {
>>        language = Java;
>>       output = AST;
>> }
>> fragment Digit  :'0'..'9';
>> fragment Letter    :'a'..'z'|'A'..'Z';
>> fragment  Name    : Domain ('.' Domain)*;
>> fragment Domain: Letter  ('-'?(Letter|Digit))*;
>> fragment VarPrefix: '$';
>> fragment EnumSep:  ',';
>> fragment InnerContent:    (Letter
>>                |Digit
>>                |'_'
>>               |'-'
>>                |'.'(Letter|Digit));
>> fragment RRange: ']'  (InnerContent*(Letter|Digit))?;
>> fragment LRange: (Letter  (Digit|Letter|'-'|'_'|'.')*)? '[';
>>
>> //Number litteral section
>> fragment  HEX_LITERAL : ;
>> fragment OCTAL_LITERAL :;
>> fragment  DECIMAL_LITERAL:;
>> NUMBER: '0'(
>>       ('x'|'X') { $type =  HEX_LITERAL;}
>>       (Digit|'a'..'f'|'A'..'F')+
>>        |
>>       ('0'..'7')+ {$type = OCTAL_LITERAL;}
>>        |
>>       )
>>       |
>>       '1'..'9' Digit*  {$type = DECIMAL_LITERAL;}
>>       ;
>>
>> NAME: Name;
>> ENUMSEP:  EnumSep;
>> EQUALS    :    '=';
>> ENDL    :     ';';
>> PLUS    :    '+';
>> MINUS     :    '-';
>> TIMES    :    '*';
>> VARIABLE:     VarPrefix(Letter|'_')(Letter|Digit|'_')*;
>>
>> COMMENT
>>        :   '//' ~('\n'|'\r')* '\r'? '\n' {$channel=HIDDEN;}
>>        |   '/*' ( options {greedy=false;} : . )* '*/' {$channel=HIDDEN;}
>>        ;
>>
>> WS    :    ('\n'|'\r'|'\t'|' ')  {$channel=HIDDEN;};
>>
>>
>> INNERCONTENT:  InnerContent+;
>> RRANGE:RRange;
>> LRANGE: LRange;
>> LVRANGE: VarPrefix  LRange;
>> CONSTRAINTIDENTIFIER:  Letter(Letter|Digit|'_')*'(';
>>
>> litteral:     NAME|NUMBER;
>> operator:    PLUS|TIMES;
>>
>> //litteralRange:     LRANGE INTEGER '..' INTEGER RRANGE;
>> litteralRange:    '['  NUMBER '..' NUMBER ']';
>>
>> litteralEnum:    LRANGE INNERCONTENT  /*(ENUMSEP INNERCONTENT)+']'  RRANGE*/;
>>
>> variableEnum: LVRANGE  INNERCONTENT (ENUMSEP INNERCONTENT)+  RRANGE;
>> variableRange: LVRANGE  NUMBER '..' NUMBER RRANGE;
>>
>> explodedSet:('{}'| '{'expression (ENUMSEP  expression)*'}');
>>
>> atom    :    '(' expression  ')'
>>           |litteral
>> //         |VARIABLE
>>           |litteralRange
>> //         |litteralEnum
>> //         |variableRange
>> //        |variableEnum
>> //         |explodedSet
>> ;
>>
>>
>> expression: atom/* (operator  expression)?*/;
>>
>> var_decl:    VARIABLE EQUALS expression  ';';
>>
>> /*forEachStatement:
>>       'foreach' VARIABLE 'in'  expression '{'
>>       instruction*
>>        '}';
>>
>> constraintCallStatement: CONSTRAINTIDENTIFIER expression (','
>> expression)* ')' ';';
>> */
>> instruction:    var_decl;
>>            //|forEachStatement
>> //         |constraintCallStatement;
>>
>> vjob_decl:     instruction*;
>> ---
>>
>> Le 29/03/11 12:47, Jim Idle a ?crit :
>>> Looks  like you might be looking for a token that you have not defined, but
>>>   post your grammar as it stands now and we can work it out.
>>>
>>>   Jim
>>>
>>>> -----Original Message-----
>>>> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
>>>> bounces at antlr.org] On Behalf Of Fabien  Hermenier
>>>> Sent: Tuesday, March 29, 2011 11:25 AM
>>>> To: antlr-interest at antlr.org
>>>>   Subject: Re: [antlr-interest] Spaces issues
>>>>
>>>> Yes, and it  this situation, it seems it ignores the first number and
>>>> the range  delimiter:
>>>> Here is a sample of the event list with the input  "[2..3]" and the
>>>> starting rule  "litteralRange"
>>>>
>>>> Consume  [[/<32>,1:0, at 0]
>>>> Create node 2(0)
>>>> Add child 2 to  1
>>>> Location (64,20)
>>>> LT 1 (3)
>>>> LT 1  (3)
>>>> LT 2 (])
>>>> LT 1 (3)
>>>> LT 1 (3)
>>>>   LT 1 (3)
>>>> RecognitionException: MismatchedTokenException(0!=0) Begin  resync LT 1
>>>> (3) Consume [3/<15>,1:4, at 1] LT 1 (]) Consume  []/<35>,1:5 at 2] LT 1 (;)
>>>> ...
>>>>   ...
>>>>
>>>> Le 29/03/11 12:16, Jim Idle a ?crit  :
>>>>> Did you use the debugger instead of the  interpreter?
>>>>>
>>>>>   Jim
>>>>>
>>>>>> -----Original  Message-----
>>>>>> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
>>>>>> bounces at antlr.org] On Behalf Of Fabien  Hermenier
>>>>>> Sent: Tuesday, March 29, 2011 10:37  AM
>>>>>> To: antlr-interest at antlr.org
>>>>>>   Subject: Re: [antlr-interest] Spaces  issues
>>>>>>
>>>>>> Le 29/03/11 07:36, John B. Brodie  a ?crit :
>>>>>>>   Greetings!
>>>>>>>
>>>>>>> On Tue, 2011-03-29 at  00:47 -0600, Fabien Hermenier wrote:
>>>>>>>>   Hi
>>>>>>>>
>>>>>>>> I starting to use  ANTLR3 with AntlrWorks 3.4.1 on OS X and I have
>>>>>>>> some  issues with spaces. I've attached a sample antlr file
>>>>>>   describing
>>>>>>>> my grammar (see 1st  grammar)
>>>>>>>>
>>>>>>>> I'm trying to  test 'litteralRange'. So using the interpreter, I
>>>>>>   write
>>>>>>>> "[2 ..3]" or "[2 .. 3]" as input and it works  fine. However, if I
>>>>>>>> give the string "[2..3]" it does  not work. I have followed the
>>>>>>>> tutorial and declare  the Lexer WS with the channel hidden to
>>>>   ignore
>>>>>>>> spaces, but I still have strange issues with  this.
>>>>>>>>
>>>>>>>> Another strange  fact is that if I write a reduced grammar that
>>>>   just
>>>>>>>> isolate the rule I want to test, it is fine  (see 2nd grammar).
>>>>>>>>
>>>>>>>> Does  anyone have a solution or a hint  ?
>>>>>>>>
>>>>>>> ....good stuff  snipped....
>>>>>>>
>>>>>>> see Jim Idle's WIKI  entry:
>>>>>>>
>>>>>>> http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating
>>>>>>> +point%2C+dot%2C+range%2C+time+specs
>>>>>>>
>>>>>>> ; (the above url is supposed to be all on 1 line without white  space)
>>>>>>>
>>>>>>> Hope this  helps...
>>>>>>>         -jbb
>>>>>>>
>>>>>>>
>>>>>> Thanks,  I still have a question. I understand how it is difficult to
>>>>>>   capture '..' while having to bother with float numbers such as  ".3".
>>>>>> But in my case, I only have to deal with integer  values, so
>>>> currently
>>>>>> I don't see why I need to  help the Lexer.
>>>>>> I have reduced the number of fragments  following the principle of
>>>> the
>>>>>> link you sent to  me (to catch in a single rule numbers in base 10,
>>>>   16
>>>>>> or
>>>>>> 8) but
>>>>>> it  didn't solve my problem  yet.
>>>>>>
>>>>>>
>>>>>>
>>>>>>   List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>>>>>   Unsubscribe:
>>>>>> http://www.antlr.org/mailman/options/antlr-interest/your-
>>>>>>   email-address
>>>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>>>>   Unsubscribe:
>>>>> http://www.antlr.org/mailman/options/antlr-interest/your-email-
>>>>   address
>>>>
>>>>
>>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>>>   Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
>>>>   email-address
>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>>> Unsubscribe:
>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>
>>
>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> Unsubscribe:
>> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>>


From sharwell at pixelminegames.com  Tue Mar 29 20:29:35 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Tue, 29 Mar 2011 22:29:35 -0500
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <4D929678.8080308@magma.ca>
References: <4D929678.8080308@magma.ca>
Message-ID: <005c01cbee8a$b1a3ca30$14eb5e90$@pixelminegames.com>

Hi Martin,

Replying to the individual points:

1. A token only needs to know the start position in the input stream and the
length. Considering a file may easily have hundreds of thousands of tokens,
it's very important to not add any information to the token that can be
efficiently derived in another manner, especially if that information is
infrequently used by applications. For example, the line/column information
can be efficiently derived if the lexer maintains an internal array of line
offsets (index 0 contains 0, the start position of line 0; index 1 contains
the offset to the start of line 1; etc...).

3. The current notation is pretty simple once you see it. Also, it's well
documented in the books.

4. With proper integration into the build system, generated files aren't
checked into source control or distributed. The ANTLR project itself
generates V2 and V3 grammars, and my .NET projects generate V3 grammars
(using my C# port of the Tool) at build time, so the generated files never
take up space in source control.

Sam

-----Original Message-----
From: antlr-interest-bounces at antlr.org
[mailto:antlr-interest-bounces at antlr.org] On Behalf Of Martin d'Anjou
Sent: Tuesday, March 29, 2011 9:33 PM
To: antlr-interest at antlr.org
Subject: Re: [antlr-interest] antlr v4 wish list

Hello,

My suggestions, for what it's worth:

1) In the Runtime section:
* Tokens and Trees should both know their start/stop line, start/stop char
position to make IDEs easier.

Not only IDEs, but for also for debugging on the command line in a terminal.
The file name is also needed.

2) Lexer debug enhancement:
Option on the lexer constructor to have the lexer print some debug info: 
token type by name, token value, filename, line and char position, without
having to replace antlr's built-in classes.

3) General:
I have spent many hours on a ridiculous little problem: the grammar
declaration statement! So I suggest enforcing the grammar type in the
grammar declaration:
parser grammar MyGrammar;
lexer grammar MyGrammar;
mixed grammar MyGrammar;  // lexer and parser grammar tree grammar
MyGrammar;

4) Gigantic source files, as described here:
http://v2kparse.blogspot.com/2008/06/first-pass-uploaded-to-sourceforce.html
Maybe this has been solved already?

Regards,
Martin d'Anjou


List: http://www.antlr.org/mailman/listinfo/antlr-interest
Unsubscribe:
http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From point14 at magma.ca  Tue Mar 29 21:45:29 2011
From: point14 at magma.ca (Martin d'Anjou)
Date: Wed, 30 Mar 2011 00:45:29 -0400
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <4D929678.8080308@magma.ca>
References: <4D929678.8080308@magma.ca>
Message-ID: <4D92B569.2000108@magma.ca>

Also, how about support for io pipes to decouple the lexer from the 
parser, such that each could be in its own thread? Also, the input to 
the lexer could be an io pipe. Might be easier to place a pre-processor 
in front of the lexer this way, and also to handle gigantic files.

Martin

From point14 at magma.ca  Tue Mar 29 21:54:59 2011
From: point14 at magma.ca (Martin d'Anjou)
Date: Wed, 30 Mar 2011 00:54:59 -0400
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <005c01cbee8a$b1a3ca30$14eb5e90$@pixelminegames.com>
References: <4D929678.8080308@magma.ca>
	<005c01cbee8a$b1a3ca30$14eb5e90$@pixelminegames.com>
Message-ID: <4D92B7A3.1040509@magma.ca>

Hi Sam,

With regards to your answer to item 4) Gigantic files, I meant the 
problem of lexing and parsing gigantic source files such as verilog 
netlists which can be dozens of gigabytes of source code and take hours 
to lex and parse due to their size. The problem is reported by 
http://v2kparse.blogspot.com/2008/06/first-pass-uploaded-to-sourceforce.html. 
To quote his blog:

"I was compelled to use ANTLR 2.7.7 since the token stream mechanism 
does not try to slurp in the whole source file, an issue which I 
encountered with the more recent ANTLR 3.0.

While Verilog source files are not generally large, netlist files can be 
humungous, and one can quickly run out of memory by "slurping in the 
whole tamale."

Anyway, I've communicated the large file slurp file to the author of 
ANTLR and he'll be working out a solution in future releases.

(If you think large verilog netlists are problematic to slurp; think 
aout a SPEF file --- where I first encoutered the problem using ANTLR 
3.x. Anyway, back to 2.7.7 works fine, even for large SPEF files.)"

As I said, this might have been fixed already, I just don't know.

Regards,
Martin



On 11-03-29 11:29 PM, Sam Harwell wrote:
> 4. With proper integration into the build system, generated files aren't
> checked into source control or distributed. The ANTLR project itself
> generates V2 and V3 grammars, and my .NET projects generate V3 grammars
> (using my C# port of the Tool) at build time, so the generated files never
> take up space in source control.


From simonzmail at gmail.com  Tue Mar 29 22:34:12 2011
From: simonzmail at gmail.com (Simon)
Date: Wed, 30 Mar 2011 16:34:12 +1100
Subject: [antlr-interest] How to handle rewrite of multiple nodes
In-Reply-To: <1301452024.10128.11.camel@gecko>
References: <AANLkTino9LKduF8d0JkJ5z_gPkoRUpK1PqBgPJNf+TAg@mail.gmail.com>
	<1301452024.10128.11.camel@gecko>
Message-ID: <AANLkTik5HAhLT8NysDyaN_cMjP43wOVSNVi=q7Tf-P1G@mail.gmail.com>

Thank you!

This one worked fine:

> bracketedBlock : '{' statement* '}' -> ^(Block statement*) ;

Strangely it works for two statements but not for 3 - my input like this

  { echo 'foo';  echo 'bar';  echo 'tree'; }

Now produces this AST

64: Block
  34: echo
    92: 'foo'
  34: echo
    92: 'bar'

(No 'echo tree' in the AST).

This might be a higher level problem in my grammar though ... but if
something comes to mind I'd love to know any ideas why that might be.

Thanks again!

Cheers,

Simon

On Wed, Mar 30, 2011 at 1:27 PM, John B. Brodie <jbb at acm.org> wrote:
> Greetings!
>
> On Wed, 2011-03-30 at 12:43 +1100, Simon wrote:
>> Hello all,
>>
>> I have a grammar that does a rewrite like so:
>>
>> ? bracketedBlock
>> ? ? ? : '{' stmts=statement* '}' -> ^(Block $stmts)
>> ? ? ? ;
>>
> you are not properly handling the cardinality of the * meta-operator.
>
> try:
>
> bracketedBlock : '{' statement* '}' -> ^(Block statement*) ;
>
> or:
>
> bracketedBlock : '{' stmts+=statement* '}' -> ^(Block $stmts} :
>
>
>
> Hope this helps...
> ? -jbb
>
>
>

From lgcraymer at yahoo.com  Tue Mar 29 22:46:28 2011
From: lgcraymer at yahoo.com (Loring Craymer)
Date: Tue, 29 Mar 2011 22:46:28 -0700 (PDT)
Subject: [antlr-interest] Spaces issues
In-Reply-To: <4D929CAA.1090804@gmail.com>
References: <4D91806C.8000504@gmail.com> <1301405802.24930.5.camel@gecko>
	<4D9218CA.8010201@gmail.com>
	<9714f3ce5a89bbd66e0c430b4a9fd514@mail.gmail.com>
	<4D9223E0.7090504@gmail.com>
	<9a3bc3f81b0454e12fe03bd592a865d9@mail.gmail.com>
	<4D923853.5010106@gmail.com>
	<210035.81311.qm@web55902.mail.re3.yahoo.com>
	<4D929CAA.1090804@gmail.com>
Message-ID: <524641.53323.qm@web55907.mail.re3.yahoo.com>

Now you are getting confused by COMBINED grammars.  ANTLR generates distinct 
lexer and parser from a combined grammar; the lexer (the capitalized rules in 
the "combined grammar") tokenizes the input, while the parser operates on the 
tokens generated by the lexer.  Regroup your rules to segregate parser from 
lexer (this is to make them more readable and has no functional impact) and then 
consider whether the lexer rules do what you want (clearly, they don't in their 
current incarnation).  Lexer rules should be considered as alternatives for 
tokens (in fact, ANTLR generates a master lexer rule which basically takes the 
form
Tokens : A | B | ... | Z ;
where A, B, and so forth are the lexer production names).

--Loring



----- Original Message ----
> From: Fabien Hermenier <hermenierfabien at gmail.com>
> To: antlr-interest at antlr.org
> Sent: Tue, March 29, 2011 7:59:54 PM
> Subject: Re: [antlr-interest] Spaces issues
> 
> Hi
> 
> I have reduced the number of fragment to zero for test purposes but it 
> does not solve the problem.
> So I have reduced the grammar to a minimum,  to only be able to parse the 
> input I gave to you.
> It appears yet, that  the Lexer rule "INNERCONTENT" has caused the issue.
> This is strange to me as  it was not used in the rule "litteralRange".
> 
> Does anyone know how is this  possible ?
> 
> Thanks for your help
> Fabien.
> 
> Le 29/03/11 19:53,  Loring Craymer a ?crit :
> > The likely cause of your problems is the  extensive use of fragment rules.  
>ANTLR
> > 3 does not use follow sets  in  lexers and invocation of fragment rules 
>usually
> > disables LL*  processing.  Inline your fragment rules, and your current 
>problems
> >  should disappear, although others may still lurk.
> >
> >  --Loring
> >
> >
> > ----- Original Message ----
> >> From:  Fabien Hermenier<hermenierfabien at gmail.com>
> >>  To: antlr-interest at antlr.org
> >>  Sent: Tue, March 29, 2011 12:51:47 PM
> >> Subject: Re: [antlr-interest]  Spaces issues
> >>
> >> Here is my entire grammar
> >>  There is a lot of commented rules and  "litteralRange" does not have  its
> >> complete definition cause easier patterns  does not work  yet.
> >> Currently, litteralRange should accept inputs such as   "[2..3"] or "[ 2
> >> .. 0xFF]".
> >>
> >> Thanks for  your  help!
> >>
> >> ---
> >> grammar  ANTLRVJob5;
> >>
> >> options {
> >>         language = Java;
> >>       output =  AST;
> >> }
> >> fragment Digit  :'0'..'9';
> >>  fragment Letter    :'a'..'z'|'A'..'Z';
> >> fragment   Name    : Domain ('.' Domain)*;
> >> fragment Domain:  Letter  ('-'?(Letter|Digit))*;
> >> fragment VarPrefix:  '$';
> >> fragment EnumSep:  ',';
> >> fragment  InnerContent:    (Letter
> >>                 |Digit
> >>                 |'_'
> >>                |'-'
> >>                 |'.'(Letter|Digit));
> >> fragment RRange: ']'   (InnerContent*(Letter|Digit))?;
> >> fragment LRange: (Letter   (Digit|Letter|'-'|'_'|'.')*)? '[';
> >>
> >> //Number litteral  section
> >> fragment  HEX_LITERAL : ;
> >> fragment  OCTAL_LITERAL :;
> >> fragment  DECIMAL_LITERAL:;
> >>  NUMBER: '0'(
> >>       ('x'|'X') { $type =   HEX_LITERAL;}
> >>        (Digit|'a'..'f'|'A'..'F')+
> >>         |
> >>       ('0'..'7')+ {$type =  OCTAL_LITERAL;}
> >>        |
> >>        )
> >>       |
> >>        '1'..'9' Digit*  {$type = DECIMAL_LITERAL;}
> >>        ;
> >>
> >> NAME: Name;
> >> ENUMSEP:   EnumSep;
> >> EQUALS    :    '=';
> >>  ENDL    :     ';';
> >> PLUS    :     '+';
> >> MINUS     :    '-';
> >>  TIMES    :    '*';
> >> VARIABLE:      VarPrefix(Letter|'_')(Letter|Digit|'_')*;
> >>
> >>  COMMENT
> >>        :   '//' ~('\n'|'\r')* '\r'?  '\n' {$channel=HIDDEN;}
> >>        |   '/*' (  options {greedy=false;} : . )* '*/' {$channel=HIDDEN;}
> >>         ;
> >>
> >> WS    :     ('\n'|'\r'|'\t'|' ')   {$channel=HIDDEN;};
> >>
> >>
> >> INNERCONTENT:   InnerContent+;
> >> RRANGE:RRange;
> >> LRANGE:  LRange;
> >> LVRANGE: VarPrefix  LRange;
> >>  CONSTRAINTIDENTIFIER:   Letter(Letter|Digit|'_')*'(';
> >>
> >> litteral:      NAME|NUMBER;
> >> operator:     PLUS|TIMES;
> >>
> >> //litteralRange:     LRANGE  INTEGER '..' INTEGER RRANGE;
> >> litteralRange:    '['   NUMBER '..' NUMBER ']';
> >>
> >> litteralEnum:     LRANGE INNERCONTENT  /*(ENUMSEP INNERCONTENT)+']'   
>RRANGE*/;
> >>
> >> variableEnum: LVRANGE  INNERCONTENT  (ENUMSEP INNERCONTENT)+  RRANGE;
> >> variableRange: LVRANGE   NUMBER '..' NUMBER RRANGE;
> >>
> >> explodedSet:('{}'|  '{'expression (ENUMSEP  expression)*'}');
> >>
> >>  atom    :    '(' expression  ')'
> >>            |litteral
> >> //          |VARIABLE
> >>            |litteralRange
> >> //          |litteralEnum
> >> //          |variableRange
> >> //         |variableEnum
> >> //          |explodedSet
> >> ;
> >>
> >>
> >> expression:  atom/* (operator  expression)?*/;
> >>
> >> var_decl:     VARIABLE EQUALS expression  ';';
> >>
> >>  /*forEachStatement:
> >>       'foreach' VARIABLE  'in'  expression '{'
> >>        instruction*
> >>        '}';
> >>
> >>  constraintCallStatement: CONSTRAINTIDENTIFIER expression (','
> >>  expression)* ')' ';';
> >> */
> >> instruction:     var_decl;
> >>             //|forEachStatement
> >> //          |constraintCallStatement;
> >>
> >> vjob_decl:      instruction*;
> >> ---
> >>
> >> Le 29/03/11 12:47, Jim  Idle a ?crit :
> >>> Looks  like you might be looking for a token  that you have not defined, 
>but
> >>>   post your grammar as it  stands now and we can work it out.
> >>>
> >>>    Jim
> >>>
> >>>> -----Original  Message-----
> >>>> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> >>>> bounces at antlr.org] On Behalf Of Fabien   Hermenier
> >>>> Sent: Tuesday, March 29, 2011 11:25  AM
> >>>> To: antlr-interest at antlr.org
> >>>>    Subject: Re: [antlr-interest] Spaces  issues
> >>>>
> >>>> Yes, and it  this situation,  it seems it ignores the first number and
> >>>> the range   delimiter:
> >>>> Here is a sample of the event list with the  input  "[2..3]" and the
> >>>> starting rule   "litteralRange"
> >>>>
> >>>> Consume   [[/<32>,1:0, at 0]
> >>>> Create node 2(0)
> >>>>  Add child 2 to  1
> >>>> Location (64,20)
> >>>>  LT 1 (3)
> >>>> LT 1  (3)
> >>>> LT 2  (])
> >>>> LT 1 (3)
> >>>> LT 1  (3)
> >>>>   LT 1 (3)
> >>>>  RecognitionException: MismatchedTokenException(0!=0) Begin  resync LT  1
> >>>> (3) Consume [3/<15>,1:4, at 1] LT 1 (]) Consume   []/<35>,1:5 at 2] LT 1 (;)
> >>>> ...
> >>>>    ...
> >>>>
> >>>> Le 29/03/11 12:16, Jim Idle a  ?crit  :
> >>>>> Did you use the debugger instead of  the  interpreter?
> >>>>>
> >>>>>    Jim
> >>>>>
> >>>>>> -----Original   Message-----
> >>>>>> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> >>>>>> bounces at antlr.org] On Behalf Of Fabien   Hermenier
> >>>>>> Sent: Tuesday, March 29, 2011 10:37   AM
> >>>>>> To: antlr-interest at antlr.org
> >>>>>>    Subject: Re: [antlr-interest] Spaces   issues
> >>>>>>
> >>>>>> Le 29/03/11  07:36, John B. Brodie  a ?crit :
> >>>>>>>    Greetings!
> >>>>>>>
> >>>>>>> On  Tue, 2011-03-29 at  00:47 -0600, Fabien Hermenier  wrote:
> >>>>>>>>    Hi
> >>>>>>>>
> >>>>>>>> I  starting to use  ANTLR3 with AntlrWorks 3.4.1 on OS X and I  have
> >>>>>>>> some  issues with spaces. I've  attached a sample antlr file
> >>>>>>    describing
> >>>>>>>> my grammar (see 1st   grammar)
> >>>>>>>>
> >>>>>>>>  I'm trying to  test 'litteralRange'. So using the interpreter,  I
> >>>>>>   write
> >>>>>>>>  "[2 ..3]" or "[2 .. 3]" as input and it works  fine. However, if  I
> >>>>>>>> give the string "[2..3]" it does  not  work. I have followed the
> >>>>>>>> tutorial and  declare  the Lexer WS with the channel hidden to
> >>>>    ignore
> >>>>>>>> spaces, but I still have strange  issues with   this.
> >>>>>>>>
> >>>>>>>>  Another strange  fact is that if I write a reduced grammar  that
> >>>>   just
> >>>>>>>> isolate  the rule I want to test, it is fine  (see 2nd  grammar).
> >>>>>>>>
> >>>>>>>>  Does  anyone have a solution or a hint   ?
> >>>>>>>>
> >>>>>>> ....good  stuff   snipped....
> >>>>>>>
> >>>>>>> see  Jim Idle's WIKI   entry:
> >>>>>>>
> >>>>>>> http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating
> >>>>>>> +point%2C+dot%2C+range%2C+time+specs
> >>>>>>>
> >>>>>>> ; ; (the above url is supposed to be all on 1 line without white   
>space)
> >>>>>>>
> >>>>>>> Hope  this  helps...
> >>>>>>>          -jbb
> >>>>>>>
> >>>>>>>
> >>>>>>  Thanks,  I still have a question. I understand how it is difficult  to
> >>>>>>   capture '..' while having to bother with  float numbers such as  
".3".
> >>>>>> But in my case, I  only have to deal with integer  values, so
> >>>>  currently
> >>>>>> I don't see why I need to  help the  Lexer.
> >>>>>> I have reduced the number of fragments   following the principle of
> >>>> the
> >>>>>>  link you sent to  me (to catch in a single rule numbers in base  10,
> >>>>   16
> >>>>>>  or
> >>>>>> 8) but
> >>>>>> it   didn't solve my problem   yet.
> >>>>>>
> >>>>>>
> >>>>>>
> >>>>>>    List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >>>>>>    Unsubscribe:
> >>>>>> http://www.antlr.org/mailman/options/antlr-interest/your-
> >>>>>>    email-address
> >>>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >>>>>    Unsubscribe:
> >>>>> http://www.antlr.org/mailman/options/antlr-interest/your-email-
> >>>>    address
> >>>>
> >>>>
> >>>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >>>>    Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> >>>>    email-address
> >>> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >>>  Unsubscribe:
> >> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
> >>
> >>
> >>  List: http://www.antlr.org/mailman/listinfo/antlr-interest
> >>  Unsubscribe:
> >> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
> >>
> 
> 
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: 
>http://www.antlr.org/mailman/options/antlr-interest/your-email-address
> 

From sharwell at pixelminegames.com  Wed Mar 30 03:42:18 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Wed, 30 Mar 2011 05:42:18 -0500
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <4D92B569.2000108@magma.ca>
References: <4D929678.8080308@magma.ca> <4D92B569.2000108@magma.ca>
Message-ID: <009601cbeec7$24df55f0$6e9e01d0$@pixelminegames.com>

Hi Martin,

For lexers you can implement CharStream (ICharStream in the C# target), and
for parsers you can implement TokenStream (ITokenStream in C# target). I've
successfully used the former for case-insensitive lexing, and the latter for
a preprocessor. ANTLRReaderStream is one of the included implementations of
CharStream, and at least for .NET offers support for "io pipes" (which
appear in the .NET framework as either TextReader (Console.In), or Stream
objects such as FileStream which can be passed as "new StreamReader(file)").

Sam

-----Original Message-----
From: antlr-interest-bounces at antlr.org
[mailto:antlr-interest-bounces at antlr.org] On Behalf Of Martin d'Anjou
Sent: Tuesday, March 29, 2011 11:45 PM
To: antlr-interest at antlr.org
Subject: Re: [antlr-interest] antlr v4 wish list

Also, how about support for io pipes to decouple the lexer from the parser,
such that each could be in its own thread? Also, the input to the lexer
could be an io pipe. Might be easier to place a pre-processor in front of
the lexer this way, and also to handle gigantic files.

Martin

List: http://www.antlr.org/mailman/listinfo/antlr-interest
Unsubscribe:
http://www.antlr.org/mailman/options/antlr-interest/your-email-address


From sharwell at pixelminegames.com  Wed Mar 30 04:02:55 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Wed, 30 Mar 2011 06:02:55 -0500
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <4D92B7A3.1040509@magma.ca>
References: <4D929678.8080308@magma.ca>
	<005c01cbee8a$b1a3ca30$14eb5e90$@pixelminegames.com>
	<4D92B7A3.1040509@magma.ca>
Message-ID: <009701cbeeca$063c2300$12b46900$@pixelminegames.com>

Sorry about the misunderstanding there.

I've done some extensive work on lexer performance, but it was focused on
source files only up to a couple of dozen megabytes in a single file. ANTLR
for Java is certainly not equipped to handle large-scale operations even in
the scale I was testing due to some fundamental language limitations. Using
carefully written grammars and my experimental "SlimLexer" implementation
for the CSharp3 target, I've achieved rates of approximately 10MB of source
per second which *significantly* outperformed even the C target.

The lexer implementation planned for ANTLR v4 should approach (and hopefully
exceed) the performance of my SlimLexer, but I don't think there's any
intention to consider gigabytes of source code.

On a side note, I'm assuming the dozens of gigabytes weren't handwritten are
the result of an intermediate tool in the compiler tool chain. I would treat
this as a substantial, unacceptable design flaw in a system designed for
business use. Any practical system for data on this scale use data formats
and layouts which can be efficiently manipulated for the desired
information. This is like replacing a long hallway in an office building
with a maze and complaining that it takes too long to get to the bathroom
and wondering if go-karts might help. The problem exists way before parsing
is ever considered.

Sam

-----Original Message-----
From: Martin d'Anjou [mailto:point14 at magma.ca] 
Sent: Tuesday, March 29, 2011 11:55 PM
To: Sam Harwell
Cc: antlr-interest at antlr.org
Subject: Re: [antlr-interest] antlr v4 wish list

Hi Sam,

With regards to your answer to item 4) Gigantic files, I meant the problem
of lexing and parsing gigantic source files such as verilog netlists which
can be dozens of gigabytes of source code and take hours to lex and parse
due to their size. The problem is reported by
http://v2kparse.blogspot.com/2008/06/first-pass-uploaded-to-sourceforce.html
. 
To quote his blog:

"I was compelled to use ANTLR 2.7.7 since the token stream mechanism does
not try to slurp in the whole source file, an issue which I encountered with
the more recent ANTLR 3.0.

While Verilog source files are not generally large, netlist files can be
humungous, and one can quickly run out of memory by "slurping in the whole
tamale."

Anyway, I've communicated the large file slurp file to the author of ANTLR
and he'll be working out a solution in future releases.

(If you think large verilog netlists are problematic to slurp; think aout a
SPEF file --- where I first encoutered the problem using ANTLR 3.x. Anyway,
back to 2.7.7 works fine, even for large SPEF files.)"

As I said, this might have been fixed already, I just don't know.

Regards,
Martin



On 11-03-29 11:29 PM, Sam Harwell wrote:
> 4. With proper integration into the build system, generated files 
> aren't checked into source control or distributed. The ANTLR project 
> itself generates V2 and V3 grammars, and my .NET projects generate V3 
> grammars (using my C# port of the Tool) at build time, so the 
> generated files never take up space in source control.



From point14 at magma.ca  Wed Mar 30 06:39:05 2011
From: point14 at magma.ca (Martin d'Anjou)
Date: Wed, 30 Mar 2011 09:39:05 -0400
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <009701cbeeca$063c2300$12b46900$@pixelminegames.com>
References: <4D929678.8080308@magma.ca>
	<005c01cbee8a$b1a3ca30$14eb5e90$@pixelminegames.com>
	<4D92B7A3.1040509@magma.ca>
	<009701cbeeca$063c2300$12b46900$@pixelminegames.com>
Message-ID: <4D933279.8080909@magma.ca>

On 11-03-30 07:02 AM, Sam Harwell wrote:
> On a side note, I'm assuming the dozens of gigabytes weren't 
> handwritten are
> the result of an intermediate tool in the compiler tool chain. I would treat
> this as a substantial, unacceptable design flaw in a system designed for
> business use.
To represent, simulate and/or model the logic and the physical features 
for a multi-million-transistor chip, you need a lot of code.

Martin


From matt.fowles at gmail.com  Wed Mar 30 06:57:02 2011
From: matt.fowles at gmail.com (Matt Fowles)
Date: Wed, 30 Mar 2011 09:57:02 -0400
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <005c01cbee8a$b1a3ca30$14eb5e90$@pixelminegames.com>
References: <4D929678.8080308@magma.ca>
	<005c01cbee8a$b1a3ca30$14eb5e90$@pixelminegames.com>
Message-ID: <AANLkTimgn7-kwXLbbosUjCsMwoLdibaG0Zkm2Qh+2DMJ@mail.gmail.com>

Sam~

A token needs to know both start and end position.  Especially when
you add in the restriction that *synthetic* tokens should respond with
the positions for the entire rule that created them (if they weren't
based on another token).  Basically, you need Tree and Token to always
be able to provide locations in the original stream (even if those
locations are best guess) regardless of how many tree transformations
have taken place.  Whether it internally uses a shared array of line
offsets or stores duplicates in every token, I don't care, but pushing
all of that onto every language implementer is not a good trade off.

Matt

On Tue, Mar 29, 2011 at 11:29 PM, Sam Harwell
<sharwell at pixelminegames.com> wrote:
> Hi Martin,
>
> Replying to the individual points:
>
> 1. A token only needs to know the start position in the input stream and the
> length. Considering a file may easily have hundreds of thousands of tokens,
> it's very important to not add any information to the token that can be
> efficiently derived in another manner, especially if that information is
> infrequently used by applications. For example, the line/column information
> can be efficiently derived if the lexer maintains an internal array of line
> offsets (index 0 contains 0, the start position of line 0; index 1 contains
> the offset to the start of line 1; etc...).
>
> 3. The current notation is pretty simple once you see it. Also, it's well
> documented in the books.
>
> 4. With proper integration into the build system, generated files aren't
> checked into source control or distributed. The ANTLR project itself
> generates V2 and V3 grammars, and my .NET projects generate V3 grammars
> (using my C# port of the Tool) at build time, so the generated files never
> take up space in source control.
>
> Sam
>
> -----Original Message-----
> From: antlr-interest-bounces at antlr.org
> [mailto:antlr-interest-bounces at antlr.org] On Behalf Of Martin d'Anjou
> Sent: Tuesday, March 29, 2011 9:33 PM
> To: antlr-interest at antlr.org
> Subject: Re: [antlr-interest] antlr v4 wish list
>
> Hello,
>
> My suggestions, for what it's worth:
>
> 1) In the Runtime section:
> * Tokens and Trees should both know their start/stop line, start/stop char
> position to make IDEs easier.
>
> Not only IDEs, but for also for debugging on the command line in a terminal.
> The file name is also needed.
>
> 2) Lexer debug enhancement:
> Option on the lexer constructor to have the lexer print some debug info:
> token type by name, token value, filename, line and char position, without
> having to replace antlr's built-in classes.
>
> 3) General:
> I have spent many hours on a ridiculous little problem: the grammar
> declaration statement! So I suggest enforcing the grammar type in the
> grammar declaration:
> parser grammar MyGrammar;
> lexer grammar MyGrammar;
> mixed grammar MyGrammar; ?// lexer and parser grammar tree grammar
> MyGrammar;
>
> 4) Gigantic source files, as described here:
> http://v2kparse.blogspot.com/2008/06/first-pass-uploaded-to-sourceforce.html
> Maybe this has been solved already?
>
> Regards,
> Martin d'Anjou
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

From sharwell at pixelminegames.com  Wed Mar 30 07:21:27 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Wed, 30 Mar 2011 09:21:27 -0500
Subject: [antlr-interest] antlr v4 wish list
In-Reply-To: <AANLkTimgn7-kwXLbbosUjCsMwoLdibaG0Zkm2Qh+2DMJ@mail.gmail.com>
References: <4D929678.8080308@magma.ca>
	<005c01cbee8a$b1a3ca30$14eb5e90$@pixelminegames.com>
	<AANLkTimgn7-kwXLbbosUjCsMwoLdibaG0Zkm2Qh+2DMJ@mail.gmail.com>
Message-ID: <00b401cbeee5$c2637310$472a5930$@pixelminegames.com>

Hi Matt,

I agree except that it should hold the length of the token in the input
stream instead of the end (where end=start+length-1). This allows insertion
of zero-length tokens such as the implied ; tokens in Go (language by
Google) without storing confusing positions like (start=3, end=2) - instead
you get (start=3, length=0). Length and End are technically equivalent, but
length leaves no questions about endpoints (inclusive/exclusive, and what to
do with zero-length tokens). In my first comment, I was simply stating that
you only need to store 2 values (start/length) instead of 4
(start/length/line/column), because the latter two can be efficiently
derived from the former.

In ANTLR v4 the line map I mentioned will likely be included in the base
lexer implementation, so it will be efficient (space and time) without
becoming a burden.

Sam

-----Original Message-----
From: Matt Fowles [mailto:matt.fowles at gmail.com] 
Sent: Wednesday, March 30, 2011 8:57 AM
To: Sam Harwell
Cc: Martin d'Anjou; antlr-interest at antlr.org
Subject: Re: [antlr-interest] antlr v4 wish list

Sam~

A token needs to know both start and end position.  Especially when you add
in the restriction that *synthetic* tokens should respond with the positions
for the entire rule that created them (if they weren't based on another
token).  Basically, you need Tree and Token to always be able to provide
locations in the original stream (even if those locations are best guess)
regardless of how many tree transformations have taken place.  Whether it
internally uses a shared array of line offsets or stores duplicates in every
token, I don't care, but pushing all of that onto every language implementer
is not a good trade off.

Matt

On Tue, Mar 29, 2011 at 11:29 PM, Sam Harwell <sharwell at pixelminegames.com>
wrote:
> Hi Martin,
>
> Replying to the individual points:
>
> 1. A token only needs to know the start position in the input stream 
> and the length. Considering a file may easily have hundreds of 
> thousands of tokens, it's very important to not add any information to 
> the token that can be efficiently derived in another manner, 
> especially if that information is infrequently used by applications. 
> For example, the line/column information can be efficiently derived if 
> the lexer maintains an internal array of line offsets (index 0 
> contains 0, the start position of line 0; index 1 contains the offset to
the start of line 1; etc...).
>
> 3. The current notation is pretty simple once you see it. Also, it's 
> well documented in the books.
>
> 4. With proper integration into the build system, generated files 
> aren't checked into source control or distributed. The ANTLR project 
> itself generates V2 and V3 grammars, and my .NET projects generate V3 
> grammars (using my C# port of the Tool) at build time, so the 
> generated files never take up space in source control.
>
> Sam
>
> -----Original Message-----
> From: antlr-interest-bounces at antlr.org 
> [mailto:antlr-interest-bounces at antlr.org] On Behalf Of Martin d'Anjou
> Sent: Tuesday, March 29, 2011 9:33 PM
> To: antlr-interest at antlr.org
> Subject: Re: [antlr-interest] antlr v4 wish list
>
> Hello,
>
> My suggestions, for what it's worth:
>
> 1) In the Runtime section:
> * Tokens and Trees should both know their start/stop line, start/stop 
> char position to make IDEs easier.
>
> Not only IDEs, but for also for debugging on the command line in a
terminal.
> The file name is also needed.
>
> 2) Lexer debug enhancement:
> Option on the lexer constructor to have the lexer print some debug info:
> token type by name, token value, filename, line and char position, 
> without having to replace antlr's built-in classes.
>
> 3) General:
> I have spent many hours on a ridiculous little problem: the grammar 
> declaration statement! So I suggest enforcing the grammar type in the 
> grammar declaration:
> parser grammar MyGrammar;
> lexer grammar MyGrammar;
> mixed grammar MyGrammar; ?// lexer and parser grammar tree grammar 
> MyGrammar;
>
> 4) Gigantic source files, as described here:
> http://v2kparse.blogspot.com/2008/06/first-pass-uploaded-to-sourceforc
> e.html
> Maybe this has been solved already?
>
> Regards,
> Martin d'Anjou
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe:
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: 
> http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>


From antlr at kindelberger-dresden.de  Wed Mar 30 10:07:34 2011
From: antlr at kindelberger-dresden.de (AK)
Date: Wed, 30 Mar 2011 19:07:34 +0200
Subject: [antlr-interest] Problems with JavaTreeParser.g
Message-ID: <4D936356.9090502@kindelberger-dresden.de>

Hi,

if I try to parse a (valid) java file I get an error message (exception):

JavaTreeParser.g: node from line 15:3 mismatched tree node: default 
expecting <UP>


-----------------------------------------


How can I change the tree grammar file?

Here is a test class:

*public**class*Test  {

*public**static**boolean*isBasisTyp(*final**int*pWert) {

*final**boolean*isBasisTyp;

*switch*(pWert) {

*case*1:

*case*2:

*case*3:

                         isBasisTyp = *true*;

*break*;

*default*:

                         isBasisTyp = *false*;

*break*;

             }

*return*isBasisTyp;

       }

}

From matt.fowles at gmail.com  Wed Mar 30 12:08:09 2011
From: matt.fowles at gmail.com (Matt Fowles)
Date: Wed, 30 Mar 2011 15:08:09 -0400
Subject: [antlr-interest] Bug in Attribute Access
Message-ID: <AANLkTim4fh35RS2qzq031vMBj=hJ7cryxfNhcEUQmJ8A@mail.gmail.com>

All~

Notice the trivial parens in the good version and the lack of them in
the bad version:


fowles at morbo:~/co/sb-fail/streambase/compiler$ cat /tmp/Foo.g
grammar Foo;

options { output=AST; }

monkey : 'monkey';
ninja : 'ninja';

good : v1=(monkey)? v2=(ninja)? {$v1 != null && $v2 != null}? -> ^($v1 $v2);
bad  : v1=monkey?   v2=ninja?   {$v1 != null && $v2 != null}? -> ^($v1 $v2);

fowles at morbo:~$ java -cp lib/antlr-3.3-complete.jar org.antlr.Tool
-verbose -o /tmp/ /tmp/Foo.g
ANTLR Parser Generator  Version 3.3 Nov 30, 2010 12:50:56
/tmp/Foo.g
error(117): /tmp/Foo.g:9:33: missing attribute access on rule scope: v1
error(117): /tmp/Foo.g:9:33: missing attribute access on rule scope: v2


I tried to submit this directly to JIRA, but can't find the link to
create a new account.

Matt

From pietron at agh.edu.pl  Thu Mar 31 00:24:19 2011
From: pietron at agh.edu.pl (pietron at agh.edu.pl)
Date: Thu, 31 Mar 2011 09:24:19 +0200
Subject: [antlr-interest] Fwd: F77 grammar
Message-ID: <ad3b6f63fe52d0266c20264116e7954e@agh.edu.pl>

 Hi,

    I have problem with running this grammar (downloaded from ANTLR 
 website). Someone familiar with it?

 Marcin

-------------- next part --------------
A non-text attachment was scrubbed...
Name: f77.g
Type: application/octet-stream
Size: 26233 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20110331/d2265922/attachment.obj 

From bkiers at gmail.com  Thu Mar 31 00:29:20 2011
From: bkiers at gmail.com (Bart Kiers)
Date: Thu, 31 Mar 2011 09:29:20 +0200
Subject: [antlr-interest] Fwd: F77 grammar
In-Reply-To: <ad3b6f63fe52d0266c20264116e7954e@agh.edu.pl>
References: <ad3b6f63fe52d0266c20264116e7954e@agh.edu.pl>
Message-ID: <AANLkTikRV28UHgTraieSKcwwhdPDCU3DY1j=Uv_bm3yQ@mail.gmail.com>

On Thu, Mar 31, 2011 at 9:24 AM, <pietron at agh.edu.pl> wrote:

> Hi,
>
>   I have problem with running this grammar (downloaded from ANTLR website).
> Someone familiar with it?
>
>
I'm not, but the first line of the grammar says: *"Fortran 77 grammar for
ANTLR 2.7.5". *So, my question to you is: are you uainf ANTLR v2.7? ANTLR
3.x will not cope with the syntax from that grammar. If you *are* using
version 2.7, I suggest you explain your actual problem.

Regards,

Bart.

From lgcraymer at yahoo.com  Thu Mar 31 00:49:25 2011
From: lgcraymer at yahoo.com (Loring Craymer)
Date: Thu, 31 Mar 2011 00:49:25 -0700 (PDT)
Subject: [antlr-interest] Fwd: F77 grammar
In-Reply-To: <ad3b6f63fe52d0266c20264116e7954e@agh.edu.pl>
References: <ad3b6f63fe52d0266c20264116e7954e@agh.edu.pl>
Message-ID: <626125.35306.qm@web55907.mail.re3.yahoo.com>

You probably want to check out http://fortran-parser.sourceforge.net/.

--Loring


----- Original Message ----
> From: "pietron at agh.edu.pl" <pietron at agh.edu.pl>
> To: antlr-interest at antlr.org
> Sent: Thu, March 31, 2011 12:24:19 AM
> Subject: [antlr-interest] Fwd: F77 grammar
> 
> Hi,
> 
>    I have problem with running this grammar (downloaded from  ANTLR website). 
>Someone familiar with it?
> 
> Marcin
> 
> 

From jimi at temporal-wave.com  Thu Mar 31 06:49:25 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Thu, 31 Mar 2011 06:49:25 -0700
Subject: [antlr-interest] Release of StringTemplate 4.0
In-Reply-To: <7BEF6A0B-3D23-4D68-89B2-2C586E13A114@cs.usfca.edu>
References: <7BEF6A0B-3D23-4D68-89B2-2C586E13A114@cs.usfca.edu>
Message-ID: <13b9ca48afdb09b47ff372a5b85dd621@mail.gmail.com>

Shall I create the Maven build or are you throwing Maven out? ;-)

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of Terence Parr
> Sent: Sunday, March 27, 2011 12:55 PM
> To: stringtemplate-interest List
> Cc: antlr-interest Interest
> Subject: [antlr-interest] Release of StringTemplate 4.0
>
> Get it while it's hot. 4.0 is a complete rewrite as a bytecode
> interpreter. Is much cleaner and faster than 3.0. enjoy.
>
> http://www.stringtemplate.org/download.html
>
> http://www.antlr.org/wiki/display/ST4/StringTemplate+4+Documentation
>
> http://www.antlr.org/wiki/display/ST4/Differences+between+v3+and+v4
>
> The GUI Visualizer / inspector is very useful; check it out:
>
> http://www.antlr.org/wiki/display/ST4/StringTemplate+Inspector+GUI
>
> Ports to C#, Python, Objective-C on the way thanks to Sam Harwell,
> Benjamin Niemann, and Alan Condit.
>
> A big thanks to Udo Borkowski for his incredible bug catching abilities
> and his suggestions!
>
> Terence
> ANTLR project supreme dictator for life
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address

From jimi at temporal-wave.com  Thu Mar 31 06:52:58 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Thu, 31 Mar 2011 06:52:58 -0700
Subject: [antlr-interest] Fwd: F77 grammar
In-Reply-To: <ad3b6f63fe52d0266c20264116e7954e@agh.edu.pl>
References: <ad3b6f63fe52d0266c20264116e7954e@agh.edu.pl>
Message-ID: <f82fb3d4daf07948d7a14a975640c201@mail.gmail.com>

You are going to have to ask a better question than that. I have problems
with VCU screwing my bracket - any ideas?

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> bounces at antlr.org] On Behalf Of pietron at agh.edu.pl
> Sent: Thursday, March 31, 2011 12:24 AM
> To: antlr-interest at antlr.org
> Subject: [antlr-interest] Fwd: F77 grammar
>
>  Hi,
>
>     I have problem with running this grammar (downloaded from ANTLR
> website). Someone familiar with it?
>
>  Marcin

From sharwell at pixelminegames.com  Thu Mar 31 08:15:08 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Thu, 31 Mar 2011 10:15:08 -0500
Subject: [antlr-interest] Problem and commentary on semantic predicates and
	prediction
Message-ID: <011501cbefb6$6cb48f90$461daeb0$@pixelminegames.com>

I'm trying to use semantic predicates in a lexer. I'll try to explain
everything as I walk through the things I tried. I started with this:

TEXT
    :   (   ~('}'|'<'|'\n'|'\r'|'\\'|'"'|'>')
        |   '\\' .
        |   {AnonymousTemplateLevel==0}? '}'
        |   {Outermost!=String}? '"'
        |   {Outermost!=BigString || input.LA(2)!='>'}? '>'
        )+
    ;

The TEXT token continues to consume characters until the end of the TEXT
section is complete. Depending on context (stored as fields in the lexer),
the text section could end with '}', '"', or '>>'. When I used the above
form of the rule, the prediction section of mTokens() never evaluated my
predicates, so when the next character of the input stream was any of '}',
'"', or '>', it would predict the TEXT rule. Here's a shortened form of the
prediction. For simplicity, I'll use (x in SetA) as syntax for x in
~('}'|'<'|'\n'|'\r'|'"'|'>'), which is a character from the first alt of
TEXT or the '\' character of the second alt. I'll use SetB for
~('<'|'\n'|'\r'), which is any possible character in TEXT without
considering the predicates.

if ((LA5_0 in SetB)) {
	alt5 = 5; // TEXT
}

I realized shortly after that no other rule in the lexer could start with
these characters, so by process of elimination I supposed this kind of
prediction is a reasonable result. I tried to correct the situation by
adding the following rule after TEXT:

ANYCHAR : . ;

This changed the prediction in mTokens, but certainly didn't fix it.

if ((LA5_0=='\"')) {
	int LA5_6 = input.LA(2);

	if (LA5_6 in SetB) {
		alt5 = 5;
	} else if (((Outermost!=String))) {
		alt5 = 5;
	} else if ((true)) {
		alt5 = 6;
	}
}

Next, looking at the ACyclicDFACodeGenerator in the tool, I noticed that
predicates are only emitted in the prediction phase if they are gated
(assigned to the "predicates" attribute of the "dfaEdge" template in
WalkFixedDFAGeneratingStateMachine). So I added gates to my predicates. In
this case, the prediction is correct, but the Boolean expression is
expressed as ((A && B) || B), which reduces to simply (B). In this case, the
expense of computing B (a semantic predicate) has no bearing on the result
because there is no way to avoid evaluating it.

if ((LA5_0=='\"')) {
	int LA5_6 = input.LA(2);

	if ((LA5_6 in SetB) && ((Outermost!=String))) {
		alt5 = 5;
	} else if (((Outermost!=String))) {
		alt5 = 5;
	} else if ((true)) {
		alt5 = 6;
	}
}

I originally didn't see the correctness of this test, so I went on to try
removing the ANYCHAR rule while keeping the gates on the predicates. The
results are interesting, so I'll note them here. The result in mTokens
looked like this:

... } else if (LA5_0 in SetA) {
	alt5 = 5;
} else if ((LA5_0=='}') && ((AnonymousTemplateLevel==0))) {
	alt5 = 5;
} else if ((LA5_0=='\"') && ((Outermost!=String))) {
	alt5 = 5;
} else if ((LA5_0=='>') && ((Outermost!=BigString || input.LA(2)!='>'))) {
	alt5 = 5;
} else ...

In this case I observed the following:

1. The LL(1) prediction that now appears is faster.
2. This lexer is used as a syntax highlighting component, where removing the
ANYCHAR rule can lead to substantial performance degradation. However, since
the Tokens rule is implicitly created by the grammar compiler, I have no way
to specify that the decision on TEXT can/should be treated as LL(1).
3. The check (LA5_0 in SetA) is overly restrictive because an conditions
check for (LA_5 in ('<'|'\n'|'\r')). Relaxing the test reduces the number of
comparisons in the false case (say (LA5_0=='{')) from 14 to 8.
4. The test (LA5_0 in SetB) expands to the following. Edit here: I meant to
show this for SetA, but since I'll accidentally used SetB, we'll go with
that.

((LA5_5>='\u0000' && LA5_5<='\t')||(LA5_5>='\u000B' &&
LA5_5<='\f')||(LA5_5>='\u000E' && LA5_5<=';')||(LA5_5>='=' &&
LA5_5<='\uFFFF'))

A simple transform (moving a few parenthesis) of this already ordered
expression gives:

((LA5_5 >= '\u0000' && (LA5_5 <= '\t' || (LA5_5 >= '\u000B' && (LA5_5 <=
'\f' || (LA5_5 >= '\u000E' && (LA5_5 <= ';' || (LA5_5 >= '=' && LA5_5 <=
'\uFFFF'))))))))

Which reduces the number of comparisons from 5 to 3 for eliminating '\n', 6
to 5 for eliminating '\r', and remains at 7 for eliminating '}'. For sets
with a very large number of ranges such as the ID start character in the
Java grammar, the time savings for this change could be tremendous
considering nearly all identifiers start with a character in the range
0..127 which is tested in the early portion of the expression.

Thanks,
Sam


From sharwell at pixelminegames.com  Thu Mar 31 08:21:23 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Thu, 31 Mar 2011 10:21:23 -0500
Subject: [antlr-interest] [stringtemplate-interest] Release of
	StringTemplate 4.0
Message-ID: <011601cbefb7$4c601510$e5203f30$@pixelminegames.com>

I already created one (attached) if you want to use it as a start point. :)
It uses build-helper-maven-plugin to avoid having to restructure the
directories in P4.

Sam

-----Original Message-----
From: stringtemplate-interest-bounces at antlr.org
[mailto:stringtemplate-interest-bounces at antlr.org] On Behalf Of Jim Idle
Sent: Thursday, March 31, 2011 8:49 AM
To: stringtemplate-interest List
Cc: antlr-interest Interest
Subject: Re: [stringtemplate-interest] [antlr-interest] Release of
StringTemplate 4.0

Shall I create the Maven build or are you throwing Maven out? ;-)

Jim

> -----Original Message-----
> From: antlr-interest-bounces at antlr.org [mailto:antlr-interest- 
> bounces at antlr.org] On Behalf Of Terence Parr
> Sent: Sunday, March 27, 2011 12:55 PM
> To: stringtemplate-interest List
> Cc: antlr-interest Interest
> Subject: [antlr-interest] Release of StringTemplate 4.0
>
> Get it while it's hot. 4.0 is a complete rewrite as a bytecode 
> interpreter. Is much cleaner and faster than 3.0. enjoy.
>
> http://www.stringtemplate.org/download.html
>
> http://www.antlr.org/wiki/display/ST4/StringTemplate+4+Documentation
>
> http://www.antlr.org/wiki/display/ST4/Differences+between+v3+and+v4
>
> The GUI Visualizer / inspector is very useful; check it out:
>
> http://www.antlr.org/wiki/display/ST4/StringTemplate+Inspector+GUI
>
> Ports to C#, Python, Objective-C on the way thanks to Sam Harwell, 
> Benjamin Niemann, and Alan Condit.
>
> A big thanks to Udo Borkowski for his incredible bug catching 
> abilities and his suggestions!
>
> Terence
> ANTLR project supreme dictator for life
>
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-
> email-address
_______________________________________________
stringtemplate-interest mailing list
stringtemplate-interest at antlr.org
http://www.antlr.org/mailman/listinfo/stringtemplate-interest
-------------- next part --------------
A non-text attachment was scrubbed...
Name: stringtemplate.config
Type: application/xml
Size: 0 bytes
Desc: not available
Url : http://www.antlr.org/pipermail/antlr-interest/attachments/20110331/2b5acd60/attachment.rdf 

From jimi at temporal-wave.com  Thu Mar 31 08:44:36 2011
From: jimi at temporal-wave.com (Jim Idle)
Date: Thu, 31 Mar 2011 08:44:36 -0700
Subject: [antlr-interest] [stringtemplate-interest] Release of
 StringTemplate 4.0
In-Reply-To: <011601cbefb7$4c601510$e5203f30$@pixelminegames.com>
References: <011601cbefb7$4c601510$e5203f30$@pixelminegames.com>
Message-ID: <8a78c052cb47c0dead2630d968163578@mail.gmail.com>

Cheers, it saves me configuring build helper. However, it isn't so much
that, as whether we are supporting Maven philosophically or not. If Ter
does not want to build with it, then I will be forever playing catch up
and wrangling builds together. The build helper is fine but then we are
already heading away from the structure etc. I like Maven a lot, but you
have to buy in to it really.

So, I wonder if we don't just create the artifacts directly from the Jars
the Ter builds and deploy them. We lose the jar with dependencies though,
which is a shame.

So, if we could decide not to randomly change the build around and add
weird scripts to ANT, then I can keep it going. But even keeping the
plugin going is going to be a pain if I have to keep deploying the jars,
and then because we are not eating our own dog food, we will keep breaking
the plugin by changing the options without changing the plugin and so on
etc...

However, we should move to maven 3 for version 4 of ST and ANTLR if we are
going to keep going.


Jim

> -----Original Message-----
> From: Sam Harwell [mailto:sharwell at pixelminegames.com]
> Sent: Thursday, March 31, 2011 8:21 AM
> To: 'Jim Idle'; 'stringtemplate-interest List'
> Cc: 'antlr-interest Interest'
> Subject: RE: [stringtemplate-interest] [antlr-interest] Release of
> StringTemplate 4.0
>
> I already created one (attached) if you want to use it as a start
> point. :) It uses build-helper-maven-plugin to avoid having to
> restructure the directories in P4.
>
> Sam
>
> -----Original Message-----
> From: stringtemplate-interest-bounces at antlr.org
> [mailto:stringtemplate-interest-bounces at antlr.org] On Behalf Of Jim
> Idle
> Sent: Thursday, March 31, 2011 8:49 AM
> To: stringtemplate-interest List
> Cc: antlr-interest Interest
> Subject: Re: [stringtemplate-interest] [antlr-interest] Release of
> StringTemplate 4.0
>
> Shall I create the Maven build or are you throwing Maven out? ;-)
>
> Jim
>
> > -----Original Message-----
> > From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
> > bounces at antlr.org] On Behalf Of Terence Parr
> > Sent: Sunday, March 27, 2011 12:55 PM
> > To: stringtemplate-interest List
> > Cc: antlr-interest Interest
> > Subject: [antlr-interest] Release of StringTemplate 4.0
> >
> > Get it while it's hot. 4.0 is a complete rewrite as a bytecode
> > interpreter. Is much cleaner and faster than 3.0. enjoy.
> >
> > http://www.stringtemplate.org/download.html
> >
> > http://www.antlr.org/wiki/display/ST4/StringTemplate+4+Documentation
> >
> > http://www.antlr.org/wiki/display/ST4/Differences+between+v3+and+v4
> >
> > The GUI Visualizer / inspector is very useful; check it out:
> >
> > http://www.antlr.org/wiki/display/ST4/StringTemplate+Inspector+GUI
> >
> > Ports to C#, Python, Objective-C on the way thanks to Sam Harwell,
> > Benjamin Niemann, and Alan Condit.
> >
> > A big thanks to Udo Borkowski for his incredible bug catching
> > abilities and his suggestions!
> >
> > Terence
> > ANTLR project supreme dictator for life
> >
> >
> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
> > Unsubscribe: http://www.antlr.org/mailman/options/antlr-
> interest/your-
> > email-address
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest

From sharwell at pixelminegames.com  Thu Mar 31 08:49:00 2011
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Thu, 31 Mar 2011 10:49:00 -0500
Subject: [antlr-interest] Problem and commentary on semantic predicates
	and prediction
Message-ID: <012601cbefbb$27dbcc30$77936490$@pixelminegames.com>

By reordering on binary search basis, the number of comparisons becomes 3
for '\n', 3 for '\r', and 3 for '<'. In other words, the way comparisons are
expressed even for a set with only 4 sub-ranges results in 7 comparisons for
characters where only 3 are actually needed. This is O(log n) instead of
O(n), so as the interval set gets more ranges the discrepancy quickly grows
- for 8 sub-ranges used in testing SetA from before, 14 comparisons are used
where only 4 are needed.

(LA5_0 <= '\f' && (LA5_0 >= '\u000B' || (LA5_0 <= '\t' && LA5_0 >=
'\u0000'))) || ((LA5_0 <= ';' && LA5_0 >= '\u000E') || (LA5_0 >= '=' &&
LA5_0 <= '\uFFFF'))

Sam

-----Original Message-----
From: Sam Harwell [mailto:sharwell at pixelminegames.com] 
Sent: Thursday, March 31, 2011 10:15 AM
To: antlr-interest at antlr.org
Subject: Problem and commentary on semantic predicates and prediction


4. The test (LA5_0 in SetB) expands to the following. Edit here: I meant to
show this for SetA, but since I'll accidentally used SetB, we'll go with
that.

((LA5_5>='\u0000' && LA5_5<='\t')||(LA5_5>='\u000B' &&
LA5_5<='\f')||(LA5_5>='\u000E' && LA5_5<=';')||(LA5_5>='=' &&
LA5_5<='\uFFFF'))

A simple transform (moving a few parenthesis) of this already ordered
expression gives:

((LA5_5 >= '\u0000' && (LA5_5 <= '\t' || (LA5_5 >= '\u000B' && (LA5_5 <=
'\f' || (LA5_5 >= '\u000E' && (LA5_5 <= ';' || (LA5_5 >= '=' && LA5_5 <=
'\uFFFF'))))))))

Which reduces the number of comparisons from 5 to 3 for eliminating '\n', 6
to 5 for eliminating '\r', and remains at 7 for eliminating '<'. For sets
with a very large number of ranges such as the ID start character in the
Java grammar, the time savings for this change could be tremendous
considering nearly all identifiers start with a character in the range
0..127 which is tested in the early portion of the expression.

Thanks,
Sam


From researcher0x00 at gmail.com  Thu Mar 31 15:21:59 2011
From: researcher0x00 at gmail.com (The Researcher)
Date: Thu, 31 Mar 2011 18:21:59 -0400
Subject: [antlr-interest] Imaginary node modifies tree unexpectedly. Bug,
	Grrr, or not what I expected?
Message-ID: <AANLkTinWrmPh68WEdf4_8nNM28bHn1toPtiLE4T8XeQr@mail.gmail.com>

Imaginary node modifies tree unexpectedly.
Bug, Grrr, or not what I expected?

In the following grammar, rule a invokes rule b twice sequentially.
The first b is captured as b1, and the second b is captured as b2.
If rule b does not create an imaginary token, then both the trees for b1 and
b2 are created as expected.
However, if rule b creates an imaginary token, then tree b1 is created as
expected at first.
When b2 is created, b1 is changed and now holds the value of both b1 and b2,
when only b1 is expected.

====
grammar InvalidTreeBuild001;

options
{
   language = 'CSharp2';
   output = AST;
}

// Imaginary Tokens
tokens
{
 I1;
 I2;
}

a : b1=b b2=b
 ;

// No imaginary created
//b
// : IntegerDigit   -> ^(I1 IntegerDigit)
// ;

// Imaginary created
b
 : IntegerDigit   -> ^(I1 IntegerDigit)  ^(I2 IntegerDigit["0"])
 ;

WS  : (' '  | '\r' | '\t' | '\u000C' | '\n') {$channel=HIDDEN;}
 ;

IntegerDigit
 : ('0'..'9')
 ;
=====
Input
1 2

-----

For No imaginary created
Before b2=b
b1 = (I1 1)
b2 = nil

After b2=b
b1 = (I1 1)
b2 = (I1 2)

-----

For Imaginary created
Before b2=b
b1 1 = (I1 1) (I2 0)
b2 = nil

After b2=b
b1 = (I1 1) (I2 0) (I1 2) (I2 0)  <-  Why did (I1 2) (I2 0) get added to b1?
b2 = (I1 2) (I2 0)

From michael.bedward at gmail.com  Thu Mar 31 16:13:36 2011
From: michael.bedward at gmail.com (Michael Bedward)
Date: Fri, 1 Apr 2011 10:13:36 +1100
Subject: [antlr-interest] [stringtemplate-interest] Release of
 StringTemplate 4.0
In-Reply-To: <8a78c052cb47c0dead2630d968163578@mail.gmail.com>
References: <011601cbefb7$4c601510$e5203f30$@pixelminegames.com>
	<8a78c052cb47c0dead2630d968163578@mail.gmail.com>
Message-ID: <AANLkTi=b6-yOzqrysNON93EajW_HWrgH_r1VYUC55NL7@mail.gmail.com>

Hello all,

I'm following this thread with interest and keeping my fingers crossed
that this isn't the start of the end for Maven support.

Michael

On 1 April 2011 02:44, Jim Idle <jimi at temporal-wave.com> wrote:
> Cheers, it saves me configuring build helper. However, it isn't so much
> that, as whether we are supporting Maven philosophically or not. If Ter
> does not want to build with it, then I will be forever playing catch up
> and wrangling builds together. The build helper is fine but then we are
> already heading away from the structure etc. I like Maven a lot, but you
> have to buy in to it really.
>
> So, I wonder if we don't just create the artifacts directly from the Jars
> the Ter builds and deploy them. We lose the jar with dependencies though,
> which is a shame.
>
> So, if we could decide not to randomly change the build around and add
> weird scripts to ANT, then I can keep it going. But even keeping the
> plugin going is going to be a pain if I have to keep deploying the jars,
> and then because we are not eating our own dog food, we will keep breaking
> the plugin by changing the options without changing the plugin and so on
> etc...
>
> However, we should move to maven 3 for version 4 of ST and ANTLR if we are
> going to keep going.
>
>
> Jim
>
>> -----Original Message-----
>> From: Sam Harwell [mailto:sharwell at pixelminegames.com]
>> Sent: Thursday, March 31, 2011 8:21 AM
>> To: 'Jim Idle'; 'stringtemplate-interest List'
>> Cc: 'antlr-interest Interest'
>> Subject: RE: [stringtemplate-interest] [antlr-interest] Release of
>> StringTemplate 4.0
>>
>> I already created one (attached) if you want to use it as a start
>> point. :) It uses build-helper-maven-plugin to avoid having to
>> restructure the directories in P4.
>>
>> Sam
>>
>> -----Original Message-----
>> From: stringtemplate-interest-bounces at antlr.org
>> [mailto:stringtemplate-interest-bounces at antlr.org] On Behalf Of Jim
>> Idle
>> Sent: Thursday, March 31, 2011 8:49 AM
>> To: stringtemplate-interest List
>> Cc: antlr-interest Interest
>> Subject: Re: [stringtemplate-interest] [antlr-interest] Release of
>> StringTemplate 4.0
>>
>> Shall I create the Maven build or are you throwing Maven out? ;-)
>>
>> Jim
>>
>> > -----Original Message-----
>> > From: antlr-interest-bounces at antlr.org [mailto:antlr-interest-
>> > bounces at antlr.org] On Behalf Of Terence Parr
>> > Sent: Sunday, March 27, 2011 12:55 PM
>> > To: stringtemplate-interest List
>> > Cc: antlr-interest Interest
>> > Subject: [antlr-interest] Release of StringTemplate 4.0
>> >
>> > Get it while it's hot. 4.0 is a complete rewrite as a bytecode
>> > interpreter. Is much cleaner and faster than 3.0. enjoy.
>> >
>> > http://www.stringtemplate.org/download.html
>> >
>> > http://www.antlr.org/wiki/display/ST4/StringTemplate+4+Documentation
>> >
>> > http://www.antlr.org/wiki/display/ST4/Differences+between+v3+and+v4
>> >
>> > The GUI Visualizer / inspector is very useful; check it out:
>> >
>> > http://www.antlr.org/wiki/display/ST4/StringTemplate+Inspector+GUI
>> >
>> > Ports to C#, Python, Objective-C on the way thanks to Sam Harwell,
>> > Benjamin Niemann, and Alan Condit.
>> >
>> > A big thanks to Udo Borkowski for his incredible bug catching
>> > abilities and his suggestions!
>> >
>> > Terence
>> > ANTLR project supreme dictator for life
>> >
>> >
>> > List: http://www.antlr.org/mailman/listinfo/antlr-interest
>> > Unsubscribe: http://www.antlr.org/mailman/options/antlr-
>> interest/your-
>> > email-address
>> _______________________________________________
>> stringtemplate-interest mailing list
>> stringtemplate-interest at antlr.org
>> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>
> List: http://www.antlr.org/mailman/listinfo/antlr-interest
> Unsubscribe: http://www.antlr.org/mailman/options/antlr-interest/your-email-address
>

