<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] lexer: embedded quotes assistance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20lexer%3A%20embedded%20quotes%20assistance&In-Reply-To=%3CFF993752CB890B4EB591BE5450C37BF1B04CF1%40navamane001.ad.internal.corp%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023434.html">
   <LINK REL="Next"  HREF="023437.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] lexer: embedded quotes assistance</H1>
    <B>Edwards, Waverly</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20lexer%3A%20embedded%20quotes%20assistance&In-Reply-To=%3CFF993752CB890B4EB591BE5450C37BF1B04CF1%40navamane001.ad.internal.corp%3E"
       TITLE="[antlr-interest] lexer: embedded quotes assistance">Waverly.Edwards at genesys.com
       </A><BR>
    <I>Fri Aug 24 14:56:34 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023434.html">[antlr-interest] question about V3 AST rewriting ?
</A></li>
        <LI>Next message: <A HREF="023437.html">[antlr-interest] lexer: embedded quotes assistance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23436">[ date ]</a>
              <a href="thread.html#23436">[ thread ]</a>
              <a href="subject.html#23436">[ subject ]</a>
              <a href="author.html#23436">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;&gt;&gt;<i>
</I>Well, by the first definition (that permits embedded NEWLINEs), the only
way a string could possibly be unterminated is if an EOF occurs before
the final quote -- in which case it should throw some kind of
RecognitionException, because it can't match the final quote.
&lt;&lt;&lt;

I intentionally left out the closing quote to see what would happen.  I
got an error message, but have forgotten what it was.  I was looking to
see how to intercept the existing error message for one that works
better for me.

&gt;&gt;&gt;<i>
</I>If embedded NEWLINEs are only permitted following the line continuation
character, then you really should add that to the rule the way I
described, to avoid having typos make strings consume the remainder of
the file.
&lt;&lt;&lt;

Ah, I see what you mean.

&gt;&gt;<i>... Doesn't Java have a &quot;replace all&quot; function already?
</I>
I looked and didn't find one.  I had to work for that one a little
didn't I?
It would definitely make for shorter, prettier code.


Thanks,


W.

-----Original Message-----
From: Gavin Lambert [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at mirality.co.nz</A>] 
Sent: Friday, August 24, 2007 5:42 PM
To: Edwards, Waverly; antlr
Subject: RE: [antlr-interest] lexer: embedded quotes assistance

At 04:23 25/08/2007, Edwards, Waverly wrote:
 &gt;I haven't figured out how to get ANTLR to tell me the string is
&gt;<i>unterminated but I will.
</I>
Well, by the first definition (that permits embedded NEWLINEs), the only
way a string could possibly be unterminated is if an EOF occurs before
the final quote -- in which case it should throw some kind of
RecognitionException, because it can't match the final quote.

If embedded NEWLINEs are only permitted following the line continuation
character, then you really should add that to the rule the way I
described, to avoid having typos make strings consume the remainder of
the file.


I'm also a little surprised at how involved your replace calls are.
Doesn't Java have a &quot;replace all&quot; function already?

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023434.html">[antlr-interest] question about V3 AST rewriting ?
</A></li>
	<LI>Next message: <A HREF="023437.html">[antlr-interest] lexer: embedded quotes assistance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23436">[ date ]</a>
              <a href="thread.html#23436">[ thread ]</a>
              <a href="subject.html#23436">[ subject ]</a>
              <a href="author.html#23436">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
