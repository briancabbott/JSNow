<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] C Grammar - Symbol Suffix Related..
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20C%20Grammar%20-%20Symbol%20Suffix%20Related..&In-Reply-To=%3CB3F91E1013C53E4B9840FEAD0F12BAAD3671B5005B%40CHN-HCLT-EVS08.HCLT.CORP.HCL.IN%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040276.html">
   <LINK REL="Next"  HREF="040275.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] C Grammar - Symbol Suffix Related..</H1>
    <B>Sarnath K - ERS, HCLTech</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20C%20Grammar%20-%20Symbol%20Suffix%20Related..&In-Reply-To=%3CB3F91E1013C53E4B9840FEAD0F12BAAD3671B5005B%40CHN-HCLT-EVS08.HCLT.CORP.HCL.IN%3E"
       TITLE="[antlr-interest] C Grammar - Symbol Suffix Related..">k_sarnath at hcl.com
       </A><BR>
    <I>Mon Dec  6 20:19:17 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="040276.html">[antlr-interest] C Grammar - Symbol Suffix Related..
</A></li>
        <LI>Next message: <A HREF="040275.html">[antlr-interest] The following alternatives can never be matched
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40281">[ date ]</a>
              <a href="thread.html#40281">[ thread ]</a>
              <a href="subject.html#40281">[ subject ]</a>
              <a href="author.html#40281">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks a lot Ron! I think I have understood the essence of it.

Interestingly, I had earlier tried such a function declaration in C and got the same error message - which is very readable.
I think I can get such a good error message working with the original ANTLR grammar. Thanks for pointing out!

www.cdecl.org was very helpful to me in understanding complex C declarations - just in case, if any1 is looking for.

Best Regards, Sarnath
-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Ron Burk
Sent: Monday, December 06, 2010 10:55 PM
Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] C Grammar - Symbol Suffix Related..

&gt;<i> I have a doubt on the following productions of the C grammar.
</I>What version of C are you shooting for?

&gt;<i> Any ideas why the grammar is so?
</I>
Maybe it's just reproducing a specification grammar? For example,
in the C99 spec, section A.2.2, the 6.75 construct is:

direct-declarator:
    identifier
    ( declarator )
    direct-declarator [ type-qualifier-list.opt assignment-expression.opt ]
          ...
    direct-declarator ( parameter-type-list )
    direct-declarator ( identifier-list.opt )

Transforming that to ANTLR would look pretty much like what you
posted. (Ironically, if ANTLR simply automatically performed the
transformations for direct left recursion and left factoring, a shocking
percentage of the C99 language spec would slide through unchanged
as LL(1).)

Not all constraints can (or should) be implemented via grammar
syntax, as the people who worked on the C language knew.
In fact, I speculate that tools like ANTLR, by offering ever-expanding
feature sets, result in less and less readable grammars, as the
everything-looks-like-a-nail syndrome causes people to try to cram
every constraint into the grammar, foregoing more modular,
understandable, and functional divisions of labor.

So, for example, given a construct like:

int foo(int a)(int b);

Visual C++ says:

error C2091: function returns function

A highly readable and to the point error message. I suspect that if
they instead had tried to contort their grammar to reflect every
constraint under the sun, the message would have come out more
like &quot;Unexpected left parenthesis after parameter declaration list.&quot;
I know which I prefer (and I also prefer the ability to directly match
a syntactically plausible but semantically erroneous construct so
that there's no need to rely on &quot;error recovery&quot; mechanisms to
guess where to continue the parse).

 IMHO :-).

List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>

::<i>DISCLAIMER::
</I>-----------------------------------------------------------------------------------------------------------------------

The contents of this e-mail and any attachment(s) are confidential and intended for the named recipient(s) only.
It shall not attach any liability on the originator or HCL or its affiliates. Any views or opinions presented in
this email are solely those of the author and may not necessarily reflect the opinions of HCL or its affiliates.
Any form of reproduction, dissemination, copying, disclosure, modification, distribution and / or publication of
this message without the prior written consent of the author of this e-mail is strictly prohibited. If you have
received this email in error please delete it and notify the sender immediately. Before opening any mail and
attachments please check them for viruses and defect.

-----------------------------------------------------------------------------------------------------------------------

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040276.html">[antlr-interest] C Grammar - Symbol Suffix Related..
</A></li>
	<LI>Next message: <A HREF="040275.html">[antlr-interest] The following alternatives can never be matched
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40281">[ date ]</a>
              <a href="thread.html#40281">[ thread ]</a>
              <a href="subject.html#40281">[ subject ]</a>
              <a href="author.html#40281">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
