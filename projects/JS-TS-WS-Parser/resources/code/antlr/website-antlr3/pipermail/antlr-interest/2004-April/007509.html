<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Generating exceptions with location info
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Generating%20exceptions%20with%20location%20info&In-Reply-To=16508.27523.597550.521379%40SWAN.PSY.cmu.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007381.html">
   <LINK REL="Next"  HREF="007383.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Generating exceptions with location info</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Generating%20exceptions%20with%20location%20info&In-Reply-To=16508.27523.597550.521379%40SWAN.PSY.cmu.edu"
       TITLE="[antlr-interest] Generating exceptions with location info">klaren at cs.utwente.nl
       </A><BR>
    <I>Wed Apr 21 02:31:24 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007381.html">[antlr-interest] Generating exceptions with location info
</A></li>
        <LI>Next message: <A HREF="007383.html">Unsubscription by antlr-interest member
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7509">[ date ]</a>
              <a href="thread.html#7509">[ thread ]</a>
              <a href="subject.html#7509">[ subject ]</a>
              <a href="author.html#7509">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Apr 13, 2004 at 06:36:51PM -0400, <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">FranklinChen at cmu.edu</A> wrote:
&gt;<i> so I have a &quot;begin&quot; token and an &quot;end&quot; token 
</I>&gt;<i> 
</I>&gt;<i> BEGIN : '&lt;'! ('a'..'z')+
</I>&gt;<i> END: ('a'..'z')+ '&gt;'!
</I>&gt;<i> 
</I>&gt;<i> and a parser that parses a &quot;sentence&quot; of tokens and pushes each
</I>&gt;<i> &quot;begin&quot; tag found onto a stack of seen tags and then each &quot;end&quot; tag
</I>&gt;<i> seen is checked for a matching one.  If there is a failure, I throw a
</I>&gt;<i> SemanticException.  So far, so good.
</I>&gt;<i> 
</I>&gt;<i> Problem:  I don't know how to get the current line and column numbers
</I>&gt;<i> from the parser, to pass to the SemanticException!  I looked at the
</I>&gt;<i> ANTLR source and it looks like things are protected so that I can't
</I>&gt;<i> get at the lexer information.  
</I>
The best way to get the line number is tag a token in the vicinity of the
error and use the line/column of that one. If everything else fails you can
get it from the inputState object (getInputState should return it but you
can probably reference it directly) Though the values there might be off
due to guessing mode.

Tip: try grep getLine on the antlr support lib header files (or java
files). All line handling methods are get/set/Line/Column.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">j.klaren at utwente.nl</A> ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
   Words fly like arrows
      as if we knew what was right and wrong. --- Chuang Tsu


 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007381.html">[antlr-interest] Generating exceptions with location info
</A></li>
	<LI>Next message: <A HREF="007383.html">Unsubscription by antlr-interest member
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7509">[ date ]</a>
              <a href="thread.html#7509">[ thread ]</a>
              <a href="subject.html#7509">[ subject ]</a>
              <a href="author.html#7509">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
