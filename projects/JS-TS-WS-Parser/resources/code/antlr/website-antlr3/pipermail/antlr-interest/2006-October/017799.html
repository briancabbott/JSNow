<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] philosophy about translation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20philosophy%20about%20translation&In-Reply-To=45250F8F.8040001%40jazillian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017796.html">
   <LINK REL="Next"  HREF="017802.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] philosophy about translation</H1>
    <B>Robert Hill</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20philosophy%20about%20translation&In-Reply-To=45250F8F.8040001%40jazillian.com"
       TITLE="[antlr-interest] philosophy about translation">rob.hill at blueyonder.co.uk
       </A><BR>
    <I>Thu Oct  5 13:15:50 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017796.html">[antlr-interest] philosophy about translation
</A></li>
        <LI>Next message: <A HREF="017802.html">[antlr-interest] philosophy about translation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17799">[ date ]</a>
              <a href="thread.html#17799">[ thread ]</a>
              <a href="subject.html#17799">[ subject ]</a>
              <a href="author.html#17799">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oops....

^(WORMS CAN+) -&gt; {%{&quot;Open&quot;}}


Sorry!

lol


/2ob

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Andy Tripp
</I>&gt;<i> Sent: 05 October 2006 14:59
</I>&gt;<i> Cc: ANTLR Interest
</I>&gt;<i> Subject: [antlr-interest] philosophy about translation
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Here is my new philosophy about translation:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Language L to L':  build a single tree structure and have multiple
</I>&gt;<i> &gt; tree phases that use the same grammar but different actions.  Or, as
</I>&gt;<i> &gt; we are discussing, you could have something that would skip certain
</I>&gt;<i> &gt; pieces that you don't care about.  All of the phases up until last
</I>&gt;<i> &gt; one will simply collect information, possibly annotating the tree
</I>&gt;<i> &gt; nodes as well.  The last phase walks the tree grammar generating
</I>&gt;<i> &gt; string templates that get put together and yield eventually one big
</I>&gt;<i> &gt; string.  This is the approach I'm taking for Mantra.
</I>&gt;<i> 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Ter
</I>&gt;<i> 
</I>&gt;<i> The problem with this approach is that it will be *very* difficult to
</I>&gt;<i> work with only one tree structure. Say you're doing COBOL to
</I>&gt;<i> Java (as I am). Sounds like you're saying that all your phases work on a
</I>&gt;<i> &quot;COBOL AST&quot;, and the last step takes
</I>&gt;<i> the annotated &quot;COBOL AST&quot; and produces a &quot;Java AST&quot; (or just &quot;Java
</I>&gt;<i> text&quot;). The problem is that a &quot;COBOL AST&quot; looks almost nothing
</I>&gt;<i> like a &quot;Java AST&quot;, and in the later phases, it will be nearly impossible
</I>&gt;<i> to do Java-like processing. For example, my last
</I>&gt;<i> phase adds needed &quot;import&quot; statements by looking through the Java code
</I>&gt;<i> to see what's needed. To find out what
</I>&gt;<i> Java library classes are referenced, you really do need a copy of the
</I>&gt;<i> actual Java code to analyze, not
</I>&gt;<i> an annotated &quot;COBOL AST&quot;. Or how about adding try/catch blocks as
</I>&gt;<i> needed. Here, you need to not only look
</I>&gt;<i> for references to methods that throw non-Runtime exceptions, but need to
</I>&gt;<i> see whether exceptions are already being
</I>&gt;<i> caught.
</I>&gt;<i> 
</I>&gt;<i> This &quot;single tree structure&quot; approach might work if, at the start of the
</I>&gt;<i> last phase,
</I>&gt;<i> you essentially have the entire Java program existing in bits and pieces
</I>&gt;<i> as annotations on your COBOL tree. But I don't see how you could do
</I>&gt;<i> that, because the tree structures are quite
</I>&gt;<i> different. For example, In COBOL, you typically have a &quot;variable
</I>&gt;<i> representing a file&quot; declared in one place, its mapping to
</I>&gt;<i> a filename in another place, an &quot;open&quot; call in a third place. Those
</I>&gt;<i> three should map to a single
</I>&gt;<i> &quot;FileReader reader = new FileReader(&quot;myfile&quot;);&quot; Java statement.
</I>&gt;<i> 
</I>&gt;<i> You might think &quot;well, I can use multiple AST structures through
</I>&gt;<i> inheritence or heterogeneous trees&quot;, but that
</I>&gt;<i> just seems messy to me. I prefer an approach where you have, say, 100
</I>&gt;<i> phases. Each phase translates a small piece
</I>&gt;<i> (e.g. a single phase might handle the file-example above). So the code
</I>&gt;<i> gradually transforms from COBOL to Java,
</I>&gt;<i> one small step at a time.
</I>&gt;<i> 
</I>&gt;<i> Andy
</I>&gt;<i> 
</I>&gt;<i> 
</I>


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017796.html">[antlr-interest] philosophy about translation
</A></li>
	<LI>Next message: <A HREF="017802.html">[antlr-interest] philosophy about translation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17799">[ date ]</a>
              <a href="thread.html#17799">[ thread ]</a>
              <a href="subject.html#17799">[ subject ]</a>
              <a href="author.html#17799">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
