<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Identifiers are not local to alternati ves?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%0A%20%3D%3Futf-8%3Fq%3FIdentifiers_are_not_local_to_alternati%3F%3D%0A%20%3D%3Futf-8%3Fq%3F_ves%3D3F%3F%3D&In-Reply-To=%3C6e9ba9928bf0ad1d60fbfeacd85c6986%40mail.frhk.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029124.html">
   <LINK REL="Next"  HREF="029129.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Identifiers are not local to alternati ves?</H1>
    <B>Raphael Reitzig</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%0A%20%3D%3Futf-8%3Fq%3FIdentifiers_are_not_local_to_alternati%3F%3D%0A%20%3D%3Futf-8%3Fq%3F_ves%3D3F%3F%3D&In-Reply-To=%3C6e9ba9928bf0ad1d60fbfeacd85c6986%40mail.frhk.de%3E"
       TITLE="[antlr-interest] Identifiers are not local to alternati ves?">r_reitzi at cs.uni-kl.de
       </A><BR>
    <I>Sat Jul 12 04:25:35 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029124.html">[antlr-interest] Reserved words
</A></li>
        <LI>Next message: <A HREF="029129.html">[antlr-interest] Building 3.1b1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29127">[ date ]</a>
              <a href="thread.html#29127">[ thread ]</a>
              <a href="subject.html#29127">[ subject ]</a>
              <a href="author.html#29127">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

I did not have such examples in mind. Given something like that is and
should be possible, perhaps enhanced static analysis of the input grammar
would be a good solution to avoid confusion. 
It would be a matter of style wether you would like to use more powerful
analysis to create the most fitting piece of code or to print the most
accurate error message (if you want to be restrictive with the use of
variables in grammars).

(Naturally, if you know the tool well, you will not be confused. But
hopefully, there will always be people getting to know ANTLR just then,
like me today, and getting confused.)

Regards

Raphael

On Mon, 30 Jun 2008 09:30:02 +1200, Gavin Lambert &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at mirality.co.nz</A>&gt;
wrote:
&gt;<i> At 09:12 30/06/2008, Raphael Reitzig wrote:
</I>&gt;<i>  &gt;*** error(116): Test.g:4:8: unknown attribute for rule b: s
</I>&gt;<i>  &gt;
</I>&gt;<i>  &gt;4.8 does not point to any sensible location, at least not if you
</I>&gt;<i> do
</I>&gt;<i>  &gt;not know what to look for. Or am I counting in the wrong way? ?(
</I>&gt;<i> 
</I>&gt;<i> Line 4 column 8 is just after the opening { in the &quot;v=a&quot; line, so
</I>&gt;<i> it's certainly *close* to the error.
</I>&gt;<i> 
</I>&gt;<i>  &gt;* move declaration of those variable inside the &quot;case&quot;-Blocks,
</I>&gt;<i>  &gt;rendering them kind of alternative-local.
</I>&gt;<i> 
</I>&gt;<i> There is a reason why this is done that way.  You might want to
</I>&gt;<i> have code like this:
</I>&gt;<i> 
</I>&gt;<i> test
</I>&gt;<i>    :  (v=a | v=b) { DoSomething($v.x); }
</I>&gt;<i>    ;
</I>&gt;<i> 
</I>&gt;<i> (Where both 'a' and 'b' return the same type.)
</I>&gt;<i> 
</I>&gt;<i> Having said that, the way the internal code generation works tends
</I>&gt;<i> to make the types incompatible anyway (the actual return from 'a'
</I>&gt;<i> will be an 'a_return_struct' and the return from 'b' will be a
</I>&gt;<i> 'b_return_struct', which aren't compatible), so the above isn't
</I>&gt;<i> always feasible either.  Another example (which does work
</I>&gt;<i> currently):
</I>&gt;<i> 
</I>&gt;<i> test
</I>&gt;<i>    :  (v=a b c | d v=a c) { DoSomething($v.x); }
</I>&gt;<i>    ;
</I>
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029124.html">[antlr-interest] Reserved words
</A></li>
	<LI>Next message: <A HREF="029129.html">[antlr-interest] Building 3.1b1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29127">[ date ]</a>
              <a href="thread.html#29127">[ thread ]</a>
              <a href="subject.html#29127">[ subject ]</a>
              <a href="author.html#29127">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
