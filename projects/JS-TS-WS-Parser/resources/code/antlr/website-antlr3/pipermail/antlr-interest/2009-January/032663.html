<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] adding &quot;version&quot; option to ANTLR grammars
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20adding%20%22version%22%20option%20to%20ANTLR%20grammars&In-Reply-To=%3CDrLSYwTL0GhJFw0y%40thewolery.demon.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032465.html">
   <LINK REL="Next"  HREF="032664.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] adding &quot;version&quot; option to ANTLR grammars</H1>
    <B>Anthony W. Youngman</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20adding%20%22version%22%20option%20to%20ANTLR%20grammars&In-Reply-To=%3CDrLSYwTL0GhJFw0y%40thewolery.demon.co.uk%3E"
       TITLE="[antlr-interest] adding &quot;version&quot; option to ANTLR grammars">antlr at thewolery.demon.co.uk
       </A><BR>
    <I>Sat Jan 31 07:23:55 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032465.html">[antlr-interest] adding &quot;version&quot; option to ANTLR grammars
</A></li>
        <LI>Next message: <A HREF="032664.html">[antlr-interest] adding &quot;version&quot; option to ANTLR grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32663">[ date ]</a>
              <a href="thread.html#32663">[ thread ]</a>
              <a href="subject.html#32663">[ subject ]</a>
              <a href="author.html#32663">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In message &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">673774B77DFB453C985A9D7053EC2FF7 at DFW5RB41</A>&gt;, Gary R. Van 
Sickle &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">g.r.vansickle at att.net</A>&gt; writes
&gt;&gt;<i> Another improvement would be to allow a comma-separated list.
</I>&gt;&gt;<i> With it one can record all versions of ANTLR, with which the
</I>&gt;&gt;<i> grammar works without any modifications.
</I>&gt;<i>
</I>&gt;<i>The trouble with that is that it forces the user to predict the future.
</I>&gt;<i>Maybe it will work with the next fifty versions, which may only have changes
</I>&gt;<i>which don't affect the ultimate interpretation, such as bug fixes, speed
</I>&gt;<i>improvements, and the like, but there's no way to specify that.
</I>&gt;<i>
</I>&gt;<i>The only way this sort of thing works is for the source file to declare
</I>&gt;<i>&quot;this is the standard I was written to&quot;.  It is then up to the interpreters,
</I>&gt;<i>past, present, and future, to either modify their interpretation to match
</I>&gt;<i>that of the specified standard (i.e. future ANTLR versions &quot;degrading&quot; their
</I>&gt;<i>interpretation) or simply bail (e.g. ANTLR 3.1.2 tries to read a grammar
</I>&gt;<i>that says its written to the ANTLR 8.5.6 standard, which it of course has no
</I>&gt;<i>idea what that even is, so it can't possibly interpret it).
</I>
Look at how Lilypond handles versioning (oh - and I think lily's parser 
got rewritten in Antlr a while back - I'm not sure but I certainly see 
the odd Antlr ref on the mailing list :-)

Each version of Lily knows what is the oldest version of the syntax it 
supports, so if 2.12.2 sees &quot;version 2.12.0&quot; in an input file it's quite 
happy. If it sees 2.11.59 it bails with &quot;this input file is too old - 
run convert-ly&quot;. I don't know what it would do if it saw 2.12.6.

But basically, it knows at what point there were incompatible syntax 
changes, and objects if you try to feed it an old file. Okay, it might 
(or might not) be a bit more work in Antlr deciding at what points to 
break backwards compatibility, but it might also make life easier - keep 
compatibility over several versions because you can, then break it and 
Antlr knows to object about old input.

Cheers,
Wol
-- 
Anthony W. Youngman - <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">anthony at thewolery.demon.co.uk</A>

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032465.html">[antlr-interest] adding &quot;version&quot; option to ANTLR grammars
</A></li>
	<LI>Next message: <A HREF="032664.html">[antlr-interest] adding &quot;version&quot; option to ANTLR grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32663">[ date ]</a>
              <a href="thread.html#32663">[ thread ]</a>
              <a href="subject.html#32663">[ subject ]</a>
              <a href="author.html#32663">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
