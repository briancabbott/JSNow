<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Question about lists in tree rewrites
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Question%20about%20lists%20in%20tree%20rewrites&In-Reply-To=%3CB36CCC332A32904F8FA3DE134A2353362522A5%40wavemachine.temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019863.html">
   <LINK REL="Next"  HREF="019865.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Question about lists in tree rewrites</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Question%20about%20lists%20in%20tree%20rewrites&In-Reply-To=%3CB36CCC332A32904F8FA3DE134A2353362522A5%40wavemachine.temporal-wave.com%3E"
       TITLE="[antlr-interest] Question about lists in tree rewrites">jimi at temporal-wave.com
       </A><BR>
    <I>Thu Mar 22 16:20:53 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="019863.html">[antlr-interest] Question about lists in tree rewrites
</A></li>
        <LI>Next message: <A HREF="019865.html">[antlr-interest] some nice lexer improvements (Java version)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19864">[ date ]</a>
              <a href="thread.html#19864">[ thread ]</a>
              <a href="subject.html#19864">[ subject ]</a>
              <a href="author.html#19864">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Miguel,

Rather than rename you rule, just label it:

selectList    : d1=displayedColumn (COMMA d2=displayedColumn )*  
               -&gt; ^(SELECT_LIST $d1 (COMMA $d2)* );

Also, are you sure you needs those commas in the AST? When you out put
your translated code, you can infer that they are needed by consequence
of the fact that there is more than one displayed column.

Jim

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Miguel Ping
Sent: Thursday, March 22, 2007 4:16 PM
To: antlr-interest
Subject: [antlr-interest] Question about lists in tree rewrites

Hi all,

Suppose I got this rule

selectList    : displayedColumn (COMMA displayedColumn )*  -&gt;
^(SELECT_LIST displayedColumn+ );

I know antlr (v3) is smart and sees that 'displayedColumn' repeats at
least once, and manages the list for me in the rewrite rule.
But suppose I am writing a translator, and really need thosesCOMMAS
tokens, how should I do the rewrite rule to include the COMMA's ?
Right now I made a stupid hack:

selectList	: displayedColumn (COMMA otherColumn)*  -&gt; ^(SELECT_LIST
displayedColumn (COMMA otherColumn)* )
;
	otherColumn	:	displayedColumn; //dummy rule

But as I said, I feel a bit stupid and wonder if is there an easier
way to do this...
Thanks in advance,
Miguel Ping
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019863.html">[antlr-interest] Question about lists in tree rewrites
</A></li>
	<LI>Next message: <A HREF="019865.html">[antlr-interest] some nice lexer improvements (Java version)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19864">[ date ]</a>
              <a href="thread.html#19864">[ thread ]</a>
              <a href="subject.html#19864">[ subject ]</a>
              <a href="author.html#19864">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
