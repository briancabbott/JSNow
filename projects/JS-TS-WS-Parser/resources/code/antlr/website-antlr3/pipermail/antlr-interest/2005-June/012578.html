<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Found an error with UNARY_MINUS and typecast in
	java.g
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Found%20an%20error%20with%20UNARY_MINUS%20and%20typecast%20in%0A%09java.g&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012661.html">
   <LINK REL="Next"  HREF="012579.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Found an error with UNARY_MINUS and typecast in
	java.g</H1>
    <B>Mark Bednarczyk</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Found%20an%20error%20with%20UNARY_MINUS%20and%20typecast%20in%0A%09java.g&In-Reply-To="
       TITLE="[antlr-interest] Found an error with UNARY_MINUS and typecast in
	java.g">voytechs at yahoo.com
       </A><BR>
    <I>Mon Jun  6 17:59:42 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012661.html">[antlr-interest] Help with pesky Lexer determinism
</A></li>
        <LI>Next message: <A HREF="012579.html">[antlr-interest] Found an error with UNARY_MINUS and typecast in
	java.g
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12578">[ date ]</a>
              <a href="thread.html#12578">[ thread ]</a>
              <a href="subject.html#12578">[ subject ]</a>
              <a href="author.html#12578">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I found an error in the logic of java.g when it comes to parsing
UNARY_MINUS and UNARY_PLUS after a typecast. Who do I report the
problem to?

Here is an example:
-(int)2 != (int)-2;

Generates this AST tree:
( [AST ROOT,&lt;&lt;0&gt;&gt;] ( EXPR ( [!=,&lt;NOT_EQUAL&gt;] ( [-,&lt;UNARY_MINUS&gt;]
( [(,&lt;TYPECAST] ( TYPE [int,&lt;IDENT&gt;] ) [2,&lt;NUM_INT&gt;] ) ) (
[-,&lt;MINUS&gt;] [int,&lt;IDENT&gt;] [2,&lt;NUM_NT&gt;] ) ) ) )

You can see that on the lefthand side of the expression it
generates the correct tree, UNARY_MINUS, TYPECAST , IDENT and
the NUM_INT. Then on the right things go wrong, I get a MINUS
instead of UNARY_MINUS, a IDENT instead of a TYPECAST with
IDENT.

I don't mind creating a patch for this and submitting it, as I
would like this problem fixed in the java.g grammar instead of
in my NPL.g file as I'm just inheriting and would like to be
upgradable to new versions of java.g and keep number of
overrides of underlying java grammar in my NPL grammar to a
minimum.


Cheers,
mark...


</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012661.html">[antlr-interest] Help with pesky Lexer determinism
</A></li>
	<LI>Next message: <A HREF="012579.html">[antlr-interest] Found an error with UNARY_MINUS and typecast in
	java.g
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12578">[ date ]</a>
              <a href="thread.html#12578">[ thread ]</a>
              <a href="subject.html#12578">[ subject ]</a>
              <a href="author.html#12578">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
