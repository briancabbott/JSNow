<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Trouble with ANTLR 3 grammar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Trouble%20with%20ANTLR%203%20grammar&In-Reply-To=71B0DEFF-2E0E-414D-BAE1-ED5586E855F4%40cs.usfca.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016783.html">
   <LINK REL="Next"  HREF="016786.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Trouble with ANTLR 3 grammar</H1>
    <B>Emond Papegaaij</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Trouble%20with%20ANTLR%203%20grammar&In-Reply-To=71B0DEFF-2E0E-414D-BAE1-ED5586E855F4%40cs.usfca.edu"
       TITLE="[antlr-interest] Trouble with ANTLR 3 grammar">e.papegaaij at student.utwente.nl
       </A><BR>
    <I>Sat Jul  1 05:26:28 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016783.html">[antlr-interest] LT(0) Specification
</A></li>
        <LI>Next message: <A HREF="016786.html">[antlr-interest] Trouble with ANTLR 3 grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16784">[ date ]</a>
              <a href="thread.html#16784">[ thread ]</a>
              <a href="subject.html#16784">[ subject ]</a>
              <a href="author.html#16784">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 30 June 2006 20:51, Terence Parr wrote:
&gt;<i> On Jun 30, 2006, at 11:43 AM, Emond Papegaaij wrote:
</I>&gt;<i> &gt; I'm printing the tokens (for debugging) before parsing with a
</I>&gt;<i> &gt; simple while
</I>&gt;<i> &gt; loop. Maybe this is causing the problem? I've included the
</I>&gt;<i> &gt; Main.java that,
</I>&gt;<i> &gt; together with the grammar included in my first mail in this thread,
</I>&gt;<i> &gt; triggers
</I>&gt;<i> &gt; the problem.
</I>&gt;<i>
</I>&gt;<i> That should be ok; you can try tokens.toString() but that only prints
</I>&gt;<i> the text by default.
</I>&gt;<i>
</I>&gt;<i> Hmm...so when you print that stuff, the channel shows 99 on the
</I>&gt;<i> whitespace right before going to the parser?
</I>
The lexer does hit 'channel=99', but only after the token is already emitted. 
Printing the channel inside the loop in Main shows '0'. For every WS token 
mWS is called twice. It seems that on the first call the token is emitted, 
and on the second call the channel is set. I can't explain why. Here is some 
output with println statements added at the start of the method, at 
the 'channel=99' statement and at the 'emit' statement:

inWS
emit(11,1,9,0,9,9)
inWS
channel=99; line=1 char=9
inWS
emit(11,1,11,0,11,12)
inWS
channel=99; line=1 char=11


Best regards,
Emond Papegaaij
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016783.html">[antlr-interest] LT(0) Specification
</A></li>
	<LI>Next message: <A HREF="016786.html">[antlr-interest] Trouble with ANTLR 3 grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16784">[ date ]</a>
              <a href="thread.html#16784">[ thread ]</a>
              <a href="subject.html#16784">[ subject ]</a>
              <a href="author.html#16784">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
