<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Fragment for Parserrules
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Fragment%20for%20Parserrules&In-Reply-To=E344C433F006AB45A306D422F9C3EB4C0133EDAB%40exmail1.finjan.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019151.html">
   <LINK REL="Next"  HREF="019123.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Fragment for Parserrules</H1>
    <B>Alexander G&#228;ngel</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Fragment%20for%20Parserrules&In-Reply-To=E344C433F006AB45A306D422F9C3EB4C0133EDAB%40exmail1.finjan.com"
       TITLE="[antlr-interest] Fragment for Parserrules">alexander at gaengel.de
       </A><BR>
    <I>Mon Jan 15 08:09:32 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="019151.html">[antlr-interest] Grammar inheritance problem
</A></li>
        <LI>Next message: <A HREF="019123.html">[antlr-interest] Fragment for Parserrules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19122">[ date ]</a>
              <a href="thread.html#19122">[ thread ]</a>
              <a href="subject.html#19122">[ subject ]</a>
              <a href="author.html#19122">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you

I will look for non-reserved keywords in the Mailing list.

But right now don't see why not just make it possible to make a parser
rule a fragment, cause it would solve the problem easy and would not
change the normal behavior of ANTLR when you just don't use fragment
before the rule. (but ok I'm not into the code from Antlr so maybe there
would be Problems I just don't know about right now)

Alexander

Shmuel Siegel schrieb:
&gt;<i>
</I>&gt;<i> There are ways around it by controlling when idents are checked for
</I>&gt;<i> matches against keyword. The actual order in ANTLR is for IDENT to
</I>&gt;<i> match and then the IDENT is checked to see if it matches &#8216;test&#8217;. If it
</I>&gt;<i> does, the token type is changed. This process can be interfered with
</I>&gt;<i> and can be made dependent on the state of the parser, but lookahead
</I>&gt;<i> will probably cause you problems.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> You can read a lot more about the subject by doing searches on the
</I>&gt;<i> mailing list. The generic subject is non-reserved keywords.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> The type of solution that I wrote is probably the most viable. And
</I>&gt;<i> yes, everybody who deals with languages that accept none reserved
</I>&gt;<i> keywords hits it at some time or other.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> *From:* Alexander G&#228;ngel [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">alexander at gaengel.de</A>]
</I>&gt;<i> *Sent:* Monday, January 15, 2007 5:24 PM
</I>&gt;<i> *To:* Shmuel Siegel
</I>&gt;<i> *Subject:* Re: [antlr-interest] Fragment for Parserrules
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> And there is no way to get around this?
</I>&gt;<i>
</I>&gt;<i> cause I think that such a Problem could occur in may grammars when
</I>&gt;<i> special keywords are only specil in certain positions.
</I>&gt;<i>
</I>&gt;<i> Alexander
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Shmuel Siegel schrieb:
</I>&gt;<i>
</I>&gt;<i> As I answered you before, keyword (or any parser rule) is effectively
</I>&gt;<i> a fragment. It doesn&#8217;t matter that it has been extracted to a separate
</I>&gt;<i> rule. The mistake that you are making is that you think that something
</I>&gt;<i> is identified as &#8220;keyword&#8221;. The parser doesn&#8217;t produce a keyword
</I>&gt;<i> token. Even if you were building a tree, the parser wouldn&#8217;t have
</I>&gt;<i> created anything special just because keyword matched. &#8220;keyword&#8221; will
</I>&gt;<i> only match because it was called from the &#8220;start&#8221; rule. You are
</I>&gt;<i> probably bothered by the fact that the mere presence of &#8216;test&#8217; in a
</I>&gt;<i> parser rule causes test to not match Identifier in the lexer. This is
</I>&gt;<i> a fact of life.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> You can achieve what you stated by rewriting the keyword parser rule as:
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> keyword: (t=&#8217;test&#8217; | t=&#8217;test2&#8217;) {$t.setType(Identifier);};
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> This will reset the &#8216;test&#8217; and &#8216;test2&#8217; tokens to be identifiers when
</I>&gt;<i> they are accessed through keyword.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> Hopefully, I was clear enough
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> *From:* <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
</I>&gt;<i> &lt;mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>&gt;
</I>&gt;<i> [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] *On Behalf Of *Alexander G?ngel
</I>&gt;<i> *Sent:* Monday, January 15, 2007 11:17 AM
</I>&gt;<i> *To:* <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A> &lt;mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
</I>&gt;<i> *Subject:* Re: [antlr-interest] Fragment for Parserrules
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> Can anybody give me a Hint where I am wrong?
</I>&gt;<i>
</I>&gt;<i> Alexander
</I>&gt;<i>
</I>&gt;<i> Alexander G&#228;ngel schrieb:
</I>&gt;<i>
</I>&gt;<i> Here is a small Grammar to show my Problem:
</I>&gt;<i>
</I>&gt;<i> grammar small;
</I>&gt;<i> start    :(Identifier |    '-&gt;' keyword    )+;
</I>&gt;<i> keyword:'test'|'test2';
</I>&gt;<i> Identifier:('a'..'z'|'A'..'Z'|'_') (Letter)*;
</I>&gt;<i> fragment
</I>&gt;<i> Letter    :'a'..'z'|'A'..'Z'|'0'..'9'|'_'|'$';
</I>&gt;<i> WS    :(' '|'\r'|'\t'|'\u000C'|'\n') {$channel=HIDDEN;};
</I>&gt;<i>
</I>&gt;<i> for this Grammar input like this is true:
</I>&gt;<i>
</I>&gt;<i> word word -&gt; test word -&gt; test2
</I>&gt;<i>
</I>&gt;<i> but I would like that if the Input is just test it would also be true
</I>&gt;<i> but then be identified as an Identifier not a keyword.
</I>&gt;<i>
</I>&gt;<i> ok in this example I could put my keyword also into the start rule but
</I>&gt;<i> in actual grammar I'm working on I would use it with a lot of keyword
</I>&gt;<i> (about 20) inside  a Syntactic Predicates so I would prefer to make
</I>&gt;<i> the rule keyword a fragment so it#s just recognized inside the start
</I>&gt;<i> rule when a -&gt; is found.
</I>&gt;<i>
</I>&gt;<i> Ok I hope you now understand what I want.
</I>&gt;<i>
</I>&gt;<i> maybe there is a better way to do such a thing with Antlr I just don't
</I>&gt;<i> know about it.
</I>&gt;<i>
</I>&gt;<i> Alexander
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Kay Roepke schrieb:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 10. Jan 2007, at 12:27 , Alexander G&#228;ngel wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I have some parserrule which should only be applied at special points,
</I>&gt;<i> the problem why I can't inline it because I use in an Syntactic
</I>&gt;<i> Predicate.
</I>&gt;<i>
</I>&gt;<i> or is there some better way I just don't see
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> could you post some sample code/grammar?
</I>&gt;<i>
</I>&gt;<i> I can't really see what you want to do here, that's easier to discuss
</I>&gt;<i> if we have some sample stuff to
</I>&gt;<i> talk about ;)
</I>&gt;<i>
</I>&gt;<i> cheers,
</I>&gt;<i>
</I>&gt;<i> -k
</I>&gt;<i> --Kay R&#246;pke
</I>&gt;<i> <A HREF="http://classdump.org/">http://classdump.org/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20070115/32704559/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20070115/32704559/attachment-0001.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: alexander.vcf
Type: text/x-vcard
Size: 289 bytes
Desc: not available
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20070115/32704559/attachment-0001.vcf">http://www.antlr.org/pipermail/antlr-interest/attachments/20070115/32704559/attachment-0001.vcf</A> 
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019151.html">[antlr-interest] Grammar inheritance problem
</A></li>
	<LI>Next message: <A HREF="019123.html">[antlr-interest] Fragment for Parserrules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19122">[ date ]</a>
              <a href="thread.html#19122">[ thread ]</a>
              <a href="subject.html#19122">[ subject ]</a>
              <a href="author.html#19122">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
