<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Minor suggestion re. Java output
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Minor%20suggestion%20re.%20Java%20output&In-Reply-To=%3C%22LB02C8BF6C929487cA3A5B45EC746A692.1201988691.scalix.temporal-wave.com%2A%22%40MHS%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026138.html">
   <LINK REL="Next"  HREF="026160.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Minor suggestion re. Java output</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Minor%20suggestion%20re.%20Java%20output&In-Reply-To=%3C%22LB02C8BF6C929487cA3A5B45EC746A692.1201988691.scalix.temporal-wave.com%2A%22%40MHS%3E"
       TITLE="[antlr-interest] Minor suggestion re. Java output">jimi at temporal-wave.com
       </A><BR>
    <I>Sat Feb  2 13:21:57 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026138.html">[antlr-interest] Minor suggestion re. Java output
</A></li>
        <LI>Next message: <A HREF="026160.html">[antlr-interest] Minor suggestion re. Java output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26144">[ date ]</a>
              <a href="thread.html#26144">[ thread ]</a>
              <a href="subject.html#26144">[ subject ]</a>
              <a href="author.html#26144">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>A tree is not guaranteed to be any particular type or interface as the 
tree adaptor can produce anything it likes. Hence it must be an object. 
This is explained in the code etc.

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Olivier Lefevre [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">lefevrol at yahoo.com</A>]
</I>&gt;<i> Sent: Saturday, February 02, 2008 12:13 PM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] Minor suggestion re. Java output
</I>&gt;<i> 
</I>&gt;<i> To make things a little nicer in client code,
</I>&gt;<i> ANTLR could covariantly specialize return types
</I>&gt;<i> in return classes. E.g., when you have
</I>&gt;<i> 
</I>&gt;<i> options {
</I>&gt;<i>          output = AST;
</I>&gt;<i>          ASTLabelType=CommonTree;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> in the grammar the xxx_return classes in the
</I>&gt;<i> Parser could have a method
</I>&gt;<i> 
</I>&gt;<i>     public CommonTree getTree() { return tree; }
</I>&gt;<i> 
</I>&gt;<i> instead of
</I>&gt;<i> 
</I>&gt;<i>     public Object getTree() { return tree; }
</I>&gt;<i> 
</I>&gt;<i> That way we wouldn't need to cast. Since one
</I>&gt;<i> goal of ANTLR is to emit code that doesn't look
</I>&gt;<i> too wildly different from what one might have
</I>&gt;<i> written by hand I think it makes sense to try
</I>&gt;<i> to make the code more idiomatic.
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> -- O.L.
</I>&gt;<i> 
</I>

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026138.html">[antlr-interest] Minor suggestion re. Java output
</A></li>
	<LI>Next message: <A HREF="026160.html">[antlr-interest] Minor suggestion re. Java output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26144">[ date ]</a>
              <a href="thread.html#26144">[ thread ]</a>
              <a href="subject.html#26144">[ subject ]</a>
              <a href="author.html#26144">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
