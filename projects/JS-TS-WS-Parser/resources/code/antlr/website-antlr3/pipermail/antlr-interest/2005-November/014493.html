<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] RE: header and extra code blocks in supergrammars
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20RE%3A%20header%20and%20extra%20code%20blocks%20in%20supergrammars&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014486.html">
   <LINK REL="Next"  HREF="014490.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] RE: header and extra code blocks in supergrammars</H1>
    <B>Ken and Timi Cecka</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20RE%3A%20header%20and%20extra%20code%20blocks%20in%20supergrammars&In-Reply-To="
       TITLE="[antlr-interest] RE: header and extra code blocks in supergrammars">ceckak at alumni.washington.edu
       </A><BR>
    <I>Sat Nov 26 09:43:00 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014486.html">[antlr-interest] header and extra code blocks in supergrammars
</A></li>
        <LI>Next message: <A HREF="014490.html">[antlr-interest] (Basic Questions) Non-greedy loops &amp; non-determinism
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14493">[ date ]</a>
              <a href="thread.html#14493">[ thread ]</a>
              <a href="subject.html#14493">[ subject ]</a>
              <a href="author.html#14493">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Micheal J wrote:

&gt;&gt;<i> Hi All,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I'm experimenting with splitting my TreeParser into a
</I>&gt;&gt;<i> supergrammar and several distinct subgrammars.  One annoyance
</I>&gt;&gt;<i> I'm running in to is that the subgrammars don't appear to
</I>&gt;&gt;<i> inherit the header block or the extra code block.  That means
</I>&gt;&gt;<i> I have to replicate those sections in each subgrammar, which
</I>&gt;&gt;<i> is a bit of a maintenance headache.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> For the header section, I can get away with having the
</I>&gt;&gt;<i> subgrammar's include the supergrammar's header, but this
</I>&gt;&gt;<i> trick won't work for the extra code block because it gets
</I>&gt;&gt;<i> inserted into the cpp file.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Am I missing something?
</I>&gt;<i> 
</I>&gt;<i> Perhaps not. I've usually tackled this by instructing ANTLR to generate
</I>&gt;<i> tree parsers that derive from my own custom class (itself a
</I>&gt;<i> TreeParser-derivative). This takes care of the common code in the extra
</I>&gt;<i> code block since I can include all that in my custom base class.
</I>&gt;<i> 
</I>&gt;<i> ANTLR v2's &quot;inheritance&quot; feature is then used to ensure the right
</I>&gt;<i> rules/actions are generated for individual tree parsers.
</I>&gt;<i> 
</I>&gt;<i> As you say, the header stuff has to be repeated in each grammar but that's
</I>&gt;<i> not an issue really.
</I>&gt;<i> 
</I>&gt;<i> Micheal
</I>
Thanks.  For now I've moved the functions from the global extra code block
down into the class's extra code block.  That inserts the functions as
inlines in the class definition, which antlr *does* propagate to derived
classes.  The only potential downside is that they're inline functions, but
your approach would solve that problem.

Ken

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014486.html">[antlr-interest] header and extra code blocks in supergrammars
</A></li>
	<LI>Next message: <A HREF="014490.html">[antlr-interest] (Basic Questions) Non-greedy loops &amp; non-determinism
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14493">[ date ]</a>
              <a href="thread.html#14493">[ thread ]</a>
              <a href="subject.html#14493">[ subject ]</a>
              <a href="author.html#14493">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
