<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Very general question,	might require a book as an answer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Very%20general%20question%2C%0A%09might%20require%20a%20book%20as%20an%20answer&In-Reply-To=%3Cab0bf2c00704020959h1ca4de91sc3ebfa7a8e7393b2%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020042.html">
   <LINK REL="Next"  HREF="020044.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Very general question,	might require a book as an answer</H1>
    <B>Miguel Ping</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Very%20general%20question%2C%0A%09might%20require%20a%20book%20as%20an%20answer&In-Reply-To=%3Cab0bf2c00704020959h1ca4de91sc3ebfa7a8e7393b2%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Very general question,	might require a book as an answer">mblp at mega.ist.utl.pt
       </A><BR>
    <I>Mon Apr  2 09:59:13 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020042.html">[antlr-interest] Very general question, might require a book as an answer
</A></li>
        <LI>Next message: <A HREF="020044.html">[antlr-interest] Newbie: How to debug in C++?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20043">[ date ]</a>
              <a href="thread.html#20043">[ thread ]</a>
              <a href="subject.html#20043">[ subject ]</a>
              <a href="author.html#20043">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Err I keep forgetting to reply to antlr list, so I think my previous
mail was only to you...
Anyway, when I get home I'll grab the latest from cvs, and who knows
maybe I can use some of your stuff on my things. Glad you made a
sourceforge proj :) and not a closed source.

On 4/2/07, Jan van der Ven &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jhvdven at xs4all.nl</A>&gt; wrote:
&gt;<i> Thanks Miguel,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You can see how much of your ideas I already implemented at
</I>&gt;<i> <A HREF="http://sourceforge.net/projects/quantum">http://sourceforge.net/projects/quantum</A>
</I>&gt;<i> and then check out cvs. Look for
</I>&gt;<i> /quantum-plugin/src/com/quantum/core/sql/grammar
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Jan
</I>&gt;<i>
</I>&gt;<i> Miguel Ping wrote:
</I>&gt;<i> &gt; Hey there,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Sorry for replying just now, I must confess until recently i haven't
</I>&gt;<i> &gt; lost much time with the antlr mailing list. I'm trying to develop an
</I>&gt;<i> &gt; antlr grammar for sql for some personal stuff, and since I didn't know
</I>&gt;<i> &gt; nothing of antlr, I'm learning antlr also. So if it's not too late :p
</I>&gt;<i> &gt; I'll try and answer your questions based on my short experience.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; 1) Should I be using antlr, or should I stick with the stuff eclipse
</I>&gt;<i> &gt;&gt; offers?
</I>&gt;<i> &gt; Antlr makes it really easy to build your language tools. I dunno what
</I>&gt;<i> &gt; eclipse offers except a jdom toolkit for manipulating java asts...
</I>&gt;<i> &gt;&gt; 2) Is antlr the right tool of choice for a project in which each
</I>&gt;<i> &gt;&gt; database vendor speaks its own dialect? In other words will the
</I>&gt;<i> &gt;&gt; inheritance feature deliver the promise of less coding? And of course,
</I>&gt;<i> &gt;&gt; what should be the base grammar of this all? And could we have one
</I>&gt;<i> &gt;&gt; lexer?
</I>&gt;<i> &gt; My guess is that  inheritance will indeed solve many problems. I think
</I>&gt;<i> &gt; the base grammar should be a plain ANSI SQL'92 grammar reduced to the
</I>&gt;<i> &gt; minimum common denominator of all dialects. As for the lexer, one
</I>&gt;<i> &gt; lexer may not suffice because of special keywords of the several
</I>&gt;<i> &gt; dialects. In one dialect you want to recognize a keyword as a
</I>&gt;<i> &gt; function, in other it may be an identifer...
</I>&gt;<i> &gt;&gt; 3) We would like to support scripts, some dialects have statement
</I>&gt;<i> &gt;&gt; separators, others do not. Does this mean I need to write something that
</I>&gt;<i> &gt;&gt; separates the statements first, or is there a smarter way?
</I>&gt;<i> &gt; Dunno
</I>&gt;<i> &gt;&gt; 4) I never used the tree walker classes in antlr. I must admit, I do not
</I>&gt;<i> &gt;&gt; understand the value of it yet. However I think they are what I need
</I>&gt;<i> &gt;&gt; because after lexing and parsing I want to interpret the results. So far
</I>&gt;<i> &gt;&gt; my AST is not a tree but a list. What are the benefits of using tree
</I>&gt;<i> &gt;&gt; walkers?
</I>&gt;<i> &gt; I haven't written a tree walker, but for some languages I guess it's
</I>&gt;<i> &gt; more easy to do stuff with structured trees. for instance, determining
</I>&gt;<i> &gt; scopes, operator precedence, etc.
</I>&gt;<i> &gt;&gt; 5) Why should I upgrade to v3?
</I>&gt;<i> &gt; V3 deals with some problems of V2 both in terms of design and
</I>&gt;<i> &gt; internals , and it's faster and the algorithm is alot more powerful.
</I>&gt;<i> &gt; in v2 you must specify lookahead, v3 has a LL(*) algorithm that has
</I>&gt;<i> &gt; infinite lookahead.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Bear in mind that I am a antlr newbie and I am still learning lots of
</I>&gt;<i> &gt; stuff, so the answers I provided may not be the correct answers to
</I>&gt;<i> &gt; your questions...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 1/21/07, Jan van der Ven &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jhvdven at xs4all.nl</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; Dear list,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I am involved in the Quantum DB eclipse plugin  for quite some time now.
</I>&gt;<i> &gt;&gt; This is a plugin for uniform access to databases that have a JDBC driver
</I>&gt;<i> &gt;&gt; (<A HREF="http://sourceforge.net/projects/quantum">http://sourceforge.net/projects/quantum</A>). I joined the development team
</I>&gt;<i> &gt;&gt; for the frustration I kept getting with queries that contained errors
</I>&gt;<i> &gt;&gt; that could have been solved at 'compile' time rather than at 'runtime'.
</I>&gt;<i> &gt;&gt; This, imho, means that the syntax of the statement(s) need to be
</I>&gt;<i> &gt;&gt; checked, which means a parser.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; As you may be aware SQL comes in many dialects and our plugin aims to
</I>&gt;<i> &gt;&gt; offer support for all of them.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; So, I looked around and found antlr. It seemed very fit for the job as
</I>&gt;<i> &gt;&gt; it allows inheritance. As plugin developers we deliver a base and allow
</I>&gt;<i> &gt;&gt; others to enhance/specialize that for their specific database.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I got started, looked at some .g files, borrowed some constructs and got
</I>&gt;<i> &gt;&gt; stuck on a very basic point: all the tables, columns, aliases and so on,
</I>&gt;<i> &gt;&gt; were recognized as identifiers only. Once the statement was parsed
</I>&gt;<i> &gt;&gt; 'successfully', it was not possible to reason about it as the parser did
</I>&gt;<i> &gt;&gt; not deliver tables involved, columns belonging to those tables and so
</I>&gt;<i> &gt;&gt; on. (I think you would call this an interpreter...)
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I posted to this list about 'promoting' certain tokens, and of course
</I>&gt;<i> &gt;&gt; and thank you all, received an answer: promote them by adding an action:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; &lt;pre&gt;
</I>&gt;<i> &gt;&gt; column_alias
</I>&gt;<i> &gt;&gt;     :
</I>&gt;<i> &gt;&gt;     i:id {#i.setType(COLUMN_IDENTIFIER_ALIAS);}
</I>&gt;<i> &gt;&gt;     ;
</I>&gt;<i> &gt;&gt; &lt;/pre&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; So that my id gets promoted to a column alias whenever this rule
</I>&gt;<i> &gt;&gt; executes.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I got this to work, finding out errors even when the syntax worked out
</I>&gt;<i> &gt;&gt; ok (misspelled table and column names, wrong relationships), but it
</I>&gt;<i> &gt;&gt; seemed to me that I had not unleashed the complete power of antlr.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; So, now, finally, I come to the questions that may require a book (or
</I>&gt;<i> &gt;&gt; 2)  to answer:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 1) Should I be using antlr, or should I stick with the stuff eclipse
</I>&gt;<i> &gt;&gt; offers?
</I>&gt;<i> &gt;&gt; 2) Is antlr the right tool of choice for a project in which each
</I>&gt;<i> &gt;&gt; database vendor speaks its own dialect? In other words will the
</I>&gt;<i> &gt;&gt; inheritance feature deliver the promise of less coding? And of course,
</I>&gt;<i> &gt;&gt; what should be the base grammar of this all? And could we have one
</I>&gt;<i> &gt;&gt; lexer?
</I>&gt;<i> &gt;&gt; 3) We would like to support scripts, some dialects have statement
</I>&gt;<i> &gt;&gt; separators, others do not. Does this mean I need to write something that
</I>&gt;<i> &gt;&gt; separates the statements first, or is there a smarter way?
</I>&gt;<i> &gt;&gt; 4) I never used the tree walker classes in antlr. I must admit, I do not
</I>&gt;<i> &gt;&gt; understand the value of it yet. However I think they are what I need
</I>&gt;<i> &gt;&gt; because after lexing and parsing I want to interpret the results. So far
</I>&gt;<i> &gt;&gt; my AST is not a tree but a list. What are the benefits of using tree
</I>&gt;<i> &gt;&gt; walkers?
</I>&gt;<i> &gt;&gt; 5) Why should I upgrade to v3?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; If anyone could find the time to answer even one of my questions, that
</I>&gt;<i> &gt;&gt; would be greatly appreciated.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Kind regards,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Jan
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020042.html">[antlr-interest] Very general question, might require a book as an answer
</A></li>
	<LI>Next message: <A HREF="020044.html">[antlr-interest] Newbie: How to debug in C++?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20043">[ date ]</a>
              <a href="thread.html#20043">[ thread ]</a>
              <a href="subject.html#20043">[ subject ]</a>
              <a href="author.html#20043">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
