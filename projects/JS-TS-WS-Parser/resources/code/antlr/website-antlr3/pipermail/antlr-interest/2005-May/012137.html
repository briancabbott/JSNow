<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Examples of using treeparsers to reduce a ruleset
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Examples%20of%20using%20treeparsers%20to%20reduce%20a%20ruleset&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012132.html">
   <LINK REL="Next"  HREF="012139.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Examples of using treeparsers to reduce a ruleset</H1>
    <B>Ken Allan</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Examples%20of%20using%20treeparsers%20to%20reduce%20a%20ruleset&In-Reply-To="
       TITLE="[antlr-interest] Examples of using treeparsers to reduce a ruleset">k.allan-antlr at au.darkbluesea.com
       </A><BR>
    <I>Wed May 11 23:46:32 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012132.html">[antlr-interest] Suggestion for antlr-interest mailing list
</A></li>
        <LI>Next message: <A HREF="012139.html">[antlr-interest] Tree parser samples
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12137">[ date ]</a>
              <a href="thread.html#12137">[ thread ]</a>
              <a href="subject.html#12137">[ subject ]</a>
              <a href="author.html#12137">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I was just wondering if there were any websites that you guys could 
point me to with respect to using treeparser code to reduce (optimize) 
an AST.

I currently have grammer to produce from input:
&quot;a b c d ( e f ) g OR h (NOT i NOT j) AND k OR l&quot;

AST trees of the form:
( AND a b c d ( AND e f ) ( OR g h ) ( OR ( AND ( AND ( NOT i ) ( NOT j 
) ) k ) l ) )

I would like to reduce this to:
( AND a b c d e f ( OR g h ) ( OR k ( AND l ( NOT ( OR i j ) )

The essential steps I wish to take are:
   flatten nested ANDs
   flatten nested ORs
   move ORs within ANDs  as far right as possible
   move ANDs within ORs as far right as possible
   move NOTs within ANDs and ORs as far right as  possible
   convert multiple sequential NOTs in an AND tree into a single NOT of 
the OR of the subnodes
   convert multiple sequential NOTs in an OR tree into a single NOT of 
the AND of the subnodes

eg for the last 2:

( AND ( NOT a ) ( NOT b ) )  =&gt; ( NOT ( OR a b ) )
( OR ( NOT a ) ( NOT b ) )  =&gt; ( NOT ( AND a b ) )

I realize what I am trying to do is very complicated and understand that 
I may have to do it by hand, but I was wondering if it can be done 
nevertheless...

Thanks!

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012132.html">[antlr-interest] Suggestion for antlr-interest mailing list
</A></li>
	<LI>Next message: <A HREF="012139.html">[antlr-interest] Tree parser samples
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12137">[ date ]</a>
              <a href="thread.html#12137">[ thread ]</a>
              <a href="subject.html#12137">[ subject ]</a>
              <a href="author.html#12137">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
