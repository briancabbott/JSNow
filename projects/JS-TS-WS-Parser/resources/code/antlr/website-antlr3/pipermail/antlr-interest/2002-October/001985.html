<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: known number of repetitions..
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20known%20number%20of%20repetitions..&In-Reply-To=anl0d9%2B1oo9%40eGroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001975.html">
   <LINK REL="Next"  HREF="001987.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: known number of repetitions..</H1>
    <B>Sriram Durbha</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20known%20number%20of%20repetitions..&In-Reply-To=anl0d9%2B1oo9%40eGroups.com"
       TITLE="[antlr-interest] Re: known number of repetitions..">cintyram at yahoo.com
       </A><BR>
    <I>Mon Oct  7 09:03:08 PDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001975.html">[antlr-interest] Re: known number of repetitions..
</A></li>
        <LI>Next message: <A HREF="001987.html">[antlr-interest] Re: known number of repetitions..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1985">[ date ]</a>
              <a href="thread.html#1985">[ thread ]</a>
              <a href="subject.html#1985">[ subject ]</a>
              <a href="author.html#1985">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi,
  thank you very much for hte quick response.. 
actually 2 and 3 were solved pretty easily i just had
to go thru the documentatin once again.  

now i have more issues.. 

but first continuing with  
== 1 =========

your solution works.. 
but suppose there is a special case where the records
starting from record number 1001 are to be put into
anotehr set instead of issuing an error.. 
what can be done? in that case how do we return to the
same rule, reset our counter? 
one solution i have is to have conditinally recursive
rules.. 


some thing like this ..


rule1: 
       // count and match upto 1000 records..
       // if 1001th record is encountered 
       // go to  nextrule

nextrule : 
       // reset teh counter and go to rule1
 

i havent tried it but hope there is a way to do it
with predll(k).. 

==========================================

the new issue is as follows..
i am writing a translator from on elanguage to
another.. 

if you look at the source file , translating it by
hand is very easy, because almost line by line
translation is possible.. 
but there are certain exceptions wehre this is not
possible ;


also language constructs may span over multiple
lines.. 

eg: 
number a ,  // comment for a 
       b ,  // comment for b
       c    // comment for c

this has to be translated into 

a , (* comment for a *)
b , (* comment for b *)
c : real ; (* comment for c *)

on inspection writing a grammar for this looked like
an over kill especially when some how what ever i
write ends up throwing all kinds of tantrums ..

so i wrote a c++ class which handles it line by line 
1. tokenize based on '\n'
2. from each line look for first '//'
3. retain the comment 
4. translate the first part , append  comment 

how ever thsi strategy is very confusing for cases
wehre do .. while has to be translated into while or
for 

have to retain all lines in the loop which might
contain more loops.. 

so i want to develop mini translators [lex,parse,if
-walk ] for specific constructs and call them
dynamically from the line by line processor 
when ever necessary ;

an initial assessment of the code generated by antlr
for small grammars makes me feel that this is better,
however im not sure plese do chip in with more inputs 
and your own analysis of my strategy .. 

thank you
warm regards
ram

============== eom =================

--- lgcraymer &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">lgc at mail1.jpl.nasa.gov</A>&gt; wrote:
&gt;<i> --- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at y...</A>, Sriram Durbha
</I>&gt;<i> &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cintyram at y...</A>&gt; wrote: 
</I>&gt;<i> &gt; == 1 =========
</I>&gt;<i> &gt;  this is with reference to writing a rule for
</I>&gt;<i> numbers
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; in english : &quot; a number can be any sequence of
</I>&gt;<i> digits
</I>&gt;<i> &gt; upto a maximum of 6; so  0 - 999999 is a valid
</I>&gt;<i> number
</I>&gt;<i> &gt; &quot;
</I>&gt;<i> &gt; but 1234567 is not 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; what is the best way to write such a rule?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; also what to do if the known number is really
</I>&gt;<i> large
</I>&gt;<i> &gt; like&quot; a maximum of 1000 records makes a recset &quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; but anything more than 1000 is invalid ;
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> For answers to 2), and 3), check the FAQs at
</I>&gt;<i> www.antlr.org.
</I>&gt;<i> 
</I>&gt;<i> For this one, the consideration is what to do if
</I>&gt;<i> numbers are outside 
</I>&gt;<i> the accepted range.  Do you really want to consider
</I>&gt;<i> 1234567 to be 
</I>&gt;<i> interpreted as two tokens, 123456 and 7?  Or do you
</I>&gt;<i> want to accept 
</I>&gt;<i> 1234567 as a single token and detect an error
</I>&gt;<i> condition?  I suspect 
</I>&gt;<i> that the second alternative is preferable, and that
</I>&gt;<i> the same is true 
</I>&gt;<i> for recset.
</I>&gt;<i> 
</I>&gt;<i> I'll assume that your grammar has a DIGIT rule:
</I>&gt;<i> protected
</I>&gt;<i> DIGIT
</I>&gt;<i> 	:	'0'..'9'
</I>&gt;<i> 	;
</I>&gt;<i> 
</I>&gt;<i> The first case is handled in LISP style (lots of
</I>&gt;<i> irritating single 
</I>&gt;<i> parentheses:
</I>&gt;<i> 
</I>&gt;<i> NUMBER
</I>&gt;<i>         :
</I>&gt;<i>         DIGIT
</I>&gt;<i>         (    DIGIT
</I>&gt;<i>              (     DIGIT
</I>&gt;<i>                    (     DIGIT
</I>&gt;<i>                          (     DIGIT
</I>&gt;<i>                                (     DIGIT
</I>&gt;<i>                                )?
</I>&gt;<i>                          )?
</I>&gt;<i>                     )?
</I>&gt;<i>               )?
</I>&gt;<i>         )?
</I>&gt;<i>         ;
</I>&gt;<i> 
</I>&gt;<i> Yes, it's ugly, but it interprets a number as a
</I>&gt;<i> sequence of from one 
</I>&gt;<i> to six digits.
</I>&gt;<i> 
</I>&gt;<i> For the second case, you accept any number of digits
</I>&gt;<i> 
</I>&gt;<i> NUMBER
</I>&gt;<i> returns [ int counter; ]
</I>&gt;<i>      :
</I>&gt;<i>      { counter = 1; }
</I>&gt;<i>      DIGIT (DIGIT {counter++;)*
</I>&gt;<i>      ;
</I>&gt;<i> 
</I>&gt;<i> and either add code to throw an error if counter &gt; 6
</I>&gt;<i> in NUMBER (then 
</I>&gt;<i> you don't need the return value) or do validate the
</I>&gt;<i> return value where 
</I>&gt;<i> NUMBER is used and use the ANTLR error handling
</I>&gt;<i> stuff to throw a 
</I>&gt;<i> meaningful exception.
</I>&gt;<i> 
</I>&gt;<i> --Loring
</I>&gt;<i> 
</I>
__________________________________________________
Do you Yahoo!?
Faith Hill - Exclusive Performances, Videos &amp; More
<A HREF="http://faith.yahoo.com">http://faith.yahoo.com</A>

 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001975.html">[antlr-interest] Re: known number of repetitions..
</A></li>
	<LI>Next message: <A HREF="001987.html">[antlr-interest] Re: known number of repetitions..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1985">[ date ]</a>
              <a href="thread.html#1985">[ thread ]</a>
              <a href="subject.html#1985">[ subject ]</a>
              <a href="author.html#1985">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
