<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Grammar for Windows Resource format.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Grammar%20for%20Windows%20Resource%20format.&In-Reply-To=20051212111211.32599.qmail%40web25807.mail.ukl.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014765.html">
   <LINK REL="Next"  HREF="014768.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Grammar for Windows Resource format.</H1>
    <B>Mike Lischke</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Grammar%20for%20Windows%20Resource%20format.&In-Reply-To=20051212111211.32599.qmail%40web25807.mail.ukl.yahoo.com"
       TITLE="[antlr-interest] Grammar for Windows Resource format.">lists at lischke-online.de
       </A><BR>
    <I>Mon Dec 12 08:07:46 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014765.html">[antlr-interest] Grammar for Windows Resource format.
</A></li>
        <LI>Next message: <A HREF="014768.html">[antlr-interest] nondeterminism
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14767">[ date ]</a>
              <a href="thread.html#14767">[ thread ]</a>
              <a href="subject.html#14767">[ subject ]</a>
              <a href="author.html#14767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>[grr, had to resend this mail because the list address is not set as reply address, what a time waster, I really hate
that]


Phil, 

&gt;<i> Does anyone know of a grammar for Windows resource files
</I>&gt;<i> (*.rc) of have one that they'd be willing to share?
</I>
I have written a parser for rc files a year ago. I wanted to publish it already for a long while but since I did not
need it after all and nobody on the list seemed to be interested I kept it close so far. Let me put it into my public
Subversion server (www.soft-gems.net/WebSVN). Ok, see the &quot;Windows *.rc file parser and converter&quot; repository.

The project was actually something to convert *.rc files to xml (for further processing). It is quite complete, although
it does not have an attached documentation. There is a demo app (all written in Eclipse and ANTLR 2.7.x), so you have at
least a starting point (and it is well documented). It contains handling for unlimited include file nesting, a macro
table class, an evaluator and works with various encodings. Two things are missing. One is support for any meta
language. There seems to be kind of a superior language, stuff inserted by the MSVC &quot;designer&quot;, which is originally not
part of the *.rc language spec and nowhere mentioned. I asked at several places for more info on that meta stuff, but
got no answer. Of my about 800 rc files only 5 or so contain this stuff so it shouldn't matter much. On the other hand
there is also support for a few specialities produced by the Borland resource compiler.

The second thing is that switching the encoding on the fly is not possible yet. According to the rc spec it is allowed
to specify a language and sublanguage in the file to allow for differently encoded strings. The reader works well also
with Unicode files (although I never found one so far) but switching the input language is difficult, as you have to set
up a new reader every time but have to make sure already buffered input makes it into the new reader. This is also the
reason why I added InputStreamReaderEx.java the project (which is a derivation of InputStreamReader.java). It was
planned to be used as starting point for that task but I never finished it.

There is also a full featured preprocessor, which handles line splicing and trigraph sequences (I mentioned unlimited
include file handling already). Last but not least the macro table implementation supports charizing and stringizing and
can also handle macros with empty parameters, like FOO(bar,,,,,,bar).

Let me know if this is what you need.

Mike
--
www.soft-gems.net 

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014765.html">[antlr-interest] Grammar for Windows Resource format.
</A></li>
	<LI>Next message: <A HREF="014768.html">[antlr-interest] nondeterminism
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14767">[ date ]</a>
              <a href="thread.html#14767">[ thread ]</a>
              <a href="subject.html#14767">[ subject ]</a>
              <a href="author.html#14767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
