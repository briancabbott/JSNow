<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Template Rewrite Rule consumes one more Token than expected
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Template%20Rewrite%20Rule%20consumes%20one%20more%20Token%0A%20than%20expected&In-Reply-To=%3C20080421202923.8C41811EC5E%40www.antlr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027950.html">
   <LINK REL="Next"  HREF="027951.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Template Rewrite Rule consumes one more Token than expected</H1>
    <B>Gavin Lambert</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Template%20Rewrite%20Rule%20consumes%20one%20more%20Token%0A%20than%20expected&In-Reply-To=%3C20080421202923.8C41811EC5E%40www.antlr.org%3E"
       TITLE="[antlr-interest] Template Rewrite Rule consumes one more Token than expected">antlr at mirality.co.nz
       </A><BR>
    <I>Mon Apr 21 13:29:04 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027950.html">[antlr-interest] Template Rewrite Rule consumes one more Token than expected
</A></li>
        <LI>Next message: <A HREF="027951.html">[antlr-interest] CORBA IDL grammar union switch problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27956">[ date ]</a>
              <a href="thread.html#27956">[ thread ]</a>
              <a href="subject.html#27956">[ subject ]</a>
              <a href="author.html#27956">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 01:51 22/04/2008, Felix Dorner wrote:
 &gt;Right, but it does not delete the &quot;;&quot; from the corresponding 
Token
 &gt;stream.

That's irrelevant.

 &gt;I expect the &quot;a*b&quot; to be replaced by &quot;where's the 
semicolon?&quot;,  but
 &gt;the semicolon should remain in the token stream.
 &gt;
 &gt;The template rewrite rule for an &quot;expression&quot; should only 
replace
 &gt;the tokens that were matched for that expression.

That's not how it works.  The parser outputs an AST, presumed to 
be a complete representation of the parsed content.  The tree 
parser takes the AST as input, and based on the nodes present in 
the tree either executes some actions or generates some output 
based on templates.  If there isn't a node for a token, it doesn't 
go and magically re-insert it into the output, it assumes you 
intentionally left it out of the AST because you don't want it in 
the output (eg. maybe you've replaced it by something more 
interesting, or maybe it's just structural and is irrelevant in 
the AST anyway).

If you want to get the semicolon in the output, then remove the ! 
from it so that it gets inserted into the AST.  The tree parser 
can only see what's in the AST.

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027950.html">[antlr-interest] Template Rewrite Rule consumes one more Token than expected
</A></li>
	<LI>Next message: <A HREF="027951.html">[antlr-interest] CORBA IDL grammar union switch problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27956">[ date ]</a>
              <a href="thread.html#27956">[ thread ]</a>
              <a href="subject.html#27956">[ subject ]</a>
              <a href="author.html#27956">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
