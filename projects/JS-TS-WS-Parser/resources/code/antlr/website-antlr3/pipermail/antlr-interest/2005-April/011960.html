<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] On trees and JavaBeans, part 2: tree    creation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20On%20trees%20and%20JavaBeans%2C%20part%202%3A%20tree%20%20%20%20creation&In-Reply-To=6.2.1.2.2.20050421112502.029d2d70%40mail.jpl.nasa.gov">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011957.html">
   <LINK REL="Next"  HREF="011940.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] On trees and JavaBeans, part 2: tree    creation</H1>
    <B>Scott Stanchfield</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20On%20trees%20and%20JavaBeans%2C%20part%202%3A%20tree%20%20%20%20creation&In-Reply-To=6.2.1.2.2.20050421112502.029d2d70%40mail.jpl.nasa.gov"
       TITLE="[antlr-interest] On trees and JavaBeans, part 2: tree    creation">scott at javadude.com
       </A><BR>
    <I>Thu Apr 21 17:58:13 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011957.html">[antlr-interest] On trees and JavaBeans, part 2: tree  creation
</A></li>
        <LI>Next message: <A HREF="011940.html">[antlr-interest] On trees and JavaBeans, part 2: tree  creation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11960">[ date ]</a>
              <a href="thread.html#11960">[ thread ]</a>
              <a href="subject.html#11960">[ subject ]</a>
              <a href="author.html#11960">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I just downloaded the sample (<A HREF="http://javadude.com/misc/treesample.zip">http://javadude.com/misc/treesample.zip</A>) and
extracted it again. You ARE looking at the BAD example. GoodExample is:


public class GoodExample {
	public static void main(String[] args) {
		Ftp ftp = new Ftp(); // a UI
		
		JFrame f = new JFrame();
		f.getContentPane().add(new JScrollPane(new JTree(new
ComponentTreeModel(ftp))));
		f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
		f.pack();
		f.setVisible(true);
	}
}

Now look at ComponentTreeModel.java.

See any TreeNodes? (If you do, you're seeing things that aren't there.)


They're not necessary, and getting rid of them saves lots of memory and GC
time over time, whether it's on a server, or in eclipse.

Even for a single-run app, it can mean the difference between running out of
memory. Many people avoid DOM because it uses too much memory. What we we
added an extra node on top of each DOM node to parse it? Kaboom.

-- Scott




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011957.html">[antlr-interest] On trees and JavaBeans, part 2: tree  creation
</A></li>
	<LI>Next message: <A HREF="011940.html">[antlr-interest] On trees and JavaBeans, part 2: tree  creation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11960">[ date ]</a>
              <a href="thread.html#11960">[ thread ]</a>
              <a href="subject.html#11960">[ subject ]</a>
              <a href="author.html#11960">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
