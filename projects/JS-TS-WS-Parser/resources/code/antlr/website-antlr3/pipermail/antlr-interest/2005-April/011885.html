<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Language-Neutral Actions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Language-Neutral%20Actions&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011867.html">
   <LINK REL="Next"  HREF="011888.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Language-Neutral Actions</H1>
    <B>Alexey Demakov</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Language-Neutral%20Actions&In-Reply-To="
       TITLE="[antlr-interest] Language-Neutral Actions">demakov at ispras.ru
       </A><BR>
    <I>Sun Apr 17 23:41:43 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011867.html">[antlr-interest] Language-Neutral Actions
</A></li>
        <LI>Next message: <A HREF="011888.html">[antlr-interest] Language-Neutral Actions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11885">[ date ]</a>
              <a href="thread.html#11885">[ thread ]</a>
              <a href="subject.html#11885">[ subject ]</a>
              <a href="author.html#11885">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>From: &quot;Scott Stanchfield&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">scott at javadude.com</A>&gt;

&gt;<i> I'd really like to see language-neutral actions in ANTLR 3.
</I>&gt;<i> 
</I>&gt;<i> The basic idea is that all action code is simply calls to behavior methods
</I>&gt;<i> in some other object.
</I>&gt;<i>
</I>&gt;<i> Depending on what target language is specified, different &quot;glue&quot; code is
</I>&gt;<i> formed to contact that other object.
</I>&gt;<i> 
</I>&gt;<i> This would allow a grammar to be targeted to pretty much any language.
</I>&gt;<i> 
</I>&gt;<i> Some old parser generators I used did things like
</I>&gt;<i> 
</I>&gt;<i>   foo: fee fie fo @doSomething(fee,fie,fo);
</I>&gt;<i> 
</I>&gt;<i> which would allow you to target it to multiple languages. The parser
</I>&gt;<i> generator would change @doSomething(...) into whatever was appropriate for
</I>&gt;<i> the target language.
</I>&gt;<i> 
</I>&gt;<i> I don't know that we'd want to use the same syntax (I like the {...} for
</I>&gt;<i> actions), but we could have a grammar option that specifies language-netrual
</I>&gt;<i> actions and all {...} code is assumed neutral.
</I>
The main question is: how to bind action code to some place in grammar?
There are too many places to write @doSomething(fee,fie,fo) to provide
all possible callbacks - who knows what will be enough for all possible target languages?
Other way - to have aspect-like notation to specify certain place in grammar.
Not very easy to maintain...

What is the main purposes of action code in grammar? I think it is
1. Tree building.
2. Semantic predicates to handle difficult cases.
(If I not miss something important) All other code should be separated from grammar
for better decomposition and easer maintenance.
So, for the first case ANTLR already provides language-independed notation.
And I expect, that in ANTLR 3 will be improved interface to interact with tree factories
so I can use heterohenous trees :) We've discussed such interface here some months ago.
The second case, semantic predicates, in my opinion is (and should be) rare case,
the last way to use. And for them is possible to specify language-independed action
like @doSomething(...) or even as
options { language = java   } { /* java code   */ }
options { language = csharp } { /* csharp code */ }
The last way can be used and for all other places of action code,
but it can make grammar file to large and unreadable.

Regards,
Alexey

-----
Alexey Demakov
TreeDL: Tree Description Language: <A HREF="http://treedl.sourceforge.net">http://treedl.sourceforge.net</A>
RedVerst Group: <A HREF="http://www.unitesk.com">http://www.unitesk.com</A>


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011867.html">[antlr-interest] Language-Neutral Actions
</A></li>
	<LI>Next message: <A HREF="011888.html">[antlr-interest] Language-Neutral Actions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11885">[ date ]</a>
              <a href="thread.html#11885">[ thread ]</a>
              <a href="subject.html#11885">[ subject ]</a>
              <a href="author.html#11885">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
