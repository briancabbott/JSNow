<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Problem with Self 4.1 grammar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problem%20with%20Self%204.1%20grammar&In-Reply-To=%3C47E7650D.2020904%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027373.html">
   <LINK REL="Next"  HREF="027375.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Problem with Self 4.1 grammar</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problem%20with%20Self%204.1%20grammar&In-Reply-To=%3C47E7650D.2020904%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Problem with Self 4.1 grammar">jimi at temporal-wave.com
       </A><BR>
    <I>Mon Mar 24 01:23:41 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027373.html">[antlr-interest] Problem with Self 4.1 grammar
</A></li>
        <LI>Next message: <A HREF="027375.html">[antlr-interest] Problem with Self 4.1 grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27374">[ date ]</a>
              <a href="thread.html#27374">[ thread ]</a>
              <a href="subject.html#27374">[ subject ]</a>
              <a href="author.html#27374">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Carter Cheng wrote:

Your real needs to add the empty alt:

Real
    : Decimal
       (
           ('.' Decimal)=&gt; '.' Decimal (('e'|'E') ('+'|'-') Decimal)?
           | // Just an integer { $type = Integer; }
       )
    ;

Dot  : '.' ;


&gt;<i> Hello again,
</I>&gt;<i>
</I>&gt;<i> I am currently building a self 4.1 grammar which so far seems to work reasonably well for certain specific files but I came across a problem in the grammar which I am not sure how to resolve. The problem is that Self like Smalltalk uses '.' as a statement separator and there appears to be some conflict in the case:
</I>&gt;<i>
</I>&gt;<i> [ x == 1. ]    
</I>&gt;<i>
</I>&gt;<i> Where it seems unable to determine that 1 is an int obviously adding white space 
</I>&gt;<i>
</I>&gt;<i> [ x == 1 . ] 
</I>&gt;<i>
</I>&gt;<i> works. I assume this is some sort of lexing problem but the only rule I have which may conflict is:
</I>&gt;<i>
</I>&gt;<i> Real
</I>&gt;<i> 	: Decimal ( ('.' Decimal) =&gt; '.' Decimal ) ( ('e'|'E') ('+'|'-') Decimal )?
</I>&gt;<i> 	;
</I>&gt;<i>
</I>&gt;<i> with Integer and Decimal defined as:
</I>&gt;<i>
</I>&gt;<i> Integer
</I>&gt;<i> 	: Decimal
</I>&gt;<i> 	| Base GeneralDigit+
</I>&gt;<i> 	;
</I>&gt;<i>
</I>&gt;<i> Decimal
</I>&gt;<i>         : Digit+
</I>&gt;<i>         ;
</I>&gt;<i>
</I>&gt;<i> Thanks in advance,
</I>&gt;<i>
</I>&gt;<i> Carter.
</I>&gt;<i>
</I>&gt;<i> Is there some way to peek into the token stream to see what the lexer is doing? It seems like the lexing problems given some of the operator ambiguities in Self are causing most of my problems. 
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>       ____________________________________________________________________________________
</I>&gt;<i> Looking for last minute shopping deals?  
</I>&gt;<i> Find them fast with Yahoo! Search.  <A HREF="http://tools.search.yahoo.com/newsearch/category.php?category=shopping">http://tools.search.yahoo.com/newsearch/category.php?category=shopping</A>
</I>&gt;<i>   
</I>
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027373.html">[antlr-interest] Problem with Self 4.1 grammar
</A></li>
	<LI>Next message: <A HREF="027375.html">[antlr-interest] Problem with Self 4.1 grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27374">[ date ]</a>
              <a href="thread.html#27374">[ thread ]</a>
              <a href="subject.html#27374">[ subject ]</a>
              <a href="author.html#27374">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
