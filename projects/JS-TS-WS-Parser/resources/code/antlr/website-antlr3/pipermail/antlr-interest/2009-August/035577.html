<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Simple Grammar breaks ANTLRWorks Interpreter &amp; Debugger?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Simple%20Grammar%20breaks%20ANTLRWorks%20Interpreter%20%26%0A%20Debugger%3F&In-Reply-To=%3C4A848890.6000707%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035576.html">
   <LINK REL="Next"  HREF="035578.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Simple Grammar breaks ANTLRWorks Interpreter &amp; Debugger?</H1>
    <B>consiliens at gmail.com</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Simple%20Grammar%20breaks%20ANTLRWorks%20Interpreter%20%26%0A%20Debugger%3F&In-Reply-To=%3C4A848890.6000707%40gmail.com%3E"
       TITLE="[antlr-interest] Simple Grammar breaks ANTLRWorks Interpreter &amp; Debugger?">consiliens at gmail.com
       </A><BR>
    <I>Thu Aug 13 14:41:36 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="035576.html">[antlr-interest] Simple Grammar breaks ANTLRWorks Interpreter &amp; Debugger?
</A></li>
        <LI>Next message: <A HREF="035578.html">[antlr-interest] Simple Grammar breaks ANTLRWorks Interpreter &amp; Debugger?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35577">[ date ]</a>
              <a href="thread.html#35577">[ thread ]</a>
              <a href="subject.html#35577">[ subject ]</a>
              <a href="author.html#35577">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gavin Lambert wrote:
&gt;<i> At 08:56 14/08/2009, <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">consiliens at gmail.com</A> wrote:
</I>&gt;<i>  &gt;Thanks for the tip! I marked the appropriate rules as fragments,
</I>&gt;<i>  &gt;however all the issues in the original post still stand. The
</I>&gt;<i>  &gt;debugger simply generates a Parse Tree of root -&gt; quiz, while
</I>&gt;<i>  &gt;the Interpreter correctly generates the Parse Tree. Is this
</I>&gt;<i>  &gt;possibly an issue with ANTLRWorks itself?
</I>&gt;<i> 
</I>&gt;<i> Try changing your quiz rule to this:
</I>&gt;<i> 
</I>&gt;<i> quiz:
</I>&gt;<i>       multiple_choice* EOF;
</I>&gt;<i> 
</I>&gt;<i> Without the EOF, you're saying to ANTLR &quot;if you don't find something 
</I>&gt;<i> that matches multiple_choice, that's ok, just stop&quot;.  With it, you're 
</I>&gt;<i> saying &quot;after you've matched all the multiple_choices you can, you must 
</I>&gt;<i> have no input left&quot;, which means that you'll get an error if there is 
</I>&gt;<i> unconsumed input (which would mean that your multiple_choice rule or its 
</I>&gt;<i> descendants aren't matching what you're expecting them to).
</I>&gt;<i> 
</I>&gt;<i> Tracing it through with either the debugger or a unit test should show 
</I>&gt;<i> where the problem lies.  A good thing to try is to write a unit test 
</I>&gt;<i> that simply pulls all the generated tokens off the lexer and verifies 
</I>&gt;<i> them; if your lexer isn't producing the tokens you're expecting then 
</I>&gt;<i> there's little chance the parser will work, and unfortunately the 
</I>&gt;<i> ANTLR/ANTLRworks environment isn't really set up to test the lexer 
</I>&gt;<i> properly.
</I>&gt;<i> 
</I>&gt;<i> 
</I>I experimented a bit with EOF. Making your suggested change yields a 
Parse Tree, in the Debugger, of root -&gt; quiz -&gt; EOF. It seems like the 
debugger isn't getting any of the input for some reason.

Doesn't the Parse Tree correctly appearing in ANTLRWorks Interpreter 
allow one to verify the tokens are being produced correctly?

I'll try writing a unit test, as you suggest, and will see what happens.
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035576.html">[antlr-interest] Simple Grammar breaks ANTLRWorks Interpreter &amp; Debugger?
</A></li>
	<LI>Next message: <A HREF="035578.html">[antlr-interest] Simple Grammar breaks ANTLRWorks Interpreter &amp; Debugger?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35577">[ date ]</a>
              <a href="thread.html#35577">[ thread ]</a>
              <a href="subject.html#35577">[ subject ]</a>
              <a href="author.html#35577">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
