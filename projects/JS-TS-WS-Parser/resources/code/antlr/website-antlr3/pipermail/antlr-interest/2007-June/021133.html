<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Where to add data conversion routines
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Where%20to%20add%20data%20conversion%20routines&In-Reply-To=%3C69fb4b090706060632s191d88e9h8198366ec8f5585a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021132.html">
   <LINK REL="Next"  HREF="021154.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Where to add data conversion routines</H1>
    <B>Ted Villalba</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Where%20to%20add%20data%20conversion%20routines&In-Reply-To=%3C69fb4b090706060632s191d88e9h8198366ec8f5585a%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Where to add data conversion routines">ted.villalba at gmail.com
       </A><BR>
    <I>Wed Jun  6 06:32:19 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021132.html">[antlr-interest] the EOF token not in the Index of the definitive reference
</A></li>
        <LI>Next message: <A HREF="021154.html">[antlr-interest] Where to add data conversion routines
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21133">[ date ]</a>
              <a href="thread.html#21133">[ thread ]</a>
              <a href="subject.html#21133">[ subject ]</a>
              <a href="author.html#21133">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I'm writing a translator in ANTLR v3,and not sure where to put the logic for
modifying some values of LanguageA before (or while) they are translated to
LanguageB.
For instance LanguageA accepts dates in format YYYY, but LanguageB requires
dates to be in format YYYY-MM-DD.
Where should I test for this input and convert to the new format while
trying to adhere to the MVC principles?

I have defined the grammar, created a tree traverser, and am using string
templates for the output.
For instance in the Grammar def'n I have:
    expression: tag '=' value+ -&gt; ^('=' tag value+)
In the Treetraverser I have:
   expression: ^('=' tag (v+=value)+) -&gt; ST1(tag={fieldMap.get
($tag.text)},values={$v})

Now I want to be able to say something like:
if ($tag.text=&quot;date&quot; AND $v.length=4) { $v = convertDate($v);}

Butm I don't know where to add this code. As an action before the template
call?
What's the protocol for this conversion?
Any similar examples someone can point me to?

Thanks for the assist.

Ted
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20070606/20741a79/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20070606/20741a79/attachment-0001.html</A> 
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021132.html">[antlr-interest] the EOF token not in the Index of the definitive reference
</A></li>
	<LI>Next message: <A HREF="021154.html">[antlr-interest] Where to add data conversion routines
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21133">[ date ]</a>
              <a href="thread.html#21133">[ thread ]</a>
              <a href="subject.html#21133">[ subject ]</a>
              <a href="author.html#21133">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
