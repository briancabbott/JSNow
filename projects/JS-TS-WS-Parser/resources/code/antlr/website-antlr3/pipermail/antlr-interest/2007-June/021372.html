<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] bug or strange behaviour in rewrite operator ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20bug%20or%20strange%20behaviour%20in%20rewrite%20operator%20%3F&In-Reply-To=%3C051466DAA0D608439E196797955018D76D86%40wavemachine.temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021368.html">
   <LINK REL="Next"  HREF="021235.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] bug or strange behaviour in rewrite operator ?</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20bug%20or%20strange%20behaviour%20in%20rewrite%20operator%20%3F&In-Reply-To=%3C051466DAA0D608439E196797955018D76D86%40wavemachine.temporal-wave.com%3E"
       TITLE="[antlr-interest] bug or strange behaviour in rewrite operator ?">jimi at temporal-wave.com
       </A><BR>
    <I>Thu Jun 14 07:22:59 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021368.html">[antlr-interest] bug or strange behaviour in rewrite operator ?
</A></li>
        <LI>Next message: <A HREF="021235.html">[antlr-interest] Possible Antlr defect?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21372">[ date ]</a>
              <a href="thread.html#21372">[ thread ]</a>
              <a href="subject.html#21372">[ subject ]</a>
              <a href="author.html#21372">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Alessandro
</I>

&gt;<i> I have also another problem with this rule : ( I replaced
</I>&gt;<i> &quot;stream_prog&quot; with &quot;stream_retval&quot; because of the bug quoted above)
</I>&gt;<i> 
</I>&gt;<i> prog:
</I>&gt;<i>        ((func  | (decvar SEMI)) -&gt; $prog? func? decvar? )*
</I>&gt;<i>        -&gt; ^(PROG_DEC $prog?);
</I>&gt;<i> 
</I>&gt;<i> This rule always catch the first result of &quot;func&quot; and &quot;decvar&quot; because
</I>&gt;<i> the generated code includes stream_func.reset() and
</I>&gt;<i> stream_decvar.reset().
</I>
What are you trying to produce with this rule? Assuming that it is the
whole rule, you effectively have an empty rule sometimes and then are
trying to write two trees. Basically this just does not look correct. I
would strongly recommend the book, but it looks like you need to put
your rewrite rules after func and decvar SEMI respectively and maybe
move the * qualifier up one rule to  something: prog* ;


Jim

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021368.html">[antlr-interest] bug or strange behaviour in rewrite operator ?
</A></li>
	<LI>Next message: <A HREF="021235.html">[antlr-interest] Possible Antlr defect?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21372">[ date ]</a>
              <a href="thread.html#21372">[ thread ]</a>
              <a href="subject.html#21372">[ subject ]</a>
              <a href="author.html#21372">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
