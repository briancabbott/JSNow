<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Bug in ANTLReaderStream.load()?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Bug%20in%20ANTLReaderStream.load%28%29%3F&In-Reply-To=%3CC2D29400.142D5%25sam.ellis%40arm.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022864.html">
   <LINK REL="Next"  HREF="022867.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Bug in ANTLReaderStream.load()?</H1>
    <B>Sam Ellis</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Bug%20in%20ANTLReaderStream.load%28%29%3F&In-Reply-To=%3CC2D29400.142D5%25sam.ellis%40arm.com%3E"
       TITLE="[antlr-interest] Bug in ANTLReaderStream.load()?">sam.ellis at arm.com
       </A><BR>
    <I>Sun Jul 29 10:59:12 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022864.html">[antlr-interest] Strange problem with syntactic predicates
</A></li>
        <LI>Next message: <A HREF="022867.html">[antlr-interest] Bug in ANTLReaderStream.load()?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22865">[ date ]</a>
              <a href="thread.html#22865">[ thread ]</a>
              <a href="subject.html#22865">[ subject ]</a>
              <a href="author.html#22865">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Using: ANTLR Parser Generator  Version 3.0 (May 17, 2007)  1989-2007

The Java method org.antlr.runtime.ANTLRReaderStream.load() contains:

if ( readChunkSize&lt;=0 ) {
    size = READ_BUFFER_SIZE;
}


Shouldn't this be assigning to readChunkSize instead of size? Because
otherwise you're later going to call Java.io.reader.read() with a negative
number of bytes to read.


-- 
Sam Ellis, RVDK Team Leader,
DevSys Product Engineering Group,          Tel: +44 (0) 1223 400516
ARM Ltd., 110 Fulbourn Road,               Fax: +44 (0) 1223 400887
Cambridge, CB1 9NJ                         mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">Sam.Ellis at arm.com</A>



-- 
IMPORTANT NOTICE: The contents of this email and any attachments are confidential and may also be privileged. If you are not the intended recipient, please notify the sender immediately and do not disclose the contents to any other person, use it for any purpose, or store or copy the information in any medium.  Thank you.


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022864.html">[antlr-interest] Strange problem with syntactic predicates
</A></li>
	<LI>Next message: <A HREF="022867.html">[antlr-interest] Bug in ANTLReaderStream.load()?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22865">[ date ]</a>
              <a href="thread.html#22865">[ thread ]</a>
              <a href="subject.html#22865">[ subject ]</a>
              <a href="author.html#22865">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
