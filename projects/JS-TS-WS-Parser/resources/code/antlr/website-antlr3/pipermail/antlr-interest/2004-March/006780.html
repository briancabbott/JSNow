<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: C# vs MSIL Output
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20C%23%20vs%20MSIL%20Output&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006784.html">
   <LINK REL="Next"  HREF="006781.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: C# vs MSIL Output</H1>
    <B>Ney, Richard</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20C%23%20vs%20MSIL%20Output&In-Reply-To="
       TITLE="[antlr-interest] Re: C# vs MSIL Output">richard.ney at aspect.com
       </A><BR>
    <I>Mon Mar  8 20:30:19 PST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="006784.html">[antlr-interest] Re: SQL2 and AST
</A></li>
        <LI>Next message: <A HREF="006781.html">[antlr-interest] RE: C# vs MSIL Output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6780">[ date ]</a>
              <a href="thread.html#6780">[ thread ]</a>
              <a href="subject.html#6780">[ subject ]</a>
              <a href="author.html#6780">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mike,

I've included a sample tree grammar that generates the body of my simple
expression evaluators. The classes you are looking for are in the
System.Reflection.Emit namespace. They allow you to generate classes in
memory using MSIL. Now one thing I will point out is that when you
generate in memory MSIL you still get all the abilities of .NET so you
can include a broiler plate superclass that has common methods that can
use in you MSIL. If you are looking at MSIL I assume you have discovered
ILDASM.exe which will allow you to view code you have written in C# as
MSIL. Also there is an option you can set during debugging on the Emit
object that will save the class to a file so you can examine it with
MSIL. I hope this helps get you started.

-Richard

-----Original Message-----
From: Mike Bresnahan [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">mbresnah at visi.com</A>] 
Sent: Monday, March 08, 2004 5:55 PM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
Subject: RE: [antlr-interest] Re: C# vs MSIL Output

&gt;<i> I have an application that converts data fetched from a database with
</I>&gt;<i> one schema into the data model for a logical schema. I use the ANTLR
</I>&gt;<i> with C# and I have an SQL Parser that generates a bunch of ASTs that
</I>&gt;<i> represent each column in the logical query and which physical columns
</I>&gt;<i> are used to make render it. The tree parser is excellent for doing
</I>&gt;<i> ILGenerator.Emit calls to create MSIL in memory to make the
</I>&gt;<i> transformation and the performance is very good.
</I>
Does your emitted IL perform selections, cartesian products,
projections,
unions, intersections, etc?

Is your source code freely available?

&gt;<i> Also from a security point of view dropping C# files onto the disk and
</I>&gt;<i> compiling so you can load them into your application domain. This
</I>opens
&gt;<i> the door to rouge code insertion since there is a small lag between
</I>the
&gt;<i> time you generate the file, compile it and load it. I admit this is a
</I>&gt;<i> small window and if random file names are used hard to do but it is
</I>&gt;<i> possible.
</I>
Good point.  The option
System.CodeDom.Compiler.CompilerParameters.GenerateInMemory states that
the
resultant assembly is generated in memory, not on disk.  However I do
not
know if the compiler uses intermediate temporary files.

Mike Bresnahan



 
Yahoo! Groups Links



 



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ExpressionTreeParser.g
Type: application/octet-stream
Size: 24096 bytes
Desc: ExpressionTreeParser.g
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20040308/9efb9279/ExpressionTreeParser.obj">http://www.antlr.org/pipermail/antlr-interest/attachments/20040308/9efb9279/ExpressionTreeParser.obj</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006784.html">[antlr-interest] Re: SQL2 and AST
</A></li>
	<LI>Next message: <A HREF="006781.html">[antlr-interest] RE: C# vs MSIL Output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6780">[ date ]</a>
              <a href="thread.html#6780">[ thread ]</a>
              <a href="subject.html#6780">[ subject ]</a>
              <a href="author.html#6780">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
