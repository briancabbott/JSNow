<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] More, Status of C++ backend?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20More%2C%20Status%20of%20C%2B%2B%20backend%3F&In-Reply-To=%3C%22LE6A442875918486eA79873BB3AF01B51.1199291394.scalix.temporal-wave.com%2A%22%40MHS%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025481.html">
   <LINK REL="Next"  HREF="025482.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] More, Status of C++ backend?</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20More%2C%20Status%20of%20C%2B%2B%20backend%3F&In-Reply-To=%3C%22LE6A442875918486eA79873BB3AF01B51.1199291394.scalix.temporal-wave.com%2A%22%40MHS%3E"
       TITLE="[antlr-interest] More, Status of C++ backend?">jimi at temporal-wave.com
       </A><BR>
    <I>Wed Jan  2 08:20:16 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025481.html">[antlr-interest] More, Status of C++ backend?
</A></li>
        <LI>Next message: <A HREF="025482.html">[antlr-interest] RFE: bring back (at least the global) testLiterals option!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25488">[ date ]</a>
              <a href="thread.html#25488">[ thread ]</a>
              <a href="subject.html#25488">[ subject ]</a>
              <a href="author.html#25488">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Ruslan Zasukhin [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sunshine at public.kherson.ua</A>]
</I>&gt;<i> Sent: Wednesday, January 02, 2008 4:50 AM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: Re: [antlr-interest] More, Status of C++ backend?
</I>&gt;<i> 
</I>&gt;<i> On 2/1/08 1:53 PM, &quot;Mark Wright&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">markwright at internode.on.net</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Hi Mark,
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt;&gt; Another idea is:  maybe it might be easier to find a way to
</I>&gt;<i> &gt;&gt;&gt; optionally plug in Andrei Alexandrescu's flex_string instead of
</I>&gt;<i> &gt;&gt;&gt; std::string. flex_string is used in the Boost Wave project,
</I>&gt;<i> &gt;&gt;&gt; presumably for the same reason.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; But does flex_string require allocation by new()?
</I>&gt;<i> &gt;&gt; I assume that YES.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hello Ruslan,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; flex_string uses policy based design, so you can choose
</I>&gt;<i> &gt; whether you want it to use new() or your own allocator:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="http://www.ddj.com/cpp/184403784">http://www.ddj.com/cpp/184403784</A>
</I>&gt;<i> 
</I>&gt;<i> Okay, although note that std::string also allow you specify own 
</I>allocator.
&gt;<i> Right? Problem is in time we all need spend to find good mem pool, 
</I>then
&gt;<i> plug
</I>&gt;<i> them all together into our projects.
</I>&gt;<i> 
</I>&gt;<i> DREAM IS: that ANTLR C++ itself include some good mem-pool from the 
</I>box
&gt;<i> for
</I>&gt;<i> its AST nodes and allow us to use this mem pool for our own nodes 
</I>also.

The C runtime already does this and if you want to make your own nodes, 
then you provide a similar mechanism for your node information (copy and 
past will work fine ;-). There is no inheritance in the C, so you are 
given a set of embedded structures. Create your own node, and embed the 
common node within it, it will act like a derived class. However, in C, 
you can just managed it with pointers anyway, and your memory pool is 
just taken from an array of your own nodes. Simple really (which is 
usually fastest ;-).

Jim


</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025481.html">[antlr-interest] More, Status of C++ backend?
</A></li>
	<LI>Next message: <A HREF="025482.html">[antlr-interest] RFE: bring back (at least the global) testLiterals option!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25488">[ date ]</a>
              <a href="thread.html#25488">[ thread ]</a>
              <a href="subject.html#25488">[ subject ]</a>
              <a href="author.html#25488">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
