<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] CSharp3 code generation suggestions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20CSharp3%20code%20generation%20suggestions&In-Reply-To=%3C07de01cc5901%240a55db60%241f019220%24%40pixelminegames.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042399.html">
   <LINK REL="Next"  HREF="042400.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] CSharp3 code generation suggestions</H1>
    <B>Sam Harwell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20CSharp3%20code%20generation%20suggestions&In-Reply-To=%3C07de01cc5901%240a55db60%241f019220%24%40pixelminegames.com%3E"
       TITLE="[antlr-interest] CSharp3 code generation suggestions">sharwell at pixelminegames.com
       </A><BR>
    <I>Fri Aug 12 08:03:47 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="042399.html">[antlr-interest] CSharp3 code generation suggestions
</A></li>
        <LI>Next message: <A HREF="042400.html">[antlr-interest] Pre parse keyworded function calls into canonical	function calls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42401">[ date ]</a>
              <a href="thread.html#42401">[ thread ]</a>
              <a href="subject.html#42401">[ subject ]</a>
              <a href="author.html#42401">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>1. I&#8217;ll make this change for all references to the Antlr namespace (using
statements and base classes). To change the base class of a grammar, you can
use &#8220;@lexer::superClass{global::Antlr.Runtime.Lexer}&#8221; (non-combined grammars
may omit the lexer::, and any type name may be specified as the superClass).

 

2. You can use @lexer::modifier{internal} to control access to the classes.
Use @lexer::ctorModifier{private} if you&#8217;ve declared your own constructor(s)
and need to prevent external code from using the generated ones. Section 5.1
of the C# 3 documentation shows this new feature (added for the 3.4
release).

 

3. I use Code Contracts with rewriting extensively in one of my other (side)
projects. For now it&#8217;s a love/hate relationship, but the real reason I
haven&#8217;t annotated the existing code is there are some big questions about
the compatibility of the CC library with the BSD license used for the
runtime.

 

Sam

 

From: Ranco Marcus [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ranco.marcus at epirion.nl</A>] 
Sent: Friday, August 12, 2011 3:59 AM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Cc: Sam Harwell &#8206;[<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sharwell at pixelminegames.com</A>]&#8206;
Subject: CSharp3 code generation suggestions

 

Hi Sam,

 

I have a few rather small suggestions for the code generated by the CSharp3
target.

 

1. We used to have a namespace XXXX.Antlr in the same project as where our
grammars are located. The compiler fails when it tries to resolve the
generated grammar's base classes (Antlr.Runtime.___) and the included
namespaces (using Antlr.___ ). Maybe you could make this explicit by
prefixing those reference with global::.

 

2. The generated grammars are public by default. If the visibility modifier
would be omitted from the partial class declaration, the grammar would be
internal by default (something I usually prefer). In case somebody wants the
grammar to be public, he/she only needs to add another partial class
definition with a public modifier.

 

3. We are currently in the process of annotating our code with code
contracts (see 

<A HREF="http://msdn.microsoft.com/en-us/devlabs/dd491992.aspx,">http://msdn.microsoft.com/en-us/devlabs/dd491992.aspx,</A> separate assembly in
.NET 3.5, included in the BCL in 4.0). The static checker (freely available
for VS Premium or above) is able to check after compilation where contracts
might be violated. Very cool stuff and maybe something to consider for the
Antlr runtime.

 

These are only suggestions, as none of the above are show-stoppers.

 

Best regards, 

 

Ranco

 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042399.html">[antlr-interest] CSharp3 code generation suggestions
</A></li>
	<LI>Next message: <A HREF="042400.html">[antlr-interest] Pre parse keyworded function calls into canonical	function calls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42401">[ date ]</a>
              <a href="thread.html#42401">[ thread ]</a>
              <a href="subject.html#42401">[ subject ]</a>
              <a href="author.html#42401">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
