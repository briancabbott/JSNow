<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: antlr-interest Digest, Vol 3, Issue 26
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20antlr-interest%20Digest%2C%20Vol%203%2C%20Issue%2026&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011196.html">
   <LINK REL="Next"  HREF="011197.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: antlr-interest Digest, Vol 3, Issue 26</H1>
    <B>=?gb2312?B?us6zrA==?=</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20antlr-interest%20Digest%2C%20Vol%203%2C%20Issue%2026&In-Reply-To="
       TITLE="[antlr-interest] Re: antlr-interest Digest, Vol 3, Issue 26">hc7750 at 163.com
       </A><BR>
    <I>Sat Feb 19 19:43:17 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011196.html">[antlr-interest] Debugging lexing.
</A></li>
        <LI>Next message: <A HREF="011197.html">[antlr-interest] Antlr vs Spirit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11195">[ date ]</a>
              <a href="thread.html#11195">[ thread ]</a>
              <a href="subject.html#11195">[ subject ]</a>
              <a href="author.html#11195">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thougn these warnings exist, the lexer can work well


&gt;<i> Send antlr-interest mailing list submissions to
</I>&gt;<i> 	<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> 
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i> 	<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i> 	<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-request at antlr.org</A>
</I>&gt;<i> 
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i> 	<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-owner at antlr.org</A>
</I>&gt;<i> 
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of antlr-interest digest...&quot;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Today's Topics:
</I>&gt;<i> 
</I>&gt;<i>    1. ANTLR Debugging &amp; XML Work (Scott Stanchfield)
</I>&gt;<i>    2. lexical nondeterminism (Rice Yeh)
</I>&gt;<i>    3. Re: lexical nondeterminism (Bryan Ewbank)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Fri, 18 Feb 2005 19:06:00 -0500
</I>&gt;<i> From: &quot;Scott Stanchfield&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">scott at javadude.com</A>&gt;
</I>&gt;<i> Subject: [antlr-interest] ANTLR Debugging &amp; XML Work
</I>&gt;<i> To: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">20050218235422.A6F3D290413 at new.knowspam.net</A>&gt;
</I>&gt;<i> Content-Type: text/plain;	charset=&quot;us-ascii&quot;
</I>&gt;<i> 
</I>&gt;<i> Hey all!
</I>&gt;<i> 
</I>&gt;<i> LOOKING FOR SOME GUINEA PIGS...
</I>&gt;<i> SUMMARY
</I>&gt;<i> =======
</I>&gt;<i> If you have an ANTLR Java parser, AND use Eclipse 3.0.x or 3.1Mx, AND would
</I>&gt;<i> like to help me ensure I didn't break ANTLR with some debugging and XML
</I>&gt;<i> changes, please email me: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">scott at javadude.com</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> THE DETAILS
</I>&gt;<i> ===========
</I>&gt;<i> 
</I>&gt;<i> I'm back from my long absence of ANTLR-related fun! I convinced some folks
</I>&gt;<i> at work to try ANTLR for XML parsing which started a whole &quot;let's make
</I>&gt;<i> things easier&quot; binge for me...
</I>&gt;<i> 
</I>&gt;<i> (Note that my email address has changed several times since I wrote
</I>&gt;<i> ParseView. I saw in the mailing list that some people have had trouble
</I>&gt;<i> reaching me. Use <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">scott at javadude.com...</A>)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I've done some major tinkering with ANTLR and the ANTLR-Eclipse plugin to do
</I>&gt;<i> the following:
</I>&gt;<i> 
</I>&gt;<i> Debugging-Related Stuff
</I>&gt;<i> =======================
</I>&gt;<i> I fixed ParseView and added JSR-45 debugging support...
</I>&gt;<i> 
</I>&gt;<i> * Made ParseView work again and integrated with the ANTLR distro
</I>&gt;<i> * Simplified the debugging API for ParseView (reducing some ANTLR debug
</I>&gt;<i> code)
</I>&gt;<i> * Added JSR-45 support to ANTLR so you can walk through the grammar in the
</I>&gt;<i> eclipse debugger
</I>&gt;<i>   (see <A HREF="http://javadude.com/misc/antlr-debug/antlr-debug.html">http://javadude.com/misc/antlr-debug/antlr-debug.html</A> for a quick
</I>&gt;<i> demo)
</I>&gt;<i> * Added an JSR-45 SMAP installer to the ANTLR-eclipse plugin
</I>&gt;<i>   (this is based off some code from Apache Tomcat, so if this is released as
</I>&gt;<i> 
</I>&gt;<i>    part of Torsten's ANTLR-Eclipse plugin we need to figure out if there are
</I>&gt;<i>    licensing issues... otherwise I can make it a separate eclipse plugin w/
</I>&gt;<i>    an Apache license, but it's cleaner to integrate with ANTLR-Eclipse and
</I>&gt;<i>    avoid having the user add Smap support to the project as well as ANTLR
</I>&gt;<i>    support)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> XML-Related Stuff
</I>&gt;<i> =================
</I>&gt;<i> I started using XPA, but I really wanted something that did normal XML
</I>&gt;<i> validation against a DTD or schema. (With XPA, I'd basically have to emulate
</I>&gt;<i> the same validation in a grammar.) I also wanted some simpler syntax in the
</I>&gt;<i> ANTLR grammar.
</I>&gt;<i> 
</I>&gt;<i> So, I created an XMLTokenStream that accepts a SAX parser and runs it to
</I>&gt;<i> fill a buffer with token which is then used for an ANTLR parser to pull
</I>&gt;<i> from. (The buffer has high and low water marks so it doesn't suck the whole
</I>&gt;<i> file into memory at once).
</I>&gt;<i> 
</I>&gt;<i> * Created an XMLTokenStream class that takes a SAX parser (configured
</I>&gt;<i> however you like) as a scanner, creates tokens for the start/end tags and
</I>&gt;<i> content, and can be attached to a parser
</I>&gt;<i> 
</I>&gt;<i> * Added an xmlTag rule option 
</I>&gt;<i>     webApp options {xmlTag=&quot;web-app&quot;;}
</I>&gt;<i>   This automatically generates refs to the start and end tag for web-app, as
</I>&gt;<i> well as 
</I>&gt;<i>   setting up attribute reference support
</I>&gt;<i> * Added &quot;@name&quot; support to reference attributes in code
</I>&gt;<i>   You can write code like
</I>&gt;<i>      {  createPerson(@name, @address, @phone); }
</I>&gt;<i>   in a rule that has an xmlTag option. The attributes will be extracted from
</I>&gt;<i>   that tag
</I>&gt;<i> 
</I>&gt;<i> * Added xmlNamespaceMapping options to the grammar to allow prefix use for
</I>&gt;<i> tags ref'd in rules
</I>&gt;<i> 
</I>&gt;<i> I've still got some more work to do to make the JSR-45 support follow rule
</I>&gt;<i> references, but it's looking pretty good so far.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> REQUEST FOR TESTERS!
</I>&gt;<i> ====================
</I>&gt;<i> All of this required some work on the ANTLR parser and the java code
</I>&gt;<i> generator. I'd like to get the warm fuzzies that I didn't blow anything up,
</I>&gt;<i> so...
</I>&gt;<i> 
</I>&gt;<i> To anyone who has a working parser AND uses Eclipse 3.0.x or 3.1Mx, if
</I>&gt;<i> you're willing to run a quick test to see if things behave the same, please
</I>&gt;<i> email me: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">scott at javadude.com.</A> (Note that you'll need to answer a challenge
</I>&gt;<i> at knowspam.net for me to get the email.)
</I>&gt;<i> 
</I>&gt;<i> I will send a zip containing the modified eclipse plugins for ANTLR.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> MY TO DO LIST...
</I>&gt;<i> ================
</I>&gt;<i> I've still got some work to do, so release of all of this is probably a few
</I>&gt;<i> weeks to a month away...
</I>&gt;<i> 
</I>&gt;<i> * Add rule-ref support in SMAPs for grammar debugging. (I've started with
</I>&gt;<i> it, but I'm having some silly little &quot;off-by-one&quot; problems in the mapping...
</I>&gt;<i> Grrr... Arg...)
</I>&gt;<i> 
</I>&gt;<i> * Add a token buffer &quot;spy&quot; to ParseView
</I>&gt;<i> 
</I>&gt;<i> * Add checking for invalid breakpoint locations (right now you can set
</I>&gt;<i> breakpoints anywhere in a grammar but they're ignored if they're outside
</I>&gt;<i> actions)
</I>&gt;<i> 
</I>&gt;<i> * If I have time, convert ParseView to an Eclipse plugin with some
</I>&gt;<i> nicer-looking views
</I>&gt;<i> 
</I>&gt;<i> * Work with Terence and Torsten to get all of this in the official ANTLR and
</I>&gt;<i> ANTLR-Eclipse releases
</I>&gt;<i> 
</I>&gt;<i> * Figure out who else is working on ANTLR (I hear there's a 2.8.0 in dev?)
</I>&gt;<i> and merge their changes in
</I>&gt;<i> 
</I>&gt;<i> I'd like to eventually create a new ANTLR editor for Eclipse based on the
</I>&gt;<i> Structured Source Editor (SSE) that comes with the WebTools project from
</I>&gt;<i> Eclipse.org. That would support all sorts of wonderful Java stuff
</I>&gt;<i> development inside the action code like code completion and so forth...
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Whew! That was a lot to say...
</I>&gt;<i> 
</I>&gt;<i> Later,
</I>&gt;<i> -- Scott
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------
</I>&gt;<i> 
</I>&gt;<i> Message: 2
</I>&gt;<i> Date: Sun, 20 Feb 2005 00:19:56 +0800
</I>&gt;<i> From: Rice Yeh &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">riceyeh at gmail.com</A>&gt;
</I>&gt;<i> Subject: [antlr-interest] lexical nondeterminism
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">47f71d9405021908197ddc07d3 at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=US-ASCII
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i>   I have the following lexical rules where the longest string 
</I>&gt;<i> literial is 3 characters. and i have lookahead set to 5 (actually 3 is
</I>&gt;<i> enough for this case), But why there is nondeterminism with message as
</I>&gt;<i>  follows:
</I>&gt;<i> 
</I>&gt;<i> lexical nondeterminism between alts 1 and 2 of block upon
</I>&gt;<i> k==1:'F','M','S' k==2:'A','E','O','U' k==3:'N','T'
</I>&gt;<i> k==4:&lt;end-of-token&gt;,'-'
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> MONTH_OF_YEAR: 
</I>&gt;<i> 	(&quot;JAN&quot; | &quot;FEB&quot; | &quot;MAR&quot; | &quot;APR&quot; | &quot;MAY&quot; | &quot;JUN&quot; | &quot;JUL&quot; | &quot;AUG&quot; |
</I>&gt;<i> &quot;SEP&quot; | &quot;OCT&quot; | &quot;NOV&quot; | &quot;DEC&quot;)
</I>&gt;<i> 	;
</I>&gt;<i> 
</I>&gt;<i> DAY_OF_WEEK:
</I>&gt;<i> 	(&quot;SUN&quot; | &quot;MON&quot; | &quot;TUE&quot; | &quot;WEN&quot; | &quot;THU&quot; | &quot;FRI&quot; | &quot;SAT&quot;)
</I>&gt;<i> 	;
</I>&gt;<i> 
</I>&gt;<i> VALUE	
</I>&gt;<i> 	:	DAY_OF_WEEK | MONTH_OF_YEAR
</I>&gt;<i> 	;
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> Rice
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------
</I>&gt;<i> 
</I>&gt;<i> Message: 3
</I>&gt;<i> Date: Sat, 19 Feb 2005 12:35:53 -0500
</I>&gt;<i> From: Bryan Ewbank &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ewbank at gmail.com</A>&gt;
</I>&gt;<i> Subject: Re: [antlr-interest] lexical nondeterminism
</I>&gt;<i> To: ANTLR Interest &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">dd3a065f0502190935278ff5fc at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=US-ASCII
</I>&gt;<i> 
</I>&gt;<i> The problem is linear approximate lookahead:
</I>&gt;<i> 
</I>&gt;<i> Linear Approximate Lookahead
</I>&gt;<i> An approximation to full lookahead (that can be applied to both LL and
</I>&gt;<i> LR parsers) for k&gt;1 that reduces the complexity of storing and testing
</I>&gt;<i> lookahead from O(n^k) to O(nk); exponential to linear reduction. When
</I>&gt;<i> linear approximate lookahead is insufficient (results in a
</I>&gt;<i> nondeterministic parser), you can use the approximate lookahead to
</I>&gt;<i> attenuate the cost of building the full decision.
</I>&gt;<i> -- p9, antlrman.pdf
</I>&gt;<i> 
</I>&gt;<i> This means that the lookahead sets are collaped in such a way that
</I>&gt;<i> ambiguity shows up.  There's a few more paragraphs in the manual that
</I>&gt;<i> should help to explain it.
</I>&gt;<i> 
</I>&gt;<i> The easiest solution I've found (there are probably others) is to
</I>&gt;<i> accept an identifier ([a-z][a-z][a-z]), and than use a lookup table to
</I>&gt;<i> grab the ones I want.  The other solution I've used is to use flex for
</I>&gt;<i> token generation.
</I>&gt;<i> 
</I>&gt;<i> On Sun, 20 Feb 2005 00:19:56 +0800, Rice Yeh &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">riceyeh at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;   I have the following lexical rules where the longest string
</I>&gt;<i> &gt; literial is 3 characters. and i have lookahead set to 5 (actually 3 is
</I>&gt;<i> &gt; enough for this case), But why there is nondeterminism with message as
</I>&gt;<i> &gt;  follows:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; lexical nondeterminism between alts 1 and 2 of block upon
</I>&gt;<i> &gt; k==1:'F','M','S' k==2:'A','E','O','U' k==3:'N','T'
</I>&gt;<i> &gt; k==4:&lt;end-of-token&gt;,'-'
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; MONTH_OF_YEAR:
</I>&gt;<i> &gt;         (&quot;JAN&quot; | &quot;FEB&quot; | &quot;MAR&quot; | &quot;APR&quot; | &quot;MAY&quot; | &quot;JUN&quot; | &quot;JUL&quot; | &quot;AUG&quot; |
</I>&gt;<i> &gt; &quot;SEP&quot; | &quot;OCT&quot; | &quot;NOV&quot; | &quot;DEC&quot;)
</I>&gt;<i> &gt;         ;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; DAY_OF_WEEK:
</I>&gt;<i> &gt;         (&quot;SUN&quot; | &quot;MON&quot; | &quot;TUE&quot; | &quot;WEN&quot; | &quot;THU&quot; | &quot;FRI&quot; | &quot;SAT&quot;)
</I>&gt;<i> &gt;         ;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; VALUE
</I>&gt;<i> &gt;         :       DAY_OF_WEEK | MONTH_OF_YEAR
</I>&gt;<i> &gt;         ;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Regards,
</I>&gt;<i> &gt; Rice
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> antlr-interest mailing list
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> End of antlr-interest Digest, Vol 3, Issue 26
</I>&gt;<i> *********************************************
</I>&gt;<i> 
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20050220/2945e22c/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20050220/2945e22c/attachment-0001.html</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011196.html">[antlr-interest] Debugging lexing.
</A></li>
	<LI>Next message: <A HREF="011197.html">[antlr-interest] Antlr vs Spirit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11195">[ date ]</a>
              <a href="thread.html#11195">[ thread ]</a>
              <a href="subject.html#11195">[ subject ]</a>
              <a href="author.html#11195">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
