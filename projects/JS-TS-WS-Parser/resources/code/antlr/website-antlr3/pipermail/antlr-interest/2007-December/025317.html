<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] disambiguating sempred in a closure?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20disambiguating%20sempred%20in%20a%20closure%3F&In-Reply-To=%3C476BE131.4080504%40math.purdue.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025319.html">
   <LINK REL="Next"  HREF="025330.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] disambiguating sempred in a closure?</H1>
    <B>J Chapman Flack</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20disambiguating%20sempred%20in%20a%20closure%3F&In-Reply-To=%3C476BE131.4080504%40math.purdue.edu%3E"
       TITLE="[antlr-interest] disambiguating sempred in a closure?">jflack at math.purdue.edu
       </A><BR>
    <I>Fri Dec 21 07:52:17 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025319.html">[antlr-interest] overriding BaseRecognizer methods for lexer,	parser and tree parser
</A></li>
        <LI>Next message: <A HREF="025330.html">[antlr-interest] disambiguating sempred in a closure?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25317">[ date ]</a>
              <a href="thread.html#25317">[ thread ]</a>
              <a href="subject.html#25317">[ subject ]</a>
              <a href="author.html#25317">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

I have backed myself into a corner where I need semantic
information to decide whether to take an exit branch:

prod : something
        ( options { greedy=true; }
        : { muppet }? ( KERMIT | FOZZIE )
        | { turtle }? ( LEONARDO | DONATELLO )
        )*
      ;

so that even if the lookahead is KERMIT or FOZZIE
I should take the exit branch if I'm not looking for
muppets. (Before you ask, no, I don't know this
statically; actions may alter these flags on any
iteration. Such is the language I'm trying to parse.)

antlr 2.7.7 treats these sempreds as validating because they
are not at the top of the production, so they throw exceptions
instead of exiting the closure. I haven't tried to port my
grammar to antlr 3 yet.

1.  Is there a way to refactor this production in antlr 2.7.7
     to get the behavior I want?

2.  Is it easier in antlr 3?  Is it enough easier that I should
     bite the bullet and port the 1100 line grammar rather than
     fussing with it in 2.7.7?

Thanks,
-Chap

</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025319.html">[antlr-interest] overriding BaseRecognizer methods for lexer,	parser and tree parser
</A></li>
	<LI>Next message: <A HREF="025330.html">[antlr-interest] disambiguating sempred in a closure?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25317">[ date ]</a>
              <a href="thread.html#25317">[ thread ]</a>
              <a href="subject.html#25317">[ subject ]</a>
              <a href="author.html#25317">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
