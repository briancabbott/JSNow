<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] antlr - sub ast tree
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20antlr%20-%20sub%20ast%20tree&In-Reply-To=%3C009601c7835b%24b4a7b1e0%245f16dc0a%40telecomitalia.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020307.html">
   <LINK REL="Next"  HREF="020304.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] antlr - sub ast tree</H1>
    <B>Alessandro Leonardi</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20antlr%20-%20sub%20ast%20tree&In-Reply-To=%3C009601c7835b%24b4a7b1e0%245f16dc0a%40telecomitalia.local%3E"
       TITLE="[antlr-interest] antlr - sub ast tree">alessandro1.leonardi at telecomitalia.it
       </A><BR>
    <I>Fri Apr 20 07:53:49 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020307.html">[antlr-interest] (no subject)
</A></li>
        <LI>Next message: <A HREF="020304.html">[antlr-interest] AntlrWorks+Idea Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20303">[ date ]</a>
              <a href="thread.html#20303">[ thread ]</a>
              <a href="subject.html#20303">[ subject ]</a>
              <a href="author.html#20303">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

 

I'm working about an existing antlr grammar.

 

I'm using java.

 

In the Tree Parser Class are defined 2 method:

expr and exprs

 

 

class ExpressionTreeWalker extends TreeParser;

.

expr  returns [double r]

.

strs returns [String r]

.

 

Expr implements the ast evalutation on numeric operators, Strs on string
operators.

 

Some AST subtree nodes should be calculated by expr and some others by strs
but if I use this syntax, 

 

    CommonAST parseTree = (CommonAST) this.getAST();

    ExpressionTreeWalker walker = new ExpressionTreeWalker();

    String r = walker.expr(parseTree);

 

all tree will be evaluated by expr method.

How is possible to force the ast evaluation to use strs to traverse a
particular subtree?

 

Example: 

 

..

relExpression:

   expr ^EQ expr

 

.

 

tokens {

..

EQ:&quot;=&quot;

..

}

 

class ExpressionTreeWalker extends TreeParser;

.

 

  expr returns [double r]

  { double  a,b; r=0; String str,str1,str2; 

  }

#EQ (a=expr b=expr) {

// number relation

}

.

 

 

 

  strs returns [double r]

  { String  a,b; r=0; String str,str1,str2; 

  }

#EQ (a= strs b= strs) {

// strings relation

}

.

 

 

// java ast evaluation 

    CommonAST parseTree = (CommonAST) this.getAST();

    ExpressionTreeWalker walker = new ExpressionTreeWalker();

    String r = walker.expr(parseTree);

 

How is possible to force the relExpression evaluation using the strs.EQ
instead expr.EQ ? ( for example if a code variable indicated this )

 

 

 

I hope to be clear,

 

Thanks a lot!

Bye

Alessandro 

 

 

 

 

 

--------------------------------------------------------------------

CONFIDENTIALITY NOTICE

This message and its attachments are addressed solely to the persons above and may contain confidential information. If you have received the message in error, be informed that any use of the content hereof is prohibited. Please return it immediately to the sender and delete the message. Should you have any questions, please contact us by replying to <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">webmaster at telecomitalia.it.</A>

        Thank you

                                        www.telecomitalia.it

--------------------------------------------------------------------
                        
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20070420/37fb67af/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20070420/37fb67af/attachment-0001.html</A> 
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020307.html">[antlr-interest] (no subject)
</A></li>
	<LI>Next message: <A HREF="020304.html">[antlr-interest] AntlrWorks+Idea Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20303">[ date ]</a>
              <a href="thread.html#20303">[ thread ]</a>
              <a href="subject.html#20303">[ subject ]</a>
              <a href="author.html#20303">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
