<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Global scopes for lexers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Global%20scopes%20for%20lexers&In-Reply-To=%3Cebc876d70707310924m6cc0e8b4l3a2890cff4ec43bc%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022914.html">
   <LINK REL="Next"  HREF="022917.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Global scopes for lexers</H1>
    <B>Thomas Brandon</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Global%20scopes%20for%20lexers&In-Reply-To=%3Cebc876d70707310924m6cc0e8b4l3a2890cff4ec43bc%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Global scopes for lexers">tbrandonau at gmail.com
       </A><BR>
    <I>Tue Jul 31 09:24:37 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022914.html">[antlr-interest] Global scopes for lexers
</A></li>
        <LI>Next message: <A HREF="022917.html">[antlr-interest] Global scopes for lexers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22915">[ date ]</a>
              <a href="thread.html#22915">[ thread ]</a>
              <a href="subject.html#22915">[ subject ]</a>
              <a href="author.html#22915">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 8/1/07, Kay Roepke &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">kroepke at classdump.org</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On Jul 31, 2007, at 5:51 PM, Alex Shneyderman wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; I thought it would be neat to have the same mechanism for lexer as
</I>&gt;<i> &gt; exists in parser. But of course you probably have a better idea of how
</I>&gt;<i> &gt; to keep track of
</I>&gt;<i> &gt; these levels. I am all ears :-)
</I>&gt;<i>
</I>&gt;<i> I'd say that this is a pretty good case for scopes. :)
</I>&gt;<i>
</I>&gt;<i> It's just that having to have them in a lexer is pretty uncommon,
</I>&gt;<i> thus the reluctance to support the
</I>&gt;<i> feature (at least that's my understanding). The same reasoning
</I>&gt;<i> applies to return values in lexer rules. It doesn't
</I>&gt;<i> really fit into the concept of the lexer (which should tokenize
</I>&gt;<i> preferably without any context dependencies).
</I>I would like to see return values and scopes supported in lexers. I
have tried to use return values in the lexer, before switching to
scopes when they couldn't be used. My use case was pretty non-standard
but there are situations where more work than desirable needs to be
done in the lexer and here they can come in handy.
Certainly return values for non-fragment rules seem unnecessary. But
for fragment rules they seem more useful. Scopes or return types can
be used to centralise action logic as well as matching logic in
fragment rules.
Yes, global variables can be used and the limited recursion in lexers
means stacks will rarely be necessary but return values\scopes seem
cleaner to me, keeping everything together in the rule. And allow more
complex cases like this.
&gt;<i>
</I>&gt;<i> OTOH, given that the implementation of lexers and parsers are so
</I>&gt;<i> alike scopes just magically work, as
</I>&gt;<i> long as the target developer thinks of it, maybe there's a case for it.
</I>Certainly if significant work was required to implement them there
would be a case to be made for excluding them. But from a quick scan
of the templates it looked like almost all of the support could be
shared. And I can't see any performance implications for them. The
intelligent return value handling for parsers nicely chooses between
wrapper objects and single return values as needed so should
efficiently handle them.

&gt;<i> BTW, that's one messed up language you have there ;)
</I>&gt;<i>
</I>&gt;<i> cheers,
</I>&gt;<i> -k
</I>&gt;<i> --
</I>&gt;<i> Kay R&#246;pke
</I>&gt;<i> <A HREF="http://classdump.org/">http://classdump.org/</A>
</I>
Tom.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022914.html">[antlr-interest] Global scopes for lexers
</A></li>
	<LI>Next message: <A HREF="022917.html">[antlr-interest] Global scopes for lexers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22915">[ date ]</a>
              <a href="thread.html#22915">[ thread ]</a>
              <a href="subject.html#22915">[ subject ]</a>
              <a href="author.html#22915">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
