<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] gUnit: Is it possible to test	StringTemplate	output?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20gUnit%3A%20Is%20it%20possible%20to%20test%0A%09StringTemplate%09output%3F&In-Reply-To=%3CECB5A19B-2176-4846-BC05-880B0CAF7E36%40mac.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031366.html">
   <LINK REL="Next"  HREF="031381.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] gUnit: Is it possible to test	StringTemplate	output?</H1>
    <B>Leon Su</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20gUnit%3A%20Is%20it%20possible%20to%20test%0A%09StringTemplate%09output%3F&In-Reply-To=%3CECB5A19B-2176-4846-BC05-880B0CAF7E36%40mac.com%3E"
       TITLE="[antlr-interest] gUnit: Is it possible to test	StringTemplate	output?">leon.antlr at mac.com
       </A><BR>
    <I>Sat Nov  1 15:28:30 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="031366.html">[antlr-interest] gUnit: Is it possible to test StringTemplate	output?
</A></li>
        <LI>Next message: <A HREF="031381.html">[antlr-interest] gUnit: Is it possible to test	StringTemplate	output?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31379">[ date ]</a>
              <a href="thread.html#31379">[ thread ]</a>
              <a href="subject.html#31379">[ subject ]</a>
              <a href="author.html#31379">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Chris,

Thanks for pointing out this issue. I think it's a bug of testing a  
tree grammar's template output in gUnit-1.0.2.
I just uploaded an intermediate release to the wiki page of gUnit.
Please download the new version and try to see if it works on your  
testsuite.

ps.  you may need to put gunit-1.0.3b.jar before antlr-3.1.1.jar in  
your classpath.

Leon

On Nov 1, 2008, at 3:06 AM, Chris Sekszczynska wrote:

&gt;<i> Hello all,
</I>&gt;<i>
</I>&gt;<i> simple question: Is it possible to test a tree walkers template output
</I>&gt;<i> using
</I>&gt;<i> gUnit? In my tree grammar I put the following into the starting rule:
</I>&gt;<i>
</I>&gt;<i> @init {
</I>&gt;<i>     try {
</I>&gt;<i>          FileReader groupFileR = new FileReader(&quot;path/to/group.stg&quot;);
</I>&gt;<i>          StringTemplateGroup templates = new
</I>&gt;<i> StringTemplateGroup(groupFileR);
</I>&gt;<i>          groupFileR.close();
</I>&gt;<i>          this.setTemplateLib(templates);
</I>&gt;<i>      } /... some catch blocks
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Of cause, I also added the imports. My testsuite looks as follows:
</I>&gt;<i>
</I>&gt;<i> 	gunit TreeWalker walks Parser;
</I>&gt;<i>
</I>&gt;<i> 	program walks program:
</I>&gt;<i> 	&quot;if(true){}&quot; OK
</I>&gt;<i>
</I>&gt;<i> This TC fails. When I expect some value, like
</I>&gt;<i>
</I>&gt;<i> 	program walks program:
</I>&gt;<i> 	&quot;if(true){}&quot; -&gt; &lt;&lt;
</I>&gt;<i>          if True:
</I>&gt;<i>              pass
</I>&gt;&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I got the following output:
</I>&gt;<i>
</I>&gt;<i> 	test1 (program walks program, line9) -
</I>&gt;<i> 	expected: if(true)
</I>&gt;<i> 	actual: java.lang.NullPointerException
</I>&gt;<i>
</I>&gt;<i> Why does this NullPointerException occurs? I debugged into the
</I>&gt;<i> StringTemplate code but found nothing useful. I think it's produced
</I>&gt;<i> when performing the &quot;node to template&quot; transformation.
</I>&gt;<i>
</I>&gt;<i> When I use the usual way to run the parser and walker, the input
</I>&gt;<i> &quot;if(true){}&quot; produces the expected &quot;if True:\n pass&quot;. So I think the
</I>&gt;<i> issue is not caused by my grammars.
</I>&gt;<i>
</I>&gt;<i> Wiki page <A HREF="http://www.antlr.org/wiki/display/ANTLR3/gUnit+-+Grammar">http://www.antlr.org/wiki/display/ANTLR3/gUnit+-+Grammar</A> 
</I>&gt;<i> +Unit+Testing
</I>&gt;<i> points out that testing template output is possible (see section &quot;Test
</I>&gt;<i> StringTemplate output&quot;).
</I>&gt;<i>
</I>&gt;<i> Thanks in advance.
</I>&gt;<i>
</I>&gt;<i> Kind regards,
</I>&gt;<i> Chris
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-">http://www.antlr.org/mailman/options/antlr-</A> 
</I>&gt;<i> interest/your-email-address
</I>&gt;<i>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031366.html">[antlr-interest] gUnit: Is it possible to test StringTemplate	output?
</A></li>
	<LI>Next message: <A HREF="031381.html">[antlr-interest] gUnit: Is it possible to test	StringTemplate	output?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31379">[ date ]</a>
              <a href="thread.html#31379">[ thread ]</a>
              <a href="subject.html#31379">[ subject ]</a>
              <a href="author.html#31379">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
