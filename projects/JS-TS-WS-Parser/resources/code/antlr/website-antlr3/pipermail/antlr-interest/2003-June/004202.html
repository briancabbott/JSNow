<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] manual AST construction: what am I doing wrong?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20manual%20AST%20construction%3A%20what%20am%20I%20doing%20wrong%3F&In-Reply-To=000701c33418%24cabeb0a0%2403001aac%40zoys">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004200.html">
   <LINK REL="Next"  HREF="004218.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] manual AST construction: what am I doing wrong?</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20manual%20AST%20construction%3A%20what%20am%20I%20doing%20wrong%3F&In-Reply-To=000701c33418%24cabeb0a0%2403001aac%40zoys"
       TITLE="[antlr-interest] manual AST construction: what am I doing wrong?">klaren at cs.utwente.nl
       </A><BR>
    <I>Mon Jun 16 08:39:52 PDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004200.html">[antlr-interest] manual AST construction: what am I doing wrong?
</A></li>
        <LI>Next message: <A HREF="004218.html">[antlr-interest] Re: manual AST construction: what am I doing wrong?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4202">[ date ]</a>
              <a href="thread.html#4202">[ thread ]</a>
              <a href="subject.html#4202">[ subject ]</a>
              <a href="author.html#4202">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Mon, Jun 16, 2003 at 05:05:50PM +0200, Jorge Scandaliaris wrote:
&gt;<i> Yes, I have a single AST type, but I was thinking in moving to
</I>&gt;<i> heterogeneous AST (I have defined my nodes to contain all info I could
</I>&gt;<i> possibly come across in the grammar, but they are 90% of the time left
</I>&gt;<i> empty). I guess for the moment I'll lose in efficiency until I get this
</I>&gt;<i> going, and more now that you point this out.
</I>&gt;<i> It seems it's no so common to use this approach, eh?
</I>
Heterogenous AST's are some of the more fragile things inside ANTLR. I
would like to use them maybe myself but I'd rather wait with that untill a
few things inside ANTLR are rewritten. The interface between antlr and the
module parsing the actions for the specific target language is not
something that would go for a software engineering award.

Also you can do a lot of things wrong depending on the layout of your
project. If you go with it be very aware of:

- How import/exportVocab work (and all the related caveats in build orders)
- How to register all node types with the astFactory and make sure all things
  use the same factory.
- How to read ANTLR's generated code (this never hurts) You may have to check
  the generated code for actions quite often to work around things 
  the action parser cannot see, and think of appropriate work arounds.
- Be aware of the restrictions on polymorphism and the use of reference
  counted AST's. Depending on what you do/want you may lose all the advantages
  of making something polymorphic.
- in short YMMV

Cheers,

Ric

PS personally I could (would like to maybe even) use heterogenous AST's in my
   project. But I don't. In Java mode it may work nice though. C# maybe too.
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">j.klaren at utwente.nl</A> ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  Chaos is found in greatest abundance wherever order is being sought.
  --- Terry Pratchet

 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004200.html">[antlr-interest] manual AST construction: what am I doing wrong?
</A></li>
	<LI>Next message: <A HREF="004218.html">[antlr-interest] Re: manual AST construction: what am I doing wrong?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4202">[ date ]</a>
              <a href="thread.html#4202">[ thread ]</a>
              <a href="subject.html#4202">[ subject ]</a>
              <a href="author.html#4202">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
