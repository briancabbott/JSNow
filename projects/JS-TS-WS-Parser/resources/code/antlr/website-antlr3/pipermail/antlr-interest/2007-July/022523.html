<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Tree grammar suggestion needed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Tree%20grammar%20suggestion%20needed&In-Reply-To=%3C69fb4b090707152329l2f408390l103653fc11ccb21f%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022521.html">
   <LINK REL="Next"  HREF="022524.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Tree grammar suggestion needed</H1>
    <B>Ted Villalba</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Tree%20grammar%20suggestion%20needed&In-Reply-To=%3C69fb4b090707152329l2f408390l103653fc11ccb21f%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Tree grammar suggestion needed">ted.villalba at gmail.com
       </A><BR>
    <I>Sun Jul 15 23:29:20 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022521.html">[antlr-interest] Parser code is too large(1.68)! (newbie)
</A></li>
        <LI>Next message: <A HREF="022524.html">[antlr-interest] C# 2.0 ANTLR grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22523">[ date ]</a>
              <a href="thread.html#22523">[ thread ]</a>
              <a href="subject.html#22523">[ subject ]</a>
              <a href="author.html#22523">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am trying to write a tree grammar for a language that has a rule &quot;value&quot;
which contains any number of nested &quot;values&quot; . So a value may contain a
value, may contain a value, etc..
A sample AST output tree is attached from ANTLRWorks. I have the parser
recognizing this language fine, but I can't capture this in the tree
grammar.

Any help defining this tree grammar, specifically for this value rule, would
be greatly appreciated.

Probably better to not look at this, but here is one of my many attempts:

value    : ^(VALUE value_){System.out.println(&quot;This works well...ALT1
value_: &quot;+ $value_.st);} -&gt; passThru(val={$value_.st})
         | ^(VALUE value ){System.out.println(&quot;This template returns null
but the ALT fulfills the tokens required&quot; + $value.st);} -&gt;
passThru(val={&quot;FUBAR&quot;})
         ;

value_   : ^(BOOL_OP terms value) -&gt;
valueTemplate(op={$BOOL_OP.text},terms={$terms.st}, values={$value.st})
            | ^(BOOL_OP a=value b=value)  -&gt;
valueTemplate(op={$BOOL_OP.text},terms={$a.st}, values={$b.st})
          | terms  {System.out.println(&quot;The third ALT(terms) of value_ rule:
&quot; + $terms.st);} -&gt; passThru(val={$terms.st})
         ;

Thanks again,
Ted
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20070715/d09a8a35/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20070715/d09a8a35/attachment-0001.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ASTTree.png
Type: image/png
Size: 8276 bytes
Desc: not available
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20070715/d09a8a35/attachment-0001.png">http://www.antlr.org/pipermail/antlr-interest/attachments/20070715/d09a8a35/attachment-0001.png</A> 
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022521.html">[antlr-interest] Parser code is too large(1.68)! (newbie)
</A></li>
	<LI>Next message: <A HREF="022524.html">[antlr-interest] C# 2.0 ANTLR grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22523">[ date ]</a>
              <a href="thread.html#22523">[ thread ]</a>
              <a href="subject.html#22523">[ subject ]</a>
              <a href="author.html#22523">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
