<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] RE: Re: Re: yet another java 1.5 grammar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20RE%3A%20Re%3A%20Re%3A%20yet%20another%20java%201.5%20grammar&In-Reply-To=pan.2004.08.31.15.21.35.549761%40informatik.uni-ulm.de">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009206.html">
   <LINK REL="Next"  HREF="009165.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] RE: Re: Re: yet another java 1.5 grammar</H1>
    <B>Michael Studman</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20RE%3A%20Re%3A%20Re%3A%20yet%20another%20java%201.5%20grammar&In-Reply-To=pan.2004.08.31.15.21.35.549761%40informatik.uni-ulm.de"
       TITLE="[antlr-interest] RE: Re: Re: yet another java 1.5 grammar">mstudman at gmx.net
       </A><BR>
    <I>Tue Aug 31 09:37:44 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009206.html">[antlr-interest] RE: Re: Re: yet another java 1.5 grammar
</A></li>
        <LI>Next message: <A HREF="009165.html">[antlr-interest] ANTLR274 for C++: Why do I get those warnings on MSVS.NET 7.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9207">[ date ]</a>
              <a href="thread.html#9207">[ thread ]</a>
              <a href="subject.html#9207">[ subject ]</a>
              <a href="author.html#9207">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Michael.

&gt;<i> cool! but it seems like you missed one...
</I>&gt;<i> in rule postfixExpression:
</I>&gt;<i> DOT &quot;super&quot;    should be    DOT typeArguments? &quot;super&quot;
</I>&gt;<i> (which will make some refactoring necessary there)
</I>
I must have overlooked this, I'll check it out.

&gt;<i> &gt; * It does not support annotation fields with C-style array syntax:
</I>&gt;<i> &gt; @interface MyAnno
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt; 	int name4()[]; //vs int[] name4();
</I>&gt;<i> &gt; }
</I>&gt;<i> 
</I>&gt;<i> afaik this is correct, i.e. the above example is invalid.
</I>&gt;<i> see the draft of jls 3rd ed. that is in jsr14 public final draft
</I>&gt;<i> chapter 9 page 13 (page 271):
</I>&gt;<i> in production AnnotationTypeElementDeclaration, the only thing
</I>&gt;<i> that can follow the pair of parens is DefaultValue_opt.
</I>
If you're following the letter of the spec, then yes, you are correct
since the production for annotation fields makes no reference to this
antiquated syntactic variant. Similarly, the production for interface
methods (JLS 3rd ed. 9.4) makes no reference to it either. The
production for class fields, of course, allows this (8.4.1).

The reality is that every javac compiler I've used has allowed interface
methods to use this syntax in addition to the valid use on class
methods. Similarly, the javac that shipped with JDK 1.5 beta 2 allows
this syntax on annotation fields hence why I included it in my grammar.

I'm going to keep it in my grammar for the time being. I think it's
better to be slightly more lenient yet in-sync with the most popular
compiler than to follow the spec to its letter but reject source that is
accepted by the said compiler (unless, of course, you want to build a
precisely compliant compiler). If the next beta/full release of the
JDK/javac cans this unspecified syntax acceptance then there's no real
reason to keep it in my grammar.

If you don't want to include it in yours then the consistent approach
would probably be to remove this from interface methods too.

&gt;<i> 
</I>&gt;<i> PS: now how do i upload my fixed grammar? there is no &quot;update grammar&quot;
</I>&gt;<i> button that i can see... shold i just add it again and hope someone
</I>&gt;<i> removes the old one? or should i mail it to someone who can update?
</I>&gt;<i> : now how do i upload my fixed grammar? there is no &quot;update grammar&quot;
</I>&gt;<i> 
</I>
Send to Terrence and he'll update it for you.

Michael.

---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (<A HREF="http://www.grisoft.com">http://www.grisoft.com</A>).
Version: 6.0.745 / Virus Database: 497 - Release Date: 27/08/2004
 



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
    <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
    <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
    <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009206.html">[antlr-interest] RE: Re: Re: yet another java 1.5 grammar
</A></li>
	<LI>Next message: <A HREF="009165.html">[antlr-interest] ANTLR274 for C++: Why do I get those warnings on MSVS.NET 7.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9207">[ date ]</a>
              <a href="thread.html#9207">[ thread ]</a>
              <a href="subject.html#9207">[ subject ]</a>
              <a href="author.html#9207">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
