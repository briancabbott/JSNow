<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Common token vocabulary
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Common%20token%20vocabulary&In-Reply-To=%3Cf2a23719d8a360e8e55fde21ca4b78aa%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045108.html">
   <LINK REL="Next"  HREF="045110.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Common token vocabulary</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Common%20token%20vocabulary&In-Reply-To=%3Cf2a23719d8a360e8e55fde21ca4b78aa%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Common token vocabulary">jimi at temporal-wave.com
       </A><BR>
    <I>Wed Aug 22 15:04:42 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="045108.html">[antlr-interest] Common token vocabulary
</A></li>
        <LI>Next message: <A HREF="045110.html">[antlr-interest] Common token vocabulary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45109">[ date ]</a>
              <a href="thread.html#45109">[ thread ]</a>
              <a href="subject.html#45109">[ subject ]</a>
              <a href="author.html#45109">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It's easier than that.

List your tokens in a file (mytokens.tokens), copying the trivial output
style of one of your lexers. Add all the tokens for both lexers. Then use
the vocab=mytokens; option in both of your lexers. Just make sure that the
token numbers are contiguous, and that they are not duplicate. Also, make
sure you add to the list if you add new rules.

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Richard Knox
</I>&gt;<i> Sent: Wednesday, August 22, 2012 2:53 PM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] Common token vocabulary
</I>&gt;<i>
</I>&gt;<i> I have an ANTLR based application that parses either of two variations
</I>&gt;<i> of a target language. The two variations have a mostly common
</I>&gt;<i> vocabulary. There are around 200 tokens in common and less than 10
</I>&gt;<i> specific to one variations or the other. I want to token types for the
</I>&gt;<i> common vocabulary tokens to be the same for both language variations so
</I>&gt;<i> that I can reference token types in custom Java code that is used by
</I>&gt;<i> both variations.
</I>&gt;<i>
</I>&gt;<i> I had a solution working with ANTLR 3.1 that put the common tokens in a
</I>&gt;<i> base vocabulary lexer grammar. The base vocabulary grammar was imported
</I>&gt;<i> into combined lexer/parse grammars, one for each language variation.
</I>&gt;<i> ANTLR 3.1 generated token types in the order the token appeared, so the
</I>&gt;<i> common vocabulary tokens had the same types in both language
</I>&gt;<i> variations. The variation specific tokens were then assigned larger
</I>&gt;<i> numbers.
</I>&gt;<i>
</I>&gt;<i> I'm currently attempting to upgrade this to ANTLR 3.4, and have run
</I>&gt;<i> into a problem. ANTLR 3.4 seems to alpha sort the tokens by name before
</I>&gt;<i> assigning token types. This mixes variation specific tokens with common
</I>&gt;<i> vocabulary tokens, and the type numbers no longer match for the common
</I>&gt;<i> tokens.
</I>&gt;<i>
</I>&gt;<i> Is there a better way to accomplish this in ANTLR 3.4? Thanks.
</I>&gt;<i>
</I>&gt;<i> -rich
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> email-address
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045108.html">[antlr-interest] Common token vocabulary
</A></li>
	<LI>Next message: <A HREF="045110.html">[antlr-interest] Common token vocabulary
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45109">[ date ]</a>
              <a href="thread.html#45109">[ thread ]</a>
              <a href="subject.html#45109">[ subject ]</a>
              <a href="author.html#45109">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
