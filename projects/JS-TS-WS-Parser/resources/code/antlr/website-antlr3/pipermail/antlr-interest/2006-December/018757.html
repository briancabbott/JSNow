<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR 3 rewrite rule syntax
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ANTLR%203%20rewrite%20rule%20syntax&In-Reply-To=20061204171913.GA4732%40badgers-in-foil.co.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018743.html">
   <LINK REL="Next"  HREF="018736.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR 3 rewrite rule syntax</H1>
    <B>Shmuel Siegel</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ANTLR%203%20rewrite%20rule%20syntax&In-Reply-To=20061204171913.GA4732%40badgers-in-foil.co.uk"
       TITLE="[antlr-interest] ANTLR 3 rewrite rule syntax">ssiegel at finjan.com
       </A><BR>
    <I>Mon Dec  4 17:42:24 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018743.html">[antlr-interest] ANTLR 3 rewrite rule syntax
</A></li>
        <LI>Next message: <A HREF="018736.html">[antlr-interest] ast rewrite
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18757">[ date ]</a>
              <a href="thread.html#18757">[ thread ]</a>
              <a href="subject.html#18757">[ subject ]</a>
              <a href="author.html#18757">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The &quot;artificially add a subrule&quot; method works and it is at least linear
in the conditionals. The conditional rewrite method is combinatorial in
the conditionals and can easily get out of hand.
I was hoping that the rewrite rule syntax itself could handle the
individual conditionals and repetition factors as that would allow me to
keep the grammar oriented to the input instead of the output.
Oh well, I guess this will become a 3.1 enhancement request since there
are workarounds.

Thanks for the feedback,
Shmuel

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of David Holroyd
Sent: Monday, December 04, 2006 7:19 PM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] ANTLR 3 rewrite rule syntax

On Mon, Dec 04, 2006 at 03:56:45PM +0200, Shmuel Siegel wrote:
&gt;<i> Consider 
</I>&gt;<i> 
</I>&gt;<i> rule : A? B (id+)=C*
</I>&gt;<i> 
</I>&gt;<i> I know that I can write -&gt; A? MYTOKEN[$B] $id*
</I>&gt;<i> 
</I>&gt;<i> But how can I make private tokens from &quot;A&quot; and &quot;C&quot;. Ultimately &quot;C&quot; can
</I>&gt;<i> be handled by a subrule but how do I issue a conditional token in my
</I>&gt;<i> rewrite. MYTOKEN[$A?] and MYTOKEN[$A]? don't seem to work.
</I>
In addition to Jim's suggestion, you could also push &quot;A&quot; into another
rule:

  rule : myA? B (id+=C)*  -&gt; myA? MYTOKEN[$B] $id
       ;
  myA  : A -&gt; MYTOKEN[$A]
       ;


ta,
dave

-- 
<A HREF="http://david.holroyd.me.uk/">http://david.holroyd.me.uk/</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018743.html">[antlr-interest] ANTLR 3 rewrite rule syntax
</A></li>
	<LI>Next message: <A HREF="018736.html">[antlr-interest] ast rewrite
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18757">[ date ]</a>
              <a href="thread.html#18757">[ thread ]</a>
              <a href="subject.html#18757">[ subject ]</a>
              <a href="author.html#18757">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
