<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Don't want to pervert reference grammar like Terence Parr one on Java 1.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Don%27t%20want%20to%20pervert%20reference%20grammar%20like%0A%20Terence%20Parr%20one%20on%20Java%201.5&In-Reply-To=%3C491B570F.2060606%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031537.html">
   <LINK REL="Next"  HREF="031568.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Don't want to pervert reference grammar like Terence Parr one on Java 1.5</H1>
    <B>Yang Jiang</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Don%27t%20want%20to%20pervert%20reference%20grammar%20like%0A%20Terence%20Parr%20one%20on%20Java%201.5&In-Reply-To=%3C491B570F.2060606%40gmail.com%3E"
       TITLE="[antlr-interest] Don't want to pervert reference grammar like Terence Parr one on Java 1.5">yang.jiang.z at gmail.com
       </A><BR>
    <I>Wed Nov 12 14:22:07 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="031537.html">[antlr-interest] Don't want to pervert reference grammar like Terence Parr one on Java 1.5
</A></li>
        <LI>Next message: <A HREF="031568.html">[antlr-interest] Don't want to pervert reference grammar like	Terence Parr one on Java 1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31538">[ date ]</a>
              <a href="thread.html#31538">[ thread ]</a>
              <a href="subject.html#31538">[ subject ]</a>
              <a href="author.html#31538">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Another way I can think of is to automatically generate a grammar (from 
the java or sql grammar) which builds a general
data structure, like a tree, then you can do your work on top of that 
and not worrying about the original grammar getting changed.

Then the problems left here is whether or not the metrics you want to 
calculate can be general enough to auto-generate :)
I once wrote such a grammar based on the ANTLRv3 grammar 
(<A HREF="http://www.antlr.org/grammar/ANTLR/ANTLRv3.g">http://www.antlr.org/grammar/ANTLR/ANTLRv3.g</A>) and using rewrite stream,
which converts a java grammar to generate parsing trees. It worked quite 
well.

Cheers,
Yang





Johannes Luber wrote:
&gt;<i> Freddy Mallet schrieb:
</I>&gt;<i>   
</I>&gt;&gt;<i> Hi all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'd like to create my own Open Source library to calculate metrics on
</I>&gt;&gt;<i> java and pl/sql source code. Those metrics could be lines of code,
</I>&gt;&gt;<i> cyclomatic complexity, maintainability index (SEI), etc. I've studied
</I>&gt;&gt;<i> javacc and antlr, then read the definitive ANTLR Reference.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> At that point, I guess I've enough material to begin writing this
</I>&gt;&gt;<i> library but ... there is a recurring question I can't evacuate from my
</I>&gt;&gt;<i> brain.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Here is my issue : on the shelf, there is already two reference grammars
</I>&gt;&gt;<i> available to parse java and pl/sql. Of course, those two reference
</I>&gt;&gt;<i> grammars will evolve in time to follow java and pl/sql evolutions.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Tomorrow, beginning to touch those two grammars to build my own AST or
</I>&gt;&gt;<i> to add my own actions on rules is equivalent to create a new branch on a
</I>&gt;&gt;<i> source code. After few months, the differences between the grammars will
</I>&gt;&gt;<i> be so important that I couldn't synchronize them. So after a while, I
</I>&gt;&gt;<i> couldn't capitalize on ANTLR community work.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That's exactly what happens currently to JavaNCSS library. The library
</I>&gt;&gt;<i> used javacc and all work has been done from a Java 1.1 grammar which has
</I>&gt;&gt;<i> now great difficulty to evolve.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So, is there an abstraction mechanism which allow us to use on the shelf
</I>&gt;&gt;<i> grammars without modifying them directly ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks for your help,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Freddy
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> AFAIK, there is a whitepaper on a tool named gdiff, which would be a
</I>&gt;<i> specialized diff for grammars. It would ignore actions and focus only on
</I>&gt;<i> the grammar structure. But I don't know how far the implementation has
</I>&gt;<i> been realized.
</I>&gt;<i>
</I>&gt;<i> Johannes
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> -- 
</I>&gt;&gt;<i> Freddy Mallet,
</I>&gt;&gt;<i> Sonar , Embrace Quality
</I>&gt;&gt;<i> <A HREF="http://sonar.codehaus.org">http://sonar.codehaus.org</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ------------------------------------------------------------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>&gt;<i>   
</I>
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031537.html">[antlr-interest] Don't want to pervert reference grammar like Terence Parr one on Java 1.5
</A></li>
	<LI>Next message: <A HREF="031568.html">[antlr-interest] Don't want to pervert reference grammar like	Terence Parr one on Java 1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31538">[ date ]</a>
              <a href="thread.html#31538">[ thread ]</a>
              <a href="subject.html#31538">[ subject ]</a>
              <a href="author.html#31538">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
