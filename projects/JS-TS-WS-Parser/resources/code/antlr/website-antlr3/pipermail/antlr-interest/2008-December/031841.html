<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] running a second lexer on unbounded input
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20running%20a%20second%20lexer%20on%20unbounded%20input&In-Reply-To=%3C1228254560.14131.249.camel%40jimi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031838.html">
   <LINK REL="Next"  HREF="031839.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] running a second lexer on unbounded input</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20running%20a%20second%20lexer%20on%20unbounded%20input&In-Reply-To=%3C1228254560.14131.249.camel%40jimi%3E"
       TITLE="[antlr-interest] running a second lexer on unbounded input">jimi at temporal-wave.com
       </A><BR>
    <I>Tue Dec  2 13:49:20 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="031838.html">[antlr-interest] running a second lexer on unbounded input
</A></li>
        <LI>Next message: <A HREF="031839.html">[antlr-interest] running a second lexer on unbounded input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31841">[ date ]</a>
              <a href="thread.html#31841">[ thread ]</a>
              <a href="subject.html#31841">[ subject ]</a>
              <a href="author.html#31841">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 2008-12-02 at 14:52 -0500, Ernest Pasour wrote:

&gt;<i> I have been working with a grammar for ActionScript, which is a rather freeform language.  One expression type that is allowed in the source code is raw xml.  For instance, the following code is legal:
</I>&gt;<i> 
</I>&gt;<i> var x:XML=&lt;a&gt;
</I>&gt;<i>    &lt;/a&gt;;
</I>&gt;<i> 
</I>&gt;<i> Or
</I>&gt;<i> 
</I>&gt;<i> //note the lack of semicolon
</I>&gt;<i> var x:XML=&lt;a&gt;
</I>&gt;<i>    &lt;/a&gt;
</I>&gt;<i> var i:int;
</I>&gt;<i> 
</I>&gt;<i> What is the best Antlr strategy for running a second lexer ?  I'm not an Antlr expert, but I think I want a second lexer that will process the same input stream that the main lexer started with (as opposed to having to hand-code an XML lexer to consume text inside an action or creating a separate input stream from the rest of the input document).   Will a sub-lexer work if the input has &quot;extra&quot; input on the end?  Is there a standard strategy for this type of problem in Antlr?
</I>

A second lexer is the best strategy. I used this approach for VB.Net for
instance. Essentially the lexer does all the work of finding the end of
the XML string and returns XML as a token, then you hand off XML parsing
to something else. Just be careful about encoding error detection
strategies into the lexer rules or error recovery is tough. Getting the
trigger points for the second lexer is also a little tricky as you need
to do it with minimal context. But as XML can only follow certain
things, such as '=', then =&lt; is a trigger point and so on.

Jim


&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Ernest
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i> 
</I>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20081202/c2ce9c6b/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20081202/c2ce9c6b/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031838.html">[antlr-interest] running a second lexer on unbounded input
</A></li>
	<LI>Next message: <A HREF="031839.html">[antlr-interest] running a second lexer on unbounded input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31841">[ date ]</a>
              <a href="thread.html#31841">[ thread ]</a>
              <a href="subject.html#31841">[ subject ]</a>
              <a href="author.html#31841">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
