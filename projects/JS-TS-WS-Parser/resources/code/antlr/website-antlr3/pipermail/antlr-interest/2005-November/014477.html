<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Antlr 3 and the newline token problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Antlr%203%20and%20the%20newline%20token%20problem&In-Reply-To=000501c5f202%24f97d6c10%246b02a8c0%40hercules">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014472.html">
   <LINK REL="Next"  HREF="014480.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Antlr 3 and the newline token problem</H1>
    <B>Martin Probst</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Antlr%203%20and%20the%20newline%20token%20problem&In-Reply-To=000501c5f202%24f97d6c10%246b02a8c0%40hercules"
       TITLE="[antlr-interest] Antlr 3 and the newline token problem">mail at martin-probst.com
       </A><BR>
    <I>Fri Nov 25 15:28:35 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014472.html">[antlr-interest] Antlr 3 and the newline token problem
</A></li>
        <LI>Next message: <A HREF="014480.html">[antlr-interest] Antlr 3 and the newline token problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14477">[ date ]</a>
              <a href="thread.html#14477">[ thread ]</a>
              <a href="subject.html#14477">[ subject ]</a>
              <a href="author.html#14477">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Am Freitag, den 25.11.2005, 20:58 +0000 schrieb Micheal J:
&gt;<i> Please don't post HTML mail to the list. 
</I>
Yeah, please don't do that. You too ;-)

&gt;<i> WS : '\r' '\n' {newline();}
</I>&gt;<i>        | '\r'    {newline();}
</I>&gt;<i>        | '\n'   {newline();}
</I>&gt;<i>      ;
</I>
What about

NL: (('\r' ( '\n' /* Windows */ | /* empty, MAC OS &lt;=9 */ )
    ) | '\n' /* the proper way ... */ ) { newline(); };

(untested, but works, doesn't it?).

It's a documentation issue, just put it into a prominently linked FAQ.
Also tell people which method to override in case they want to count
from 0 (e.g. &quot;return super.getLine() - 1;&quot;).

I would opt against doing the newline magic behind the scenes
automagically. Doing newlines properly is a good exercise to get started
with ANTLR, and those who can't get it to work with some documentation
have much bigger problems. On the other hand, there are people parsing
binary files (line what?), people using Eclipse (that's the offset
people ;-)), people who want to provide proper line/column numbers to
users. It's easy to do all of these, just some minor Java work. IMHO
ANTLR should keep out of that business.

Martin

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014472.html">[antlr-interest] Antlr 3 and the newline token problem
</A></li>
	<LI>Next message: <A HREF="014480.html">[antlr-interest] Antlr 3 and the newline token problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14477">[ date ]</a>
              <a href="thread.html#14477">[ thread ]</a>
              <a href="subject.html#14477">[ subject ]</a>
              <a href="author.html#14477">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
