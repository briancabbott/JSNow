<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLRWorks editor slow down
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLRWorks%20editor%20slow%20down&In-Reply-To=%3C57B38C1C-B49E-4D6C-8BFF-891980AFF6BE%40los-alamos.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037474.html">
   <LINK REL="Next"  HREF="037478.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLRWorks editor slow down</H1>
    <B>William B. Clodius</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLRWorks%20editor%20slow%20down&In-Reply-To=%3C57B38C1C-B49E-4D6C-8BFF-891980AFF6BE%40los-alamos.net%3E"
       TITLE="[antlr-interest] ANTLRWorks editor slow down">wclodius at los-alamos.net
       </A><BR>
    <I>Mon Feb  1 18:37:04 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037474.html">[antlr-interest] ANTLRWorks editor slow down
</A></li>
        <LI>Next message: <A HREF="037478.html">[antlr-interest] ANTLRWorks editor slow down
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37476">[ date ]</a>
              <a href="thread.html#37476">[ thread ]</a>
              <a href="subject.html#37476">[ subject ]</a>
              <a href="author.html#37476">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Terr:

What I have noticed with ANTLRWorks. The first version I started with didn't seem to have the performance and stability problems. My current version 1.3.1 does have them. I think I went through two semi-automatic upgrades (Two notifications that upgrades were available which I naturally accepted.) This version checks for ANTLR syntax errors with every keystroke, which I don't recall for my first version. So I would definitely check out recent changes.

The slowdown takes a while to appear. I think I have it more often when I am working with the string template generator files than with my large toy grammar, but I have definitely seen it with both. FWIW my suspicion is a memory leak, but there are other possibilities. I believe there was talk a few months ago of using Java's unbuffered IO as the default for ANTLR itself, which can have serious performance problems, but I suspect is not the cause here. Java's poor default hash function could also be a contributor, but that suspicion could just be because I am reading Valloud's text, and he has strong opinions on that topic.

On Feb 1, 2010, at 12:40 PM, Terence Parr wrote:

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Jean and I are re-factoring ANTLRWorks to be much simpler in anticipation of me taking over maintenance and adding features. The first thing I want to do is find out why AW sometimes slows to a crawl. I can't seem to reproduce it when I want to, although it was really really slow the other day before I decided to debug it! ;)  
</I>&gt;<i> 
</I>&gt;<i> So, I need your help to figure out when it occurs so that it will give me a clue about where to look in the source code.   My impression is that one of the triggers seems to be when there are lots of errors. But, when I added a whole bunch of grammar windows and then started randomly inserting errors all over the grammar, memory usage didn't really go up and it didn't slow down at all (lots other errors to the console, but that's it). I wonder though if it was getting more memory available to it in the debugger than when I run it from the jar file. Also, I note that sometimes undo is extremely slow, so that is also a potential area to look.
</I>&gt;<i> 
</I>&gt;<i> My current candidates for slowdown:
</I>&gt;<i> 
</I>&gt;<i> * running out of memory and thrashing
</I>&gt;<i> * undo mechanism is tracking too much or something
</I>&gt;<i> * error mechanism somehow  tracks too much or has too much work to do
</I>&gt;<i> 
</I>&gt;<i> Each keystroke triggers colorizing the editor window, but Jean tells me he's sure that the parser itself is okay. might be the error handling though.
</I>&gt;<i> 
</I>&gt;<i> Can anybody reproduce a case where you start ANTLRWorks and then do some stuff in the editor window with a grammar (of any size) and it starts to get really slow to type? Even if you can't send me your grammar, I can send you an instrumented version of AW that will turn out some information about what is going on.
</I>&gt;<i> 
</I>&gt;<i> Thanks! This is my highest priority for AW since I'm using it to build v4 ANTLR.
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Ter
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i> 
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037474.html">[antlr-interest] ANTLRWorks editor slow down
</A></li>
	<LI>Next message: <A HREF="037478.html">[antlr-interest] ANTLRWorks editor slow down
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37476">[ date ]</a>
              <a href="thread.html#37476">[ thread ]</a>
              <a href="subject.html#37476">[ subject ]</a>
              <a href="author.html#37476">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
