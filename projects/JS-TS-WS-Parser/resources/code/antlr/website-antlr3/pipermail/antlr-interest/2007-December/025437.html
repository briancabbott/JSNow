<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] check validity of single rule
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20check%20validity%20of%20single%20rule&In-Reply-To=%3C6F760121-86F7-4712-AFF3-EBF47DD66B09%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025434.html">
   <LINK REL="Next"  HREF="025438.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] check validity of single rule</H1>
    <B>Philippe Faes</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20check%20validity%20of%20single%20rule&In-Reply-To=%3C6F760121-86F7-4712-AFF3-EBF47DD66B09%40gmail.com%3E"
       TITLE="[antlr-interest] check validity of single rule">philippe.faes at gmail.com
       </A><BR>
    <I>Mon Dec 31 02:55:52 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025434.html">[antlr-interest] Smalltalk grammar
</A></li>
        <LI>Next message: <A HREF="025438.html">[antlr-interest] check validity of single rule
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25437">[ date ]</a>
              <a href="thread.html#25437">[ thread ]</a>
              <a href="subject.html#25437">[ subject ]</a>
              <a href="author.html#25437">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Johannes,

Thanks for your response.
I am indeed checking rules buried deep in the grammar, and I want to  
test individual generation rules.
I have a very large grammar, and it would be painful to create at  
foobarTest rule for each existing rule foobar. It's great that antlr  
does graceful recovery after errors, but there must be a way to check  
if a string confoms to a rule, right?
I plan on checking a lot of generation rules with a lot of examples,  
so it should be as simple as possible.

thanks

Philippe Faes schrieb:
 &gt; Hi all,
 &gt;
 &gt; I want to write tests for my grammar, but I can't figure out how  
to get
 &gt; the correct feedback from ANTLR.
 &gt;
 &gt; e.g. I want this to pass:
 &gt; createParserFromString(&quot;a:=b;&quot;).assignment();
 &gt;
 &gt; but this should fail:
 &gt; createParserFromString(&quot;a:=b&quot;).assignment(); // no semicolon
 &gt; createParserFromString(&quot;a:=b; #$%&quot;).assignment(); // junk after  
statement
 &gt;
 &gt; From the return value I can see if an 'assignment' is matched from  
the
 &gt; text, but I cannot detect if there is junk after the valid  
assignment.
 &gt;
 &gt; Any hints?

Do you use EOF at the end of an assignment? In case, assignment is
deeply buried in the grammar, I suppose that you aren't testing for the
right thing. assignment may be responsible for only one statement. So my
advice is to test several statements in a row at the appropriate rule.
Or you could create:

assignmentTest: assignment EOF;

which should reject example 2.

Johannes
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20071231/8462092c/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20071231/8462092c/attachment.html</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025434.html">[antlr-interest] Smalltalk grammar
</A></li>
	<LI>Next message: <A HREF="025438.html">[antlr-interest] check validity of single rule
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25437">[ date ]</a>
              <a href="thread.html#25437">[ thread ]</a>
              <a href="subject.html#25437">[ subject ]</a>
              <a href="author.html#25437">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
