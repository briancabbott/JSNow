<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Keeping all the data in RAM...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Keeping%20all%20the%20data%20in%20RAM...&In-Reply-To=A32246C6-1205-415B-8BB8-EFDA3172FBC8%40cs.usfca.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012545.html">
   <LINK REL="Next"  HREF="012547.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Keeping all the data in RAM...</H1>
    <B>Scott Stanchfield</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Keeping%20all%20the%20data%20in%20RAM...&In-Reply-To=A32246C6-1205-415B-8BB8-EFDA3172FBC8%40cs.usfca.edu"
       TITLE="[antlr-interest] Keeping all the data in RAM...">scott at javadude.com
       </A><BR>
    <I>Sat Jun  4 18:08:10 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012545.html">[antlr-interest] Recovering white space in V3.0
</A></li>
        <LI>Next message: <A HREF="012547.html">[antlr-interest] Recovering white space in V3.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12549">[ date ]</a>
              <a href="thread.html#12549">[ thread ]</a>
              <a href="subject.html#12549">[ subject ]</a>
              <a href="author.html#12549">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &gt; Can you define &quot;common&quot; and &quot;extreme&quot; in this context?
</I>
No offense guys, but from my experience, I think Ter, John and Loring's
definition of &quot;common&quot; is quite limited. This is based on many of the
discussions we've had on this list over the past few months as well as
previous experience.

I believe they feel that ANTLR is used mostly for single-run (possibly
multipass) translators, such as compilers.

This is most definitely not the case. While there are some tools like this,
ANTLR is very heavily used in applications that have a much longer lifespan,
and therefore can have a much higher performance impact. (Apps such as
server-side apps parsing expressions/translating things like JSP;
development apps like checkstyle which are run automatically everytime I
save in eclipse, and so forth)

[Note: My usage is for xml parsing and parsing small expressions that appear
several times in a *very* memory sensitive application, esp under embedded
constraints. Basically next-gen TiVo-like stuff. We're trying to trim
everything we can...]

Thinking of &quot;common&quot; in terms of the size of the input being parsed for this
question, I think the &quot;common&quot; input size is reasonably-sized (such as
expression strings [I think JSTL uses ANTLR] and java source files).

For &quot;extreme&quot;, I don't think 2G files are the issue. Keep in mind that
people don't run their java apps at 2G (most leave it at 64M and don't even
realize they can change it!). Heck, most folks don't have that much RAM (I'd
wager most computer users are 256M and under, with developers at perhaps
512M or 1G. I *just* got a 2G machine, and that was still a bit pricey.)

Considering that parsing is &quot;simply&quot; data input for an application, and that
the application is probably using a lot of memory itself, this could become
a huge issue.


What's the #1 reason folks don't use DOM to parse XML? It reads the entire
tree into RAM...


Face it, large files are becoming more and more commonplace.

I am happy to hear that this behavior can be avoided. Simple expressions or
java source code, won't be an issue, but I think many people will need to
special-case the behavior.


Bottom line: This needs to be a documented &quot;gotcha&quot; with a well-explained
work-around.

Better: A simple switch to toggle the behavior.

Note that I do like that all of that data is kept, as for compilers and such
that extra info is really handy... But be careful of the assumptions you're
making about the types of applications being written. I'd wager that 80+% of
the apps won't care about preserving whitespace or delimeter chars (like
parens) and thus you're wasting valuable RAM.

Later,
-- Scott



</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012545.html">[antlr-interest] Recovering white space in V3.0
</A></li>
	<LI>Next message: <A HREF="012547.html">[antlr-interest] Recovering white space in V3.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12549">[ date ]</a>
              <a href="thread.html#12549">[ thread ]</a>
              <a href="subject.html#12549">[ subject ]</a>
              <a href="author.html#12549">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
