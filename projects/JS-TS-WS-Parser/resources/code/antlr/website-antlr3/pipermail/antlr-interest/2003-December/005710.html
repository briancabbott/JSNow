<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Bad Token-type to AST-Class map in 2.7.2 Java; broken release
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Bad%20Token-type%20to%20AST-Class%20map%20in%202.7.2%20Java%3B%20broken%20release&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005711.html">
   <LINK REL="Next"  HREF="005832.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Bad Token-type to AST-Class map in 2.7.2 Java; broken release</H1>
    <B>random_uv</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Bad%20Token-type%20to%20AST-Class%20map%20in%202.7.2%20Java%3B%20broken%20release&In-Reply-To="
       TITLE="[antlr-interest] Bad Token-type to AST-Class map in 2.7.2 Java; broken release">thomasw at sce-tech.com
       </A><BR>
    <I>Fri Dec  5 23:34:53 PST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005711.html">[antlr-interest] Re: Swapping root node
</A></li>
        <LI>Next message: <A HREF="005832.html">[antlr-interest] Bad Token-type to AST-Class map in 2.7.2 Java; broken release
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5710">[ date ]</a>
              <a href="thread.html#5710">[ thread ]</a>
              <a href="subject.html#5710">[ subject ]</a>
              <a href="author.html#5710">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, just diagnosed 2.7.2 as problematic and gone back to 2.7.0.

Problem is tokens declared with string literal:

IMPORT_ON_DEMAND          &lt;AST=persist.qtree.Node&gt;;
THIS = &quot;this&quot;             &lt;AST=persist.qtree.ThisExpr&gt;;
ASCENDING = &quot;ascending&quot;   &lt;AST=persist.qtree.AscendingOrderingExpr&gt;;

Generates a broken TokenType to AST ClassMap.

tokenTypeToASTClassMap.put(new Integer(IMPORT_ON_DEMAND),
  persist.qtree.Node.class);
tokenTypeToASTClassMap.put(new Integer(&quot;this&quot;),
  persist.qtree.ThisExpr.class);
tokenTypeToASTClassMap.put(new Integer(&quot;ascending&quot;),
  persist.qtree.AscendingOrderingExpr.class);

Note that tokens without string (literals?) assigned are OK as they 
are mapping by integer constants; but tokens with strings are 
generated broken with the strings as map IDs.

Proceeding with 2.7.0 for now. Anyone else seen this problem?


Regards,
Thomas


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005711.html">[antlr-interest] Re: Swapping root node
</A></li>
	<LI>Next message: <A HREF="005832.html">[antlr-interest] Bad Token-type to AST-Class map in 2.7.2 Java; broken release
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5710">[ date ]</a>
              <a href="thread.html#5710">[ thread ]</a>
              <a href="subject.html#5710">[ subject ]</a>
              <a href="author.html#5710">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
