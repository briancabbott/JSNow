<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] GCJ
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20GCJ&In-Reply-To=20030714112808.A28461%40cs.utwente.nl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004508.html">
   <LINK REL="Next"  HREF="004510.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] GCJ</H1>
    <B>Robert Colquhoun</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20GCJ&In-Reply-To=20030714112808.A28461%40cs.utwente.nl"
       TITLE="[antlr-interest] GCJ">rjc at trump.net.au
       </A><BR>
    <I>Mon Jul 14 06:06:49 PDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="004508.html">[antlr-interest] GCJ
</A></li>
        <LI>Next message: <A HREF="004510.html">[antlr-interest] GCJ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4509">[ date ]</a>
              <a href="thread.html#4509">[ thread ]</a>
              <a href="subject.html#4509">[ subject ]</a>
              <a href="author.html#4509">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 11:28 AM 14/07/2003 +0200, Ric Klaren wrote:
&gt;<i>On Mon, Jul 14, 2003 at 12:19:32PM +1000, Robert Colquhoun wrote:
</I>&gt;<i> &gt; I also looked at the 2.7.2 configure/make/make install system - that
</I>&gt;<i> &gt; appears to have got out of step with the java antlr.build system.  For
</I>&gt;<i> &gt; instance antlr.jar is only the runtime if built with configure/make but is
</I>&gt;<i> &gt; the whole lot if done with antlr.build
</I>&gt;<i>
</I>&gt;<i>That's already fixed in my devel snapshots. Ter changed this shortly before
</I>&gt;<i>release and I missed because I had too little time to retest the stuff
</I>&gt;<i>before release.
</I>
ok.

&gt;<i> &gt; Also java source files are kind of different from C/C++ there are no
</I>&gt;<i> &gt; includes(making for a much faster compile) and dependencies can be very
</I>&gt;<i> &gt; complicated it might be better if the configure/make system just compiles
</I>&gt;<i> &gt; everything from scratch.  This would also get rid of the 300k java_deps
</I>&gt;<i> &gt; file reducing download size.
</I>&gt;<i>
</I>&gt;<i>I started to use that stuff after java screwed up dependencies on me a few
</I>&gt;<i>times. Maybe that it's better now. In general this makefile thing compiles
</I>&gt;<i>antlr's java stuff faster than default javac on all the files on my Sun.
</I>&gt;<i>Also it builds along all the other antlr stuff I'm interested in.
</I>
But does it do a correct compile?

As soon as you make a java change you need to recalculate the dependency 
tree using some tool.  That's not happening with the configure/make stuff 
at the moment there is only the original dependencies.

&gt;<i>I considered using Terence's java built for it when I fixed the stuff when
</I>&gt;<i>I fixed it after 2.7.2 release, decided against it though since the
</I>&gt;<i>configure script catches some stuff that needed to be caught anyway and I
</I>&gt;<i>don't want to do a javac `find . *.java` etc. to do small recompiles on my
</I>&gt;<i>system since it's slow.
</I>
How long?

&gt;<i>After compress that java_deps file only amounts to 23k nothing to get
</I>&gt;<i>excited about ;) It is generated with Bob Werken's javad (which again uses
</I>&gt;<i>antlr) so I have faith in the quality of the dependencies.
</I>
Yes but javad is *not* shipped with antlr....java_deps is out of date as 
soon as you make a change to the java code.

&gt;<i>Currently I don't see reasons to meddle with my Makefile system anymore, it
</I>&gt;<i>works. At a later point I might change it to use Terence's java build tool.
</I>
I have been trying to get the java build tool to work better.

At the moment there is a nasty cyclical dependency between antlr.Tool and 
antlr.g.  The current build system assumes antlr.Tool classes and the Lexer 
and Parser classes from antlr.g are available to bootstrap the 
system....not sure if there is another way around this.

I should also mention the configure/make system requires cygwin or similar 
to work on windows which makes it hard to use for windows developers who 
have no unix experience.

I have managed to get an antlr.exe to build on cygwin for windows.  It is a 
bit rough though the gcj compiler(version 3.2.0 prerelease) refused to 
compile finally clauses plus multiple problems in the collections.impl and 
debug classes.

  - Robert


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004508.html">[antlr-interest] GCJ
</A></li>
	<LI>Next message: <A HREF="004510.html">[antlr-interest] GCJ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4509">[ date ]</a>
              <a href="thread.html#4509">[ thread ]</a>
              <a href="subject.html#4509">[ subject ]</a>
              <a href="author.html#4509">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
