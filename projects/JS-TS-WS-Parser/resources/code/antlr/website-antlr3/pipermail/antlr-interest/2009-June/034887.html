<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] CSharp GeneratedCode attribute
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20CSharp%20GeneratedCode%20attribute&In-Reply-To=%3C86403CA0939415448BCCB83855EFE09AA68265%40Bloodymary.ironwillgames.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034878.html">
   <LINK REL="Next"  HREF="034908.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] CSharp GeneratedCode attribute</H1>
    <B>Sam Harwell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20CSharp%20GeneratedCode%20attribute&In-Reply-To=%3C86403CA0939415448BCCB83855EFE09AA68265%40Bloodymary.ironwillgames.com%3E"
       TITLE="[antlr-interest] CSharp GeneratedCode attribute">sharwell at pixelminegames.com
       </A><BR>
    <I>Sun Jun 14 05:31:34 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="034878.html">[antlr-interest] CSharp GeneratedCode attribute
</A></li>
        <LI>Next message: <A HREF="034908.html">[antlr-interest] CSharp GeneratedCode attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34887">[ date ]</a>
              <a href="thread.html#34887">[ thread ]</a>
              <a href="subject.html#34887">[ subject ]</a>
              <a href="author.html#34887">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>FxCop freaks out on ANTLR generated code right now and slows down so much it's effectively unusable. I've been meaning to address this issue in the CSharp3 target, but haven't yet. I'm curious how you're supposed to handle partial classes with the GeneratedCode attribute - I assume I have to mark the generated methods and fields instead of the whole class, and the generated code has an enormous number of fields (tokens and follow sets). It makes me wonder if the GeneratedCodeAttribute is conditional like the SuppressMessageAttribute, and if not, how much with the compiled code increase in size with them all marked. I'm guessing not much considering how large the compiled grammar already is.

I'll take a look at this when I get the chance, but it could take a few weeks right now.

Sam

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Johannes Luber
Sent: Saturday, June 13, 2009 6:08 PM
To: packadal; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] CSharp GeneratedCode attribute

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> For the current project I am working on, we need to use a parser.
</I>&gt;<i> I convinced everybody here that writing your own parser is evil, because
</I>&gt;<i> it
</I>&gt;<i> takes much longer to write than using a tool conceived for this exact
</I>&gt;<i> purpose.
</I>&gt;<i> 
</I>&gt;<i> Now we use C# and have some strict coding conventions, enforced using the
</I>&gt;<i> Microsoft tools (FxCop and StyleCop).
</I>&gt;<i> The problem being the antlr-generated code does not comply with these
</I>&gt;<i> rules.
</I>&gt;<i> 
</I>&gt;<i> But Microsoft thought about the possibility of using generated code with
</I>&gt;<i> these tools, and the [GeneratedCode(name, version)] attribute is here for
</I>&gt;<i> this purpose. Hurray !
</I>&gt;<i> The only problem remaining now is that this attribute cannot be placed
</I>&gt;<i> correctly using the C# 2 template.
</I>&gt;<i> 
</I>&gt;<i> So I added a line in the C# 2 template (dunno if I done it &quot;The Right Way&quot;
</I>&gt;<i> though) :
</I>&gt;<i> 
</I>&gt;<i> ...
</I>&gt;<i> 
</I>&gt;<i> 75  &lt;docComment&gt;
</I>&gt;<i> *76  &lt;if(actions.(actionScope).generatedVersion)&gt;
</I>&gt;<i> 77  [GeneratedCode(&quot;antlr&quot;, @&quot;&lt;actions.(actionScope).generatedVersion&gt;&quot;)]
</I>&gt;<i> 78
</I>&gt;<i> 79  &lt;endif&gt;
</I>&gt;<i> *80  &lt;recognizer&gt;
</I>&gt;<i> ...
</I>
Hi!

&gt;<i>From what I can gather it seems to be the right place, though I wonder what other way you tried first. Regarding the CSharp3 target: Unlike CSharp2 it is/on the way to be completely .NET-compliant regarding the coding standards. I can't change it for CSharp2 yet because I have to worry about backwards-compatibility, but I plan parity for 3.2.
</I>
So the question remains, if including this attribute there makes sense if FxCop won't find anything. Sam, any comments?

Johannes

&gt;<i> Obviously in bold is what I added.
</I>&gt;<i> &gt;&gt;From what I have seen this can also be added in the C# 3 template.
</I>&gt;<i> 
</I>&gt;<i> BTW, when will there be a release of antlrworks including version 3.1.3 of
</I>&gt;<i> antlr ?
</I>&gt;<i> I have tried it by myself but must have done something wrong as I get
</I>&gt;<i> loads
</I>&gt;<i> of errors when trying to compile.
</I>&gt;<i> 
</I>&gt;<i> Keep up the good work,
</I>&gt;<i> Regards.
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> - Always keep in mind that you may be wrong -
</I>
-- 
GMX FreeDSL Komplettanschluss mit DSL 6.000 Flatrate und Telefonanschluss
f&#252;r nur 17,95 Euro/mtl.!* <A HREF="http://portal.gmx.net/de/go/dsl02">http://portal.gmx.net/de/go/dsl02</A>

List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034878.html">[antlr-interest] CSharp GeneratedCode attribute
</A></li>
	<LI>Next message: <A HREF="034908.html">[antlr-interest] CSharp GeneratedCode attribute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34887">[ date ]</a>
              <a href="thread.html#34887">[ thread ]</a>
              <a href="subject.html#34887">[ subject ]</a>
              <a href="author.html#34887">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
