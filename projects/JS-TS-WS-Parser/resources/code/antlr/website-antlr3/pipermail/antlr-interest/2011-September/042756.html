<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] antlr-interest Digest, Vol 82, Issue 22
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20antlr-interest%20Digest%2C%20Vol%2082%2C%20Issue%2022&In-Reply-To=%3CCANc89oSdW%2Brr0Wrz-2vrRypfiAUBPVLFUDrM8tHJrF2%3DFK7nCA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042774.html">
   <LINK REL="Next"  HREF="042759.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] antlr-interest Digest, Vol 82, Issue 22</H1>
    <B>mandanna thekkada</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20antlr-interest%20Digest%2C%20Vol%2082%2C%20Issue%2022&In-Reply-To=%3CCANc89oSdW%2Brr0Wrz-2vrRypfiAUBPVLFUDrM8tHJrF2%3DFK7nCA%40mail.gmail.com%3E"
       TITLE="[antlr-interest] antlr-interest Digest, Vol 82, Issue 22">mandanna.thekkada at gmail.com
       </A><BR>
    <I>Tue Sep 27 10:27:48 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="042774.html">[antlr-interest] [C] code to change Token type, use char* and loose data when buffer destroyed
</A></li>
        <LI>Next message: <A HREF="042759.html">[antlr-interest] antlr-interest Digest, Vol 82, Issue 22
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42756">[ date ]</a>
              <a href="thread.html#42756">[ thread ]</a>
              <a href="subject.html#42756">[ subject ]</a>
              <a href="author.html#42756">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Terence,

I am trying to make to C grammar work as an android project. I've created
the C target , but when building I've obtained most of the libraries from
the FishEye source website as mentioned in the downloads page of
antlr.orgexcept for &quot;antlrconfig.h&quot; . Any ideas on how to fix this??

Regards,
Mandanna

On Tue, Sep 27, 2011 at 8:10 PM, &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-request at antlr.org</A>&gt; wrote:

&gt;<i> Send antlr-interest mailing list submissions to
</I>&gt;<i>        <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>        <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i>        <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-request at antlr.org</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i>        <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-owner at antlr.org</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of antlr-interest digest...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>   1. changes not reflecting in antlrWorks debugger (jame vaalet)
</I>&gt;<i>   2. Re: ANTLRWorks 1.4.3: XYZParser.java:14: code too large
</I>&gt;<i>      (public static final String[] tokenNames = new String[]   { ... } ;
</I>&gt;<i>      ) (Vlad)
</I>&gt;<i>   3. Re: ANTLRWorks 1.4.3: XYZParser.java:14: code too large
</I>&gt;<i>      (public static final String[] tokenNames = new String[] { ... } ;
</I>&gt;<i>      ) (Sam Barnett-Cormack)
</I>&gt;<i>   4. Re: ANTLRWorks 1.4.3: XYZParser.java:14: code too large
</I>&gt;<i>      (public static final String[] tokenNames = new String[] { ... } ;
</I>&gt;<i>      ) (Udo Weik)
</I>&gt;<i>   5. Re: [stringtemplate-interest] a logo design?      branding.
</I>&gt;<i>      (Terence Parr)
</I>&gt;<i>   6. Re: Fwd: ANTLRWorks bug: Remove Left Recursion with comments
</I>&gt;<i>      in grammar (Kevin J. Cummings)
</I>&gt;<i>   7. Re: Fwd: ANTLRWorks bug: Remove Left Recursion with comments
</I>&gt;<i>      in grammar (Gary Miller)
</I>&gt;<i>   8. Best practices to insert breakpoint when  generating code?
</I>&gt;<i>      (Chan David)
</I>&gt;<i>   9. [C] code to change Token type, use char* and loose data when
</I>&gt;<i>      buffer destroyed (Ruslan Zasukhin)
</I>&gt;<i>  10. Re: Fwd: ANTLRWorks bug: Remove Left Recursion with comments
</I>&gt;<i>      in grammar (The Researcher)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Tue, 27 Sep 2011 00:32:43 +0530
</I>&gt;<i> From: jame vaalet &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jamevaalet at gmail.com</A>&gt;
</I>&gt;<i> Subject: [antlr-interest] changes not reflecting in antlrWorks
</I>&gt;<i>        debugger
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Message-ID:
</I>&gt;<i>        &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">CAHGxz8a_WBT3xX2xdSvKu8BrS+hJOUp-tX6Yr_2-_dMaxetLWg at mail.gmail.com</A>
</I>&gt;<i> &gt;
</I>&gt;<i> Content-Type: text/plain; charset=ISO-8859-1
</I>&gt;<i>
</I>&gt;<i> hi,
</I>&gt;<i>  am using antlrWorks 1.4.3 with csharp2 as target language. but when i
</I>&gt;<i> debug
</I>&gt;<i> its using the old grammar.g rather than the latest grammar.g .
</I>&gt;<i> can someone help me out in here  ??
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>
</I>&gt;<i> -JAME
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 2
</I>&gt;<i> Date: Mon, 26 Sep 2011 15:36:41 -0400
</I>&gt;<i> From: Vlad &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">vlad at demoninsight.com</A>&gt;
</I>&gt;<i> Subject: Re: [antlr-interest] ANTLRWorks 1.4.3: XYZParser.java:14:
</I>&gt;<i>        code too        large (public static final String[] tokenNames = new
</I>&gt;<i> String[]
</I>&gt;<i>        { ... } ; )
</I>&gt;<i> To: Udo Weik &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">WeikEngOff at aol.com</A>&gt;
</I>&gt;<i> Cc: &quot;Antlr-Interest Antlr.Org&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">D7BA9C8E-F8A3-40E7-8C8E-0D57CE1FFC19 at demoninsight.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=us-ascii
</I>&gt;<i>
</I>&gt;<i> Java .class file format has a specification limit such that any bytecode
</I>&gt;<i> method must not be more than 64k bytes. If this limit is violated (normally
</I>&gt;<i> only happens with auto-generated code) you'll see the compiler error you
</I>&gt;<i> have.
</I>&gt;<i>
</I>&gt;<i> Although it is not very common knowledge, any java code of the form
</I>&gt;<i>
</I>&gt;<i> ... static final SomeType SOME_FIELD = &lt;some exp&gt;
</I>&gt;<i>
</I>&gt;<i> is equivalent to the following:
</I>&gt;<i>
</I>&gt;<i> a declaration of
</I>&gt;<i>
</I>&gt;<i> ... static final SomeType SOME_FIELD;
</I>&gt;<i>
</I>&gt;<i> combined with bytecode to compute &lt;some exp&gt; and assign it to SOME_FIELD,
</I>&gt;<i> performed inside a special method named '&lt;clinit&gt;' at class loading time. It
</I>&gt;<i> is the same method that also collects anything you put in a static { }
</I>&gt;<i> block. I had a look at the .java files you see generated from your grammer
</I>&gt;<i> and there is absolutely a ton of public static finals that require such
</I>&gt;<i> &lt;clinit&gt; code: some 1300 FOLLOW_... BitSets, tokenNames, ruleNames, etc.
</I>&gt;<i>
</I>&gt;<i> All of those static field init bytecodes end up in &lt;clinit&gt; and cause size
</I>&gt;<i> overflow. It seems to me that hitting the 64K limit can happen for any
</I>&gt;<i> reasonably large grammar (&quot;large&quot; defined not just in terms of token count,
</I>&gt;<i> but also the number of rules, etc).
</I>&gt;<i>
</I>&gt;<i> To address this issue at the fundamental level, ANTLR need to alter its
</I>&gt;<i> .java code emission strategy. Perhaps map rules to static methods of static
</I>&gt;<i> nested classes instead of lumping everything into a single .class
</I>&gt;<i> definition. Nested classes in Java are compiled into separate .class
</I>&gt;<i> definitions, each with it own &lt;clinit&gt;.
</I>&gt;<i>
</I>&gt;<i> HTH,
</I>&gt;<i> Vlad
</I>&gt;<i>
</I>&gt;<i> On Sep 26, 2011, at 1:06 PM, Udo Weik wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Hello Terence,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; Interesting. That's not that big.Only 162 strings should not merely be
</I>&gt;<i> enough to blow out the 64k  static INIT method limit. hmm... perhaps the
</I>&gt;<i> other arrays are the big as well.
</I>&gt;<i> &gt;&gt; ter
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I just tried to delete 'static' but of course that doesn't work:
</I>&gt;<i> &gt; XYZParser.java:347: non-static variable tokenNames cannot be referenced
</I>&gt;<i> from a static context
</I>&gt;<i> &gt; So the question is - any solution for that problem?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks and greetings
</I>&gt;<i> &gt; Udo
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; On Sep 26, 2011, at 8:42 AM, Udo Weik wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Hello Terence,
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; wow! how big is that grammar?
</I>&gt;<i> &gt;&gt;&gt;&gt; Ter
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; I'm trying to get the VHDL-grammar for the CSharp-target from
</I>&gt;<i> &gt;&gt;&gt; Mike Lodder working with Java:
</I>&gt;<i> &gt;&gt;&gt; <A HREF="http://www.antlr.org/grammar/1202750770887/vhdl.g">http://www.antlr.org/grammar/1202750770887/vhdl.g</A>
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Some first, very basic modifications see attachement.
</I>&gt;<i> &gt;&gt;&gt; First of all that grammar should work with ANTLRWorks 1.4.3.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Many thanks for any support
</I>&gt;<i> &gt;&gt;&gt; Udo
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; On Sep 26, 2011, at 6:50 AM, Udo Weik wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Hello,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; the length of that line is 1647 chars (162 strings).
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; The grammar is an existing one. What can/must I do?
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; [15:41:27] XYZParser.java:14: code too large
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; [15:41:27]     public static final String[] tokenNames = new String[]
</I>&gt;<i> {
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; [15:41:27]                                  ^
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; [15:41:27] 1 error
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Many thanks and greetings
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Udo
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; &lt;vhdl__UW1a.g&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 3
</I>&gt;<i> Date: Mon, 26 Sep 2011 20:57:59 +0100
</I>&gt;<i> From: Sam Barnett-Cormack &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">s.barnett-cormack at lancaster.ac.uk</A>&gt;
</I>&gt;<i> Subject: Re: [antlr-interest] ANTLRWorks 1.4.3: XYZParser.java:14:
</I>&gt;<i>        code too large (public static final String[] tokenNames = new
</I>&gt;<i> String[]
</I>&gt;<i>        { ... } ; )
</I>&gt;<i> To: Vlad &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">vlad at demoninsight.com</A>&gt;
</I>&gt;<i> Cc: &quot;Antlr-Interest Antlr.Org&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">4E80D947.7070305 at lancaster.ac.uk</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
</I>&gt;<i>
</I>&gt;<i> The possibility of static nested classes had also occured to me as a way
</I>&gt;<i> of breaking up the otherwise-huge static initialisation code being
</I>&gt;<i> produced. For things like the followsets, it might be beneficial to look
</I>&gt;<i> at the architecture of the generated code to see if there's any possible
</I>&gt;<i> benefit to defining an abstract class these static nested classes could
</I>&gt;<i> inherit from.
</I>&gt;<i>
</I>&gt;<i> Another possibility would be removing these large static data structures
</I>&gt;<i> from the source entirely, and instead emitting some extra files that
</I>&gt;<i> define them and that are read in by the generated code. Java resource
</I>&gt;<i> loading semantics mean that files located with the class files are easy
</I>&gt;<i> to load at run-time. A readable format could even be used to make it
</I>&gt;<i> easier for humans to understand the code (and supporting data) that are
</I>&gt;<i> generated.
</I>&gt;<i>
</I>&gt;<i> Sam
</I>&gt;<i>
</I>&gt;<i> On 26/09/2011 20:36, Vlad wrote:
</I>&gt;<i> &gt; Java .class file format has a specification limit such that any bytecode
</I>&gt;<i> method must not be more than 64k bytes. If this limit is violated (normally
</I>&gt;<i> only happens with auto-generated code) you'll see the compiler error you
</I>&gt;<i> have.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Although it is not very common knowledge, any java code of the form
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ... static final SomeType SOME_FIELD =&lt;some exp&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; is equivalent to the following:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; a declaration of
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ... static final SomeType SOME_FIELD;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; combined with bytecode to compute&lt;some exp&gt;  and assign it to SOME_FIELD,
</I>&gt;<i> performed inside a special method named '&lt;clinit&gt;' at class loading time. It
</I>&gt;<i> is the same method that also collects anything you put in a static { }
</I>&gt;<i> block. I had a look at the .java files you see generated from your grammer
</I>&gt;<i> and there is absolutely a ton of public static finals that require
</I>&gt;<i> such&lt;clinit&gt;  code: some 1300 FOLLOW_... BitSets, tokenNames, ruleNames,
</I>&gt;<i> etc.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; All of those static field init bytecodes end up in&lt;clinit&gt;  and cause
</I>&gt;<i> size overflow. It seems to me that hitting the 64K limit can happen for any
</I>&gt;<i> reasonably large grammar (&quot;large&quot; defined not just in terms of token count,
</I>&gt;<i> but also the number of rules, etc).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; To address this issue at the fundamental level, ANTLR need to alter its
</I>&gt;<i> .java code emission strategy. Perhaps map rules to static methods of static
</I>&gt;<i> nested classes instead of lumping everything into a single .class
</I>&gt;<i> definition. Nested classes in Java are compiled into separate .class
</I>&gt;<i> definitions, each with it own&lt;clinit&gt;.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; HTH,
</I>&gt;<i> &gt; Vlad
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Sep 26, 2011, at 1:06 PM, Udo Weik wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; Hello Terence,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Interesting. That's not that big.Only 162 strings should not merely be
</I>&gt;<i> enough to blow out the 64k  static INIT method limit. hmm... perhaps the
</I>&gt;<i> other arrays are the big as well.
</I>&gt;<i> &gt;&gt;&gt; ter
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I just tried to delete 'static' but of course that doesn't work:
</I>&gt;<i> &gt;&gt; XYZParser.java:347: non-static variable tokenNames cannot be referenced
</I>&gt;<i> from a static context
</I>&gt;<i> &gt;&gt; So the question is - any solution for that problem?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Thanks and greetings
</I>&gt;<i> &gt;&gt; Udo
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; On Sep 26, 2011, at 8:42 AM, Udo Weik wrote:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Hello Terence,
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; wow! how big is that grammar?
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Ter
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; I'm trying to get the VHDL-grammar for the CSharp-target from
</I>&gt;<i> &gt;&gt;&gt;&gt; Mike Lodder working with Java:
</I>&gt;<i> &gt;&gt;&gt;&gt; <A HREF="http://www.antlr.org/grammar/1202750770887/vhdl.g">http://www.antlr.org/grammar/1202750770887/vhdl.g</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Some first, very basic modifications see attachement.
</I>&gt;<i> &gt;&gt;&gt;&gt; First of all that grammar should work with ANTLRWorks 1.4.3.
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Many thanks for any support
</I>&gt;<i> &gt;&gt;&gt;&gt; Udo
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; On Sep 26, 2011, at 6:50 AM, Udo Weik wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Hello,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; the length of that line is 1647 chars (162 strings).
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; The grammar is an existing one. What can/must I do?
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; [15:41:27] XYZParser.java:14: code too large
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; [15:41:27]     public static final String[] tokenNames = new
</I>&gt;<i> String[] {
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; [15:41:27]                                  ^
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; [15:41:27] 1 error
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Many thanks and greetings
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Udo
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; &lt;vhdl__UW1a.g&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt;&gt; Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 4
</I>&gt;<i> Date: Mon, 26 Sep 2011 22:07:45 +0200
</I>&gt;<i> From: Udo Weik &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">WeikEngOff at aol.com</A>&gt;
</I>&gt;<i> Subject: Re: [antlr-interest] ANTLRWorks 1.4.3: XYZParser.java:14:
</I>&gt;<i>        code too large (public static final String[] tokenNames = new
</I>&gt;<i> String[]
</I>&gt;<i>        { ... } ; )
</I>&gt;<i> To: Vlad &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">vlad at demoninsight.com</A>&gt;
</I>&gt;<i> Cc: &quot;Antlr-Interest Antlr.Org&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">4E80DB91.4060209 at aol.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
</I>&gt;<i>
</I>&gt;<i> Hello Vlad,
</I>&gt;<i>
</I>&gt;<i> many thanks for your really valuable analysis.
</I>&gt;<i>
</I>&gt;<i> @Terence:
</I>&gt;<i> The ball's in your court!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Greetings
</I>&gt;<i> Udo
</I>&gt;<i>
</I>&gt;<i> &gt; Java .class file format has a specification limit such that any bytecode
</I>&gt;<i> method must not be more than 64k bytes. If this limit is violated (normally
</I>&gt;<i> only happens with auto-generated code) you'll see the compiler error you
</I>&gt;<i> have.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Although it is not very common knowledge, any java code of the form
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ... static final SomeType SOME_FIELD =&lt;some exp&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; is equivalent to the following:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; a declaration of
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ... static final SomeType SOME_FIELD;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; combined with bytecode to compute&lt;some exp&gt;  and assign it to SOME_FIELD,
</I>&gt;<i> performed inside a special method named '&lt;clinit&gt;' at class loading time. It
</I>&gt;<i> is the same method that also collects anything you put in a static { }
</I>&gt;<i> block. I had a look at the .java files you see generated from your grammer
</I>&gt;<i> and there is absolutely a ton of public static finals that require
</I>&gt;<i> such&lt;clinit&gt;  code: some 1300 FOLLOW_... BitSets, tokenNames, ruleNames,
</I>&gt;<i> etc.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; All of those static field init bytecodes end up in&lt;clinit&gt;  and cause
</I>&gt;<i> size overflow. It seems to me that hitting the 64K limit can happen for any
</I>&gt;<i> reasonably large grammar (&quot;large&quot; defined not just in terms of token count,
</I>&gt;<i> but also the number of rules, etc).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; To address this issue at the fundamental level, ANTLR need to alter its
</I>&gt;<i> .java code emission strategy. Perhaps map rules to static methods of static
</I>&gt;<i> nested classes instead of lumping everything into a single .class
</I>&gt;<i> definition. Nested classes in Java are compiled into separate .class
</I>&gt;<i> definitions, each with it own&lt;clinit&gt;.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; HTH,
</I>&gt;<i> &gt; Vlad
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Sep 26, 2011, at 1:06 PM, Udo Weik wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; Hello Terence,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Interesting. That's not that big.Only 162 strings should not merely be
</I>&gt;<i> enough to blow out the 64k  static INIT method limit. hmm... perhaps the
</I>&gt;<i> other arrays are the big as well.
</I>&gt;<i> &gt;&gt;&gt; ter
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I just tried to delete 'static' but of course that doesn't work:
</I>&gt;<i> &gt;&gt; XYZParser.java:347: non-static variable tokenNames cannot be referenced
</I>&gt;<i> from a static context
</I>&gt;<i> &gt;&gt; So the question is - any solution for that problem?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Thanks and greetings
</I>&gt;<i> &gt;&gt; Udo
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; On Sep 26, 2011, at 8:42 AM, Udo Weik wrote:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Hello Terence,
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; wow! how big is that grammar?
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Ter
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; I'm trying to get the VHDL-grammar for the CSharp-target from
</I>&gt;<i> &gt;&gt;&gt;&gt; Mike Lodder working with Java:
</I>&gt;<i> &gt;&gt;&gt;&gt; <A HREF="http://www.antlr.org/grammar/1202750770887/vhdl.g">http://www.antlr.org/grammar/1202750770887/vhdl.g</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Some first, very basic modifications see attachement.
</I>&gt;<i> &gt;&gt;&gt;&gt; First of all that grammar should work with ANTLRWorks 1.4.3.
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Many thanks for any support
</I>&gt;<i> &gt;&gt;&gt;&gt; Udo
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; On Sep 26, 2011, at 6:50 AM, Udo Weik wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Hello,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; the length of that line is 1647 chars (162 strings).
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; The grammar is an existing one. What can/must I do?
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; [15:41:27] XYZParser.java:14: code too large
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; [15:41:27]     public static final String[] tokenNames = new
</I>&gt;<i> String[] {
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; [15:41:27]                                  ^
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; [15:41:27] 1 error
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Many thanks and greetings
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Udo
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; &lt;vhdl__UW1a.g&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt;&gt; Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 5
</I>&gt;<i> Date: Mon, 26 Sep 2011 15:50:11 -0700
</I>&gt;<i> From: Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>&gt;
</I>&gt;<i> Subject: Re: [antlr-interest] [stringtemplate-interest] a logo design?
</I>&gt;<i>        branding.
</I>&gt;<i> To: stringtemplate-interest List &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">stringtemplate-interest at antlr.org</A>&gt;,
</I>&gt;<i>        antlr-interest Interest &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">93E1364E-AF32-4CF2-8E44-358BF9DB743B at cs.usfca.edu</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=us-ascii
</I>&gt;<i>
</I>&gt;<i> Thanks for the feedback!
</I>&gt;<i> Ter
</I>&gt;<i> On Sep 25, 2011, at 10:12 PM, Michael Bedward wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; The correct answer is &quot;you're the designer - you tell me&quot;.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; My fall back answers are:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; 1. what existing logos do we like and why
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; GeoTools: compass / spanner logo (<A HREF="http://geotools.org/">http://geotools.org/</A>) because it's a
</I>&gt;<i> &gt; simple and informative pun
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; TED: big red letters (<A HREF="http://www.ted.com/">http://www.ted.com/</A>) because it's obvious and
</I>&gt;<i> memorable
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ScapeToad: toad logo (<A HREF="http://scapetoad.choros.ch/">http://scapetoad.choros.ch/</A>) because it's
</I>&gt;<i> &gt; ridiculous with a certain elegance
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; R (<A HREF="http://www.r-project.org/">http://www.r-project.org/</A>) because you just say Rrrr...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; 2.  what logos do we dislike and why
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Sonatype: horizontal bars and thin font (<A HREF="http://www.sonatype.com/">http://www.sonatype.com/</A>)
</I>&gt;<i> &gt; because it looks corporate and boring
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ESRI globe in grid (<A HREF="http://www.esri.com/">http://www.esri.com/</A>) because it looks like they
</I>&gt;<i> &gt; want to take the world prisoner
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Old Sun logo (as seen at:
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="http://java.sun.com/products/java-media/jai/forDevelopers/jai1_0_1guide-unc/JAITOC.fm.html">http://java.sun.com/products/java-media/jai/forDevelopers/jai1_0_1guide-unc/JAITOC.fm.html</A>
</I>&gt;<i> )
</I>&gt;<i> &gt; because it's on the wrong side of the line between clever and wanky
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; NetBeans: box figure and name (<A HREF="http://netbeans.org/">http://netbeans.org/</A>) because what are
</I>&gt;<i> &gt; you supposed to do with an empty box ?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; 3. Preferred typography
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Either elegant or in your face, but not script (usually lacks
</I>&gt;<i> &gt; immediacy) or very angular / geometric (e.g. the font used for the
</I>&gt;<i> &gt; Oracle logo which looks fascist - though perhaps that's just my
</I>&gt;<i> &gt; prejudice shining through).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Michael
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 26 September 2011 00:59, Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; hi.  Sam Harwell had the great idea that I should commission a logo or
</I>&gt;<i> logos for the ANTLR project. Perhaps there is a similar and consistent logo
</I>&gt;<i> design for the individual tools. I'm also considering a new layout and
</I>&gt;<i> design for the website. Basically v4 will have major new functionality and I
</I>&gt;<i> want to do some nice branding for it. Sam also recommend someone that seems
</I>&gt;<i> very good for doing the logo design. Questionnaire I have to fill out for
</I>&gt;<i> this designer, however, asks questions that I don't really know how to
</I>&gt;<i> answer exactly. I thought that I should appeal to you folks in the community
</I>&gt;<i> so that we can  hone the answers for the designer to get something nice.
</I>&gt;<i> Here are some questions that you might know the answer to or have opinions
</I>&gt;<i> on:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 1. what existing logos do we like and why
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 2.  what logos do we dislike and why
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 3. Preferred typography (heavy, light, modern, classic, handwritten
</I>&gt;<i> etc.)  maybe we don't want text in the logo at all, but it seems like .g and
</I>&gt;<i> .st could work in the individual tool logos. Microsoft logos for example:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Here is the logo portfolio of the guy:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; <A HREF="http://www.logoholik.com/logo_portfolio/logo_portfolio.html">http://www.logoholik.com/logo_portfolio/logo_portfolio.html</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;  any and all thoughts about branding are welcome.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Ter
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt;&gt; Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; stringtemplate-interest mailing list
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 6
</I>&gt;<i> Date: Mon, 26 Sep 2011 21:54:33 -0400
</I>&gt;<i> From: &quot;Kevin J. Cummings&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cummings at kjchome.homeip.net</A>&gt;
</I>&gt;<i> Subject: Re: [antlr-interest] Fwd: ANTLRWorks bug: Remove Left
</I>&gt;<i>        Recursion with comments in grammar
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">4E812CD9.3000008 at kjchome.homeip.net</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=ISO-8859-1
</I>&gt;<i>
</I>&gt;<i> I'm confused.  If you have:
</I>&gt;<i>
</I>&gt;<i> string : string Plus string
</I>&gt;<i>       | string Minus string
</I>&gt;<i>       | Digit
</I>&gt;<i>       ;
</I>&gt;<i>
</I>&gt;<i> and you remove left recursion, why don't you end up with:
</I>&gt;<i>
</I>&gt;<i> string : Digit ( Plus Digit | Minus Digit )*
</I>&gt;<i>       ;
</I>&gt;<i>
</I>&gt;<i> And, yes, the error message with the &quot;;&quot; in it is amusing.
</I>&gt;<i>
</I>&gt;<i> On 09/26/2011 02:05 PM, The Researcher wrote:
</I>&gt;<i> &gt; I forgot to give credit where credit is due.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This grammar is from
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Aho, A. V., Lam, M. S., Sethi, R., &amp; Ullman, J. D. (2007) Compilers:
</I>&gt;<i> &gt; principles, techniques, &amp; tools (2nd ed.). Boston: Pearson/Addison
</I>&gt;<i> Wesley.
</I>&gt;<i> &gt; pg. 47, Example 2.5
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ---------- Forwarded message ----------
</I>&gt;<i> &gt; From: The Researcher &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">researcher0x00 at gmail.com</A>&gt;
</I>&gt;<i> &gt; Date: Mon, Sep 26, 2011 at 1:51 PM
</I>&gt;<i> &gt; Subject: ANTLRWorks bug: Remove Left Recursion with comments in grammar
</I>&gt;<i> &gt; To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; grammar Ambiguious001;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; string      : string Plus string
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;             | string Minus string
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;             | Digit
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;             ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Digit       : '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9' ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Minus       : '-' ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Plus        : '+' ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Remove All Left Recursion or Remove Left Recursion produces
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; grammar Ambiguious001;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; string      : (Digit) (Plus string | Minus string)*
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;             ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Digit       : '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9' ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Minus       : '-' ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Plus        : '+' ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; However
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; grammar Ambiguious001;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; // Parser
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; string      : string Plus string
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;             | string Minus string
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;             | Digit
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;             ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; // Lexer
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Digit       : '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9' ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Minus       : '-' ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Plus        : '+' ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Remove All Left Recursion or Remove Left Recursion produces
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; grammar Ambiguious001;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; // Parser
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; string      : (Digit
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;             ;) (Plus string | Minus string)*
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; // Lexer
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Digit       : '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9' ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Minus       : '-' ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Plus        : '+' ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;   It's the first time I have ever had an error wink at me.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Eric
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Kevin J. Cummings
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">kjchome at verizon.net</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cummings at kjchome.homeip.net</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cummings at kjc386.framingham.ma.us</A>
</I>&gt;<i> Registered Linux User #1232 (<A HREF="http://www.xlinuxcounter.net/">http://www.xlinuxcounter.net/</A>)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 7
</I>&gt;<i> Date: Tue, 27 Sep 2011 12:53:17 +1000
</I>&gt;<i> From: Gary Miller &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">gary at sumwise.com</A>&gt;
</I>&gt;<i> Subject: Re: [antlr-interest] Fwd: ANTLRWorks bug: Remove Left
</I>&gt;<i>        Recursion with comments in grammar
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">researcher0x00 at gmail.com</A>
</I>&gt;<i> Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Message-ID:
</I>&gt;<i>        &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">CAFCNb3hKcjXNfv9UyU-+-AXZN96OEfrukvYCmW-k_-KQwj27Aw at mail.gmail.com</A>
</I>&gt;<i> &gt;
</I>&gt;<i> Content-Type: text/plain; charset=ISO-8859-1
</I>&gt;<i>
</I>&gt;<i> What version of are you using?
</I>&gt;<i> I've tried with 3.2 and 3.4 and get very boring error messages.
</I>&gt;<i>
</I>&gt;<i> eg 3.2 gives
</I>&gt;<i> 9:12: syntax error: antlr: &lt;notsaved&gt;:9:12: expecting RPAREN, found ';'
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 8
</I>&gt;<i> Date: Tue, 27 Sep 2011 11:38:46 +0800
</I>&gt;<i> From: Chan David &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">lifesting at gmail.com</A>&gt;
</I>&gt;<i> Subject: [antlr-interest] Best practices to insert breakpoint when
</I>&gt;<i>        generating code?
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Message-ID:
</I>&gt;<i>        &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">CAF_ThcLgLcgebMEYd+G5uWVSqoDFtyy-2w3NEhm62wxwjYaoiA at mail.gmail.com</A>
</I>&gt;<i> &gt;
</I>&gt;<i> Content-Type: text/plain; charset=ISO-8859-1
</I>&gt;<i>
</I>&gt;<i> Hi, Antlr fellows:
</I>&gt;<i>
</I>&gt;<i> I wrote a simple parser and a weak runtime to make a prototype of our DSL.
</I>&gt;<i> I
</I>&gt;<i> followed the de-facto definition steps:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   1. Define a lex grammar to describe tokens.
</I>&gt;<i>   2. Define a parser grammar to describe syntax and build an AST.
</I>&gt;<i>   3. Define a tree grammar to genereate DSL source code via StringTemplate
</I>&gt;<i>   which includes my hand-written execution code as runtime.
</I>&gt;<i>
</I>&gt;<i> Now I want to run this DSL code in Eclipse directly. So I must let DSL
</I>&gt;<i> support debugging.  I must embbed a hook function in every start of a
</I>&gt;<i> statement. I named this function 'breakpoint', it need a line number as
</I>&gt;<i> argument.
</I>&gt;<i>
</I>&gt;<i> For example, there's a &quot;x=1&quot; statement in my DSL where AST is ^(ASSIGN, x,
</I>&gt;<i> 1) . I insert a function like below:
</I>&gt;<i>
</I>&gt;<i> assignStmt @init{
</I>&gt;<i>  breakpoint(Problem: how to get line number here?);
</I>&gt;<i> } :  ^(ASSIGN, ID, INT) {
</I>&gt;<i>  .....//Omitted
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> I don't know how to get line number at the start of a statement, further, I
</I>&gt;<i> doubt whether this method is correct.
</I>&gt;<i>
</I>&gt;<i> Thank for you help!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 9
</I>&gt;<i> Date: Tue, 27 Sep 2011 12:16:51 +0300
</I>&gt;<i> From: Ruslan Zasukhin &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ruslan_zasukhin at valentina-db.com</A>&gt;
</I>&gt;<i> Subject: [antlr-interest] [C] code to change Token type, use char* and
</I>&gt;<i>        loose data when buffer destroyed
</I>&gt;<i> To: &quot;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;,      Jim Idle
</I>&gt;<i>        &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>&gt;
</I>&gt;<i> Message-ID: &lt;CAA76F33.F2983%<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ruslan_zasukhin at valentina-db.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain;       charset=&quot;US-ASCII&quot;
</I>&gt;<i>
</I>&gt;<i> Hi All,
</I>&gt;<i>
</I>&gt;<i> ===== TASK ======
</I>&gt;<i>
</I>&gt;<i> In SQL we must be able write
</I>&gt;<i>      SELECT 'aaa' 'bbbb'
</I>&gt;<i>
</I>&gt;<i> And this should be same as
</I>&gt;<i>      SELECT 'aaabbbb'
</I>&gt;<i>
</I>&gt;<i> I.e. Parser must concatenate literals self.
</I>&gt;<i> This was quite easy do in ANTLR 2,
</I>&gt;<i> and I already have kill 5-6 hours in ANTLR 3.  :-((((((
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I have try many tricks for ANTLR3 itself trying to use its tokens and
</I>&gt;<i> ANTLR_STRING class but no luck.
</I>&gt;<i>
</I>&gt;<i> Finally I have give up and have try to use simple code as in v2 using
</I>&gt;<i> STD::string as place to accumulate literal.
</I>&gt;<i>
</I>&gt;<i> =================================
</I>&gt;<i> character_string_literal
</I>&gt;<i> @init{
</I>&gt;<i>    STD::string st;
</I>&gt;<i> }
</I>&gt;<i>    :    ( STRING_LITERAL
</I>&gt;<i>            {
</I>&gt;<i>                st.append(
</I>&gt;<i>                    (const char*) $STRING_LITERAL.text-&gt;chars,
</I>&gt;<i>                    $STRING_LITERAL.text-&gt;len );
</I>&gt;<i>            }
</I>&gt;<i>        )+
</I>&gt;<i>            -&gt; ^( CONST_STR[ st.c_str() ] )
</I>&gt;<i>    ;
</I>&gt;<i> =================================
</I>&gt;<i>
</I>&gt;<i> But this not works, because new Token object stores just pointer
</I>&gt;<i>
</I>&gt;<i>        newToken-&gt;textState        = ANTLR3_TEXT_CHARP;
</I>&gt;<i>        newToken-&gt;tokText.chars = (pANTLR3_UCHAR)text;
</I>&gt;<i>
</I>&gt;<i> And as only STD::string dies we get problem.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Jim, how this simple task can be solved in the C TARGET ?
</I>&gt;<i>
</I>&gt;<i> Also I see that for Java code they can contruct dynamic text
</I>&gt;<i> And produce token using that text. For example on this page
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.antlr.org/wiki/display/ANTLR3/Tree+construction">http://www.antlr.org/wiki/display/ANTLR3/Tree+construction</A>
</I>&gt;<i>
</I>&gt;<i>                            -&gt; ^('+' $p INT[String.valueOf($a.int+$b.int)])
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> But C target tryies to work only which char*
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I guess that ANTLR_STRING setText() can help me,
</I>&gt;<i> But I cannot see how I can call that from my
</I>&gt;<i>
</I>&gt;<i>            -&gt; ^( CONST_STR[ st.c_str() ] )
</I>&gt;<i>
</I>&gt;<i> ???
</I>&gt;<i>
</I>&gt;<i> Thank you for points ...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Best regards,
</I>&gt;<i>
</I>&gt;<i> Ruslan Zasukhin
</I>&gt;<i> VP Engineering and New Technology
</I>&gt;<i> Paradigma Software, Inc
</I>&gt;<i>
</I>&gt;<i> Valentina - Joining Worlds of Information
</I>&gt;<i> <A HREF="http://www.paradigmasoft.com">http://www.paradigmasoft.com</A>
</I>&gt;<i>
</I>&gt;<i> [I feel the need: the need for speed]
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 10
</I>&gt;<i> Date: Tue, 27 Sep 2011 06:45:54 -0400
</I>&gt;<i> From: The Researcher &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">researcher0x00 at gmail.com</A>&gt;
</I>&gt;<i> Subject: Re: [antlr-interest] Fwd: ANTLRWorks bug: Remove Left
</I>&gt;<i>        Recursion with comments in grammar
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Message-ID:
</I>&gt;<i>        &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">CAN45N12sF0t7mfWaPy3ZB3OuBh-iJxswbPvtJOcgTozOdY4rFg at mail.gmail.com</A>
</I>&gt;<i> &gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;iso-8859-1&quot;
</I>&gt;<i>
</I>&gt;<i> On Mon, Sep 26, 2011 at 10:53 PM, Gary Miller &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">gary at sumwise.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; What version of are you using?
</I>&gt;<i> &gt; I've tried with 3.2 and 3.4 and get very boring error messages.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; eg 3.2 gives
</I>&gt;<i> &gt; 9:12: syntax error: antlr: &lt;notsaved&gt;:9:12: expecting RPAREN, found ';'
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> This is done using ANTLRWorks. See attached screenshots.
</I>&gt;<i>
</I>&gt;<i> Eric
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> A non-text attachment was scrubbed...
</I>&gt;<i> Name: Left Recursion Refactor Bug ANTLRWorks 1.4.2.png
</I>&gt;<i> Type: image/png
</I>&gt;<i> Size: 101799 bytes
</I>&gt;<i> Desc: not available
</I>&gt;<i> Url :
</I>&gt;<i> <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20110927/fa1e68c4/attachment.png">http://www.antlr.org/pipermail/antlr-interest/attachments/20110927/fa1e68c4/attachment.png</A>
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> A non-text attachment was scrubbed...
</I>&gt;<i> Name: Left Recursion Refactor Bug ANTLRWorks 1.4.3.png
</I>&gt;<i> Type: image/png
</I>&gt;<i> Size: 144985 bytes
</I>&gt;<i> Desc: not available
</I>&gt;<i> Url :
</I>&gt;<i> <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20110927/fa1e68c4/attachment-0001.png">http://www.antlr.org/pipermail/antlr-interest/attachments/20110927/fa1e68c4/attachment-0001.png</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> antlr-interest mailing list
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i>
</I>&gt;<i> End of antlr-interest Digest, Vol 82, Issue 22
</I>&gt;<i> **********************************************
</I>&gt;<i>
</I></PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042774.html">[antlr-interest] [C] code to change Token type, use char* and loose data when buffer destroyed
</A></li>
	<LI>Next message: <A HREF="042759.html">[antlr-interest] antlr-interest Digest, Vol 82, Issue 22
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42756">[ date ]</a>
              <a href="thread.html#42756">[ thread ]</a>
              <a href="subject.html#42756">[ subject ]</a>
              <a href="author.html#42756">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
