<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Determining Imaginary Nodes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Determining%20Imaginary%20Nodes&In-Reply-To=%3C3f3de9260801110820n37dfa649jd5c3fc47e14a5ac2%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025659.html">
   <LINK REL="Next"  HREF="025656.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Determining Imaginary Nodes</H1>
    <B>John Volk</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Determining%20Imaginary%20Nodes&In-Reply-To=%3C3f3de9260801110820n37dfa649jd5c3fc47e14a5ac2%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Determining Imaginary Nodes">john.t.volk at gmail.com
       </A><BR>
    <I>Fri Jan 11 08:20:30 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025659.html">[antlr-interest] Determining Imaginary Nodes
</A></li>
        <LI>Next message: <A HREF="025656.html">[antlr-interest] pushed antlr build with tree rewriting and	composite grammars (java)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25666">[ date ]</a>
              <a href="thread.html#25666">[ thread ]</a>
              <a href="subject.html#25666">[ subject ]</a>
              <a href="author.html#25666">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jan 10, 2008 8:22 PM, Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> On Jan 10, 2008, at 4:26 PM, John Volk wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; Hi,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I'm wondering if there is a way to determine programmatically
</I>&gt;<i> &gt;&gt; whether a CommonTree node is an imaginary node (i.e., a node created
</I>&gt;<i> &gt;&gt; in a rewrite rule; not from the text of the file being parsed).
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I've looked at a few possiblities.  For example, it seems that if
</I>&gt;<i> &gt;&gt; the CommonToken for a particular CommonTree node has -1 as it's
</I>&gt;<i> &gt;&gt; tokenIndex, then that node is imaginary.  This doesn't catch all the
</I>&gt;<i> &gt;&gt; cases, though.  In some cases where an imaginary node is a non-leaf
</I>&gt;<i> &gt;&gt; node, it looks like the tokenIndex of the token for that node is
</I>&gt;<i> &gt;&gt; somehow derived from the node's children.  This isn't true of all
</I>&gt;<i> &gt;&gt; non-leaf nodes, though.  Many will have -1 as the tokenIndex.
</I>&gt;<i>
</I>&gt;<i> &gt;Imaginary nodes can be created from real tokens, in which case I copy
</I>&gt;<i> &gt;all known info (such as index) into the new node/token.  Why do you
</I>&gt;<i> &gt;need this, btw?  You can probably use a TreeAdaptor to mark them
</I>&gt;<i> &gt;specially in create().
</I>&gt;<i> &gt;Ter
</I>

Basically, I'm creating an AST, doing some processing on it, and then
attempting to highlight relevant tokens in a GUI.  The processing step might
tell me that, for example, the ALT token created by the ANTLRv3 grammar
needs to be highlighted.  I need to be able to determine that the ALT token
is not actually present in the text of the grammar I'm parsing, and I need
to be able to do this for arbitrary grammars.

TreeAdaptor is the way to do this?  I'm not very familiar with that really,
but I'm sure there's stuff out on the web.

- John
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080111/491824f2/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080111/491824f2/attachment.html</A> 
</PRE>

































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025659.html">[antlr-interest] Determining Imaginary Nodes
</A></li>
	<LI>Next message: <A HREF="025656.html">[antlr-interest] pushed antlr build with tree rewriting and	composite grammars (java)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25666">[ date ]</a>
              <a href="thread.html#25666">[ thread ]</a>
              <a href="subject.html#25666">[ subject ]</a>
              <a href="author.html#25666">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
