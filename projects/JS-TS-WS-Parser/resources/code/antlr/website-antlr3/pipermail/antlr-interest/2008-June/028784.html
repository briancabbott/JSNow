<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] C codegen change request: Expose TokenNames	array
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20C%20codegen%20change%20request%3A%20Expose%20TokenNames%0A%09array&In-Reply-To=%3C6edc6c380806221409g7e8d25efhd914f493a5922830%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028785.html">
   <LINK REL="Next"  HREF="028786.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] C codegen change request: Expose TokenNames	array</H1>
    <B>Brent Yates</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20C%20codegen%20change%20request%3A%20Expose%20TokenNames%0A%09array&In-Reply-To=%3C6edc6c380806221409g7e8d25efhd914f493a5922830%40mail.gmail.com%3E"
       TITLE="[antlr-interest] C codegen change request: Expose TokenNames	array">brent.yates at gmail.com
       </A><BR>
    <I>Sun Jun 22 14:09:04 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028785.html">[antlr-interest] C codegen change request: Expose	TokenNames	array
</A></li>
        <LI>Next message: <A HREF="028786.html">[antlr-interest] C codegen change request: Expose	TokenNames	array
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28784">[ date ]</a>
              <a href="thread.html#28784">[ thread ]</a>
              <a href="subject.html#28784">[ subject ]</a>
              <a href="author.html#28784">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gavin,


&gt;<i> ... which is exactly what getTokenNames does.  Why redefine it?
</I>&gt;<i>
</I>
getTokenNames is static and can't be called external to a parser instance.


&gt;<i> A more robust implementation would be...
</I>&gt;<i>
</I>
Either method for calculating the size should work.  The C.stg uses the
&quot;&lt;length(tokenNames)&gt;+4&quot; to set the size of the array, but your suggestion
is safer.


&gt;<i> Also, the array pointer is already accessible through
</I>&gt;<i> yourParser-&gt;pParser-&gt;rec-&gt;state-&gt;tokenNames
</I>&gt;<i>
</I>
I have used this, but find it very awkward.  Since I was suggesting a
change, I thought I would clean things up a little ;)  Also, this method
requires a parser instance.  What I am looking for is the equivalent of a
static class method.


&gt;<i> ; it might be simpler to similarly expose the token count rather than make
</I>&gt;<i> an actual method for it.)  Alternatively, the TokenNames table could just be
</I>&gt;<i> made null-terminated, so that the size of the table is discoverable given a
</I>&gt;<i> pointer to it.  (Though that's not quite as tidy.)
</I>&gt;<i>
</I>
My idea was to not mess with getTokenNames, but to add two simple functions
which return the necessary information.  These methods could be called
outside of any parser instance.  Again, this is just for diagnostic and tool
use.  They are not required to parse successfully.

Regards,

Brent Yates
[image: Close] Read more &gt;&gt;   Options &gt;&gt;
[image: Visit Answers.com] &lt;<A HREF="http://www.answers.com?initiator=FFANS">http://www.answers.com?initiator=FFANS</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080622/636fd969/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080622/636fd969/attachment.html</A> 
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028785.html">[antlr-interest] C codegen change request: Expose	TokenNames	array
</A></li>
	<LI>Next message: <A HREF="028786.html">[antlr-interest] C codegen change request: Expose	TokenNames	array
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28784">[ date ]</a>
              <a href="thread.html#28784">[ thread ]</a>
              <a href="subject.html#28784">[ subject ]</a>
              <a href="author.html#28784">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
