<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Parsing comments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Parsing%20comments&In-Reply-To=%3C94db0a160909170755q6aea52a6n9e8327548c8b2e97%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036014.html">
   <LINK REL="Next"  HREF="035990.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Parsing comments</H1>
    <B>Soren Holstebroe</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Parsing%20comments&In-Reply-To=%3C94db0a160909170755q6aea52a6n9e8327548c8b2e97%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Parsing comments">holstebroe at gmail.com
       </A><BR>
    <I>Thu Sep 17 07:55:20 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="036014.html">[antlr-interest] conditional tree rewrite
</A></li>
        <LI>Next message: <A HREF="035990.html">[antlr-interest] Parsing comments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35988">[ date ]</a>
              <a href="thread.html#35988">[ thread ]</a>
              <a href="subject.html#35988">[ subject ]</a>
              <a href="author.html#35988">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have this project where C++ templates are being unfolded and wrapped in
.NET. This wrapping is performed by some perl-scripts which over time have
become quite messy, so I wanted to rewrite the wrapper using ANTLR.

The way the current template wrapper works is by parsing simple template
expressions defined in the comments preceding a function definition. This is
similar to documentation frameworks like doxygen, where the documentation is
embedded in the comments above functions, classes, etc.
The simple syntax contains elements like this:
// @TEMPLATE &lt;int, float&gt;
which tells the wrapper to unfold the template using an int for the first
template type and a float for the second.

My problem is that I am already stuck in defining the lexer.
Since all wrapper expressions start with '@' I tried to define a token like:
WRAPPERSTART : SLASHSLASH SPACE* '@'
and some grammar rules based on that token.
However that doesn't work since the lexer will always choose the longest
matching rule, which would always be the normal single line comment rule.

I can imagine that there are many approaches to tackle this problem and some
hints would be greatly appreciated.

Soren
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090917/4a8bdd79/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090917/4a8bdd79/attachment.html</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036014.html">[antlr-interest] conditional tree rewrite
</A></li>
	<LI>Next message: <A HREF="035990.html">[antlr-interest] Parsing comments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35988">[ date ]</a>
              <a href="thread.html#35988">[ thread ]</a>
              <a href="subject.html#35988">[ subject ]</a>
              <a href="author.html#35988">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
