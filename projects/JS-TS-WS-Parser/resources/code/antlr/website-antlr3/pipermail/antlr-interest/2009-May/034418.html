<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest]  v3.3.1 Upgrade Problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%20v3.3.1%20Upgrade%20Problems&In-Reply-To=%3CBE58C040869A49459219C04B9B7B1951%40homelaptop%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034417.html">
   <LINK REL="Next"  HREF="034422.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest]  v3.3.1 Upgrade Problems</H1>
    <B>Avid Trober</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%20v3.3.1%20Upgrade%20Problems&In-Reply-To=%3CBE58C040869A49459219C04B9B7B1951%40homelaptop%3E"
       TITLE="[antlr-interest]  v3.3.1 Upgrade Problems">avidtrober at gmail.com
       </A><BR>
    <I>Fri May  8 20:06:08 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="034417.html">[antlr-interest] Stripping Tokens, Skipping leading text
</A></li>
        <LI>Next message: <A HREF="034422.html">[antlr-interest] AST rewrite bug C# target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34418">[ date ]</a>
              <a href="thread.html#34418">[ thread ]</a>
              <a href="subject.html#34418">[ subject ]</a>
              <a href="author.html#34418">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've been running antlr.3.1.jar without any problems for some time now.
I recently obtained antlr.3.1.3.jar, changed my CLASSPATH accordingly, and now all my grammars have weird warnings and/or errors.

Is there more to an ANTLR upgrade than just downloading the new jar and making sure it's in the CLASSPATH? (and, nothing else.  Netmon confirms the proper ANTLR version is running).

This is what I grabbed:  (<A HREF="http://www.antlr.org/download/antlr-3.1.3.jar,">http://www.antlr.org/download/antlr-3.1.3.jar,</A> from <A HREF="http://www.antlr.org/download.html">http://www.antlr.org/download.html</A> labeled &quot;Complete ANTLR 3.1.3 jar; all tools, runtime, etc... (included in source distribution)&quot;


An example of some errors on a trivial test grammar:


D:\ANTLRWorks\grammars\Trivial&gt;java org.antlr.Tool  Trivial.g
error(10):  internal error:  : java.lang.Error: Error parsing Trivial.g: 'memoiz
e' not expected ';'
org.antlr.tool.GrammarSpelunker.match(GrammarSpelunker.java:74)
org.antlr.tool.GrammarSpelunker.options(GrammarSpelunker.java:126)
org.antlr.tool.GrammarSpelunker.parse(GrammarSpelunker.java:91)
org.antlr.Tool.sortGrammarFiles(Tool.java:525)
org.antlr.Tool.process(Tool.java:383)
org.antlr.Tool.main(Tool.java:91)

v3.1.3 doesn't like anything about the options section now.  If I remove the options section, the parse now hates AST rewrites or ^:


D:\ANTLRWorks\grammars\Trivial&gt;java org.antlr.Tool  Trivial.g
error(100): Trivial.g:20:14: syntax error: antlr: Trivial.g:20:14: unexpected to
ken: ^(
error(100): Trivial.g:20:20: syntax error: antlr: Trivial.g:20:20: expecting SEM
I, found ')'


here's the Trivial grammar:

grammar Trivial;



tokens
{
 UNIT = 'UNIT';
 ITEM = 'ITEM';
 ITEM_DETAIL_LIST;
 ITEM_DETAIL = 'ITEM_DETAIL';
 TYPE = 'TYPE';
 CASE = 'CASE';
 VALUE = 'VALUE';
 IDBC = 'IDBC';
 END_UNIT = 'END_UNIT';
}


itemValueIDBC
 : 'IDBC' -&gt; ^(IDBC) 
 ;
 
identifier 
 : IDENTIFIER;



IDENTIFIER : ('A' .. 'Z' | 'a'..'z') ( 'A' .. 'Z' | 'a'..'z' | '0' .. '9' | '_')* 
 ;

INTEGER
 : '0' .. '9' ( '0' .. '9' )*
 ;
 
WS : (' '|'\r'|'\t'|'\n') {$channel=HIDDEN;}
 ;

EOL  : ('\n' | '\r' | EOF)
 ;


---------------END OF GRAMMAR ---------------







-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090508/2d4a9cad/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090508/2d4a9cad/attachment.html</A> 
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034417.html">[antlr-interest] Stripping Tokens, Skipping leading text
</A></li>
	<LI>Next message: <A HREF="034422.html">[antlr-interest] AST rewrite bug C# target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34418">[ date ]</a>
              <a href="thread.html#34418">[ thread ]</a>
              <a href="subject.html#34418">[ subject ]</a>
              <a href="author.html#34418">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
