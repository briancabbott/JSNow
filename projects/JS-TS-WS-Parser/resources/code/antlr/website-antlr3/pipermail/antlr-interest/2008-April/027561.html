<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Strange ambiguous decision warning
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Strange%20ambiguous%20decision%20warning&In-Reply-To=%3CFB4AAA69-8E18-42C0-9338-C47E8915B0E7%40martin-probst.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027601.html">
   <LINK REL="Next"  HREF="027562.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Strange ambiguous decision warning</H1>
    <B>Martin Probst</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Strange%20ambiguous%20decision%20warning&In-Reply-To=%3CFB4AAA69-8E18-42C0-9338-C47E8915B0E7%40martin-probst.com%3E"
       TITLE="[antlr-interest] Strange ambiguous decision warning">mail at martin-probst.com
       </A><BR>
    <I>Wed Apr  2 01:19:20 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027601.html">[antlr-interest] create eclipse plug with antlr
</A></li>
        <LI>Next message: <A HREF="027562.html">[antlr-interest] Strange ambiguous decision warning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27561">[ date ]</a>
              <a href="thread.html#27561">[ thread ]</a>
              <a href="subject.html#27561">[ subject ]</a>
              <a href="author.html#27561">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I'm running into a seemingly strange ambiguity warning with ANTLR 3  
(latest beta).

I have a rule like this:
sequenceType	:	(EMPTY_SEQUENCE '(' ')')
			| (itemType occurrenceIndicator) =&gt; (itemType occurrenceIndicator)
			| itemType ;
occurrenceIndicator	
		:	'?' | '*' | '+';
itemType	:	kindTest | (ITEM '(' ')') | atomicType ;
kindTest	:	...;
atomicType	:	qNameOrIdent ;
qNameOrIdent	:	QNAME | EMPTY_SEQUENCE | ...;

ANTLR complains about sequenceType:
ANTLR Parser Generator  Version 3.1b1 (??)  1989-2007
warning(200): /Users/martin/workspace/XQPretty/src/antlr/XQuery.g: 
235:14: Decision can match input such as &quot;EMPTY_SEQUENCE&quot; using  
multiple alternatives: 1, 2, 3
As a result, alternative(s) 2,3 were disabled for that input

Now the problem is: I cannot isolate the (apparent) bug into a small  
example. The sequenceType rule is of course part of a larger grammar  
(XQuery), which is quite complex. If I just excerpt all the rules  
below sequenceType, the problem does not occur. Which is pretty  
strange, as there is no more recursion, sequenceType is a dead end wrt  
the grammar.

I've attached the full XQuery grammar. There are still some lexical  
issues, but I've more or less disabled those rules, so this is the  
only problem the grammar currently has (I hope...).

I'd be grateful for any input on this.

Thanks,
Martin

-------------- next part --------------
A non-text attachment was scrubbed...
Name: XQuery.g
Type: application/octet-stream
Size: 14772 bytes
Desc: not available
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080402/bf7cbf2f/attachment.obj">http://www.antlr.org/pipermail/antlr-interest/attachments/20080402/bf7cbf2f/attachment.obj</A> 
-------------- next part --------------

</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027601.html">[antlr-interest] create eclipse plug with antlr
</A></li>
	<LI>Next message: <A HREF="027562.html">[antlr-interest] Strange ambiguous decision warning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27561">[ date ]</a>
              <a href="thread.html#27561">[ thread ]</a>
              <a href="subject.html#27561">[ subject ]</a>
              <a href="author.html#27561">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
