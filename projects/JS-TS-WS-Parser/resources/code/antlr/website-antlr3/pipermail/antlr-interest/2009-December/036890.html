<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Help with a tree grammar: losing a list	of	statements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Help%20with%20a%20tree%20grammar%3A%20losing%20a%20list%0A%09of%09statements&In-Reply-To=%3C226316B3E1F749498E28ACA66321D5BA4EAFF3FE%40oma00cexmbx03.corp.westworlds.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036889.html">
   <LINK REL="Next"  HREF="036891.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Help with a tree grammar: losing a list	of	statements</H1>
    <B>Pauba, Kevin L</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Help%20with%20a%20tree%20grammar%3A%20losing%20a%20list%0A%09of%09statements&In-Reply-To=%3C226316B3E1F749498E28ACA66321D5BA4EAFF3FE%40oma00cexmbx03.corp.westworlds.com%3E"
       TITLE="[antlr-interest] Help with a tree grammar: losing a list	of	statements">KLPauba at west.com
       </A><BR>
    <I>Tue Dec  1 10:06:05 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="036889.html">[antlr-interest] Help with a tree grammar: losing a list of	statements
</A></li>
        <LI>Next message: <A HREF="036891.html">[antlr-interest] Antlr does not generate Lexer from a composite	grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36890">[ date ]</a>
              <a href="thread.html#36890">[ thread ]</a>
              <a href="subject.html#36890">[ subject ]</a>
              <a href="author.html#36890">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the helpful hints, Jim.

Using the debugging method you described makes me think the statement rule's st isn't right - I'll have to do some more reading/learning since the only st that was used was in the &quot;while&quot; rule.

Kevin

From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Jim Idle
Sent: Tuesday, December 01, 2009 11:49 AM
To: antlr-interest
Subject: Re: [antlr-interest] Help with a tree grammar: losing a list of statements

$s is the correct reference, but it is a collection of whatever the statement rule returns, so you may need to use an iterator in your string template. , or it might just be that your statement rule isn't setting up its st properly.

stats={$s}

then

..., stats) ::= &lt;&lt;
...
&lt;stats:{&lt;it&gt;}; separator=&quot;\n&quot;&gt;

Your reference to $text is the text for the whole node, and so you get the while keyword too. So, check your  statement rule generates a good st, then use $s=statement and just pass in  $s.st to check that just one statement works, then go to s+= and see if that works, then add an iterator in the template and see if that works. Use small incremental changes to see where your problem lies, rather than just stabbing in the dark ;-)

Also do not forget that you do not HAVE to use rewrite rules, you can create the template in an action, then repeatedly set the stats attribute in your loop, which will create a collection of StringTemplate.

Jim

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20091201/f24c56c3/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20091201/f24c56c3/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036889.html">[antlr-interest] Help with a tree grammar: losing a list of	statements
</A></li>
	<LI>Next message: <A HREF="036891.html">[antlr-interest] Antlr does not generate Lexer from a composite	grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36890">[ date ]</a>
              <a href="thread.html#36890">[ thread ]</a>
              <a href="subject.html#36890">[ subject ]</a>
              <a href="author.html#36890">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
