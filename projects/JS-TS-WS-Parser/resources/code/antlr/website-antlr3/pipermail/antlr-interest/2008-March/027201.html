<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] postmortem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20postmortem&In-Reply-To=%3C47D9748D.7060901%40jazillian.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027196.html">
   <LINK REL="Next"  HREF="027205.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] postmortem</H1>
    <B>Andy Tripp</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20postmortem&In-Reply-To=%3C47D9748D.7060901%40jazillian.com%3E"
       TITLE="[antlr-interest] postmortem">antlr at jazillian.com
       </A><BR>
    <I>Thu Mar 13 11:38:05 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027196.html">[antlr-interest] postmortem
</A></li>
        <LI>Next message: <A HREF="027205.html">[antlr-interest] postmortem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27201">[ date ]</a>
              <a href="thread.html#27201">[ thread ]</a>
              <a href="subject.html#27201">[ subject ]</a>
              <a href="author.html#27201">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Darien Hager wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 3/13/08, *Gavin Lambert* &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at mirality.co.nz</A> 
</I>&gt;<i> &lt;mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at mirality.co.nz</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     I had a fairly trivial DSL to parse and I wanted to throw it into
</I>&gt;<i>     a codegen routine afterwards.  I noticed that there was this &quot;AST&quot;
</I>&gt;<i>     option that said it would output a tree, which I thought would be
</I>&gt;<i>     useful.  So I switched it on, and was puzzled that I didn't get a
</I>&gt;<i>     tree out of it.  (I was basically expecting that by default every
</I>&gt;<i>     time I called a subrule it would drop a level down in the tree.) 
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I had the same experience. However, the architectual impliciations behind action code creeped me out even more, so I kept looking :P
</I>I started with ANTLR by using an existing (C) grammar, not my own from 
scratch.
In my case, it wasn't until I started wanting changes in the AST that I 
went to figure out
how the AST was being built. My first reaction was probably &quot;wait, there 
are two things going on here, one is
to parse the input and the other is to build a tree...shouldn't those be 
two distinct steps? And then the realization that
building the AST involved little more than throwing in ^ and ! into the 
grammar. And finally, the realization that
there's no other reasonable way to do it.
&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     However I can see the other side of this too.  If ANTLR did
</I>&gt;<i>     default to dropping a tree level for each subrule call, how would
</I>&gt;<i>     you go ahout telling it to not do that?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Could this be a tool-level solution? Parse the grammar 
</I>&gt;<i> file, and automatically insert basic AST-rewrite rules to achieve the same effect? The benefit of this is that it involves no additional magic on ANTLR's part, and would be easier to customize if it turns  
</I>&gt;<i> out that the grammar rules are best arranged in one way but the AST is 
</I>&gt;<i> best arranged in another.
</I>That would be an interesting project.
My guess is that you could use various heuristics to try to figure out 
what a reasonable AST might be.
But that approach of using heuristics and producing less-than-perfect 
output doesn't go over well with the compiler crowd.
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Darien Hager
</I>&gt;<i> Developer
</I>&gt;<i> Etelos, Inc.
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">darien at etelos.com</A> &lt;mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">darien at etelos.com</A>&gt;
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.etelos.com">http://www.etelos.com</A>
</I>&gt;<i> &quot;Revolutionizing the way applications are developed, distributed and 
</I>&gt;<i> consumed.&quot;
</I>&gt;<i>
</I>&gt;<i> This e-mail message, including attachments, may contain confidential 
</I>&gt;<i> information for the sole use of the intended recipient(s). If you are 
</I>&gt;<i> not the intended recipient, then this is notice that any use, 
</I>&gt;<i> disclosure, dissemination, distribution or copying is strictly 
</I>&gt;<i> prohibited. If you have received this message in error please contact 
</I>&gt;<i> the sender by reply mail and destroy all copies of the original message.
</I>&gt;<i> This e-mail message, including attachments, may contain confidential information 
</I>&gt;<i> for the sole use of the intended recipient(s). If you are not the intended recipient,
</I>&gt;<i> then this is notice that any use, disclosure, dissemination, distribution or copying is 
</I>&gt;<i> strictly prohibited.  If you have received this message in error please contact the 
</I>&gt;<i> sender by reply mail and destroy all copies of the original message.
</I>&gt;<i>
</I>&gt;<i>   
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080313/8e801583/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080313/8e801583/attachment-0001.html</A> 
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027196.html">[antlr-interest] postmortem
</A></li>
	<LI>Next message: <A HREF="027205.html">[antlr-interest] postmortem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27201">[ date ]</a>
              <a href="thread.html#27201">[ thread ]</a>
              <a href="subject.html#27201">[ subject ]</a>
              <a href="author.html#27201">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
