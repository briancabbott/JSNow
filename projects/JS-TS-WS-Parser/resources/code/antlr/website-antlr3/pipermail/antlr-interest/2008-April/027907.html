<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Rewrite rules - preserve internal whitespace?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Rewrite%20rules%20-%20preserve%20internal%20whitespace%3F&In-Reply-To=%3C1080AEABD1979E42A15840F08084B67BFE3ADB%40vcmsydexh.vecommerce.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027869.html">
   <LINK REL="Next"  HREF="027870.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Rewrite rules - preserve internal whitespace?</H1>
    <B>Peter Nann</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Rewrite%20rules%20-%20preserve%20internal%20whitespace%3F&In-Reply-To=%3C1080AEABD1979E42A15840F08084B67BFE3ADB%40vcmsydexh.vecommerce.com%3E"
       TITLE="[antlr-interest] Rewrite rules - preserve internal whitespace?">peter.nann at vecommerce.com.au
       </A><BR>
    <I>Fri Apr 18 00:48:50 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027869.html">[antlr-interest] Rewrite rules - preserve internal whitespace?
</A></li>
        <LI>Next message: <A HREF="027870.html">[antlr-interest] Rewrite rules - preserve internal whitespace?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27907">[ date ]</a>
              <a href="thread.html#27907">[ thread ]</a>
              <a href="subject.html#27907">[ subject ]</a>
              <a href="author.html#27907">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Thanks Gavin.

You've clarified that at least I sort of know what's going on.  ;-)

Our resident Java Guru here has just whipped up a hand-written parser in
an afternoon that is close to doing what we want...

I think ANTLR was not quite suited to our purposes....
Maybe too many fancy features for our simple task at hand.

Or more likely, I just didn't manage to get a handle on it all quickly
enough and pare it down to just what we needed.

Cheers.

-----Original Message-----
From: Gavin Lambert [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at mirality.co.nz</A>] 
Sent: Thursday, 17 April 2008 10:39 PM
To: Peter Nann; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] Rewrite rules - preserve internal
whitespace?

At 00:30 18/04/2008, Peter Nann wrote:
 &gt;Rewrite rules don't maintain the whitespace (and probably not
 &gt;comments) internal to the construct being re-written?

They will if you include them.  Otherwise they won't.

 &gt;Will still come out:
 &gt;&quot;x := 1&quot;
 &gt;
 &gt;Is this right?

I believe so, yes.  You're throwing away the whitespace tokens in the
input and including only those that you &quot;care about&quot;.

 &gt;Soooo, having rewrite rules for complex (lets say nested),
&gt;<i>multi-line structures is going to output probably one gigantic
</I>&gt;<i>line???
</I>
Not necessarily.  It will output whatever you tell it to output.  If you
put newlines in your template, you'll get newlines in your output.  If
you include a token that contains a newline, you'll get newlines in your
output.

If you want to maintain the newlines from the input, then you'll need to
avoid filtering them out when doing the lexing/parsing.  So no hidden
channels.  (Or at least, if you do still want to put them on the hidden
channel you'll have to do something more complicated to pull them back
into your template later on.)

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027869.html">[antlr-interest] Rewrite rules - preserve internal whitespace?
</A></li>
	<LI>Next message: <A HREF="027870.html">[antlr-interest] Rewrite rules - preserve internal whitespace?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27907">[ date ]</a>
              <a href="thread.html#27907">[ thread ]</a>
              <a href="subject.html#27907">[ subject ]</a>
              <a href="author.html#27907">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
