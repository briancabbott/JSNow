<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Grammar dependencies (was Re: Expected token apparently not expected?!)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Grammar%20dependencies%20%28was%20Re%3A%20Expected%20token%20apparently%20not%20expected%3F%21%29&In-Reply-To=20040909205705.GA29932%40cs.utwente.nl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009271.html">
   <LINK REL="Next"  HREF="009281.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Grammar dependencies (was Re: Expected token apparently not expected?!)</H1>
    <B>David Bullock</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Grammar%20dependencies%20%28was%20Re%3A%20Expected%20token%20apparently%20not%20expected%3F%21%29&In-Reply-To=20040909205705.GA29932%40cs.utwente.nl"
       TITLE="[antlr-interest] Grammar dependencies (was Re: Expected token apparently not expected?!)">db at dawnbreaks.net
       </A><BR>
    <I>Thu Sep  9 23:12:27 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="009271.html">[antlr-interest] Re: Expected token apparently not expected?!
</A></li>
        <LI>Next message: <A HREF="009281.html">[antlr-interest] Grammar dependencies (was Re: Expected token apparently not expected?!)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9278">[ date ]</a>
              <a href="thread.html#9278">[ thread ]</a>
              <a href="subject.html#9278">[ subject ]</a>
              <a href="author.html#9278">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>, Ric Klaren &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">klaren at c...</A>&gt; wrote:
&gt;<i> Always use import/export vocab in a clear chain. E.g. have 
</I>definitions move
&gt;<i> up:
</I>&gt;<i> 
</I>&gt;<i> Lexer -&gt; Parser -&gt; treeparser
</I>
Hi Ric,

Thanks for your reply (which got me a solution in the end!).

I guess the problem is that if you use literals in the parser, then 
the lexer needs to get these somehow.  This means that the grammar 
needs to be 'pushed back' to the lexer.

&gt;<i> In l.g do exportVocab = L;
</I>&gt;<i> In p.g do importVocab = L; and exportVocab = P;
</I>
Instead I did:
 
  p.g   exportVocab = L;
  l.g   importVocab = P;

and compiled p.g first.

This seems counter-intutitive to me (and not to your taste either, I 
gather), but it makes my paser behave how I want it to.

IMHO it would be better to dispense with importing and exporting 
vocabularies, and have antlr.Tool accept multiple grammar files on 
the command-line, to achieve similar results as the 'all classes 
defined in one grammar file' semantics.

thanks!
David



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
    <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
    <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
    <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009271.html">[antlr-interest] Re: Expected token apparently not expected?!
</A></li>
	<LI>Next message: <A HREF="009281.html">[antlr-interest] Grammar dependencies (was Re: Expected token apparently not expected?!)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9278">[ date ]</a>
              <a href="thread.html#9278">[ thread ]</a>
              <a href="subject.html#9278">[ subject ]</a>
              <a href="author.html#9278">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
