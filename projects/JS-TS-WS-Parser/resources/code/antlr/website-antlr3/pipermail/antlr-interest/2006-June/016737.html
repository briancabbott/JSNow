<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] questions basic or difficult ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20questions%20basic%20or%20difficult%20%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016736.html">
   <LINK REL="Next"  HREF="016738.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] questions basic or difficult ?</H1>
    <B>Tom Liu</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20questions%20basic%20or%20difficult%20%3F&In-Reply-To="
       TITLE="[antlr-interest] questions basic or difficult ?">TomL at avokia.com
       </A><BR>
    <I>Tue Jun 27 15:46:10 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016736.html">[antlr-interest] Patches for ANTLR-2.7.6
</A></li>
        <LI>Next message: <A HREF="016738.html">[antlr-interest] ANTLR 3.0b1 is out!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16737">[ date ]</a>
              <a href="thread.html#16737">[ thread ]</a>
              <a href="subject.html#16737">[ subject ]</a>
              <a href="author.html#16737">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi, All

I am testing to use Antlr 2.7.6  to parser sybase stored procedures,
Does anyone have the .g file for stored procedure or sql statement?

Considering the following script as a typical input, 
Test.sql
--------------------------------------
Drop table test 
Go
Drop procedure testsp
Create procedure testsp
as 
   drop table test
   create table test(id int not null, str varchar(20))
go
Create procedure testsp1
as 
begin
   insert into test values(1,'test')
   update test set str='another' 
     where id=(select count(*) from test) and str = 'test'
   select * from test 
end
--------------------------------------
You may notice that there is no last &quot;go&quot; at the end of the file,
And there is nothing that can be used as the flag for the end of a
statement
(actually all the script can be written in one line)

How do I define the rules if I want to generate a xml like following?
Test.sql.xml
--------------------------------------
&lt;root&gt;
&lt;GOBLOCK&gt;&lt;STATEMENT&gt;Drop table test&lt;/STATEMENT&gt;&lt;/GOBLOCK&gt;
&lt;GOBLOCK&gt;
   &lt;STATEMENT&gt;Drop procedure testsp&lt;/STATEMENT&gt; 
   &lt;STATEMENT&gt;Create procedure testsp as 
   	&lt;STATEMENT&gt;drop table test&lt;/STATEMENT&gt;
   	&lt;STATEMENT&gt;create table test(id int not null, str varchar[20])

   	&lt;/STATEMENT&gt;   
   &lt;/STATEMENT&gt;
&lt;/GOBLOCK&gt;
&lt;GOBLOCK&gt;
   &lt;STATEMENT&gt;Create procedure testsp1 as begin
       &lt;STATEMENT&gt;insert into test values(1,'test')&lt;/STATEMENT&gt;
       &lt;STATEMENT&gt;update test set str='another' 
              where id=(select count(*) from test) and str = 'test'
       &lt;/STATEMENT&gt;
       &lt;STATEMENT&gt;select * from test&lt;/STATEMENT&gt;
       end
    &lt;/STATEMENT&gt;
&lt;/GOBLOCK&gt;
&lt;/root&gt;
--------------------------------------

Is this some difficult?

Could anyone give me suggestions or example about this,

Thanks a lot,

Tom

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016736.html">[antlr-interest] Patches for ANTLR-2.7.6
</A></li>
	<LI>Next message: <A HREF="016738.html">[antlr-interest] ANTLR 3.0b1 is out!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16737">[ date ]</a>
              <a href="thread.html#16737">[ thread ]</a>
              <a href="subject.html#16737">[ subject ]</a>
              <a href="author.html#16737">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
