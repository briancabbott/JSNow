<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Correct way to pass arguments with ANTLR
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Correct%20way%20to%20pass%20arguments%20with%20ANTLR&In-Reply-To=%3CD75FD294-AC6B-4090-9361-CDE813395E23%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035171.html">
   <LINK REL="Next"  HREF="035170.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Correct way to pass arguments with ANTLR</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Correct%20way%20to%20pass%20arguments%20with%20ANTLR&In-Reply-To=%3CD75FD294-AC6B-4090-9361-CDE813395E23%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Correct way to pass arguments with ANTLR">jimi at temporal-wave.com
       </A><BR>
    <I>Sun Jul 12 08:39:22 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="035171.html">[antlr-interest] Correct way to pass arguments with ANTLR
</A></li>
        <LI>Next message: <A HREF="035170.html">[antlr-interest] Interpreter exceptions?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35172">[ date ]</a>
              <a href="thread.html#35172">[ thread ]</a>
              <a href="subject.html#35172">[ subject ]</a>
              <a href="author.html#35172">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Your predicates are hoisted and so you do not have access to the local  
parameter. Search the list archives and  you will see how to use  
scopes for this. Just assign the value to a scope variable and use  
that in your predicate.

Jim

On Jul 12, 2009, at 7:55 AM, Carter Cheng &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">carter_cheng at yahoo.com</A>&gt;  
wrote:

&gt;<i>
</I>&gt;<i> Actually this still isnt working. Is what I have legal ANTLR 3.1.3  
</I>&gt;<i> code? I am getting the following error-
</I>&gt;<i>
</I>&gt;<i> lpcParser.c: In function &#8216;void synpred49_lpc_fragment(lpcParser_Ctx_ 
</I>&gt;<i> struct*)&#8217;:
</I>&gt;<i> lpcParser.c:13341: error: &#8216;e&#8217; was not declared in this scope
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Generated by the following predicate block-
</I>&gt;<i>
</I>&gt;<i> // $ANTLR start synpred49_lpc
</I>&gt;<i> static void synpred49_lpc_fragment(plpcParser ctx )
</I>&gt;<i> {
</I>&gt;<i>    exp::Exp* s;
</I>&gt;<i>    #undef    RETURN_TYPE_s
</I>&gt;<i>    #define    RETURN_TYPE_s exp::Exp*
</I>&gt;<i>
</I>&gt;<i>    s = NULL;
</I>&gt;<i>
</I>&gt;<i>    // /home/carter/sorrows-working5/sorrows/trunk/src/compiler/lpc.g: 
</I>&gt;<i> 248:31: (s= selector[e] )
</I>&gt;<i>    // /home/carter/sorrows-working5/sorrows/trunk/src/compiler/lpc.g: 
</I>&gt;<i> 248:31: s= selector[e]
</I>&gt;<i>    {
</I>&gt;<i>        FOLLOWPUSH(FOLLOW_selector_in_synpred49_lpc1550);
</I>&gt;<i>        s=selector(ctx, e);
</I>&gt;<i>
</I>&gt;<i>        FOLLOWPOP();
</I>&gt;<i>        if  (HASEXCEPTION())
</I>&gt;<i>        {
</I>&gt;<i>            goto rulesynpred49_lpcEx;
</I>&gt;<i>        }
</I>&gt;<i>        if (HASFAILED())
</I>&gt;<i>        {
</I>&gt;<i>            return ;
</I>&gt;<i>        }
</I>&gt;<i>
</I>&gt;<i>    }
</I>&gt;<i>
</I>&gt;<i> I am not sure how best to fix this. Any advice would be appreciated.  
</I>&gt;<i> Thanks in advance,
</I>&gt;<i>
</I>&gt;<i> Carter.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --- On Sat, 7/11/09, Carter Cheng &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">carter_cheng at yahoo.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> From: Carter Cheng &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">carter_cheng at yahoo.com</A>&gt;
</I>&gt;&gt;<i> Subject: Re: [antlr-interest] Correct way to pass arguments with  
</I>&gt;&gt;<i> ANTLR
</I>&gt;&gt;<i> To: &quot;Terence Parr&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>&gt;
</I>&gt;&gt;<i> Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;&gt;<i> Date: Saturday, July 11, 2009, 11:44 AM
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi Terence,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks for the reply. I managed to work around the problem
</I>&gt;&gt;<i> by do this-
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> unary returns [exp::Exp* e]
</I>&gt;&gt;<i>     : p=primary { $e = $p.e; }
</I>&gt;&gt;<i> (s=selector[e] { $e = $s.e;} )*
</I>&gt;&gt;<i>         ;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I tried $p as well and it ANTLR doesnt seem to accept it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Carter.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --- On Sat, 7/11/09, Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> From: Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>&gt;
</I>&gt;&gt;&gt;<i> Subject: Re: [antlr-interest] Correct way to pass
</I>&gt;&gt;<i> arguments with ANTLR
</I>&gt;&gt;&gt;<i> To: &quot;Carter Cheng&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">carter_cheng at yahoo.com</A>&gt;
</I>&gt;&gt;&gt;<i> Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;&gt;&gt;<i> Date: Saturday, July 11, 2009, 10:43 AM
</I>&gt;&gt;&gt;<i> $p?
</I>&gt;&gt;&gt;<i> Ter
</I>&gt;&gt;&gt;<i> On Jul 11, 2009, at 9:36 AM, Carter Cheng wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I have been having some difficulties getting a
</I>&gt;&gt;<i> rule
</I>&gt;&gt;&gt;<i> which looks somewhat as follows to work with ANTLR
</I>&gt;&gt;<i> 3.1.3 and
</I>&gt;&gt;&gt;<i> the C runtime. I am not sure if I am passing the
</I>&gt;&gt;<i> parameter
</I>&gt;&gt;&gt;<i> in question correctly. The rule is as follows-
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> exp    : p=primary (selector[p])*
</I>&gt;&gt;&gt;&gt;<i>         ;
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> The error I am getting is this:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> lpcParser.c: In function &#8216;void
</I>&gt;&gt;&gt;<i> synpred23_lpc_fragment(lpcParser_Ctx_struct*)&#8217;:
</I>&gt;&gt;&gt;&gt;<i> lpcParser.c:10684: error: &#8216;p&#8217; was not
</I>&gt;&gt;<i> declared in
</I>&gt;&gt;&gt;<i> this scope
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Thanks in advance,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Carter.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;&gt;&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035171.html">[antlr-interest] Correct way to pass arguments with ANTLR
</A></li>
	<LI>Next message: <A HREF="035170.html">[antlr-interest] Interpreter exceptions?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35172">[ date ]</a>
              <a href="thread.html#35172">[ thread ]</a>
              <a href="subject.html#35172">[ subject ]</a>
              <a href="author.html#35172">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
