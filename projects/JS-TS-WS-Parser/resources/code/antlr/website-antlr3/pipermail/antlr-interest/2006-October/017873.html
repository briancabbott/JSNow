<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] philosophy about translation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20philosophy%20about%20translation&In-Reply-To=1160365442.18004.14.camel%40localhost.localdomain">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017847.html">
   <LINK REL="Next"  HREF="017888.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] philosophy about translation</H1>
    <B>Andy Tripp</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20philosophy%20about%20translation&In-Reply-To=1160365442.18004.14.camel%40localhost.localdomain"
       TITLE="[antlr-interest] philosophy about translation">antlr at jazillian.com
       </A><BR>
    <I>Tue Oct 10 08:12:35 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017847.html">[antlr-interest] philosophy about translation
</A></li>
        <LI>Next message: <A HREF="017888.html">[antlr-interest] philosophy about translation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17873">[ date ]</a>
              <a href="thread.html#17873">[ thread ]</a>
              <a href="subject.html#17873">[ subject ]</a>
              <a href="author.html#17873">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sohail Somani wrote:

&gt;<i>
</I>&gt;&gt;<i>Its weird that you're walking token streams, but what it seems it that
</I>&gt;&gt;<i>you're implementing the recursive descent parser by hand...
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>But a parser converts a token stream to an AST, I'm not using an AST, 
but dealing with
the stream directly because that seems easier to me. I find it easier to 
search for
pattern &quot;f(...) {&quot; to look for a function, rather than search a tree for 
a node of type
FUNCTION_DECLARATION.

&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>b) It's not actually clear, in COBOL, what a function *is*. There are 
</I>&gt;&gt;<i>paragraphs, which
</I>&gt;&gt;<i>typically map to a function, but there can also be &quot;stray code&quot; at the 
</I>&gt;&gt;<i>top of a file that's
</I>&gt;&gt;<i>not in a paragraph but needs to be in a function.
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>I believe there is an unspoken rule that all bets are off with COBOL?
</I>&gt;<i>  
</I>&gt;<i>
</I>Yes, I suppose. But even with C and C++, what seems simple may not be. 
For example, you'd think that
struct person p[100];
might correspond to a single line of Java, but it doesn't (you need to 
initialize the
array). So suddenly, out of nowhere, you may have to add a static block 
of code. That's
a typical one-to-many type of thing.

&gt;<i>  
</I>&gt;<i>
</I>&gt;&gt;<i>c) I have a feeling there might be a problem if I move code around. I 
</I>&gt;&gt;<i>can't think of a specific
</I>&gt;&gt;<i>example right now, but that's my general thinking for avoiding symbol 
</I>&gt;&gt;<i>table use if I can - better
</I>&gt;&gt;<i>to have a single data structure (in my case a token stream) rather than 
</I>&gt;&gt;<i>two (a token stream
</I>&gt;&gt;<i>and a symbol table) that need to be kept in sync.
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Well, in your case you're managing both. In my case, I just worry about
</I>&gt;<i>telling antlr the grammar and managing the symbol table appropriately.
</I>&gt;<i>
</I>&gt;<i>For my compiler, I needed to spit out lots of warnings since it was
</I>&gt;<i>basically a cfront type deal, albeit not for C++ (thankfully!) I found
</I>&gt;<i>that having a crude symbol table was very easy and natural. I couldn't
</I>&gt;<i>imagine re-parsing the token stream just to determine the type of a
</I>&gt;<i>variable, something I might need to do more than once. For example, if
</I>&gt;<i>you see:
</I>&gt;<i>
</I>&gt;<i>	a.b();
</I>&gt;<i>
</I>&gt;<i>You might need to know if a is a class (this making b a static function
</I>&gt;<i>call) or an object. Once you have decided that a is one or the other, I
</I>&gt;<i>don't see why you'd do it again...
</I>&gt;<i>  
</I>&gt;<i>
</I>because it may certainly have changed since you last looked at it..in 
other words, the symbol
table can be a mess to maintain. In my case, the return type of b() may 
have change, the name of it
may have changed, its argument types may have changed.

Also, my tool does not have to be fast - if it takes an hour to 
translate some code, when it could
have taken 2 seconds if I had designed it &quot;right&quot;, that's ok.


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017847.html">[antlr-interest] philosophy about translation
</A></li>
	<LI>Next message: <A HREF="017888.html">[antlr-interest] philosophy about translation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17873">[ date ]</a>
              <a href="thread.html#17873">[ thread ]</a>
              <a href="subject.html#17873">[ subject ]</a>
              <a href="author.html#17873">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
