<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer recognition exceptions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20recognition%20exceptions&In-Reply-To=%3C49808D06.1020202%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032619.html">
   <LINK REL="Next"  HREF="032622.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer recognition exceptions</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20recognition%20exceptions&In-Reply-To=%3C49808D06.1020202%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Lexer recognition exceptions">jimi at temporal-wave.com
       </A><BR>
    <I>Wed Jan 28 08:51:18 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032619.html">[antlr-interest] Lexer recognition exceptions
</A></li>
        <LI>Next message: <A HREF="032622.html">[antlr-interest] Optimizations of tree rewriting in C target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32620">[ date ]</a>
              <a href="thread.html#32620">[ thread ]</a>
              <a href="subject.html#32620">[ subject ]</a>
              <a href="author.html#32620">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bruno Marc-Aurele wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I am currently doing a project where the description of our software
</I>&gt;<i> architecture is very important. Therefore, I have to understand the code that's
</I>&gt;<i> generated by ANTLR properly (academic stuff... Need to provide documents and
</I>&gt;<i> follow them...)
</I>&gt;<i>
</I>&gt;<i> I have seen that the generated parser catches the RecognitionExpections during
</I>&gt;<i> parsing. How about the lexer? There is no catch block, so I understand that the
</I>&gt;<i> exceptions are to be catched by us when we instantiate the lexer object. Am I
</I>&gt;<i> right or is there some tricky mechanics involved in the base classes that I am
</I>&gt;<i> not aware of?
</I>&gt;<i>   
</I>There is very little that a lexer can do when it encounters something 
that it does not like. In fact all it can really do is print a message 
and consume the character it is looking at. Look at the nextToken() 
method in Lexer.java and the mTokens() code. So, you can override the 
error reporting if you like.

However really, you are supposed to code your lexer to handle errors. At 
the simplest case, you create a catch all rule to pick out characters 
that you have not otherwise created a match for:

BAD : . { your error handler } ;

However, you also need to cater for things that can happen once the 
prediction has indicated a particular rule and something goes wrong 
while executing the match. For instance, unterminated literal strings 
and so on. Code as much of this as is useful/practical, then override 
the error reporting mechanism to give you some error that will make 
sense to your users that is more than &quot;Unrecognized character&quot;. It could 
also do custom recovery I suppose too.

Also see:

<A HREF="http://antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating+point%2C+dot%2C+range%2C+time+specs">http://antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating+point%2C+dot%2C+range%2C+time+specs</A> 


For an example of coding for errors.

Jim
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032619.html">[antlr-interest] Lexer recognition exceptions
</A></li>
	<LI>Next message: <A HREF="032622.html">[antlr-interest] Optimizations of tree rewriting in C target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32620">[ date ]</a>
              <a href="thread.html#32620">[ thread ]</a>
              <a href="subject.html#32620">[ subject ]</a>
              <a href="author.html#32620">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
