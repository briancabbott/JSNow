<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR 3.0 tree construction proposal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ANTLR%203.0%20tree%20construction%20proposal&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011037.html">
   <LINK REL="Next"  HREF="011040.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR 3.0 tree construction proposal</H1>
    <B>Jim O'Connor</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ANTLR%203.0%20tree%20construction%20proposal&In-Reply-To="
       TITLE="[antlr-interest] ANTLR 3.0 tree construction proposal">Jim.O'Connor at microfocus.com
       </A><BR>
    <I>Mon Jan 31 08:27:39 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011037.html">[antlr-interest] ANTLR 3.0 is going to have Lexer as fast as FLEX
	?
</A></li>
        <LI>Next message: <A HREF="011040.html">[antlr-interest] ANTLR 3.0 tree construction proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11038">[ date ]</a>
              <a href="thread.html#11038">[ thread ]</a>
              <a href="subject.html#11038">[ subject ]</a>
              <a href="author.html#11038">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Terence,
  I have reactions from my perspective (how can they not be?).  I considered
a few general goals. 
1. What is the learning cost to using Antlr? 

	I use as example &quot;How do I get line numbers from my AST?&quot; In version
2.7.4 and earlier, the necessity of understanding the CommonAST, BaseAST,
Token structure is a barrier to an &quot;educated&quot; user.  Maybe this is a good
thing.
	What is my point?  Tree construction syntax is already a barrier to
overcome to reading Antlr grammars.  To what point is &quot;new/better&quot;
functionality increasing the &quot;learning barrier&quot; for doing simple things?  

Note 1: I haven't used String Template.  Will that be a necessity to
understand Antlr 3.0?
Note 2: I like the effect of ^^.

2. Predicates, Tree construction and actions.
	To use old/current terminology, guessing = 0 means execute an
action.  Consider a rule

Oldstylepredicate :
	a b c =&gt; a b c
	| blah blah ;


Assume I have actions on &quot;a&quot;, &quot;b&quot;, and &quot;c&quot;.  These must get executed in
order.

Newstyletree :
	a b c =&gt; c c a a b b
	| blah blah ;

The actions on rules &quot;a&quot;, &quot;b&quot;, and &quot;c&quot; will get executed out of order and
multiple times.  This comment may reveal some strange kind of ignorance.  I
have to be intelligent enough to realize the effect, but stupid enough to do
it.

3. Predicates, Tree construction and actions, again.

	Would it be useful to change the designator from &quot;=&gt;&quot; to something
else?  Again, the &quot;stuff&quot; on the right can be in any order!!!  I guess I am
stuck on the matching order.

4. Missing the whole point.
	The desired effect is to produce a tree that is in the &quot;correct&quot;
order.  This leads to more efficient tree traversal and better ordered
actions in the tree grammar.  The proposal addresses these issues.  Does it
do away with the manual manipulation of the trees?  The imaginary nodes
appears to be a stumbling block.  Or can a @attribute.Imaginary.THISTHING be
created in a header section be used anywhere?

Jim
P.S. Sorry, this is what you get when you're supposed to be doing other work
and &quot;waste&quot; the time considering theoretical Antlr issues.  Hope this is
useful.



&gt;<i> -----Original Message-----
</I>&gt;<i> From: Terence Parr [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>]
</I>&gt;<i> Sent: Sunday, January 30, 2005 6:09 PM
</I>&gt;<i> To: ANTLR Interest
</I>&gt;<i> Subject: [antlr-interest] ANTLR 3.0 tree construction proposal
</I>&gt;<i> 
</I>&gt;<i> Howdy,
</I>&gt;<i> 
</I>&gt;<i> After a lot of typing (and I mean a lot), you'll see my ANTLR 3.0 tree
</I>&gt;<i> construction proposal.  After the proposal, you'll see my long stream
</I>&gt;<i> of consciousness as I wander through the design process (you can
</I>&gt;<i> probably ignore that part).
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.antlr.org/blog/antlr3/trees.tml">http://www.antlr.org/blog/antlr3/trees.tml</A>
</I>&gt;<i> 
</I>&gt;<i> I include a summary of the current opposition to this proposal.  So far
</I>&gt;<i> I have one smart guy for (Sriram Srinivasan has seen an overview of
</I>&gt;<i> this) and one smart guy against (Loring Craymer). ;)
</I>&gt;<i> 
</I>&gt;<i> There are lots of details that will get shaken out when I implement
</I>&gt;<i> whatever we decide, but the broad strokes are there.
</I>&gt;<i> 
</I>&gt;<i> Whew...enough typing for a while.
</I>&gt;<i> 
</I>&gt;<i> Ter
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> This message has been scanned for viruses by MailController -
</I>&gt;<i> www.MailController.altohiway.com
</I></PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011037.html">[antlr-interest] ANTLR 3.0 is going to have Lexer as fast as FLEX
	?
</A></li>
	<LI>Next message: <A HREF="011040.html">[antlr-interest] ANTLR 3.0 tree construction proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11038">[ date ]</a>
              <a href="thread.html#11038">[ thread ]</a>
              <a href="subject.html#11038">[ subject ]</a>
              <a href="author.html#11038">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
