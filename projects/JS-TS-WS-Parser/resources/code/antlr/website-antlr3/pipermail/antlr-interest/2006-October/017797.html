<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] How to do a specific operation once on every token in the _parser_?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20How%20to%20do%20a%20specific%20operation%20once%20on%20every%0A%20token%20in%20the%20_parser_%3F&In-Reply-To=BE78D3E1-7645-458B-A25A-01152A0CC94B%40cs.usfca.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017787.html">
   <LINK REL="Next"  HREF="017784.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] How to do a specific operation once on every token in the _parser_?</H1>
    <B>Jan Harder</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20How%20to%20do%20a%20specific%20operation%20once%20on%20every%0A%20token%20in%20the%20_parser_%3F&In-Reply-To=BE78D3E1-7645-458B-A25A-01152A0CC94B%40cs.usfca.edu"
       TITLE="[antlr-interest] How to do a specific operation once on every token in the _parser_?">harder at tzi.de
       </A><BR>
    <I>Thu Oct  5 09:18:24 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017787.html">[antlr-interest] How to do a specific operation once on every	token in the _parser_?
</A></li>
        <LI>Next message: <A HREF="017784.html">[antlr-interest] parsing java 1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17797">[ date ]</a>
              <a href="thread.html#17797">[ thread ]</a>
              <a href="subject.html#17797">[ subject ]</a>
              <a href="author.html#17797">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Terence Parr schrieb:
&gt;<i>
</I>&gt;<i> On Oct 4, 2006, at 7:18 AM, Jan Harder wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hello,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I wrote a parser for visual basic using ANTLR 2.7.6 and I want to 
</I>&gt;&gt;<i> compute the halstead metric for parts of the code. Basically, this 
</I>&gt;&gt;<i> means that I need to classify all tokens in two groups (identifiers, 
</I>&gt;&gt;<i> literals vs. everything else) and count the occurrences of tokens 
</I>&gt;&gt;<i> with the same text. The classification and the counting is very easy 
</I>&gt;&gt;<i> to do, but my problem is that I am not sure _where_ to do this.
</I>&gt;<i>
</I>&gt;<i> How about just subclassing the common token stream and adding your 
</I>&gt;<i> counting in there?
</I>&gt;<i> Ter
</I>Hello Terence,

I already discarded the idea of using the token stream because 
identifiers are problematic in visual basic 6. Not all keywords are also 
reserved words - it depends on the context what they are. So I need the 
parser to distinguish identifiers from keywords. But you made me 
reconsider the token stream idea and I think I found a way to solve this 
problem using both a TokenStream and the parser - not nice but it should 
work.

I'm going implement a TokenStream that simply counts every token as an 
operator (and keeps maps for operators and operands with their occurence 
count as its data). When the parser recognizes a token as an identifier, 
it will notify the TokenStream about that, so that the token stream can 
decrement the operator count for that symbol and increment it as an operand.

Regards, and thank you,
Jan Harder
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017787.html">[antlr-interest] How to do a specific operation once on every	token in the _parser_?
</A></li>
	<LI>Next message: <A HREF="017784.html">[antlr-interest] parsing java 1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17797">[ date ]</a>
              <a href="thread.html#17797">[ thread ]</a>
              <a href="subject.html#17797">[ subject ]</a>
              <a href="author.html#17797">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
