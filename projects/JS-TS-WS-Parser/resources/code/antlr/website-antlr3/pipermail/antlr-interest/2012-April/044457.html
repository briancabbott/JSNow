<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] problem with tree parsing -&gt; don't get a tree walker to work correctly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20problem%20with%20tree%20parsing%20-%3E%20don%27t%20get%20a%20tree%0A%20walker%20to%20work%20correctly&In-Reply-To=%3C2CEC15782427EE4486A5E0E8836A41BB24BAC0DC0D%40ZENTRALE.gutefrage.muc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044471.html">
   <LINK REL="Next"  HREF="044472.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] problem with tree parsing -&gt; don't get a tree walker to work correctly</H1>
    <B>Peter G&#246;tz</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20problem%20with%20tree%20parsing%20-%3E%20don%27t%20get%20a%20tree%0A%20walker%20to%20work%20correctly&In-Reply-To=%3C2CEC15782427EE4486A5E0E8836A41BB24BAC0DC0D%40ZENTRALE.gutefrage.muc%3E"
       TITLE="[antlr-interest] problem with tree parsing -&gt; don't get a tree walker to work correctly">peter.goetz at gutefrage.net
       </A><BR>
    <I>Tue Apr 17 02:05:44 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044471.html">[antlr-interest] Can an Antlr Parser return a TreeNodeStream so as to not have to parse the whole file at once?
</A></li>
        <LI>Next message: <A HREF="044472.html">[antlr-interest] C TO PROMELA TRANSLATOR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44457">[ date ]</a>
              <a href="thread.html#44457">[ thread ]</a>
              <a href="subject.html#44457">[ subject ]</a>
              <a href="author.html#44457">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jim, 

thanks for your answer. So it seems my problem is a common one, if you don't even have to look at my rules. ;) 

&gt;<i>  LBRACKET (e=expr (COMMA e=expr)*)? RBRACKET
</I>&gt;<i> 
</I>&gt;<i> But should look like this:
</I>&gt;<i> 
</I>&gt;<i>  LBRACKET (e+=expr (COMMA e+=expr)*)? RBRACKET
</I>
But it seems you have been right. I have not managed to get it to work, though, because in my grammar options I can not give an output value, because my output value is of my own type. But the error message when not giving the output option and Google brought me to the correct solution. I know have created a separate rule to parse the function parameters and its return value is being added to the function node: 

params returns[List result]
        @init { $result = new ArrayList(); }
        : (e=expr { $result.add(e); })+
        ; 

This seems to work fine and is ok for me. If anyone has some information for me if this is not the optimal solution and could be implemented in a better way, I would be happy to receive this knowledge and improve my grammar - it starts being fun and making sense. :)

Thanks for your help and best regards, 

Peter
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044471.html">[antlr-interest] Can an Antlr Parser return a TreeNodeStream so as to not have to parse the whole file at once?
</A></li>
	<LI>Next message: <A HREF="044472.html">[antlr-interest] C TO PROMELA TRANSLATOR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44457">[ date ]</a>
              <a href="thread.html#44457">[ thread ]</a>
              <a href="subject.html#44457">[ subject ]</a>
              <a href="author.html#44457">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
