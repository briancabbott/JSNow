<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Nested Closures -&gt; Nested AST Generation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Nested%20Closures%20-%3E%20Nested%20AST%20Generation&In-Reply-To=%3C200707070850.02810.rschulz%40sonic.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022188.html">
   <LINK REL="Next"  HREF="022190.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Nested Closures -&gt; Nested AST Generation</H1>
    <B>Randall R Schulz</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Nested%20Closures%20-%3E%20Nested%20AST%20Generation&In-Reply-To=%3C200707070850.02810.rschulz%40sonic.net%3E"
       TITLE="[antlr-interest] Nested Closures -&gt; Nested AST Generation">rschulz at sonic.net
       </A><BR>
    <I>Sat Jul  7 08:50:02 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022188.html">[antlr-interest] unsubscribe
</A></li>
        <LI>Next message: <A HREF="022190.html">[antlr-interest] Nested Closures -&gt; Nested AST Generation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22189">[ date ]</a>
              <a href="thread.html#22189">[ thread ]</a>
              <a href="subject.html#22189">[ subject ]</a>
              <a href="author.html#22189">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Here is a fragment of a AST-generating grammar I have:

atom
  : ( '('
        predicate = term
        '('
          RoleSet ( '(' role = name arg = term ')' ) *
        ')'
      ')'
    )
  -&gt;  ^( RoleSet $predicate ^( RoleArg $role $arg ) * )
  ;


I've discovered (through the miracle of DOTTreeGenerator!) that no 
matter how many repetitions of the ( role=name arg=term ) tuples appear 
following the RoleSet token, only one RoleArg subtree is present in the 
synthesized AST. That single RoleArg subtree's values always correspond 
to the last repetition of the RoleSet tuples that was present in the 
input.

Am I doing this wrong, or is this a bug?


Randall Schulz
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022188.html">[antlr-interest] unsubscribe
</A></li>
	<LI>Next message: <A HREF="022190.html">[antlr-interest] Nested Closures -&gt; Nested AST Generation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22189">[ date ]</a>
              <a href="thread.html#22189">[ thread ]</a>
              <a href="subject.html#22189">[ subject ]</a>
              <a href="author.html#22189">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
