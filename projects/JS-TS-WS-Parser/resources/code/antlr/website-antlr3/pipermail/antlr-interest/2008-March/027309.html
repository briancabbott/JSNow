<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Generic AST tree parser
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Generic%20AST%20tree%20parser&In-Reply-To=%3C8cdebd3f0803190639j7b86addbua9dbf05586ee8e0d%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027307.html">
   <LINK REL="Next"  HREF="027310.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Generic AST tree parser</H1>
    <B>Stefan Bucur</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Generic%20AST%20tree%20parser&In-Reply-To=%3C8cdebd3f0803190639j7b86addbua9dbf05586ee8e0d%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Generic AST tree parser">stefan.bucur at gmail.com
       </A><BR>
    <I>Wed Mar 19 06:39:51 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027307.html">[antlr-interest] Need help regarding lexer
</A></li>
        <LI>Next message: <A HREF="027310.html">[antlr-interest] LL(k)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27309">[ date ]</a>
              <a href="thread.html#27309">[ thread ]</a>
              <a href="subject.html#27309">[ subject ]</a>
              <a href="author.html#27309">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello!

I'm trying to build a tree grammar that would accept any AST generated
by an ANTLR grammar, and display it on the screen. However, my code
fails to show elements below the first level, and it shows only the
root elements in the AST. The tree grammar looks like:


start
	:	(syntaxTree[0])*
	;

syntaxTree [int level]
@init {
	int nextLevel = level + 1;
}
	:	^(node[$level] (syntaxTree[nextLevel])* ) // Accept a subtree...
	|	node[$level] // ...or a leaf node
	;
	
node [int level]
	:	token=. { System.out.println($level + &quot; : &quot; + $token.text); } //
Accept any token
	;
	catch [Exception e] { e.printStackTrace(); }



Do you have any idea what could be wrong? :-/

Thanks!

Stefan Bucur
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027307.html">[antlr-interest] Need help regarding lexer
</A></li>
	<LI>Next message: <A HREF="027310.html">[antlr-interest] LL(k)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27309">[ date ]</a>
              <a href="thread.html#27309">[ thread ]</a>
              <a href="subject.html#27309">[ subject ]</a>
              <a href="author.html#27309">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
