<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] TET journal files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20TET%20journal%20files&In-Reply-To=%3C1185217280.5925.2.camel%40gateway.home%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022701.html">
   <LINK REL="Next"  HREF="022703.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] TET journal files</H1>
    <B>John Connett</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20TET%20journal%20files&In-Reply-To=%3C1185217280.5925.2.camel%40gateway.home%3E"
       TITLE="[antlr-interest] TET journal files">jrc at skylon.demon.co.uk
       </A><BR>
    <I>Mon Jul 23 12:01:20 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022701.html">[antlr-interest] Lexical rules calling lexical rules
</A></li>
        <LI>Next message: <A HREF="022703.html">[antlr-interest] Out of Memory in antlr.CharScanner.match
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22702">[ date ]</a>
              <a href="thread.html#22702">[ thread ]</a>
              <a href="subject.html#22702">[ subject ]</a>
              <a href="author.html#22702">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have downloaded ANTLR 3.0 / ANTLRWorks 1.1 and have bought a copy of
the new ANTLR book.  Armed with these I decided to use ANTLR  to
generate a Python program to process journal files from TET, the Test
Environment Testkit (<A HREF="http://tetworks.opengroup.org/tet/">http://tetworks.opengroup.org/tet/</A>).

A typical journal line is:

15|&lt;activity&gt; &lt;version&gt; &lt;ICcount&gt;|text

Each line is logically divided into three fields by pipe symbols.

The first field is a line type, one of 36 integer values between 0 and
900.

The second field has fixed number of zero or more space separated
subfields.  The number of subfields is dictated by the line type in
the first field.  Baring perverse choices of path names these
subfields do not contain either spaces or pipe symbols.

The third field can contain a general text string to the terminating
newline.  In particular, this string can contain spaces and pipe
symbols.

There is sufficient information to unambiguously identify the data in
these lines.

My first attempt was to code a grammar with rules for the lines of the
form:

testCaseManagerStart
        // 15|activity version ICcount|text
        :       '15' PIPE INT ' ' STRING ' ' INT PIPE TEXT NEWLINE
        ;

However, I ran into a problem with the lexer as the line type number
('15' in this case) would be selected as a separate token causing
confusion with the small integers that appear as subfields of the
second field.

Is there an ANTLR idiom used to handle situations like this?

Thanks
--
John Connett

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022701.html">[antlr-interest] Lexical rules calling lexical rules
</A></li>
	<LI>Next message: <A HREF="022703.html">[antlr-interest] Out of Memory in antlr.CharScanner.match
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22702">[ date ]</a>
              <a href="thread.html#22702">[ thread ]</a>
              <a href="subject.html#22702">[ subject ]</a>
              <a href="author.html#22702">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
