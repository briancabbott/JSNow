<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Errors in code generated by the ANTLR C target
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Errors%20in%20code%20generated%20by%20the%20ANTLR%20C%20target&In-Reply-To=%3C620da58c0706041345l586badd8sb5e4656ff6659d6b%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021043.html">
   <LINK REL="Next"  HREF="021048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Errors in code generated by the ANTLR C target</H1>
    <B>troy runkel</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Errors%20in%20code%20generated%20by%20the%20ANTLR%20C%20target&In-Reply-To=%3C620da58c0706041345l586badd8sb5e4656ff6659d6b%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Errors in code generated by the ANTLR C target">trunkel at gmail.com
       </A><BR>
    <I>Mon Jun  4 13:45:15 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021043.html">[antlr-interest] Question about lexer/parser boundaries
</A></li>
        <LI>Next message: <A HREF="021048.html">[antlr-interest] Errors in code generated by the ANTLR C target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21046">[ date ]</a>
              <a href="thread.html#21046">[ thread ]</a>
              <a href="subject.html#21046">[ subject ]</a>
              <a href="author.html#21046">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings,

I'm using version (ANTLR Parser Generator  Version 3.0 (May 17, 2007)
1989-2007) of ANTLR and the grammar I'm working on has the following
options set.

    language    = C;
    output        = AST;
    backtrack   = true;
    memoize    = true;

I'm seeing a number of errors in the generated C code when I try to
compile in using Visual Studio 2005.

1) The REWINDLAST macro expands to
INPUT-&gt;istream-&gt;REWINDLAST(INPUT-&gt;istream), but REWINDLAST doesn't
exist in ANTLR3_INT_STREAM_struct.  I'm assuming it's supposed to
expand to INPUT-&gt;istream-&gt;rewindLast(INPUT-&gt;istream).

2) The SEEK macro appears in the generated code but is not defined.
However I was able to find a definition for SEEK in the
antlr-3.0\src\org\antlr\codegen\templates\C\C.stg file.

I'm also working on a tree grammar and am seeing similar errors in the
generated C code for that as well.

1) I'm seeing the same REWINDLAST and SEEK macro errors mentioned above.

2) The INDEX macro appears in the generated code but is not defined.

3) The MEMOIZE macro is also used but not defined.

What am I doing wrong here?  I believe I'm working with the &quot;official&quot;
ANTLR v3 release, but the generated C code won't compile.

Thanks.

Troy Runkel
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021043.html">[antlr-interest] Question about lexer/parser boundaries
</A></li>
	<LI>Next message: <A HREF="021048.html">[antlr-interest] Errors in code generated by the ANTLR C target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21046">[ date ]</a>
              <a href="thread.html#21046">[ thread ]</a>
              <a href="subject.html#21046">[ subject ]</a>
              <a href="author.html#21046">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
