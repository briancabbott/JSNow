<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Pie and simple expression calculator
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Pie%20and%20simple%20expression%20calculator&In-Reply-To=%3CCAAfeETpXuZCO_JS%2BPbzBMGC3-x5Gu-z5E1KAEAa3CShf%2B_xmVQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043663.html">
   <LINK REL="Next"  HREF="043637.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Pie and simple expression calculator</H1>
    <B>Kyle Ferrio</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Pie%20and%20simple%20expression%20calculator&In-Reply-To=%3CCAAfeETpXuZCO_JS%2BPbzBMGC3-x5Gu-z5E1KAEAa3CShf%2B_xmVQ%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Pie and simple expression calculator">kferrio at gmail.com
       </A><BR>
    <I>Mon Jan  2 14:17:50 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="043663.html">[antlr-interest] Pie and simple expression calculator
</A></li>
        <LI>Next message: <A HREF="043637.html">[antlr-interest] How to handle subset relations between grammar	elements?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43644">[ date ]</a>
              <a href="thread.html#43644">[ thread ]</a>
              <a href="subject.html#43644">[ subject ]</a>
              <a href="author.html#43644">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the details.  The comparison to R is apt.  I didn't mean to
discourage you from whitespace languages so much as just suggest that it
might be a distraction you can deal with later, perhaps more efficiently
once you've climbed the &quot;core&quot;  learning curve.

You're quite right to notice the wealth of examples available for antlr.
It can be daunting, but much better than no examples.  The important thing
for me was just to get started.  I found that the fastest start for me came
by actually planning on throwing out my first few grammars.

Just an observation...your notes go pretty deep into implementation
details.   I tend to do the same and find that forcing myself to write out
EBNF on paper and code up decent test coverage first helps me get my
grammar right first and thereby minimize &quot;churn&quot; when I do the
implementation.

Anyway, your mileage may and likely will vary.  You'll figure out what
works for you.  As usual, just starting is the biggest step.

Kyle
 On Jan 2, 2012 1:31 PM, &quot;goodwin&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">goodwin at essence-property.com</A>&gt; wrote:

&gt;<i>  Yes, I looked at MATLAB, i also looked at GDL (which is much too big and
</I>&gt;<i> complex to start with, and is in C rather than Java). I have just looked at
</I>&gt;<i> the Cminus example also.
</I>&gt;<i>
</I>&gt;<i>  My problem is that there are so many example starting points, i don't
</I>&gt;<i> know where to start.
</I>&gt;<i>
</I>&gt;<i>  I thought maybe Pie was the best starting point, but maybe it is not, if
</I>&gt;<i> it is more complex than necessary because of the problems with white space.
</I>&gt;<i>
</I>&gt;<i>  I am OK with starting with a simple language, and then waiting for v4
</I>&gt;<i> before doing the full language. I need a prototype which works reliably in
</I>&gt;<i> the next few weeks, and then a longer term solution next year (2013).
</I>&gt;<i>
</I>&gt;<i>  An example of the language:
</I>&gt;<i>
</I>&gt;<i>  function myFunction() {
</I>&gt;<i>     a = 3.7
</I>&gt;<i>     b = get(&quot;myAttr&quot;)
</I>&gt;<i>     return a + b
</I>&gt;<i>  end
</I>&gt;<i>
</I>&gt;<i>  x = 1.2
</I>&gt;<i>  y = {0.0, 1.0, 2.3,......}
</I>&gt;<i>  x[4] = 1.5
</I>&gt;<i>
</I>&gt;<i>  z = x ^ y + myFunction
</I>&gt;<i>  z = z + data(&quot;myData&quot;)
</I>&gt;<i>
</I>&gt;<i>  if (x &gt; 0.0 ) then
</I>&gt;<i>     z = sin(z) * 1.1
</I>&gt;<i>  else
</I>&gt;<i>     z = 0
</I>&gt;<i>  endif
</I>&gt;<i>
</I>&gt;<i>  h = integrate(z)
</I>&gt;<i>  print (h)
</I>&gt;<i>
</I>&gt;<i>  Notes:
</I>&gt;<i>
</I>&gt;<i>  - all variables are float arrays (let's assume for the moment they are
</I>&gt;<i> all the same length, 100).
</I>&gt;<i>  - the integrate function integrates the array and returns a new array
</I>&gt;<i> e.g. h[5] is z[0] + ... + z[5]
</I>&gt;<i>  - the if block is done on an element by element basis (so there is an
</I>&gt;<i> implied loop around it), similar to R concepts
</I>&gt;<i>  - functions normally do not take any parameters, but could do so in future
</I>&gt;<i>  - the 'get' function retrieves a special scalar value from a hashmap or
</I>&gt;<i> database, which may be different on each invocation.
</I>&gt;<i>  - data(&quot;myData&quot;) retrieves a preexisting scalar held in a Hashmap, which
</I>&gt;<i> is used to initialise an array.
</I>&gt;<i>  - the language operates on a preexisting Java database and Java memory -
</I>&gt;<i> it is used to derive new data from pre-existing data.
</I>&gt;<i>  - I would rather have something a little verbose and readable - error
</I>&gt;<i> handling is also essential as the language is to be used by engineers, not
</I>&gt;<i> software engineers. They often forget to put in ';' for example, so the
</I>&gt;<i> above language does not need it.
</I>&gt;<i>  - the whole concept is based on something which an old colleague did
</I>&gt;<i> using Antlr v2 back in 2003 - all his work has since been lost.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Kyle Ferrio &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">kferrio at gmail.com</A>&gt;
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">goodwin at essence-property.com</A>
</I>&gt;<i> Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Date: Mon, 2 Jan 2012 11:10:51 -0700
</I>&gt;<i> Subject: Re: [antlr-interest] Pie and simple expression calculator
</I>&gt;<i>
</I>&gt;<i>  Your language ounds a little like MATLAB. Someone posted an approximate
</I>&gt;<i> MATLAB grammar a few months ago for antlr 3.x.
</I>&gt;<i>  If you are familiar with classic &quot;calculator&quot; examples for flex/bison,
</I>&gt;<i> then you might really like how Honey Badger (antlr 4) makes short work of
</I>&gt;<i> expression parsing.
</I>&gt;<i>  If you want to get going quickly, you might want to avoid things like
</I>&gt;<i> pythonesque significant whitespace.  And strongly visual scope delimiters
</I>&gt;<i> may make it easier to get started.  Your resulting language would not be
</I>&gt;<i> the first to be accused of being &quot;noisy.&quot;  :)
</I>&gt;<i>  Kyle
</I>&gt;<i>  On Jan 2, 2012 10:45 AM, &quot;goodwin&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">goodwin at essence-property.com</A> &gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am new to ANTLR, and want some capabilities similar to Pie and the
</I>&gt;&gt;<i> expression calculator, as extended with functions. I work with floating
</I>&gt;&gt;<i> point data, and want to extend the intrinsic functions (e.g. Sin, Cos
</I>&gt;&gt;<i> etc.)
</I>&gt;&gt;<i> and all calculations will actually be done on float arrays.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I want a simple grammar suitable for engineers - not too sure whether
</I>&gt;&gt;<i> Python
</I>&gt;&gt;<i> is the best starting point...I myself prefer a few brackets and endif etc.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> However, the implementations of Pie and the simple expression calculator
</I>&gt;&gt;<i> are
</I>&gt;&gt;<i> very different.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Do you think it is best for me to start with Pie and adapt it for my
</I>&gt;&gt;<i> needs,
</I>&gt;&gt;<i> or look at both approaches and learn from them both?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My main purpose is to progress rapidly, not to become an expert in ANTLR.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;<i> Unsubscribe:
</I>&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043663.html">[antlr-interest] Pie and simple expression calculator
</A></li>
	<LI>Next message: <A HREF="043637.html">[antlr-interest] How to handle subset relations between grammar	elements?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43644">[ date ]</a>
              <a href="thread.html#43644">[ thread ]</a>
              <a href="subject.html#43644">[ subject ]</a>
              <a href="author.html#43644">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
