<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] V3 lexer behaviour clarifications
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20V3%20lexer%20behaviour%20clarifications&In-Reply-To=%3C20070331220943.A550D19042F%40www.antlr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020029.html">
   <LINK REL="Next"  HREF="020027.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] V3 lexer behaviour clarifications</H1>
    <B>Gavin Lambert</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20V3%20lexer%20behaviour%20clarifications&In-Reply-To=%3C20070331220943.A550D19042F%40www.antlr.org%3E"
       TITLE="[antlr-interest] V3 lexer behaviour clarifications">antlr at mirality.co.nz
       </A><BR>
    <I>Sat Mar 31 15:09:28 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020029.html">[antlr-interest] need example for executing an if statement
</A></li>
        <LI>Next message: <A HREF="020027.html">[antlr-interest] V3 lexer behaviour clarifications
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20024">[ date ]</a>
              <a href="thread.html#20024">[ thread ]</a>
              <a href="subject.html#20024">[ subject ]</a>
              <a href="author.html#20024">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just trying to get my head around some of the differences between 
lexer and parser (in V3).  Am I correct in assuming that the lexer 
doesn't get any of the cool new LL(*) lookahead and backtracking 
that's available to the parser?

Because logically, if I've got two lexer rules like so:

FLOAT : INT '.' INT;
INT : ('0'..'9')+;

There's obviously ambiguity between them, but I would expect it to 
try matching as a FLOAT first (since I listed it first) and only 
if that fails should it return an INT and then try lexing whatever 
comes after it as a separate token.

Trying a similar grammar to the above (not the exact grammar 
above, though), however, that's not what seems to be 
happening.  It just reports an error and then treats it as an 
INT.  The only way I can get it to do the behaviour I want is to 
make a composite rule with predicates and explicit token-type 
changing code, which seems ugly.

Is this normal for now?  If so, will it be improved in the 
future?  Or am I just doing something stupid?

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020029.html">[antlr-interest] need example for executing an if statement
</A></li>
	<LI>Next message: <A HREF="020027.html">[antlr-interest] V3 lexer behaviour clarifications
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20024">[ date ]</a>
              <a href="thread.html#20024">[ thread ]</a>
              <a href="subject.html#20024">[ subject ]</a>
              <a href="author.html#20024">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
