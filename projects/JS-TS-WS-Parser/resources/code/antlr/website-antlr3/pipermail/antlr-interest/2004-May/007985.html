<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Transforming AST subtrees in TreeParser with &quot;buildAST = false&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Transforming%20AST%20subtrees%20in%20TreeParser%20with%20%22buildAST%20%3D%20false%22&In-Reply-To=c8frv0%2Bfan6%40eGroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007981.html">
   <LINK REL="Next"  HREF="007989.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Transforming AST subtrees in TreeParser with &quot;buildAST = false&quot;</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Transforming%20AST%20subtrees%20in%20TreeParser%20with%20%22buildAST%20%3D%20false%22&In-Reply-To=c8frv0%2Bfan6%40eGroups.com"
       TITLE="[antlr-interest] Transforming AST subtrees in TreeParser with &quot;buildAST = false&quot;">klaren at cs.utwente.nl
       </A><BR>
    <I>Wed May 19 08:19:03 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007981.html">[antlr-interest] Transforming AST subtrees in TreeParser with &quot;buildAST = false&quot;
</A></li>
        <LI>Next message: <A HREF="007989.html">[antlr-interest] Re: Transforming AST subtrees in TreeParser with &quot;buildAST = false&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7985">[ date ]</a>
              <a href="thread.html#7985">[ thread ]</a>
              <a href="subject.html#7985">[ subject ]</a>
              <a href="author.html#7985">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, May 19, 2004 at 02:45:52PM -0000, micheal_jor wrote:
&gt;<i> Is this possible?
</I>
To some extent it should work I guess. (I'm btw also in a kindoff similar
situation where I only want to do some minor patching in a previously
generated tree. I'm not that familiar with tree transformations but it
feels a bit cumbersome atm)

&gt;<i> I am using a TreeParser but with buildAST=false to avoid redundant
</I>&gt;<i> &quot;copying&quot; of most of the nodes in the AST. They are untouched by the
</I>&gt;<i> minor transformations.
</I>&gt;<i>
</I>&gt;<i> I guess I have two questions really:
</I>&gt;<i>
</I>&gt;<i> 1. In a TreeParser, is it possible to specify that &quot;buildAST=true&quot;
</I>&gt;<i> only for certain rules or rule-Alternatives. The rest of the AST is
</I>&gt;<i> left as is (it is &quot;copied&quot; to output logically but no *actual* copying
</I>&gt;<i> is done).
</I>
buildAST is a grammar option so no go there... Doing it inverted will work
e.g. turn on construction and disable construction for all rules except the
ones where you want it.

&gt;<i> 2. Failing (1), is it &quot;safe&quot; (advisable?) to include tree tranforming
</I>&gt;<i> statements in the action code of TreeParsers with buildAST=false. I am
</I>&gt;<i> aware that the tree construction/transformation shortcut notation
</I>&gt;<i> would be unavailable in this case.
</I>
You can always use tree construction syntax in whatever place of the target
code (AFAIK) You only have to do some stuff manually since it's not done
due to buildAST=false. Also you have to be very carefull when changing the
AST because the current rule is operating on it still. (e.g. you may be
building something that is easy to break) Also be very carefull in using
the standard AST/ASTFactory's methods for changing tree parts, the names
hide a lot of things that happen under the hood...

I guess you could come a long way with playing a bit with a toy grammar and
the options and see what happens in the generated code.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">j.klaren at utwente.nl</A> ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
 &quot;Don't call me stupid.&quot; &quot;Oh, right. To call you stupid would be an insult
    to stupid people. I've known sheep that could outwit you! I've worn
              dresses with higher IQs!&quot; --- A Fish Called Wanda



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007981.html">[antlr-interest] Transforming AST subtrees in TreeParser with &quot;buildAST = false&quot;
</A></li>
	<LI>Next message: <A HREF="007989.html">[antlr-interest] Re: Transforming AST subtrees in TreeParser with &quot;buildAST = false&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7985">[ date ]</a>
              <a href="thread.html#7985">[ thread ]</a>
              <a href="subject.html#7985">[ subject ]</a>
              <a href="author.html#7985">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
