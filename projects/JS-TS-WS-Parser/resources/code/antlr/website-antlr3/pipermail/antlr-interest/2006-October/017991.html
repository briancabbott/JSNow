<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Tweaking a source file.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Tweaking%20a%20source%20file.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017994.html">
   <LINK REL="Next"  HREF="017992.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Tweaking a source file.</H1>
    <B>David Piepgrass</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Tweaking%20a%20source%20file.&In-Reply-To="
       TITLE="[antlr-interest] Tweaking a source file.">qwertie256 at gmail.com
       </A><BR>
    <I>Tue Oct 17 20:32:02 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017994.html">[antlr-interest] Cannot use or build antlr-3.0b4
</A></li>
        <LI>Next message: <A HREF="017992.html">[antlr-interest] Tweaking a source file.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17991">[ date ]</a>
              <a href="thread.html#17991">[ thread ]</a>
              <a href="subject.html#17991">[ subject ]</a>
              <a href="author.html#17991">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm new to ANTLR and although I'm generally a quick study when it comes to
languages, I could use a little help because I'm on a hard deadline.

I want to write a preprocessor for a simplified boo language (boo is a
language that resembles Python). The preprocessor will process &quot;unit&quot;
declarations for a unit checker. For example, you could write code like
this:

def Energy(mass as double `kg`, speed as double `m/s`):
    return 0.5*mass*Square(speed)

def Square(x as double):
    return x*x

Then, the unit checker could automatically deduce that the return value of
Energy() is measured in kg*m^2/s^2. It also has to spit out a new source
file without the unit information:

def Energy(mass as double, speed as double):
    return 0.5*mass*Square(speed)
....

So, the unit checker needs to:

1. Strip out unit information such as `m/s`, to produce a new source file.
2. Create an AST, in order to do semantic analysis (i.e. unit checking.)
3. Process newlines and indentation as part of the syntax.

The first decision I need to make is, should I use ANTLR 2 or ANTLR 3? The
readme for ANTLR 3 says &quot;For example, to read in some input, tweak it, and
write it back out preserving whitespace, is easy in v3.&quot; That sounds great
because it is exactly what I need to accomplish.  But how can it be done?
Does an example exist? For my application, I think an observer inserted
between the lexer and parser can do the job--I just don't know the details.

The second big question is, what is the easiest way to make an AST, and is
this task also easier in v3?

The third question is, how can one parse a language where indentation is
syntactically significant?

-- 
- David
<A HREF="http://qwertie.net">http://qwertie.net</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20061017/6fa8a29d/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20061017/6fa8a29d/attachment-0001.html</A> 
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017994.html">[antlr-interest] Cannot use or build antlr-3.0b4
</A></li>
	<LI>Next message: <A HREF="017992.html">[antlr-interest] Tweaking a source file.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17991">[ date ]</a>
              <a href="thread.html#17991">[ thread ]</a>
              <a href="subject.html#17991">[ subject ]</a>
              <a href="author.html#17991">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
