<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Compiling 3.4 with maven
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Compiling%203.4%20with%20maven&In-Reply-To=%3CCAHMh4-Y3D7OEsM66aCXQBj8Qpn0QHX2rFm9n5sQX_ODrBvYCsg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043965.html">
   <LINK REL="Next"  HREF="043967.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Compiling 3.4 with maven</H1>
    <B>Gokulakannan Somasundaram</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Compiling%203.4%20with%20maven&In-Reply-To=%3CCAHMh4-Y3D7OEsM66aCXQBj8Qpn0QHX2rFm9n5sQX_ODrBvYCsg%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Compiling 3.4 with maven">gokul007 at gmail.com
       </A><BR>
    <I>Thu Jan 26 12:32:40 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="043965.html">[antlr-interest] Compiling 3.4 with maven
</A></li>
        <LI>Next message: <A HREF="043967.html">[antlr-interest] Compiling 3.4 with maven
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43966">[ date ]</a>
              <a href="thread.html#43966">[ thread ]</a>
              <a href="subject.html#43966">[ subject ]</a>
              <a href="author.html#43966">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sometime back i had the same issue. Try this.
  In Build.txt, the command mentioned for building Uber jar is mentioned
incorrectly and it is not working fine. But in the pom.xml, it is mentioned
correctly. Please do update the Build.txt also with the same.
&quot;mvn -Duber -DskipTests package assembly:assembly&quot;

Gokul.

On Fri, Jan 27, 2012 at 2:49 AM, A Z &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">asicaddress at gmail.com</A>&gt; wrote:

&gt;<i> I'm using 3.0.3
</I>&gt;<i>
</I>&gt;<i> $ mvn -v
</I>&gt;<i> /usr/lib/jvm/java
</I>&gt;<i> Apache Maven 3.0.3 (rNON-CANONICAL_2011-10-11_11-56_mockbuild; 2011-10-11
</I>&gt;<i> 17:56:36+0600)
</I>&gt;<i> Maven home: /usr/share/maven
</I>&gt;<i> Java version: 1.6.0_22, vendor: Sun Microsystems Inc.
</I>&gt;<i> Java home: /usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0.x86_64/jre
</I>&gt;<i> Default locale: en_US, platform encoding: UTF-8
</I>&gt;<i> OS name: &quot;linux&quot;, version: &quot;3.2.1-3.fc16.x86_64&quot;, arch: &quot;amd64&quot;, family:
</I>&gt;<i> &quot;unix&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I found the cause of this problem. antlr-3.4.tar.gz contains metadata files
</I>&gt;<i> created by OS X, all prefixed with '._' . Since I'm on Linux, maven tries
</I>&gt;<i> to compile them and fails. Deleting all those files allows all sub-modules
</I>&gt;<i> to compile, except for one.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> [INFO]
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> [INFO] Reactor Summary:
</I>&gt;<i> [INFO]
</I>&gt;<i> [INFO] ANTLR Master build control POM 3.4 ................ FAILURE
</I>&gt;<i> [1:02.810s]
</I>&gt;<i> [INFO] Antlr 3.4 Runtime ................................. SUCCESS
</I>&gt;<i> [1:27.439s]
</I>&gt;<i> [INFO] ANTLR Grammar Tool v 3.4 .......................... SUCCESS
</I>&gt;<i> [26.532s]
</I>&gt;<i> [INFO] Maven plugin for ANTLR V3.4 ....................... SUCCESS
</I>&gt;<i> [28.607s]
</I>&gt;<i> [INFO] ANTLR gUnit v3.4 .................................. SUCCESS
</I>&gt;<i> [11.916s]
</I>&gt;<i> [INFO] Maven plugin for gUnit ANTLR V3.4 ................. SUCCESS [1.777s]
</I>&gt;<i> [INFO] ANTLR3 Maven Archetype 3.4 ........................ SUCCESS [7.148s]
</I>&gt;<i> [INFO]
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> [INFO] BUILD FAILURE
</I>&gt;<i> [INFO]
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> [INFO] Total time: 5:39.210s
</I>&gt;<i> [INFO] Finished at: Thu Jan 26 12:33:37 GMT+06:00 2012
</I>&gt;<i> [INFO] Final Memory: 24M/57M
</I>&gt;<i> [INFO]
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> [ERROR] Failed to execute goal
</I>&gt;<i> org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5:assembly
</I>&gt;<i> (default-cli) on project antlr-master: Error reading assemblies: No
</I>&gt;<i> assembly descriptors found. -&gt; [Help 1]
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Any ideas getting around this?
</I>&gt;<i> Thanks.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, Jan 26, 2012 at 4:01 AM, Jim Idle &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Works fine here - there is likely something wrong with your setup. What
</I>&gt;<i> &gt; version of maven are you using? What OS? Did you try clearing the .m2
</I>&gt;<i> &gt; file. Did you follow the instructions in the BUILD.TXT file, or did you
</I>&gt;<i> &gt; just type 'mvn' and hoped it would work?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Jim
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> &gt; &gt; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of A Z
</I>&gt;<i> &gt; &gt; Sent: Wednesday, January 25, 2012 1:49 PM
</I>&gt;<i> &gt; &gt; To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> &gt; &gt; Subject: [antlr-interest] Compiling 3.4 with maven
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Hello all,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Has anyone successfully compiled a version 3.4 .jar using maven? For me
</I>&gt;<i> &gt; &gt; the &quot;Uber jar&quot; compile fails with the following:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; [INFO]
</I>&gt;<i> &gt; &gt; -----------------------------------------------------------------------
</I>&gt;<i> &gt; &gt; -
</I>&gt;<i> &gt; &gt; [INFO] Skipping ANTLR Master build control POM 3.4 [INFO] This project
</I>&gt;<i> &gt; &gt; has been banned from the build due to previous failures.
</I>&gt;<i> &gt; &gt; [INFO]
</I>&gt;<i> &gt; &gt; -----------------------------------------------------------------------
</I>&gt;<i> &gt; &gt; -
</I>&gt;<i> &gt; &gt; [INFO]
</I>&gt;<i> &gt; &gt; -----------------------------------------------------------------------
</I>&gt;<i> &gt; &gt; -
</I>&gt;<i> &gt; &gt; [INFO] Reactor Summary:
</I>&gt;<i> &gt; &gt; [INFO]
</I>&gt;<i> &gt; &gt; [INFO] ANTLR Master build control POM 3.4 ................ SUCCESS
</I>&gt;<i> &gt; &gt; [0.709s] [INFO] Antlr 3.4 Runtime .................................
</I>&gt;<i> &gt; &gt; FAILURE [5.103s] [INFO] ANTLR Grammar Tool v 3.4
</I>&gt;<i> &gt; &gt; .......................... SKIPPED [INFO] Maven plugin for ANTLR V3.4
</I>&gt;<i> &gt; &gt; ....................... SKIPPED [INFO] ANTLR gUnit v3.4
</I>&gt;<i> &gt; &gt; .................................. SKIPPED [INFO] Maven plugin for
</I>&gt;<i> &gt; &gt; gUnit ANTLR V3.4 ................. SKIPPED [INFO] ANTLR3 Maven
</I>&gt;<i> &gt; &gt; Archetype 3.4 ........................ SKIPPED [INFO]
</I>&gt;<i> &gt; &gt; -----------------------------------------------------------------------
</I>&gt;<i> &gt; &gt; -
</I>&gt;<i> &gt; &gt; [INFO] BUILD FAILURE
</I>&gt;<i> &gt; &gt; [INFO]
</I>&gt;<i> &gt; &gt; -----------------------------------------------------------------------
</I>&gt;<i> &gt; &gt; -
</I>&gt;<i> &gt; &gt; [INFO] Total time: 7.172s
</I>&gt;<i> &gt; &gt; [INFO] Finished at: Wed Jan 25 14:03:18 GMT+06:00 2012 [INFO] Final
</I>&gt;<i> &gt; &gt; Memory: 14M/154M [INFO]
</I>&gt;<i> &gt; &gt; -----------------------------------------------------------------------
</I>&gt;<i> &gt; &gt; -
</I>&gt;<i> &gt; &gt; [ERROR] Failed to execute goal
</I>&gt;<i> &gt; &gt; org.apache.maven.plugins:maven-javadoc-plugin:2.8:jar (attach-javadocs)
</I>&gt;<i> &gt; &gt; on project antlr-runtime: MavenReportException: Error while creating
</I>&gt;<i> &gt; &gt; archive:
</I>&gt;<i> &gt; &gt; [ERROR] Exit code: 1 -
</I>&gt;<i> &gt; &gt; .../antlr-
</I>&gt;<i> &gt; &gt; 3.4/runtime/Java/src/main/java/org/antlr/runtime/._MissingTokenExceptio
</I>&gt;<i> &gt; &gt; n.java:1:
</I>&gt;<i> &gt; &gt; warning: unmappable character for encoding UTF-8 [ERROR] Mac OS X &lt;lots
</I>&gt;<i> &gt; &gt; of binary chars&gt; [ERROR] ^
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; The file in question is definitely not ASCII.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I then tried compiling /tool and this completes successfully but it
</I>&gt;<i> &gt; &gt; does not create an executable jar:
</I>&gt;<i> &gt; &gt; Failed to load Main-Class manifest attribute from
</I>&gt;<i> &gt; &gt; .../.m2/repository/org/antlr/antlr/3.4/antlr-3.4.jar
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; My only goal here is to modify the code generation templates. Any
</I>&gt;<i> &gt; &gt; ideas?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; &gt; Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> &gt; &gt; email-address
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; Unsubscribe:
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I></PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043965.html">[antlr-interest] Compiling 3.4 with maven
</A></li>
	<LI>Next message: <A HREF="043967.html">[antlr-interest] Compiling 3.4 with maven
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43966">[ date ]</a>
              <a href="thread.html#43966">[ thread ]</a>
              <a href="subject.html#43966">[ subject ]</a>
              <a href="author.html#43966">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
