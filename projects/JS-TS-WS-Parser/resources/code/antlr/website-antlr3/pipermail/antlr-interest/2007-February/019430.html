<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Working with tree walkers in V3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Working%20with%20tree%20walkers%20in%20V3&In-Reply-To=%3C20070221113131.1CDB7190895%40www.antlr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019427.html">
   <LINK REL="Next"  HREF="019433.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Working with tree walkers in V3</H1>
    <B>Mark Bednarczyk</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Working%20with%20tree%20walkers%20in%20V3&In-Reply-To=%3C20070221113131.1CDB7190895%40www.antlr.org%3E"
       TITLE="[antlr-interest] Working with tree walkers in V3">voytechs at yahoo.com
       </A><BR>
    <I>Wed Feb 21 03:31:25 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="019427.html">[antlr-interest] how to say filter=true with combined	parser/lexer?
</A></li>
        <LI>Next message: <A HREF="019433.html">[antlr-interest] adding content at end of rule with	TokenRewriteStream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19430">[ date ]</a>
              <a href="thread.html#19430">[ thread ]</a>
              <a href="subject.html#19430">[ subject ]</a>
              <a href="author.html#19430">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm having difficulty accessing values from my tree walker. The tree is
built and has hierachy of nodes in it. The walker properly matches on the
various rules and that's where my problems start. I can't seem to get the
grasp on all the special $ prefixed attributes. Everything throws NULL ptrs
exceptions when I access them.

Here is my tree that I feed to my tree walker:
(HEADER_DEF (MODIFIERS public) (ID Ethernet) (SLIST (VAR_DEF (MODIFIERS
public field) (TYPE mac) (ID destination))))

I've gotten it down to a fairely manual way of accessing atleast a return
value.

Is there a better way to access the value of the following rule?

modifier returns [String ret]
@finally {
$ret = $m.text;
}
    :   m='public'
    |   m='protected'
    |   m='private'
    |   m='static'
    |   m='final'
    |   m='synchronized'
    |   m='transient'
    |   m='volatile'
    |	  m='field'
    ;

It would be nice if there was a way to tell the rule to return whatever
value it matched such as:

modifier returns [String ret]
@finally {
$ret = $text; // Will throw NULL Ptr exception
}
    :   'public'
    |   'protected'
    |   'private'
    |   'static'
    |   'final'
    |   'synchronized'
    |   'transient'
    |   'volatile'
    |	  'field'
    ;

Again, this is all in &quot;tree grammar&quot;.

Cheers,
mark...


</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019427.html">[antlr-interest] how to say filter=true with combined	parser/lexer?
</A></li>
	<LI>Next message: <A HREF="019433.html">[antlr-interest] adding content at end of rule with	TokenRewriteStream
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19430">[ date ]</a>
              <a href="thread.html#19430">[ thread ]</a>
              <a href="subject.html#19430">[ subject ]</a>
              <a href="author.html#19430">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
