<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Possible serious bug using setText in Antlr3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Possible%20serious%20bug%20using%20setText%20in%20Antlr3&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018364.html">
   <LINK REL="Next"  HREF="018368.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Possible serious bug using setText in Antlr3</H1>
    <B>shmuel siegel</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Possible%20serious%20bug%20using%20setText%20in%20Antlr3&In-Reply-To="
       TITLE="[antlr-interest] Possible serious bug using setText in Antlr3">antlr at shmuelhome.mine.nu
       </A><BR>
    <I>Tue Nov 14 22:16:39 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018364.html">[antlr-interest] searchable antlr archives/forum/irc
</A></li>
        <LI>Next message: <A HREF="018368.html">[antlr-interest] Possible serious bug using setText in Antlr3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18365">[ date ]</a>
              <a href="thread.html#18365">[ thread ]</a>
              <a href="subject.html#18365">[ subject ]</a>
              <a href="author.html#18365">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The wiki page, &quot;how do I strip quotes&quot;, recommends using setText to 
change the text of the token to be generated. For example

ESC : '\\' 'n' {setText(&quot;\n&quot;);};

As far as I can tell, this sets an instance variable of the lexer to the 
specified text. Emit then adds this text to generated tokens. getText 
will then preferentially return this text rather than build a string 
from the character stream. So far, so good. But nothing changes the 
instance variable back to null. So all future tokens will have the same 
text.

setting text=null in nextToken seems to work for me.
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018364.html">[antlr-interest] searchable antlr archives/forum/irc
</A></li>
	<LI>Next message: <A HREF="018368.html">[antlr-interest] Possible serious bug using setText in Antlr3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18365">[ date ]</a>
              <a href="thread.html#18365">[ thread ]</a>
              <a href="subject.html#18365">[ subject ]</a>
              <a href="author.html#18365">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
