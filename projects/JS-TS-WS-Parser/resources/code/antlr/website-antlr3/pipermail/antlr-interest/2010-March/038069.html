<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Help - Populating AST with Type Info
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Help%20-%20Populating%20AST%20with%20Type%20Info&In-Reply-To=%3Cd8e975631003271732r454b587r17953ff74d530e13%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038068.html">
   <LINK REL="Next"  HREF="038070.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Help - Populating AST with Type Info</H1>
    <B>William Koscho</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Help%20-%20Populating%20AST%20with%20Type%20Info&In-Reply-To=%3Cd8e975631003271732r454b587r17953ff74d530e13%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Help - Populating AST with Type Info">wkoscho at gmail.com
       </A><BR>
    <I>Sat Mar 27 17:32:31 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="038068.html">[antlr-interest] help me please
</A></li>
        <LI>Next message: <A HREF="038070.html">[antlr-interest] Help - Populating AST with Type Info
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38069">[ date ]</a>
              <a href="thread.html#38069">[ thread ]</a>
              <a href="subject.html#38069">[ subject ]</a>
              <a href="author.html#38069">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

I'm trying to build an AST with type information, but the grammar I'm
using is ambiguious, and I'm not sure how to fix it.  The grammar
below can match the input string &quot;component abc { }&quot; using rule
componentDef or interfaceDef.

How can I fix this and still populate the AST with Type information?

elementDef : componentDef | interfaceDef ;

componentDef : ( type ID '{' interfaceRef* '}' ) -&gt; ^(type ID interfaceRef*);

interfaceDef : ( type ID '{' messageDef* '}' ) -&gt; ^(type ID messageDef*);

type returns [Type t] :
    &#160;'component' { $t = (Type)m_symbolTable.resolve(&quot;component&quot;); }
    | 'interface' { $t = (Type)m_symbolTable.resolve(&quot;interface&quot;); }
    | 'message' { $t = (Type)m_symbolTable.resolve(&quot;message&quot;); } ;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038068.html">[antlr-interest] help me please
</A></li>
	<LI>Next message: <A HREF="038070.html">[antlr-interest] Help - Populating AST with Type Info
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38069">[ date ]</a>
              <a href="thread.html#38069">[ thread ]</a>
              <a href="subject.html#38069">[ subject ]</a>
              <a href="author.html#38069">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
