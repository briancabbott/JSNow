<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re : Re : How to get a list of all valid	options for the next token?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Re%20%3A%20Re%20%3A%20How%20to%20get%20a%20list%20of%20all%20valid%0A%09options%20for%20the%20next%20token%3F&In-Reply-To=%3C7053C72A-90F2-45AF-A7BE-BB14EEC0E49C%40classdump.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030112.html">
   <LINK REL="Next"  HREF="029904.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re : Re : How to get a list of all valid	options for the next token?</H1>
    <B>Kay R&#246;pke</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Re%20%3A%20Re%20%3A%20How%20to%20get%20a%20list%20of%20all%20valid%0A%09options%20for%20the%20next%20token%3F&In-Reply-To=%3C7053C72A-90F2-45AF-A7BE-BB14EEC0E49C%40classdump.org%3E"
       TITLE="[antlr-interest] Re : Re : How to get a list of all valid	options for the next token?">kroepke at classdump.org
       </A><BR>
    <I>Mon Aug 18 07:27:34 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="030112.html">[antlr-interest] Re : Re : How to get a list of all valid	options for the next token?
</A></li>
        <LI>Next message: <A HREF="029904.html">[antlr-interest] [antlr-dev] Possible ANTLR 3.0/3.1 lexer	generation bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30116">[ date ]</a>
              <a href="thread.html#30116">[ thread ]</a>
              <a href="subject.html#30116">[ subject ]</a>
              <a href="author.html#30116">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

On Aug 18, 2008, at 3:39 PM, Niemeijer, R.A. wrote:

&gt;<i> Could anyone enlighten me as to what I'm doing wrong?
</I>

mmh. it looks like the follow set being pushed prior to entering a()  
is the set that can follow 'a' in top(), not considering any follow  
set in rule refs.
sounds like a() should either push the set before calling match or the  
follow set should be passed into the exception.
in the normal case pushing it should be inexpensive, it's only when  
the stack space is exhausted that it copies anything.

right now i don't see any way of getting at the necessary information,  
without altering the codegen templates. it should be as simple as  
finding the calls to match(), prior to that incrementing fsp and  
pushing the follow set. the tricky part is decrementing fsp again on  
all possible outbound codepaths, because the surrounding code expects  
the stack to be clean. not sure how much work that is in the  
templates. (it obviously must be done in all targets you care about).

I'd prefer to push it, because that leaves it all in one place, namely  
state.following.

cheers,
-k
-- 
Kay R&#246;pke
<A HREF="http://classdump.org/">http://classdump.org/</A>






</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030112.html">[antlr-interest] Re : Re : How to get a list of all valid	options for the next token?
</A></li>
	<LI>Next message: <A HREF="029904.html">[antlr-interest] [antlr-dev] Possible ANTLR 3.0/3.1 lexer	generation bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30116">[ date ]</a>
              <a href="thread.html#30116">[ thread ]</a>
              <a href="subject.html#30116">[ subject ]</a>
              <a href="author.html#30116">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
