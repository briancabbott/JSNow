<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Syntax confirmation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Syntax%20confirmation&In-Reply-To=20060804104602.37370.qmail%40web25810.mail.ukl.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017195.html">
   <LINK REL="Next"  HREF="017197.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Syntax confirmation</H1>
    <B>Kay Roepke</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Syntax%20confirmation&In-Reply-To=20060804104602.37370.qmail%40web25810.mail.ukl.yahoo.com"
       TITLE="[antlr-interest] Syntax confirmation">kroepke at classdump.org
       </A><BR>
    <I>Fri Aug  4 04:02:15 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017195.html">[antlr-interest] Syntax confirmation
</A></li>
        <LI>Next message: <A HREF="017197.html">[antlr-interest] Custom AST Node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17196">[ date ]</a>
              <a href="thread.html#17196">[ thread ]</a>
              <a href="subject.html#17196">[ subject ]</a>
              <a href="author.html#17196">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Phil!

On 4. Aug 2006, at 12:46 Uhr, Phil Ritchie wrote:

&gt;<i> Am I correct in my understanding:
</I>&gt;<i>
</I>&gt;<i> [snippet from grammar file]
</I>&gt;<i> file
</I>&gt;<i>     : rec=record -&gt; {%file(r={$rec.text})}
</I>&gt;<i>     ;
</I>&gt;<i>
</I>&gt;<i> %file corresponds to a StringTemplate template.
</I>&gt;<i> r corresponds to the template parameter
</I>
Sort of, yes.
The '-&gt;' is already a rewrite operation. So the rule must be:
file
	: rec=record -&gt; file(r={$rec.text})
	;

This would indeed use the template you mentioned.
The % notation is for use in actions that are not part of rewrites,  
when you need to instantiate templates yourself:

file
	: rec=record {StringTemplate recTmpl = %file(r={$rec.text});}
	;

This amounts to the same thing, only it is not automatically set in  
the rule's return value.

See the cminus example in the examples &lt;<A HREF="http://www.antlr.org/download/">http://www.antlr.org/download/</A> 
examples-v3.tar.gz&gt; for a lot of template instantiations :)
Or for a real life example look at Ter's Mantra language (&lt;http:// 
linguamantra.org/&gt;).

HTH,

-k

-- 
Kay R&#246;pke &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">kroepke at classdump.org</A>&gt;
classdump Software


</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017195.html">[antlr-interest] Syntax confirmation
</A></li>
	<LI>Next message: <A HREF="017197.html">[antlr-interest] Custom AST Node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17196">[ date ]</a>
              <a href="thread.html#17196">[ thread ]</a>
              <a href="subject.html#17196">[ subject ]</a>
              <a href="author.html#17196">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
