<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] How to feedback to users the string expected	on MismatchedTokenException
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20How%20to%20feedback%20to%20users%20the%20string%20expected%0A%09on%20MismatchedTokenException&In-Reply-To=%3C5D85F621120B9545BE359DCFA778812585BF6C%40SERVER.tt.tracetracker.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021511.html">
   <LINK REL="Next"  HREF="021512.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] How to feedback to users the string expected	on MismatchedTokenException</H1>
    <B>Silvester Pozarnik</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20How%20to%20feedback%20to%20users%20the%20string%20expected%0A%09on%20MismatchedTokenException&In-Reply-To=%3C5D85F621120B9545BE359DCFA778812585BF6C%40SERVER.tt.tracetracker.com%3E"
       TITLE="[antlr-interest] How to feedback to users the string expected	on MismatchedTokenException">silvester.pozarnik at tracetracker.com
       </A><BR>
    <I>Tue Jun 19 03:28:57 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021511.html">[antlr-interest] The Python target is in fact Jython target?
</A></li>
        <LI>Next message: <A HREF="021512.html">[antlr-interest] To AST or not to AST?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21509">[ date ]</a>
              <a href="thread.html#21509">[ thread ]</a>
              <a href="subject.html#21509">[ subject ]</a>
              <a href="author.html#21509">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>...
&gt;<i> &gt;
</I>&gt;<i> &gt; NoViableAltException nvae =
</I>&gt;<i> &gt; new NoViableAltException(&quot;1:1: Tokens : ( SELECT | SEMI | WS);&quot;,
</I>&gt;<i> &gt; 1, 0, input);
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; where the 'SELECT' is used. Such an error reporting may mean
</I>something
&gt;<i> &gt; to the guy that wrote the parser &amp; lexer definition, but is
</I>completely
&gt;<i> &gt; useless for those who provide the input according to the defined
</I>&gt;<i> &gt; vocabulary.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Benjamin Niemann wrote:
</I>&gt;<i> 
</I>&gt;<i> NoViableAltExceptions are especially tricky. In simple cases you could
</I>&gt;<i> just
</I>&gt;<i> report a set of expected tokens or short token sequences for each
</I>&gt;<i> alternative. But once fancy stuff like LL(*) or predicates are
</I>involved,
&gt;<i> things get complicated. I don't think there's a general way for ANTLR
</I>to
&gt;<i> construct better error messages yet. What would be needed is a
</I>&gt;<i> 'paraphrase'
</I>&gt;<i> option as in V2, preferably for rules and subrules. decisionNumber and
</I>&gt;<i> stateNumber from the exception ('1' and '0' above) may than somehow be
</I>&gt;<i> used
</I>&gt;<i> to fetch the appropriate paraphrases.
</I>
Fair enough and completely understandable. The problem is still that in
case sensitive grammars you should be able to report the expected token
with a string value where the characters are in the same case as
expected and _not_ in the upper case. In java, which is a case sensitive
language, you should expect the parser to report something as &quot;Expecting
'implements' or 'extends' at 0:28 ...&quot; and not &quot;Expecting IMPLEMENTS or
EXTENDS at 0:28 ...&quot; in case of syntax error as this:

	public class MyTokenStream IMPLEMENTS TokenStream {...

The same goes for NoViableAltException where the tokens are reported in
upper case regardless of the logic of predicting the alternatives.

The problem is that the tokens string value is lost in the grammar
processing.

BR
Silvester Pozarnik


</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021511.html">[antlr-interest] The Python target is in fact Jython target?
</A></li>
	<LI>Next message: <A HREF="021512.html">[antlr-interest] To AST or not to AST?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21509">[ date ]</a>
              <a href="thread.html#21509">[ thread ]</a>
              <a href="subject.html#21509">[ subject ]</a>
              <a href="author.html#21509">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
