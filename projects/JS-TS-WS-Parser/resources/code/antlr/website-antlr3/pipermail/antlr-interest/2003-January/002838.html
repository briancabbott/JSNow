<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] One weird, one (hopefully) simple problem
  .. . from a newbie
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20One%20weird%2C%20one%20%28hopefully%29%20simple%20problem%0A%20%20..%20.%20from%20a%20newbie&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002861.html">
   <LINK REL="Next"  HREF="002839.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] One weird, one (hopefully) simple problem
  .. . from a newbie</H1>
    <B>Robert Colquhoun</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20One%20weird%2C%20one%20%28hopefully%29%20simple%20problem%0A%20%20..%20.%20from%20a%20newbie&In-Reply-To="
       TITLE="[antlr-interest] One weird, one (hopefully) simple problem
  .. . from a newbie">rjc at trump.net.au
       </A><BR>
    <I>Tue Jan 28 22:48:16 PST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002861.html">[antlr-interest] Re: Differentiating keywords in parser and identifiers in lexers
</A></li>
        <LI>Next message: <A HREF="002839.html">[antlr-interest] A &quot;lexicon&quot; for ANTLR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2838">[ date ]</a>
              <a href="thread.html#2838">[ thread ]</a>
              <a href="subject.html#2838">[ subject ]</a>
              <a href="author.html#2838">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

At 08:22 AM 28/01/2003 -0800, <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">mzukowski at yci.com</A> wrote:
&gt;<i>I think those two problems could be solved with a filter between the lexer
</I>&gt;<i>and parser.  Consider this approach:
</I>&gt;<i>
</I>&gt;<i>buffer a whole line
</I>&gt;<i>upon recognizing a newline, work backwards to see if there was a comment at
</I>&gt;<i>the end of the line by looking for '*', '!', or &quot;REM&quot;.  If you see a ';'
</I>&gt;<i>then stop looking for a comment
</I>&gt;<i>discard the comment
</I>&gt;<i>
</I>&gt;<i>now do a similar thing for a label following a ';'
</I>&gt;<i>
</I>&gt;<i>What do you think?
</I>
The problem is that half the time the lexer chokes on the comments before 
they can reach the parser or intermediate filter.

For example the '?' character is not used in the basic grammer anywhere but 
is perfectly legal in the comments.  Upon trying to lex the comments as if 
it was a basic program you end with an exception ie: unexpected char: '?'

Obviously you could add a lexer rule in to handle that particular 
character, but if say the basic program is written in a foreign language 
pretty much any unicode character could be in there.

Would need some sort of catch all lexer rule which would match on 
everything else except what's defined in the other rules.

  - Robert



 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002861.html">[antlr-interest] Re: Differentiating keywords in parser and identifiers in lexers
</A></li>
	<LI>Next message: <A HREF="002839.html">[antlr-interest] A &quot;lexicon&quot; for ANTLR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2838">[ date ]</a>
              <a href="thread.html#2838">[ thread ]</a>
              <a href="subject.html#2838">[ subject ]</a>
              <a href="author.html#2838">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
