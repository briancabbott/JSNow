<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Composite grammars, multiple lexer imports
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Composite%20grammars%2C%20multiple%20lexer%20imports&In-Reply-To=%3CCAN51Nt62%2B5yNRqMWwWJGQ%3DgZDibcPiXLrsTAwvxV5HCRN7HxKw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043991.html">
   <LINK REL="Next"  HREF="043994.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Composite grammars, multiple lexer imports</H1>
    <B>Benjamin S Wolf</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Composite%20grammars%2C%20multiple%20lexer%20imports&In-Reply-To=%3CCAN51Nt62%2B5yNRqMWwWJGQ%3DgZDibcPiXLrsTAwvxV5HCRN7HxKw%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Composite grammars, multiple lexer imports">jokeserver at gmail.com
       </A><BR>
    <I>Tue Jan 31 08:58:01 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="043991.html">[antlr-interest] Composite grammars, multiple lexer imports
</A></li>
        <LI>Next message: <A HREF="043994.html">[antlr-interest] Copying return value of a rule
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43992">[ date ]</a>
              <a href="thread.html#43992">[ thread ]</a>
              <a href="subject.html#43992">[ subject ]</a>
              <a href="author.html#43992">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I had this same issue some time ago, and I resolved it by having my
combined grammar import only one lexer, which imports the other. Try
importing lx2 from lx1 or vice versa, and have par import the top one.

On Tue, Jan 31, 2012 at 7:40 AM, Jonathan Roberts
&lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">plasticfridge at googlemail.com</A>&gt; wrote:
&gt;<i> Hello all,
</I>&gt;<i>
</I>&gt;<i> Hope you can help.
</I>&gt;<i>
</I>&gt;<i> I am trying to build a combined Antlr grammar that has multiple lexer
</I>&gt;<i> imports. However, I am struggling to achieve the end goal. Below is a
</I>&gt;<i> trivial example but generates the same errors I am suffering.
</I>&gt;<i>
</I>&gt;<i> 3 files: par.g(The combined parser/lexer), lx1.g (a lexer only grammar) and
</I>&gt;<i> lx2.g (a lexer only grammar)
</I>&gt;<i>
</I>&gt;<i> par.g
</I>&gt;<i>
</I>&gt;<i> grammar par;
</I>&gt;<i>
</I>&gt;<i> import lx1, lx2;
</I>&gt;<i>
</I>&gt;<i> a : INT &#160;ID ;
</I>&gt;<i>
</I>&gt;<i> lx1.g
</I>&gt;<i>
</I>&gt;<i> lexer grammar lx1;
</I>&gt;<i>
</I>&gt;<i> INT : '0'..'9'+ ;
</I>&gt;<i> WS : (' '|'\n')+ {skip();} ;
</I>&gt;<i>
</I>&gt;<i> lx2.g
</I>&gt;<i>
</I>&gt;<i> lexer grammar lx2;
</I>&gt;<i>
</I>&gt;<i> ID : 'a'..'z'+ ;
</I>&gt;<i>
</I>&gt;<i> Whenever I try to generate code from these grammars I get the following
</I>&gt;<i> error
</I>&gt;<i>
</I>&gt;<i> error(103): lx2.g:6:1: parser rule a not allowed in lexer
</I>&gt;<i>
</I>&gt;<i> Hope someone can help.
</I>&gt;<i>
</I>&gt;<i> p.s. the reason for me doing this is that my current grammar generates code
</I>&gt;<i> that javac refuses to couple as it is too large! I was hopping that
</I>&gt;<i> splitting into multiple grammars would reduce file sizes so I may compile
</I>&gt;<i> my code.
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043991.html">[antlr-interest] Composite grammars, multiple lexer imports
</A></li>
	<LI>Next message: <A HREF="043994.html">[antlr-interest] Copying return value of a rule
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43992">[ date ]</a>
              <a href="thread.html#43992">[ thread ]</a>
              <a href="subject.html#43992">[ subject ]</a>
              <a href="author.html#43992">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
