<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] postmortem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20postmortem&In-Reply-To=%3C47D843FB.7030403%40jazillian.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027157.html">
   <LINK REL="Next"  HREF="027166.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] postmortem</H1>
    <B>Andy Tripp</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20postmortem&In-Reply-To=%3C47D843FB.7030403%40jazillian.com%3E"
       TITLE="[antlr-interest] postmortem">antlr at jazillian.com
       </A><BR>
    <I>Wed Mar 12 13:58:35 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027157.html">[antlr-interest] should I be able to use language=CPP in latest	intermediate ANTLR build?
</A></li>
        <LI>Next message: <A HREF="027166.html">[antlr-interest] postmortem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27159">[ date ]</a>
              <a href="thread.html#27159">[ thread ]</a>
              <a href="subject.html#27159">[ subject ]</a>
              <a href="author.html#27159">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jim Idle wrote:
&gt;<i>
</I>&gt;<i> I think you miss the point. We can't 'know' that they did or didn't 
</I>&gt;<i> want a flat tree. Who is this someone that you are designating tasks 
</I>&gt;<i> like this to?
</I>&gt;<i>
</I>Well, we can't &quot;know' anything about what anyone wants, in general. The best
we can do is make a best guess. And I think the best guess is that most 
ANTLR users
want a non-flat AST.
&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> I would think that saying only 1% of ANTLR users would already know 
</I>&gt;<i> about ASTs is a bit light,
</I>&gt;<i>
</I>I wasn't saying that. I said:
            My guess is that 99% of the time, the flat AST is not what 
the person wanted.
So what are the situations where someone wants a flat AST?
&gt;<i>
</I>&gt;<i> but  I think it would actually annoy 100% of the time.
</I>&gt;<i>
</I>How could it possibly annoy the original poster, who was confused 
because he got a flat AST,
to get message that says &quot;warning: this tree is flat because...&quot;
&gt;<i>
</I>&gt;<i> If you don't know about ASTs then you don't know what it means and get 
</I>&gt;<i> annoyed if you are told to go buy a book.
</I>&gt;<i>
</I>Isn't there a level of understanding about ASTs, where you know it's 
some sort of tree data structure that
represents the input, but you don't know all the ANTLR syntax like &quot;^&quot; 
yet (or at least haven't
gotten around to putting them in the grammar yet)? Isn't that where the 
original poster was?
&gt;<i>
</I>&gt;<i> If you do know then you know what it means but must have wanted a flat 
</I>&gt;<i> tree at that point in your development cycle.
</I>&gt;<i>
</I>No, not at all. This poster wanted a (non-flat) tree, and so do I, by 
default.
&gt;<i>
</I>&gt;<i> I don't think that there is any problem to solve here, there are many 
</I>&gt;<i> more other warnings that need to be added before worrying about this I 
</I>&gt;<i> think. For a start, you have to turn on output=AST and that will 
</I>&gt;<i> surely prompt most people to ask themselves if they know anything 
</I>&gt;<i> about what one of these is?
</I>&gt;<i>
</I>Not really. If someone is just learning ANTLR and sets &quot;output=AST&quot; and 
makes a call to get a tree, they certainly might expect
it to work. By analogy, I'll try a &quot;-verbose&quot; option on just about any 
command-line tool if I want to see what it's
doing, without any idea of what sort of output it might produce.

I think it's very natural for someone to spend time building a 
(tree-structured) grammar,
and expecting to be able to see what kind of AST might get produced by 
default.
He might even think he won't need to do any more work, and if he at 
first got a parse tree,
he'd look at it and go &quot;ewww, that's too much info&quot;, and then hopefully 
go figure out the
difference between a parse tree and an AST.

But giving him a flat thing, he's going to say &quot;WTF?&quot;, not &quot;Of course, I 
gave it zero instructions for
how to shape the tree so logically this is the tree I get&quot;.
&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> I thought you said,, &quot;And wouldn't the newbie be the authority on 
</I>&gt;<i> whether it's confusing or not?&quot;, so why are you asking me? ;-)
</I>&gt;<i>
</I>I didn't ask you what you thought about this warning message, you 
volunteered it.
I don't even believe that it would be confusing to you...if you really 
wanted a flat AST, and you got a warning message telling
you it's a flat tree, where's the confusion? Redundant and annoying, 
maybe, but not confusing.

And you still haven't explained what the case is where anyone would want 
a flat AST.
I'm still missing that major point.
&gt;<i>
</I>&gt;<i> It is obviously confusing if it tells you something that you don't 
</I>&gt;<i> know about, but can't really tell you what to do about it. I am all 
</I>&gt;<i> for improving error messages and warnings, but now I think you are 
</I>&gt;<i> arguing for this because you said it and are trying to defend it. I 
</I>&gt;<i> think it is an arbitrary example with no real need. It might just help 
</I>&gt;<i> one person in many hundreds, I can't say that it won't, but I can't 
</I>&gt;<i> really see it doing much for people. Now, improving &quot;Can't find 
</I>&gt;<i> tokenRefBang.st&quot; is (and was) worth some effort J
</I>&gt;<i>
</I>Well, I think we agree that it would be helpful to those who don't want 
flat ASTs, right?
We just disagree on whether that's 1% of ANTLR users or 99% (or whatever).
I'm still waiting to be convinced that the number who want flat ASTs is 
not 0%.
I hope I wouldn't have to argue that most people want non-flat ASTs - 
what the heck are you
going to do with a flat AST?
&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> Try that and see what real users do when they don't get a message 
</I>&gt;<i> about having 0 ^ operators? Come on, you are just being contrary now. 
</I>&gt;<i> There are plenty of other examples that users hit all the time, the 
</I>&gt;<i> need to use ^ to generate a tree structure is hardly flooding the 
</I>&gt;<i> group with emails from &quot;Confused of Springfield&quot;.
</I>&gt;<i>
</I>I agree that there are probably more urgent things needing better error 
messages.
Naturally, we don't get a lot of complaints from newbies - posts to the 
mailing list are not representative
of actual users' problems.
&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> The book isn't designed to explain why you get a flat tree or really 
</I>&gt;<i> what an AST is. It does tell you how to go about building trees using 
</I>&gt;<i> ANTLR. The book would have to be about 500 pages longer to cover 
</I>&gt;<i> everything you need to know to start from scratch.
</I>&gt;<i>
</I>Another strawman. The only suggestion I made for the book in this thread 
is to add a paragraph about how to get the parse tree.
Even a sentence with a couple of lines of code would be sufficient. I'm 
not asking for &quot;everything you need to know to
start from scratch&quot;.
&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> &quot;I learned yacc without a book, and it was painful.&quot; Whereas it took 
</I>&gt;<i> me about a week because I had a decent book with some good examples 
</I>&gt;<i> and had already read the dragon book -  I hope you enjoyed the beer 
</I>&gt;<i> though J
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> &quot;if it's just a person dig at me&quot;, no not you, Benjamin did not seem 
</I>&gt;<i> to ever post without requesting another piece of information that 
</I>&gt;<i> should be &quot;right on the front page&quot;, I don't have any truck with you.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> &quot;I'm just suggesting that a small change to the tool or book can be 
</I>&gt;<i> worth 1000 wiki entries.&quot; Agreed that sometimes this can be the case. 
</I>&gt;<i> There are plenty of examples where the warnings need to be improved 
</I>&gt;<i> (or even supplied ;-) and they are mostly known about and will 
</I>&gt;<i> eventually get done I am sure. I guess I just get a bit on my high 
</I>&gt;<i> horse when there are lots of clamoring for docs and articles and so 
</I>&gt;<i> on, but few people actually want to put in any time doing it and when 
</I>&gt;<i> they do, a lot of people don't use the search to find it anyway.
</I>&gt;<i>
</I>Hey, that's the way the world works, as opposed to the mythical 
open-source pseudo-world.
You (meaning Ter, really) can take my feedback as it's meant: 
constructive criticism, or
you can ignore it, or you can tell me to shut up. But you can't make me 
contribute where you want.
&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> PS: Post as long as you want about anything you want if you ask me, it 
</I>&gt;<i> ain't my list J
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080312/4ea26890/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080312/4ea26890/attachment-0001.html</A> 
</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027157.html">[antlr-interest] should I be able to use language=CPP in latest	intermediate ANTLR build?
</A></li>
	<LI>Next message: <A HREF="027166.html">[antlr-interest] postmortem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27159">[ date ]</a>
              <a href="thread.html#27159">[ thread ]</a>
              <a href="subject.html#27159">[ subject ]</a>
              <a href="author.html#27159">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
