<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] greedy vs nongreedy lexer rules
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20greedy%20vs%20nongreedy%20lexer%20rules&In-Reply-To=%3C36161218-8C2A-478E-9124-FE51D357DBA0%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038366.html">
   <LINK REL="Next"  HREF="038387.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] greedy vs nongreedy lexer rules</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20greedy%20vs%20nongreedy%20lexer%20rules&In-Reply-To=%3C36161218-8C2A-478E-9124-FE51D357DBA0%40cs.usfca.edu%3E"
       TITLE="[antlr-interest] greedy vs nongreedy lexer rules">parrt at cs.usfca.edu
       </A><BR>
    <I>Mon Apr 19 12:32:45 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="038366.html">[antlr-interest] greedy vs nongreedy lexer rules
</A></li>
        <LI>Next message: <A HREF="038387.html">[antlr-interest] greedy vs nongreedy lexer rules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38369">[ date ]</a>
              <a href="thread.html#38369">[ thread ]</a>
              <a href="subject.html#38369">[ subject ]</a>
              <a href="author.html#38369">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Apr 19, 2010, at 10:59 AM, Daniels, Troy (US SSA) wrote:
&gt;<i> That fails when there are predicates in the rule that use the variables.  Consider this rule, based on something that was discusses on the list a while ago.
</I>&gt;<i> 
</I>&gt;<i> Fragment LETTER: 'a'..'z';
</I>&gt;<i> 
</I>&gt;<i> OneToFiveLetters:
</I>&gt;<i> @init {
</I>&gt;<i> int i = 0;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> ( {i&lt;5}? LETTER {++i;} )+ ;
</I>
Predicates are difficult to implement because you can't really have the action executed to you are sure that the entire rule matches.  That means backtracking if there are other rules that can match that input string. The solution is to use the always executing {{++i;}} version of the action. because i it's a local  variable, the side effects are relevant.

Ter
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038366.html">[antlr-interest] greedy vs nongreedy lexer rules
</A></li>
	<LI>Next message: <A HREF="038387.html">[antlr-interest] greedy vs nongreedy lexer rules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38369">[ date ]</a>
              <a href="thread.html#38369">[ thread ]</a>
              <a href="subject.html#38369">[ subject ]</a>
              <a href="author.html#38369">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
