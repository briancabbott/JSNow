<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Bug in ANTLR C# Codegen?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Bug%20in%20ANTLR%20C%23%20Codegen%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002262.html">
   <LINK REL="Next"  HREF="002229.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Bug in ANTLR C# Codegen?</H1>
    <B>Ney, Richard</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Bug%20in%20ANTLR%20C%23%20Codegen%3F&In-Reply-To="
       TITLE="[antlr-interest] Re: Bug in ANTLR C# Codegen?">richard.ney at aspect.com
       </A><BR>
    <I>Tue Nov  5 10:38:14 PST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="002262.html">[antlr-interest] Re: 2 flex lexers 2 antlr parsers -&gt; 1 simple solution?
</A></li>
        <LI>Next message: <A HREF="002229.html">[antlr-interest] Re: Bug in ANTLR C# Codegen?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2228">[ date ]</a>
              <a href="thread.html#2228">[ thread ]</a>
              <a href="subject.html#2228">[ subject ]</a>
              <a href="author.html#2228">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Michael,

Here is my CSharpCodeGenerator.java. I have coded around the error I
mentioned here by making sure the noViableOption string is actually going to
get printed to the file. Sorry about the mix-up on version. I have
downloaded 2.7.2a4 but I am currently not using it. I applied the fixes to
the C# codegen for 2.7.2a2. This version also contains a fix to silence the
warning:

warning CS0168: The variable 'pe' is declared but never used 

By adding in a dummy call to pe.getLine(); 

-Richard

-----Original Message-----
From: micheal_jor [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">open.zone at virgin.net</A>] 
Sent: Tuesday, November 05, 2002 7:31 AM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
Subject: [antlr-interest] Re: Bug in ANTLR C# Codegen?


Hi Richard,

&gt;<i> After I posted my fix to the unreachable code warnings I tested the
</I>new
&gt;<i> ANTLR on some other grammar files and found what appears to be a
</I>bug that is
&gt;<i> causing a throw exception statement to no get inserted.
</I>
Firstly, thank you for the code fixes you contributed for inclusion 
in the C# codegen. I would be grateful if you could send your updated 
CSharpCodeGenerator.java file (and all other affected files) with all 
the fixes incorporated. It is much easier to integrate whole file 
fixes in our environment.

As for the new bug you are reporting, are you testing with ANTLR 
2.7.2a4 (&quot;...the new ANTLR...&quot;) ?. If so, please be aware that the C# 
codegen is still being updated for 2.7.2a4. Nevertheless, thanks for 
testing it with the latest version and we are grateful for all early 
adopter test reports.  ;-)

&gt;<i> In this case when
</I>&gt;<i> genBlockFinish gets called it is passed a CSharpBlockFinishingInfo
</I>class and
&gt;<i> what appears to be a valid noViableAction string containing an
</I>exception.
&gt;<i> What appears strange is that the fields in the howToFinish instance
</I>of the
&gt;<i> class states that both an IF and SWITCH were generated and the it
</I>doesn't
&gt;<i> need a Error Clause. Based on the values for those fields the
</I>noViableAction
&gt;<i> will never get printed to the output file.
</I>&gt;<i> 
</I>&gt;<i> Has anyone else encountered this or is my fix to the warning the
</I>only thing
&gt;<i> that has exposed this?
</I>
I certainly haven't come across this before, perhaps others on the 
list have?. Is this behavior present in other langauges -- C++ and/or 
Java?

I would be grateful for a simple grammar file that exposes this 
behaviour. I suspect we would need a grammar file and detailed 
comments that allow us to re-create the behaviour and also explains 
why the behaviour is wrong.

Thanks,

Micheal




 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 



 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: CSharpCodeGenerator.java
Type: application/octet-stream
Size: 119024 bytes
Desc: not available
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20021105/8be8bad3/CSharpCodeGenerator.obj">http://www.antlr.org/pipermail/antlr-interest/attachments/20021105/8be8bad3/CSharpCodeGenerator.obj</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002262.html">[antlr-interest] Re: 2 flex lexers 2 antlr parsers -&gt; 1 simple solution?
</A></li>
	<LI>Next message: <A HREF="002229.html">[antlr-interest] Re: Bug in ANTLR C# Codegen?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2228">[ date ]</a>
              <a href="thread.html#2228">[ thread ]</a>
              <a href="subject.html#2228">[ subject ]</a>
              <a href="author.html#2228">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
