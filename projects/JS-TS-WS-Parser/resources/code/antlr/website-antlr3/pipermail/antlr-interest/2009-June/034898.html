<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Q: Advice on localizing lexer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Q%3A%20Advice%20on%20localizing%20lexer&In-Reply-To=%3Ce794390906141601v36fae7f0j25a29f596504f269%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034899.html">
   <LINK REL="Next"  HREF="034881.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Q: Advice on localizing lexer</H1>
    <B>C. Mundi</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Q%3A%20Advice%20on%20localizing%20lexer&In-Reply-To=%3Ce794390906141601v36fae7f0j25a29f596504f269%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Q: Advice on localizing lexer">cmundi at gmail.com
       </A><BR>
    <I>Sun Jun 14 16:01:50 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="034899.html">[antlr-interest] Q: Advice on localizing lexer [correction]
</A></li>
        <LI>Next message: <A HREF="034881.html">[antlr-interest] ANTLR Rookie Here
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34898">[ date ]</a>
              <a href="thread.html#34898">[ thread ]</a>
              <a href="subject.html#34898">[ subject ]</a>
              <a href="author.html#34898">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for your detailed reply.  I apologize for &quot;top posting&quot; but you make
some great points and I want to reply to a coupe of them, below...

On Sun, Jun 14, 2009 at 1:28 PM, David-Sarah Hopwood &lt;
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">david-sarah at jacaranda.org</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> Note that localizing thousands and decimal separators is quite problematic,
</I>&gt;<i> because of the swapped usage of ',' and '.' in English-speaking vs European
</I>&gt;<i> locales, and because ',' may conflict with list separators. Even if you
</I>&gt;<i> don't need non-integers or lists now, you might need them in future.
</I>

This actually is the easiest part.


&gt;<i> I would advise sticking with the English-speaking usage here (as
</I>&gt;<i> essentially
</I>&gt;<i> all programming languages/DSLs do), but allowing '_' as an
</I>&gt;<i> internationalised
</I>&gt;<i> thousands separator. Localising it is not necessarily doing any favours
</I>&gt;<i> to non-English-speaking users, if the result is inconsistent with other
</I>&gt;<i> [non-natural] languages they are used to, or if it causes scripts to break
</I>&gt;<i> when changing locales.
</I>&gt;<i>
</I>
I'm trying to convince my users of the same.  But some customers can be
quite &quot;persistent&quot; you know.
I believe (proof omitted) that if I can localize, then I also have all the
information needed to write a language translator such that a runnable
script in one dialect would be both runnable and semantically equivalent in
all dialects.  The only requirement really is that the mapping between
localized token representations be one-to-one.  So you see what really makes
this problem interesting (at least to me) is that I'm really trying to teach
a lexer some semantics.

Again, I would recommend internationalisation over localisation.
&gt;<i> Just use the syntax for identifiers defined by Unicode (or by Java;
</I>&gt;<i> they're almost the same).
</I>&gt;<i>
</I>
This is probably the most practical thing to do, I agree.


&gt;<i> The following code is adapted from Patrick Hulsmeijer's grammar for
</I>&gt;<i> ECMAScript 3, simplified a little. The original was BSD-licensed.
</I>&gt;<i> It has ordinary lexer rules for ASCII characters, but for non-ASCII
</I>&gt;<i> characters it uses semantic predicates that call Java's built-in
</I>&gt;<i> character classification methods (assuming the target language is Java).
</I>&gt;<i> This produces a much smaller and more efficient lexer, as well as a
</I>&gt;<i> simpler source grammar.
</I>

Thanks!


&gt;<i> Note that with this approach, any non-ASCII keywords will lex as
</I>&gt;<i> identifiers.
</I>

Yes.  I thought of that right away.  That can be dealt with by lexer
precedence rules.

Thank you very much again for your insight.  I'm trying to get my users to
accept internationalized identifiers and labels and keep the keywords and
numerics and tuple/list identifiers fixed to the English versions.

Carlos
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090614/7589549e/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090614/7589549e/attachment.html</A> 
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034899.html">[antlr-interest] Q: Advice on localizing lexer [correction]
</A></li>
	<LI>Next message: <A HREF="034881.html">[antlr-interest] ANTLR Rookie Here
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34898">[ date ]</a>
              <a href="thread.html#34898">[ thread ]</a>
              <a href="subject.html#34898">[ subject ]</a>
              <a href="author.html#34898">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
