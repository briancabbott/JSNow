<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lookbehind and other regex features
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Lookbehind%20and%20other%20regex%20features&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008672.html">
   <LINK REL="Next"  HREF="008676.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lookbehind and other regex features</H1>
    <B>Eric Mahurin</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Lookbehind%20and%20other%20regex%20features&In-Reply-To="
       TITLE="[antlr-interest] Lookbehind and other regex features">eric_mahurin at yahoo.com
       </A><BR>
    <I>Wed Jul 14 05:08:16 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008672.html">New antlr-interest member
</A></li>
        <LI>Next message: <A HREF="008676.html">[antlr-interest] Lookbehind and other regex features
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8673">[ date ]</a>
              <a href="thread.html#8673">[ thread ]</a>
              <a href="subject.html#8673">[ subject ]</a>
              <a href="author.html#8673">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I posted this on jguru, but it seemed inactive, so I'm trying here.

I'm a ANTLR beginner, but a long time expert of perl and its regular
expressions - including the constructs that have embedded code.

Is there any way to accomplish lookbehind in the lexer or parser? This
is the main thing that I don't immediately see how to do in ANTLR that
I could in Perl's regex's.

Here is a complete list of things easily done in Perl's regex's that
would be nice to have in ANTLR:

(...){m,n} : Match at least m times and at most n. Also make sure that
m and n can be at least integer variables of the target language. n=-1
could represent infinity so that {0,-1} means * and {1,-1} means +
({0,1} means ?). m=-1 could be used to force this alternative to fail-
like a semantic predicate. I realize that these features should be
doable now with semantic predicates watching a counter within a *
loop, but a more concise way would be nice - and not as tied to the
target language.

(...){m,n}? (...)*? (...)+? ?? : Non-greedy matching. I know
&quot;options{greedy=false;}&quot; works, but non-greedy seems commonly useful.
Maybe even have another suffix to set greedy=true to override the
default warning - how about &quot;+&quot; - {}+, *+, ++, ?+. I guess there are
several ways you can deal with greediness: warn if it matters (ANTLR's
default), greedy ignoring following patterns (ANTLR greedy=true, perl
(&gt;...)), greedy with backtracking (ANTLR doesn't do it, perl's
default), non-greedy with backtracking (perl ? suffix to {}, *, +, and
?), and non-greedy w/o backtracking (ANTLR greedy=false, perl ? suffix
to {}, *, +, and ? within (&gt;...)). I realize backtracking is difficult
and slow, but it would be nice to have it on occasion. Syntactic and
semantic predicates do help replace backtracking a little. Another
thing - I'm not sure why ANTLR doesn't allow non-greedy with ? (perl's
??), because it does make sense - only match the ? pattern if the
lookahead doesn't match the pattern following ? pattern.

(?&lt;=...) (?&lt;!...): Positive and negative lookbehind assertions. I
don't know of a way to do this in ANTLR.

(?=...) (?!...): Positive and negative lookahead assertions. I know
semantic predicates going to the cover this (syntactic predicates may
also cover the positive lookahead assertions, but I'm not sure). An
easier to read way of doing it like this would be nice.





 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
    <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
    <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
    <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008672.html">New antlr-interest member
</A></li>
	<LI>Next message: <A HREF="008676.html">[antlr-interest] Lookbehind and other regex features
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8673">[ date ]</a>
              <a href="thread.html#8673">[ thread ]</a>
              <a href="subject.html#8673">[ subject ]</a>
              <a href="author.html#8673">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
