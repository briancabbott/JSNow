<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Problem with generated code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problem%20with%20generated%20code&In-Reply-To=%3Cebc876d70802131137s66374abal461066e8651c07fd%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026454.html">
   <LINK REL="Next"  HREF="026453.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Problem with generated code</H1>
    <B>Thomas Brandon</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problem%20with%20generated%20code&In-Reply-To=%3Cebc876d70802131137s66374abal461066e8651c07fd%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Problem with generated code">tbrandonau at gmail.com
       </A><BR>
    <I>Wed Feb 13 11:37:57 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026454.html">[antlr-interest] Problem with generated code
</A></li>
        <LI>Next message: <A HREF="026453.html">[antlr-interest] funny error message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26455">[ date ]</a>
              <a href="thread.html#26455">[ thread ]</a>
              <a href="subject.html#26455">[ subject ]</a>
              <a href="author.html#26455">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Feb 14, 2008 6:21 AM, Johannes Luber &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jaluber at gmx.de</A>&gt; wrote:
&gt;<i> Jamie Penney schrieb:
</I>&gt;<i> &gt; Thanks for the replies everyone,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; What I ended up doing was changing this into a number of different
</I>&gt;<i> &gt; rules, rather than one rule for all keywords.
</I>&gt;<i> &gt; This created compilable code, but I don't know if it is correct. I kept
</I>&gt;<i> &gt; the old code, so should I go back and
</I>&gt;<i> &gt; change this to use scopes?
</I>&gt;<i>
</I>&gt;<i> Using scopes reduces the code duplication.
</I>&gt;<i>
</I>&gt;<i> Johannes
</I>&gt;<i>
</I>Not really, given the code the OP used. The methods are:
1) Keywords in lexer, ident_or_keyword parser rule
One lexer rule and alternative in parser rule per keyword.
2) Hardcoded parser rules checking IDENT token text
One parser rule per keyword.
3) OPs method
Alternative in contextual_keyword per keyword

1 requires changes in two places, 2 and 3 are pretty similar.
1 will probably be the fastest method as it won't require predicates.
3 will be slightly slower than 2 in at least some cases as it has to
run through the predicates to get into contextual_keyword and then
again in contextual_keyword. Though there's probably not much
practical difference between any of them.

If you want to go back to scopes you'd need to check the generated
code to ensure that scopes do solve the problem.

Tom.
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026454.html">[antlr-interest] Problem with generated code
</A></li>
	<LI>Next message: <A HREF="026453.html">[antlr-interest] funny error message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26455">[ date ]</a>
              <a href="thread.html#26455">[ thread ]</a>
              <a href="subject.html#26455">[ subject ]</a>
              <a href="author.html#26455">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
