<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Function Expressions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Function%20Expressions&In-Reply-To=%3CBANLkTik%3D%3DGwhL59oK_OsjOG-OxpNCcLLpQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041560.html">
   <LINK REL="Next"  HREF="041551.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Function Expressions</H1>
    <B>Jeff Hair</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Function%20Expressions&In-Reply-To=%3CBANLkTik%3D%3DGwhL59oK_OsjOG-OxpNCcLLpQ%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Function Expressions">knifed at gmail.com
       </A><BR>
    <I>Wed May  4 09:27:27 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="041560.html">[antlr-interest] Inserting missing nodes
</A></li>
        <LI>Next message: <A HREF="041551.html">[antlr-interest] Function Expressions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41549">[ date ]</a>
              <a href="thread.html#41549">[ thread ]</a>
              <a href="subject.html#41549">[ subject ]</a>
              <a href="author.html#41549">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

I have a simple C/JavaScript-style grammar for my interpreter project. Right
now, functions can be called via identifier(), or identifier(param1,
param2). This works fine for simple cases, but in my language functions are
first-class objects. I'm in the process of redoing my identifier logic for
properties, arrays, and function calls. I've gotten the first two working.

I'm trying to allow expressions to be callable as functions, so I can do
stuff like createFunction()(), where createFunction would be a function that
returns a function. Another example would be (1 + 1)(). Obviously that
should throw an error, but it should be a permissible language construct.
JavaScript allows this.

The func.g file in my gist is a pared down version of the language grammar,
with only the relevant rules in it. Understandably, it fails with the
following errors:

[java] error(210):  The following sets of rules are mutually left-recursive
[boolNegation, unary, add, mult, relation, term, expression]
[java] error(206): /home/user/955488/func.g:66:2: Alternative 1: after
matching input such as IDENT '(' decision cannot predict what comes next due
to recursion overflow to relation from expression
[java] error(201): /home/user/955488/func.g:66:2: The following alternatives
can never be matched: 2

<A HREF="https://gist.github.com/955488">https://gist.github.com/955488</A> demonstrates the issue. I've stripped out
everything except the expression rules. The gist can be cloned as a git repo
and then built via Ant + Ivy.

I understand why it's failing. There's a conflict between the IDENT
expression and IDENT '(' ')' for function calls. What I'm trying to figure
out is how to allow both identifiers and function calls. If I figure that
out, it should give me the rest of what I need. Any help would be
appreciated.
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041560.html">[antlr-interest] Inserting missing nodes
</A></li>
	<LI>Next message: <A HREF="041551.html">[antlr-interest] Function Expressions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41549">[ date ]</a>
              <a href="thread.html#41549">[ thread ]</a>
              <a href="subject.html#41549">[ subject ]</a>
              <a href="author.html#41549">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
