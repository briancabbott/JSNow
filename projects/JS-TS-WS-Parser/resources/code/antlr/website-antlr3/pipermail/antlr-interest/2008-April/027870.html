<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Rewrite rules - preserve internal whitespace?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Rewrite%20rules%20-%20preserve%20internal%20whitespace%3F&In-Reply-To=%3C20080417123928.8C73011E9DC%40www.antlr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027907.html">
   <LINK REL="Next"  HREF="027871.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Rewrite rules - preserve internal whitespace?</H1>
    <B>Gavin Lambert</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Rewrite%20rules%20-%20preserve%20internal%20whitespace%3F&In-Reply-To=%3C20080417123928.8C73011E9DC%40www.antlr.org%3E"
       TITLE="[antlr-interest] Rewrite rules - preserve internal whitespace?">antlr at mirality.co.nz
       </A><BR>
    <I>Thu Apr 17 05:39:08 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027907.html">[antlr-interest] Rewrite rules - preserve internal whitespace?
</A></li>
        <LI>Next message: <A HREF="027871.html">[antlr-interest] AST rewrite: Deleting tokens
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27870">[ date ]</a>
              <a href="thread.html#27870">[ thread ]</a>
              <a href="subject.html#27870">[ subject ]</a>
              <a href="author.html#27870">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 00:30 18/04/2008, Peter Nann wrote:
 &gt;Rewrite rules don't maintain the whitespace (and probably not
 &gt;comments) internal to the construct being re-written?

They will if you include them.  Otherwise they won't.

 &gt;Will still come out:
 &gt;&quot;x := 1&quot;
 &gt;
 &gt;Is this right?

I believe so, yes.  You're throwing away the whitespace tokens in 
the input and including only those that you &quot;care about&quot;.

 &gt;Soooo, having rewrite rules for complex (lets say nested),
 &gt;multi-line structures is going to output probably one gigantic
 &gt;line???

Not necessarily.  It will output whatever you tell it to 
output.  If you put newlines in your template, you'll get newlines 
in your output.  If you include a token that contains a newline, 
you'll get newlines in your output.

If you want to maintain the newlines from the input, then you'll 
need to avoid filtering them out when doing the 
lexing/parsing.  So no hidden channels.  (Or at least, if you do 
still want to put them on the hidden channel you'll have to do 
something more complicated to pull them back into your template 
later on.)

</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027907.html">[antlr-interest] Rewrite rules - preserve internal whitespace?
</A></li>
	<LI>Next message: <A HREF="027871.html">[antlr-interest] AST rewrite: Deleting tokens
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27870">[ date ]</a>
              <a href="thread.html#27870">[ thread ]</a>
              <a href="subject.html#27870">[ subject ]</a>
              <a href="author.html#27870">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
