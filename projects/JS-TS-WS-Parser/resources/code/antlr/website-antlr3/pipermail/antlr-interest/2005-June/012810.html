<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] same grammar? advanced tree manipulation?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20same%20grammar%3F%20advanced%20tree%20manipulation%3F&In-Reply-To=BAY104-F25EBF7ABF31E4511AFF715B9EB0%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012808.html">
   <LINK REL="Next"  HREF="012757.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] same grammar? advanced tree manipulation?</H1>
    <B>Loring Craymer</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20same%20grammar%3F%20advanced%20tree%20manipulation%3F&In-Reply-To=BAY104-F25EBF7ABF31E4511AFF715B9EB0%40phx.gbl"
       TITLE="[antlr-interest] same grammar? advanced tree manipulation?">Loring.G.Craymer at jpl.nasa.gov
       </A><BR>
    <I>Wed Jun 22 02:07:15 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012808.html">[antlr-interest] same grammar? advanced tree manipulation?
</A></li>
        <LI>Next message: <A HREF="012757.html">[antlr-interest] Boolean and Arithmetic expression difficulty
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12810">[ date ]</a>
              <a href="thread.html#12810">[ thread ]</a>
              <a href="subject.html#12810">[ subject ]</a>
              <a href="author.html#12810">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Since everything in mpiJava is static (eww, gross---FORTRAN disguised as
Java), all of the MPI references will be through fully qualified
names-MPI.Init, etc.  So you want to build a HashMap in which the keys are
the fully qualified method names-&quot;MPI.Init&quot;, &quot;Comm.Rank&quot;, and so forth.
Object values contain whatever information you find that you need to process
the specific MPI function identified by the key value.

 

It would probably also help to have a HashSet of the MPI class names-you can
check for membership in the HashSet as a first step in seeing if you have
found one of the MPI functions/constants.

 

[The easy way to generate the code for constructing the table is to write a
little translator to convert a text specification of the classes and their
methods/fields into code that builds the HashSet and HashMap that you
need-or you can extract the information from the .java mpiJava files with a
simple one-pass translator built from the Java parser/lexer grammar.  You
should be able to do this in a day or so-this is probably a good first step
in understanding the java grammars, anyway.]

 

Once you have this bit of infrastructure, you annotate a tree grammar to
recognize fully qualified names in method calls (and access of constants,
but I don't think that you need that).  Semantic predicates then can be used
to distinguish whether you want to replace a method call or can output it
unchanged.

 

I hope that this helps.  As to your question as to whether this is a good
problem for ANTLR:  this sort of translation is fairly easy to do with
ANTLR.  The issue is really one of whether you have a sufficient volume of
MPI calls to process or not.

 

--Loring

 

  _____  

From: Eric Nelson [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jeric10 at hotmail.com</A>] 
Sent: Tuesday, June 21, 2005 9:12 PM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">Loring.G.Craymer at jpl.nasa.gov</A>; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] same grammar? advanced tree manipulation?

 

So I do have to ask though, how would I follow your suggestion of building
the symbol table, etc?  Thanks again,

 - e




&gt;<i>From: Loring Craymer &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">Loring.G.Craymer at jpl.nasa.gov</A>&gt;
</I>&gt;<i>To: Eric Nelson &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jeric10 at hotmail.com</A>&gt;, <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i>Subject: Re: [antlr-interest] same grammar?  advanced tree manipulation?
</I>&gt;<i>Date: Mon, 20 Jun 2005 15:14:00 -0700
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20050622/11130cc1/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20050622/11130cc1/attachment.html</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012808.html">[antlr-interest] same grammar? advanced tree manipulation?
</A></li>
	<LI>Next message: <A HREF="012757.html">[antlr-interest] Boolean and Arithmetic expression difficulty
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12810">[ date ]</a>
              <a href="thread.html#12810">[ thread ]</a>
              <a href="subject.html#12810">[ subject ]</a>
              <a href="author.html#12810">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
