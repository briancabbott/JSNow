<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] CPP COMMENTS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20CPP%20COMMENTS&In-Reply-To=4372195C.5050702%40ntlworld.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014250.html">
   <LINK REL="Next"  HREF="014252.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] CPP COMMENTS</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20CPP%20COMMENTS&In-Reply-To=4372195C.5050702%40ntlworld.com"
       TITLE="[antlr-interest] CPP COMMENTS">ric.klaren at gmail.com
       </A><BR>
    <I>Wed Nov  9 07:41:36 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014250.html">[antlr-interest] CPP COMMENTS
</A></li>
        <LI>Next message: <A HREF="014252.html">[antlr-interest] CPP COMMENTS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14251">[ date ]</a>
              <a href="thread.html#14251">[ thread ]</a>
              <a href="subject.html#14251">[ subject ]</a>
              <a href="author.html#14251">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Henry Butowsky wrote:
&gt;<i> Im still trying to get C++ style comments working. I have the rule.
</I>&gt;<i> 
</I>&gt;<i> CPP_COMMENT: (&quot;//&quot; (~'\n')* '\n')
</I>&gt;<i>     { newline(); $setType(antlr::Token::SKIP); };
</I>&gt;<i> 
</I>&gt;<i> It seems to be crashing out in the lexer in CalcLexer::mCPP_COMMENT().
</I>&gt;<i> More specifically -- whats happening is that it is crashing out on the
</I>&gt;<i> line -- match('\n'). I've investigated with the debugger and whats
</I>&gt;<i> happening is that it is matching everything from the comment start till
</I>&gt;<i> the end of the file (ignoring any \n). Thus returning a -1 (which is EOF)
</I>&gt;<i> 
</I>&gt;<i> Setting codeGenBitsetTestThreshold to 999 ?
</I>&gt;<i> Setting k to 3,4,5 ?
</I>&gt;<i> Rebuilding antlr from scratch rather than using rpm distribution
</I>
Basically the rule and the generated code look ok.

When you rebuild antlr did you make sure to clean out any old object
files? Also make sure to use the same compiler for both the library and
the project. (make sure it does not pick up a stale libantlr.a from
somewhere else on the system)

What antlr version is this?
What compiler are you using?
On what platform?

It would also be interesting to know why the matchNot is not behaving..
Could you post the _tokenSet_0 contents? (preferably including the
comment with the contents the bitset in front of it)

Does it crash on the call of match or does it crash inside match?

Cheers,

Ric
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014250.html">[antlr-interest] CPP COMMENTS
</A></li>
	<LI>Next message: <A HREF="014252.html">[antlr-interest] CPP COMMENTS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14251">[ date ]</a>
              <a href="thread.html#14251">[ thread ]</a>
              <a href="subject.html#14251">[ subject ]</a>
              <a href="author.html#14251">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
