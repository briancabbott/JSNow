<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Perplexed about template option
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Perplexed%20about%20template%20option&In-Reply-To=%3CA308B4AA-D28B-4529-A087-C2DA409E1734%40UCAR.EDU%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025238.html">
   <LINK REL="Next"  HREF="025242.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Perplexed about template option</H1>
    <B>Pete Siemsen</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Perplexed%20about%20template%20option&In-Reply-To=%3CA308B4AA-D28B-4529-A087-C2DA409E1734%40UCAR.EDU%3E"
       TITLE="[antlr-interest] Perplexed about template option">siemsen at UCAR.EDU
       </A><BR>
    <I>Fri Dec 14 11:08:21 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025238.html">[antlr-interest] Perplexed about template option
</A></li>
        <LI>Next message: <A HREF="025242.html">[antlr-interest] Enhancement request for identifying imaginary	tokens
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25252">[ date ]</a>
              <a href="thread.html#25252">[ thread ]</a>
              <a href="subject.html#25252">[ subject ]</a>
              <a href="author.html#25252">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think the main reason to use templates is to allow you to easily  
change your output language.  Suppose you are parsing input language  
A and producing either output language B or output language C.   
Templates provide a great mechanism for this.  But suppose A, B and C  
have major elements that appear in a different order.  I solve this  
by saving up Java variables as I parse and then calling a single  
template from one rule.

Dunno if this helps.  I'm learning bigtime, and I confess I don't  
really know how to use the implicit string templates returned by  
individual rules.

-- Pete



On Dec 13, 2007, at 1:37 PM, <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ima_band at comcast.net</A> wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> To my sheer delight I am generating tons of code with ANTLR without  
</I>&gt;<i> having to deal with the more complex AST trees. But since I'm using  
</I>&gt;<i> the template option all of my rules return an implicit string  
</I>&gt;<i> template, right? Trouble is, unless I'm mistaken, this ties you  
</I>&gt;<i> into having template output that mimics the hierarchy (i.e.  
</I>&gt;<i> nesting) of your input data. When I created a DataObject wrapper it  
</I>&gt;<i> worked fine but my Bean implementation needed field name and type  
</I>&gt;<i> data in two separate parts of the file. At first I imagined being  
</I>&gt;<i> able to invoke 2 different templates from my columnDef rule and  
</I>&gt;<i> pass them up and into my outermost template as two separate  
</I>&gt;<i> parameters. As far as I can tell that is not possible. Instead I  
</I>&gt;<i> created an aggregate FieldDef class in the @members area and added  
</I>&gt;<i> them to a fieldDefList as columns where recognized down in the  
</I>&gt;<i> columnDef rule then passed the list of aggregates to the outermost  
</I>&gt;<i> template and leveraged StringTemplates var ious i terator features.
</I>&gt;<i>
</I>&gt;<i> I was forced to abandon what I thought was the stated intent of the  
</I>&gt;<i> template option (bubbling up STs) and piece together a bunch of  
</I>&gt;<i> Java code instead. Don't get me wrong, applying templates to multi- 
</I>&gt;<i> valued attributes is pretty cool and gets me where I want to be.  
</I>&gt;<i> But if you could emit multiple STs for the same rule then you could  
</I>&gt;<i> simply pass them to the outermost template and stick them where  
</I>&gt;<i> they need to be! No muss. No fuss. No unneeded class definitions.
</I>&gt;<i>
</I>&gt;<i> Thoughts?
</I>&gt;<i>
</I>&gt;<i> Jeff
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20071214/e61c2094/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20071214/e61c2094/attachment.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025238.html">[antlr-interest] Perplexed about template option
</A></li>
	<LI>Next message: <A HREF="025242.html">[antlr-interest] Enhancement request for identifying imaginary	tokens
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25252">[ date ]</a>
              <a href="thread.html#25252">[ thread ]</a>
              <a href="subject.html#25252">[ subject ]</a>
              <a href="author.html#25252">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
