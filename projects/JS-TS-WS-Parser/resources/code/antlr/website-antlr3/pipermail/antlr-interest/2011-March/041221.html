<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] -trace is broken for C target?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20-trace%20is%20broken%20for%20C%20target%3F&In-Reply-To=%3C4D91051C.1030804%40kjchome.homeip.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041220.html">
   <LINK REL="Next"  HREF="041222.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] -trace is broken for C target?</H1>
    <B>Kevin J. Cummings</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20-trace%20is%20broken%20for%20C%20target%3F&In-Reply-To=%3C4D91051C.1030804%40kjchome.homeip.net%3E"
       TITLE="[antlr-interest] -trace is broken for C target?">cummings at kjchome.homeip.net
       </A><BR>
    <I>Mon Mar 28 15:01:00 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="041220.html">[antlr-interest] [stringtemplate-interest] Release of	StringTemplate 4.0
</A></li>
        <LI>Next message: <A HREF="041222.html">[antlr-interest] -trace is broken for C target?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41221">[ date ]</a>
              <a href="thread.html#41221">[ thread ]</a>
              <a href="subject.html#41221">[ subject ]</a>
              <a href="author.html#41221">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I tried to use the -trace command line option to ANTLR 3.2 and found
that the resulting Lexer.c and Parser.c files don't compile due to
missing arguments or missing references.  After looking at the C.stg
template file that produces the tracing lines, I came up with the
following patch that I think will correct the problem.

This patch should be applied to the:

	tool/src/main/resources/org/antlr/codegen/templates/C/C.stg

file for ANTLR 3.2.  If this is the wrong place, or the wrong fix for
this problem, I apologize, but by applying the fixed ANTLR3_PRINTFs
directly into actions in my grammar, has helped me see some trace output
and helped me debug my current grammar.

If this has already been fixed in ANTLR 3.3 or ANTLR 3.4, I also
apologize, but I'm currently running on Fedora 14, and the last
pre-packaged version of the ANTLR RPMs is 3.2:

antlr3-C-devel-3.2-11.fc14.x86_64
antlr3-C-docs-3.2-11.fc14.noarch
antlr3-javascript-3.1-11.fc14.noarch
antlr3-python-3.1.2-11.fc14.noarch
antlr3-tool-3.2-11.fc14.noarch
antlr3-java-3.2-11.fc14.noarch
antlr3-gunit-3.2-11.fc14.noarch
antlr3-C-3.2-11.fc14.x86_64

-- 
Kevin J. Cummings
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">kjchome at verizon.net</A>
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cummings at kjchome.homeip.net</A>
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cummings at kjc386.framingham.ma.us</A>
Registered Linux User #1232 (<A HREF="http://counter.li.org">http://counter.li.org</A>)
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041220.html">[antlr-interest] [stringtemplate-interest] Release of	StringTemplate 4.0
</A></li>
	<LI>Next message: <A HREF="041222.html">[antlr-interest] -trace is broken for C target?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41221">[ date ]</a>
              <a href="thread.html#41221">[ thread ]</a>
              <a href="subject.html#41221">[ subject ]</a>
              <a href="author.html#41221">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
