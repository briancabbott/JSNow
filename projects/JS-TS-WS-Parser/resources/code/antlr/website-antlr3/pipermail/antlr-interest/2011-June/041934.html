<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR 3.4 rc3 (aka beta3)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR%203.4%20rc3%20%28aka%20beta3%29&In-Reply-To=%3C6B458D23F5D4A24ABCDB3C78EA97393B02AFFD30%40EXCH-VIRTUAL.aerotechad.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041929.html">
   <LINK REL="Next"  HREF="041937.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR 3.4 rc3 (aka beta3)</H1>
    <B>Justin Murray</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR%203.4%20rc3%20%28aka%20beta3%29&In-Reply-To=%3C6B458D23F5D4A24ABCDB3C78EA97393B02AFFD30%40EXCH-VIRTUAL.aerotechad.com%3E"
       TITLE="[antlr-interest] ANTLR 3.4 rc3 (aka beta3)">jmurray at aerotech.com
       </A><BR>
    <I>Fri Jun 24 11:03:03 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="041929.html">[antlr-interest] ANTLR 3.4 rc3 (aka beta3)
</A></li>
        <LI>Next message: <A HREF="041937.html">[antlr-interest] ANTLR 3.4 rc3 (aka beta3)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41934">[ date ]</a>
              <a href="thread.html#41934">[ thread ]</a>
              <a href="subject.html#41934">[ subject ]</a>
              <a href="author.html#41934">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Here is the attached grammar. I was hoping not to have to subject anyone 
to this horribly designed language. It was conceived in the early 90s, 
and spent nearly 2 decades morphing into its current form before I got 
my hands on it. I was tasked with porting it to ANTLR (from Visual 
Parse++), without breaking backwards compatibility with any screwed up 
syntax that it may have parsed in the past. Anyways, the language is 
inherently ambiguous, and I have not yet been able to untangle it enough 
to be able to turn off the backtracking option. Still, somehow, the 
generated parser is able to out-perform what we had before, so kudos to 
Ter and Jim.

I am most concerned with the issue at hand so that I can eventually move 
to 3.4. As I said, this does work in 3.3, but I would not be surprised 
if I was just getting away with something. Any advice to help me turn 
off backtracking would certainly be appreciated as well, but please 
don't hurt yourself trying to comprehend this grammar.

Thanks,

-- Justin

On 6/24/2011 1:33 PM, Jim Idle wrote:
&gt;<i> You need to attach your grammar.
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Justin Murray
</I>&gt;&gt;<i> Sent: Friday, June 24, 2011 8:06 AM
</I>&gt;&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;&gt;<i> Subject: Re: [antlr-interest] ANTLR 3.4 rc3 (aka beta3)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Decided to give this a run on my C-target grammar. I'm getting the
</I>&gt;&gt;<i> following error:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1&gt;      [exec] org\antlr\grammar\v3\DefineGrammarItemsWalker.g: node
</I>&gt;&gt;<i> from
</I>&gt;&gt;<i> line 290:15 required (...)+ loop did not match anything at input '&lt;end-
</I>&gt;&gt;<i> of-alt&gt;'
</I>&gt;&gt;<i> 1&gt;      [exec] error(10):  internal error: c:\...\Aerobasic.g :
</I>&gt;&gt;<i> java.lang.ClassCastException: org.antlr.runtime.tree.CommonTree cannot
</I>&gt;&gt;<i> be cast to org.antlr.tool.GrammarAST
</I>&gt;&gt;<i> 1&gt;      [exec]
</I>&gt;&gt;<i> org.antlr.grammar.v3.DefineGrammarItemsWalker.rewrite(DefineGrammarItem
</I>&gt;&gt;<i> sWalker.java:3464)
</I>&gt;&gt;<i> 1&gt;      [exec]
</I>&gt;&gt;<i> org.antlr.grammar.v3.DefineGrammarItemsWalker.block(DefineGrammarItemsW
</I>&gt;&gt;<i> alker.java:2073)
</I>&gt;&gt;<i> 1&gt;      [exec]
</I>&gt;&gt;<i> org.antlr.grammar.v3.DefineGrammarItemsWalker.rule(DefineGrammarItemsWa
</I>&gt;&gt;<i> lker.java:1627)
</I>&gt;&gt;<i> 1&gt;      [exec]
</I>&gt;&gt;<i> org.antlr.grammar.v3.DefineGrammarItemsWalker.rules(DefineGrammarItemsW
</I>&gt;&gt;<i> alker.java:1190)
</I>&gt;&gt;<i> 1&gt;      [exec]
</I>&gt;&gt;<i> org.antlr.grammar.v3.DefineGrammarItemsWalker.grammarSpec(DefineGrammar
</I>&gt;&gt;<i> ItemsWalker.java:623)
</I>&gt;&gt;<i> 1&gt;      [exec]
</I>&gt;&gt;<i> org.antlr.grammar.v3.DefineGrammarItemsWalker.grammar_(DefineGrammarIte
</I>&gt;&gt;<i> msWalker.java:315)
</I>&gt;&gt;<i> 1&gt;      [exec]
</I>&gt;&gt;<i> org.antlr.tool.Grammar.defineGrammarSymbols(Grammar.java:748)
</I>&gt;&gt;<i> 1&gt;      [exec]
</I>&gt;&gt;<i> org.antlr.tool.CompositeGrammar.defineGrammarSymbols(CompositeGrammar.j
</I>&gt;&gt;<i> ava:369)
</I>&gt;&gt;<i> 1&gt;      [exec] org.antlr.Tool.process(Tool.java:465)
</I>&gt;&gt;<i> 1&gt;      [exec] org.antlr.Tool.main(Tool.java:93)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am not sure where to go from here. Note that this grammar does not
</I>&gt;&gt;<i> output an AST, it is just a simple parser. This was working fine with
</I>&gt;&gt;<i> ANTLR v3.3.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- Justin
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 6/23/2011 7:03 PM, Terence Parr wrote:
</I>&gt;&gt;&gt;<i> hi, Jim fixed up the C runtime. please test it out:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> <A HREF="http://antlr.org/download/antlr-master-3.4-beta3-completejar.jar">http://antlr.org/download/antlr-master-3.4-beta3-completejar.jar</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://antlr.org/download/antlr-master-3.4-beta3-src.jar">http://antlr.org/download/antlr-master-3.4-beta3-src.jar</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://antlr.org/download/antlr-runtime-3.4-beta3-sources.jar">http://antlr.org/download/antlr-runtime-3.4-beta3-sources.jar</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://antlr.org/download/antlr-runtime-3.4-beta3.jar">http://antlr.org/download/antlr-runtime-3.4-beta3.jar</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Ter
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;&gt;<i> Unsubscribe:
</I>&gt;&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-">http://www.antlr.org/mailman/options/antlr-interest/your-email-</A>
</I>&gt;&gt;<i> address
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;&gt;<i> email-address
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Aerobasic.g
Url: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20110624/f167ada4/attachment-0001.pl">http://www.antlr.org/pipermail/antlr-interest/attachments/20110624/f167ada4/attachment-0001.pl</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041929.html">[antlr-interest] ANTLR 3.4 rc3 (aka beta3)
</A></li>
	<LI>Next message: <A HREF="041937.html">[antlr-interest] ANTLR 3.4 rc3 (aka beta3)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41934">[ date ]</a>
              <a href="thread.html#41934">[ thread ]</a>
              <a href="subject.html#41934">[ subject ]</a>
              <a href="author.html#41934">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
