<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] how to check if a optional token exists or not	??
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20how%20to%20check%20if%20a%20optional%20token%20exists%20or%20not%0A%09%3F%3F&In-Reply-To=%3C%22H000006700011d50.1195248168.scalix.temporal-wave.com%2A%22%40MHS%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024716.html">
   <LINK REL="Next"  HREF="024713.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] how to check if a optional token exists or not	??</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20how%20to%20check%20if%20a%20optional%20token%20exists%20or%20not%0A%09%3F%3F&In-Reply-To=%3C%22H000006700011d50.1195248168.scalix.temporal-wave.com%2A%22%40MHS%3E"
       TITLE="[antlr-interest] how to check if a optional token exists or not	??">jimi at temporal-wave.com
       </A><BR>
    <I>Fri Nov 16 14:07:33 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024716.html">[antlr-interest] how to check if a optional token exists or not ??
</A></li>
        <LI>Next message: <A HREF="024713.html">[antlr-interest] Link to call me for free
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24719">[ date ]</a>
              <a href="thread.html#24719">[ thread ]</a>
              <a href="subject.html#24719">[ subject ]</a>
              <a href="author.html#24719">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>No - you should no start to build action the reference the internally 
generated variable names. If the format or names of these change, you 
will be in all sorts of trouble. That's one of the reasons for the 
dollar syntax.

The way to do this (in the absence of being able to use $meta) is to use 
a local Boolean intialized to false, and then set the boolean to true in 
an action after valueMetaType. Then test your Boolean.

Jim

-----Original Message-----
From: Austin Hastings [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">Austin_Hastings at Yahoo.com</A>] 
Sent: Friday, November 16, 2007 12:44 AM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">OJAY78 at gmx.de</A>
Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] how to check if a optional token exists or 
not ??

In java, ANTLR creates a named variable for each label you use. Check 
for meta == null, without using a '$' sign.

if (meta != null)

=Austin

<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">OJAY78 at gmx.de</A> wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I stuck on a small Problem. I have this rule with an optional token 
</I>meta. In the Java Code I want to check if this token is null or not so 
that I can call a other method. But this check of the meta token will 
result in a nullpointer exception. Does anyone know how I can solve 
this? How can I check the meta token?
&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i> valueType returns[StringObject value]
</I>&gt;<i> 	:'value' ',' rv=function_parameter (',' meta=valueMetaType)?
</I>&gt;<i> 	{
</I>&gt;<i> 	
</I>&gt;<i> 	String valName = $rv.value;
</I>&gt;<i> 	FormValue fv = formInstance.getFormValue( valName 
</I>&gt;<i> 		
</I>&gt;<i> 		if( fv == null ) {
</I>&gt;<i> 			log.debug(&quot;VALUE TYPE: Feld ist leer&quot;);
</I>&gt;<i> 			$value = new StringObject(&quot;&quot;,null,null);
</I>&gt;<i> 		}
</I>&gt;<i> 		else {
</I>&gt;<i> 			if ($meta.text == null){
</I>&gt;<i> 			$value = new 
</I>StringObject(fv.getFieldValue().toString(),fv,valName);
&gt;<i> 			}
</I>&gt;<i> 			else{
</I>&gt;<i> 			 $value=FELHelper.getFormValueMeta(fv,$meta.text);
</I>&gt;<i> 			}
</I>&gt;<i> 		}
</I>&gt;<i>
</I>&gt;<i> 	}
</I>&gt;<i> 	;
</I>&gt;<i>   
</I>


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024716.html">[antlr-interest] how to check if a optional token exists or not ??
</A></li>
	<LI>Next message: <A HREF="024713.html">[antlr-interest] Link to call me for free
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24719">[ date ]</a>
              <a href="thread.html#24719">[ thread ]</a>
              <a href="subject.html#24719">[ subject ]</a>
              <a href="author.html#24719">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
