<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: BENCHMARK. ANTLR. Bad results.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20BENCHMARK.%20ANTLR.%20Bad%20results.&In-Reply-To=BDBB0E3F.2359C%25sunshine%40public.kherson.ua">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010095.html">
   <LINK REL="Next"  HREF="010115.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: BENCHMARK. ANTLR. Bad results.</H1>
    <B>micheal_jor</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20BENCHMARK.%20ANTLR.%20Bad%20results.&In-Reply-To=BDBB0E3F.2359C%25sunshine%40public.kherson.ua"
       TITLE="[antlr-interest] Re: BENCHMARK. ANTLR. Bad results.">open.zone at virgin.net
       </A><BR>
    <I>Sat Nov 13 11:33:26 PST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="010095.html">[antlr-interest] BENCHMARK. ANTLR. Bad results.
</A></li>
        <LI>Next message: <A HREF="010115.html">[antlr-interest] Re: BENCHMARK. ANTLR. Bad results.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10114">[ date ]</a>
              <a href="thread.html#10114">[ thread ]</a>
              <a href="subject.html#10114">[ subject ]</a>
              <a href="author.html#10114">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

--- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>, Ruslan Zasukhin &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sunshine at p...</A>&gt;
wrote:
&gt;<i> Hi Guys.
</I>&gt;<i> 
</I>&gt;<i> Well, have gone 18 months as we have start to use ANTLR in our
</I>project --
&gt;<i> Valentina DBMS, and now I have on hands results of benchmarks for
</I>parsing.
&gt;<i> 
</I>&gt;<i> They are not good :-(
</I>
Wasn't expecting otherwise given the subject of your post ;-)

&lt;SNIP&gt;

&gt;<i> ---------------------------------------------------
</I>&gt;<i> We use C++ runtime of ANTLR.
</I>&gt;<i> Benches was in the release compile, with full optimization on.
</I>&gt;<i> 
</I>&gt;<i> We have not study yet deeply where are problems.
</I>&gt;<i> This is what we are going to do in the nearest time.
</I>
I was hoping you had run the code through a profiler to locate the
bottleneck *before* posting the results. That would have given us much
better performance info.

&gt;<i> Just I want to demonstrate that my expectation of bad performance of C++
</I>&gt;<i> ANTLR runtime have become reality.
</I>&gt;<i> 
</I>&gt;<i> * We will try urgently switch to Lex lexer.
</I>
Well, you have been involved in many threads on ANTLR/C++'s
performance where the first advice is always to swich to a [F]Lex
lexer and, there is a sample that demonstrates this. 

&gt;<i> * but IMHO on of the main problems of ANTLR C++, is that it heavally
</I>uses
&gt;<i> std::string class and a lots of *copying* of string when it parse
</I>tokens.

Perhaps, but without hard profiling data, how can you be certain?.
More importantly, how can you convince other people to accept your
speculation?.

&gt;<i> * may be another problem is in exceptions, although I like mechanizm of
</I>&gt;<i> exceptions.
</I>&gt;<i> 
</I>&gt;<i> I think that for 3.0 Rick and community should produce own, special,
</I>very
&gt;<i> optimized for ANTLR tasks antl::string class. This class should
</I>simply have
&gt;<i> 2 pointers on start/end of tokem. Pointer must point directly into
</I>original
&gt;<i> parsed text. There is no need copy any byte of parsed text.
</I>Everything must
&gt;<i> work on pointers. Tell me that I am wrong?! :-)
</I>
I can't but, I can at least ask that you take of one the simple
examples, generate the code then, modify a copy of the generated code
manually to implement the features you feel strongly about.

We can then test both versions. The results can then properly inform
the decisions that are made for v3 code generation.

Cheers,

ANTLR/C#






 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
    <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
    <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
    <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010095.html">[antlr-interest] BENCHMARK. ANTLR. Bad results.
</A></li>
	<LI>Next message: <A HREF="010115.html">[antlr-interest] Re: BENCHMARK. ANTLR. Bad results.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10114">[ date ]</a>
              <a href="thread.html#10114">[ thread ]</a>
              <a href="subject.html#10114">[ subject ]</a>
              <a href="author.html#10114">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
