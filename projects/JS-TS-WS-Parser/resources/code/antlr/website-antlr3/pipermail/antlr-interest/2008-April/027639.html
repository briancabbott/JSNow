<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ignoring auto template construction for now
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ignoring%20auto%20template%20construction%20for%20now&In-Reply-To=%3C591641.71215.qm%40web55905.mail.re3.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027638.html">
   <LINK REL="Next"  HREF="027640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ignoring auto template construction for now</H1>
    <B>Loring Craymer</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ignoring%20auto%20template%20construction%20for%20now&In-Reply-To=%3C591641.71215.qm%40web55905.mail.re3.yahoo.com%3E"
       TITLE="[antlr-interest] ignoring auto template construction for now">lgcraymer at yahoo.com
       </A><BR>
    <I>Fri Apr  4 17:37:08 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027638.html">[antlr-interest] ignoring auto template construction for now
</A></li>
        <LI>Next message: <A HREF="027640.html">[antlr-interest] ANTLR error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27639">[ date ]</a>
              <a href="thread.html#27639">[ thread ]</a>
              <a href="subject.html#27639">[ subject ]</a>
              <a href="author.html#27639">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ter--

The solution I implemented in Yggdrasil depends on a few key insights:

1.)   ST output provides real visibility into the input stream (or anidealized, user-friendly. tweaked version of the input stream), and that visibility can be provided to development tools to provide RAD support, not just pretty output but pretty output that makes the tools more usable.
2.)  The ST structuring mechanism is via named slots and is fundamentally different from the tree structuring mechanisms which determine order in an output &quot;stream&quot;.
3.)  The proper view for AST versus ST output is not  &quot;either/or&quot; but &quot;and/or&quot;.  The printing of intermediate forms should not require a grammar dedicated to template output:  that just prolongs the development process.  Oddly enough, I think that this is the fundamental insight--none of the possibilities I explored &quot;felt right&quot; until I got here.
4.) Heavy duty rearrangement of the input stream should be done through trees; a minimalist syntax for ST support is sufficient.  The first class attributes in Yggdrasil can support major rewrites of template outputs, but I consider that fortuitous; the real benefits are visualization and a more rapid development cycle.

Efficiency is achieved through code generation flags--either the ST generation support is included in the target code generated from a grammar or not.

Cheers!

--Loring



----- Original Message ----
From: Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>&gt;
To: antlr-interest Interest &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
Cc: antlr-dev list &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-dev at antlr.org</A>&gt;
Sent: Friday, April 4, 2008 3:43:58 PM
Subject: [antlr-interest] ignoring auto template construction for now

Hi. decided it's too hard to get a perfect solution in short order.  i  
easily added auto temp construction but got stuck thinking about  
efficiency and hidden channel stuff.

For now, i realized I can just add this to rules that must return the  
text by default, which suits my purposes with output=template and  
rewrite=true at moment:

@after {
if ( $st==null ) {
    StringTemplate t = %{&quot;&lt;element&gt;&quot;};
    %t.element = $text;
    $st = t;
}
}

Ter






      ____________________________________________________________________________________
You rock. That's why Blockbuster's offering you one month of Blockbuster Total Access, No Cost.  
<A HREF="http://tc.deals.yahoo.com/tc/blockbuster/text5.com">http://tc.deals.yahoo.com/tc/blockbuster/text5.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080404/69fe5fd6/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080404/69fe5fd6/attachment.html</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027638.html">[antlr-interest] ignoring auto template construction for now
</A></li>
	<LI>Next message: <A HREF="027640.html">[antlr-interest] ANTLR error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27639">[ date ]</a>
              <a href="thread.html#27639">[ thread ]</a>
              <a href="subject.html#27639">[ subject ]</a>
              <a href="author.html#27639">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
