<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Error compiling generated C code (possibly	32/64 bit conflict?)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Error%20compiling%20generated%20C%20code%20%28possibly%0A%0932/64%20bit%20conflict%3F%29&In-Reply-To=%3C2b951e7d0901201346rd7fa09fif908cd05178f9325%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032464.html">
   <LINK REL="Next"  HREF="032469.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Error compiling generated C code (possibly	32/64 bit conflict?)</H1>
    <B>Andy Grove</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Error%20compiling%20generated%20C%20code%20%28possibly%0A%0932/64%20bit%20conflict%3F%29&In-Reply-To=%3C2b951e7d0901201346rd7fa09fif908cd05178f9325%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Error compiling generated C code (possibly	32/64 bit conflict?)">andy.grove at codefutures.com
       </A><BR>
    <I>Tue Jan 20 13:46:46 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032464.html">[antlr-interest] Error compiling generated C code (possibly 32/64 bit conflict?)
</A></li>
        <LI>Next message: <A HREF="032469.html">[antlr-interest] Error compiling generated C code (possibly	32/64 bit conflict?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32467">[ date ]</a>
              <a href="thread.html#32467">[ thread ]</a>
              <a href="subject.html#32467">[ subject ]</a>
              <a href="author.html#32467">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jim,

Thanks for the prompt response. Yes, I did run &quot;make install&quot; and the antlr3
header files are in /usr/local/include. I get different errors if I remove
those headers so the header files are being discovered.

I am using this syntax to call the compiler:

g++ -I$ANTLR_INCLUDE_PATH -O0 -g3 -Wall -c -fmessage-length=0 -fPIC -MMD -MP
-MF&quot;src/sqlparser/DbsMySQL_CPPLexer.d&quot;
-MT&quot;src/sqlparser/DbsMySQL_CPPLexer.d&quot; -o&quot;output/DbsMySQL_CPPLexer.o&quot;
&quot;src/sqlparser/DbsMySQL_CPPLexer.c&quot;

I'm compiling as C++. Is this supported? I'd like to call into C++ code from
the parser.

To provide a bit more detail, here is a larger portion of error output:

In file included from src/sqlparser/DbsMySQL_CPPLexer.c:27:
src/sqlparser/DbsMySQL_CPPLexer.h:371:1: warning: &quot;NULL&quot; redefined
In file included from /usr/include/rpc/netdb.h:42,
                 from /usr/include/netdb.h:33,
                 from /usr/local/include/antlr3defs.h:253,
                 from /usr/local/include/antlr3.h:4,
                 from src/sqlparser/DbsMySQL_CPPLexer.h:144,
                 from src/sqlparser/DbsMySQL_CPPLexer.c:27:
/usr/lib/gcc/x86_64-redhat-linux/4.3.2/include/stddef.h:400:1: warning: this
is the location of the previous definition
In file included from src/sqlparser/DbsMySQL_CPPLexer.c:27:
src/sqlparser/DbsMySQL_CPPLexer.h:414:1: warning: &quot;DELETE&quot; redefined
In file included from /usr/include/arpa/nameser.h:531,
                 from /usr/local/include/antlr3defs.h:249,
                 from /usr/local/include/antlr3.h:4,
                 from src/sqlparser/DbsMySQL_CPPLexer.h:144,
                 from src/sqlparser/DbsMySQL_CPPLexer.c:27:
/usr/include/arpa/nameser_compat.h:127:1: warning: this is the location of
the previous definition
src/sqlparser/DbsMySQL_CPPLexer.c: In function
'DbsMySQL_CPPLexer_Ctx_struct*
DbsMySQL_CPPLexerNew(ANTLR3_INPUT_STREAM_struct*)':
src/sqlparser/DbsMySQL_CPPLexer.c:447: error: invalid conversion from 'int'
to 'ANTLR3_RECOGNIZER_SHARED_STATE_struct*'
src/sqlparser/DbsMySQL_CPPLexer.c:447: error:   initializing argument 2 of
'DbsMySQL_CPPLexer_Ctx_struct*
DbsMySQL_CPPLexerNewSSD(ANTLR3_INPUT_STREAM_struct*,
ANTLR3_RECOGNIZER_SHARED_STATE_struct*)'
src/sqlparser/DbsMySQL_CPPLexer.c: In function
'DbsMySQL_CPPLexer_Ctx_struct*
DbsMySQL_CPPLexerNewSSD(ANTLR3_INPUT_STREAM_struct*,
ANTLR3_RECOGNIZER_SHARED_STATE_struct*)':
src/sqlparser/DbsMySQL_CPPLexer.c:465: error: ISO C++ forbids comparison
between pointer and integer
src/sqlparser/DbsMySQL_CPPLexer.c:468: error: invalid conversion from 'int'
to 'DbsMySQL_CPPLexer_Ctx_struct*'
src/sqlparser/DbsMySQL_CPPLexer.c:488: error: ISO C++ forbids comparison
between pointer and integer
src/sqlparser/DbsMySQL_CPPLexer.c:491: error: invalid conversion from 'int'
to 'DbsMySQL_CPPLexer_Ctx_struct*'
src/sqlparser/DbsMySQL_CPPLexer.c: At global scope:
src/sqlparser/DbsMySQL_CPPLexer.c:681: error: invalid conversion from 'int'
to 'const ANTLR3_INT32*'


Thanks,

Andy.


On Tue, Jan 20, 2009 at 2:19 PM, Jim Idle &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>&gt; wrote:

&gt;<i> Andy Grove wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I installed the ANTLR C runtime (version 3.1.1) and compiled it from
</I>&gt;<i> &gt; source successfully on Fedora 10 x86_64 (using the --enable-64bit
</I>&gt;<i> &gt; configuration option).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I also generated C code successfully from my grammar.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; However, when I attempt to compile the generated code I get a lot of
</I>&gt;<i> &gt; type conversion errors such as:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; MyLexer.c:1634: error: invalid conversion from 'int' to 'const
</I>&gt;<i> &gt; ANTLR3_INT32*'
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The code that produces this error is:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; /* Transition tables are a table of sub tables, with some tables
</I>&gt;<i> &gt;   * reused for efficiency.
</I>&gt;<i> &gt;   */
</I>&gt;<i> &gt; static const ANTLR3_INT32 * const dfa31_transitions[] =
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;      dfa31_T0, dfa31_T139, dfa31_T171, dfa31_T56, dfa31_T131, dfa31_T36,
</I>&gt;<i> &gt;      dfa31_T27, dfa31_T147, dfa31_T149, dfa31_T125, dfa31_T170,
</I>&gt;<i> &gt; dfa31_T33,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I am using g++ (GCC) 4.3.2 20081105 (Red Hat 4.3.2-7).
</I>&gt;<i> &gt;
</I>&gt;<i> Are you trying to compile it as C++ code? Did you use:
</I>&gt;<i> -I/usr/local/wherantlris and of course run 'make install' Looks like
</I>&gt;<i> perhaps it hasn't picked up the header files. make sure you read the
</I>&gt;<i> example in the docs.
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090120/c687c2fc/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090120/c687c2fc/attachment.html</A> 
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032464.html">[antlr-interest] Error compiling generated C code (possibly 32/64 bit conflict?)
</A></li>
	<LI>Next message: <A HREF="032469.html">[antlr-interest] Error compiling generated C code (possibly	32/64 bit conflict?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32467">[ date ]</a>
              <a href="thread.html#32467">[ thread ]</a>
              <a href="subject.html#32467">[ subject ]</a>
              <a href="author.html#32467">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
