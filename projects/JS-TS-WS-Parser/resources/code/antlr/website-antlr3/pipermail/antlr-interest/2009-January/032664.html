<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] adding &quot;version&quot; option to ANTLR grammars
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20adding%20%22version%22%20option%20to%20ANTLR%20grammars&In-Reply-To=%3C49848866.4050801%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032663.html">
   <LINK REL="Next"  HREF="032667.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] adding &quot;version&quot; option to ANTLR grammars</H1>
    <B>Johannes Luber</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20adding%20%22version%22%20option%20to%20ANTLR%20grammars&In-Reply-To=%3C49848866.4050801%40gmx.de%3E"
       TITLE="[antlr-interest] adding &quot;version&quot; option to ANTLR grammars">jaluber at gmx.de
       </A><BR>
    <I>Sat Jan 31 09:20:38 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032663.html">[antlr-interest] adding &quot;version&quot; option to ANTLR grammars
</A></li>
        <LI>Next message: <A HREF="032667.html">[antlr-interest] adding &quot;version&quot; option to ANTLR grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32664">[ date ]</a>
              <a href="thread.html#32664">[ thread ]</a>
              <a href="subject.html#32664">[ subject ]</a>
              <a href="author.html#32664">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Anthony W. Youngman schrieb:
&gt;<i> In message &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">673774B77DFB453C985A9D7053EC2FF7 at DFW5RB41</A>&gt;, Gary R. Van 
</I>&gt;<i> Sickle &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">g.r.vansickle at att.net</A>&gt; writes
</I>&gt;&gt;&gt;<i> Another improvement would be to allow a comma-separated list.
</I>&gt;&gt;&gt;<i> With it one can record all versions of ANTLR, with which the
</I>&gt;&gt;&gt;<i> grammar works without any modifications.
</I>&gt;&gt;<i> The trouble with that is that it forces the user to predict the future.
</I>&gt;&gt;<i> Maybe it will work with the next fifty versions, which may only have changes
</I>&gt;&gt;<i> which don't affect the ultimate interpretation, such as bug fixes, speed
</I>&gt;&gt;<i> improvements, and the like, but there's no way to specify that.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The only way this sort of thing works is for the source file to declare
</I>&gt;&gt;<i> &quot;this is the standard I was written to&quot;.  It is then up to the interpreters,
</I>&gt;&gt;<i> past, present, and future, to either modify their interpretation to match
</I>&gt;&gt;<i> that of the specified standard (i.e. future ANTLR versions &quot;degrading&quot; their
</I>&gt;&gt;<i> interpretation) or simply bail (e.g. ANTLR 3.1.2 tries to read a grammar
</I>&gt;&gt;<i> that says its written to the ANTLR 8.5.6 standard, which it of course has no
</I>&gt;&gt;<i> idea what that even is, so it can't possibly interpret it).
</I>&gt;<i> 
</I>&gt;<i> Look at how Lilypond handles versioning (oh - and I think lily's parser 
</I>&gt;<i> got rewritten in Antlr a while back - I'm not sure but I certainly see 
</I>&gt;<i> the odd Antlr ref on the mailing list :-)
</I>&gt;<i> 
</I>&gt;<i> Each version of Lily knows what is the oldest version of the syntax it 
</I>&gt;<i> supports, so if 2.12.2 sees &quot;version 2.12.0&quot; in an input file it's quite 
</I>&gt;<i> happy. If it sees 2.11.59 it bails with &quot;this input file is too old - 
</I>&gt;<i> run convert-ly&quot;. I don't know what it would do if it saw 2.12.6.
</I>&gt;<i> 
</I>&gt;<i> But basically, it knows at what point there were incompatible syntax 
</I>&gt;<i> changes, and objects if you try to feed it an old file. Okay, it might 
</I>&gt;<i> (or might not) be a bit more work in Antlr deciding at what points to 
</I>&gt;<i> break backwards compatibility, but it might also make life easier - keep 
</I>&gt;<i> compatibility over several versions because you can, then break it and 
</I>&gt;<i> Antlr knows to object about old input.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Wol
</I>
I don't know lilypond but I doubt that this approach works for ANTLR.
ANTLR and ANTLR grammars consists of four parts: The tool, the runtime,
the grammar syntax, action code and the backend of the program, for
which the generated source is used. Of those the runtime, the action
code and the backend can't be simply converted automatically (though it
shouldn't be hard by hand).

Considering that those are very important parts, upon which the behavior
(and compileability) hinges, I believe that my approach is the best one
could do. Maybe with ANTLR/Yggdrasil things could work smoother, as the
action code won't be language dependent. But Loring hasn'T published
this spinoff yet.

Johannes
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032663.html">[antlr-interest] adding &quot;version&quot; option to ANTLR grammars
</A></li>
	<LI>Next message: <A HREF="032667.html">[antlr-interest] adding &quot;version&quot; option to ANTLR grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32664">[ date ]</a>
              <a href="thread.html#32664">[ thread ]</a>
              <a href="subject.html#32664">[ subject ]</a>
              <a href="author.html#32664">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
