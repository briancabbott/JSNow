<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Newbie question about lex token matching	priority
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Newbie%20question%20about%20lex%20token%20matching%0A%09priority&In-Reply-To=%3C738584f80901301849r421bba8cqa32cc96920b87ee%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032644.html">
   <LINK REL="Next"  HREF="032639.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Newbie question about lex token matching	priority</H1>
    <B>Rob Greene</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Newbie%20question%20about%20lex%20token%20matching%0A%09priority&In-Reply-To=%3C738584f80901301849r421bba8cqa32cc96920b87ee%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Newbie question about lex token matching	priority">robgreene at gmail.com
       </A><BR>
    <I>Fri Jan 30 18:49:38 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032644.html">[antlr-interest] Newbie question about lex token matching	priority
</A></li>
        <LI>Next message: <A HREF="032639.html">[antlr-interest] Empty grammarDecisionDescription field
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32662">[ date ]</a>
              <a href="thread.html#32662">[ thread ]</a>
              <a href="subject.html#32662">[ subject ]</a>
              <a href="author.html#32662">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Curt --

First off, I'm a total hack at ANTLR.  And that's in the golfing sense
with grass flying everywhere and not in the geek sense of being
totally awesome.  Awesome is reserved for others on this list.  So, if
I mislead you, sorry in advance!!

Anyway, from your description, think PARENNUM isn't a lexer rule but a
grammar rule.

So you'd have something like:

language: data+ ;
data: '(' NUMBER ')' NAME ;

and the same lex rules for NUMBER and NAME as before.  Also, don't
forget a whitespace rule (I assume you need one?)

WS: (' ' | '\t' | '\n' | '\r')+ {skip();}

I hope I'm leading you in the right direction at least!
-Rob

On Thu, Jan 29, 2009 at 10:14 AM, Curt Carpenter
&lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">Curt.Carpenter at microsoft.com</A>&gt; wrote:
&gt;<i> Hi all, I am 1 day in on ANTLR, so be gentle. J
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I have gone through the tutorials and such, and have created a grammar from
</I>&gt;<i> scratch, debugged it and have it mostly working, except for one problem. I
</I>&gt;<i> want to parse something like this:
</I>&gt;<i>
</I>&gt;<i> (#)name
</I>&gt;<i>
</I>&gt;<i> Where # is a number, but name can be virtually anything except space. I
</I>&gt;<i> think. I don't own the language, so please don't suggest that name should be
</I>&gt;<i> further restricted. So I defined the lex rules as so:
</I>&gt;<i>
</I>&gt;<i> PARENNUM       : '(' NUMBER ')';
</I>&gt;<i>
</I>&gt;<i> NUMBER             : '-'? ('0'..'9')+;
</I>&gt;<i>
</I>&gt;<i> NAME                   : ('!'..'\u00FE')+; // ansi only
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You can see the problem at NAME. (0)curt is a valid name. But what I really
</I>&gt;<i> want is to parse as PARENNUM=(0) NAME=curt. I have a parse rule to match
</I>&gt;<i> that. But, the lex rules match longest string first, so (0)curt is always
</I>&gt;<i> tokenized as NAME. Is there any way to change the priority of matching lex
</I>&gt;<i> tokens to be the order they're defined, rather than order only breaking ties
</I>&gt;<i> in string length?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Or is there some other way to accomplish the simple parse rule I'm trying to
</I>&gt;<i> solve?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Curt
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032644.html">[antlr-interest] Newbie question about lex token matching	priority
</A></li>
	<LI>Next message: <A HREF="032639.html">[antlr-interest] Empty grammarDecisionDescription field
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32662">[ date ]</a>
              <a href="thread.html#32662">[ thread ]</a>
              <a href="subject.html#32662">[ subject ]</a>
              <a href="author.html#32662">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
