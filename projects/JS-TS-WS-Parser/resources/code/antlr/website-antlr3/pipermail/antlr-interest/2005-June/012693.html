<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Code bloat for mulitple passes with point changes.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Code%20bloat%20for%20mulitple%20passes%20with%20point%20changes.&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012694.html">
   <LINK REL="Next"  HREF="012695.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Code bloat for mulitple passes with point changes.</H1>
    <B>pganelin</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Code%20bloat%20for%20mulitple%20passes%20with%20point%20changes.&In-Reply-To="
       TITLE="[antlr-interest] Code bloat for mulitple passes with point changes.">ganelin at mail.com
       </A><BR>
    <I>Mon Jun 13 12:50:12 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="012694.html">[antlr-interest] ANTLR 3.0 template files
</A></li>
        <LI>Next message: <A HREF="012695.html">[antlr-interest] Re: Code bloat for mulitple passes with point
	changes.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12693">[ date ]</a>
              <a href="thread.html#12693">[ thread ]</a>
              <a href="subject.html#12693">[ subject ]</a>
              <a href="author.html#12693">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Problem Summary: multiple transformations passes with small changes 
results in code bloat.  Nodes to be changed are located deeply within tree.
Description:
In ANTLR documentation (Tree Parser Chapter) there is an example of tree 
transformation (optimizing identity operations) and I will use this 
example for illustration.
X+0 -&gt; X
X*1 -&gt; X

I have multiphase transformation. During stage number N I want to do 
&quot;identity optimization&quot;.  I can easily implement the transformation 
using visitor pattern without TreeWalker with a few lines of code. If I 
want to use TreeWalker instead I will need to duplicate (really inherit) 
the whole tree grammar file for phase N with most rules without any 
action. Only two rules (plus and multiply) have the explicit 
transformation action. The generated file would be huge, because it 
creates duplicate tree for all these grammar rules without action. As a 
result the code would be bloated and very ineffective compare with 
visitor pattern.

Do I miss something or Tree Walker is not appropriate tool for such job?
Sincerely,
 Pavel

</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012694.html">[antlr-interest] ANTLR 3.0 template files
</A></li>
	<LI>Next message: <A HREF="012695.html">[antlr-interest] Re: Code bloat for mulitple passes with point
	changes.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12693">[ date ]</a>
              <a href="thread.html#12693">[ thread ]</a>
              <a href="subject.html#12693">[ subject ]</a>
              <a href="author.html#12693">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
