<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Translating from one language to another
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Translating%20from%20one%20language%20to%20another&In-Reply-To=%3C20080723025523.00005c2b%40goanna%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029268.html">
   <LINK REL="Next"  HREF="029249.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Translating from one language to another</H1>
    <B>Mark Wright</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Translating%20from%20one%20language%20to%20another&In-Reply-To=%3C20080723025523.00005c2b%40goanna%3E"
       TITLE="[antlr-interest] Translating from one language to another">markwright at internode.on.net
       </A><BR>
    <I>Tue Jul 22 09:55:23 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029268.html">[antlr-interest] Translating from one language to another
</A></li>
        <LI>Next message: <A HREF="029249.html">[antlr-interest] Tokenising for context specific	reserved	words
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29270">[ date ]</a>
              <a href="thread.html#29270">[ thread ]</a>
              <a href="subject.html#29270">[ subject ]</a>
              <a href="author.html#29270">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Of course the ANTLR book is essential.

The syntax directed translation approach (generate code from the
AST) would be easy if you are lucky that your generated code is
in a very similar structure to the source language.

This article by Andy is brilliant:

<A HREF="http://jazillian.com/articles/treewalkers.html">http://jazillian.com/articles/treewalkers.html</A>

In my situation, which is different to yours, I thought
my AST was not in the right form to generate the code using
string template, Andy's article just reinforced this for me, which
really helped.

I think string template is great.  What I did was I generated
a completely new tree with all the information I need in the
right places to generate the code, then used string template to
generate it.  So basically, I used Andy's approach (I manually
walked the AST looking for stuff for the new tree which I entered
into some data structures), manually walked parts of the symbol table
(while looking up more stuff in the  symbol table and other data
structures), generated a new tree, and used string template.

If AST is not in the right format to generate the code, then
one approach is to figure out some way to transform and
augment it, possibly with new subtrees, or generate a new tree.

On Tue, 22 Jul 2008 11:38:15 -0400
Andy Tripp &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at jazillian.com</A>&gt; wrote:

&gt;<i> A &quot;quick and dirty&quot; alternative approach to StringTemplate is
</I>&gt;<i> to write some code that just walks your AST, printing out code.
</I>&gt;<i> This: <A HREF="http://www.jazillian.com/antlr/emitter.html">http://www.jazillian.com/antlr/emitter.html</A>
</I>&gt;<i> just walks a Java AST and prints Java code.
</I>&gt;<i> 
</I>&gt;<i> David Tauzell wrote:
</I>&gt;<i> &gt; I'd like to translate from language A to java.  I've written a
</I>&gt;<i> &gt; grammar that parses language A and generates an AST.   The language
</I>&gt;<i> &gt; is mostly like java, except there are a few cases where I'll need
</I>&gt;<i> &gt; to change the input.  For example, something like:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;     a.b.c.d = foo
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; will be converted to
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;     a.get(&quot;b&quot;).get(&quot;c&quot;).get(&quot;d&quot;).setValue(foo)
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Other stuff like:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;    if( foo == &quot;bar&quot;) {
</I>&gt;<i> &gt;       ...
</I>&gt;<i> &gt;    }
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; can stay like it is.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I'm not sure what is the best way to proceed.  Should I somehow use 
</I>&gt;<i> &gt; StringTemplate?  Should I walk the AST and generate output? Is this 
</I>&gt;<i> &gt; question to vague? Do I just need to buy the ANTLR book and learn
</I>&gt;<i> &gt; more about ANTLR?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Thanks,
</I>&gt;<i> &gt;     Dave
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>

-- 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029268.html">[antlr-interest] Translating from one language to another
</A></li>
	<LI>Next message: <A HREF="029249.html">[antlr-interest] Tokenising for context specific	reserved	words
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29270">[ date ]</a>
              <a href="thread.html#29270">[ thread ]</a>
              <a href="subject.html#29270">[ subject ]</a>
              <a href="author.html#29270">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
