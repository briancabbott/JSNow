<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] just want to translate input into differently	formatted output
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20just%20want%20to%20translate%20input%20into%20differently%0A%09formatted%20output&In-Reply-To=%3CC35CC1A8.CC41%25tt%40tempel.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024642.html">
   <LINK REL="Next"  HREF="024651.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] just want to translate input into differently	formatted output</H1>
    <B>Thomas Tempelmann</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20just%20want%20to%20translate%20input%20into%20differently%0A%09formatted%20output&In-Reply-To=%3CC35CC1A8.CC41%25tt%40tempel.org%3E"
       TITLE="[antlr-interest] just want to translate input into differently	formatted output">tt at tempel.org
       </A><BR>
    <I>Sun Nov 11 06:26:48 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024642.html">[antlr-interest] Ant task 'depend' problem
</A></li>
        <LI>Next message: <A HREF="024651.html">[antlr-interest] preserving epsilon derivations when building trees
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24643">[ date ]</a>
              <a href="thread.html#24643">[ thread ]</a>
              <a href="subject.html#24643">[ subject ]</a>
              <a href="author.html#24643">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I'm new to Antlr. I have a rather simple task and wonder how Antlr can best
help me with it:

I want to scan various C header files containing struct { } declarations in
order to turn those structs into a differently formatted text in xml form.

For example, the following:

struct tag {
  byte  id; // note 1
  byte  len; /* note
                2 */
  int16 info;
};

shall be converted into:

&lt;struct label=&quot;tag&quot; &gt;
  &lt;field type=&quot;byte&quot; label=&quot;id&quot;&quot; &gt;
    note 1
  &lt;/field&gt;
  &lt;field type=&quot;byte&quot; label=&quot;len&quot; &gt;
    note
    2
  &lt;/field&gt;
  &lt;field type=&quot;int16&quot; label=&quot;info&quot; /&gt;
&lt;/stuct&gt;

(basically, I want to output the type, label and comment of each struct
field)

Furthermore, any other stuff in the C file I do not want passed to the
output.

While I could probably achieve this even with a regex find/replace pattern,
I like to use a proper C language parser (using regex might act wrong with
matchable text in a comment or in a string literal)

On the input side this has all been done already - there are C parsers for
Antlr and I can also modify them to my needs.

The question is the output. I have a vague idea that I'll have to add
actions to some of the grammar elements, but I'm not clear on this yet.

Are there any examples in this directions? Or can you suggest even totally
different tools that do this easily?

Thomas


</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024642.html">[antlr-interest] Ant task 'depend' problem
</A></li>
	<LI>Next message: <A HREF="024651.html">[antlr-interest] preserving epsilon derivations when building trees
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24643">[ date ]</a>
              <a href="thread.html#24643">[ thread ]</a>
              <a href="subject.html#24643">[ subject ]</a>
              <a href="author.html#24643">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
