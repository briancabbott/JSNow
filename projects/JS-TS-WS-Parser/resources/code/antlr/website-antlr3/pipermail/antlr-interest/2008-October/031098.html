<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] [C Target] Example without treewalker
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%5BC%20Target%5D%20Example%20without%20treewalker&In-Reply-To=%3C1224126702.8413.6.camel%40jimi.temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031097.html">
   <LINK REL="Next"  HREF="031100.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] [C Target] Example without treewalker</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%5BC%20Target%5D%20Example%20without%20treewalker&In-Reply-To=%3C1224126702.8413.6.camel%40jimi.temporal-wave.com%3E"
       TITLE="[antlr-interest] [C Target] Example without treewalker">jimi at temporal-wave.com
       </A><BR>
    <I>Wed Oct 15 20:11:42 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="031097.html">[antlr-interest] [C Target] Example without treewalker
</A></li>
        <LI>Next message: <A HREF="031100.html">[antlr-interest] Problem with multiple treeparser ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31098">[ date ]</a>
              <a href="thread.html#31098">[ thread ]</a>
              <a href="subject.html#31098">[ subject ]</a>
              <a href="author.html#31098">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2008-10-15 at 21:11 -0500, Shaun Bogan wrote:

&gt;<i> Is anyone aware of an example for the C target that doesn't use a tree
</I>&gt;<i> parser.  I prefer to walk the AST myself for my application.  I've had
</I>&gt;<i> considerable luck using the C# target, but the C target seems to elude
</I>&gt;<i> me.  I can't even do simple things like print out the text of a node,
</I>&gt;<i> etc.  If anyone has an example that would help me greatly.  Unless I
</I>&gt;<i> missed one, none of the examples in the downloads section walk the
</I>&gt;<i> tree manually.
</I>

Well, if you have worked out how to walk the tree manually in C# there
is really little difference in C. A good way to find out things is to
use VS 2008 and just type '-&gt;', which gives you all the 'methods' and
which you will find are pretty much exactly the same, other than being
nX faster. The C source code also shows you how to do so, but where are
you having problems getting started? It might be easier to help if I
know what you are trying to do as walking the tree manually is just a
few (i =0; ... and getChild() calls. For instance a good example in the
3.1.1 source is the methods that produce a .dot spec of any tree. The
codes is about 40 lines worth.

I may also be guilty of assuming that anyone using my C target is
willing to dive in to the sources and so on, but I have tried to
document the code :-)

Jim


&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Shaun Bogan
</I>&gt;<i> 
</I>&gt;<i> On Wed, Oct 15, 2008 at 2:00 PM,  &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-request at antlr.org</A>&gt; wrote:
</I>&gt;<i> &gt; Send antlr-interest mailing list submissions to
</I>&gt;<i> &gt;        <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i> &gt;        <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; or, via email, send a message with subject or body 'help' to
</I>&gt;<i> &gt;        <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-request at antlr.org</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; You can reach the person managing the list at
</I>&gt;<i> &gt;        <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-owner at antlr.org</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; When replying, please edit your Subject line so it is more specific
</I>&gt;<i> &gt; than &quot;Re: Contents of antlr-interest digest...&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Today's Topics:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;   1. Re: Understanding ANTLR's 'multiple alternatives' (Gavin Lambert)
</I>&gt;<i> &gt;   2. Re: VS2008 Integration Example (Gavin Lambert)
</I>&gt;<i> &gt;   3. Re: VS2008 Integration Example (Sam Harwell)
</I>&gt;<i> &gt;   4. is there any good example can change prolog to    .dot file by
</I>&gt;<i> &gt;      antlr? (Su Zhang)
</I>&gt;<i> &gt;   5. Problem with multiple treeparser ... (LdK ^^)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ----------------------------------------------------------------------
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Message: 1
</I>&gt;<i> &gt; Date: Wed, 15 Oct 2008 09:13:53 +1300
</I>&gt;<i> &gt; From: Gavin Lambert &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at mirality.co.nz</A>&gt;
</I>&gt;<i> &gt; Subject: Re: [antlr-interest] Understanding ANTLR's 'multiple
</I>&gt;<i> &gt;        alternatives'
</I>&gt;<i> &gt; To: `VL &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">vl.homutov at gmail.com</A>&gt;, &quot;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&quot;
</I>&gt;<i> &gt;        &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
</I>&gt;<i> &gt; Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">20081014201402.3E52E3D16ED at www.antlr.org</A>&gt;
</I>&gt;<i> &gt; Content-Type: text/plain; charset=&quot;us-ascii&quot;; format=flowed
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; At 07:54 15/10/2008, `VL wrote:
</I>&gt;<i> &gt;  &gt;Hmm. This looks better. But it doesn't match construction
</I>&gt;<i> &gt;  &gt;like this: $(VAR)/some/path.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That's a different form than what you were showing before :)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; To match that, you can treat them all as equals:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; PATH : ('/' | ENVAR | ID | INT)+;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Of course, this no longer guarantees that there is a '/' present
</I>&gt;<i> &gt; at all.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Another option specifically for the leading-ENVAR case (basically
</I>&gt;<i> &gt; assuming that all paths must be absolute, but the base path may be
</I>&gt;<i> &gt; contained in an ENVAR):
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; PATH : ENVAR? ('/' (ID | INT)*)+;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; You do need to be careful you're not doing too much work in the
</I>&gt;<i> &gt; lexer, though.  Remember that the lexer is context-free, and all
</I>&gt;<i> &gt; top-level rules are always candidates to match the input.  You may
</I>&gt;<i> &gt; therefore end up with a different token type than you're
</I>&gt;<i> &gt; expecting, if there is overlap between the token rules.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ------------------------------
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Message: 2
</I>&gt;<i> &gt; Date: Wed, 15 Oct 2008 09:22:53 +1300
</I>&gt;<i> &gt; From: Gavin Lambert &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at mirality.co.nz</A>&gt;
</I>&gt;<i> &gt; Subject: Re: [antlr-interest] VS2008 Integration Example
</I>&gt;<i> &gt; To: &quot;Sam Harwell&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sharwell at pixelminegames.com</A>&gt;, Andr?  van der Merwe
</I>&gt;<i> &gt;        &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">AndrevdM at pyrogenesis.co.za</A>&gt;, &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
</I>&gt;<i> &gt; Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">20081014202312.DB8E03D16F5 at www.antlr.org</A>&gt;
</I>&gt;<i> &gt; Content-Type: text/plain; charset=&quot;us-ascii&quot;; format=flowed
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; At 05:28 15/10/2008, Sam Harwell wrote:
</I>&gt;<i> &gt;&gt;Here's how you can get the Clean and Rebuild tasks working as
</I>&gt;<i> &gt;&gt;well. If you delete the .tokens files associated with each
</I>&gt;<i> &gt;&gt;grammar, then the grammar will get properly rebuilt:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&lt;PropertyGroup&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&lt;CoreCleanDependsOn&gt;$(CoreCleanDependsOn);CleanAntlrCode&lt;/CoreCleanDependsOn&gt;
</I>&gt;<i> &gt;&gt;&lt;/PropertyGroup&gt;
</I>&gt;<i> &gt;&gt;&lt;Target Name=&quot;CleanAntlrCode&quot;&gt;
</I>&gt;<i> &gt;&gt;         &lt;ItemGroup&gt;
</I>&gt;<i> &gt;&gt;                 &lt;_CleanAntlrFileWrites
</I>&gt;<i> &gt;&gt; Include=&quot;@(Antlr3-&gt;'%(RelativeDir)%(Filename).tokens')&quot; /&gt;
</I>&gt;<i> &gt;&gt;         &lt;/ItemGroup&gt;
</I>&gt;<i> &gt;&gt;         &lt;Message Importance=&quot;normal&quot; Text=&quot;Antlr: Deleting
</I>&gt;<i> &gt;&gt; output files '@(_CleanAntlrFileWrites)'&quot; /&gt;
</I>&gt;<i> &gt;&gt;         &lt;Delete Files=&quot;@(_CleanAntlrFileWrites)&quot; /&gt;
</I>&gt;<i> &gt;&gt;&lt;/Target&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Wouldn't it be better to remove all the output files, not just the
</I>&gt;<i> &gt; .tokens file?  You should be able to do that by using this line
</I>&gt;<i> &gt; instead (though I haven't tested it):
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &lt;Delete Files=&quot;%(Antlr3.OutputFiles)&quot; /&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ------------------------------
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Message: 3
</I>&gt;<i> &gt; Date: Tue, 14 Oct 2008 15:25:01 -0500
</I>&gt;<i> &gt; From: &quot;Sam Harwell&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sharwell at pixelminegames.com</A>&gt;
</I>&gt;<i> &gt; Subject: Re: [antlr-interest] VS2008 Integration Example
</I>&gt;<i> &gt; To: &quot;Gavin Lambert&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at mirality.co.nz</A>&gt;, Andr?  van der Merwe
</I>&gt;<i> &gt;        &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">AndrevdM at pyrogenesis.co.za</A>&gt;,   &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
</I>&gt;<i> &gt; Message-ID:
</I>&gt;<i> &gt;        &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">86403CA0939415448BCCB83855EFE09A64E5EE at Bloodymary.ironwillgames.com</A>&gt;
</I>&gt;<i> &gt; Content-Type: text/plain;       charset=&quot;iso-8859-1&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Delete doesn't properly handle ; delimited lists of files. :( Plus we check the generated .cs files into Perforce so it's good to have them around (in our case).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Sam
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: Gavin Lambert [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at mirality.co.nz</A>]
</I>&gt;<i> &gt; Sent: Tuesday, October 14, 2008 3:23 PM
</I>&gt;<i> &gt; To: Sam Harwell; Andr? van der Merwe; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> &gt; Subject: RE: [antlr-interest] VS2008 Integration Example
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; At 05:28 15/10/2008, Sam Harwell wrote:
</I>&gt;<i> &gt;&gt;Here's how you can get the Clean and Rebuild tasks working as
</I>&gt;<i> &gt;&gt;well. If you delete the .tokens files associated with each
</I>&gt;<i> &gt;&gt;grammar, then the grammar will get properly rebuilt:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&lt;PropertyGroup&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&lt;CoreCleanDependsOn&gt;$(CoreCleanDependsOn);CleanAntlrCode&lt;/CoreCleanDependsOn&gt;
</I>&gt;<i> &gt;&gt;&lt;/PropertyGroup&gt;
</I>&gt;<i> &gt;&gt;&lt;Target Name=&quot;CleanAntlrCode&quot;&gt;
</I>&gt;<i> &gt;&gt;         &lt;ItemGroup&gt;
</I>&gt;<i> &gt;&gt;                 &lt;_CleanAntlrFileWrites
</I>&gt;<i> &gt;&gt; Include=&quot;@(Antlr3-&gt;'%(RelativeDir)%(Filename).tokens')&quot; /&gt;
</I>&gt;<i> &gt;&gt;         &lt;/ItemGroup&gt;
</I>&gt;<i> &gt;&gt;         &lt;Message Importance=&quot;normal&quot; Text=&quot;Antlr: Deleting
</I>&gt;<i> &gt;&gt; output files '@(_CleanAntlrFileWrites)'&quot; /&gt;
</I>&gt;<i> &gt;&gt;         &lt;Delete Files=&quot;@(_CleanAntlrFileWrites)&quot; /&gt;
</I>&gt;<i> &gt;&gt;&lt;/Target&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Wouldn't it be better to remove all the output files, not just the
</I>&gt;<i> &gt; .tokens file?  You should be able to do that by using this line
</I>&gt;<i> &gt; instead (though I haven't tested it):
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &lt;Delete Files=&quot;%(Antlr3.OutputFiles)&quot; /&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ------------------------------
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Message: 4
</I>&gt;<i> &gt; Date: Tue, 14 Oct 2008 18:18:01 -0700
</I>&gt;<i> &gt; From: &quot;Su Zhang&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">westlifezs at gmail.com</A>&gt;
</I>&gt;<i> &gt; Subject: [antlr-interest] is there any good example can change prolog
</I>&gt;<i> &gt;        to      .dot file by antlr?
</I>&gt;<i> &gt; To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> &gt; Message-ID:
</I>&gt;<i> &gt;        &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">e2842950810141818v4b1d124bia85bbd0ea9a2888d at mail.gmail.com</A>&gt;
</I>&gt;<i> &gt; Content-Type: text/plain; charset=&quot;iso-8859-1&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; question is the same as subject
</I>&gt;<i> &gt; -------------- next part --------------
</I>&gt;<i> &gt; An HTML attachment was scrubbed...
</I>&gt;<i> &gt; URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20081014/c522c87f/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20081014/c522c87f/attachment-0001.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ------------------------------
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Message: 5
</I>&gt;<i> &gt; Date: Wed, 15 Oct 2008 20:56:16 +0200
</I>&gt;<i> &gt; From: &quot;LdK ^^&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">elldekaa at gmail.com</A>&gt;
</I>&gt;<i> &gt; Subject: [antlr-interest] Problem with multiple treeparser ...
</I>&gt;<i> &gt; To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> &gt; Message-ID:
</I>&gt;<i> &gt;        &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">b3e94fd60810151156qc50cb17mb7020fe788f94d29 at mail.gmail.com</A>&gt;
</I>&gt;<i> &gt; Content-Type: text/plain; charset=&quot;iso-8859-1&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt; I have a problem when i use multiple treeparser,
</I>&gt;<i> &gt; the first is in same file that the parser
</I>&gt;<i> &gt; but the second is in a other file and i always get an &quot;&quot; when i make a
</I>&gt;<i> &gt; get.text() in this tree parser
</I>&gt;<i> &gt; so i dont uderstand, are there any options to share informations ???
</I>&gt;<i> &gt; thx a lot,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Herve
</I>&gt;<i> &gt; -------------- next part --------------
</I>&gt;<i> &gt; An HTML attachment was scrubbed...
</I>&gt;<i> &gt; URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20081015/852c2d6f/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20081015/852c2d6f/attachment-0001.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ------------------------------
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; antlr-interest mailing list
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; End of antlr-interest Digest, Vol 47, Issue 15
</I>&gt;<i> &gt; **********************************************
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i> 
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20081015/c1e94d73/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20081015/c1e94d73/attachment.html</A> 
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031097.html">[antlr-interest] [C Target] Example without treewalker
</A></li>
	<LI>Next message: <A HREF="031100.html">[antlr-interest] Problem with multiple treeparser ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31098">[ date ]</a>
              <a href="thread.html#31098">[ thread ]</a>
              <a href="subject.html#31098">[ subject ]</a>
              <a href="author.html#31098">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
