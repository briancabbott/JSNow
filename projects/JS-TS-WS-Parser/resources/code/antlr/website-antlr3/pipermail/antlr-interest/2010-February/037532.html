<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Anyone have some good Python examples?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Anyone%20have%20some%20good%20Python%20examples%3F&In-Reply-To=%3Caf443a971002051359y4ed3ac69n59ea7e555332382d%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037530.html">
   <LINK REL="Next"  HREF="037534.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Anyone have some good Python examples?</H1>
    <B>Bart Kiers</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Anyone%20have%20some%20good%20Python%20examples%3F&In-Reply-To=%3Caf443a971002051359y4ed3ac69n59ea7e555332382d%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Anyone have some good Python examples?">bkiers at gmail.com
       </A><BR>
    <I>Fri Feb  5 13:59:47 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037530.html">[antlr-interest] Anyone have some good Python examples?
</A></li>
        <LI>Next message: <A HREF="037534.html">[antlr-interest] Anyone have some good Python examples?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37532">[ date ]</a>
              <a href="thread.html#37532">[ thread ]</a>
              <a href="subject.html#37532">[ subject ]</a>
              <a href="author.html#37532">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thomas,

I highly recommend *carefully* reading the book.
Forgive me for saying, but I doubt that you actually read it. And if so, you
could only have skimmed through it (you have ordered it only yesterday!).

Regards,

Bart.


On Fri, Feb 5, 2010 at 10:23 PM, Thomas Raef
&lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">TRaef at wewatchyourwebsite.com</A>&gt;wrote:

&gt;<i> Okay. I would like to thank you all for allowing me to figure out the
</I>&gt;<i> errors of my efforts. No sarcasm.
</I>&gt;<i>
</I>&gt;<i> I found out that since Bart was nice enough to get me started, even
</I>&gt;<i> though it was a Java example, I didn't realize where my Python program
</I>&gt;<i> was starting and what was antlr code.
</I>&gt;<i>
</I>&gt;<i> I discovered that my line: insideFunction = False; was causing the java
</I>&gt;<i> compilation to complain so I moved that inside my def. I also realized
</I>&gt;<i> that the code: $f.text.toString()); is java and is not part of antlr.
</I>&gt;<i> Since I was using language=Python, it had no idea what I was trying to
</I>&gt;<i> do.
</I>&gt;<i>
</I>&gt;<i> Now when I run my program, all I get is: STATEMENT -&gt;
</I>&gt;<i> (JavaScriptParser.statement_return object at 0x02168C90)
</I>&gt;<i>
</I>&gt;<i> What I want to see is the line of javascript code from the .js file I'm
</I>&gt;<i> reading from prefaced with either STATEMENT or FUNCTION.
</I>&gt;<i>
</I>&gt;<i> Can anyone help me with that?
</I>&gt;<i>
</I>&gt;<i> I've watched the tutorials and read through the book, but I cannot for
</I>&gt;<i> the life of me figure out how to get the line of javascript to print.
</I>&gt;<i>
</I>&gt;<i> Please help...
</I>&gt;<i>
</I>&gt;<i> Thomas J. Raef
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Thomas Raef
</I>&gt;<i> &gt; Sent: Thursday, February 04, 2010 5:29 PM
</I>&gt;<i> &gt; To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> &gt; Subject: [antlr-interest] Anyone have some good Python examples?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm trying to get my simple program working and I keep running into
</I>&gt;<i> &gt; errors.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In my JavaScript.g file I've set the language=Python;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have a @members section like:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; @members
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 insideFunction = False;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; def prettyPrint(type, text):
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 text = text.replace(&quot;\r&quot;, '') //to remove carriage
</I>&gt;<i> &gt; returns in my javascript file (mt.js)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 text = text.replace(&quot;\n&quot;, '') // to remove new lines
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 if len(text) &gt; 55:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                                 start = text[:40]
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                                 end = text[-10:]
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                                 text = start+' ... '+end
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 print type+' -&gt; '+text
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In a JavaScript.G file I have in the functionBody section:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; functionBody
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 :  '{' {insideFunction=True;) LT!* sourceElements LT!*
</I>&gt;<i> &gt; '}' {insideFunction=False;}
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In sourceElement section I have:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; sourceElement
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 : f=functionDeclaration { prettyPrint(&quot;FUNCTION &quot;,
</I>&gt;<i> &gt; $f.text.toString()); }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 | s=statement { prettyPrint(&quot;STATEMENT &quot;,
</I>&gt;<i> &gt; $s.text.toString()); }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 ;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Then in python I'm doing:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; import antlr3
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; from JavaScriptLexer import JavaScriptLexer
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; from JavaScriptParser import JavaScriptParser
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; char_stream = antlr3.ANTLRFileStream(&quot;mt.js&quot;)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; lexer = JavaScriptLexer(char_stream)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; tokens = antlr3.CommonTokenStream(lexer)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; parser = JavaScriptParser(tokens)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; parser.program()
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; it barfs:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; prettyPrint(&quot;STATEMENT&quot;, ((s is not None) and
</I>&gt;<i> &gt; [self.input.toString(s.start, s.stop)] or [None])[0].toString());
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; NameError: global name 'prettyPrint' is not defined
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm trying, but failing. Can anyone with python experience help me
</I>&gt;<i> out?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thank you in advance.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thomas J. Raef
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> &gt; email-address
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I></PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037530.html">[antlr-interest] Anyone have some good Python examples?
</A></li>
	<LI>Next message: <A HREF="037534.html">[antlr-interest] Anyone have some good Python examples?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37532">[ date ]</a>
              <a href="thread.html#37532">[ thread ]</a>
              <a href="subject.html#37532">[ subject ]</a>
              <a href="author.html#37532">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
