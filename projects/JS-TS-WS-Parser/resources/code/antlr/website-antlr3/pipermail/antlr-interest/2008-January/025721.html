<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] RewriteEmptyStreamException when changing from quoted string to token?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20RewriteEmptyStreamException%20when%20changing%20from%0A%20quoted%20string%20to%20token%3F&In-Reply-To=%3C478BF2DA.7030200%40mtu.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025715.html">
   <LINK REL="Next"  HREF="025726.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] RewriteEmptyStreamException when changing from quoted string to token?</H1>
    <B>Jon Schewe</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20RewriteEmptyStreamException%20when%20changing%20from%0A%20quoted%20string%20to%20token%3F&In-Reply-To=%3C478BF2DA.7030200%40mtu.net%3E"
       TITLE="[antlr-interest] RewriteEmptyStreamException when changing from quoted string to token?">jpschewe at mtu.net
       </A><BR>
    <I>Mon Jan 14 15:40:10 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025715.html">[antlr-interest] RewriteEmptyStreamException when changing from	quoted string to token?
</A></li>
        <LI>Next message: <A HREF="025726.html">[antlr-interest] RewriteEmptyStreamException when changing from	quoted string to token?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25721">[ date ]</a>
              <a href="thread.html#25721">[ thread ]</a>
              <a href="subject.html#25721">[ subject ]</a>
              <a href="author.html#25721">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David Holroyd wrote:
&gt;<i> On Mon, Jan 14, 2008 at 02:26:26PM -0600, Jon Schewe wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> I just got time to get back to this project, been stuck on a different 
</I>&gt;&gt;<i> one.  I tried your suggestion of gathering everything up in a variable 
</I>&gt;&gt;<i> and that didn't help.  Still the same error. 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /**
</I>&gt;&gt;<i> * @param negate if true, negate all expressions by multiplying by -1
</I>&gt;&gt;<i> */   
</I>&gt;&gt;<i> multExpr[boolean negate]
</I>&gt;&gt;<i>    :   a+=atom (PRODUCT a+=atom)* -&gt; {negate}? ^(PRODUCT ^(NUMBER DOUBLE[&quot;-1&quot;]) $a)
</I>&gt;&gt;<i>                                   -&gt;           ^(PRODUCT $a)
</I>&gt;&gt;<i>    ;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>    [junit]     Caused an ERROR
</I>&gt;&gt;<i>    [junit] token PRODUCT
</I>&gt;&gt;<i>    [junit] org.antlr.runtime.tree.RewriteEmptyStreamException: token PRODUCT
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> You can't fix just by writing PRODUCT* on the r.h.s., as a tree with
</I>&gt;<i> zero-or-more root nodes doesn't make sense.
</I>&gt;<i>
</I>&gt;<i> Also, do you really always want to create a tree with PRODUCT as the
</I>&gt;<i> root here, even if PRODUCT is not in the input?  I would have thought
</I>&gt;<i> that if no PRODUCT is present, you'd just want 'atom'?
</I>&gt;<i>
</I>&gt;<i>   
</I>Yes, I really want to always have PRODUCT, at least that's how my tree
walker is setup right now.  It makes for a more regular tree.  Is the
problem that antlr can't figure out which PRODUCT token to use?

-- 
Jon Schewe | <A HREF="http://mtu.net/~jpschewe">http://mtu.net/~jpschewe</A>
If you see an attachment named signature.asc, this is my digital
signature.
See <A HREF="http://www.gnupg.org">http://www.gnupg.org</A> for more information.

For I am convinced that neither death nor life, neither angels 
nor demons, neither the present nor the future, nor any 
powers, neither height nor depth, nor anything else in all 
creation, will be able to separate us from the love of God that 
is in Christ Jesus our Lord. - Romans 8:38-39

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025715.html">[antlr-interest] RewriteEmptyStreamException when changing from	quoted string to token?
</A></li>
	<LI>Next message: <A HREF="025726.html">[antlr-interest] RewriteEmptyStreamException when changing from	quoted string to token?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25721">[ date ]</a>
              <a href="thread.html#25721">[ thread ]</a>
              <a href="subject.html#25721">[ subject ]</a>
              <a href="author.html#25721">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
