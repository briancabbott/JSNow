<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR 3.0 question about common actions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ANTLR%203.0%20question%20about%20common%20actions&In-Reply-To=6BF2A9A8-E0D7-11D8-BFCF-000393B5606C%40codetransform.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008954.html">
   <LINK REL="Next"  HREF="008922.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR 3.0 question about common actions</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ANTLR%203.0%20question%20about%20common%20actions&In-Reply-To=6BF2A9A8-E0D7-11D8-BFCF-000393B5606C%40codetransform.com"
       TITLE="[antlr-interest] ANTLR 3.0 question about common actions">klaren at cs.utwente.nl
       </A><BR>
    <I>Tue Aug  3 04:45:47 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008954.html">[antlr-interest] Re: A simple question
</A></li>
        <LI>Next message: <A HREF="008922.html">[antlr-interest] ANTLR 3.0 question about common actions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8921">[ date ]</a>
              <a href="thread.html#8921">[ thread ]</a>
              <a href="subject.html#8921">[ subject ]</a>
              <a href="author.html#8921">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Wed, Jul 28, 2004 at 01:48:04PM -0700, Monty Zukowski wrote:
&gt;<i> &gt; So, the main question is: how can we make standard actions in order to
</I>&gt;<i> &gt; avoid retargeting issues and yet allow for free-form actions,
</I>&gt;<i> &gt; especially those that predicate standard actions?
</I>&gt;<i>
</I>&gt;<i> Currently you have an escape mechanism that says &quot;this is all target
</I>&gt;<i> language, but pick out the tree stuff and $ stuff,&quot; and offers Ric the
</I>&gt;<i> opportunity to complain how ugly this is :)
</I>
Seems I got the point acros ;)

Most of the peave I got with the current implementation is that in the
codegen you have no clue what treebuilding actions are inside the action.
With the current interface you have to kludge a lot around to get an idea
of what stuff to actually generate (I dislike generating too much) also
some cases require additional rudimentary parsing on some of the strings
coming from the action parser making things quite fragile, both from a
maintenance point of view and also as user you sometimes get surprised with
oddities in things happening there.

I can very well live with target language code in the actions it just gives
the biggest amount of flexibility. I have worked for a short while with
tools that have a very limited syntax for actions (basically only function
calls) this really drives you nuts (silly nothing saying naming schemes
etc). I've also used gui's for this kindoff stuff (next gen of the
aforementioned tool) this sucked even worse.

In a sense I'm a bit sceptic with language agnostic stuff. But I've said
that before. Antlr 2 style action parsing is quite acceptable in ANTLR 3 as
far as I'm concerned. As long as a better api between the action parser and
the rest of antlr is possible. Generating code from an AST or something
similar would be ok. One prescan of the action code to see what should be
declared and then another pass to actually write stuff out. The AST code
could just contain tree building constructs interspersed with special
tokens that just collect the target language around the tree building
constructs.

With respect to this if actions in target language are supported it should
be possible to override some syntax per language. The choice of the '#' for
many things is somewhat inconvenient for C++ and C codegen (e.g. it
interferes with the preprocessor in C++ mode or actually the other way
around, we'd have to define a few things as illegal to get around it if we
use '#').

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">j.klaren at utwente.nl</A> ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Chaos often breeds life, when order breeds habit.
  --- Henry B. Adams, The Education of Henry Adams



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
    <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
    <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
    <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008954.html">[antlr-interest] Re: A simple question
</A></li>
	<LI>Next message: <A HREF="008922.html">[antlr-interest] ANTLR 3.0 question about common actions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8921">[ date ]</a>
              <a href="thread.html#8921">[ thread ]</a>
              <a href="subject.html#8921">[ subject ]</a>
              <a href="author.html#8921">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
