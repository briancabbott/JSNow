<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] antlr v4 wish list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20antlr%20v4%20wish%20list&In-Reply-To=%3C005c01cbee8a%24b1a3ca30%2414eb5e90%24%40pixelminegames.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041243.html">
   <LINK REL="Next"  HREF="041247.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] antlr v4 wish list</H1>
    <B>Sam Harwell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20antlr%20v4%20wish%20list&In-Reply-To=%3C005c01cbee8a%24b1a3ca30%2414eb5e90%24%40pixelminegames.com%3E"
       TITLE="[antlr-interest] antlr v4 wish list">sharwell at pixelminegames.com
       </A><BR>
    <I>Tue Mar 29 20:29:35 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="041243.html">[antlr-interest] antlr v4 wish list
</A></li>
        <LI>Next message: <A HREF="041247.html">[antlr-interest] antlr v4 wish list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41245">[ date ]</a>
              <a href="thread.html#41245">[ thread ]</a>
              <a href="subject.html#41245">[ subject ]</a>
              <a href="author.html#41245">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Martin,

Replying to the individual points:

1. A token only needs to know the start position in the input stream and the
length. Considering a file may easily have hundreds of thousands of tokens,
it's very important to not add any information to the token that can be
efficiently derived in another manner, especially if that information is
infrequently used by applications. For example, the line/column information
can be efficiently derived if the lexer maintains an internal array of line
offsets (index 0 contains 0, the start position of line 0; index 1 contains
the offset to the start of line 1; etc...).

3. The current notation is pretty simple once you see it. Also, it's well
documented in the books.

4. With proper integration into the build system, generated files aren't
checked into source control or distributed. The ANTLR project itself
generates V2 and V3 grammars, and my .NET projects generate V3 grammars
(using my C# port of the Tool) at build time, so the generated files never
take up space in source control.

Sam

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Martin d'Anjou
Sent: Tuesday, March 29, 2011 9:33 PM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] antlr v4 wish list

Hello,

My suggestions, for what it's worth:

1) In the Runtime section:
* Tokens and Trees should both know their start/stop line, start/stop char
position to make IDEs easier.

Not only IDEs, but for also for debugging on the command line in a terminal.
The file name is also needed.

2) Lexer debug enhancement:
Option on the lexer constructor to have the lexer print some debug info: 
token type by name, token value, filename, line and char position, without
having to replace antlr's built-in classes.

3) General:
I have spent many hours on a ridiculous little problem: the grammar
declaration statement! So I suggest enforcing the grammar type in the
grammar declaration:
parser grammar MyGrammar;
lexer grammar MyGrammar;
mixed grammar MyGrammar;  // lexer and parser grammar tree grammar
MyGrammar;

4) Gigantic source files, as described here:
<A HREF="http://v2kparse.blogspot.com/2008/06/first-pass-uploaded-to-sourceforce.html">http://v2kparse.blogspot.com/2008/06/first-pass-uploaded-to-sourceforce.html</A>
Maybe this has been solved already?

Regards,
Martin d'Anjou


List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
Unsubscribe:
<A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041243.html">[antlr-interest] antlr v4 wish list
</A></li>
	<LI>Next message: <A HREF="041247.html">[antlr-interest] antlr v4 wish list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41245">[ date ]</a>
              <a href="thread.html#41245">[ thread ]</a>
              <a href="subject.html#41245">[ subject ]</a>
              <a href="author.html#41245">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
