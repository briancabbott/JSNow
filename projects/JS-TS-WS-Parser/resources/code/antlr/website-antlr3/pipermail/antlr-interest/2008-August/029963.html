<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Preserving comments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Preserving%20comments&In-Reply-To=%3C370F5290-9425-4418-A2F8-4A56626A37FE%40martin-probst.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029960.html">
   <LINK REL="Next"  HREF="029986.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Preserving comments</H1>
    <B>Martin Probst</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Preserving%20comments&In-Reply-To=%3C370F5290-9425-4418-A2F8-4A56626A37FE%40martin-probst.com%3E"
       TITLE="[antlr-interest] Preserving comments">mail at martin-probst.com
       </A><BR>
    <I>Thu Aug 14 08:10:41 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029960.html">[antlr-interest] Preserving comments
</A></li>
        <LI>Next message: <A HREF="029986.html">[antlr-interest] Preserving comments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29963">[ date ]</a>
              <a href="thread.html#29963">[ thread ]</a>
              <a href="subject.html#29963">[ subject ]</a>
              <a href="author.html#29963">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> Unfortunately the actions must be context sensitive.
</I>&gt;<i>
</I>&gt;<i> What's the best way to tackle this practically?
</I>
It's possible to change the TokenStream implementation to link comment  
tokens to either the previous or the next token, whatever suits you  
best. For that, you'll also need a custom token class. You can then  
after parsing walk the AST with a plain old Java program, and do  
whatever you need to do.

I've used this technique in my ANTLR parser/pretty printer, see here:
<A HREF="http://code.google.com/p/xqpretty/source/browse/trunk/src/java/com/martinprobst/xqpretty/LazyTokenStream.java">http://code.google.com/p/xqpretty/source/browse/trunk/src/java/com/martinprobst/xqpretty/LazyTokenStream.java</A>

and the 'setHiddenPredecessor' in XQToken.java.

Regards,
Martin
</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029960.html">[antlr-interest] Preserving comments
</A></li>
	<LI>Next message: <A HREF="029986.html">[antlr-interest] Preserving comments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29963">[ date ]</a>
              <a href="thread.html#29963">[ thread ]</a>
              <a href="subject.html#29963">[ subject ]</a>
              <a href="author.html#29963">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
