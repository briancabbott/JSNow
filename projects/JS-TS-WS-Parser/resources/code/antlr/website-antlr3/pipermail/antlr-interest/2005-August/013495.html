<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] expecting &quot;select&quot;, found 's'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20expecting%20%22select%22%2C%20found%20%27s%27&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013501.html">
   <LINK REL="Next"  HREF="013496.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] expecting &quot;select&quot;, found 's'</H1>
    <B>Olivier - (JConcept / Cetip21)</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20expecting%20%22select%22%2C%20found%20%27s%27&In-Reply-To="
       TITLE="[antlr-interest] expecting &quot;select&quot;, found 's'">Olivier at cetip.com.br
       </A><BR>
    <I>Wed Aug 24 10:45:29 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013501.html">[antlr-interest] Re: syntactic predicates and semantic predicates
</A></li>
        <LI>Next message: <A HREF="013496.html">[antlr-interest] Compiling antlr's generated c++ code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13495">[ date ]</a>
              <a href="thread.html#13495">[ thread ]</a>
              <a href="subject.html#13495">[ subject ]</a>
              <a href="author.html#13495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am trying to build a simple query parser for query like    select x where x.name = 'marc'
but  i get the following error when writing select x where x.name = marc

line 1:1: expecting &quot;select&quot;, found 's'
line 1:23: unexpected char: '='
	at mypackage.graph.parser.GraphLexer.nextToken(GraphLexer.java:186)
	at antlr.TokenBuffer.fill(TokenBuffer.java:69)
	at antlr.TokenBuffer.LA(TokenBuffer.java:80)
	at antlr.LLkParser.LA(LLkParser.java:52)
	at antlr.Parser.consumeUntil(Parser.java:149)
	at antlr.Parser.recover(Parser.java:312)
	at mypackage.query.parser.DialogyQueryParser.query(DialogyQueryParser.java:69)
	at mypackage.query.parser.Test.main(Test.java:30)
Exception in thread &quot;main&quot; 

any idea ?
Thanks.

Here is my grammar : 

class DialogyQueryParser extends Parser;
{}

query: SELECT identifier WHERE complexExpression ;

complexExpression : simpleExpression;

simpleExpression : identifier (POINT identifier EQUAL identifier | identifier identifier);

/** Matches a valid identifier*/
identifier : IDENTIFIER;

class QueryLexer extends Lexer;

options {
    testLiterals = true;
    k = 2;
    caseSensitive = false;
    caseSensitiveLiterals = false;
    charVocabulary = '\3' .. '\177';
}
tokens {
	SELECT=&quot;select&quot;;
	WHERE=&quot;where&quot;;
	OR=&quot;or&quot;;
	AND=&quot;and&quot;;
}
IDENTIFIER options { testLiterals=true; }
    : 
        'a' .. 'z' ( 'a' .. 'z' | '0' .. '9' | '_' | '$' | '#' )*
    ;
LPAREN: '(' ;
RPAREN: ')' ;
LCURLY_BRACE: '{' ;
RCURLY_BRACE: '}' ;
EQUAL:'=';
COMMA:',';
POINT:'.';

//INT   : ('0'..'9')+ ;
//LETTER:('a'..'z')+;
WS    : ( ' '
        | '\r' '\n'
        | '\n'
        | '\t'
        )
        {$setType(Token.SKIP);}
     ;
     


Aten&#231;&#227;o: Esta mensagem foi enviada para uso exclusivo do(s) destinat&#225;rios(s) acima 
identificado(s), podendo conter informa&#231;&#245;es e/ou documentos 
confidencias/privilegiados e seu sigilo &#233; protegido por lei.
Caso voc&#234; tenha recebido por engano, por favor, informe o remetente e apague-a de 
seu sistema.
Notificamos que &#233; proibido por lei a sua reten&#231;&#227;o, dissemina&#231;&#227;o, distribui&#231;&#227;o, c&#243;pia ou 
uso sem expressa autoriza&#231;&#227;o do remetente.
Opini&#245;es pessoais do remetente n&#227;o refletem, necessariamente, o ponto de vista da 
CETIP, o qual &#233; divulgado somente por pessoas autorizadas.


Attention:  This message was sent for exclusive use of the addressees above 
identified, being able to contain information and or privileged/confidential documents 
and law protects its secrecies.
In case that you it has received for deceit, please, it informs the shipper and erases it 
of your system.  
We notify that law forbids its retention, dissemination, distribution, copy or use without 
express authorization.  
Personal opinions of the shipper do not reflect, necessarily, the point of view of the 
CETIP, which is only divulged by authorized people.

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013501.html">[antlr-interest] Re: syntactic predicates and semantic predicates
</A></li>
	<LI>Next message: <A HREF="013496.html">[antlr-interest] Compiling antlr's generated c++ code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13495">[ date ]</a>
              <a href="thread.html#13495">[ thread ]</a>
              <a href="subject.html#13495">[ subject ]</a>
              <a href="author.html#13495">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
