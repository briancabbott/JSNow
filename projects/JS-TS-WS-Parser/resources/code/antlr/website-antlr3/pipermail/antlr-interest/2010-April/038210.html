<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Processing/traversing a rule
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Processing/traversing%20a%20rule&In-Reply-To=%3Cp2g1bb620341004080416lea0d51a5r26c3b3b78b76e772%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038209.html">
   <LINK REL="Next"  HREF="038212.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Processing/traversing a rule</H1>
    <B>Tyler Distad</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Processing/traversing%20a%20rule&In-Reply-To=%3Cp2g1bb620341004080416lea0d51a5r26c3b3b78b76e772%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Processing/traversing a rule">tyler.distad at gmail.com
       </A><BR>
    <I>Thu Apr  8 04:16:28 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="038209.html">[antlr-interest] Tree filter/rewrite wildcards
</A></li>
        <LI>Next message: <A HREF="038212.html">[antlr-interest] Processing/traversing a rule -- dealing with conditionals
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38210">[ date ]</a>
              <a href="thread.html#38210">[ thread ]</a>
              <a href="subject.html#38210">[ subject ]</a>
              <a href="author.html#38210">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a tree parser which is traversing the nodes of my AST. At points
within the grammar, I use action blocks to call methods on my processing
object, thus keeping large amounts of action code abstracted into a separate
file.

This has worked fine, but now I have the &quot;if&quot; and &quot;while&quot; statements visible
below:

stmtIf
    : ^(STMT_IF expr trueStmts=stmt* (ELSE_KW falseStmts=stmt*)?)
        { proc.outStmtIf($expr.start, $trueStmts.start,
$falseStmts.start);    }
    ;

stmtWhile
    : ^(STMT_WHILE expr stmt*)
        { proc.outStmtWhile($expr.start, $stmt.start);    }
    ;

Obviously, this works fine for actions which take place after the entire if
or while tree has been processed. But I want to do some processing before
the tree is traversed, as well as some at specific points during. I could
create more method calls in my processing object and sprinkle them
throughout the above AST, but that feels so clunky. I'd like to be able to
override the entire traversal of the rule at this point and do some custom
work.

So, two questions:
 * In general, is my method of making calls to a processing object
sane/normal/best practice?
 * In the above cases, is there any practical method of manually processing
an entire rule and its descendant tree?

Tyler Distad
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038209.html">[antlr-interest] Tree filter/rewrite wildcards
</A></li>
	<LI>Next message: <A HREF="038212.html">[antlr-interest] Processing/traversing a rule -- dealing with conditionals
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38210">[ date ]</a>
              <a href="thread.html#38210">[ thread ]</a>
              <a href="subject.html#38210">[ subject ]</a>
              <a href="author.html#38210">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
