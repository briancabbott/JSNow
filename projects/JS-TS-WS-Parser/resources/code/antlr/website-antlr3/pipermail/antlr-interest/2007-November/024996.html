<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Why the generated parser code tolerates	illegal expression?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Why%20the%20generated%20parser%20code%20tolerates%0A%09illegal%20expression%3F&In-Reply-To=%3C843879.23783.qm%40web34815.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024998.html">
   <LINK REL="Next"  HREF="024997.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Why the generated parser code tolerates	illegal expression?</H1>
    <B>William Cai</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Why%20the%20generated%20parser%20code%20tolerates%0A%09illegal%20expression%3F&In-Reply-To=%3C843879.23783.qm%40web34815.mail.mud.yahoo.com%3E"
       TITLE="[antlr-interest] Why the generated parser code tolerates	illegal expression?">william.cai at yahoo.com
       </A><BR>
    <I>Wed Nov 28 19:11:07 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024998.html">[antlr-interest] Why the generated parser code tolerates	illegal expression?
</A></li>
        <LI>Next message: <A HREF="024997.html">[antlr-interest] Why the generated parser code tolerates	illegal expression?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24996">[ date ]</a>
              <a href="thread.html#24996">[ thread ]</a>
              <a href="subject.html#24996">[ subject ]</a>
              <a href="author.html#24996">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
At least, the code marked in red below could be updated, say &quot;
    if(LA(1) != LITERAL_and &amp;&amp; LA(1) != EOF) 
        throw Exception(); //blablabla...
&quot; in my case.

Did I miss anything?


    
public 
final 
void 
andexpression() throws 
RecognitionException, TokenStreamException {

       


       
returnAST = null;

       ASTPair 
currentAST = new 
ASTPair();

       AST 
andexpression_AST = null;

       


       
try {      
// for error 
handling

           
notexpression();

           
astFactory.addASTChild(currentAST, returnAST);

           
{

           
_loop34:

           
do 
{

              
if 
((LA(1)==LITERAL_and)) 
{

                  
AST tmp61_AST = null;

                  
tmp61_AST = astFactory.create(LT(1));

                  
astFactory.makeASTRoot(currentAST, tmp61_AST);

                  
match(LITERAL_and);

                  
notexpression();

                  
astFactory.addASTChild(currentAST, returnAST);

              
}

              
else 
{

                  
break 
_loop34;

              
}

              


           
} while 
(true);

           
}

           
andexpression_AST = (AST)currentAST.root;

       
}

       
catch 
(RecognitionException ex) {

           
if 
(inputState.guessing==0) {

              
reportError(ex);

              
consume();

              
consumeUntil(_tokenSet_15);

           } 
else 
{

             
throw 
ex;

           
}

       
}

       
returnAST = andexpression_AST;

    
}




----- Original Message ----
From: William Cai &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">william.cai at yahoo.com</A>&gt;
To: Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>&gt;; antlr-interest Interest &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
Sent: Thursday, November 29, 2007 10:51:47 AM
Subject: Re: [antlr-interest] Why the generated parser code tolerates illegal expression?



I'm adding the item. By the way, why not add some check code in the generated parser so that we need not declare EOF explicitly? Is this already done in ANTLR v3, or still in to-do list, or just impossible to implement?

Thanks, William

----- Original Message ----
From: Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>&gt;
To: antlr-interest Interest &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
Sent: Thursday, November 29, 2007 12:46:21 AM
Subject: Re: [antlr-interest] Why the generated parser code tolerates illegal expression?




On Nov 28, 2007, at 5:52 AM, William Cai wrote:

Thanks Harald. It works now. Should this be recorded in FAQ? 



Sure!  Somebody sign up and add it ;)


Ter







-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20071128/6585b5b0/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20071128/6585b5b0/attachment-0001.html</A> 
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024998.html">[antlr-interest] Why the generated parser code tolerates	illegal expression?
</A></li>
	<LI>Next message: <A HREF="024997.html">[antlr-interest] Why the generated parser code tolerates	illegal expression?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24996">[ date ]</a>
              <a href="thread.html#24996">[ thread ]</a>
              <a href="subject.html#24996">[ subject ]</a>
              <a href="author.html#24996">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
