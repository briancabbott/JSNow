<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Line numbers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Line%20numbers&In-Reply-To=83269DC0-2CA3-11D7-AACB-000393BB647E%40jguru.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002673.html">
   <LINK REL="Next"  HREF="002676.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Line numbers</H1>
    <B>micheal_jor &lt;open.zone at virgin.net&gt;</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Line%20numbers&In-Reply-To=83269DC0-2CA3-11D7-AACB-000393BB647E%40jguru.com"
       TITLE="[antlr-interest] Re: Line numbers">open.zone at virgin.net
       </A><BR>
    <I>Mon Jan 20 11:59:36 PST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002673.html">[antlr-interest] Line numbers
</A></li>
        <LI>Next message: <A HREF="002676.html">[antlr-interest] Re: Line numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2675">[ date ]</a>
              <a href="thread.html#2675">[ thread ]</a>
              <a href="subject.html#2675">[ subject ]</a>
              <a href="author.html#2675">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> Hi there.  I believe there was a quick thread previously where I 
</I>&gt;<i> decided to add getToken() method to the AST interface and then 
</I>modify 
&gt;<i> the AST factory method create(Token t) to just store the token not 
</I>pull 
&gt;<i> out the text/type and store it.  This way the tree will have a ref 
</I>to 
&gt;<i> the token and you can ask (and my tree parsers can ask) for the 
</I>line 
&gt;<i> number.
</I>
-1

With large files, the AST consumes lots of memory. More memory than 
I'd like usually. With lots of Token objects hanging around 
indefinitely, the problem would be compounded.

My humble alternatives:

1. Supply a new xxxAST class with ANTLR that overrides initialize
(Token) to copy the line/column/file values from the Token object. 

2. For those who have no memory issues or prefer having the Token 
objects around - Supply another new xxxAST class with ANTLR that has 
getToken() and overrides initialize(Token) to do what you described.

&gt;<i> I would do this yourself until all ANTLR does it. :)
</I>
ANTLR already makes it easy to do ;-)

Cheers,

Micheal
  -- &quot;A-Day Near?&quot;. The Legion Rejoiced.&quot;



 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002673.html">[antlr-interest] Line numbers
</A></li>
	<LI>Next message: <A HREF="002676.html">[antlr-interest] Re: Line numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2675">[ date ]</a>
              <a href="thread.html#2675">[ thread ]</a>
              <a href="subject.html#2675">[ subject ]</a>
              <a href="author.html#2675">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
