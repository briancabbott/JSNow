<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Flumoxed by Javascript Target
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Flumoxed%20by%20Javascript%20Target&In-Reply-To=%3Cccbc40a00904300934y3bbd372csddbc09779ed23bc6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034254.html">
   <LINK REL="Next"  HREF="034259.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Flumoxed by Javascript Target</H1>
    <B>Hugo Leeney</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Flumoxed%20by%20Javascript%20Target&In-Reply-To=%3Cccbc40a00904300934y3bbd372csddbc09779ed23bc6%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Flumoxed by Javascript Target">hugo.leeney at gmail.com
       </A><BR>
    <I>Thu Apr 30 09:34:14 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="034254.html">[antlr-interest] Flumoxed by Javascript Target
</A></li>
        <LI>Next message: <A HREF="034259.html">[antlr-interest] Flumoxed by Javascript Target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34258">[ date ]</a>
              <a href="thread.html#34258">[ thread ]</a>
              <a href="subject.html#34258">[ subject ]</a>
              <a href="author.html#34258">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks so much for that lightning reply. Unfortunately I'm probably
not serious about dev'ing a target as Boss wants the actual problem
solved asap, not the generic one.. :(

On the build side of things, is there supposed to be a pom.xml in the
antlr-3.1.3 directory? I downloaded from
<A HREF="http://www.antlr.org/download/antlr-3.1.3.tar.gz,">http://www.antlr.org/download/antlr-3.1.3.tar.gz,</A> BUILD.txt says I
should see one, but I don't. BUILD.txt does say something about
'possibly need to install the master pom in your local repository' and
to execute 'mvn -N install'. I tried that and got

[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Cannot execute mojo: resources. It requires a project with an existing p
m.xml, but the build is not using one.
[INFO] ------------------------------------------------------------------------
[INFO] For more information, run Maven with the -e switch
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 11 seconds
[INFO] Finished at: Thu Apr 30 16:49:31 BST 2009
[INFO] Final Memory: 4M/7M
[INFO] ------------------------------------------------------------------------

I cd'd into 'tool' and exec'd 'mvn -Dmaven.test.skip=true', after
downloading  *cough* several files .. it succeeded !!

So that lead me to fisheye and probably more appropriately hudson
(can't download directories in fisheye right?). In hudson I'd have to
download each 'component' separately I think so that would mean no
master build either.. ?

On Thu, Apr 30, 2009 at 4:58 PM, Jim Idle &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>&gt; wrote:
&gt;<i> Hugo Leeney wrote:
</I>&gt;&gt;<i> Hi All,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I had an idea that it would be good to use some of my Antlr knowledge
</I>&gt;&gt;<i> to solve a problem I'm solving in javascript. Unfortunately I haven't
</I>&gt;&gt;<i> been able to get started yet.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm totally confused how I should start. This page
</I>&gt;&gt;<i> (<A HREF="http://www.antlr.org/wiki/display/ANTLR3/ANTLR3JavaScriptTarget">http://www.antlr.org/wiki/display/ANTLR3/ANTLR3JavaScriptTarget</A>) says
</I>&gt;&gt;<i> the the javascript target is integrated into the release but when I
</I>&gt;&gt;<i> try a simple grammar the simple Calculator example I get
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> error(10): &#160;internal error: group JavaScript does not satisfy interface ANTLRCor
</I>&gt;&gt;<i> e: mismatched arguments on these templates [treeParser(grammar, name, scopes, to
</I>&gt;&gt;<i> kens, tokenNames, globalAction, rules, numRules, bitsets, labelType, ASTLabelTyp
</I>&gt;&gt;<i> e, superClass, members, filterMode)]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Looking at the google group I thought I should go about building the
</I>&gt;&gt;<i> javascript target -
</I>&gt;&gt;<i> <A HREF="http://code.google.com/p/antlr-javascript/wiki/BuildingANTLRJavaScriptTarget">http://code.google.com/p/antlr-javascript/wiki/BuildingANTLRJavaScriptTarget</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That page seems to be out of date though. It says -
</I>&gt;&gt;<i> &quot;Build ANTLR itself. See the note by Hamilton at this page
</I>&gt;&gt;<i> <A HREF="http://www.antlr.org/wiki/pages/viewpage.action?pageId=732">http://www.antlr.org/wiki/pages/viewpage.action?pageId=732</A> &quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That page says to build ANTLR by calling 'ant' in the main directory
</I>&gt;&gt;<i> where build.xml is... ANTLR 3.1.3 uses Maven right? Theres no
</I>&gt;&gt;<i> build.xml &#160;(outside of some of the target source directories).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can anyone give me friendly shove in the right direction?
</I>&gt;&gt;<i>
</I>&gt;<i> I don't think that the Javascript target was ever finished to be honest.
</I>&gt;<i>
</I>&gt;<i> Many people find it easier to unjar the 3.1.3 jar, then set CLASSPATH to
</I>&gt;<i> include the expanded directories (note you will see that there is the
</I>&gt;<i> tool, runtime and so on), but I hate messing around with CLASSPATH as it
</I>&gt;<i> always seems to get out of sync ;-). You can then work on your templates
</I>&gt;<i> directly in that tree.
</I>&gt;<i>
</I>&gt;<i> If you are serious about developing a target, then the best thing to do
</I>&gt;<i> is ask Terence for a perforce account, sync the source and create a new
</I>&gt;<i> directory js2 or something like that. Then copy the templates from the
</I>&gt;<i> Java target and add a Targetxxx.java. Go through each template and add a
</I>&gt;<i> text like &quot;TBD - template xyz&quot;, so that when the code is generated, you
</I>&gt;<i> will always get an error telling you what you have not yet done. There
</I>&gt;<i> are debug options and so on but doing this will force you to read every
</I>&gt;<i> template before you start and you will know a lot more about what you
</I>&gt;<i> are facing (and can give up then if you like ;-).
</I>&gt;<i>
</I>&gt;<i> When you have a p4 sync you can build the jars by following the
</I>&gt;<i> instructions in BUILD.txt
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034254.html">[antlr-interest] Flumoxed by Javascript Target
</A></li>
	<LI>Next message: <A HREF="034259.html">[antlr-interest] Flumoxed by Javascript Target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34258">[ date ]</a>
              <a href="thread.html#34258">[ thread ]</a>
              <a href="subject.html#34258">[ subject ]</a>
              <a href="author.html#34258">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
