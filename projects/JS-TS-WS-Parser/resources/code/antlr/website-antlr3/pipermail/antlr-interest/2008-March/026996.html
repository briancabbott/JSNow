<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Why is Filter thwarting me?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Why%20is%20Filter%20thwarting%20me%3F&In-Reply-To=%3C2b5f47650803052354g186616a2s556a00d0214f501c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026995.html">
   <LINK REL="Next"  HREF="026997.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Why is Filter thwarting me?</H1>
    <B>alan brown</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Why%20is%20Filter%20thwarting%20me%3F&In-Reply-To=%3C2b5f47650803052354g186616a2s556a00d0214f501c%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Why is Filter thwarting me?">listbrownie at gmail.com
       </A><BR>
    <I>Wed Mar  5 23:54:27 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026995.html">[antlr-interest] Why is Filter thwarting me?
</A></li>
        <LI>Next message: <A HREF="026997.html">[antlr-interest] Why is Filter thwarting me?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26996">[ date ]</a>
              <a href="thread.html#26996">[ thread ]</a>
              <a href="subject.html#26996">[ subject ]</a>
              <a href="author.html#26996">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hmmmm.  I was unaware that grammars and lexers are frequently split into
different files.  It seems that putting the lexer in its own file is no
problem, but when I put the parser in its own file it complains (in red in
intellij) that it can't find any of the tokens my rule is referring to.

Is there some sort of #include that enables my parser to know where it's
looking for the tokens or should I consider the red squiggles under all my
token names as decoration?  :)

Also, I'm confused about your explanation (though it does seem to help).  If
filter=true is only a lexer rule then why should it be a problem defining it
in a hybrid (lexer/parser) grammar file?  Surely, as a lexer rule it should
only affect the lexer.

Currently, for lack of a better solution, I'm committing the cardinal sin of
having the lexer code in one file (with filter=true) and both the parser and
lexer in the other file, though it only generates the parser code of course.

I know I'm following worst practices here.  Can someone please illuminate
me?

alan

On Wed, Mar 5, 2008 at 11:05 PM, Gavin Lambert &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at mirality.co.nz</A>&gt; wrote:

&gt;<i> At 19:53 6/03/2008, alan brown wrote:
</I>&gt;<i> &gt;I'm using 'filter=true' because I'm just trying to pluck out
</I>&gt;<i> &gt;parts of the input stream.  However, setting filter to true seems
</I>&gt;<i> &gt;to prevent my java code from running.  Here's an example:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;grammar wibble;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;options {filter=false;}
</I>&gt;<i>
</I>&gt;<i> There's your problem right there :)  (Assuming you'd put
</I>&gt;<i> filter=true instead.)
</I>&gt;<i>
</I>&gt;<i> 'filter=true' is a lexer option, and only works in lexer-only
</I>&gt;<i> grammars.  It should actually produce a compiler error in other
</I>&gt;<i> cases, but sadly at the moment it doesn't.
</I>&gt;<i>
</I>&gt;<i> Change your &quot;grammar&quot; to &quot;lexer grammar&quot; and remove the parser
</I>&gt;<i> rules, and it should work properly.  (You can then create a
</I>&gt;<i> separate &quot;parser grammar&quot; to deal with the output, if you want.)
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080305/2a6c80e2/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080305/2a6c80e2/attachment.html</A> 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026995.html">[antlr-interest] Why is Filter thwarting me?
</A></li>
	<LI>Next message: <A HREF="026997.html">[antlr-interest] Why is Filter thwarting me?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26996">[ date ]</a>
              <a href="thread.html#26996">[ thread ]</a>
              <a href="subject.html#26996">[ subject ]</a>
              <a href="author.html#26996">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
