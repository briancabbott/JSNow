<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] gUnit for v4?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20gUnit%20for%20v4%3F&In-Reply-To=%3CE6B80325-DDC8-40E4-9C18-53A3AC9BA6C4%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044477.html">
   <LINK REL="Next"  HREF="044490.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] gUnit for v4?</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20gUnit%20for%20v4%3F&In-Reply-To=%3CE6B80325-DDC8-40E4-9C18-53A3AC9BA6C4%40cs.usfca.edu%3E"
       TITLE="[antlr-interest] gUnit for v4?">parrt at cs.usfca.edu
       </A><BR>
    <I>Thu Apr 19 10:11:48 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044477.html">[antlr-interest] gUnit for v4?
</A></li>
        <LI>Next message: <A HREF="044490.html">[antlr-interest] gUnit for v4?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44481">[ date ]</a>
              <a href="thread.html#44481">[ thread ]</a>
              <a href="subject.html#44481">[ subject ]</a>
              <a href="author.html#44481">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Kieran,

thanks very much for the feedback. What exactly were you testing when you say parts of your grammar and in different combinations? Were you testing the ASTs you created? It was very useful for that. Since v4 automatically builds trees, those trees will be correct unless there's a bug so there's nothing really to test as far as I can tell.
Ter
On Apr 18, 2012, at 9:56 PM, Kieran Simpson wrote:

&gt;<i> On 23/07/64 5:59 AM, Terence Parr wrote:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I started down the path of building the new version of gUnit for v4, but I'm beginning to question its value for the new version. Because I am pooh-poohing putting actions directly within a grammar, grammar can only yield parse trees. and looks nice to be able to say:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> expr:
</I>&gt;&gt;<i> 	&quot;1&quot;		-&gt;  (expr 1)
</I>&gt;&gt;<i> 	&quot;1+2&quot;	-&gt;  (expr (expr 1) + (expr 2))
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> but so what? all that did was confirm that the parser generated by ANTLR works correctly. it's not telling you anything you didn't know by looking at the grammar.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> In the old days we used to build ASTs and so we needed to check the structure. That need is no longer here. Also, these rules don't generate output and so we can't check input to output translation.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> What it comes down to is this: we really need functional testing not unit testing for language applications, unless of course each rule returns a string that the translation of the input some phrase or something. But, it's just as easy to write calls to assertEquals() saying that input x should yield input y. If we are doing something other than generating output, such as building up a data structure, then we really do need to manually check that the data structure is solid given some input.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I'm trying to find a flaw in my logic. Is there something I'm missing about testing grammars? In v4, they will give you exactly what you want, unless there is a bug in ANTLR. But that's my problem not yours.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> If we can't find a major benefit, then we should avoid introducing another moving part to the ANTLR ecosystem.
</I>&gt;<i> 
</I>&gt;<i> I find gUnit very helpful in testing parts of my grammar both in 
</I>&gt;<i> isolation and different combinations.  I like being able to test token 
</I>&gt;<i> definitions against different input.
</I>&gt;<i> 
</I>&gt;<i> Where I find functional testing more beneficial is for tree walkers. 
</I>&gt;<i> For my grammars that produce ASTs I've found the grammar tests useful in 
</I>&gt;<i> preventing regression bugs.
</I>&gt;<i> 
</I>&gt;<i> There's also testing in non Java languages to consider.  Having the 
</I>&gt;<i> ability to have tests generated/run via JUnit may be easier than having 
</I>&gt;<i> to piece together your tests in another language (eg: C) which I 
</I>&gt;<i> personally find is more time consuming.
</I>&gt;<i> 
</I>&gt;<i> Just a few thoughts.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044477.html">[antlr-interest] gUnit for v4?
</A></li>
	<LI>Next message: <A HREF="044490.html">[antlr-interest] gUnit for v4?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44481">[ date ]</a>
              <a href="thread.html#44481">[ thread ]</a>
              <a href="subject.html#44481">[ subject ]</a>
              <a href="author.html#44481">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
