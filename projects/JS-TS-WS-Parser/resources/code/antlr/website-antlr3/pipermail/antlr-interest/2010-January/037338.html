<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Rule ignored in CSS grammar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Rule%20ignored%20in%20CSS%20grammar&In-Reply-To=%3C3212d1f335ec784fa51b4f69cb159efc%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037336.html">
   <LINK REL="Next"  HREF="037339.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Rule ignored in CSS grammar</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Rule%20ignored%20in%20CSS%20grammar&In-Reply-To=%3C3212d1f335ec784fa51b4f69cb159efc%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Rule ignored in CSS grammar">jimi at temporal-wave.com
       </A><BR>
    <I>Mon Jan 18 09:01:45 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037336.html">[antlr-interest] Rule ignored in CSS grammar
</A></li>
        <LI>Next message: <A HREF="037339.html">[antlr-interest] ANTLRWorks user registration and firewalls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37338">[ date ]</a>
              <a href="thread.html#37338">[ thread ]</a>
              <a href="subject.html#37338">[ subject ]</a>
              <a href="author.html#37338">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You might start with this one 

<A HREF="http://www.antlr.org/grammar/1240941192304/css21.g">http://www.antlr.org/grammar/1240941192304/css21.g</A>


(CSS 2.1 grammar that I contributed) and just upgrade it to CSS 3, which is not much different to be honest. The main difficulties are properly lexing the input and the example you quote does not do the lexing correctly. Adding to the parsing constructs is trivial.

I am not sure why you would try to prevent the use of '_' as that is part of the spec. However the way you are doing it will not work anyway because the lexer is context free and just produces the tokens it sees (it is not driven by the parser). 

Jim



&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Michnay Bal&#225;zs
</I>&gt;<i> Sent: Monday, January 18, 2010 6:18 AM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] Rule ignored in CSS grammar
</I>&gt;<i> 
</I>&gt;<i> Hi Guys,
</I>&gt;<i> 
</I>&gt;<i> The attached grammar is supposed to parse CSS files. I used this as an
</I>&gt;<i> initial version:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.antlr.org/grammar/1214945003224/csst3.g">http://www.antlr.org/grammar/1214945003224/csst3.g</A>
</I>&gt;<i> 
</I>&gt;<i> First I tried to add a functionality to prevent &quot;_&quot; chars for property
</I>&gt;<i> names, so I created a new lexer rule &quot;CSSPROPERTYNAME&quot; to ensure this.
</I>&gt;<i> The &quot;declaration&quot; rule has been updated accordingly. The funny thing is
</I>&gt;<i> that now the &quot;selector&quot; rule fails to recognize tag selectors like:
</I>&gt;<i> 
</I>&gt;<i> .class_selector img {
</I>&gt;<i>   property: value;
</I>&gt;<i>   ...
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> Since my update should only affect property names and not selectors, I
</I>&gt;<i> really do not understand what the problem is. I tried to define lexer
</I>&gt;<i> rules as both fragments and literal values, no luck.
</I>&gt;<i> 
</I>&gt;<i> I used ANTLRWorks to debug this and have noticed that in the &quot;selector&quot;
</I>&gt;<i> rule &quot;selectorOperation&quot; is ignored:
</I>&gt;<i> 
</I>&gt;<i> selector
</I>&gt;<i>   : elem selectorOperation* attrib* pseudo? -&gt;  elem selectorOperation*
</I>&gt;<i> attrib* pseudo*
</I>&gt;<i>   ;
</I>&gt;<i> 
</I>&gt;<i> Any ideas?
</I>&gt;<i> 
</I>&gt;<i> Thanks.
</I>&gt;<i> No virus found in this incoming message.
</I>&gt;<i> Checked by AVG - www.avg.com
</I>&gt;<i> Version: 9.0.725 / Virus Database: 270.14.148/2629 - Release Date:
</I>&gt;<i> 01/17/10 11:35:00
</I>&gt;<i> 
</I>&gt;<i> 
</I>


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037336.html">[antlr-interest] Rule ignored in CSS grammar
</A></li>
	<LI>Next message: <A HREF="037339.html">[antlr-interest] ANTLRWorks user registration and firewalls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37338">[ date ]</a>
              <a href="thread.html#37338">[ thread ]</a>
              <a href="subject.html#37338">[ subject ]</a>
              <a href="author.html#37338">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
