<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Tokenising for context specific reserved words
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Tokenising%20for%20context%20specific%20reserved%20words&In-Reply-To=%3C1216343964.17704.70.camel%40jimi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029206.html">
   <LINK REL="Next"  HREF="029207.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Tokenising for context specific reserved words</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Tokenising%20for%20context%20specific%20reserved%20words&In-Reply-To=%3C1216343964.17704.70.camel%40jimi%3E"
       TITLE="[antlr-interest] Tokenising for context specific reserved words">jimi at temporal-wave.com
       </A><BR>
    <I>Thu Jul 17 18:19:24 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029206.html">[antlr-interest] Tokenising for context specific reserved words
</A></li>
        <LI>Next message: <A HREF="029207.html">[antlr-interest] Tokenising for context specific reserved words
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29204">[ date ]</a>
              <a href="thread.html#29204">[ thread ]</a>
              <a href="subject.html#29204">[ subject ]</a>
              <a href="author.html#29204">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2008-07-17 at 17:36 -0700, Loring Craymer wrote:
&gt;<i> For Yggdrasil, I hide the sempred behind doubly-quoted keywords.  As
</I>&gt;<i> to performance:  the sempred is called less often than id (as a
</I>&gt;<i> rule--YMMV) and usually much less often.  The issue is aggregate
</I>&gt;<i> performance, not local performance; the general principle for
</I>&gt;<i> performance tweaking is to worry less about the cost of infrequent
</I>&gt;<i> calls than the cost of frequent calls.  Basically, the id approach
</I>&gt;<i> adds a method call and bitset inclusion test for every ID, while the
</I>&gt;<i> sempred costs the three calls per keyword test.
</I>

OK - I see where you are going. However, most of the cases I come across
mean that you would be doing those 3 calls for every keyword and I think
it would be quickly unreadable. Most languages where this happens allow
almost all keywords to be used as identifiers when they are not in fact
the actual keyword. The lesson then is probably to step back from the
solution before implementing either one and see which makes sense for
your particular situation. I can imagine that cases where a few new
keywords are introduced in a new version of the language but for
backward compatibility reasons they are allowed to be identifiers, may
well qualify as a sempred candidate for instance. 

There are probably better generic solutions for the whole keyword vs ID
issue. Double quoting keywords seems like a reasonable way to flag
something as also being available as in identifier, but then it forces
the sempred route unless it is further adorned with constructs that may
well then inextricably link the parser and lexer, which is
probably/possibly best avoided. 

Jim

&gt;<i> 
</I>&gt;<i> 
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080717/658b029c/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080717/658b029c/attachment.html</A> 
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029206.html">[antlr-interest] Tokenising for context specific reserved words
</A></li>
	<LI>Next message: <A HREF="029207.html">[antlr-interest] Tokenising for context specific reserved words
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29204">[ date ]</a>
              <a href="thread.html#29204">[ thread ]</a>
              <a href="subject.html#29204">[ subject ]</a>
              <a href="author.html#29204">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
