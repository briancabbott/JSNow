<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Tricky rewrite (for me anyway)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Tricky%20rewrite%20%28for%20me%20anyway%29&In-Reply-To=%3C20080730155923.jqg0qne1kcwk84ks%40webmail.palantir.co.za%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029434.html">
   <LINK REL="Next"  HREF="029428.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Tricky rewrite (for me anyway)</H1>
    <B>craig at palantir.co.za</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Tricky%20rewrite%20%28for%20me%20anyway%29&In-Reply-To=%3C20080730155923.jqg0qne1kcwk84ks%40webmail.palantir.co.za%3E"
       TITLE="[antlr-interest] Tricky rewrite (for me anyway)">craig at palantir.co.za
       </A><BR>
    <I>Wed Jul 30 06:59:23 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029434.html">[antlr-interest] Composed grammars and AST, pb with .h files;	and &quot;Bus error&quot; with 'toStringTree'
</A></li>
        <LI>Next message: <A HREF="029428.html">[antlr-interest] Illegal escape sequence in C#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29424">[ date ]</a>
              <a href="thread.html#29424">[ thread ]</a>
              <a href="subject.html#29424">[ subject ]</a>
              <a href="author.html#29424">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I am struggling with a tricky little rewrite rule.
I have managed to get this to work using a deep tree.
By that I mean:
        rule (('and'|'or')^ rule)* ;

I changed it recently to a simple list as follows.
The nodes are now siblings, which is what I want.

rules:	rule (('and'|'or') rule)*
                ;
I need to figure out how to rewrite the above rule to put
the 'and' or 'or' in front so that the tree can match properly.

The tree then matches as follows:
Unfortunately due to the nature of the matching, I only get the last match
in the tree, not the 'or' or 'and'. I have looked at the tree and this
structure should work. I figure I need to put the 'and' or 'or' in front.
path : ^(ROOT xname* 'and')
     | ^(ROOT xname* 'or')
     | ^(ROOT xname*)
     ;

I need to make a tree like this.
path : ^(ROOT 'and' xname*)
        | ^(ROOT 'or' xname*)
        | ^(ROOT xname*)
        ;

because then the tree will work. How do I rewrite the tree
to make it work?


----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029434.html">[antlr-interest] Composed grammars and AST, pb with .h files;	and &quot;Bus error&quot; with 'toStringTree'
</A></li>
	<LI>Next message: <A HREF="029428.html">[antlr-interest] Illegal escape sequence in C#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29424">[ date ]</a>
              <a href="thread.html#29424">[ thread ]</a>
              <a href="subject.html#29424">[ subject ]</a>
              <a href="author.html#29424">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
