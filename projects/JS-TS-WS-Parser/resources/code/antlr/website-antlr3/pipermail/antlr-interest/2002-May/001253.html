<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Strange character Recognition. (C++ Only)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Strange%20character%20Recognition.%20%28C%2B%2B%20Only%29&In-Reply-To=6791D870658F174FB863E2FA890000A37DCCF2%40abyss4.advancedsw.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001213.html">
   <LINK REL="Next"  HREF="001216.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Strange character Recognition. (C++ Only)</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Strange%20character%20Recognition.%20%28C%2B%2B%20Only%29&In-Reply-To=6791D870658F174FB863E2FA890000A37DCCF2%40abyss4.advancedsw.com"
       TITLE="[antlr-interest] Strange character Recognition. (C++ Only)">klaren at cs.utwente.nl
       </A><BR>
    <I>Fri May 31 01:57:54 PDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001213.html">[antlr-interest] Strange character Recognition. (C++ Only)
</A></li>
        <LI>Next message: <A HREF="001216.html">[antlr-interest] 2.7.a2 build issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1253">[ date ]</a>
              <a href="thread.html#1253">[ thread ]</a>
              <a href="subject.html#1253">[ subject ]</a>
              <a href="author.html#1253">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Wed, May 29, 2002 at 08:26:19AM -0600, Trey Spiva wrote:
&gt;<i> Additional Information: The '*' are really character 0x95.  My EMAIL client
</I>
&gt;<i> it is broken when I use Antlr to produce a C++ parser.
</I>
What is exactly broken ? I think I lost your previous mails on the subject..
Is the rule for the multi line comment broken, check the charactersets in
used in the rule.. so for instance if I run the java.g through my current
cvs version, then I see things like:

if ((LA(1) == static_cast&lt;unsigned char&gt;('\r')) &amp;&amp;
	(LA(2) == static_cast&lt;unsigned char&gt;('\n')) &amp;&amp;
	((LA(3) &gt;= static_cast&lt;unsigned char&gt;('\3') &amp;&amp;
	LA(3) &lt;= static_cast&lt;unsigned char&gt;('\377'))) &amp;&amp;
	((LA(4) &gt;= static_cast&lt;unsigned char&gt;('\3')
	&amp;&amp; LA(4) &lt;= static_cast&lt;unsigned char&gt;('\377')))) {
	match(static_cast&lt;unsigned char&gt;('\r'));

etc.

As you can see the 'big' charVocabulary is in there. If this is not the
case for you then upgrade your antlr distro (didn't catch which one you are
using). Is it in there then maybe something goes wrong in the character
reading traject (the LA() method and below) it could be that some
characters are mangled in some cases by buggy standard functions. Make a
testfile with just a comment and the offending character and trace through
it.

&gt;<i> &gt; Notice the dots.  They are not part of the standard ascii character set.
</I>&gt;<i> &gt; When I try to parse this file using the java.g that is shipped in the CPP
</I>&gt;<i> &gt; examples I get the error message :&quot;unexpected char *&quot;.  I have the
</I>&gt;<i> &gt; charVocabulary set to charVocabulary = '\3'..'\377'.
</I>
Which compiler/platform are you on?

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">klaren at cs.utwente.nl</A> ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
 Time what is time - I wish I knew how to tell You why - It hurts to know -
          Aren't we machines - Time what is time - Unlock the door
               - And see the truth - Then time is time again
                From: 'Time what is Time' by Blind Guardian


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001213.html">[antlr-interest] Strange character Recognition. (C++ Only)
</A></li>
	<LI>Next message: <A HREF="001216.html">[antlr-interest] 2.7.a2 build issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1253">[ date ]</a>
              <a href="thread.html#1253">[ thread ]</a>
              <a href="subject.html#1253">[ subject ]</a>
              <a href="author.html#1253">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
