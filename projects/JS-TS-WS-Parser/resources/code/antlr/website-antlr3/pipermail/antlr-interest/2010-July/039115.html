<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest]	org.antlr.runtime.tree.RewriteEmptyStreamException
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%0A%09org.antlr.runtime.tree.RewriteEmptyStreamException&In-Reply-To=%3C4C34AFFD.2080709%40redhat.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039114.html">
   <LINK REL="Next"  HREF="039116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest]	org.antlr.runtime.tree.RewriteEmptyStreamException</H1>
    <B>Andrew Haley</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%0A%09org.antlr.runtime.tree.RewriteEmptyStreamException&In-Reply-To=%3C4C34AFFD.2080709%40redhat.com%3E"
       TITLE="[antlr-interest]	org.antlr.runtime.tree.RewriteEmptyStreamException">aph at redhat.com
       </A><BR>
    <I>Wed Jul  7 09:49:01 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="039114.html">[antlr-interest]	org.antlr.runtime.tree.RewriteEmptyStreamException
</A></li>
        <LI>Next message: <A HREF="039116.html">[antlr-interest]	org.antlr.runtime.tree.RewriteEmptyStreamException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39115">[ date ]</a>
              <a href="thread.html#39115">[ thread ]</a>
              <a href="subject.html#39115">[ subject ]</a>
              <a href="author.html#39115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/07/2010 05:42 PM, David Maier wrote:

&gt;<i> thanks for your quick reply Andrew. But shouldn't the following rule be
</I>&gt;<i> enough to make ANTRL aware of that it can be void:
</I>&gt;<i> 
</I>&gt;<i> sp_decls:  (sp_decl ';')* -&gt; (sp_decl)*;
</I>
That part is fine.  sp_block_content, however, don't know that sp_decls
might return a void result.

&gt;<i> I mean that the Kleene operator (*) means to also match the empty word,
</I>&gt;<i> right? So I think the following is true for rules named 'a', 'b' and 'c':
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> (1) My variant
</I>&gt;<i> 
</I>&gt;<i> a : b;
</I>&gt;<i> b : c*;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> with
</I>&gt;<i> 
</I>&gt;<i> c* := /*empty*/ | c+
</I>&gt;<i> 
</I>&gt;<i> and if I resolve it then 'a' means:
</I>&gt;<i> 
</I>&gt;<i> a: /*empty*/ | c+
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> (2) Your variant
</I>&gt;<i> 
</I>&gt;<i> a: b?;
</I>&gt;<i> b: c*;
</I>&gt;<i> 
</I>&gt;<i> with
</I>&gt;<i> 
</I>&gt;<i> b?:= /*empty*/ | b
</I>&gt;<i> 
</I>&gt;<i> b:= /*empty*/ | c+
</I>&gt;<i> 
</I>&gt;<i> and so
</I>&gt;<i> 
</I>&gt;<i> a:= /*empty*/ | /*empty*/ | c+ := /*empty*/ | c+
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> So you can see that both should mean the same. So is it a kind of ANTLR
</I>&gt;<i> issue that I would have to use the (?) operator here?
</I>
Did you try it?  If so, did it work?

The rewrite rules are not part of the formal grammar as such, and you may
need to do things you don't expect.

As to whether this is an ANTLR bug, I don't know.  I can't find anything
in the spec one way or the other.

Andrew.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039114.html">[antlr-interest]	org.antlr.runtime.tree.RewriteEmptyStreamException
</A></li>
	<LI>Next message: <A HREF="039116.html">[antlr-interest]	org.antlr.runtime.tree.RewriteEmptyStreamException
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39115">[ date ]</a>
              <a href="thread.html#39115">[ thread ]</a>
              <a href="subject.html#39115">[ subject ]</a>
              <a href="author.html#39115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
