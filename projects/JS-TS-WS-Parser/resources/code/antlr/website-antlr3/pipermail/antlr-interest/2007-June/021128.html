<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Problems with Antlr3 rewrite rules
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problems%20with%20Antlr3%20rewrite%20rules&In-Reply-To=%3C46669E27.7000503%40shmuelhome.mine.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021028.html">
   <LINK REL="Next"  HREF="021129.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Problems with Antlr3 rewrite rules</H1>
    <B>shmuel siegel</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problems%20with%20Antlr3%20rewrite%20rules&In-Reply-To=%3C46669E27.7000503%40shmuelhome.mine.nu%3E"
       TITLE="[antlr-interest] Problems with Antlr3 rewrite rules">antlr at shmuelhome.mine.nu
       </A><BR>
    <I>Wed Jun  6 04:44:39 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021028.html">[antlr-interest] Problems with Antlr3 rewrite rules
</A></li>
        <LI>Next message: <A HREF="021129.html">[antlr-interest] Problems with Antlr3 rewrite rules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21128">[ date ]</a>
              <a href="thread.html#21128">[ thread ]</a>
              <a href="subject.html#21128">[ subject ]</a>
              <a href="author.html#21128">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We've been told that this mail list is the triage for bug reports. This 
patient has been languishing in triage for three days. There hasn't even 
been any placebos offered. Has there been a specification change? Is 
there one or more bugs here? As I stated, I have a workaround for the 
first issue but none for the second issue.

I would really like to move up to the release version but these two 
issues are standing in my way. Can I get some help.

shmuel siegel wrote:
&gt;<i> It seems that the problems were introduced with the move to 
</I>&gt;<i> RewriteRuleSubtreeStream. I don't see any other substantive changes in 
</I>&gt;<i> the generated parser code.
</I>&gt;<i>
</I>&gt;<i> Shmuel Siegel wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have upgraded my production grammar from 3.0b6 to the release 
</I>&gt;&gt;<i> version. I am having two problems with the rewrite rules. Hopefully I 
</I>&gt;&gt;<i> just missed a specification change.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     * Problem 1: When I have subclauses that do rewrites, the final
</I>&gt;&gt;<i>       rewrite gets a null pointer exception. The following rule used
</I>&gt;&gt;<i>       to work but now throws an exception. I avoid the exception if I
</I>&gt;&gt;<i>       extract the parenthesized sub-rule and make it a named rule.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> assignEntityAttr:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>             (
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>                         thisNode-&gt;thisNode
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>                   |     symbolTableElement-&gt;symbolTableElement
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>                   |     positionalElement-&gt;positionalElement
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>             )
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>             '.' a='attr' op='=' attr=attrValue    
</I>&gt;&gt;<i>             -&gt; ^(ASSIGN[$op] ^($assignEntityAttr PROPERTY[$a]) $attr)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>             ;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     * Problem 2: Tree construction seems to have changed. I used to be
</I>&gt;&gt;<i>       able to write
</I>&gt;&gt;<i>           o ^($ent PROPERTY[$a]) where $ent was itself a tree. When I
</I>&gt;&gt;<i>             do it now, I keep the head of the $ent tree but its
</I>&gt;&gt;<i>             children are replaced by the PROPERTY token.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What has changed since b6?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Shmuel
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021028.html">[antlr-interest] Problems with Antlr3 rewrite rules
</A></li>
	<LI>Next message: <A HREF="021129.html">[antlr-interest] Problems with Antlr3 rewrite rules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21128">[ date ]</a>
              <a href="thread.html#21128">[ thread ]</a>
              <a href="subject.html#21128">[ subject ]</a>
              <a href="author.html#21128">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
