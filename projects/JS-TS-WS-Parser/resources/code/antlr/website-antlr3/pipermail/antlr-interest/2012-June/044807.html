<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Skipping sections of the input stream
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Skipping%20sections%20of%20the%20input%20stream&In-Reply-To=%3CD2A5C7470D67A54FACE86B838946D49D14E4733306%40NJ4MSGSCR02.markit.partners%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044806.html">
   <LINK REL="Next"  HREF="044808.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Skipping sections of the input stream</H1>
    <B>Burton Samograd</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Skipping%20sections%20of%20the%20input%20stream&In-Reply-To=%3CD2A5C7470D67A54FACE86B838946D49D14E4733306%40NJ4MSGSCR02.markit.partners%3E"
       TITLE="[antlr-interest] Skipping sections of the input stream">burton.samograd at markit.com
       </A><BR>
    <I>Thu Jun 28 14:11:07 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044806.html">[antlr-interest] Skipping sections of the input stream
</A></li>
        <LI>Next message: <A HREF="044808.html">[antlr-interest] UTF-8, charVocabulary in options in 3.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44807">[ date ]</a>
              <a href="thread.html#44807">[ thread ]</a>
              <a href="subject.html#44807">[ subject ]</a>
              <a href="author.html#44807">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I figured out a way to do what I was thinking using a chunk of code like so:

sectiona: SECTIONA name {
       if ($name.text-&gt;chars != expectedName) {
                      // consumeUntilSet for SECTIONA || SECTIONB
                      // throw SKIP_SECTION_EXCEPTION
      }
    }  LCURLY subsectiona* RCURLY -&gt; ...
     ;
    [ SKIP_SECTION_EXCEPTION] {
        PSRSTATE-&gt;error = ANTLR3_FALSE;
        PSRSTATE-&gt;failed = ANTLR3_FALSE;
    }

Sent to the list  for future reference.

--
Burton Samograd

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Burton Samograd
Sent: Thursday, June 28, 2012 10:34 AM
To: Mike Lischke
Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] Skipping sections of the input stream

I simplified my example and we actually have two top level section types which I think would greatly Increase the complexity of a splitter and require making a baby parser to parse quite a bit of the input structure before passing it to the actual parser.


Not an impossible task, but I think if it could be done completely in the grammar using the standard input stream it wouldn't create such a dependency between the baby parser and the actual parser unless you can suggest a better way to do the splitting.

--
Burton Samograd

-----Original Message-----
From: Mike Lischke [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">mike at lischke-online.de</A>]
Sent: Thursday, June 28, 2012 10:27 AM
To: Burton Samograd
Subject: Re: [antlr-interest] Skipping sections of the input stream


Burton,

&gt;<i> It has been requested that we only parse the section that has been
</I>&gt;<i> specified by the user.  I am thinking that a strategy where we have a rule like:
</I>&gt;<i>
</I>&gt;<i> section: SECTION quoted_string {
</I>&gt;<i>    // if quoted_string != requested_section
</I>&gt;<i>    // skip entire section by matching { and } parens
</I>&gt;<i>    }
</I>&gt;<i>    | SECTION quoted_string LCURLY subsection* RCURLY -&gt; ...
</I>&gt;<i>    ;
</I>&gt;<i>
</I>&gt;<i> First off, is what I would like to do possible and is my approach
</I>&gt;<i> reasonable using anltr?  If it is, can I skip over and discard large sections of the input stream like I have outlined above?
</I>

It might simplify things a lot (and make it much faster) if you would run your input through a splitter, which takes out anything unwanted and only feed the relevant text to the parser. Skipping over some text considering quotes etc. is simple stuff and can be extremely fast in a (relatively) simple loop.

Mike
--
www.soft-gems.net



This e-mail, including accompanying communications and attachments, is strictly confidential and only for the intended recipient. Any retention, use or disclosure not expressly authorised by Markit is prohibited. This email is subject to all waivers and other terms at the following link: <A HREF="http://www.markit.com/en/about/legal/email-disclaimer.page">http://www.markit.com/en/about/legal/email-disclaimer.page</A>

Please visit <A HREF="http://www.markit.com/en/about/contact/contact-us.page?">http://www.markit.com/en/about/contact/contact-us.page?</A> for contact information on our offices worldwide.

List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>

This e-mail, including accompanying communications and attachments, is strictly confidential and only for the intended recipient. Any retention, use or disclosure not expressly authorised by Markit is prohibited. This email is subject to all waivers and other terms at the following link: <A HREF="http://www.markit.com/en/about/legal/email-disclaimer.page">http://www.markit.com/en/about/legal/email-disclaimer.page</A>

Please visit <A HREF="http://www.markit.com/en/about/contact/contact-us.page?">http://www.markit.com/en/about/contact/contact-us.page?</A> for contact information on our offices worldwide.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044806.html">[antlr-interest] Skipping sections of the input stream
</A></li>
	<LI>Next message: <A HREF="044808.html">[antlr-interest] UTF-8, charVocabulary in options in 3.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44807">[ date ]</a>
              <a href="thread.html#44807">[ thread ]</a>
              <a href="subject.html#44807">[ subject ]</a>
              <a href="author.html#44807">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
