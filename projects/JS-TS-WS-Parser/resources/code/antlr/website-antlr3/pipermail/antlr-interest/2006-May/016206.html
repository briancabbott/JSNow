<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] executing actions during backtrack
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20executing%20actions%20during%20backtrack&In-Reply-To=EE2AE059-D1E8-4C30-A8E6-ED4C240FB808%40cs.usfca.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016205.html">
   <LINK REL="Next"  HREF="016207.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] executing actions during backtrack</H1>
    <B>Kay Roepke</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20executing%20actions%20during%20backtrack&In-Reply-To=EE2AE059-D1E8-4C30-A8E6-ED4C240FB808%40cs.usfca.edu"
       TITLE="[antlr-interest] executing actions during backtrack">kroepke at dolphin-services.de
       </A><BR>
    <I>Tue May  9 18:56:55 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016205.html">[antlr-interest] executing actions during backtrack
</A></li>
        <LI>Next message: <A HREF="016207.html">[antlr-interest] executing actions during backtrack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16206">[ date ]</a>
              <a href="thread.html#16206">[ thread ]</a>
              <a href="subject.html#16206">[ subject ]</a>
              <a href="author.html#16206">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 10. May 2006, at 3:28 Uhr, Terence Parr wrote:

&gt;<i> The action would be translated to:
</I>&gt;<i>
</I>&gt;<i> undoActions.add(new Action324(scope,$ID.text));
</I>&gt;<i>
</I>&gt;<i> Later we can walk undoActions and undo everything.
</I>&gt;<i>
</I>&gt;<i> Hmm...would this work?  Surely in this case.  The key is passing  
</I>&gt;<i> all necessary data to the undo as evaluated in its original context.
</I>
Yes, this should work in the general case, too, since if you supply  
the information and code necessary to undo the actions you have been  
executing,
there are no external dependencies and you're fine. Just hand it the  
proper undo object and call it later on if necessary. We could  
actually skip out
on reparsing and executing actions in this case to make up for the  
hassle you had to go through to set it up in the first place :)

This is exactly how the undo mechanism works in Apple's Cocoa  
framework. Guess it's modeled after the Command Execute pattern, too  
(or predates it or whatever,
who cares, it works...).

I'd like to see a close proximity between plain actions and @undo  
actions though, otherwise more complicated grammars could be pretty  
hard to grok. But maybe
that's simply a requirement for a good editor to visually indicate  
something fancy going on in that rule. I like the @undo name.

-k
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016205.html">[antlr-interest] executing actions during backtrack
</A></li>
	<LI>Next message: <A HREF="016207.html">[antlr-interest] executing actions during backtrack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16206">[ date ]</a>
              <a href="thread.html#16206">[ thread ]</a>
              <a href="subject.html#16206">[ subject ]</a>
              <a href="author.html#16206">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
