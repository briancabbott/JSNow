<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] mild simplification and tree grammars
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20mild%20simplification%20and%20tree%20grammars&In-Reply-To=%3C20100420134630.GF18833%40internode.on.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038378.html">
   <LINK REL="Next"  HREF="038397.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] mild simplification and tree grammars</H1>
    <B>Mark Wright</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20mild%20simplification%20and%20tree%20grammars&In-Reply-To=%3C20100420134630.GF18833%40internode.on.net%3E"
       TITLE="[antlr-interest] mild simplification and tree grammars">markwright at internode.on.net
       </A><BR>
    <I>Tue Apr 20 06:46:30 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="038378.html">[antlr-interest] mild simplification and tree grammars
</A></li>
        <LI>Next message: <A HREF="038397.html">[antlr-interest] mild simplification and tree grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38379">[ date ]</a>
              <a href="thread.html#38379">[ thread ]</a>
              <a href="subject.html#38379">[ subject ]</a>
              <a href="author.html#38379">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Apr 20, 2010 at 03:21:00PM +0200, Giampaolo Tomassoni wrote:
&gt;<i> &gt; Oops, I see placed the { after the $ earlier, where it should
</I>&gt;<i> &gt; be outside the $paramater, like {$parameter}, as in:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; protected
</I>&gt;<i> &gt; conditionalExpression[CommonTree TheActualASTRoot]
</I>&gt;<i> &gt;     :   QMARK t=expression COMMA f=expression
</I>&gt;<i> &gt;             -&gt; ^(ITE {$TheActualASTRoot} $t $f)
</I>&gt;<i> &gt;     |
</I>&gt;<i> &gt;     ;
</I>&gt;<i> 
</I>&gt;<i> Ah, that's it!
</I>&gt;<i> 
</I>&gt;<i> Right, it works. Thank you.
</I>&gt;<i> 
</I>&gt;<i> I'm a bit astonished with that, then: why a {$var} notation is needed here?
</I>&gt;<i> What's the difference with $t and $f, in example?
</I>&gt;<i> 
</I>&gt;<i> Giampaolo
</I>
There are subtle differences in syntax depending on the context
of the variable, and in this case whether it is a parameter or not.

Another extension of the example shows another ANTLR feature,
with associated subtle syntax.  Say the conditionalExpression
was being called with TheActualASTRoot being optional, then
ANTLR supports this with semantic predicates on the tree generation
options:

protected
conditionalExpression[CommonTree TheActualASTRoot]
    :   QMARK t=expression COMMA f=expression
            -&gt; {(TheActualASTRoot != null)}? ^(ITE {$TheActualASTRoot} $t $f)
            -&gt; {(TheActualASTRoot == null)}? ^(ITE $t $f)
            -&gt;
    |
    ;

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038378.html">[antlr-interest] mild simplification and tree grammars
</A></li>
	<LI>Next message: <A HREF="038397.html">[antlr-interest] mild simplification and tree grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38379">[ date ]</a>
              <a href="thread.html#38379">[ thread ]</a>
              <a href="subject.html#38379">[ subject ]</a>
              <a href="author.html#38379">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
