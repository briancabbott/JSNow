<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Unicode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Unicode&In-Reply-To=003001c625a5%2428633660%24640fa8c0%40ssdev1">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015238.html">
   <LINK REL="Next"  HREF="015250.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Unicode</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Unicode&In-Reply-To=003001c625a5%2428633660%24640fa8c0%40ssdev1"
       TITLE="[antlr-interest] Unicode">ric.klaren at gmail.com
       </A><BR>
    <I>Mon Jan 30 06:49:13 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="015238.html">[antlr-interest] Unicode
</A></li>
        <LI>Next message: <A HREF="015250.html">[antlr-interest] Unicode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15239">[ date ]</a>
              <a href="thread.html#15239">[ thread ]</a>
              <a href="subject.html#15239">[ subject ]</a>
              <a href="author.html#15239">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Don,

On 1/30/06, Don Caton &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">dcaton at shorelinesoftware.com</A>&gt; wrote:
&gt;<i> I know the subject of Unicode comes up now and again, but it seems to me
</I>&gt;<i> that at best, the offered solutions are a hack.
</I>
I've heart of a few cases of at least some success with the approach
from the unicode example. (Still some trouble with string literal
testing)

&gt;<i> It seems that it would be difficult, it not impossible to create a Unicode
</I>&gt;<i> parser and lexer from Antlr, given the way it currently generates code (I'm
</I>&gt;<i> talking specifically about C++ output here).
</I>&gt;<i>
</I>&gt;<i> The C++ code generator insists on using string, rather than a typedef or
</I>&gt;<i> #define that could be set to string or wstring.  And throughout the
</I>&gt;<i> generated code as well as the static code, char * is assumed rather than
</I>&gt;<i> TCHAR *, single byte literal strings are used, etc. etc.
</I>
The string/wstring thing can be solved to some extent with the unicode
examples approach. For general unicode support it's probably easiest
(and most portable) to build on top of ICU.
When working on the unicode example I tried to fix some issues with
the codegenerator. If more is needed I can give a hand (if time
permits)

&gt;<i> What's the rationale for this?
</I>
I don't think any rationale, it's old code ;) Although the standard
tools/libs provided for C++ to do unicode-ish things seem to be not
very standard across various compiler implementations, so that may
have been a reason not to bother. I came to be C++ maintainer at a
later point in time so no idea.

&gt;<i> Is there something obvious I'm overlooking?
</I>
I'm not sure if you've seen the latest unicode example, it provides a
framework (although you need to fill in some blanks) on how to get a
unicode stream read through the lexer and packaged up again for the
parser. I did not investigate in how far it can be made to play nice
with the AST stuff. There's not really a standard way on how unicode
is handled in C++ e.g. dealing with encodings from files on disk. I'm
not even sure if it is standardized how a wide string constant is
encoded (I thought it was implementation dependent but not 100% sure
from the top of my head).

&gt;<i> Unicode isn't exactly a new concept.  Why are we limited to the relatively
</I>&gt;<i> ancient world of 7 or 8 bit character sets?
</I>
I hope to do better for the support lib for antlr3 (through the use of
templates it will be easier to plug stuff in but I'll probably
standardize on ICU (next to old school 8-bit)).

&gt;<i> It seems to me that a few typedefs or #defines would make creating true
</I>&gt;<i> Unicode lexers and parsers a no-brainer and wouldn't break anything for
</I>&gt;<i> those who still need ansi parsers.
</I>
If you can provide sane patches to do this I'm happy to incorporate
them in antlr2.

Cheers,

Ric
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015238.html">[antlr-interest] Unicode
</A></li>
	<LI>Next message: <A HREF="015250.html">[antlr-interest] Unicode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15239">[ date ]</a>
              <a href="thread.html#15239">[ thread ]</a>
              <a href="subject.html#15239">[ subject ]</a>
              <a href="author.html#15239">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
