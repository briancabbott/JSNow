<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] use channel=HIDDEN now
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20use%20channel%3DHIDDEN%20now&In-Reply-To=3E033907-A37F-4F82-90B0-3D8FB95475CF%40classdump.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017975.html">
   <LINK REL="Next"  HREF="017970.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] use channel=HIDDEN now</H1>
    <B>Kay Roepke</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20use%20channel%3DHIDDEN%20now&In-Reply-To=3E033907-A37F-4F82-90B0-3D8FB95475CF%40classdump.org"
       TITLE="[antlr-interest] use channel=HIDDEN now">kroepke at classdump.org
       </A><BR>
    <I>Tue Oct 17 03:56:20 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017975.html">[antlr-interest] use channel=HIDDEN now
</A></li>
        <LI>Next message: <A HREF="017970.html">[antlr-interest] best method of outputting multiple templates from	AST?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17977">[ date ]</a>
              <a href="thread.html#17977">[ thread ]</a>
              <a href="subject.html#17977">[ subject ]</a>
              <a href="author.html#17977">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ohh, afterthoughts, as soon as you send a mail ideas rush to your  
brain...

On Oct 17, 2006, at 12:39 PM, Kay Roepke wrote:

&gt;<i> 	tokenStream.channelOverrideMap.put(new Integer(YourLexerClass.WS),  
</I>&gt;<i> new Integer(Token.DEFAULT_CHANNEL));
</I>
Fix: This must be:
	tokenStream.setTokenTypeChannel(YourLexerClass.WS,  
Token.DEFAULT_CHANNEL);
otherwise the channelOverrideMap will not be created. Doh!


&gt;<i> This is more of a hack, of course, but this way you don't have to  
</I>&gt;<i> manually specify every single tokentype in the channelOverrideMap.
</I>
Clarification: This should read: &quot;[...] manually specify every single  
tokentype not on the default channel in the channelOverrideMap.&quot;

Enhancement idea:
It might be useful to add a method to CommonTokenStream to make it  
override whole channels, not only based on tokentypes. With this you  
could say
	CommonTokenStream tokenStream = new CommonTokenStream(lexer);
	tokenStream.setChannelRedirection(Token.HIDDEN_CHANNEL,  
Token.DEFAULT_CHANNEL);

Maybe this rather should go into TokenRewriteStream, not sure.

-k, who has a rather severe lack of coffee today.



</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017975.html">[antlr-interest] use channel=HIDDEN now
</A></li>
	<LI>Next message: <A HREF="017970.html">[antlr-interest] best method of outputting multiple templates from	AST?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17977">[ date ]</a>
              <a href="thread.html#17977">[ thread ]</a>
              <a href="subject.html#17977">[ subject ]</a>
              <a href="author.html#17977">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
