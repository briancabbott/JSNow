<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Combining Tokens with rewrite rules
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Combining%20Tokens%20with%20rewrite%20rules&In-Reply-To=%3CBANLkTik67qP3_TkS7%3Dn%2B_TFkrf4vaA_T5Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041835.html">
   <LINK REL="Next"  HREF="041838.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Combining Tokens with rewrite rules</H1>
    <B>Ben Corne</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Combining%20Tokens%20with%20rewrite%20rules&In-Reply-To=%3CBANLkTik67qP3_TkS7%3Dn%2B_TFkrf4vaA_T5Q%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Combining Tokens with rewrite rules">ben.corne at gmail.com
       </A><BR>
    <I>Thu Jun 16 05:54:34 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="041835.html">[antlr-interest] C Target - Where is it safe to switch input	streams?
</A></li>
        <LI>Next message: <A HREF="041838.html">[antlr-interest] AST Walking and Thread Safety
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41836">[ date ]</a>
              <a href="thread.html#41836">[ thread ]</a>
              <a href="subject.html#41836">[ subject ]</a>
              <a href="author.html#41836">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

I've read some other threads about combining tokens in rewrite rules but I
don't think it's what I need (
<A HREF="http://www.antlr.org/pipermail/antlr-interest/2007-November/024612.html">http://www.antlr.org/pipermail/antlr-interest/2007-November/024612.html</A> and
the one referenced in this thread).

---abstract tokens---
@tokens {
  AGKEYSTRING;
}
----tokens--------------
NAME : 'a'..'z'+ ;
KEY    : NAME ':' ;
----------------------------

I need to parse keyworded messages and want to combine KEY tokens into
AGKEYSTRING or not depending on which context the keywords are given in:

1) &amp;foo:bar: // references to the keyword function definition 'foo:bar:' =&gt;
combine
2) foo: 1 bar: 2 // application of  'foo:bar:' =&gt; don't combine
3) foo:bar:(1,2) // canonical application of the 'foo:bar:' function =&gt;
combine
4) foo:bar:2 // application of 'foo:' on argument &quot;application of 'bar: 1' &quot;
=&gt; don't combine

I believe in my grammar file I cannot succeed in doing this with fragment
tokens &amp; regular tokens.
Combining the tokens with Java code is my current solution but this is bad
for using the same grammar for other bindings, which is one of the reasons
I'm making the parser with antlr.

Any ideas?

Regards
Ben C;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041835.html">[antlr-interest] C Target - Where is it safe to switch input	streams?
</A></li>
	<LI>Next message: <A HREF="041838.html">[antlr-interest] AST Walking and Thread Safety
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41836">[ date ]</a>
              <a href="thread.html#41836">[ thread ]</a>
              <a href="subject.html#41836">[ subject ]</a>
              <a href="author.html#41836">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
