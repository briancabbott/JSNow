<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] How to combine tokens around comments without using AST
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20How%20to%20combine%20tokens%20around%20comments%20without%0A%20using%20AST&In-Reply-To=%3CCAN45N116rt8pO1CC4vvZ0Ja8ZCyiAHUe9aJ25jLTG3uuTWOcyQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044526.html">
   <LINK REL="Next"  HREF="044531.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] How to combine tokens around comments without using AST</H1>
    <B>Eric</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20How%20to%20combine%20tokens%20around%20comments%20without%0A%20using%20AST&In-Reply-To=%3CCAN45N116rt8pO1CC4vvZ0Ja8ZCyiAHUe9aJ25jLTG3uuTWOcyQ%40mail.gmail.com%3E"
       TITLE="[antlr-interest] How to combine tokens around comments without using AST">researcher0x00 at gmail.com
       </A><BR>
    <I>Wed Apr 25 04:06:38 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044526.html">[antlr-interest] How to combine tokens around comments without	using AST
</A></li>
        <LI>Next message: <A HREF="044531.html">[antlr-interest] How to combine tokens around comments without using AST
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44528">[ date ]</a>
              <a href="thread.html#44528">[ thread ]</a>
              <a href="subject.html#44528">[ subject ]</a>
              <a href="author.html#44528">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jim,

Off the top of my head.

Use the TokenRewriteStream class after the lexer.

Don't hide the comment tokens. Use them as input to the TokenRewriteStream
and then when you see a comment token, delete it and combine the text from
the tokens before and after the comment into the token before the comment,
and delete the token after the comment.

Eric
On Wed, Apr 25, 2012 at 6:34 AM, Jamal Haider &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">syedjamalhaider at gmail.com</A>&gt;wrote:

&gt;<i> I am a newbie to ANTLR and using it to develop a parser for an ambiguous
</I>&gt;<i> language. What I want to do is to some how combine the tokens around the
</I>&gt;<i> &quot;comments&quot; into one token without using AST.
</I>&gt;<i>
</I>&gt;<i> I am using this simple grammar to illustrate the problem
</I>&gt;<i>
</I>&gt;<i> grammar test;
</I>&gt;<i>
</I>&gt;<i> query
</I>&gt;<i>    :     expression+
</I>&gt;<i>    ;
</I>&gt;<i>
</I>&gt;<i> expression
</I>&gt;<i>    :   alpha
</I>&gt;<i>    ;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> alpha
</I>&gt;<i>    : ID
</I>&gt;<i>    ;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ID  :   ('a'..'z'|'A'..'Z'|'_')*
</I>&gt;<i>    ;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> COMMENT
</I>&gt;<i>    :   '{' ( options {greedy=false;} : . )* '}' {$channel=HIDDEN;}
</I>&gt;<i>    ;
</I>&gt;<i>
</I>&gt;<i> Now if we execute it with a simple text &quot;Test{Comments}er&quot; two separate
</I>&gt;<i> tokens are generated i.e. &quot;Test&quot; and &quot;er&quot;. while I want to create a single
</I>&gt;<i> token out of it. Any help will be much appreciated.
</I>&gt;<i>
</I>&gt;<i> Thanks in advance
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I></PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044526.html">[antlr-interest] How to combine tokens around comments without	using AST
</A></li>
	<LI>Next message: <A HREF="044531.html">[antlr-interest] How to combine tokens around comments without using AST
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44528">[ date ]</a>
              <a href="thread.html#44528">[ thread ]</a>
              <a href="subject.html#44528">[ subject ]</a>
              <a href="author.html#44528">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
