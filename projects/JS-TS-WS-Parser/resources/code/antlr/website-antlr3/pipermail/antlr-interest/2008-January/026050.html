<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer rule problem - ANTLR 2.7.7
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20rule%20problem%20-%20ANTLR%202.7.7&In-Reply-To=%3COFA049176D.097306D0-ON802573E1.00523140-802573E1.005B34F2%40jpmchase.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025837.html">
   <LINK REL="Next"  HREF="026052.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer rule problem - ANTLR 2.7.7</H1>
    <B>clive.i.hill at jpmorgan.com</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20rule%20problem%20-%20ANTLR%202.7.7&In-Reply-To=%3COFA049176D.097306D0-ON802573E1.00523140-802573E1.005B34F2%40jpmchase.com%3E"
       TITLE="[antlr-interest] Lexer rule problem - ANTLR 2.7.7">clive.i.hill at jpmorgan.com
       </A><BR>
    <I>Thu Jan 31 08:36:13 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025837.html">[antlr-interest]  Throwing custom exception
</A></li>
        <LI>Next message: <A HREF="026052.html">[antlr-interest] Lexer rule problem - ANTLR 2.7.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26050">[ date ]</a>
              <a href="thread.html#26050">[ thread ]</a>
              <a href="subject.html#26050">[ subject ]</a>
              <a href="author.html#26050">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have a lexer rule that is meant to match a range of integers or numbers 
in the following style format:

5800:6000
or
1.8:2.0

The lexer rule I have for this is given by:

protected
RANGE 
    : (INT | FLOAT) COLON (INT | FLOAT)
    ;

where INT,FLOAT, DIGIT, DOT and COLON are given at the end of this email.


When I run my parser against the grammar file (attached) with the 
following string:

&quot;ftse dec 5800:6000 c&quot;

I get the following exception:


antlr.TokenStreamRecognitionException: expecting '.', found ':'

This is because the lexer is attempting to parse a RANGE token correctly, 
but is expecting a FLOAT.  My RANGE lexer rule,, it seems to me, should 
check for an INT or  a FLOAT.

This rule seems very uncomplicated, so I can't tell why it is going wrong. 
 Can anyone provide any suggestions?


Thanks in advance,

Clive




protected
FLOAT 
    : DOT INT
    | INT DOT (DIGIT)*
    ;

protected
INT 
    : (DIGIT)+ 
    ;

protected
DIGIT 
    : '0' .. '9'
    ;

COLON
        : ':'
        ;

protected
DOT 
    : '.'
    ;




Generally, this communication is for informational purposes only
and it is not intended as an offer or solicitation for the purchase
or sale of any financial instrument or as an official confirmation
of any transaction. In the event you are receiving the offering
materials attached below related to your interest in hedge funds or
private equity, this communication may be intended as an offer or
solicitation for the purchase or sale of such fund(s).  All market
prices, data and other information are not warranted as to
completeness or accuracy and are subject to change without notice.
Any comments or statements made herein do not necessarily reflect
those of JPMorgan Chase &amp; Co., its subsidiaries and affiliates.

This transmission may contain information that is privileged,
confidential, legally privileged, and/or exempt from disclosure
under applicable law. If you are not the intended recipient, you
are hereby notified that any disclosure, copying, distribution, or
use of the information contained herein (including any reliance
thereon) is STRICTLY PROHIBITED. Although this transmission and any
attachments are believed to be free of any virus or other defect
that might affect any computer system into which it is received and
opened, it is the responsibility of the recipient to ensure that it
is virus free and no responsibility is accepted by JPMorgan Chase &amp;
Co., its subsidiaries and affiliates, as applicable, for any loss
or damage arising in any way from its use. If you received this
transmission in error, please immediately contact the sender and
destroy the material in its entirety, whether in electronic or hard
copy format. Thank you.
Please refer to <A HREF="http://www.jpmorgan.com/pages/disclosures">http://www.jpmorgan.com/pages/disclosures</A> for
disclosures relating to UK legal entities.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080131/ae884b7e/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080131/ae884b7e/attachment-0001.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: strategy.g.zip
Type: application/zip
Size: 4987 bytes
Desc: not available
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080131/ae884b7e/attachment-0001.zip">http://www.antlr.org/pipermail/antlr-interest/attachments/20080131/ae884b7e/attachment-0001.zip</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025837.html">[antlr-interest]  Throwing custom exception
</A></li>
	<LI>Next message: <A HREF="026052.html">[antlr-interest] Lexer rule problem - ANTLR 2.7.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26050">[ date ]</a>
              <a href="thread.html#26050">[ thread ]</a>
              <a href="subject.html#26050">[ subject ]</a>
              <a href="author.html#26050">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
