<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Value passed to String based rule parameter has	spaces inserted after commas.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Value%20passed%20to%20String%20based%20rule%20parameter%20has%0A%09spaces%20inserted%20after%20commas.&In-Reply-To=%3CC2C6C846.140AE%25sam.ellis%40arm.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022665.html">
   <LINK REL="Next"  HREF="022671.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Value passed to String based rule parameter has	spaces inserted after commas.</H1>
    <B>Sam Ellis</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Value%20passed%20to%20String%20based%20rule%20parameter%20has%0A%09spaces%20inserted%20after%20commas.&In-Reply-To=%3CC2C6C846.140AE%25sam.ellis%40arm.com%3E"
       TITLE="[antlr-interest] Value passed to String based rule parameter has	spaces inserted after commas.">sam.ellis at arm.com
       </A><BR>
    <I>Fri Jul 20 12:15:02 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="022665.html">[antlr-interest] Matching all &quot;other&quot; text
</A></li>
        <LI>Next message: <A HREF="022671.html">[antlr-interest] Value passed to String based rule parameter	has spaces inserted after commas.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22666">[ date ]</a>
              <a href="thread.html#22666">[ thread ]</a>
              <a href="subject.html#22666">[ subject ]</a>
              <a href="author.html#22666">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've using ANTLR Version 3.0 (May 17, 2007). I have found that quoted
strings passed to String-based rules in my grammar are having extra spaces
inserted into the string when it appears in the generated parser code.
Specifically, if the string in my grammar contains a comma, then a space is
inserted after the comma in the resulting code. Here is an example:

grammar Fruit;

options {
    language=Java;
}

fruit[String allowedFruit]
    :    NAME { System.out.println(allowedFruit);}
    ;

bowl
    : fruit[&quot;apple,orange&quot;]
    ;

NAME    :    ('a' .. 'z')+
    ;

The code that is generated contains:

            // /Users/samellis/Fruit.g:12:7: ( fruit[\&quot;apple,orange\&quot;] )
            // /Users/samellis/Fruit.g:12:7: fruit[\&quot;apple,orange\&quot;]
...
            fruit(&quot;apple, orange&quot;);

So you can see that a space has appeared in the generated code (not in the
comments though). Bug in ANTLR perhaps?


-- 
Sam Ellis, RVDK Team Leader,
DevSys Product Engineering Group,          Tel: +44 (0) 1223 400516
ARM Ltd., 110 Fulbourn Road,               Fax: +44 (0) 1223 400887
Cambridge, CB1 9NJ                         mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">Sam.Ellis at arm.com</A>



-- 
IMPORTANT NOTICE: The contents of this email and any attachments are confidential and may also be privileged. If you are not the intended recipient, please notify the sender immediately and do not disclose the contents to any other person, use it for any purpose, or store or copy the information in any medium.  Thank you.


</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022665.html">[antlr-interest] Matching all &quot;other&quot; text
</A></li>
	<LI>Next message: <A HREF="022671.html">[antlr-interest] Value passed to String based rule parameter	has spaces inserted after commas.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22666">[ date ]</a>
              <a href="thread.html#22666">[ thread ]</a>
              <a href="subject.html#22666">[ subject ]</a>
              <a href="author.html#22666">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
