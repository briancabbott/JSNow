<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] List Label (+=) without specifying grammar output
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20List%20Label%20%28%2B%3D%29%20without%20specifying%20grammar%20output&In-Reply-To=%3C774038.76020.qm%40web52709.mail.re2.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021092.html">
   <LINK REL="Next"  HREF="021084.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] List Label (+=) without specifying grammar output</H1>
    <B>Conrad Benham</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20List%20Label%20%28%2B%3D%29%20without%20specifying%20grammar%20output&In-Reply-To=%3C774038.76020.qm%40web52709.mail.re2.yahoo.com%3E"
       TITLE="[antlr-interest] List Label (+=) without specifying grammar output">cfbenham at yahoo.com.au
       </A><BR>
    <I>Tue Jun  5 05:24:19 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021092.html">[antlr-interest] ANTLRWorks tutorial
</A></li>
        <LI>Next message: <A HREF="021084.html">[antlr-interest] List Label (+=) without specifying grammar	output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21074">[ date ]</a>
              <a href="thread.html#21074">[ thread ]</a>
              <a href="subject.html#21074">[ subject ]</a>
              <a href="author.html#21074">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

 

I'm  having  difficulty in collecting recurring parameters  using the list label operator (+=). I have a tree walker that is walking an  AST.  There is an expression (expr) rule that can have  multiple expressions as parameters (yes, it is a recursive grammar). For  example, the abbreviated form of the (Java-based) tree walking grammar looks like  this: 



tree grammar TreeWalker;

options {

    tokenVocab=SampleGrammar;

    ASTLabelType=CommonTree;

}



expr returns (Object value)

  : ^(word=TOKEN args+=expr*)   {value =  javaObject.evaluate($word, $args);}

  ;  



As can be seen no output is specified in the   grammar options directives section. When generating this,  ANTLR  reports the grammar does not have the output  option specified for 'args'. The exact error is: rule '+=' list labels are not  allowed w/o output option: args I believe this error is emitted when no output is specified and a rule only returns a single value.
 

  From reading the thread: <A HREF="http://www.antlr.org/pipermail/antlr-interest/2007-April/020070.html">http://www.antlr.org/pipermail/antlr-interest/2007-April/020070.html</A> it seems that list labels are  geared at collecting tokens as opposed to the result of evaluating  rules. Is it really ambiguous to collect the result of expr in a collection using list labels (+=), as discussed in the above-mentioned thread?  What is the recommended approach to collecting multiple return values in this case? 

 Thanks,

 Conrad




      
_________________________________________________________________________________              

How would you spend $50,000 to create a more sustainable environment in Australia? Go to Yahoo!7 Answers and share your idea.
<A HREF="http://advision.webevents.yahoo.com/aunz/lifestyle/answers/y7ans-babp_reg.html">http://advision.webevents.yahoo.com/aunz/lifestyle/answers/y7ans-babp_reg.html</A>



</PRE>


































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021092.html">[antlr-interest] ANTLRWorks tutorial
</A></li>
	<LI>Next message: <A HREF="021084.html">[antlr-interest] List Label (+=) without specifying grammar	output
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21074">[ date ]</a>
              <a href="thread.html#21074">[ thread ]</a>
              <a href="subject.html#21074">[ subject ]</a>
              <a href="author.html#21074">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
