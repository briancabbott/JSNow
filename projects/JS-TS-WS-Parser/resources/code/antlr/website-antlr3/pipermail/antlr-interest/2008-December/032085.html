<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Progressive Slowdown in Parsing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Progressive%20Slowdown%20in%20Parsing&In-Reply-To=%3CCOL101-DS1004514CB576FDB8D61C8FB3EF0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032081.html">
   <LINK REL="Next"  HREF="032086.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Progressive Slowdown in Parsing</H1>
    <B>A. Saake</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Progressive%20Slowdown%20in%20Parsing&In-Reply-To=%3CCOL101-DS1004514CB576FDB8D61C8FB3EF0%40phx.gbl%3E"
       TITLE="[antlr-interest] Progressive Slowdown in Parsing">asaake at hotmail.de
       </A><BR>
    <I>Mon Dec 22 01:54:20 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="032081.html">[antlr-interest] antlr.org, stringtemplate.org
</A></li>
        <LI>Next message: <A HREF="032086.html">[antlr-interest] Progressive Slowdown in Parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32085">[ date ]</a>
              <a href="thread.html#32085">[ thread ]</a>
              <a href="subject.html#32085">[ subject ]</a>
              <a href="author.html#32085">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm new to ANTLR, but with support of the &quot;The Definitive Reference ...&quot;, the great tool ANTRLWorks and much optimism I got all problems solved, so far. 
ANTLR is a very impressive tool and probably will help me to migrate legacy 4GL code to C#, as I hope.

But now I'm facing a problem, where help would be very appreciated !

I'm converting a 4GL &quot;local function&quot; with 3500 lines of code, mainly constisting of assignments (SET ... TO ...), simple IF's and embedded SQL Selects. This means, there are many flat, not deep statements.

The first 2000 lines can be processed in under 1 min. If I parse the whole script, time increases to 15 minutes. For a correct migration of this script (it's an include file), I would have to embed it into another 3500 lines code script, and I'm afraid that it will need a very long time. Because of the variable system of the 4GL (declaration of variables is not necessary, so there's no scope, I have to estimate it from context), I will have to run it many times.

To find out, if the slowdown is from my grammar, I tried lot's of syntactic predicates and so on, until I used a profiler, which names GetKindOfOps as responsible for nearly 80% of the runtime. 

My grammar is a combined lexer and parser, output is template and I use the token rewrite mechanism.

Can you give me a hint, what I can do for more speed? 
Would building an output tree and then generating templates be faster?

Many thanks in advance !

Andreas 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20081222/160861e6/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20081222/160861e6/attachment.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032081.html">[antlr-interest] antlr.org, stringtemplate.org
</A></li>
	<LI>Next message: <A HREF="032086.html">[antlr-interest] Progressive Slowdown in Parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32085">[ date ]</a>
              <a href="thread.html#32085">[ thread ]</a>
              <a href="subject.html#32085">[ subject ]</a>
              <a href="author.html#32085">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
