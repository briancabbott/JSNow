<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Syntaxerror not found if first symbol is wrong
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Syntaxerror%20not%20found%20if%20first%20symbol%20is%20wrong&In-Reply-To=%3C489F131C.1090601%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029800.html">
   <LINK REL="Next"  HREF="029805.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Syntaxerror not found if first symbol is wrong</H1>
    <B>Oliver B. Fischer</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Syntaxerror%20not%20found%20if%20first%20symbol%20is%20wrong&In-Reply-To=%3C489F131C.1090601%40gmx.de%3E"
       TITLE="[antlr-interest] Syntaxerror not found if first symbol is wrong">o.b.fischer at gmx.de
       </A><BR>
    <I>Sun Aug 10 09:11:08 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029800.html">[antlr-interest] ANTLRv3: How to get the parser traces as in	ANTLR v2.X without using the DEbugSocketProxxy??
</A></li>
        <LI>Next message: <A HREF="029805.html">[antlr-interest] Syntaxerror not found if first symbol is wrong
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29801">[ date ]</a>
              <a href="thread.html#29801">[ thread ]</a>
              <a href="subject.html#29801">[ subject ]</a>
              <a href="author.html#29801">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hello,

my grammar is not able to recognize an syntax error if already the first
~ symbol found is not an expected one:

My grammar looks like this:

INT : 'int' ;

ID : ('a'..'z')+ ;

WS : (' '|'\t'|'\n'|'\r')+ { $channel=HIDDEN; };

program : (a b ';')+ ;

a : INT ;

b : ID ;

So, any valid input must start with 'int', but if the first symbol found
by the lexer is an ID, the generated parser does not recognize the error.

ANTLR generates the following code:
public final void program() throws RecognitionException {
~  try {
~    {
~      int cnt1 = 0;
~      loop1:
~      do {
~        int alt1 = 2;
~        int LA1_0 = input.LA(1);

~        if ((LA1_0 == INT)) {
~          alt1 = 1;
~        }


~        switch (alt1) {
~          case 1: {
~            pushFollow(FOLLOW_a_in_program154);
~            a();
~            _fsp--;

~            pushFollow(FOLLOW_b_in_program156);
~            b();
~            _fsp--;

~            match(input, SEM, FOLLOW_SEM_in_program158);

~          }
~          break;

~          default:
~            if (cnt1 &gt;= 1) break loop1;
~            EarlyExitException eee =
~                    new EarlyExitException(1, input);
~            throw eee;
~        }
~        cnt1++;
~      } while (true);


~    }

~  }

~  catch (RecognitionException e) {
~    throw e;
~  }
~  finally {
~  }
~  return;
}

So, the ID token falls through the switch-statement. How can I avoid this?

Thank you for your help!

Bye

Oliver



- --
Oliver B. Fischer, Sch&#246;nhauser Allee 64, 10437 Berlin
Tel. +49 30 44793251, Mobil: +49 178 7903538
Mail: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">o.b.fischer at gmx.de</A> Blog: <A HREF="http://www.sw-blog.net">http://www.sw-blog.net</A>
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.8 (MingW32)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iEYEARECAAYFAkifExsACgkQbyc4N0PdoAxl+wCgnsLC4BF3d8+BJP049F7w0KoT
F78AoM3aS4yRPVvnVNLTas0ynMXQ1Ul+
=4EvS
-----END PGP SIGNATURE-----
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029800.html">[antlr-interest] ANTLRv3: How to get the parser traces as in	ANTLR v2.X without using the DEbugSocketProxxy??
</A></li>
	<LI>Next message: <A HREF="029805.html">[antlr-interest] Syntaxerror not found if first symbol is wrong
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29801">[ date ]</a>
              <a href="thread.html#29801">[ thread ]</a>
              <a href="subject.html#29801">[ subject ]</a>
              <a href="author.html#29801">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
