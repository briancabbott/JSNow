<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Documenting grammars
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Documenting%20grammars&In-Reply-To=%3C49C80E50.8040500%40lancaster.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033607.html">
   <LINK REL="Next"  HREF="033609.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Documenting grammars</H1>
    <B>Sam Barnett-Cormack</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Documenting%20grammars&In-Reply-To=%3C49C80E50.8040500%40lancaster.ac.uk%3E"
       TITLE="[antlr-interest] Documenting grammars">s.barnett-cormack at lancaster.ac.uk
       </A><BR>
    <I>Mon Mar 23 15:33:52 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033607.html">[antlr-interest] Documenting grammars
</A></li>
        <LI>Next message: <A HREF="033609.html">[antlr-interest] Documenting grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33608">[ date ]</a>
              <a href="thread.html#33608">[ thread ]</a>
              <a href="subject.html#33608">[ subject ]</a>
              <a href="author.html#33608">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dennis Brothers wrote:
&gt;<i> On Mar 23, 2009, at 2:23 PM, Sam Barnett-Cormack wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Sam Harwell wrote:
</I>&gt;&gt;&gt;<i> Why not create our own format that properly describes grammars?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> We could group them by the Tokens file they reference to cover
</I>&gt;&gt;&gt;<i> lexer/parser/tree parser combinations. Documentation could include
</I>&gt;&gt;&gt;<i> formatted/highlighted rule text, comments, DFA statistics, and
</I>&gt;&gt;&gt;<i> thumbnails of the various rule diagrams linked to full-size versions.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Sam (Harwell)
</I>&gt;&gt;<i> The way I see it, right now, there's two options to get the minimum  
</I>&gt;&gt;<i> I'd
</I>&gt;&gt;<i> like to see:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1) Scratch-written system to document anything, flexibly enough to  
</I>&gt;&gt;<i> allow
</I>&gt;&gt;<i> various different terminologies (appropriate to OOP, grammars,  
</I>&gt;&gt;<i> whatever)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2) Scratch-written grammar documenting system, allowing focus on good
</I>&gt;&gt;<i> documentation of grammars and including the stuff that Sam H talks  
</I>&gt;&gt;<i> about
</I>&gt;&gt;<i> (configurably, of course).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Option (2) is less work, while option (1) is more use to the wider
</I>&gt;&gt;<i> community *iff* it's done well. Frankly, I'm leaning towards (2) now
</I>&gt;&gt;<i> (despite some quickly-scratched-out design for (1), which I could  
</I>&gt;&gt;<i> always
</I>&gt;&gt;<i> use to do that option later myself if I really want to). (2) doesn't
</I>&gt;&gt;<i> overlap other existing systems.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If there's enthusiasm for this, I'll whip up a quick outline-design,  
</I>&gt;&gt;<i> and
</I>&gt;&gt;<i> anyone who wants to help can help me nail it down to something  
</I>&gt;&gt;<i> specific,
</I>&gt;&gt;<i> and possibly help actually write it ;) areas that'd speed me up most
</I>&gt;&gt;<i> would be writing output engines and bringing extra (more experienced?)
</I>&gt;&gt;<i> minds to the parsing. Design usually produces better results from
</I>&gt;&gt;<i> multiple minds, too.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sam (Barnett-Cormack)
</I>&gt;<i> 
</I>&gt;<i> Since ANTLR uses ANTLR to parse itself, couldn't the ANTLR grammar be  
</I>&gt;<i> modified or extended to recognize and emit doc comments and the  
</I>&gt;<i> elements they refer to?  Seems like this would be quite a leg up on  
</I>&gt;<i> Option 2.
</I>&gt;<i> 
</I>&gt;<i> I don't recall whether the ANTLR grammar is public (and I know ANTLR 3  
</I>&gt;<i> was originally implemented using ANTLR 2) - what's the current state  
</I>&gt;<i> of this?
</I>
Well, the ANTLRV3-in-ANTLRV3 is at <A HREF="http://www.antlr.org/grammar/ANTLR/">http://www.antlr.org/grammar/ANTLR/</A>

However, it'll need some tweaking - currently, doc-comments are 
discarded except on the grammar itself. Makes life awkward, as it'd be 
annoying to have to re-tweak the grammar if/when it changes in future. 
However, it won't be hard overall. Tweak the parser grammar a bit, write 
a new (most likely filter) tree grammar to extract what's needed... a 
bit harder if we want to be able to reconstruct the rules themselves, to 
put verbatim into the documentation, but still not too bad, really.

I'd prefer it if the retaining of rule doc-comments was done in the main 
codebase, of course - as well as adding doc-comments to entries in the 
tokens section. Ter et al - any chance of this happening if there *is* 
an effort to come up with a documenting tool?

-- 
Sam Barnett-Cormack
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033607.html">[antlr-interest] Documenting grammars
</A></li>
	<LI>Next message: <A HREF="033609.html">[antlr-interest] Documenting grammars
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33608">[ date ]</a>
              <a href="thread.html#33608">[ thread ]</a>
              <a href="subject.html#33608">[ subject ]</a>
              <a href="author.html#33608">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
