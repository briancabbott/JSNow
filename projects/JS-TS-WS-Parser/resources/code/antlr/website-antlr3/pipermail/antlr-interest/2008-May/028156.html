<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Both hidden and required whitespace
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Both%20hidden%20and%20required%20whitespace&In-Reply-To=%3Cf14c01620805081426n4d95de7dw4b527d39254cd6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028155.html">
   <LINK REL="Next"  HREF="028157.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Both hidden and required whitespace</H1>
    <B>Kaleb Pederson</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Both%20hidden%20and%20required%20whitespace&In-Reply-To=%3Cf14c01620805081426n4d95de7dw4b527d39254cd6%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Both hidden and required whitespace">kaleb.pederson at gmail.com
       </A><BR>
    <I>Thu May  8 14:26:33 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028155.html">[antlr-interest] Both hidden and required whitespace
</A></li>
        <LI>Next message: <A HREF="028157.html">[antlr-interest] Exiting the Recognizer in C
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28156">[ date ]</a>
              <a href="thread.html#28156">[ thread ]</a>
              <a href="subject.html#28156">[ subject ]</a>
              <a href="author.html#28156">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, May 8, 2008 at 1:58 PM, Gavin Lambert &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at mirality.co.nz</A>&gt; wrote:
&gt;<i>  &gt;where Token 9 is 'numbers'.  I presume that WS is consuming the
</I>&gt;<i>  &gt;INDENT and thus I'm not seeing it in the stream.
</I>&gt;<i>
</I>&gt;<i>  It's more serious than that -- your grammar cannot possibly produce INDENT
</I>&gt;<i> tokens, since it's a fragment rule.  So for starters, remove the 'fragment'
</I>&gt;<i> from the INDENT rule.
</I>
That makes perfect sense, thanks for clarifying Gavin.

&gt;<i>  This will work in most cases, but not all; for example, because it requires
</I>&gt;<i> a leading newline it won't work on the first line of the file, and it also
</I>&gt;<i> won't work if there is trailing whitespace on the line before the newline
</I>
Understood.

&gt;<i> (since it will already be in the WS rule at that point, and it will continue
</I>&gt;<i> matching).  It also won't work if you have Windows end-of-lines, for a
</I>&gt;<i> similar reason.
</I>
I'm using the standard &quot;common token&quot; definition of WS as it is on the
wiki, so each WS token is a single character.  My main question is,
therefore, how ANTLR would decide which token to generate (assuming I
make INDENT a token) once I hit strings or characters that fit into
the intersection of the strings generated by  WS and INDENT.  With
yacc, the longer token that matches the longer string would be
generated token, eg. INDENT, but I'm too much of an ANTLR newbie to
know exactly how ANTLR handles it. Readme's / URLs accepted ;).

&gt;<i>  Where you should go from here depends on how complicated your grammar is
</I>&gt;<i> already.  I had a similar need to express indentation in a grammar I worked
</I>&gt;<i> on recently, but in that case it was simple enough (and had enough weird
</I>&gt;<i> edge cases) that unhiding the WS rule and splitting it into separated WS and
</I>&gt;<i> NL rules made the most sense.  Obviously this requires modifying all the
</I>&gt;<i> parser rules to explicitly indicate where whitespace and newlines are
</I>&gt;<i> permitted.
</I>
Yeah, my grammar is simple enough that the above is possible and long
enough that it would be cumbersome.  I find it's much more readable
relying on the hidden token stream.

&gt;<i>  I believe someone has written a python grammar for ANTLR; that's an
</I>&gt;<i> indent-sensitive language, so it might be useful looking at how it's handled
</I>&gt;<i> there.
</I>
Good idea! I believe Terence wrote it and I'll check to see if it's
been ported to v3.

Thank you.

--Kaleb
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028155.html">[antlr-interest] Both hidden and required whitespace
</A></li>
	<LI>Next message: <A HREF="028157.html">[antlr-interest] Exiting the Recognizer in C
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28156">[ date ]</a>
              <a href="thread.html#28156">[ thread ]</a>
              <a href="subject.html#28156">[ subject ]</a>
              <a href="author.html#28156">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
