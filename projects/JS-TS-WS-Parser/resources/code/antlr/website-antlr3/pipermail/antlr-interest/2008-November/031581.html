<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Number tokenizer vs. number grammar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Number%20tokenizer%20vs.%20number%20grammar&In-Reply-To=%3C904774730811150836n1f2c909cme5cae16e963eeb7%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031580.html">
   <LINK REL="Next"  HREF="031582.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Number tokenizer vs. number grammar</H1>
    <B>Todd O'Bryan</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Number%20tokenizer%20vs.%20number%20grammar&In-Reply-To=%3C904774730811150836n1f2c909cme5cae16e963eeb7%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Number tokenizer vs. number grammar">toddobryan at gmail.com
       </A><BR>
    <I>Sat Nov 15 08:36:23 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="031580.html">[antlr-interest] ANTLR-based Java grammar for javac compiler
</A></li>
        <LI>Next message: <A HREF="031582.html">[antlr-interest] Number tokenizer vs. number grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31581">[ date ]</a>
              <a href="thread.html#31581">[ thread ]</a>
              <a href="subject.html#31581">[ subject ]</a>
              <a href="author.html#31581">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> (One warning--I'm new to ANTLR so I haven't wrapped my brain around
syntactic/semantic predicates and may have missed something obvious
there that would make this trivial.)

I'm parsing a language that allows a great range of number constructs.
1, -3, 3.14, -5.8, 2/3, -3/-5, 3+2i, -4+i, 5-i, -3/5+2/3i, 3/5-2/3i,
7+2.3i and some other things are all legal numbers.

For the language grammar itself, it would be very nice to just have a
NUMBER token, but it would also be nice to have the ability to parse
numbers into component parts since creating a complex number involves
calling a constructor with the two real parts. The other tricky thing
is that whitespace is irrelevant in the language grammar, but relevant
in parsing numbers. For example, 3+ 2i (with a space before the 2) is
not a legal number.

I've thought about identifying a NUMBER token in the grammar and then
calling a number parser on that token as part of processing, but what
I'm afraid of is keeping the number parser and the NUMBER token in
sync. What I'm feeling like is that I need token fragments in the
language grammar that aren't fragments but are actual tokens in the
number grammar.

Am I missing a simple way to deal with this or is this just a nasty problem?

Todd
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031580.html">[antlr-interest] ANTLR-based Java grammar for javac compiler
</A></li>
	<LI>Next message: <A HREF="031582.html">[antlr-interest] Number tokenizer vs. number grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31581">[ date ]</a>
              <a href="thread.html#31581">[ thread ]</a>
              <a href="subject.html#31581">[ subject ]</a>
              <a href="author.html#31581">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
