<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] [C] code to change Token type, use char* and loose data when buffer destroyed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%5BC%5D%20code%20to%20change%20Token%20type%2C%0A%20use%20char%2A%20and%20loose%20data%20when%20buffer%20destroyed&In-Reply-To=%3CCAA7FA06.3B39%25douglasgodfrey%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042768.html">
   <LINK REL="Next"  HREF="042771.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] [C] code to change Token type, use char* and loose data when buffer destroyed</H1>
    <B>Douglas Godfrey</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%5BC%5D%20code%20to%20change%20Token%20type%2C%0A%20use%20char%2A%20and%20loose%20data%20when%20buffer%20destroyed&In-Reply-To=%3CCAA7FA06.3B39%25douglasgodfrey%40gmail.com%3E"
       TITLE="[antlr-interest] [C] code to change Token type, use char* and loose data when buffer destroyed">douglasgodfrey at gmail.com
       </A><BR>
    <I>Tue Sep 27 19:26:51 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="042768.html">[antlr-interest] [C] code to change Token type, use char* and loose data when buffer destroyed
</A></li>
        <LI>Next message: <A HREF="042771.html">[antlr-interest] [C] code to change Token type, use char* and loose data when buffer destroyed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42770">[ date ]</a>
              <a href="thread.html#42770">[ thread ]</a>
              <a href="subject.html#42770">[ subject ]</a>
              <a href="author.html#42770">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You don't necessarily need to remove embedded multiple quotes.
The function you use to access the string value can skip over the
multiple quotes. The original token string can be read-only.

Anyway, I remember a discussion on the Antlr list where you or
one of your co-workers discussed this very problem with a function
to eliminate the duplicate quotes.


On 9/27/11 6:34 PM, &quot;Ruslan Zasukhin&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ruslan_zasukhin at valentina-db.com</A>&gt;
wrote:

&gt;<i>On 9/28/11 12:46 AM, &quot;Douglas Godfrey&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">douglasgodfrey at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>Hi Douglas,
</I>&gt;<i>
</I>&gt;<i>Yes, I have thinked about this way also.
</I>&gt;<i>
</I>&gt;<i>But in your solution you use helper functions as
</I>&gt;<i>    RemoveQuotePairs()
</I>&gt;<i>
</I>&gt;<i>Which, I guess do some coping in additional ram buffers.
</I>&gt;<i>This is fine for Java guys, but in C code, as Jim likes underline each
</I>&gt;<i>time,
</I>&gt;<i>we tend to use only pointers to input buffer, as long as possible.
</I>&gt;<i> 
</I>&gt;<i>
</I>&gt;&gt;<i> You need to modify your string lexing rules to use sub-rules for the
</I>&gt;&gt;<i> elementary
</I>&gt;&gt;<i> strings and return the concatenated string as the lexer token value.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The value of 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> StringConstant: QuotedString
</I>&gt;&gt;<i> {RemoveQuotePairs($QuotedString);};
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> fragment
</I>&gt;&gt;<i> QuotedString:  ( StringTerm )+;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> fragment
</I>&gt;&gt;<i> StringTerm:  Dquote ( Character )* Dquote;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> fragment
</I>&gt;&gt;<i> Character: ( ' ' | AlphaChar | Punctuation | Digit );
</I>&gt;<i>
</I>&gt;<i>-- 
</I>&gt;<i>Best regards,
</I>&gt;<i>
</I>&gt;<i>Ruslan Zasukhin
</I>&gt;<i>VP Engineering and New Technology
</I>&gt;<i>Paradigma Software, Inc
</I>&gt;<i>
</I>&gt;<i>Valentina - Joining Worlds of Information
</I>&gt;<i><A HREF="http://www.paradigmasoft.com">http://www.paradigmasoft.com</A>
</I>&gt;<i>
</I>&gt;<i>[I feel the need: the need for speed]
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i>Unsubscribe: 
</I>&gt;<i><A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042768.html">[antlr-interest] [C] code to change Token type, use char* and loose data when buffer destroyed
</A></li>
	<LI>Next message: <A HREF="042771.html">[antlr-interest] [C] code to change Token type, use char* and loose data when buffer destroyed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42770">[ date ]</a>
              <a href="thread.html#42770">[ thread ]</a>
              <a href="subject.html#42770">[ subject ]</a>
              <a href="author.html#42770">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
