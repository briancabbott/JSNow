<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] NoViableAltException.expecting ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20NoViableAltException.expecting%20%3F&In-Reply-To=DE551FA6-30E1-463B-97C4-DA0DB6437E09%40cs.usfca.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014323.html">
   <LINK REL="Next"  HREF="014333.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] NoViableAltException.expecting ?</H1>
    <B>Sebastien Boving</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20NoViableAltException.expecting%20%3F&In-Reply-To=DE551FA6-30E1-463B-97C4-DA0DB6437E09%40cs.usfca.edu"
       TITLE="[antlr-interest] NoViableAltException.expecting ?">me at sebastienboving.com
       </A><BR>
    <I>Wed Nov 16 11:02:12 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="014323.html">[antlr-interest] NoViableAltException.expecting ?
</A></li>
        <LI>Next message: <A HREF="014333.html">[antlr-interest] NoViableAltException.expecting ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14331">[ date ]</a>
              <a href="thread.html#14331">[ thread ]</a>
              <a href="subject.html#14331">[ subject ]</a>
              <a href="author.html#14331">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Either we're talking about different information, or i'm not getting why it
isn't readily available to ANTLR at code generation time. Taking the example
of the generated python implementation for rule 'base_operation' in a LL(1)
grammar:

def base_operation(self):

la1 = self.LA(1)
if False:
pass
elif la1 and la1 in [LITERAL_show]:
pass
self.show_operation()
elif la1 and la1 in [LITERAL_no,LITERAL_set]:
pass
self.set_operation()
else:
raise antlr.NoViableAltException(self.LT(1), self.getFilename())

why can't you generate

antlr.NoViableAltException(self.LT(1).self.getFilename(), [LITERAL_show,
LITERAL_no, LITERAL_set])

to be raised instead? ANTLR should be able to build this list as it just
constructed the flow control displayed above the error handling, right?

(this could be implemented differently, for instance referencing a rule id
and providing a looking from rule id to next expected tokens, just trying to
make the point using a list)

thanks.


On 11/16/05, Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Nov 16, 2005, at 12:53 AM, Geir Ove Skjaervik wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Hello,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Not a stupid question at all. I think it is just a ANTLR 2.x
</I>&gt;<i> &gt; weakness that we can just hope will get rectified in an 2.x
</I>&gt;<i> &gt; upgrade. I sure miss a more sensible exception in that case as well.
</I>&gt;<i>
</I>&gt;<i> Hi. The data is not easily available to ANTLR at runtime so I didn't
</I>&gt;<i> include it. That is, the code wasn't convenient at the time. Sorry.
</I>&gt;<i>
</I>&gt;<i> Ter
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20051116/2402a168/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20051116/2402a168/attachment.html</A>
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014323.html">[antlr-interest] NoViableAltException.expecting ?
</A></li>
	<LI>Next message: <A HREF="014333.html">[antlr-interest] NoViableAltException.expecting ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14331">[ date ]</a>
              <a href="thread.html#14331">[ thread ]</a>
              <a href="subject.html#14331">[ subject ]</a>
              <a href="author.html#14331">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
