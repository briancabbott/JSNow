<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Matching braces in grammar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Matching%20braces%20in%20grammar&In-Reply-To=%3C4651A21D.6050002%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020774.html">
   <LINK REL="Next"  HREF="020777.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Matching braces in grammar</H1>
    <B>Johannes Luber</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Matching%20braces%20in%20grammar&In-Reply-To=%3C4651A21D.6050002%40gmx.de%3E"
       TITLE="[antlr-interest] Matching braces in grammar">jaluber at gmx.de
       </A><BR>
    <I>Mon May 21 06:43:57 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020774.html">[antlr-interest] Matching braces in grammar
</A></li>
        <LI>Next message: <A HREF="020777.html">[antlr-interest] Matching braces in grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20776">[ date ]</a>
              <a href="thread.html#20776">[ thread ]</a>
              <a href="subject.html#20776">[ subject ]</a>
              <a href="author.html#20776">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jukkis wrote:
&gt;&gt;<i> Basically you need to replace STRING_LITERAL with something
</I>&gt;&gt;<i> like that:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> beanshell_statement
</I>&gt;&gt;<i>      : &quot;$&quot; LCURLY! block+ RCURLY!
</I>&gt;&gt;<i>      ;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> block
</I>&gt;&gt;<i>    :   text
</I>&gt;&gt;<i>    |   LCURLY text RCURLY
</I>&gt;&gt;<i>    ;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Best regards,
</I>&gt;&gt;<i> Johannes Luber
</I>&gt;<i> 
</I>&gt;<i> Hello again, and thank you for your quick response Johannes! However, I feel this solves only part of the problem -- because BeanShell code can have any number of nested curly-brace delimited blocks. Obviously, we cannot just write
</I>&gt;<i> 
</I>&gt;<i> block
</I>&gt;<i>     : block
</I>&gt;<i>     | LCURLY block RCURLY
</I>&gt;<i>     ;
</I>&gt;<i> 
</I>&gt;<i> since this would lead to an infinite recursion rule, the kind which is not allowed in ANTLR. Also, for the same reason, we cannot refer to the 'block' rule from any rule whose ancestor 'block' is, if I have understood correctly.
</I>
How about?

beanshell_statement
     : '$' LCURLY! block+ RCURLY!
     ;

block
   :   TEXT
   |   LCURLY block RCURLY
   ;

TEXT
   :	('A'..'Z'|'a'..'z')+
   ;

Best regards,
Johannes Luber

</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020774.html">[antlr-interest] Matching braces in grammar
</A></li>
	<LI>Next message: <A HREF="020777.html">[antlr-interest] Matching braces in grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20776">[ date ]</a>
              <a href="thread.html#20776">[ thread ]</a>
              <a href="subject.html#20776">[ subject ]</a>
              <a href="author.html#20776">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
