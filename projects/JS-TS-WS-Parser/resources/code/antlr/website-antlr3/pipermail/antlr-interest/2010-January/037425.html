<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Disabling rules in the lexer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Disabling%20rules%20in%20the%20lexer&In-Reply-To=%3C33AFEA62-2C42-4174-B149-06D2025628F9%40mac.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037424.html">
   <LINK REL="Next"  HREF="037434.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Disabling rules in the lexer</H1>
    <B>Jeff Wilcox</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Disabling%20rules%20in%20the%20lexer&In-Reply-To=%3C33AFEA62-2C42-4174-B149-06D2025628F9%40mac.com%3E"
       TITLE="[antlr-interest] Disabling rules in the lexer">jeff.wilcox at mac.com
       </A><BR>
    <I>Tue Jan 26 06:52:18 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037424.html">[antlr-interest] how to construct an AST ?
</A></li>
        <LI>Next message: <A HREF="037434.html">[antlr-interest] Disabling rules in the lexer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37425">[ date ]</a>
              <a href="thread.html#37425">[ thread ]</a>
              <a href="subject.html#37425">[ subject ]</a>
              <a href="author.html#37425">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have a special area in this language that has symbols within a table structure that are normally used in other tokens in other areas of the language (like a couple digits, a couple letters and a couple symbols).  So I am trying to setup the lexer to accept these table tokens only when in a table.  Based on what I have been able to dig up, I believe gated semantic predicates are a valid way to disable rules in the lexer.  However, I am seeing issues with this with ANTLR 3.2 and the java language target.  

So I expected a lexer rules like this to do the trick:  

Level0       : {inTable}?=&gt; '0';

But that actually creates a very strange loop when inTable is false.  I basically throws a FailedPredicateException (which I would not have expected for a gated predicate) and then retries the same token with the same rule, obviously resulting in an infinite loop.

Can someone clarify whether this is allowed and if so whether there is some trick to using it?  I am stumped.  

Thanks
Jeff





</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037424.html">[antlr-interest] how to construct an AST ?
</A></li>
	<LI>Next message: <A HREF="037434.html">[antlr-interest] Disabling rules in the lexer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37425">[ date ]</a>
              <a href="thread.html#37425">[ thread ]</a>
              <a href="subject.html#37425">[ subject ]</a>
              <a href="author.html#37425">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
