<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Help converting a parser grammar to a tree grammar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Help%20converting%20a%20parser%20grammar%20to%20a%20tree%20grammar&In-Reply-To=%3C93572fab0812011627s402c9d7ds3e141423b210ce15%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031823.html">
   <LINK REL="Next"  HREF="031822.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Help converting a parser grammar to a tree grammar</H1>
    <B>Diligent Warrior</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Help%20converting%20a%20parser%20grammar%20to%20a%20tree%20grammar&In-Reply-To=%3C93572fab0812011627s402c9d7ds3e141423b210ce15%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Help converting a parser grammar to a tree grammar">diligent.warrior at gmail.com
       </A><BR>
    <I>Mon Dec  1 16:27:58 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="031823.html">[antlr-interest] Sorry, one more try, now with more information&#8230;
</A></li>
        <LI>Next message: <A HREF="031822.html">[antlr-interest] Help converting a parser grammar to a tree grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31821">[ date ]</a>
              <a href="thread.html#31821">[ thread ]</a>
              <a href="subject.html#31821">[ subject ]</a>
              <a href="author.html#31821">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello everyone,

I'm working on a grammar for a Java-like language and I'm stuck at this one
part. I'm looking to write the tree grammar from this parser grammar:

callExpression
    :    (primary -&gt; primary) (s=selector -&gt; ^(CALL $callExpression $s))*
    ;

The code would look like:

nodeObject.getLeft().getValue();

And the tree would look like:

( CALL ( CALL nodeObject getLeft ) getValue )

...or in other words:

( CALL ( CALL primary selector ) selector )

Theoretically, the tree should be as deep as it needs to be.

My initial two attempts at the tree grammar were these:

callExpression
    :    primary (^(CALL callExpression selector))*
    ;

callExpression
    :    ( ^( CALL ( primary | callExpression ) selector? ) )
    ;

But after giving them some thought, they don't make sense. Am I at least on
the right track?

So my questions are:
A) Is there a way to translate my parser grammar into a tree grammar?
B) If not, Is there a better way to write my parser grammar?

Ugh, now I'm beginning to doubt my parser grammar isn't even correct.

Any thoughts?

Oh, and for the sake of completeness, here is my tree grammars for primary
and selector

primary
    :    THIS
    |    TRUE
    |    FALSE
    |    INTLIT
    |    ID
    |    ^( CREATE OBJECT ID )
    ;

selector
    :    ^( ID ( ( expression )+ )? )
    ;

As you probably can tell, the only types I have are int, boolean and
objects.

//Thanks for you time,
//DW
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20081202/e669cca5/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20081202/e669cca5/attachment.html</A> 
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031823.html">[antlr-interest] Sorry, one more try, now with more information&#8230;
</A></li>
	<LI>Next message: <A HREF="031822.html">[antlr-interest] Help converting a parser grammar to a tree grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31821">[ date ]</a>
              <a href="thread.html#31821">[ thread ]</a>
              <a href="subject.html#31821">[ subject ]</a>
              <a href="author.html#31821">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
