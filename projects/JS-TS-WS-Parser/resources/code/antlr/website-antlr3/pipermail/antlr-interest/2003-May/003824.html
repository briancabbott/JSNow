<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ASTs and node types: Java
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ASTs%20and%20node%20types%3A%20Java&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003822.html">
   <LINK REL="Next"  HREF="003825.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ASTs and node types: Java</H1>
    <B>biz_morland</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ASTs%20and%20node%20types%3A%20Java&In-Reply-To="
       TITLE="[antlr-interest] ASTs and node types: Java">biz_morland at yahoo.com
       </A><BR>
    <I>Sat May 10 15:18:11 PDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003822.html">[antlr-interest] problem with nondeterminism
</A></li>
        <LI>Next message: <A HREF="003825.html">[antlr-interest] HELP NEWBIE: How can I simplify Tree Parser grammar.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3824">[ date ]</a>
              <a href="thread.html#3824">[ thread ]</a>
              <a href="subject.html#3824">[ subject ]</a>
              <a href="author.html#3824">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm writing a java program that uses an Antlr grammar file to build 
and traverse an AST. Beforehand my Main.java and expression.g had 
worked well with an AST of nodes each of which consisted of a number 
of type double.

In Main.java I had used the following command to create an AST and 
traverse it, printing the result:

CommonAST parseTree = (CommonAST)parser.getAST();
System.out.println(parseTree.toStringList());
ExpressionTreeWalker walker = new ExpressionTreeWalker();
Double result = walker.expr(parseTree);
System.out.println(&quot;Value: &quot;+result);

OK, now I need an AST whose nodes are of type java.lang.Object 
instead of double. However I keep getting the following error message 
from the walker.expr(parseTree) statement.

For an example tree: +( 1 1)
Error message:

&lt;snip&gt;
&lt;AST&gt;: unexpected AST node: 1
&lt;AST&gt;: unexpected AST node: 1
Exception: java.lang.NullPointerException
&lt;/snip&gt;

The most obvious solution to me would be to somehow typecast the 
walker.expr() statement to java.lang.Object, but I've tried this in 
many different ways resulting in the same error msg above.

Is there anyone who has had similar error messages or problems with 
building ASTs, where the nodes have had to be changed or cast to 
different types?

Thanks,
Greg


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003822.html">[antlr-interest] problem with nondeterminism
</A></li>
	<LI>Next message: <A HREF="003825.html">[antlr-interest] HELP NEWBIE: How can I simplify Tree Parser grammar.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3824">[ date ]</a>
              <a href="thread.html#3824">[ thread ]</a>
              <a href="subject.html#3824">[ subject ]</a>
              <a href="author.html#3824">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
