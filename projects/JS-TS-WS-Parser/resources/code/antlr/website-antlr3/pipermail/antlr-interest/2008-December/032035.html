<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Syntax for Merging AST Nodes / Rule Text as	AST Node
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Syntax%20for%20Merging%20AST%20Nodes%20/%20Rule%20Text%20as%0A%09AST%20Node&In-Reply-To=%3Cb00576380812171215y687f345erbe83efaceb2c0801%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032034.html">
   <LINK REL="Next"  HREF="032036.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Syntax for Merging AST Nodes / Rule Text as	AST Node</H1>
    <B>Mihai Danila</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Syntax%20for%20Merging%20AST%20Nodes%20/%20Rule%20Text%20as%0A%09AST%20Node&In-Reply-To=%3Cb00576380812171215y687f345erbe83efaceb2c0801%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Syntax for Merging AST Nodes / Rule Text as	AST Node">viridium at gmail.com
       </A><BR>
    <I>Wed Dec 17 12:15:48 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="032034.html">[antlr-interest] Syntax for Merging AST Nodes / Rule Text as AST Node
</A></li>
        <LI>Next message: <A HREF="032036.html">[antlr-interest] Syntax for Merging AST Nodes / Rule Text as	AST Node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32035">[ date ]</a>
              <a href="thread.html#32035">[ thread ]</a>
              <a href="subject.html#32035">[ subject ]</a>
              <a href="author.html#32035">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yup, this has to do with another message I've just posted; I'm having
problems with certain tokens and I've promoted them to parser rules to avoid
those problems. In any case, it seems to work with the bracket and
additional imaginary token, so I'm happy with it right now.

In short, it seems that rule matching and &quot;backtracking&quot; is smart enough to
overcome those difficulties (which have to do with ISO dates and ranges that
are specified as date-date or number-number, where the range dash will cause
a token not to be matched because it just so happens the token could be
continued with a dash in some cases).


Mihai


On Wed, Dec 17, 2008 at 3:10 PM, Jared Bunting
&lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jared.bunting at peachjean.com</A>&gt;wrote:

&gt;<i> Is there a reason that &quot;alphanumeric&quot; is a parser rule?  Making it a lexer
</I>&gt;<i> rule would reduce it to one token.
</I>&gt;<i>
</I>&gt;<i> -Jared
</I>&gt;<i>
</I>&gt;<i> Mihai Danila wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> An AST-producing grammar I've been using generates many nodes that I'd
</I>&gt;&gt;<i> like joined into one node. Is there syntax for joining nodes at a certain
</I>&gt;&gt;<i> level into one node? Alternatively, is there a way to specify that the
</I>&gt;&gt;<i> entire text matched by a rule be put in an AST node?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For example, the rule in the grammar below will produce as many nodes as
</I>&gt;&gt;<i> there are characters matched in all the rules that use it, whereas I'd
</I>&gt;&gt;<i> prefer the text alone to be used to simplify grammars that consume the AST:
</I>&gt;&gt;<i> (well, maybe grammars that use the AST can match the whole subtree and be
</I>&gt;&gt;<i> able to obtain the text over an entire subtree, in which case they're good,
</I>&gt;&gt;<i> but I'd still like to have a smaller AST for better debugging)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> alphanumeric: (A | D)+;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> A: 'A'..'Z' | 'a'..'z';
</I>&gt;&gt;<i> D: '0'..'9';
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ------------------------------------------------------------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;<i> Unsubscribe:
</I>&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20081217/20187bcf/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20081217/20187bcf/attachment.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032034.html">[antlr-interest] Syntax for Merging AST Nodes / Rule Text as AST Node
</A></li>
	<LI>Next message: <A HREF="032036.html">[antlr-interest] Syntax for Merging AST Nodes / Rule Text as	AST Node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32035">[ date ]</a>
              <a href="thread.html#32035">[ thread ]</a>
              <a href="subject.html#32035">[ subject ]</a>
              <a href="author.html#32035">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
