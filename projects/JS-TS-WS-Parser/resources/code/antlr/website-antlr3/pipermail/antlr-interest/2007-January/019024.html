<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Line and Column information lost during AST creation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Line%20and%20Column%20information%20lost%20during%20AST%0A%20creation&In-Reply-To=459BF86F.5060702%40hotmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019017.html">
   <LINK REL="Next"  HREF="019027.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Line and Column information lost during AST creation</H1>
    <B>Christophe Boutter</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Line%20and%20Column%20information%20lost%20during%20AST%0A%20creation&In-Reply-To=459BF86F.5060702%40hotmail.com"
       TITLE="[antlr-interest] Line and Column information lost during AST creation">boutter at ps.uni-sb.de
       </A><BR>
    <I>Thu Jan  4 04:48:54 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="019017.html">[antlr-interest] Line and Column information lost during AST	creation
</A></li>
        <LI>Next message: <A HREF="019027.html">[antlr-interest] Line and Column information lost during AST	creation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19024">[ date ]</a>
              <a href="thread.html#19024">[ thread ]</a>
              <a href="subject.html#19024">[ subject ]</a>
              <a href="author.html#19024">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Xue Yong Zhi wrote:
&gt;<i> You need to replace the default AST class with the one like this:
</I>&gt;<i> <A HREF="http://xruby.googlecode.com/svn/trunk/src/com/xruby/compiler/parser/ASTWithLineNumber.java">http://xruby.googlecode.com/svn/trunk/src/com/xruby/compiler/parser/ASTWithLineNumber.java</A>
</I>
I now wrote something very similar.

&gt;<i> Then call setASTNodeClass in your parser to use your AST class, e.g.
</I>&gt;<i> setASTNodeClass(&quot;com.xruby.compiler.parser.ASTWithLineNumber&quot;);
</I>
I've done that too. I call:
setASTNodeClass(&quot;modesteditor.core.antlrparser.ASTWithOffsetInfos&quot;);

That gives me the following error message:
Can't find/access AST Node
typemodesteditor.core.antlrparser.ASTWithOffsetInfos

I came across a tutorial for self designed ASTs and found that one
should include in the options of the parser and tree walker the statement:
ASTLabelType=&quot;modesteditor.core.antlrparser.ASTWithOffsetInfos&quot;

But that wouldn't help either.

The problem may be that the TokenTypeToASTClassMap isn't initialized and
I think therefore the right AST class is not used. This is probably due
to the fact that the parser doesn't find the AST Node type. But why?

Thanks for help.
Chris

&gt;<i> 
</I>&gt;<i> Christophe Boutter wrote:
</I>&gt;&gt;<i> My problem is that during the AST creation in the parser all information
</I>&gt;&gt;<i> about lines and columns of the lexer Token is lost. But I need this
</I>&gt;&gt;<i> informations badly. Why is that?
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> 
</I>

-- 
Try not to become a man of success, but rather try to become a man of value.
-- Albert Einstein
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019017.html">[antlr-interest] Line and Column information lost during AST	creation
</A></li>
	<LI>Next message: <A HREF="019027.html">[antlr-interest] Line and Column information lost during AST	creation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19024">[ date ]</a>
              <a href="thread.html#19024">[ thread ]</a>
              <a href="subject.html#19024">[ subject ]</a>
              <a href="author.html#19024">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
