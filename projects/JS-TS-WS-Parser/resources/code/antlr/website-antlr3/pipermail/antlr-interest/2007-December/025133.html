<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Cannot understand why interpreter accepts bad	input...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Cannot%20understand%20why%20interpreter%20accepts%20bad%0A%09input...&In-Reply-To=%3CEE8C2D034A022444B87B1332B39781050EB91F3E%40extonpo1.bentley.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025131.html">
   <LINK REL="Next"  HREF="025152.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Cannot understand why interpreter accepts bad	input...</H1>
    <B>Bern.McCarty at bentley.com</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Cannot%20understand%20why%20interpreter%20accepts%20bad%0A%09input...&In-Reply-To=%3CEE8C2D034A022444B87B1332B39781050EB91F3E%40extonpo1.bentley.com%3E"
       TITLE="[antlr-interest] Cannot understand why interpreter accepts bad	input...">Bern.McCarty at bentley.com
       </A><BR>
    <I>Fri Dec  7 13:11:51 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025131.html">[antlr-interest] Cannot understand why interpreter accepts bad input...
</A></li>
        <LI>Next message: <A HREF="025152.html">[antlr-interest] Cannot understand why interpreter accepts bad	input...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25133">[ date ]</a>
              <a href="thread.html#25133">[ thread ]</a>
              <a href="subject.html#25133">[ subject ]</a>
              <a href="author.html#25133">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;<i> Incidentally, when I tried your original grammar (without
</I>modification) it did indeed generate an error on the console.  No tricks
required.

When you ran it in the debugger, yes, but not when merely using the
interpreter.  Whereas in my last message the first grammer provides an
indication of an exception when run in the interpreter, while the 2nd
grammar does not.  And I have no understanding of why this is.

I'm concluding that I should not prototype/modify/develop my grammar by
doing edit/interpret cycles.  It is just messing me up.  I guess I have
to use edit/debug instead.

-----Original Message-----
From: Gavin Lambert [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at mirality.co.nz</A>] 
Sent: Friday, December 07, 2007 4:02 PM
To: Bern McCarty; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] Cannot understand why interpreter accepts
bad input...

At 03:38 8/12/2007, <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">Bern.McCarty at bentley.com</A> wrote:
&gt;<i>I'm really struggling with trying to use the AntlrWorks 
</I>&gt;<i>interpreter and greatly appreciate any help I can get.  The first 
</I>&gt;<i>grammer below does NOT require Gavin's trick of defining a 
</I>&gt;<i>&quot;IllegalChar: .;&quot; rule in order to get a NoViableAltException 
</I>&gt;<i>when feeding bad input like &quot;a&quot; into the interpreter.
</I>
'Twasn't my trick; it was G.R. who suggested it.

Incidentally, when I tried your original grammar (without 
modification) it did indeed generate an error on the console.  No 
tricks required.

Note that the error doesn't appear in the AST diagram; it appears 
in the Output window.  This is because it occurs at lexing 
time.  By adding a catch-all rule like the above you're moving the 
error to occur at parsing time instead (since your parser grammer 
doesn't accept IllegalChar anywhere), which is why the error 
appears differently.


Personally I've got mixed feelings about the auto-error-recovery 
in ANTLR.  In many cases I'd rather it just instantly aborted any 
time it didn't like what it saw, but I can see the merit in 
continuing on and doing the best it can (if nothing else, it lets 
you see several errors in a row).  In any case you can override 
the lexer's error-handling behaviour to do whatever you want 
(though note that this won't affect the interpreter).

</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025131.html">[antlr-interest] Cannot understand why interpreter accepts bad input...
</A></li>
	<LI>Next message: <A HREF="025152.html">[antlr-interest] Cannot understand why interpreter accepts bad	input...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25133">[ date ]</a>
              <a href="thread.html#25133">[ thread ]</a>
              <a href="subject.html#25133">[ subject ]</a>
              <a href="author.html#25133">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
