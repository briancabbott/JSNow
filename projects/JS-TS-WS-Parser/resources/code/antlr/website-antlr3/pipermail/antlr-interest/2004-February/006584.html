<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer speed comparison
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Lexer%20speed%20comparison&In-Reply-To=c1j9ci%2B99vp%40eGroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006575.html">
   <LINK REL="Next"  HREF="006567.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer speed comparison</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Lexer%20speed%20comparison&In-Reply-To=c1j9ci%2B99vp%40eGroups.com"
       TITLE="[antlr-interest] Lexer speed comparison">klaren at cs.utwente.nl
       </A><BR>
    <I>Thu Feb 26 02:04:39 PST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="006575.html">[antlr-interest] Lexer speed comparison
</A></li>
        <LI>Next message: <A HREF="006567.html">[antlr-interest] Changing parser/lexer base class?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6584">[ date ]</a>
              <a href="thread.html#6584">[ thread ]</a>
              <a href="subject.html#6584">[ subject ]</a>
              <a href="author.html#6584">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Feb 25, 2004 at 10:59:30PM -0000, Uli Bubenheimer wrote:
&gt;<i> I ran some tests comparing Lexers generated by different tools in
</I>&gt;<i> terms of speed. The sophistication of my Lexer specification that I
</I>&gt;<i> used as input for the Lexer generators is about that of a lexer for C.
</I>&gt;<i> The average numbers I found by repeatedly running the generated lexers
</I>&gt;<i> on a large source file were these:
</I>&gt;<i> 
</I>&gt;<i> ANTLR           8300ms
</I>&gt;<i> JLex            6500ms
</I>&gt;<i> JFlex 1.4pre5   2000ms
</I>&gt;<i> Flex            1900ms
</I>&gt;<i> 
</I>&gt;<i> I was surprised to find that ANTLR generated the slowest lexer.
</I>
Not very surprised myself ;) ANTLR generates horrible code for lexers. I'm
not sure how big the impact is of the recursive descent parsing/lexing
style, but I would not be surprised if I could handoptimize an ANTLR lexer
to the level of JLex. ANTLR generated code is wasting a lot of time calling
match methods where the outcome is already known.

BTW it's a pity you did not test C++ mode next to the Java mode.

&gt;<i> Naturally, when interpreting these numbers keep in mind that the
</I>&gt;<i> outcome may have been different on a different lexer specification or
</I>&gt;<i> lexer input text. On the other hand, it makes sense to me that a DFA
</I>&gt;<i> would be faster on average than a more powerful recursive-descent parser.
</I>&gt;<i>
</I>&gt;<i> Are there other performance numbers available? I have not been able to
</I>&gt;<i> dig up anything substantial. I also wonder how ANTLR-generated LL(k)
</I>&gt;<i> parsers perform compared to LALR(1) parsers.
</I>
Not much only some random tests done by people over time. It would be nice
if you could share the input files for these lexers for future reference.

Cheers and thanks for sharing this info!

Ric
-- 
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">j.klaren at utwente.nl</A> ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
   Words fly like arrows
      as if we knew what was right and wrong. --- Chuang Tsu



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006575.html">[antlr-interest] Lexer speed comparison
</A></li>
	<LI>Next message: <A HREF="006567.html">[antlr-interest] Changing parser/lexer base class?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6584">[ date ]</a>
              <a href="thread.html#6584">[ thread ]</a>
              <a href="subject.html#6584">[ subject ]</a>
              <a href="author.html#6584">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
