<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Token stream filter
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Token%20stream%20filter&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008141.html">
   <LINK REL="Next"  HREF="008138.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Token stream filter</H1>
    <B>Anthony Youngman</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Token%20stream%20filter&In-Reply-To="
       TITLE="[antlr-interest] Token stream filter">Anthony.Youngman at ECA-International.com
       </A><BR>
    <I>Wed Jun  2 06:40:38 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008141.html">[antlr-interest] Re: Get the line number in my deprecated messages
</A></li>
        <LI>Next message: <A HREF="008138.html">[antlr-interest] Token stream filter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8136">[ date ]</a>
              <a href="thread.html#8136">[ thread ]</a>
              <a href="subject.html#8136">[ subject ]</a>
              <a href="author.html#8136">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Except yours is (clearly?) a *lexer* rule. I need a *parser* rule.

The problem is I can only tell if REM means a comment once I've started
parsing. Because it is also a function name, and can be a variable name.
There's various ways of doing it, but the obvious way to use a filter
AFTER the lexer has done its work.

Cheers,
Wol 

-----Original Message-----
From: Anakreon [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">anakreonmejdi at yahoo.gr</A>] 
Sent: 02 June 2004 14:19
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
Subject: Re: [antlr-interest] Token stream filter

Anthony Youngman wrote:
Hello Anthony.
This is the whay I did it although the comments are lost so it might not
be what 
you need.

In the rule which matches identifiers i have this code:
     if (_ttype == REM) {
         mLINE(false);
         _ttype = STATEMENT_END;
     }
The  mLINE is generated by the rule:
protected LINE : (~'\n')* '\n' {newline();};
&gt;<i> This sounds like it should be very easy, but I can't see how to do it
</I>&gt;<i> ...
</I>&gt;<i> 
</I>&gt;<i> I want to filter the token stream coming out of the lexer (and I can't
</I>&gt;<i> see how to do it using the lexer's filter - can I do the same thing in
</I>&gt;<i> the parser?). Anyways, I want to match the following sequence
</I>&gt;<i> 
</I>&gt;<i> (newline | semi) (&quot;rem&quot; | &quot;*&quot; | &quot;!&quot; ) ~( &quot;=&quot; | &quot;(&quot; ) ({greedy=false}
</I>.)
&gt;<i> newline)
</I>&gt;<i> 
</I>&gt;<i> eating everything EXCEPT the newline, which needs to be passed through
</I>&gt;<i> to the parser. Note also, that while &quot;*&quot; and &quot;!&quot; are tokens, &quot;rem&quot; is
</I>an
&gt;<i> ident. Of course, if I need &quot;rem&quot; to be a token, presumably if this
</I>rule
&gt;<i> fails I can convert it back to an ident?
</I>&gt;<i> 
</I>&gt;<i> Or do I need to write my own token stream to do this (if so, where do
</I>I
&gt;<i> look for an example?)
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Wol
</I>&gt;<i> 
</I>

 
Yahoo! Groups Links



 



****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008141.html">[antlr-interest] Re: Get the line number in my deprecated messages
</A></li>
	<LI>Next message: <A HREF="008138.html">[antlr-interest] Token stream filter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8136">[ date ]</a>
              <a href="thread.html#8136">[ thread ]</a>
              <a href="subject.html#8136">[ subject ]</a>
              <a href="author.html#8136">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
