<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Problem building AST.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problem%20building%20AST.&In-Reply-To=%3C557972.9448.qm%40web33102.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030953.html">
   <LINK REL="Next"  HREF="030956.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Problem building AST.</H1>
    <B>Arik Ter-Galstyan</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problem%20building%20AST.&In-Reply-To=%3C557972.9448.qm%40web33102.mail.mud.yahoo.com%3E"
       TITLE="[antlr-interest] Problem building AST.">arik_tg at yahoo.com
       </A><BR>
    <I>Mon Oct  6 05:53:59 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="030953.html">[antlr-interest] Update of maven3-antlr-plugin
</A></li>
        <LI>Next message: <A HREF="030956.html">[antlr-interest] Good &quot;dot&quot; Invocation Options for Visualizing ASTs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30955">[ date ]</a>
              <a href="thread.html#30955">[ thread ]</a>
              <a href="subject.html#30955">[ subject ]</a>
              <a href="author.html#30955">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Recently downloaded the Verilog grammar file from ANTLR website, generated the corresponding lexer and parser files and compiled them successfully with VS2008. Even wrote a small driver for the generated lexer and parser and successfully parsed a couple of verilog files. When setting the BuilsAST=1 in the options section, the generated lexer and parser files compile successfully however this time the same driver fails to parse the verilog files. It just crashes and brings the standard Microsoft error window to send an error report. Please note that in both cases it has been used the same driver. Besides, I have tried it with ANTLR 2.7.5, 2.7.6 and 2.7.7. Result is the same in all cases. Please share any ideas what I did wrong.

Below is given the driver code:

#include &quot;stdafx.h&quot;

#include &quot;iostream&quot;
#include &quot;fstream&quot;
#include &quot;VerilogLexer.hpp&quot;
#include &quot;VerilogParser.hpp&quot;

using namespace std;
using namespace antlr;


void parseFile(istream&amp; s) {
	
	try {
	       // Create scanner that reads from input stream passed to us.
		VerilogLexer lexer(s);						

		// Create parser that reads from scanner.
		VerilogParser parser(lexer);

		// start parsing at the source_text rule.
		parser.source_text();				
	}
	catch (exception&amp; e) {
		cerr &lt;&lt; &quot;parser exception: &quot; &lt;&lt; e.what() &lt;&lt; endl;
	}
}

int _tmain(int argc, _TCHAR* argv[])
{
try {
		if (argc &gt; 1 ) {
			
			cerr &lt;&lt; &quot;Parsing...&quot; &lt;&lt; endl;
			for(int i=1; i&lt; argc;i++) {
				ifstream file(argv[i]);
				parseFile(file);
			}
		}
		else
			cerr &lt;&lt; &quot;Usage: VerilogParser &lt;file names&gt;&quot; &lt;&lt; endl;
	}
	catch(exception&amp; e) {
		cerr &lt;&lt; &quot;exception: &quot; &lt;&lt; e.what() &lt;&lt; endl;
	}

	return 0;
}


Thanks
Arik


      
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030953.html">[antlr-interest] Update of maven3-antlr-plugin
</A></li>
	<LI>Next message: <A HREF="030956.html">[antlr-interest] Good &quot;dot&quot; Invocation Options for Visualizing ASTs?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30955">[ date ]</a>
              <a href="thread.html#30955">[ thread ]</a>
              <a href="subject.html#30955">[ subject ]</a>
              <a href="author.html#30955">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
