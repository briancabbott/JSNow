<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Parsing HAML - significant and insignificant	whitespaces
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Parsing%20HAML%20-%20significant%20and%20insignificant%0A%09whitespaces&In-Reply-To=%3C73ee720a0907140943v19c7ac1m3a48b4b14673e7ba%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035183.html">
   <LINK REL="Next"  HREF="035185.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Parsing HAML - significant and insignificant	whitespaces</H1>
    <B>Dmitiry Nagirnyak</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Parsing%20HAML%20-%20significant%20and%20insignificant%0A%09whitespaces&In-Reply-To=%3C73ee720a0907140943v19c7ac1m3a48b4b14673e7ba%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Parsing HAML - significant and insignificant	whitespaces">dnagir at gmail.com
       </A><BR>
    <I>Tue Jul 14 09:43:54 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="035183.html">[antlr-interest] Composite grammars and &quot;no start rule&quot; warning
</A></li>
        <LI>Next message: <A HREF="035185.html">[antlr-interest] Parsing HAML - significant and insignificant	whitespaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35184">[ date ]</a>
              <a href="thread.html#35184">[ thread ]</a>
              <a href="subject.html#35184">[ subject ]</a>
              <a href="author.html#35184">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am researching possibility to parse HAML syntax to port it to .NET. There
is project call NHAML but uses Regular Expressions instead of regular
parser.
While it is working great it has certain limitations.

So people start thinking about a real parser. And years ago I did some wotks
with ANTLR and have chance to revisit it.

My question is about whitespaces.
In NHAML whitespaces are significant at the beginning of line.

What I would like to have is this (star* for whitespace):

%A
**%B
****%B1
****%B2
**%C
****%C1

It would correspond to the tree sam type of tree (A in the root; B,C -
second level nodes, B1,B22, C1 - third level nodes).

It would be easy if the whitespaces would always be indented at the sane
number (here 2).
But this should be configurable. And even more, instead of whitespaces there
might be tabs. But let's skip this for now.

So grammar like this (just a quick draft) won't satisfy that:
nhaml    :    line*
    ;
line    :    indent? rule
    ;
indent    :    WS WS indent? // How to consume different number of WSs
depending on provided settings?
    ;
rule    :    ~WS (~NL)*
    ;

So the actual question is in rule &quot;indent&quot;.
If I don't know required number of matches of WS during development, how can
I write grammar for that?

Cheers,
Dmitriy Nagirnyak.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090715/7ea49af4/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090715/7ea49af4/attachment.html</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035183.html">[antlr-interest] Composite grammars and &quot;no start rule&quot; warning
</A></li>
	<LI>Next message: <A HREF="035185.html">[antlr-interest] Parsing HAML - significant and insignificant	whitespaces
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35184">[ date ]</a>
              <a href="thread.html#35184">[ thread ]</a>
              <a href="subject.html#35184">[ subject ]</a>
              <a href="author.html#35184">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
