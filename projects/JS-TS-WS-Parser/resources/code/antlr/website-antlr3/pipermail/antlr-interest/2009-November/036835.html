<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Grammar mismatch
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Grammar%20mismatch&In-Reply-To=%3C4F874953-4F14-4D40-9839-B7DFE9F93AE8%40ocsnet.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036834.html">
   <LINK REL="Next"  HREF="036838.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Grammar mismatch</H1>
    <B>Steve McFarlin</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Grammar%20mismatch&In-Reply-To=%3C4F874953-4F14-4D40-9839-B7DFE9F93AE8%40ocsnet.net%3E"
       TITLE="[antlr-interest] Grammar mismatch">smcfarlin at ocsnet.net
       </A><BR>
    <I>Thu Nov 26 09:24:57 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="036834.html">[antlr-interest] Grammar mismatch
</A></li>
        <LI>Next message: <A HREF="036838.html">[antlr-interest] Grammar mismatch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36835">[ date ]</a>
              <a href="thread.html#36835">[ thread ]</a>
              <a href="subject.html#36835">[ subject ]</a>
              <a href="author.html#36835">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

1) (For me) This occurs if I generate and debug the parser grammar,  
and then generate the tree grammar. What I usually do is clean the  
entire output directory, generate the parser grammar code, and then  
generate the tree grammar code. Debugging the tree grammar should be  
fine now.

2) You should be able to change the port in the properties for  
ANTLRWoks. The generated __Test__ file should reflect these changes.  
Beyond this I would not know what is occurring.

3) This sounds like an issue between debug and release code.


Generally, I always clean the output directory between release and  
debug sessions. Hope this helps. I am sure someone will soon give you  
a precise answer(s).


steve

On Nov 26, 2009, at 9:10 AM, Konstantinos Kakousis wrote:

&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> First of all let me thank you for providing such a great tool.
</I>&gt;<i> Now to the reason I&#8217;m posting here: After reading &#8220;The Definite ANTLR
</I>&gt;<i> Reference&#8221; I have managed to create my DSL grammar.
</I>&gt;<i> I use anltrworks 1.3.1 and everything works fine as long as no ASTs  
</I>&gt;<i> are
</I>&gt;<i> involved.
</I>&gt;<i> Just to be sure that there is nothing wrong with my grammar, the same
</I>&gt;<i> problem occurs with the simple example of: Expr.g and Eval.g,
</I>&gt;<i> found in the book.( I just copy-pasted the code from the web).
</I>&gt;<i>
</I>&gt;<i> After compiling successfully both, grammar and tree grammar when I
</I>&gt;<i> attempt to run or debug the tree grammar (parser grammar run and  
</I>&gt;<i> debugs ok)
</I>&gt;<i> I get:
</I>&gt;<i> 1) Grammar Mismatch popup: Warning the grammar used by the remote  
</I>&gt;<i> parser
</I>&gt;<i> is not the same (Expr.g)
</I>&gt;<i> 2) In output tabt :
</I>&gt;<i>
</I>&gt;<i> (+ 4 5) java.net.SocketException: Unrecognized Windows Sockets  
</I>&gt;<i> error: 0:
</I>&gt;<i> JVM_Bind java.net.SocketException: Unrecognized Windows Sockets error:
</I>&gt;<i> 0: JVM_Bind at java.net.PlainSocketImpl.socketBind(Native Method)
</I>&gt;<i> at java.net.PlainSocketImpl.bind(Unknown Source)
</I>&gt;<i> at java.net.ServerSocket.bind(Unknown Source)
</I>&gt;<i> at java.net.ServerSocket.&lt;init&gt;(Unknown Source)
</I>&gt;<i> at java.net.ServerSocket.&lt;init&gt;(Unknown Source)
</I>&gt;<i> at
</I>&gt;<i> org 
</I>&gt;<i> .antlr 
</I>&gt;<i> .runtime 
</I>&gt;<i> .debug.DebugEventSocketProxy.handshake(DebugEventSocketProxy.java:75)
</I>&gt;<i> at Eval.&lt;init&gt;(Eval.java:49)
</I>&gt;<i> at Eval.&lt;init&gt;(Eval.java:41)
</I>&gt;<i> at __Test__.main(__Test__.java:19)
</I>&gt;<i> Exception in thread &quot;main&quot; java.lang.NullPointerException
</I>&gt;<i> at
</I>&gt;<i> org 
</I>&gt;<i> .antlr 
</I>&gt;<i> .runtime 
</I>&gt;<i> .debug.DebugEventSocketProxy.transmit(DebugEventSocketProxy.java:116)
</I>&gt;<i> at
</I>&gt;<i> org 
</I>&gt;<i> .antlr 
</I>&gt;<i> .runtime 
</I>&gt;<i> .debug.DebugEventSocketProxy.exitRule(DebugEventSocketProxy.java:130)
</I>&gt;<i> at Eval.prog(Eval.java:149)
</I>&gt;<i> at __Test__.main(__Test__.java:21)
</I>&gt;<i>
</I>&gt;<i> 3) Consol reports a huge amount of exceptions starting with:
</I>&gt;<i> [18:56:42] java.lang.ClassCastException:
</I>&gt;<i> org.antlr.runtime.debug.RemoteDebugEventSocketListener$ProxyToken  
</I>&gt;<i> cannot
</I>&gt;<i> be cast to org.antlr.works.debugger.tree.DBTreeToken
</I>&gt;<i> at
</I>&gt;<i> org 
</I>&gt;<i> .antlr 
</I>&gt;<i> .works 
</I>&gt;<i> .debugger 
</I>&gt;<i> .input.DBInputProcessorTree.getNode(DBInputProcessorTree.java:199)
</I>&gt;<i> at
</I>&gt;<i> org 
</I>&gt;<i> .antlr 
</I>&gt;<i> .works 
</I>&gt;<i> .debugger 
</I>&gt;<i> .input.DBInputProcessorTree.processToken(DBInputProcessorTree.java:14
</I>&gt;<i> .....
</I>&gt;<i>
</I>&gt;<i> I have managed to avoid this behavior a couple of times by restarting
</I>&gt;<i> antlrworks, rebooting etc. but now it insists not to work even for the
</I>&gt;<i> simplest grammar.
</I>&gt;<i> I also tried unsuccessfully to change debugger port, I googled the
</I>&gt;<i> problem but I didn&#8217;t find anything similar, obviously I&#8217;m missing
</I>&gt;<i> something out here.
</I>&gt;<i> Any ideas? Is it something really simple or is it the first time that
</I>&gt;<i> this is reported.
</I>&gt;<i>
</I>&gt;<i> Thanks for your time!
</I>&gt;<i> BR,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036834.html">[antlr-interest] Grammar mismatch
</A></li>
	<LI>Next message: <A HREF="036838.html">[antlr-interest] Grammar mismatch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36835">[ date ]</a>
              <a href="thread.html#36835">[ thread ]</a>
              <a href="subject.html#36835">[ subject ]</a>
              <a href="author.html#36835">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
