<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Value types - can't be set to null in C#
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Value%20types%20-%20can%27t%20be%20set%20to%20null%20in%20C%23&In-Reply-To=%3C20080108010643.AF74111ED3D%40www.antlr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025609.html">
   <LINK REL="Next"  HREF="025614.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Value types - can't be set to null in C#</H1>
    <B>Gavin Lambert</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Value%20types%20-%20can%27t%20be%20set%20to%20null%20in%20C%23&In-Reply-To=%3C20080108010643.AF74111ED3D%40www.antlr.org%3E"
       TITLE="[antlr-interest] Value types - can't be set to null in C#">antlr at mirality.co.nz
       </A><BR>
    <I>Mon Jan  7 17:01:29 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="025609.html">[antlr-interest] Value types - can't be set to null in C#
</A></li>
        <LI>Next message: <A HREF="025614.html">[antlr-interest] Value types - can't be set to null in C#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25611">[ date ]</a>
              <a href="thread.html#25611">[ thread ]</a>
              <a href="subject.html#25611">[ subject ]</a>
              <a href="author.html#25611">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 13:50 8/01/2008, Terence Parr wrote:
 &gt;I'd rather not add syntax for this.  If it's not a built-in 
type,
 &gt;all defaults can be null for objects, right?

Objects, yes.  Types, no.  In C# you can define &quot;value types&quot; (and 
there are a number of standard ones like DateTime) which cannot be 
assigned null.  On the upside, they are required to have a default 
constructor, so if you know that a given type is a value type you 
can just do &quot;Type x = new Type();&quot;

Of course from a Java-based code-generation standpoint you have no 
way of knowing whether a given type is a value type or a reference 
type, which complicates matters.  So if the 'default' keyword 
thing I suggested a moment ago doesn't work (or if you don't want 
to restrict yourself to C# 2.0) then you'll have to have some kind 
of syntax to tell ANTLR whether types are value or reference.

(Or alternatively declare them as member variables 
somewhere.  Member variables get automagically assigned either 0, 
null, or default instance as appropriate when the instance is 
constructed, unlike local variables.  Of course doing this would 
either break recursive rules or be a major pain in the butt [and 
hurt performance], so I don't think we want to go there.)

</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025609.html">[antlr-interest] Value types - can't be set to null in C#
</A></li>
	<LI>Next message: <A HREF="025614.html">[antlr-interest] Value types - can't be set to null in C#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25611">[ date ]</a>
              <a href="thread.html#25611">[ thread ]</a>
              <a href="subject.html#25611">[ subject ]</a>
              <a href="author.html#25611">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
