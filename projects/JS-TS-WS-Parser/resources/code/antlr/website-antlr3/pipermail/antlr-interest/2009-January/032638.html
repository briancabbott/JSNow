<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Newbie question about lex token matching priority
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Newbie%20question%20about%20lex%20token%20matching%20priority&In-Reply-To=%3C80531546B1EAB64CBA160D97566FC7E52F170D4DD0%40NA-EXMSG-C117.redmond.corp.microsoft.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032657.html">
   <LINK REL="Next"  HREF="032644.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Newbie question about lex token matching priority</H1>
    <B>Curt Carpenter</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Newbie%20question%20about%20lex%20token%20matching%20priority&In-Reply-To=%3C80531546B1EAB64CBA160D97566FC7E52F170D4DD0%40NA-EXMSG-C117.redmond.corp.microsoft.com%3E"
       TITLE="[antlr-interest] Newbie question about lex token matching priority">Curt.Carpenter at microsoft.com
       </A><BR>
    <I>Thu Jan 29 08:14:46 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032657.html">[antlr-interest] Trouble with outdated? c language target?
</A></li>
        <LI>Next message: <A HREF="032644.html">[antlr-interest] Newbie question about lex token matching	priority
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32638">[ date ]</a>
              <a href="thread.html#32638">[ thread ]</a>
              <a href="subject.html#32638">[ subject ]</a>
              <a href="author.html#32638">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all, I am 1 day in on ANTLR, so be gentle. :)

I have gone through the tutorials and such, and have created a grammar from scratch, debugged it and have it mostly working, except for one problem. I want to parse something like this:
(#)name
Where # is a number, but name can be virtually anything except space. I think. I don't own the language, so please don't suggest that name should be further restricted. So I defined the lex rules as so:
PARENNUM       : '(' NUMBER ')';
NUMBER             : '-'? ('0'..'9')+;
NAME                   : ('!'..'\u00FE')+; // ansi only

You can see the problem at NAME. (0)curt is a valid name. But what I really want is to parse as PARENNUM=(0) NAME=curt. I have a parse rule to match that. But, the lex rules match longest string first, so (0)curt is always tokenized as NAME. Is there any way to change the priority of matching lex tokens to be the order they're defined, rather than order only breaking ties in string length?

Or is there some other way to accomplish the simple parse rule I'm trying to solve?

Thanks,

Curt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090129/4b7fd05d/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090129/4b7fd05d/attachment.html</A> 
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032657.html">[antlr-interest] Trouble with outdated? c language target?
</A></li>
	<LI>Next message: <A HREF="032644.html">[antlr-interest] Newbie question about lex token matching	priority
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32638">[ date ]</a>
              <a href="thread.html#32638">[ thread ]</a>
              <a href="subject.html#32638">[ subject ]</a>
              <a href="author.html#32638">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
