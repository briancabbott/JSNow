<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR3 ant task class file problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR3%20ant%20task%20class%20file%20problem&In-Reply-To=%3C526524.4949.qm%40web58409.mail.re3.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020710.html">
   <LINK REL="Next"  HREF="020700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR3 ant task class file problem</H1>
    <B>Travis Caldwell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR3%20ant%20task%20class%20file%20problem&In-Reply-To=%3C526524.4949.qm%40web58409.mail.re3.yahoo.com%3E"
       TITLE="[antlr-interest] ANTLR3 ant task class file problem">travis_caldwell2000 at yahoo.com
       </A><BR>
    <I>Tue May 15 23:45:16 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020710.html">[antlr-interest] Please give me your valuable advice about	antlr .
</A></li>
        <LI>Next message: <A HREF="020700.html">[antlr-interest] Exit Status from ANTLR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20698">[ date ]</a>
              <a href="thread.html#20698">[ thread ]</a>
              <a href="subject.html#20698">[ subject ]</a>
              <a href="author.html#20698">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
 Hi, 

 I was attempting to use the ANTLR3 ant task that was uploaded to the
file sharing site and I get the following error:

 BUILD FAILED
java.lang.UnsupportedClassVersionError: Bad version number in .class
file

 Googling this list I see that someone previously had the same issue:

&gt;<i> [antlr-interest] comments on ant task for v3..
</I>&gt;<i> Eitan Suez eitan.suez at gmail.com
</I>&gt;<i> Thu Feb 8 14:14:53 PST 2007
</I>[...]
&gt;<i> 5. the ant task appears to be built with java 6.
</I>&gt;<i>  i tried to run a test target and am getting this:
</I>&gt;<i> BUILD FAILED
</I>&gt;<i> java.lang.UnsupportedClassVersionError: Bad version number in .class 
</I>file

 It also looks like there was an attempt to solve this here:

&gt;<i> [antlr-interest] updated antlr3 ANT task
</I>&gt;<i>Terence Parr parrt at cs.usfca.edu
</I>&gt;<i>Sat Feb 10 16:08:49 PST 2007
</I>[...]
&gt;<i>       Compiled the antlr3 taks with -source 5 for compatibility  
</I>with Java 5.

 I checked the zip that I downloaded and I definitely have the new
version since the readme in the zip also refers to being compiled with
&quot;-source 5&quot;. It also includes the simplecTreeParser example refered to
in the email about the new version.

The class file looks to like it was built for java 6: 

$ od -tx1 ANTLR3.class | head
0000000 ca fe ba be 00 00 00 32 02 0d 0a 00 ae 01 05 07
                             ^^
The major number is 50 decimal which according to this:


<A HREF="http://help.eclipse.org/help32/index.jsp?topic=/org.eclipse.jdt.doc.isv/guide/jdt_api_compile.htm">http://help.eclipse.org/help32/index.jsp?topic=/org.eclipse.jdt.doc.isv/guide/jdt_api_compile.htm</A>

Indicates a Java 6 class file.

 Perhaps the compile should be done with &quot;-source 5 -target 5&quot; in order
to be compatible with both java 5 &amp; 6.

 I think that &quot;-source 5&quot; may only instruct the compiler to expcet java
5 source, but it will still emit java 6 class files.

 Thanks.

                  _Travis_Caldwell_






       
____________________________________________________________________________________
Moody friends. Drama queens. Your life? Nope! - their life, your story. Play Sims Stories at Yahoo! Games.
<A HREF="http://sims.yahoo.com/">http://sims.yahoo.com/</A>  
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020710.html">[antlr-interest] Please give me your valuable advice about	antlr .
</A></li>
	<LI>Next message: <A HREF="020700.html">[antlr-interest] Exit Status from ANTLR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20698">[ date ]</a>
              <a href="thread.html#20698">[ thread ]</a>
              <a href="subject.html#20698">[ subject ]</a>
              <a href="author.html#20698">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
