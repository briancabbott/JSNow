<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Bug in java grammar 1.18 (again)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Bug%20in%20java%20grammar%201.18%20%28again%29&In-Reply-To=E16UAhw-0001C3-00%40frontend2.herald.ox.ac.uk">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001029.html">
   <LINK REL="Next"  HREF="001025.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Bug in java grammar 1.18 (again)</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Bug%20in%20java%20grammar%201.18%20%28again%29&In-Reply-To=E16UAhw-0001C3-00%40frontend2.herald.ox.ac.uk"
       TITLE="[antlr-interest] Bug in java grammar 1.18 (again)">parrt at jguru.com
       </A><BR>
    <I>Thu Apr 25 17:53:33 PDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001029.html">[antlr-interest] Antlr 2.7.2a2 Report
</A></li>
        <LI>Next message: <A HREF="001025.html">[antlr-interest] Bug in java grammar 1.18 (again)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1024">[ date ]</a>
              <a href="thread.html#1024">[ thread ]</a>
              <a href="subject.html#1024">[ subject ]</a>
              <a href="author.html#1024">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday, January 25, 2002, at 10:04  AM, John P N Pybus wrote:
&gt;<i> On Friday 18 Jan 2002 9:54 am, you (Sander M&#228;gi) wrote:
</I>&gt;&gt;<i> // (new Outer()).super()  (create enclosing instance) (SM: but does not
</I>&gt;&gt;<i> work for 'holder.outer.super();')
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     | primaryExpression DOT! &quot;super&quot;! lp3:LPAREN^
</I>&gt;&gt;<i>     | {#lp3.setType(SUPER_CTOR_CALL);#lp3.setText(&quot;super&quot;);} argList
</I>&gt;&gt;<i>     | RPAREN! SEMI!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> Indeed, it should be &quot;postfixExpression DOT super&quot;, to allow multipart 
</I>&gt;<i> outer
</I>&gt;<i> expressions.  This runs into the problem that postfixExpression itself
</I>&gt;<i> matches id.id.super().
</I>
According to the java spec it should be primaryExpression, but I may 
have a radically different version of primary than the book.

Anyway, excuse my ignorance, but what does holder.out.super() mean?  How 
can you call anything but your immediate super?  I can't think of what 
that would mean to say f.g.super().  Certainly the Java spec doesn't 
seem to think you can do it (well syntactically you can but semantically 
you cannot).  Here is from the 2nd edition spec:

Explicit constructor invocation statements can be divided into two kinds:

&#8226;  Alternate constructor invocations begin with the keyword this. They 
are used to invoke an alternate constructor of the same class.
&#8226;  Superclass constructor invocations begin with either the keyword 
super or a Primary expression. They are used to invoke a constructor of 
the direct superclass. Superclass constructor invocations may be further 
subdivided:
-  Unqualified superclass constructor invocations begin with the keyword 
super.
-  Qualified superclass constructor invocations begin with a Primary 
expression. They allow a subclass constructor to explicitly specify the 
newly created object's immediately enclosing instance with respect to 
the direct superclass (&#167;8.1.2). This may be necessary when the 
superclass is an inner class.

So, it's either

&quot;this(...)&quot;
&quot;super(...)&quot;

or

&quot;(new Outer()).super();&quot;

Can somebody &quot;unconfuse&quot; me?  I've not become an expert on Java 
semantics...I'm just codin' in it.  I can't even contrive an example to 
test with the compiler.

Thanks,
Ter
--
Co-founder, <A HREF="http://www.jguru.com">http://www.jguru.com</A>
Creator, ANTLR Parser Generator: <A HREF="http://www.antlr.org">http://www.antlr.org</A>


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001029.html">[antlr-interest] Antlr 2.7.2a2 Report
</A></li>
	<LI>Next message: <A HREF="001025.html">[antlr-interest] Bug in java grammar 1.18 (again)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1024">[ date ]</a>
              <a href="thread.html#1024">[ thread ]</a>
              <a href="subject.html#1024">[ subject ]</a>
              <a href="author.html#1024">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
