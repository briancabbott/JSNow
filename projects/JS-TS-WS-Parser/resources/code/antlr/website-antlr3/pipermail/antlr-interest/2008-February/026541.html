<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Reading from sys.stdin with ANTLR-Python (for an	REPL)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Reading%20from%20sys.stdin%20with%20ANTLR-Python%20%28for%20an%0A%09REPL%29&In-Reply-To=%3Cd4f450350802172152r21978a74l6f1b824e784b9032%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026554.html">
   <LINK REL="Next"  HREF="026543.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Reading from sys.stdin with ANTLR-Python (for an	REPL)</H1>
    <B>Aaron Lebo</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Reading%20from%20sys.stdin%20with%20ANTLR-Python%20%28for%20an%0A%09REPL%29&In-Reply-To=%3Cd4f450350802172152r21978a74l6f1b824e784b9032%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Reading from sys.stdin with ANTLR-Python (for an	REPL)">aaron.m.lebo at gmail.com
       </A><BR>
    <I>Sun Feb 17 21:52:34 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026554.html">[antlr-interest] Unterminated html comments
</A></li>
        <LI>Next message: <A HREF="026543.html">[antlr-interest] Reading from sys.stdin with ANTLR-Python (for	an REPL)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26541">[ date ]</a>
              <a href="thread.html#26541">[ thread ]</a>
              <a href="subject.html#26541">[ subject ]</a>
              <a href="author.html#26541">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi. I'm obviously using the Python runtime of ANTLR.

Reading from a file and parsing it is trivial. The code looks a bit like:

import antlr3
import LangLexer
import LangParser

input = antlr3.ANTLRFileStream('filename...')
lexer = LangLexer.LangLexer(input)
tokens = antlr3.CommonTokenStream(lexer)
parser = LangParser.LangParser(tokens)

So I'm having no issue with that. What I am wanting to do is an REPL and I
need to interactively parse the data coming from sys.stdin. The problem is
that all of the 'Stream' classes from the antlr3 package read all input on
creation, so passing sys.stdin or sys.stdin.read() causes the REPL to hang,
as something like antlr3.ANTLRInputStream(sys.stdin) reads infinitely.

Am I making sense? What solution is there?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080217/c7673723/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080217/c7673723/attachment.html</A> 
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026554.html">[antlr-interest] Unterminated html comments
</A></li>
	<LI>Next message: <A HREF="026543.html">[antlr-interest] Reading from sys.stdin with ANTLR-Python (for	an REPL)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26541">[ date ]</a>
              <a href="thread.html#26541">[ thread ]</a>
              <a href="subject.html#26541">[ subject ]</a>
              <a href="author.html#26541">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
