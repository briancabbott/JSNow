<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Help on /*empty command*/ ; ; ; ;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Help%20on%20/%2Aempty%20command%2A/%20%3B%20%3B%20%3B%20%3B&In-Reply-To=%3CC49E670B.A021A%25sunshine%40public.kherson.ua%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029123.html">
   <LINK REL="Next"  HREF="029097.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Help on /*empty command*/ ; ; ; ;</H1>
    <B>Ruslan Zasukhin</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Help%20on%20/%2Aempty%20command%2A/%20%3B%20%3B%20%3B%20%3B&In-Reply-To=%3CC49E670B.A021A%25sunshine%40public.kherson.ua%3E"
       TITLE="[antlr-interest] Help on /*empty command*/ ; ; ; ;">sunshine at public.kherson.ua
       </A><BR>
    <I>Sat Jul 12 03:50:03 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029123.html">[antlr-interest] Help on /*empty command*/ ; ; ; ;
</A></li>
        <LI>Next message: <A HREF="029097.html">[antlr-interest] Inputs for grammar composition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29126">[ date ]</a>
              <a href="thread.html#29126">[ thread ]</a>
              <a href="subject.html#29126">[ subject ]</a>
              <a href="author.html#29126">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 7/12/08 8:06 AM, &quot;Thomas Brandon&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">tbrandonau at gmail.com</A>&gt; wrote:

&gt;&gt;&gt;<i> I'm a newbie, but i think the possible lookahead through sql_statement
</I>&gt;&gt;&gt;<i> might be the problem.
</I>&gt;&gt;&gt;<i> Have you tried:
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> sql_single
</I>&gt;&gt;&gt;<i>    : sql_statement? SEMI
</I>&gt;&gt;&gt;<i>    ;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Not yet, and I think this will bring performance troubles.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I know that such empty commands are allowed e.g. In C++.
</I>&gt;&gt;<i> I have take C++ grammars, and later realize why in SQL I have problems.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> * because in C++ SEMI must present.
</I>&gt;&gt;<i> * but in SQL it MAY present.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> So in SQL I need something as
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> sql_single
</I>&gt;&gt;<i>    :    SEMI
</I>&gt;&gt;<i>    |    statement (SEMI)?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> But  this not works also...
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I think because ANTLR cannot differ when add SEMI to second branch, and when
</I>&gt;&gt;<i> it is really just SEMI.
</I>&gt;<i> Is this a problem? ANTLR3 will issue a warning but it should work as
</I>&gt;<i> desired matching the optional SEMI if possible. I thought ANTLR2 would
</I>&gt;<i> do the same but it's been awhile.
</I>&gt;<i> Otherwise you could do:
</I>&gt;<i> sql_single
</I>&gt;<i>     :    SEMI
</I>&gt;<i>     |    statement
</I>&gt;<i> Assuming you don't need to include the SEMI in the tree this should be ok.
</I>&gt;<i> Otherwise you would need to add a predicate to the optional SEMI or
</I>&gt;<i> (maybe) make it greedy.
</I>
1) I am using yet 2.7.2

2) greedy will eat all following SEMI, but we also need extract EXACTLY one
command from start to its end, because e.g. VIEWs, TRIGGERs and Stored
Procedures should remember original string


-- 
Best regards,

Ruslan Zasukhin
VP Engineering and New Technology
Paradigma Software, Inc

Valentina - Joining Worlds of Information
<A HREF="http://www.paradigmasoft.com">http://www.paradigmasoft.com</A>

[I feel the need: the need for speed]


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029123.html">[antlr-interest] Help on /*empty command*/ ; ; ; ;
</A></li>
	<LI>Next message: <A HREF="029097.html">[antlr-interest] Inputs for grammar composition
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29126">[ date ]</a>
              <a href="thread.html#29126">[ thread ]</a>
              <a href="subject.html#29126">[ subject ]</a>
              <a href="author.html#29126">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
