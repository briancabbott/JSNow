<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Anyone have some good Python examples?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Anyone%20have%20some%20good%20Python%20examples%3F&In-Reply-To=%3CC4A2DDDA4F0A5C46A91AE25DD243546E14C76B%40ebs-2200.ebasedsecurity.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037529.html">
   <LINK REL="Next"  HREF="037532.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Anyone have some good Python examples?</H1>
    <B>Thomas Raef</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Anyone%20have%20some%20good%20Python%20examples%3F&In-Reply-To=%3CC4A2DDDA4F0A5C46A91AE25DD243546E14C76B%40ebs-2200.ebasedsecurity.local%3E"
       TITLE="[antlr-interest] Anyone have some good Python examples?">TRaef at wewatchyourwebsite.com
       </A><BR>
    <I>Fri Feb  5 13:23:10 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037529.html">[antlr-interest] Simple Parser Problem?
</A></li>
        <LI>Next message: <A HREF="037532.html">[antlr-interest] Anyone have some good Python examples?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37530">[ date ]</a>
              <a href="thread.html#37530">[ thread ]</a>
              <a href="subject.html#37530">[ subject ]</a>
              <a href="author.html#37530">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Okay. I would like to thank you all for allowing me to figure out the
errors of my efforts. No sarcasm.

I found out that since Bart was nice enough to get me started, even
though it was a Java example, I didn't realize where my Python program
was starting and what was antlr code.

I discovered that my line: insideFunction = False; was causing the java
compilation to complain so I moved that inside my def. I also realized
that the code: $f.text.toString()); is java and is not part of antlr.
Since I was using language=Python, it had no idea what I was trying to
do.

Now when I run my program, all I get is: STATEMENT -&gt;
(JavaScriptParser.statement_return object at 0x02168C90)

What I want to see is the line of javascript code from the .js file I'm
reading from prefaced with either STATEMENT or FUNCTION.

Can anyone help me with that?

I've watched the tutorials and read through the book, but I cannot for
the life of me figure out how to get the line of javascript to print.

Please help...

Thomas J. Raef



&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Thomas Raef
</I>&gt;<i> Sent: Thursday, February 04, 2010 5:29 PM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] Anyone have some good Python examples?
</I>&gt;<i> 
</I>&gt;<i> I'm trying to get my simple program working and I keep running into
</I>&gt;<i> errors.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> In my JavaScript.g file I've set the language=Python;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I have a @members section like:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> @members
</I>&gt;<i> 
</I>&gt;<i> {
</I>&gt;<i> 
</I>&gt;<i>                 insideFunction = False;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> def prettyPrint(type, text):
</I>&gt;<i> 
</I>&gt;<i>                 text = text.replace(&quot;\r&quot;, '') //to remove carriage
</I>&gt;<i> returns in my javascript file (mt.js)
</I>&gt;<i> 
</I>&gt;<i>                 text = text.replace(&quot;\n&quot;, '') // to remove new lines
</I>&gt;<i> 
</I>&gt;<i>                 if len(text) &gt; 55:
</I>&gt;<i> 
</I>&gt;<i>                                 start = text[:40]
</I>&gt;<i> 
</I>&gt;<i>                                 end = text[-10:]
</I>&gt;<i> 
</I>&gt;<i>                                 text = start+' ... '+end
</I>&gt;<i> 
</I>&gt;<i>                 print type+' -&gt; '+text
</I>&gt;<i> 
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> In a JavaScript.G file I have in the functionBody section:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> functionBody
</I>&gt;<i> 
</I>&gt;<i>                 :  '{' {insideFunction=True;) LT!* sourceElements LT!*
</I>&gt;<i> '}' {insideFunction=False;}
</I>&gt;<i> 
</I>&gt;<i>                 ;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> In sourceElement section I have:
</I>&gt;<i> 
</I>&gt;<i> sourceElement
</I>&gt;<i> 
</I>&gt;<i>                 : f=functionDeclaration { prettyPrint(&quot;FUNCTION &quot;,
</I>&gt;<i> $f.text.toString()); }
</I>&gt;<i> 
</I>&gt;<i>                 | s=statement { prettyPrint(&quot;STATEMENT &quot;,
</I>&gt;<i> $s.text.toString()); }
</I>&gt;<i> 
</I>&gt;<i>                 ;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Then in python I'm doing:
</I>&gt;<i> 
</I>&gt;<i> import antlr3
</I>&gt;<i> 
</I>&gt;<i> from JavaScriptLexer import JavaScriptLexer
</I>&gt;<i> 
</I>&gt;<i> from JavaScriptParser import JavaScriptParser
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> char_stream = antlr3.ANTLRFileStream(&quot;mt.js&quot;)
</I>&gt;<i> 
</I>&gt;<i> lexer = JavaScriptLexer(char_stream)
</I>&gt;<i> 
</I>&gt;<i> tokens = antlr3.CommonTokenStream(lexer)
</I>&gt;<i> 
</I>&gt;<i> parser = JavaScriptParser(tokens)
</I>&gt;<i> 
</I>&gt;<i> parser.program()
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> it barfs:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> prettyPrint(&quot;STATEMENT&quot;, ((s is not None) and
</I>&gt;<i> [self.input.toString(s.start, s.stop)] or [None])[0].toString());
</I>&gt;<i> 
</I>&gt;<i> NameError: global name 'prettyPrint' is not defined
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I'm trying, but failing. Can anyone with python experience help me
</I>out?
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Thank you in advance.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Thomas J. Raef
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> email-address
</I></PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037529.html">[antlr-interest] Simple Parser Problem?
</A></li>
	<LI>Next message: <A HREF="037532.html">[antlr-interest] Anyone have some good Python examples?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37530">[ date ]</a>
              <a href="thread.html#37530">[ thread ]</a>
              <a href="subject.html#37530">[ subject ]</a>
              <a href="author.html#37530">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
