<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Need help parsing text format
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Need%20help%20parsing%20text%20format&In-Reply-To=%3C20070430114624.369BC4409B%40ws5-1.us4.outblaze.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020452.html">
   <LINK REL="Next"  HREF="020446.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Need help parsing text format</H1>
    <B>Isabelle Muszynski</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Need%20help%20parsing%20text%20format&In-Reply-To=%3C20070430114624.369BC4409B%40ws5-1.us4.outblaze.com%3E"
       TITLE="[antlr-interest] Need help parsing text format">imus at linuxmail.org
       </A><BR>
    <I>Mon Apr 30 04:46:24 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020452.html">[antlr-interest] Some Problem with tree parser
</A></li>
        <LI>Next message: <A HREF="020446.html">[antlr-interest] Need help parsing text format
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20445">[ date ]</a>
              <a href="thread.html#20445">[ thread ]</a>
              <a href="subject.html#20445">[ subject ]</a>
              <a href="author.html#20445">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,

I need to parse text of the form 

BCS123/12.LT12ZX/HAM-BRE.1/bla&amp;&amp;^^%%$$bla.3

where the 1st and 3rd pieces are alphanumeric.

My grammar is shown at the end of this mail.
The problem is that it won't parse the cases where alphanumeric fields only contain for ex. letters :

BCSABC/12.CHARLIE/HAM-BRE.1/bla&amp;&amp;^^%%$$bla.3

I don't understand what I'm doing wrong :-(

TIA,
Isabelle

/*** GRAMMAR ***/
grammar Tokens;

SLASH :       '/';
DASH:   '-' ;
DOT     :       '.';

fragment SPECIAL_CHAR :	
          '`' | '!' | '@' | '$' | '%' | '^' | '&amp;' | '*' | '(' | ')' |
         '+' | '=' | '[' | ']' | ':' | '\'' | '&quot;' | '\\' | '|' | ',' | '&lt;' | '?' ;

fragment DIGIT 	: '0'..'9'	;
	
fragment LETTER :	'a'..'z' | 'A'..'Z' ;	

fragment ALPHA 	:	LETTER | DIGIT;

fragment ANY_CHAR :	ALPHA | SPECIAL_CHAR ;

fragment WS_CHAR  : (' ' | '\t' | '\u000C' ) ;

WS      :       WS_CHAR+;

NEWLINE  : '\r'? '\n' ;

LETTER_WORD :	LETTER+ ;
NUMBER_WORD  :	DIGIT+ ;
ALPHA_WORD  : ALPHA+ ;
FREE_WORD : ANY_CHAR+ ;

load	:	
	ALPHA_WORD
	SLASH
	NUMBER_WORD
	DOT 
	ALPHA_WORD
	SLASH
	LETTER_WORD
	DASH
	LETTER_WORD
	DOT
	NUMBER_WORD
	SLASH
	FREE_WORD
	(DOT NUMBER_WORD)?
	NEWLINE
	;

=
HIPAA compliant Digital Transcription
V-Safes with V-800: Share and receive files (DSS, WAV, RTF, DOC) from phone (V-800), handheld-recorders (Olympus). HIPAA compliance. AES encryption. Batch print and download.
<A HREF="http://a8-asy.a8ww.net/a8-ads/adftrclick?redirectid=091a5e152e265f0b42e2fc00947b1a35">http://a8-asy.a8ww.net/a8-ads/adftrclick?redirectid=091a5e152e265f0b42e2fc00947b1a35</A>


-- 
Powered by Outblaze
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020452.html">[antlr-interest] Some Problem with tree parser
</A></li>
	<LI>Next message: <A HREF="020446.html">[antlr-interest] Need help parsing text format
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20445">[ date ]</a>
              <a href="thread.html#20445">[ thread ]</a>
              <a href="subject.html#20445">[ subject ]</a>
              <a href="author.html#20445">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
