<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Problem generating the Java parser for Oracle	PL/SQL grammar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problem%20generating%20the%20Java%20parser%20for%20Oracle%0A%09PL/SQL%20grammar&In-Reply-To=%3C45c28e3e0811050127x41113a7cgfd099222ccbf964f%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031400.html">
   <LINK REL="Next"  HREF="031413.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Problem generating the Java parser for Oracle	PL/SQL grammar</H1>
    <B>Javier Luis C&#225;novas Izquierdo</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Problem%20generating%20the%20Java%20parser%20for%20Oracle%0A%09PL/SQL%20grammar&In-Reply-To=%3C45c28e3e0811050127x41113a7cgfd099222ccbf964f%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Problem generating the Java parser for Oracle	PL/SQL grammar">zirrus at gmail.com
       </A><BR>
    <I>Wed Nov  5 01:27:28 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="031400.html">[antlr-interest] Problem generating the Java parser for Oracle	PL/SQL grammar
</A></li>
        <LI>Next message: <A HREF="031413.html">[antlr-interest] Problem generating the Java parser for Oracle PL/SQL grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31403">[ date ]</a>
              <a href="thread.html#31403">[ thread ]</a>
              <a href="subject.html#31403">[ subject ]</a>
              <a href="author.html#31403">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have been testing the different situations to generate the parser
with the ANTLR tool in Windows and in Linux. The problem is the ant
task for ANTLR. It seems that the memory is limited by the ant
environment, I do not know.

The solution is to generate the parser in a &quot;traditional way&quot; (default
way). You have to use the java command and to execute the
org.antlr.Tool class. It works in Windows and in Linux.

Regards!

2008/11/4 Javier Luis C&#225;novas Izquierdo &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">zirrus at gmail.com</A>&gt;:
&gt;<i> Hi again!
</I>&gt;<i>
</I>&gt;<i> I have located the problem: The operative system. In Windows (under
</I>&gt;<i> Eclipse platform or under MSDOS) it fails. Now, I am using a linux
</I>&gt;<i> system and it works. I do not understand the real reason but I prefer
</I>&gt;<i> to be able to generate the parser.
</I>&gt;<i>
</I>&gt;<i> Can the operative system be the problem? It is very odd, isn't it? It
</I>&gt;<i> is important to note that I am using the ANT task to execute the ANTLR
</I>&gt;<i> Tool in Windows, maybe the problem is that. I do not know.
</I>&gt;<i>
</I>&gt;<i> Anyway, thanks for all!
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i>
</I>&gt;<i> 2008/11/3 Johannes Luber &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jaluber at gmx.de</A>&gt;:
</I>&gt;&gt;<i> Javier Luis C&#225;novas Izquierdo schrieb:
</I>&gt;&gt;&gt;<i> Hi Johannes, thanks for your fast response.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Maybe I have not explined the problem correctly, sorry. I have just
</I>&gt;&gt;&gt;<i> proved that changes.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I have specified the parameter for the JVM for increasing the memory
</I>&gt;&gt;&gt;<i> limit of the JVM. Actually, it is &quot;-Xms1024m -Xmx1024m&quot; (will it need
</I>&gt;&gt;&gt;<i> more? really?) and the options section does not contain the line which
</I>&gt;&gt;&gt;<i> specifies the output language (it only contains the output and k
</I>&gt;&gt;&gt;<i> options).
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I did not check that the grammar does not contain C# code. However, I
</I>&gt;&gt;&gt;<i> suppose that the parser process generation should not depends on the
</I>&gt;&gt;&gt;<i> actions included by the user. The problem should appear once the
</I>&gt;&gt;&gt;<i> parser is generated, is it true?. Anyway I have just checked the
</I>&gt;&gt;&gt;<i> grammar and I have cleaned it to remove the C# actions. The problem
</I>&gt;&gt;&gt;<i> keeps on.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I have tested the grammar with antlr 3.0.1 and 3.1.1 and both fail. I
</I>&gt;&gt;&gt;<i> think that there should be some wrong (or maybe there is a problem
</I>&gt;&gt;&gt;<i> with the antlr parser tool). I attach the grammar that I am using and
</I>&gt;&gt;&gt;<i> the trace of the last execution.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sorry for the delay. I've tested it myself and I can compile just fine
</I>&gt;&gt;<i> (although with some warnings). Could it be that you are doing the
</I>&gt;&gt;<i> options order wrong? I use
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> java -Xmx1024m -cp &lt;paths to jars - use your own here&gt; org.antlr.Tool
</I>&gt;&gt;<i> PLSQL3.g
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Johannes
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> 2008/10/31 Johannes Luber &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jaluber at gmx.de</A>&gt;:
</I>&gt;&gt;&gt;&gt;<i> Javier Luis C&#225;novas Izquierdo schrieb:
</I>&gt;&gt;&gt;&gt;&gt;<i> Hi,
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I am working with ANTLRv3 and the Oracle PL/SQL grammar definition
</I>&gt;&gt;&gt;&gt;&gt;<i> which is located in the antlr grammar list webpage and whose author is
</I>&gt;&gt;&gt;&gt;&gt;<i> Andrey Kharitonkin. I need to enrich the grammar in order to create a
</I>&gt;&gt;&gt;&gt;&gt;<i> data structure of the parsed plsql text. However, I have a problem on
</I>&gt;&gt;&gt;&gt;&gt;<i> the first phase: I cannot generate the Java parser with ANTLR tool
</I>&gt;&gt;&gt;&gt;&gt;<i> from the grammar of the webpage.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> The grammar has activated the backtrack and memoize options and the k
</I>&gt;&gt;&gt;&gt;&gt;<i> value is *. When I try to generate the parser, I get a
</I>&gt;&gt;&gt;&gt;&gt;<i> &quot;java.lang.OutOfMemoryError: Java heap space&quot; (firstTrace.txt file
</I>&gt;&gt;&gt;&gt;&gt;<i> contains the stack trace of this situation). I have tried to
</I>&gt;&gt;&gt;&gt;&gt;<i> deactivate the backtrack and memoize options and to set the k value to
</I>&gt;&gt;&gt;&gt;&gt;<i> 1 (although it will cause warnings during the generation) and the
</I>&gt;&gt;&gt;&gt;&gt;<i> problem keeps on (secondTrace.txt file contains the stack trace of
</I>&gt;&gt;&gt;&gt;&gt;<i> this situation).
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I have changed the parameters of the JVM to increase the memory limit
</I>&gt;&gt;&gt;&gt;&gt;<i> of the virtual machine to 1gb and again, the problem goes on .
</I>&gt;&gt;&gt;&gt;&gt;<i> However, the memory charge of the java instance does not exceed 100mb.
</I>&gt;&gt;&gt;&gt;&gt;<i> I cannot understand it.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I have to be doing some wrong because the grammar that I am using is
</I>&gt;&gt;&gt;&gt;&gt;<i> the same of the grammar list, I have not change anything. I have seen
</I>&gt;&gt;&gt;&gt;&gt;<i> that the grammar has the &quot;language=CSharp&quot; option. Could that be the
</I>&gt;&gt;&gt;&gt;&gt;<i> problem? Could you help me?
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Thanks
</I>&gt;&gt;&gt;&gt;<i> You have two problems: The first is that you need to tell the Java VM to
</I>&gt;&gt;&gt;&gt;<i> use more memory like &quot;java -Xmx1024m ...&quot;. Adjust the number to your
</I>&gt;&gt;&gt;&gt;<i> needs. The second problem is that the grammar has been developed with C#
</I>&gt;&gt;&gt;&gt;<i> as the output language. Changing &quot;CSharp&quot; to &quot;Java&quot; (or removing that
</I>&gt;&gt;&gt;&gt;<i> line) won't help entirely, as all actions are written in C#. You have to
</I>&gt;&gt;&gt;&gt;<i> go trough them one by one and fix any incompatibilities.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Johannes
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> ------------------------------------------------------------------------
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> Javier Luis C&#225;novas Izquierdo
</I>&gt;&gt;&gt;<i> <A HREF="http://zirrus.es">http://zirrus.es</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">zirrus at gmail.com</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Javier Luis C&#225;novas Izquierdo
</I>&gt;<i> <A HREF="http://zirrus.es">http://zirrus.es</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">zirrus at gmail.com</A>
</I>&gt;<i>
</I>


-- 
Javier Luis C&#225;novas Izquierdo
<A HREF="http://zirrus.es">http://zirrus.es</A>
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">zirrus at gmail.com</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031400.html">[antlr-interest] Problem generating the Java parser for Oracle	PL/SQL grammar
</A></li>
	<LI>Next message: <A HREF="031413.html">[antlr-interest] Problem generating the Java parser for Oracle PL/SQL grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31403">[ date ]</a>
              <a href="thread.html#31403">[ thread ]</a>
              <a href="subject.html#31403">[ subject ]</a>
              <a href="author.html#31403">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
