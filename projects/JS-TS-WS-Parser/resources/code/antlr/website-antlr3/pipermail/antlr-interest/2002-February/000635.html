<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Getting correct line information
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Getting%20correct%20line%20information&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000634.html">
   <LINK REL="Next"  HREF="000636.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Getting correct line information</H1>
    <B>mzukowski at bco.com</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Getting%20correct%20line%20information&In-Reply-To="
       TITLE="[antlr-interest] Getting correct line information">mzukowski at bco.com
       </A><BR>
    <I>Wed Feb 13 07:40:39 PST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000634.html">[antlr-interest] Getting correct line information
</A></li>
        <LI>Next message: <A HREF="000636.html">[antlr-interest] Re: Getting correct line information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#635">[ date ]</a>
              <a href="thread.html#635">[ thread ]</a>
              <a href="subject.html#635">[ subject ]</a>
              <a href="author.html#635">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sounds like you need to tweak your scanner so that when it creates Tokens it
fills in the line info properly.  

If you use an ANTLR scanner then you simply need to call newline() whenever
you want to increment the line count.

Monty

&gt;<i> -----Original Message-----
</I>&gt;<i> From: braden_mcdaniel [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">braden at endoframe.com</A>]
</I>&gt;<i> Sent: Wednesday, February 13, 2002 7:38 AM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
</I>&gt;<i> Subject: [antlr-interest] Getting correct line information
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I'm using a C++ ANTLR parser with a hand-written scanner that derives
</I>&gt;<i> from TokenStream.  It basically works, but the line information in the
</I>&gt;<i> error messages is wrong (generally I get some huge number that looks
</I>&gt;<i> like an uninitialized value).
</I>&gt;<i> 
</I>&gt;<i> Looking around in the ANTLR library source, it looks like I probably
</I>&gt;<i> want to derive from CharScanner rather than TokenStream in order to
</I>&gt;<i> make the line information work. I'm hoping someone can give me a
</I>&gt;<i> clearer roadmap to follow, though. Assuming I'm on the right track,
</I>&gt;<i> what methods do I need to override to get sane results? Any other
</I>&gt;<i> special steps I need to take? Thanks...
</I>&gt;<i> 
</I>&gt;<i> Braden
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Your use of Yahoo! Groups is subject to 
</I><A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 



 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000634.html">[antlr-interest] Getting correct line information
</A></li>
	<LI>Next message: <A HREF="000636.html">[antlr-interest] Re: Getting correct line information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#635">[ date ]</a>
              <a href="thread.html#635">[ thread ]</a>
              <a href="subject.html#635">[ subject ]</a>
              <a href="author.html#635">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
