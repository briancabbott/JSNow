<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Semantic predicates in v4 lexer rules
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Semantic%20predicates%20in%20v4%20lexer%20rules&In-Reply-To=%3C040001ccda03%240e792840%242b6b78c0%24%40tunnelvisionlabs.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043921.html">
   <LINK REL="Next"  HREF="043924.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Semantic predicates in v4 lexer rules</H1>
    <B>Sam Harwell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Semantic%20predicates%20in%20v4%20lexer%20rules&In-Reply-To=%3C040001ccda03%240e792840%242b6b78c0%24%40tunnelvisionlabs.com%3E"
       TITLE="[antlr-interest] Semantic predicates in v4 lexer rules">sam at tunnelvisionlabs.com
       </A><BR>
    <I>Mon Jan 23 11:13:12 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="043921.html">[antlr-interest] Semantic predicates in v4 lexer rules
</A></li>
        <LI>Next message: <A HREF="043924.html">[antlr-interest] Semantic predicates in v4 lexer rules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43923">[ date ]</a>
              <a href="thread.html#43923">[ thread ]</a>
              <a href="subject.html#43923">[ subject ]</a>
              <a href="author.html#43923">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Even after this is resolved, semantic predicates are almost surely not the
correct way to handle this. Instead, you should use an action like the
following at the end of the rule to reset the keyword to an identifier if
keywords are disabled. Semantic predicates in a v4 lexer have a major
performance cost.

K_IF : 'if' {if (!keywords) $type=ID;};

--
Sam Harwell
Owner, Lead Developer
<A HREF="http://tunnelvisionlabs.com">http://tunnelvisionlabs.com</A>


-----Original Message-----
From: Terence Parr [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>] 
Sent: Monday, January 23, 2012 12:40 PM
To: A Z
Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] Semantic predicates in v4 lexer rules

ooops. I removed actions from anywhere except the right-hand side but forgot
to leave in predicates.

 adding to the list.
Ter
On Jan 23, 2012, at 10:31 AM, A Z wrote:

&gt;<i> Can we still use sementic predicates in lexer rules using v4? The 
</I>&gt;<i> following code works in 3.4 but 4.0ea complains with
</I>&gt;<i> 
</I>&gt;<i> error(15): TestLexer.g:484:29: '{keywords == true}?' came as a 
</I>&gt;<i> complete surprise to me while looking for lexer rule element
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> K_IF                       : {keywords == true}? =&gt; 'if';
</I>&gt;<i> K_INT                      : {keywords == true}? =&gt; 'int';
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> The language I'm using allows changing the keyword set via 
</I>&gt;<i> preprocessor directives so all the keywords need to test a variable at 
</I>&gt;<i> runtime. Is there another way to do this in v4?
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: 
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>

List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
Unsubscribe:
<A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>

</PRE>
































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043921.html">[antlr-interest] Semantic predicates in v4 lexer rules
</A></li>
	<LI>Next message: <A HREF="043924.html">[antlr-interest] Semantic predicates in v4 lexer rules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43923">[ date ]</a>
              <a href="thread.html#43923">[ thread ]</a>
              <a href="subject.html#43923">[ subject ]</a>
              <a href="author.html#43923">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
