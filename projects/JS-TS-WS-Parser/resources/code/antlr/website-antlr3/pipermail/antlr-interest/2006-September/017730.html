<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] can't generate Parser with ecmascriptA3.g
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20can%27t%20generate%20Parser%20with%20ecmascriptA3.g&In-Reply-To=BAY118-F37E6C7D51C3BDA7C072DB3E2210%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017693.html">
   <LINK REL="Next"  HREF="017694.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] can't generate Parser with ecmascriptA3.g</H1>
    <B>David Holroyd</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20can%27t%20generate%20Parser%20with%20ecmascriptA3.g&In-Reply-To=BAY118-F37E6C7D51C3BDA7C072DB3E2210%40phx.gbl"
       TITLE="[antlr-interest] can't generate Parser with ecmascriptA3.g">dave at badgers-in-foil.co.uk
       </A><BR>
    <I>Thu Sep 28 03:58:11 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017693.html">[antlr-interest] can't generate Parser with ecmascriptA3.g
</A></li>
        <LI>Next message: <A HREF="017694.html">[antlr-interest] ArrayIndexOutOfBoundsException while generating	code in v3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17730">[ date ]</a>
              <a href="thread.html#17730">[ thread ]</a>
              <a href="subject.html#17730">[ subject ]</a>
              <a href="author.html#17730">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Can't help with your problems with the ecmascript parser, but..

On Fri, Sep 22, 2006 at 07:40:17PM +0800, Guoneng Xu wrote:
&gt;<i> and another question is, assume i have got the AST from the Parser,
</I>&gt;<i> after altering its contents a bit, how can i output it into a .js file
</I>&gt;<i> in a proper format? any JavascriptEmitter class available at this
</I>&gt;<i> moment? thanks in advance!
</I>
I've done something like that for ActionScript (which is actually an
ECMAscript-like language).

My approach is to capture the entire token stream as a linked list, and
then arrange that any modifications to the AST also make the appropriate
modifications to the token stream too.

Emmiting the result is then as simple as dumping the modified token
stream.

The difficulty with this is that code modifying the AST must take great
care to make the proper changes to the token stream, including doing any
pretty printing required, etc.  I think this is worth it though, since
it allows me to preserve the formatting of the original document, which
is difficult to get from a basic pretty-printing emitter that walks the
AST (I know -- I tried that approach first).

The code is open source, if you want to see it.


ta,
dave

-- 
<A HREF="http://david.holroyd.me.uk/">http://david.holroyd.me.uk/</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017693.html">[antlr-interest] can't generate Parser with ecmascriptA3.g
</A></li>
	<LI>Next message: <A HREF="017694.html">[antlr-interest] ArrayIndexOutOfBoundsException while generating	code in v3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17730">[ date ]</a>
              <a href="thread.html#17730">[ thread ]</a>
              <a href="subject.html#17730">[ subject ]</a>
              <a href="author.html#17730">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
