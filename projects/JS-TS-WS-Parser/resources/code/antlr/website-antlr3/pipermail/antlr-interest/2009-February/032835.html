<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] custom AST with re-write rules in C runtime
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20custom%20AST%20with%20re-write%20rules%20in%20C%20runtime&In-Reply-To=%3C4991A8AB.7020407%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032832.html">
   <LINK REL="Next"  HREF="032839.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] custom AST with re-write rules in C runtime</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20custom%20AST%20with%20re-write%20rules%20in%20C%20runtime&In-Reply-To=%3C4991A8AB.7020407%40temporal-wave.com%3E"
       TITLE="[antlr-interest] custom AST with re-write rules in C runtime">jimi at temporal-wave.com
       </A><BR>
    <I>Tue Feb 10 08:17:47 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032832.html">[antlr-interest] custom AST with re-write rules in C runtime
</A></li>
        <LI>Next message: <A HREF="032839.html">[antlr-interest] custom AST with re-write rules in C runtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32835">[ date ]</a>
              <a href="thread.html#32835">[ thread ]</a>
              <a href="subject.html#32835">[ subject ]</a>
              <a href="author.html#32835">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Robert Soule wrote:
&gt;<i> Hi Jim,
</I>&gt;<i>
</I>&gt;<i> I'd like to use my own custom AST and write my own tree adapter.
</I>&gt;<i> One thing that I haven't been able to figure out is how to substitute
</I>&gt;<i> my adapter for the default adapter when the parser code is generated.
</I>&gt;<i>
</I>&gt;<i> The adapter is declared in the parser header file as:
</I>&gt;<i>  pANTLR3_BASE_TREE_ADAPTOR   adaptor;
</I>&gt;<i>
</I>&gt;<i> and then used with the macro definition:
</I>&gt;<i> #define     ADAPTOR                         ctx-&gt;adaptor
</I>&gt;<i>
</I>&gt;<i> What I was wondering is, is there an option that I can specify to
</I>&gt;<i> have antlr generate a parser that refers to my adapter?
</I>&gt;<i>
</I>&gt;<i>  pMY_CUSTOM_TREE_ADAPTOR   adaptor;
</I>&gt;<i>
</I>&gt;<i> and the associated functions like:
</I>&gt;<i> ANTLR3_TREE_ADAPTORNew(..) ?
</I>&gt;<i>   
</I>Once you have created the parser, just install a pointer to your own 
adaptor. You can also do this in @apifuncs I think. As in:

ADAPTOR = pointerToMyAdaptor;

You adaptor structure needs to be the same structure that the common 
adaptor uses and provide the same function set.

To be honest with you, even in Java I have found it easier just to call 
my own functions directly from actions and not try and create an 
adaptor, thoguh this is essentially because of what type of tree is 
needed in the case of errors and so on.

Jim
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032832.html">[antlr-interest] custom AST with re-write rules in C runtime
</A></li>
	<LI>Next message: <A HREF="032839.html">[antlr-interest] custom AST with re-write rules in C runtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32835">[ date ]</a>
              <a href="thread.html#32835">[ thread ]</a>
              <a href="subject.html#32835">[ subject ]</a>
              <a href="author.html#32835">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
