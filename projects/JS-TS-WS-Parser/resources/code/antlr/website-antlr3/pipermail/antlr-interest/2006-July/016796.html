<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Reuse of tokens and rules
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Reuse%20of%20tokens%20and%20rules&In-Reply-To=ebc876d70606300748x1dc0006ek155baa5f689c91fa%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016809.html">
   <LINK REL="Next"  HREF="016798.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Reuse of tokens and rules</H1>
    <B>Emond Papegaaij</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Reuse%20of%20tokens%20and%20rules&In-Reply-To=ebc876d70606300748x1dc0006ek155baa5f689c91fa%40mail.gmail.com"
       TITLE="[antlr-interest] Reuse of tokens and rules">e.papegaaij at student.utwente.nl
       </A><BR>
    <I>Mon Jul  3 08:26:45 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016809.html">Fwd: [antlr-interest] Java to C# or VB.net
</A></li>
        <LI>Next message: <A HREF="016798.html">[antlr-interest] Java to C# or VB.net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16796">[ date ]</a>
              <a href="thread.html#16796">[ thread ]</a>
              <a href="subject.html#16796">[ subject ]</a>
              <a href="author.html#16796">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 30 June 2006 16:48, Thomas Brandon wrote:
&gt;<i> On 7/1/06, Emond Papegaaij &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">e.papegaaij at student.utwente.nl</A>&gt; wrote:
</I>&gt;<i> &lt;cut need token reuse&gt;
</I>&gt;<i> &gt; Is it possible to write small specifications for these constructs and
</I>&gt;<i> &gt; import the one needed? These rules are only a small portion of all the
</I>&gt;<i> &gt; rules. I don't like the solution of having to maintain the same parser and
</I>&gt;<i> &gt; lexer for multiple target languages.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; PS. I'm using ANTLR v3.
</I>&gt;<i>
</I>&gt;<i> Check out the island-grammar example in the v3 examples pack. Should give
</I>&gt;<i> you the basis for everything you need.
</I>
I'm running into a problem with the island-grammar solution. In that example 
the boundaries of the tokens are easily matched in the outer language. For 
example javadoc starts with /** and ends with */. The embedded Simple 
statements are surrounded by '{' and '}'. In my language I most of 
the 'islands' are not that clear. For example 'identifier' is taken from the 
java specification.

In the island-grammar example the nested grammar is started with the beginning 
of the token is matched. However in my case there is no way to know when to 
switch grammars. It seems I need some way to try to parse a token (and thus a 
rule in the nested grammar) and continue when it is not a match.

Another problem I'm facing is terminating the nested grammar. Most rules don't 
end with a specific token. This makes it impossible to end the lexer. Isn't 
it possible to have the lexer produce tokens on demand, rather than at the 
start? That way I can simply return from the parser rule and continue with 
the outer grammar.

Best regards,
Emond
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016809.html">Fwd: [antlr-interest] Java to C# or VB.net
</A></li>
	<LI>Next message: <A HREF="016798.html">[antlr-interest] Java to C# or VB.net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16796">[ date ]</a>
              <a href="thread.html#16796">[ thread ]</a>
              <a href="subject.html#16796">[ subject ]</a>
              <a href="author.html#16796">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
