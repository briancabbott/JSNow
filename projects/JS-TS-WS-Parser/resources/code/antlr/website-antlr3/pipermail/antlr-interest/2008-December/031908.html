<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Generating text from models
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Generating%20text%20from%20models&In-Reply-To=%3C1E6E5680-962E-4633-A946-CB67A7E93F50%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031907.html">
   <LINK REL="Next"  HREF="031909.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Generating text from models</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Generating%20text%20from%20models&In-Reply-To=%3C1E6E5680-962E-4633-A946-CB67A7E93F50%40cs.usfca.edu%3E"
       TITLE="[antlr-interest] Generating text from models">parrt at cs.usfca.edu
       </A><BR>
    <I>Fri Dec  5 12:33:42 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="031907.html">[antlr-interest] Generating text from models
</A></li>
        <LI>Next message: <A HREF="031909.html">[antlr-interest] Generating text from models
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31908">[ date ]</a>
              <a href="thread.html#31908">[ thread ]</a>
              <a href="subject.html#31908">[ subject ]</a>
              <a href="author.html#31908">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>ha!  I knew I have done this:

<A HREF="http://www.codegeneration.net/tiki-read_article.php?articleId=65">http://www.codegeneration.net/tiki-read_article.php?articleId=65</A>

IGenerate Java and XML code from the reflection API.

&gt;<i>
</I>&gt;<i> thanks a lot. For a full model-to-text transformation you can then  
</I>&gt;<i> merge the model's object tree and the corresponding template at the  
</I>&gt;<i> top of the hierarchy, and the latter then pulls in further more fine- 
</I>&gt;<i> grained templates as it is proceeds. And this is exactly what XPAND  
</I>&gt;<i> or much rather oAW does, where you also (in their workflow XML)  
</I>&gt;<i> associate model root and template root. I know (or better I have  
</I>&gt;<i> read a bit) that oAW can do a lot of very advanced things, but I  
</I>&gt;<i> currently feel that ST is much easier to get to. Needless to say  
</I>&gt;<i> that I am living in .NET country most of the time... :-) So thanks  
</I>&gt;<i> for this tool.
</I>
my pleasure

&gt;<i> Still have an issue left though: on a different project I am using  
</I>&gt;<i> Microsoft's T4 code generator from their DSL tools. If you don't  
</I>&gt;<i> know anything about it just think of ASP/JSP generators or JET in  
</I>&gt;<i> Eclipse, templates look like &quot;&lt;% code %&gt; literal text &lt;%= value %&gt;&quot;  
</I>&gt;<i> and so forth. The ability to put in code does allow for bad style,  
</I>&gt;<i> but:
</I>&gt;<i>
</I>&gt;<i> In addition to just querying attributes from the context, you can  
</I>&gt;<i> also pass parameters to (query) functions. And this is mandatory in  
</I>&gt;<i> our case. Our input data is XML and the templates emit portions from  
</I>&gt;<i> the XML by referring to XML nodes through XPATH. So in a template  
</I>&gt;<i> you might find something like
</I>&gt;<i>
</I>&gt;<i> DoIt() first parameter: &lt;%= Value( &quot;//Method[@name='DoIt']/ 
</I>&gt;<i> Parameters[0]&quot; ) %&gt;.
</I>&gt;<i>
</I>&gt;<i> Where Value( string xpathExpr ) is such a query operation to get the  
</I>&gt;<i> referenced data from the XML. The problem is that we have a lot of  
</I>&gt;<i> templates that all need different data portions so hardcoding those  
</I>&gt;<i> queries in form of getters is not an option.
</I>&gt;<i>
</I>&gt;<i> Can ST do this as well?
</I>
Well, it depends on what the arguments are.  if it's an attribute or  
string of some kind, you can use the format option and a renderer.

Any time I need to pass an argument back into the model from the  
template, I ask myself whether I am allowing the model to leak into  
the template. If it looks the program, it probably is. That is not  
something you want to happen to your template. In your case, It's hard  
to tell. But, xpath stuff to pull specific nodes from a data structure  
makes me a bit nervous unless you are just descending through the  
various nodes. One could argue that the template should simply be  
displaying data, not encoding how to jump around and ask about tree.  
One test is to ask whether or not you could use that template with  
another data structure. just something to think about.

Ter
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031907.html">[antlr-interest] Generating text from models
</A></li>
	<LI>Next message: <A HREF="031909.html">[antlr-interest] Generating text from models
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31908">[ date ]</a>
              <a href="thread.html#31908">[ thread ]</a>
              <a href="subject.html#31908">[ subject ]</a>
              <a href="author.html#31908">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
