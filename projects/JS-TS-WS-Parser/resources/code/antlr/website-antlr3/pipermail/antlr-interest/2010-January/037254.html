<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Can ST be used to generate binary output?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Can%20ST%20be%20used%20to%20generate%20binary%20output%3F&In-Reply-To=%3C226316B3E1F749498E28ACA66321D5BA01315F2EE5%40oma00cexmbx03.corp.westworlds.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037253.html">
   <LINK REL="Next"  HREF="037255.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Can ST be used to generate binary output?</H1>
    <B>Pauba, Kevin L</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Can%20ST%20be%20used%20to%20generate%20binary%20output%3F&In-Reply-To=%3C226316B3E1F749498E28ACA66321D5BA01315F2EE5%40oma00cexmbx03.corp.westworlds.com%3E"
       TITLE="[antlr-interest] Can ST be used to generate binary output?">KLPauba at west.com
       </A><BR>
    <I>Fri Jan  8 13:53:01 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037253.html">[antlr-interest] Can ST be used to generate binary output?
</A></li>
        <LI>Next message: <A HREF="037255.html">[antlr-interest] Question about idiom.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37254">[ date ]</a>
              <a href="thread.html#37254">[ thread ]</a>
              <a href="subject.html#37254">[ subject ]</a>
              <a href="author.html#37254">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks (again!) Jim.

I'll take that under advisement.  I've had the LIPs ebook for some time now (just received the hardcopy this week) but haven't dug too deep in it.  I'll do that now.



-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Jim Idle
Sent: Friday, January 08, 2010 2:31 PM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] Can ST be used to generate binary output?

It is usually better to produce an intermediate assembler representation of your byte code then have a parser that can assemble that in to byte code. You will for instance need to resolve the targets of 'jmp' and things like that and having an assembly language listing of the 'byte code' lets you be more productive when debugging and so on. Such assembly/intermediate languages are also good for optimizing phases.

When I need multiple different outputs like this then I create an Abstract class with common functionality for code generation and derive generators for each target from that. I have the code generator create StringTemplates when this is what is needed and also have a code generator that produces the byte code. Then I have the tree walker call the code generation methods rather than create templates directly in the tree grammar. You can then do multiple walks with different code generators.

If you are trying to generate Java byte code then write a code generator that interfaces to the ASM package: <A HREF="http://asm.ow2.org/">http://asm.ow2.org/</A> which is very good. There is also LLVM of course.

Finally I think that you would benefit greatly from reading the new book:

<A HREF="http://pragprog.com/titles/tpdsl/language-implementation-patterns">http://pragprog.com/titles/tpdsl/language-implementation-patterns</A>

Which will guide you through some working of examples of all of this stuff.

Jim


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037253.html">[antlr-interest] Can ST be used to generate binary output?
</A></li>
	<LI>Next message: <A HREF="037255.html">[antlr-interest] Question about idiom.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37254">[ date ]</a>
              <a href="thread.html#37254">[ thread ]</a>
              <a href="subject.html#37254">[ subject ]</a>
              <a href="author.html#37254">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
