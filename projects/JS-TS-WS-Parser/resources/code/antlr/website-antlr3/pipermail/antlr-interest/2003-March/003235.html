<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] help with a logical query-like expression gr
	ammar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20help%20with%20a%20logical%20query-like%20expression%20gr%0A%09ammar&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003234.html">
   <LINK REL="Next"  HREF="003239.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] help with a logical query-like expression gr
	ammar</H1>
    <B>mzukowski at yci.com</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20help%20with%20a%20logical%20query-like%20expression%20gr%0A%09ammar&In-Reply-To="
       TITLE="[antlr-interest] help with a logical query-like expression gr
	ammar">mzukowski at yci.com
       </A><BR>
    <I>Wed Mar  5 13:24:27 PST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003234.html">[antlr-interest] programmar.com
</A></li>
        <LI>Next message: <A HREF="003239.html">[antlr-interest] help with a logical query-like expression grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3235">[ date ]</a>
              <a href="thread.html#3235">[ thread ]</a>
              <a href="subject.html#3235">[ subject ]</a>
              <a href="author.html#3235">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There is an Oracle SQL grammar available from antlr.org.  Your best bet
might be to steal from it.  

In fact your examples are very much like the calculator example included in
the distribution.  I recommend starting there.

Also don't forget Ter's recent lectures at
<A HREF="http://www.cs.usfca.edu/~parrt/course/652/index.html">http://www.cs.usfca.edu/~parrt/course/652/index.html</A>

Monty

-----Original Message-----
From: Michael Hartman [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">mphartman at yahoo.com</A>]
Sent: Wednesday, March 05, 2003 12:01 PM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
Subject: [antlr-interest] help with a logical query-like expression
grammar


I need a grammar to describe logical query-like expression like the
kinds you'd see in a SQL WHERE clause.  For example,

A = 1

A = 1 AND B &gt;= 2

A = 1 AND (B &lt;= 2)

A = 1 AND (B != 2 OR C = 3)

A = 1 AND (B = 2 AND NOT (C = 3 OR D = 4))

where A, B, C, and D would be identifiers and 1, 2, 3, and 4 would be
values (essentially quoted strings or numbers but again, just identifiers)

I don't need to evaluate these expressions but rather parse them into
an object model I have.

I can't seem to make the mental connection as to where in the parser
or lexer I make calls to my object model to create and associate
objects that represent the elements of the expression.

For example, A = 1 would translate into an instance of type Expression
with an object of type Operator representing the equals sign.  Another
Expression would represent B &lt;= 2 and yet another would represent the
whole expression A = 1 AND B &lt;= 2 with Operator representing the AND
and two references to the first two Expression instances.

I'm not a computer scientist and I've reviewed the ANTLR doc and
samples but it is very difficult to grasp.  

THis is what I have so far:

class FilterParser extends Parser;

startRule
    :   
    ;

class FilterLexer extends Lexer;

LPAREN:	'('
	;

RPAREN:	')'
	;

EQUALS: '='
  ;

NOTEQUALS: &quot;!=&quot;
  ;

GT: '&gt;'
  ;

GTE: '&gt;='
  ;

LT: '&lt;'
  ;

LTE: '&lt;='
  ;

AND: &quot;AND&quot;
  ;

OR: &quot;OR&quot;
  ;

ANDNOT: &quot;AND NOT&quot;
  ;

ORNOT:  &quot;OR NOT&quot;
  ;

ID
options {
	testLiterals = true;
}
	:	('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'_'|'0'..'9')*
	;


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003234.html">[antlr-interest] programmar.com
</A></li>
	<LI>Next message: <A HREF="003239.html">[antlr-interest] help with a logical query-like expression grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3235">[ date ]</a>
              <a href="thread.html#3235">[ thread ]</a>
              <a href="subject.html#3235">[ subject ]</a>
              <a href="author.html#3235">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
