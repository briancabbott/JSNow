<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Dead End
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Dead%20End&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002169.html">
   <LINK REL="Next"  HREF="002175.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Dead End</H1>
    <B>Anakreon Mejdi</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Dead%20End&In-Reply-To="
       TITLE="[antlr-interest] Dead End">amejdi at ertonline.gr
       </A><BR>
    <I>Wed Oct 30 06:30:05 PST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="002169.html">[antlr-interest] Re: generated code not compilable.
</A></li>
        <LI>Next message: <A HREF="002175.html">[antlr-interest] generated code not compilable - with parameters.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2172">[ date ]</a>
              <a href="thread.html#2172">[ thread ]</a>
              <a href="subject.html#2172">[ subject ]</a>
              <a href="author.html#2172">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am facing a difficulty with a parser I am writing and need some help.
The program should parse ASP which has html tags and code written in 
JavaScript or VBScript.
I have written an Html Lexer ,an JavaScript Lexer and a Vbs Lexer.
The three Lexers a multiplexed via a TokenStreamSelector called 
AspStreamSelector.
The selector will add few Tokens and consume others in order to make
parsing simpler.

The Dead end is this:
An asp page I attempt to parse includes an other file which has
code written in JavaScript.
The JavaScript Parser fails to parse the file but when the same code is
fed to the Parser when the JavaScript Parser is working alone(not with 
the Vb Parser) it parses the code.

   I checked if the JavaScript parser receives the same tokens when is 
working alone and when is cooperating with the Vb Parser.
The only difference was that the tokens (when in asp) had a line number 
grater by one.

However the type and text of the Tokens are the same and delivered
to the Parser in the same sequence.

For two days now I couldn't find a solution to this problem
and can not understand what causes it.

I hope someone can help.

The mail has as attachment the files of the project.

Among the files there is build.xml which will compile the project
if you have ant.

In the src directory there are Main.java,Main2.java,Main3.java
Main.java will parse a plain Vb Script
Example java Main &lt;aVbsFile &gt; out.txt will print in file out.txt the AST
java Main anything&lt;aVbsFile &gt; out.txt will print in file out.tx the 
token stream.
Main3 works in the same way only that takes as input JavaScript Code.

Main2 parser an ASP page (Vbs,JS,Html mixed)
java Main2 pathToAnASP directoryWhereTheFileIs &gt; out.txt will print the 
AST
java Main2 pathToAnASP directoryWhereTheFileIs anything&gt; out.txt will 
print the Stream of Token

In the tests directory I have an asp file which can be used as an example.


Thanks for any help.
Anakreon





 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: asp_parser.tgz
Type: application/x-compressed
Size: 46093 bytes
Desc: not available
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20021030/3647ae14/asp_parser.bin">http://www.antlr.org/pipermail/antlr-interest/attachments/20021030/3647ae14/asp_parser.bin</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002169.html">[antlr-interest] Re: generated code not compilable.
</A></li>
	<LI>Next message: <A HREF="002175.html">[antlr-interest] generated code not compilable - with parameters.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2172">[ date ]</a>
              <a href="thread.html#2172">[ thread ]</a>
              <a href="subject.html#2172">[ subject ]</a>
              <a href="author.html#2172">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
