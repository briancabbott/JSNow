<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] JavaScript grammar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20JavaScript%20grammar&In-Reply-To=%3C70bbae280804020944s609a6c9y4f29cfe0a3f368ff%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027532.html">
   <LINK REL="Next"  HREF="027654.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] JavaScript grammar</H1>
    <B>Chris Lambrou</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20JavaScript%20grammar&In-Reply-To=%3C70bbae280804020944s609a6c9y4f29cfe0a3f368ff%40mail.gmail.com%3E"
       TITLE="[antlr-interest] JavaScript grammar">chris at lambrou.net
       </A><BR>
    <I>Wed Apr  2 09:44:03 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027532.html">[antlr-interest] JavaScript grammar
</A></li>
        <LI>Next message: <A HREF="027654.html">[antlr-interest] JavaScript grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27573">[ date ]</a>
              <a href="thread.html#27573">[ thread ]</a>
              <a href="subject.html#27573">[ subject ]</a>
              <a href="author.html#27573">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ah, I see the problem now. Having re-read the spec, I think one implied
solution is to incorporate the parsing of RE literals as part of the parsing
of the entire script, rather than as tokens. On the other hand, it does also
explicitly suggest enclosing RE literals in parentheses to avoid parsing
ambiguities, though this isn't mandatory (i.e. a compliant parser needs to
deal with ambiguities).

I'm not sure where that leaves me... I'll probably have a stab at including
rules to fully parse RE literals.

Chris


P.S. On a side note, I'm finding that every time I go back through the spec,
lots of edge cases start to creep out of the woodwork. For example, /*...*/
style comments that contain line-terminators should be treated as
line-terminator tokens, whilst those that don't should be treated like
white-space. The further I delve into this, the more I think that allowing
semicolon statement terminators to be optional was a poor choice on the part
of the spec designers. It just leads to unnecessary complication.



On 01/04/2008, David Holroyd &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">dave at badgers-in-foil.co.uk</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On Tue, Apr 01, 2008 at 03:41:27PM +0100, Chris Lambrou wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; As for regular expression literals, I'm
</I>&gt;<i> &gt; inclined to simply treat them as separate Regex tokens without any
</I>&gt;<i> further
</I>&gt;<i> &gt; treatment, and leave their analysis to a separate grammar. Interestingly
</I>&gt;<i> &gt; enough, whilst the ECMAScript spec has a whole section on the
</I>&gt;<i> composition of
</I>&gt;<i> &gt; regular expression literals, it doesn't appear to incorporate them into
</I>&gt;<i> the
</I>&gt;<i> &gt; rest of the grammar - not that I could see, anyway. I think they can be
</I>&gt;<i> &gt; included as an alternative in the literal rule, which then becomes
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; literal : 'null' | 'true' | 'false' | StringLiteral | NumericLiteral |
</I>&gt;<i> Regex
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regular expression literals are ambiguous with '/' (division) unless you
</I>&gt;<i> give ANTLR a hand to work out what's what.  Some discussion here,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.antlr.org/wiki/display/ANTLR3/Island+Grammars+Under+Parser+Control">http://www.antlr.org/wiki/display/ANTLR3/Island+Grammars+Under+Parser+Control</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ta,
</I>&gt;<i> dave
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> <A HREF="http://david.holroyd.me.uk/">http://david.holroyd.me.uk/</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080402/9bfb3163/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080402/9bfb3163/attachment.html</A> 
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027532.html">[antlr-interest] JavaScript grammar
</A></li>
	<LI>Next message: <A HREF="027654.html">[antlr-interest] JavaScript grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27573">[ date ]</a>
              <a href="thread.html#27573">[ thread ]</a>
              <a href="subject.html#27573">[ subject ]</a>
              <a href="author.html#27573">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
