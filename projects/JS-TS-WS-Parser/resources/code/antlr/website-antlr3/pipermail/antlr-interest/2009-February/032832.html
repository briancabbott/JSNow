<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] custom AST with re-write rules in C runtime
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20custom%20AST%20with%20re-write%20rules%20in%20C%20runtime&In-Reply-To=%3Cd1316fd70902100806k354327du399677b0f67007a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032739.html">
   <LINK REL="Next"  HREF="032835.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] custom AST with re-write rules in C runtime</H1>
    <B>Robert Soule</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20custom%20AST%20with%20re-write%20rules%20in%20C%20runtime&In-Reply-To=%3Cd1316fd70902100806k354327du399677b0f67007a%40mail.gmail.com%3E"
       TITLE="[antlr-interest] custom AST with re-write rules in C runtime">robert.soule at gmail.com
       </A><BR>
    <I>Tue Feb 10 08:06:10 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032739.html">[antlr-interest] custom AST with re-write rules in C runtime
</A></li>
        <LI>Next message: <A HREF="032835.html">[antlr-interest] custom AST with re-write rules in C runtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32832">[ date ]</a>
              <a href="thread.html#32832">[ thread ]</a>
              <a href="subject.html#32832">[ subject ]</a>
              <a href="author.html#32832">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jim,

I'd like to use my own custom AST and write my own tree adapter.
One thing that I haven't been able to figure out is how to substitute
my adapter for the default adapter when the parser code is generated.

The adapter is declared in the parser header file as:
 pANTLR3_BASE_TREE_ADAPTOR   adaptor;

and then used with the macro definition:
#define     ADAPTOR                         ctx-&gt;adaptor

What I was wondering is, is there an option that I can specify to
have antlr generate a parser that refers to my adapter?

 pMY_CUSTOM_TREE_ADAPTOR   adaptor;

and the associated functions like:
ANTLR3_TREE_ADAPTORNew(..) ?

thank you,
Robert


On Thu, Feb 5, 2009 at 3:26 PM, Jim Idle &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>&gt; wrote:
&gt;<i> Robert Soule wrote:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'd like to use my own custom AST instead of the pANTLR_BASE_TREE
</I>&gt;&gt;<i> provided in the C runtime. What I was wondering is if I can use antlr's re-write
</I>&gt;&gt;<i> rules ( -&gt; ^(...) ) to generate the tree with my own node implementation? If
</I>&gt;&gt;<i> so, can you provide any guidance on how to do that?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've been looking at antlr3basetree.h. Is the idea that we use this
</I>&gt;&gt;<i> base tree, but
</I>&gt;&gt;<i> set the &quot;u&quot; pointer to our own data structures?
</I>&gt;&gt;<i>
</I>&gt;<i> That's by far the easiest way, which is why I did that. Mostly, that's
</I>&gt;<i> all people need. However, you can also write your own tree adaptor that
</I>&gt;<i> just passes around (void *). Not a task for the inexperienced C
</I>&gt;<i> programmer though. But if you copy the adaptor code and fill in your own
</I>&gt;<i> functions, that will work. Much easier to just add your nodes to the u
</I>&gt;<i> pointer though and let the current stuff do all the work :-)
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032739.html">[antlr-interest] custom AST with re-write rules in C runtime
</A></li>
	<LI>Next message: <A HREF="032835.html">[antlr-interest] custom AST with re-write rules in C runtime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32832">[ date ]</a>
              <a href="thread.html#32832">[ thread ]</a>
              <a href="subject.html#32832">[ subject ]</a>
              <a href="author.html#32832">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
