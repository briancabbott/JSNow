<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Constructors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Constructors&In-Reply-To=agbo0a%2B1n6o%40eGroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001546.html">
   <LINK REL="Next"  HREF="001548.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Constructors</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Constructors&In-Reply-To=agbo0a%2B1n6o%40eGroups.com"
       TITLE="[antlr-interest] Re: Constructors">klaren at cs.utwente.nl
       </A><BR>
    <I>Mon Jul  8 03:26:16 PDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001546.html">[antlr-interest] Re: Constructors
</A></li>
        <LI>Next message: <A HREF="001548.html">[antlr-interest] Re: Constructors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1547">[ date ]</a>
              <a href="thread.html#1547">[ thread ]</a>
              <a href="subject.html#1547">[ subject ]</a>
              <a href="author.html#1547">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Mon, Jul 08, 2002 at 10:02:50AM -0000, pete_forman wrote:
&gt;<i> --- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at y...</A>, Ric Klaren &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">klaren at c...</A>&gt; wrote:
</I>&gt;<i> &gt; On Sun, Jun 09, 2002 at 09:50:51PM -0000, johnclarke72 wrote:
</I>&gt;<i> &gt; &gt; I know how to define extra methods within my grammar but how can I 
</I>&gt;<i> &gt; &gt; write my own Constructors within a grammar. Essentially I want to add 
</I>&gt;<i> &gt; &gt; two constructors (one that has no parameters and another that has 
</I>&gt;<i> &gt; &gt; parameters).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Just add them:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; header { // headerstuff }
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; { // for c++ this goes into the generated .cpp file
</I>&gt;<i> &gt; // extra constructor implementation
</I>&gt;<i> &gt; MyParser::MyParser( .. .. .. )
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt; class MyParser extends Parser;
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt; // for java the implementation goes here as well (i think)
</I>&gt;<i> &gt; MyParser( .. .. .. .. );
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; }
</I>&gt;<i> 
</I>&gt;<i> This fails for me (2.7.1 generating Java).  There already is a
</I>&gt;<i> contructor with no arguments in the generated code, so my
</I>&gt;<i> constructor gets a duplicate definition error when I compile.
</I>
Adding ones with different parameters than the default ones should work? Or
are you trying to add a new parameter less constructor? For that we would
need an option to suppress the default constructors.. but you are more
likely to run into trouble when upgrading antlr versions.

&gt;<i> There does not seem to be a way to augment the constructors
</I>&gt;<i> generated by ANTLR.  I suppose that I could subclass from the 
</I>&gt;<i> generated code.  Another workaround might be to add an init
</I>&gt;<i> method but that seems an unnecessary burden on the clients.
</I>
Subclassing is probably the best option then with 2.7.1. Another options is
to do additional initializations in the first rule of the grammar, maybe
not an option in some situations...

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">klaren at cs.utwente.nl</A> ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
     Innovation makes enemies of all those who prospered under the old
   regime, and only lukewarm support is forthcoming from those who would
               prosper under the new. --- Niccol&#242; Machiavelli


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001546.html">[antlr-interest] Re: Constructors
</A></li>
	<LI>Next message: <A HREF="001548.html">[antlr-interest] Re: Constructors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1547">[ date ]</a>
              <a href="thread.html#1547">[ thread ]</a>
              <a href="subject.html#1547">[ subject ]</a>
              <a href="author.html#1547">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
