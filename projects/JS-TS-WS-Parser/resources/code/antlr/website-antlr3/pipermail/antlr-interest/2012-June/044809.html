<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] UTF-8, charVocabulary in options in 3.3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20UTF-8%2C%20charVocabulary%20in%20options%20in%203.3&In-Reply-To=%3CCAOrgODbBKzO-ZciN%3DDAFZax8GtLuzzo-tb1PZ1MG6_svc-rbUw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044808.html">
   <LINK REL="Next"  HREF="044811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] UTF-8, charVocabulary in options in 3.3</H1>
    <B>Bart Kiers</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20UTF-8%2C%20charVocabulary%20in%20options%20in%203.3&In-Reply-To=%3CCAOrgODbBKzO-ZciN%3DDAFZax8GtLuzzo-tb1PZ1MG6_svc-rbUw%40mail.gmail.com%3E"
       TITLE="[antlr-interest] UTF-8, charVocabulary in options in 3.3">bkiers at gmail.com
       </A><BR>
    <I>Fri Jun 29 05:06:13 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044808.html">[antlr-interest] UTF-8, charVocabulary in options in 3.3
</A></li>
        <LI>Next message: <A HREF="044811.html">[antlr-interest] UTF-8, charVocabulary in options in 3.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44809">[ date ]</a>
              <a href="thread.html#44809">[ thread ]</a>
              <a href="subject.html#44809">[ subject ]</a>
              <a href="author.html#44809">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jun 29, 2012 at 12:26 PM, Matej Mailing &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">mailing at tam.si</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I am new to antlr but already have an issue. I have an input file that
</I>&gt;<i> contains some UTF-8 characters (like U+0161 -
</I>&gt;<i> <A HREF="http://www.fileformat.info/info/unicode/char/161/index.htm">http://www.fileformat.info/info/unicode/char/161/index.htm</A>) and I am
</I>&gt;<i> using ANTLRFileStream(inputfile, &quot;UTF-8&quot;) to get the input which is in
</I>&gt;<i> UTF-8 as it should be. However, when I do
</I>&gt;<i> &quot;RES      : '\u0161' ;&quot;
</I>&gt;<i>
</I>&gt;<i> it never matches - I get input1 line 1:0 no viable alternative at
</I>&gt;<i> character '&#353;' message.
</I>&gt;<i>
</I>&gt;<i> When I add the following segment to the grammar file:
</I>&gt;<i>
</I>&gt;<i> &quot;options
</I>&gt;<i> {
</I>&gt;<i>           charVocabulary='\u0000'..'\uFFFE';
</I>&gt;<i> }&quot;
</I>&gt;<i>
</I>&gt;<i> I get an error:
</I>&gt;<i> &quot;internal error:  : java.lang.Error: Error parsing grammar.g: '\uFFFE'
</I>&gt;<i> not expected ';'&quot;
</I>&gt;<i> ...
</I>&gt;<i> error(100): grammar.g:5:24: syntax error: antlr: grammar.g:5:24:
</I>&gt;<i> expecting SEMI, found '..'
</I>&gt;<i> error(133): grammar.g:3:1: illegal option charVocabulary&quot;
</I>&gt;<i>
</I>&gt;<i> I have been googling around for quite some time and none of the
</I>&gt;<i> solutions seems to be working. What am I doing wrong?
</I>&gt;<i>
</I>&gt;<i>
</I>charVocabulary is an (old) ANTLR v2 option, ANTLR v3 doesn't need it: v3
accepts the range 0x0000..0xFFFF by default. So remove the option
charVocabular.

My guess is that you didn't safe the input file containing 0x0161 properly
(I'm guessing it's saved as plain ASCII). Make sure you safe it as
Unicode/UTF-xx

Regards,

Bart.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044808.html">[antlr-interest] UTF-8, charVocabulary in options in 3.3
</A></li>
	<LI>Next message: <A HREF="044811.html">[antlr-interest] UTF-8, charVocabulary in options in 3.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44809">[ date ]</a>
              <a href="thread.html#44809">[ thread ]</a>
              <a href="subject.html#44809">[ subject ]</a>
              <a href="author.html#44809">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
