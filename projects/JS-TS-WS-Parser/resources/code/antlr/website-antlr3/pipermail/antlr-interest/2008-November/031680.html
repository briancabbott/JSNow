<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] a crazy problem cost me almost two days ---how can i get the return value from antlr?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20a%20crazy%20problem%20cost%20me%20almost%20two%20days%20---how%0A%20can%20i%20get%20the%20return%20value%20from%20antlr%3F&In-Reply-To=%3C492ABF22.601%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031674.html">
   <LINK REL="Next"  HREF="031681.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] a crazy problem cost me almost two days ---how can i get the return value from antlr?</H1>
    <B>Ivar Refsdal</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20a%20crazy%20problem%20cost%20me%20almost%20two%20days%20---how%0A%20can%20i%20get%20the%20return%20value%20from%20antlr%3F&In-Reply-To=%3C492ABF22.601%40gmail.com%3E"
       TITLE="[antlr-interest] a crazy problem cost me almost two days ---how can i get the return value from antlr?">refsdal.ivar at gmail.com
       </A><BR>
    <I>Mon Nov 24 06:50:10 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="031674.html">[antlr-interest] a crazy problem cost me almost two days ---how	can i get the return value from antlr?
</A></li>
        <LI>Next message: <A HREF="031681.html">[antlr-interest] a crazy problem cost me almost two days ---how can i get the return value from antlr?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31680">[ date ]</a>
              <a href="thread.html#31680">[ thread ]</a>
              <a href="subject.html#31680">[ subject ]</a>
              <a href="author.html#31680">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I noticed one thing:

You are using the name &quot;input&quot; as the return value.
It looks like this variable is reserved.
The .g to .java compiler should complain about this in my opinion.

Here the .g compiles to .java, but the .java does not compile.
If you rename the return variable name, the .java compiles also.


If you look at the code:

    public final String base1() throws RecognitionException {
        String input = null;
...
            switch ( input.LA(1) ) {
...
So that's probably it...

This compiles fine:
base1   returns[String input2]
        :
b64=Base64Block{$input2=$b64.getText();}|ident=Id{$input2=$ident.getText();}|n
= Num  {$input2 = $n.getText();}
        ;
id1   returns[String input2]
      :ident=Id{$input2=$ident.getText();}
|<i>b64=Base64Block{$input2=$b64.getText();}|n = Num  {$input2 = $n.getText();}
</I>      ;


Good luck,
Ivar



Terence Parr wrote:
&gt;<i> On Nov 23, 2008, at 7:47 PM, Su Zhang wrote:
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> Hi all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I wrote a returns [String s] in my rules in order to get a return  
</I>&gt;&gt;<i> value, but when I call the function generated by the exact rule in  
</I>&gt;&gt;<i> the main function, there is not any return value, and the type of  
</I>&gt;&gt;<i> return value is not a String, and the value includes a tree  
</I>&gt;&gt;<i> structure,etc, but I define it as a string in the antlrworks, does  
</I>&gt;&gt;<i> anybody know what's the problem in my project? how can i get the  
</I>&gt;&gt;<i> return String I defined? I am almost crazy about this annoying  
</I>&gt;&gt;<i> problem,
</I>&gt;&gt;<i> here is a part of my grammar:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> hi. have you looked at the generated code?  It should have a t in the  
</I>&gt;<i> object returned from that rule.
</I>&gt;<i>
</I>&gt;<i> Ter
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>&gt;<i>   
</I>
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031674.html">[antlr-interest] a crazy problem cost me almost two days ---how	can i get the return value from antlr?
</A></li>
	<LI>Next message: <A HREF="031681.html">[antlr-interest] a crazy problem cost me almost two days ---how can i get the return value from antlr?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31680">[ date ]</a>
              <a href="thread.html#31680">[ thread ]</a>
              <a href="subject.html#31680">[ subject ]</a>
              <a href="author.html#31680">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
