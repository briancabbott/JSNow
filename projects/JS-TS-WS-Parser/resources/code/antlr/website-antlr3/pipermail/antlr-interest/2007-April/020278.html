<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Can lex token return value?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Can%20lex%20token%20return%20value%3F&In-Reply-To=%3Cf5bc35a8b41a4d71aaf0296e3a336570%40526cd7ec8bd54968a6035efaceb4177e%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020271.html">
   <LINK REL="Next"  HREF="020279.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Can lex token return value?</H1>
    <B>femtowin1</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Can%20lex%20token%20return%20value%3F&In-Reply-To=%3Cf5bc35a8b41a4d71aaf0296e3a336570%40526cd7ec8bd54968a6035efaceb4177e%3E"
       TITLE="[antlr-interest] Can lex token return value?">femtowin1 at gmail.com
       </A><BR>
    <I>Wed Apr 18 20:14:37 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020271.html">[antlr-interest] Lack of understanding with importVocab
</A></li>
        <LI>Next message: <A HREF="020279.html">[antlr-interest] Can lex token return value?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20278">[ date ]</a>
              <a href="thread.html#20278">[ thread ]</a>
              <a href="subject.html#20278">[ subject ]</a>
              <a href="author.html#20278">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I was trying to define the following grammar:

int
	:	'-'?(DECIMAL|HEX|BINARY|OCTAL | ESCAPE_INT) {token = createIntToken();}
	;

DECIMAL returns [int value]	:	('0d')?('0'..'9') ('_'? '0'..'9')* {$value = parseInt($text);};

HEX	:	...;
BINARY	:	...;
OCTAL	:	...;
ESCAPE_INT
	:       ...  
	;

the generated Lexer file is:

public final void mDECIMAL() throws RecognitionException {
        int value = 0;

        try {
            int _type = DECIMAL;
            // C:\\toolset\\ruby\\xruby-trunk\\src\\com\\xruby\\compiler\\parser\\Rubyv3.g:162:31: ( ( '0d' )? ( '0' .. '9' ) ( ( '_' )? '0' .. '9' )* )
            // C:\\toolset\\ruby\\xruby-trunk\\src\\com\\xruby\\compiler\\parser\\Rubyv3.g:162:31: ( '0d' )? ( '0' .. '9' ) ( ( '_' )? '0' .. '9' )*
            {
            // C:\\toolset\\ruby\\xruby-trunk\\src\\com\\xruby\\compiler\\parser\\Rubyv3.g:162:31: ( '0d' )?
            int alt3=2;
            int LA3_0 = input.LA(1);

            if ( (LA3_0=='0') ) {
                int LA3_1 = input.LA(2);

                if ( (LA3_1=='d') ) {
                    alt3=1;
                }
            }
            switch (alt3) {
                case 1 :
                    // C:\\toolset\\ruby\\xruby-trunk\\src\\com\\xruby\\compiler\\parser\\Rubyv3.g:162:32: '0d'
                    {
                    match(&quot;0d&quot;); 


                    }
                    break;

            }

            // C:\\toolset\\ruby\\xruby-trunk\\src\\com\\xruby\\compiler\\parser\\Rubyv3.g:162:38: ( '0' .. '9' )
            // C:\\toolset\\ruby\\xruby-trunk\\src\\com\\xruby\\compiler\\parser\\Rubyv3.g:162:39: '0' .. '9'
            {
            matchRange('0','9'); 

            }

            // C:\\toolset\\ruby\\xruby-trunk\\src\\com\\xruby\\compiler\\parser\\Rubyv3.g:162:49: ( ( '_' )? '0' .. '9' )*
            loop5:
            do {
                int alt5=2;
                int LA5_0 = input.LA(1);

                if ( ((LA5_0&gt;='0' &amp;&amp; LA5_0&lt;='9')||LA5_0=='_') ) {
                    alt5=1;
                }


                switch (alt5) {
            	case 1 :
            	    // C:\\toolset\\ruby\\xruby-trunk\\src\\com\\xruby\\compiler\\parser\\Rubyv3.g:162:50: ( '_' )? '0' .. '9'
            	    {
            	    // C:\\toolset\\ruby\\xruby-trunk\\src\\com\\xruby\\compiler\\parser\\Rubyv3.g:162:50: ( '_' )?
            	    int alt4=2;
            	    int LA4_0 = input.LA(1);

            	    if ( (LA4_0=='_') ) {
            	        alt4=1;
            	    }
            	    switch (alt4) {
            	        case 1 :
            	            // C:\\toolset\\ruby\\xruby-trunk\\src\\com\\xruby\\compiler\\parser\\Rubyv3.g:162:50: '_'
            	            {
            	            match('_'); 

            	            }
            	            break;

            	    }

            	    matchRange('0','9'); 

            	    }
            	    break;

            	default :
            	    break loop5;
                }
            } while (true);

            value = parseInt(getText());

            }

            this.type = _type;
        }
        finally {
        }

it seems can't return value from Lex, is that true?
______________________________________
Sent from my www.pageflakes.com startpage
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020271.html">[antlr-interest] Lack of understanding with importVocab
</A></li>
	<LI>Next message: <A HREF="020279.html">[antlr-interest] Can lex token return value?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20278">[ date ]</a>
              <a href="thread.html#20278">[ thread ]</a>
              <a href="subject.html#20278">[ subject ]</a>
              <a href="author.html#20278">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
