<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Relaxed number format lexer problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Relaxed%20number%20format%20lexer%20problem&In-Reply-To=%3C86403CA0939415448BCCB83855EFE09AA67ECB%40Bloodymary.ironwillgames.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034144.html">
   <LINK REL="Next"  HREF="034147.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Relaxed number format lexer problem</H1>
    <B>Sam Harwell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Relaxed%20number%20format%20lexer%20problem&In-Reply-To=%3C86403CA0939415448BCCB83855EFE09AA67ECB%40Bloodymary.ironwillgames.com%3E"
       TITLE="[antlr-interest] Relaxed number format lexer problem">sharwell at pixelminegames.com
       </A><BR>
    <I>Wed Apr 22 10:19:39 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="034144.html">[antlr-interest] Relaxed number format lexer problem
</A></li>
        <LI>Next message: <A HREF="034147.html">[antlr-interest] Relaxed number format lexer problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34146">[ date ]</a>
              <a href="thread.html#34146">[ thread ]</a>
              <a href="subject.html#34146">[ subject ]</a>
              <a href="author.html#34146">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>There are a few problems with that method I have overcome:

 

1.       It uses sempreds. Sempreds break the heavy optimizations I'm
working on integrating into the ANTLR compiler.

2.       It uses actions. Mine also uses an action, but it's a simple
one that could easily be altered for a different target. It's also
easier to make use of this rule across languages with varying number
semantics (alterations to the rule would likely be minimal if required).
Interleaved actions also hurt the optimizer; here I restricted it to the
@after section but I can move it to NextToken() later if necessary.

3.       There are several places in the IntelliSense engine where it
doesn't matter whether or not the number is valid. For those I disable
the classifier and its messages to favor IDE response times.


In a setting where these are not issues, I really understand where
you're coming from with your rule. It's a great example of the measures
a compiler designer should take to make the system able to provide
clearly understandable, localized messages in the face of a wide variety
of errors, and more people should work like that.

 

Nevertheless, I still think ANTLR is generating incorrect code for way I
originally tried to structure the rule.

 

Sam

 

From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Jim Idle
Sent: Wednesday, April 22, 2009 11:52 AM
Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] Relaxed number format lexer problem

 

Sam Harwell wrote: 

I'm using a heavily relaxed NUMBER token in my lexer so I can provide
better error messages. The problem I'm having occurs when input such as
1..2 is reached. The '..' should be an OP_RANGE token, not part of the
number.

 

Please check the wiki for things like this, this is an FAQ witch a
complete example:

<A HREF="http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating+poin">http://www.antlr.org/wiki/display/ANTLR3/Lexer+grammar+for+floating+poin</A>
t%2C+dot%2C+range%2C+time+specs

Jim



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090422/b82b9261/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090422/b82b9261/attachment.html</A> 
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034144.html">[antlr-interest] Relaxed number format lexer problem
</A></li>
	<LI>Next message: <A HREF="034147.html">[antlr-interest] Relaxed number format lexer problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34146">[ date ]</a>
              <a href="thread.html#34146">[ thread ]</a>
              <a href="subject.html#34146">[ subject ]</a>
              <a href="author.html#34146">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
