<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR3 C Target Runtime Error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR3%20C%20Target%20Runtime%20Error&In-Reply-To=%3C783273.80063.qm%40web111706.mail.gq1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038875.html">
   <LINK REL="Next"  HREF="038877.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR3 C Target Runtime Error</H1>
    <B>Ha</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR3%20C%20Target%20Runtime%20Error&In-Reply-To=%3C783273.80063.qm%40web111706.mail.gq1.yahoo.com%3E"
       TITLE="[antlr-interest] ANTLR3 C Target Runtime Error">haiscai2003 at yahoo.com
       </A><BR>
    <I>Tue Jun  1 03:41:27 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="038875.html">[antlr-interest] Can't find template actionSetAttribute.st;	group 	hierarchy is [Java]
</A></li>
        <LI>Next message: <A HREF="038877.html">[antlr-interest] Comments, EOF, and Debugger
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38876">[ date ]</a>
              <a href="thread.html#38876">[ thread ]</a>
              <a href="subject.html#38876">[ subject ]</a>
              <a href="author.html#38876">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I meant it works with your example but the same include files and library gives me the same crash with my grammar. 

So generated files are different. My grammar generates an AST. Yours doesn't.

Thanks,
Hai


On 1 Jun 2010, at 10:09, Ha &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">haiscai2003 at yahoo.com</A>&gt; wrote:


Hi,

Thanks for your reply. 

I have tried one of those examples but I still get the same runtime crash
due to the fact that the state &quot;member&quot; variable is not initialized.

Is there a way to properly initialize it?
( as opposed to just passing it as a parameter which doesn't work).

Thanks!


On 28 May 2010, at 18:00, &quot;Jim Idle&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>&gt; wrote:

Download the examples from the download page and check out the driver there, in case there is something else that is no up to date in my online docs (that I will update soon;-)



Jim



From: H S [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">haiscai2003 at yahoo.com</A>] 
Sent: Friday, May 28, 2010 12:48 AM
To: Jim Idle
Subject: Re: [antlr-interest] ANTLR3 C Target Runtime Error



The code I am using is the one in the documentation found here:

<A HREF="http://www.antlr.org/api/C/index.html">http://www.antlr.org/api/C/index.html</A>



I have just changed these two lines, just to make it compile:



tstream = antlr3CommonTokenStreamSourceNew(ANTLR3_SIZE_HINT, lxr-&gt;pLexer-&gt;tokSource);


if (psr-&gt;pParser-&gt;rec-&gt;errorCount &gt; 0)

For the first one, I had added the TOKENSOURCE macro and for the second one I changed errorCount to getNumberOfSyntaxErrors.



That's really it.



Thanks,

Hai

From: Jim Idle &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>&gt;
To: &quot;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
Sent: Thu, May 27, 2010 2:52:53 PM
Subject: Re: [antlr-interest] ANTLR3 C Target Runtime Error

Correct function, but obviously you are doing something wrong because the hundreds of parsers out there already would not be there if there was a bug as fundamental as this one. Follow the C examples or post your driver code so we can see what you are doing wrong.

Jim

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of H S
Sent: Thursday, May 27, 2010 2:43 AM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: [antlr-interest] ANTLR3 C Target Runtime Error

Hi,

There seems to be a bug in the generated C sources (antlr3lexer.c): the
state variable is NULL and dues to that it crashes later.
It is NULL because LangParserNew passes NULL to LangParserNew SSD, etc.
I have tried a few versions (3.1.3, 3.2,etc ) and all seem to have this
problem.
Am I calling the wrong function (LangParserNew)?

Thanks.
Hai





List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
email-address




List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>







List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>



      
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038875.html">[antlr-interest] Can't find template actionSetAttribute.st;	group 	hierarchy is [Java]
</A></li>
	<LI>Next message: <A HREF="038877.html">[antlr-interest] Comments, EOF, and Debugger
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38876">[ date ]</a>
              <a href="thread.html#38876">[ thread ]</a>
              <a href="subject.html#38876">[ subject ]</a>
              <a href="author.html#38876">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
