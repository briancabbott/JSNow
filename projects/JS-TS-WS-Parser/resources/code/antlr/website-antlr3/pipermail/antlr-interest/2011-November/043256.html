<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Fundamental question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Fundamental%20question&In-Reply-To=%3CSNT132-W229AD3034EE9306201FEF4C0DD0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043245.html">
   <LINK REL="Next"  HREF="043262.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Fundamental question</H1>
    <B>Hans-Georg Winkler</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Fundamental%20question&In-Reply-To=%3CSNT132-W229AD3034EE9306201FEF4C0DD0%40phx.gbl%3E"
       TITLE="[antlr-interest] Fundamental question">hans-georg.winkler at hotmail.com
       </A><BR>
    <I>Fri Nov 11 00:07:16 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="043245.html">[antlr-interest] Fundamental question
</A></li>
        <LI>Next message: <A HREF="043262.html">[antlr-interest] Fundamental question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43256">[ date ]</a>
              <a href="thread.html#43256">[ thread ]</a>
              <a href="subject.html#43256">[ subject ]</a>
              <a href="author.html#43256">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello,


i already read this article and even did some custom recovery by changing the order of recovery (-&gt;first insertion, then deletion) for one specific problem.

But again thats just a fix for a small group of error cases. What i want to do is change how an error is passed up to the top node of my tree.
If that is possible of course, but i've already tried several different approaches to make my parser error resistant, i tried adding rules for wrong code for example, but it doesnt seem like the way it should be done.
There's incredibly little information about this on the web (or i'm just to dumb to find it) though.


I don't know if i'm going in the right direction, but if someone knows a good way to make a parser error resistant i would be willing to learn.


Georg




&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>
</I>&gt;<i> Date: Thu, 10 Nov 2011 07:15:45 -0800
</I>&gt;<i> CC: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: Re: [antlr-interest] Fundamental question
</I>&gt;<i> 
</I>&gt;<i> Take a look at:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.antlr.org/wiki/display/ANTLR3/Custom+Syntax+Error+Recovery">http://www.antlr.org/wiki/display/ANTLR3/Custom+Syntax+Error+Recovery</A>
</I>&gt;<i> 
</I>&gt;<i> as it may help. This is also useful for the other person asking about AST
</I>&gt;<i> construction on errors, though in the end that probably comes down to
</I>&gt;<i> custom coding.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Jim
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: Mari Matinlassi [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">mmatinlassi at icinetic.com</A>]
</I>&gt;<i> &gt; Sent: Thursday, November 10, 2011 1:01 AM
</I>&gt;<i> &gt; To: 'Jim Idle'; 'Ian Kaplan'
</I>&gt;<i> &gt; Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> &gt; Subject: RE: [antlr-interest] Fundamental question
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Jim, Ian,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks for pointing me to missing EOF.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; However, it did not .. kind of.. solve my problem.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Resulting tree will now (after adding EOF and with same input) be
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; int test ;
</I>&gt;<i> &gt; &lt;missing EOF&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Whereas, I would _like to have_ a tree something like below:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; int test;
</I>&gt;<i> &gt; &lt;error&gt;
</I>&gt;<i> &gt; int variable;
</I>&gt;<i> &gt; string here;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; How to refactor my grammar to make a tree like above?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks in advance,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; mari
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
</I>&gt;<i> &gt; [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Jim Idle
</I>&gt;<i> &gt; Sent: Wednesday, November 09, 2011 6:18 PM
</I>&gt;<i> &gt; Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> &gt; Subject: Re: [antlr-interest] Fundamental question
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Except that the rule &quot;type&quot; does not allow an ID as the type, and so
</I>&gt;<i> &gt; this is a plain syntax error that is not picked up because of the lack
</I>&gt;<i> &gt; of EOF at the end of the start rule.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Jim
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> &gt; &gt; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Ian Kaplan
</I>&gt;<i> &gt; &gt; Sent: Wednesday, November 09, 2011 9:09 AM
</I>&gt;<i> &gt; &gt; To: Mari Matinlassi
</I>&gt;<i> &gt; &gt; Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> &gt; &gt; Subject: Re: [antlr-interest] Fundamental question
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;   There is nothing wrong as far as the syntax goes with this.  There
</I>&gt;<i> &gt; &gt; could, for example, be a user defined type called strig (strings for
</I>&gt;<i> &gt; &gt; trigonometry :).  So this is grammatically correct.  What is not
</I>&gt;<i> &gt; &gt; correct is the semantics.  In fact, there probably is no user defined
</I>&gt;<i> &gt; &gt; type strig.  So this is an error may be issued after the syntax tree
</I>&gt;<i> &gt; &gt; is built, when a semantic phase makes a pass over the tree.  The
</I>&gt;<i> &gt; &gt; semantic phase would discover that there was no type strig and report
</I>&gt;<i> &gt; &gt; an error (&quot;No type 'strig' on line 42&quot;).
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; On Wed, Nov 9, 2011 at 8:18 AM, Mari Matinlassi
</I>&gt;<i> &gt; &gt; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">mmatinlassi at icinetic.com</A>&gt;wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Hi,
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; There is something fundamental and important that I have not
</I>&gt;<i> &gt; &gt; &gt; understood with ANTLR grammars.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; If I need to parse something like...
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;        int test;
</I>&gt;<i> &gt; &gt; &gt;        strig another;
</I>&gt;<i> &gt; &gt; &gt;        int variable;
</I>&gt;<i> &gt; &gt; &gt;        string here;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; You notice there is a typing error on the second line ('strig'
</I>&gt;<i> &gt; &gt; instead
</I>&gt;<i> &gt; &gt; &gt; of 'string').
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; How do I make a grammar that will not stop parsing but, continues
</I>&gt;<i> &gt; &gt; &gt; after an error??
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Below is an example how I CANNOT make it work the right way
</I>&gt;<i> &gt; (created
</I>&gt;<i> &gt; &gt; &gt; AST contains only 'int test ;')..
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; grammar List;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; options {
</I>&gt;<i> &gt; &gt; &gt;        language = CSharp3;
</I>&gt;<i> &gt; &gt; &gt;        TokenLabelType = CommonToken;
</I>&gt;<i> &gt; &gt; &gt;        output=AST;
</I>&gt;<i> &gt; &gt; &gt;        ASTLabelType = CommonTree;
</I>&gt;<i> &gt; &gt; &gt; }
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; @lexer::namespace{ConsoleApplication4}
</I>&gt;<i> &gt; &gt; &gt; @parser::namespace{ConsoleApplication4}
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; public r
</I>&gt;<i> &gt; &gt; &gt;        : variables*
</I>&gt;<i> &gt; &gt; &gt;        ;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; variables
</I>&gt;<i> &gt; &gt; &gt;        : type ID ';'
</I>&gt;<i> &gt; &gt; &gt;        ;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; type
</I>&gt;<i> &gt; &gt; &gt;        : 'int'
</I>&gt;<i> &gt; &gt; &gt;        | 'string'
</I>&gt;<i> &gt; &gt; &gt;        ;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; ID : 'a'..'z' + ;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; WS : (' ' |'\n' |'\r' ) {$channel=Hidden;} ;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Many thanks for your time and help,
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; Mari
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; &gt; &gt; Unsubscribe:
</I>&gt;<i> &gt; &gt; &gt; <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-">http://www.antlr.org/mailman/options/antlr-interest/your-email-</A>
</I>&gt;<i> &gt; &gt; address
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; &gt; Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-">http://www.antlr.org/mailman/options/antlr-</A>
</I>&gt;<i> &gt; interest/your-
</I>&gt;<i> &gt; &gt; email-address
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; Unsubscribe:
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I> 		 	   		  
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043245.html">[antlr-interest] Fundamental question
</A></li>
	<LI>Next message: <A HREF="043262.html">[antlr-interest] Fundamental question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43256">[ date ]</a>
              <a href="thread.html#43256">[ thread ]</a>
              <a href="subject.html#43256">[ subject ]</a>
              <a href="author.html#43256">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
