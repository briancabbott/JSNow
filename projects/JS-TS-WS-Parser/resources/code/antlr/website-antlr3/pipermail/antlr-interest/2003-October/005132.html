<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: A simple prepocessor with a lexer?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20A%20simple%20prepocessor%20with%20a%20lexer%3F&In-Reply-To=65721E6A-F8E6-11D7-9042-000A95891192%40cs.usfca.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005128.html">
   <LINK REL="Next"  HREF="005133.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: A simple prepocessor with a lexer?</H1>
    <B>maaxxxcal</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20A%20simple%20prepocessor%20with%20a%20lexer%3F&In-Reply-To=65721E6A-F8E6-11D7-9042-000A95891192%40cs.usfca.edu"
       TITLE="[antlr-interest] Re: A simple prepocessor with a lexer?">maaxxxcal at yahoo.com
       </A><BR>
    <I>Tue Oct  7 17:36:27 PDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005128.html">[antlr-interest] Re: A simple prepocessor with a lexer?
</A></li>
        <LI>Next message: <A HREF="005133.html">[antlr-interest] Re: A simple prepocessor with a lexer?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5132">[ date ]</a>
              <a href="thread.html#5132">[ thread ]</a>
              <a href="subject.html#5132">[ subject ]</a>
              <a href="author.html#5132">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hummm ok, I promise this is the last post on that topic. I realize 
that maybe I should have been more clear about what I was trying to 
achieve from the beginning.
So the class you're talking about is LexerSharedInputState, but I'm 
not sure it would do for me because I don't know when to stop the 
inner Lexer. Let me explain.
One of the effect of my pragma is to define what the statement 
separator is going to be for the next portion of code. I already have 
a lexer and parser that know how to parse a single statement, with no 
separator. Now what I'm trying to do is to wite a lexer that will 
process my script, understand the pragmas and cut statements to feed 
them to my single-statement lexer/parser.

Here's the structure that the scripts I have to parse can have:
-- PRAGMA separator=@
-- PRAGMA error=on
&lt;statement&gt;@
&lt;statement&gt;@
-- PRAGMA error=off
-- PRAGMA separator=%
&lt;statement&gt;%
&lt;statement&gt;%

What's interesting in this problem is that an important part of the 
syntax (the statement separator) is only defined at runtime. I 
believe there is no way to do that with only 1 lexer/parser with 
ANTLR because it has to be able to predict statically what the 
alternatives are.

So what strategy would you use?
Thanks again for your help!!

&gt;<i> Oh that's different.  Simplest thing to do is create another lexer 
</I>that 
&gt;<i> handles that text and then, using a SharedLexerInputState (or 
</I>whatever 
&gt;<i> it's called), create an instance of the new lexer in the outer 
</I>lexer 
&gt;<i> and then make a while loop around it's nextToken().
</I>&gt;<i> 
</I>&gt;<i> You can grep for that class name in the examples probably.
</I>&gt;<i> 
</I>&gt;<i> Ter
</I>&gt;<i> --
</I>&gt;<i> Professor Comp. Sci., University of San Francisco
</I>&gt;<i> Creator, ANTLR Parser Generator, <A HREF="http://www.antlr.org">http://www.antlr.org</A>
</I>&gt;<i> Co-founder, <A HREF="http://www.jguru.com">http://www.jguru.com</A>
</I>&gt;<i> Co-founder, <A HREF="http://www.knowspam.net">http://www.knowspam.net</A> enjoy email again!
</I>&gt;<i> Co-founder, <A HREF="http://www.peerscope.com">http://www.peerscope.com</A> pure link sharing
</I>

 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005128.html">[antlr-interest] Re: A simple prepocessor with a lexer?
</A></li>
	<LI>Next message: <A HREF="005133.html">[antlr-interest] Re: A simple prepocessor with a lexer?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5132">[ date ]</a>
              <a href="thread.html#5132">[ thread ]</a>
              <a href="subject.html#5132">[ subject ]</a>
              <a href="author.html#5132">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
