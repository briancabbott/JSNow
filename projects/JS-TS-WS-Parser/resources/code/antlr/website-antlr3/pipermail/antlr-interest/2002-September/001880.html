<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] trace as an grammar and rule option
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20trace%20as%20an%20grammar%20and%20rule%20option&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001879.html">
   <LINK REL="Next"  HREF="001883.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] trace as an grammar and rule option</H1>
    <B>richardhensley99</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20trace%20as%20an%20grammar%20and%20rule%20option&In-Reply-To="
       TITLE="[antlr-interest] trace as an grammar and rule option">richard.hensley at mckesson.com
       </A><BR>
    <I>Tue Sep 17 14:08:29 PDT 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="001879.html">[antlr-interest] How to solve following conflict ?
</A></li>
        <LI>Next message: <A HREF="001883.html">[antlr-interest] trace as an grammar and rule option
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1880">[ date ]</a>
              <a href="thread.html#1880">[ thread ]</a>
              <a href="subject.html#1880">[ subject ]</a>
              <a href="author.html#1880">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I have a situation where I can only reproduce a bug by testing my 
grammar on a file that is about 20k lines long. I used antlr and 
turned on -traceParser, and this looks like it will generate the 
output I need, however it is taking a very long time to run... 

I was wondering if anybody has ever thought about a trace option at 
the grammar and at the rule level?

I've been poking around in the antlr source, and I think it would be 
implemented very much like the defaultErrorHandler option. It seems 
that the touch points would be the following:

MakeGrammar.java is the only place the creates rule blocks. When it 
creates them, it copies the defaultErrorHandler option from the 
grammar. I think the same rules would apply for a trace option.

JavaCodeGenerator.java checks the grammar for the traceRules flag. 
This would be changed to test the rule block currently in context.

Grammar.java the setOption method would be modified to allow a trace 
option.

RuleBlock.java the setOption method would be modified to allow a 
trace option.

Are there any other touch points that I missed?

I think this would be useful because I would be able to reduce the 
number of rules that are trace that I really don't care about. At 
this time, my test for debugging takes enough time that I was able to 
research this change and start on the changes.

&gt;&gt;<i>From my research, I think the changes would allow the option in 
</I>lexers, parsers, and tree parsers.

If anybody thinks this is useful, I would be more that willing to 
submit the source files, or a diff patch back to the list. I'm using 
2.7.2a2, so I think this is fairly recent.

Richard


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001879.html">[antlr-interest] How to solve following conflict ?
</A></li>
	<LI>Next message: <A HREF="001883.html">[antlr-interest] trace as an grammar and rule option
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1880">[ date ]</a>
              <a href="thread.html#1880">[ thread ]</a>
              <a href="subject.html#1880">[ subject ]</a>
              <a href="author.html#1880">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
