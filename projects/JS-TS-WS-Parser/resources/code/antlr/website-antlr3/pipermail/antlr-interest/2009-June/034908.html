<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] CSharp GeneratedCode attribute
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20CSharp%20GeneratedCode%20attribute&In-Reply-To=%3C8e87f2580906150610y3ebf0a42rac8a2fdaaef755b0%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034887.html">
   <LINK REL="Next"  HREF="034869.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] CSharp GeneratedCode attribute</H1>
    <B>packadal</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20CSharp%20GeneratedCode%20attribute&In-Reply-To=%3C8e87f2580906150610y3ebf0a42rac8a2fdaaef755b0%40mail.gmail.com%3E"
       TITLE="[antlr-interest] CSharp GeneratedCode attribute">packadal at gmail.com
       </A><BR>
    <I>Mon Jun 15 06:10:08 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="034887.html">[antlr-interest] CSharp GeneratedCode attribute
</A></li>
        <LI>Next message: <A HREF="034869.html">[antlr-interest] Keywords vs. freeform text
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34908">[ date ]</a>
              <a href="thread.html#34908">[ thread ]</a>
              <a href="subject.html#34908">[ subject ]</a>
              <a href="author.html#34908">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think it makes sense to add this attribute, because even if FxCop finds
the generated code perfect, then StyleCop will complain, and you can't
possibly generate code that complies to coding conventions without a major
headache.
And even if you did, it would be pretty useless IMHO.

I'm happy to read the Csharp3 target will be .NET compliant, nobody will be
able to complain about antlr anymore :)

Best regards

On Sun, Jun 14, 2009 at 8:31 AM, Sam Harwell &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sharwell at pixelminegames.com</A>&gt;wrote:

&gt;<i> FxCop freaks out on ANTLR generated code right now and slows down so much
</I>&gt;<i> it's effectively unusable. I've been meaning to address this issue in the
</I>&gt;<i> CSharp3 target, but haven't yet. I'm curious how you're supposed to handle
</I>&gt;<i> partial classes with the GeneratedCode attribute - I assume I have to mark
</I>&gt;<i> the generated methods and fields instead of the whole class, and the
</I>&gt;<i> generated code has an enormous number of fields (tokens and follow sets). It
</I>&gt;<i> makes me wonder if the GeneratedCodeAttribute is conditional like the
</I>&gt;<i> SuppressMessageAttribute, and if not, how much with the compiled code
</I>&gt;<i> increase in size with them all marked. I'm guessing not much considering how
</I>&gt;<i> large the compiled grammar already is.
</I>&gt;<i>
</I>&gt;<i> I'll take a look at this when I get the chance, but it could take a few
</I>&gt;<i> weeks right now.
</I>&gt;<i>
</I>&gt;<i> Sam
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Johannes Luber
</I>&gt;<i> Sent: Saturday, June 13, 2009 6:08 PM
</I>&gt;<i> To: packadal; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: Re: [antlr-interest] CSharp GeneratedCode attribute
</I>&gt;<i>
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; For the current project I am working on, we need to use a parser.
</I>&gt;<i> &gt; I convinced everybody here that writing your own parser is evil, because
</I>&gt;<i> &gt; it
</I>&gt;<i> &gt; takes much longer to write than using a tool conceived for this exact
</I>&gt;<i> &gt; purpose.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Now we use C# and have some strict coding conventions, enforced using the
</I>&gt;<i> &gt; Microsoft tools (FxCop and StyleCop).
</I>&gt;<i> &gt; The problem being the antlr-generated code does not comply with these
</I>&gt;<i> &gt; rules.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But Microsoft thought about the possibility of using generated code with
</I>&gt;<i> &gt; these tools, and the [GeneratedCode(name, version)] attribute is here for
</I>&gt;<i> &gt; this purpose. Hurray !
</I>&gt;<i> &gt; The only problem remaining now is that this attribute cannot be placed
</I>&gt;<i> &gt; correctly using the C# 2 template.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So I added a line in the C# 2 template (dunno if I done it &quot;The Right
</I>&gt;<i> Way&quot;
</I>&gt;<i> &gt; though) :
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 75  &lt;docComment&gt;
</I>&gt;<i> &gt; *76  &lt;if(actions.(actionScope).generatedVersion)&gt;
</I>&gt;<i> &gt; 77  [GeneratedCode(&quot;antlr&quot;, @&quot;&lt;actions.(actionScope).generatedVersion&gt;&quot;)]
</I>&gt;<i> &gt; 78
</I>&gt;<i> &gt; 79  &lt;endif&gt;
</I>&gt;<i> &gt; *80  &lt;recognizer&gt;
</I>&gt;<i> &gt; ...
</I>&gt;<i>
</I>&gt;<i> Hi!
</I>&gt;<i>
</I>&gt;<i> &gt;From what I can gather it seems to be the right place, though I wonder
</I>&gt;<i> what other way you tried first. Regarding the CSharp3 target: Unlike CSharp2
</I>&gt;<i> it is/on the way to be completely .NET-compliant regarding the coding
</I>&gt;<i> standards. I can't change it for CSharp2 yet because I have to worry about
</I>&gt;<i> backwards-compatibility, but I plan parity for 3.2.
</I>&gt;<i>
</I>&gt;<i> So the question remains, if including this attribute there makes sense if
</I>&gt;<i> FxCop won't find anything. Sam, any comments?
</I>&gt;<i>
</I>&gt;<i> Johannes
</I>&gt;<i>
</I>&gt;<i> &gt; Obviously in bold is what I added.
</I>&gt;<i> &gt; &gt;&gt;From what I have seen this can also be added in the C# 3 template.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; BTW, when will there be a release of antlrworks including version 3.1.3
</I>&gt;<i> of
</I>&gt;<i> &gt; antlr ?
</I>&gt;<i> &gt; I have tried it by myself but must have done something wrong as I get
</I>&gt;<i> &gt; loads
</I>&gt;<i> &gt; of errors when trying to compile.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Keep up the good work,
</I>&gt;<i> &gt; Regards.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; - Always keep in mind that you may be wrong -
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> GMX FreeDSL Komplettanschluss mit DSL 6.000 Flatrate und Telefonanschluss
</I>&gt;<i> f&#252;r nur 17,95 Euro/mtl.!* <A HREF="http://portal.gmx.net/de/go/dsl02">http://portal.gmx.net/de/go/dsl02</A>
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>


-- 
- Always keep in mind that you may be wrong -
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090615/026aa978/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090615/026aa978/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034887.html">[antlr-interest] CSharp GeneratedCode attribute
</A></li>
	<LI>Next message: <A HREF="034869.html">[antlr-interest] Keywords vs. freeform text
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34908">[ date ]</a>
              <a href="thread.html#34908">[ thread ]</a>
              <a href="subject.html#34908">[ subject ]</a>
              <a href="author.html#34908">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
