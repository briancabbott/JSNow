<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Literals, Predicates and Actions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Literals%2C%20Predicates%20and%20Actions&In-Reply-To=%3C49B17688.50703%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033260.html">
   <LINK REL="Next"  HREF="033274.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Literals, Predicates and Actions</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Literals%2C%20Predicates%20and%20Actions&In-Reply-To=%3C49B17688.50703%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Literals, Predicates and Actions">jimi at temporal-wave.com
       </A><BR>
    <I>Fri Mar  6 11:16:24 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033260.html">[antlr-interest] Literals, Predicates and Actions
</A></li>
        <LI>Next message: <A HREF="033274.html">[antlr-interest] Literals, Predicates and Actions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33262">[ date ]</a>
              <a href="thread.html#33262">[ thread ]</a>
              <a href="subject.html#33262">[ subject ]</a>
              <a href="author.html#33262">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Julian Mensch wrote:
&gt;<i>   Hi,
</I>&gt;<i>
</I>&gt;<i>   I'm a newbie to ANTLR working on translating a long ACCENT
</I>&gt;<i> grammer to ANTLR under the C target, and have a few
</I>&gt;<i> questions about the use of literals to define tokens in combined
</I>&gt;<i> lexer-parser grammars. I understand that literals in parser rules
</I>&gt;<i> create implicit lexer rules, and I find this to be a very useful
</I>&gt;<i> feature for naturalistic languages that have a set of keywords of
</I>&gt;<i> notable size which can increase frequently, and include frequent
</I>&gt;<i> alternatives.
</I>&gt;<i>
</I>&gt;<i>   What I'm wondering is if I can somehow apply global predicates
</I>&gt;<i>   
</I>No, you cannot do this. I strongly advise that you do not use literals 
in your grammar. While at first it seems more intuitive and is perfectly 
fine for simple grammars, as soon as you want to provide good error 
messages, or walk a tree, you will find that they get in the way. You 
won't know what T42 actually is, and it will even change names when you 
add and change literals.

Before too long, it is like the scene in the Matrix where the guy says 
&quot;I don't see the code any more, I just see blond, brunette...&quot; Looking 
at LCURLY will mean exactly the same thing as '{'.

&gt;<i>   Predicates for literals would also be really useful, in
</I>&gt;<i> the case, for example, where you have a limited set
</I>&gt;<i> of keywords that are universal to the language, but
</I>&gt;<i> your ever-expanding larger set is only valid in some
</I>&gt;<i> lexical circumstances. For example:
</I>&gt;<i>
</I>&gt;<i> @literals
</I>&gt;<i>   { isUniversalKeyword(GETTEXT()-&gt;chars) || inFullKeywordMode }?
</I>&gt;<i>   
</I>Don't use these macros directly, use $text otherwise you will be subject 
to the vagaries of me changing my mind ;-)
&gt;<i>   I know there's no such thing as the &quot;@literals&quot;
</I>&gt;<i> construct I'm showing here, but I'm wondering if there's
</I>&gt;<i> any way to duplicate the effect I'm going for with it.
</I>&gt;<i>   
</I>Well, it is just re-inventing the wheel really. I understand where you 
are coming from, but if you go with what the tool does now, you will 
soon find it all second nature.
&gt;<i> Currently I'm matching all keywords as IDENT and
</I>&gt;<i> using string tables, setType() and tokens with 'fragment
</I>use $type where you can of course. I tend not to use the ident method, I 
just use an identifier rule that allows the keywords. Which approach is 
best depends on preference and circumstance of course.

Jim

</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033260.html">[antlr-interest] Literals, Predicates and Actions
</A></li>
	<LI>Next message: <A HREF="033274.html">[antlr-interest] Literals, Predicates and Actions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33262">[ date ]</a>
              <a href="thread.html#33262">[ thread ]</a>
              <a href="subject.html#33262">[ subject ]</a>
              <a href="author.html#33262">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
