<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Current antlr bugs [b7]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Current%20antlr%20bugs%20%5Bb7%5D&In-Reply-To=%3CA799AEDE-2481-4143-94C5-C500A3147BA2%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020399.html">
   <LINK REL="Next"  HREF="020402.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Current antlr bugs [b7]</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Current%20antlr%20bugs%20%5Bb7%5D&In-Reply-To=%3CA799AEDE-2481-4143-94C5-C500A3147BA2%40cs.usfca.edu%3E"
       TITLE="[antlr-interest] Current antlr bugs [b7]">parrt at cs.usfca.edu
       </A><BR>
    <I>Sun Apr 29 14:53:26 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020399.html">[antlr-interest]  Current antlr bugs [b7]
</A></li>
        <LI>Next message: <A HREF="020402.html">[antlr-interest] what causes the Group of rules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20438">[ date ]</a>
              <a href="thread.html#20438">[ thread ]</a>
              <a href="subject.html#20438">[ subject ]</a>
              <a href="author.html#20438">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi. Works  No problem for me.

Thank you for your bug reports, but I have a request:

1.  please make the grammar as small as you can make it that still  
exhibits the error.
2.  please tell me which rule you invoked as the start symbol and/or
3.  please send the test invocation as well so that I may know if you  
are using a strange token stream or something

Regards,
Terence
On Apr 27, 2007, at 6:51 AM, Ilia Kantor wrote:

&gt;<i>
</I>&gt;<i> And more bugs to go.... I guess such exception is not normal:
</I>&gt;<i>
</I>&gt;<i> Exception in thread &quot;main&quot;  
</I>&gt;<i> java.lang.ArrayIndexOutOfBoundsException: -1
</I>&gt;<i> 	at org.antlr.runtime.DFA.predict(DFA.java:43)
</I>&gt;<i> 	at GetScopeValueCleanParser.rule_long_def_part 
</I>&gt;<i> (GetScopeValueCleanParser.java:554)
</I>&gt;<i> 	at GetScopeValueCleanParser.synpred1_fragment 
</I>&gt;<i> (GetScopeValueCleanParser.java:1352)
</I>&gt;<i> 	at GetScopeValueCleanParser.synpred1(GetScopeValueCleanParser.java: 
</I>&gt;<i> 1392)
</I>&gt;<i> 	at GetScopeValueCleanParser.rule_call 
</I>&gt;<i> (GetScopeValueCleanParser.java:182)
</I>&gt;<i> 	at GetScopeValueCleanParser.expr_simple 
</I>&gt;<i> (GetScopeValueCleanParser.java:1307)
</I>&gt;<i> 	at GetScopeValueCleanParser.expr_no_semi 
</I>&gt;<i> (GetScopeValueCleanParser.java:1137)
</I>&gt;<i> 	at GetScopeValueCleanParser.expr(GetScopeValueCleanParser.java:946)
</I>&gt;<i> 	at GetScopeValueCleanParser.exprs(GetScopeValueCleanParser.java:862)
</I>&gt;<i> 	at GetScopeValueCleanParser.document(GetScopeValueCleanParser.java: 
</I>&gt;<i> 76)
</I>&gt;<i> 	at GrammarScopeValueCleanTest.main(GrammarScopeValueCleanTest.java: 
</I>&gt;<i> 39)
</I>&gt;<i> 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
</I>&gt;<i> 	at sun.reflect.NativeMethodAccessorImpl.invoke 
</I>&gt;<i> (NativeMethodAccessorImpl.java:39)
</I>&gt;<i> 	at sun.reflect.DelegatingMethodAccessorImpl.invoke 
</I>&gt;<i> (DelegatingMethodAccessorImpl.java:25)
</I>&gt;<i> 	at java.lang.reflect.Method.invoke(Method.java:597)
</I>&gt;<i> 	at com.intellij.rt.execution.application.AppMain.main(AppMain.java: 
</I>&gt;<i> 90)
</I>&gt;<i>
</I>&gt;<i> =============== grammar =============
</I>&gt;<i>
</I>&gt;<i> grammar GetScopeValueClean;
</I>&gt;<i>
</I>&gt;<i> options {
</I>&gt;<i>    	output=AST;
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> tokens {
</I>&gt;<i> 	TEXT;
</I>&gt;<i> 	GET_PROPERTY_VALUE;
</I>&gt;<i> 	GET_PROPERTY_ARGUMENTS;
</I>&gt;<i> 	EVAL;	
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> LCURL	:	'{';
</I>&gt;<i> RCURL	:	'}';
</I>&gt;<i>
</I>&gt;<i> GET_SCOPE_VALUE
</I>&gt;<i> 	:	'#';
</I>&gt;<i> 	
</I>&gt;<i>
</I>&gt;<i> CONTROL
</I>&gt;<i>         :       '~';
</I>&gt;<i>
</I>&gt;<i> SEMI:   ';';
</I>&gt;<i>
</I>&gt;<i> DOT	:	'.';
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> MINUS
</I>&gt;<i> 	:	'-';
</I>&gt;<i>
</I>&gt;<i> GT	:	'&gt;';
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> SPECIAL_CHAR
</I>&gt;<i>         :       '`' | '!' | '@' | '$' | '%' | '^' | '&amp;' | '*' | '('  
</I>&gt;<i> | ')' |
</I>&gt;<i>         '+' | '=' | '[' | ']' | ':' | '\'' | '&quot;' | '\\' | '|' | ','  
</I>&gt;<i> | '&lt;' |
</I>&gt;<i>          '/' | '?';
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> fragment WS_CHAR  :
</I>&gt;<i>        (' '|'\r'|'\t'|'\u000C'|'\n' )
</I>&gt;<i>     ;
</I>&gt;<i>
</I>&gt;<i> WS      :       WS_CHAR+;
</I>&gt;<i>
</I>&gt;<i> // not SPECIAL_CHAR not WS_CHAR
</I>&gt;<i> WORD:
</I>&gt;<i>
</I>&gt;<i>         (~ ('`' | '!' | '@' | '$' | '%' | '^' | '&amp;' | '*' | '(' |  
</I>&gt;<i> ')' |
</I>&gt;<i>         '+' | '=' | '[' | ']' | ':' | '\'' | '&quot;' | '\\' | '|' | ','  
</I>&gt;<i> | '&lt;' | '/' | '?'
</I>&gt;<i>         | '{'
</I>&gt;<i>         | '~'
</I>&gt;<i>         | '}'
</I>&gt;<i>         | '#'
</I>&gt;<i>         | ';'
</I>&gt;<i>         | '.'
</I>&gt;<i>         | '-'
</I>&gt;<i>         | '&gt;'
</I>&gt;<i>         | ' '|'\r'|'\t'|'\u000C'|'\n' ) )+
</I>&gt;<i>
</I>&gt;<i> ;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> document
</I>&gt;<i> 	:	exprs;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> rule_call: GET_SCOPE_VALUE WORD ((rule_long_def_part) 
</I>&gt;<i> =&gt;rule_long_def_part)* -&gt; ^(GET_SCOPE_VALUE WORD  
</I>&gt;<i> rule_long_def_part*) |
</I>&gt;<i> 	GET_SCOPE_VALUE LCURL WORD rule_long_def_part* RCURL -&gt; ^ 
</I>&gt;<i> (GET_SCOPE_VALUE WORD rule_long_def_part*)
</I>&gt;<i> 	;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> get_property_arguments
</I>&gt;<i>         :
</I>&gt;<i>          LCURL exprs? RCURL -&gt; ^(GET_PROPERTY_ARGUMENTS exprs?)
</I>&gt;<i> ;
</I>&gt;<i> 	
</I>&gt;<i> rule_long_def_part
</I>&gt;<i> 	:	  MINUS GT WORD ((get_property_arguments) 
</I>&gt;<i> =&gt;get_property_arguments)* -&gt; ^(GET_PROPERTY_VALUE WORD  
</I>&gt;<i> get_property_arguments*) |
</I>&gt;<i> 		  DOT WORD  -&gt; ^(GET_SCOPE_VALUE WORD)
</I>&gt;<i> 	;
</I>&gt;<i>
</I>&gt;<i> text:
</I>&gt;<i> 	DOT | MINUS | WORD | WS | GT | SPECIAL_CHAR
</I>&gt;<i> ;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> curly_block
</I>&gt;<i>         :
</I>&gt;<i>          LCURL exprs? RCURL -&gt; LCURL exprs? RCURL
</I>&gt;<i> ;
</I>&gt;<i>
</I>&gt;<i> exprs:
</I>&gt;<i>         (expr)+
</I>&gt;<i> ;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> expr:
</I>&gt;<i> (
</I>&gt;<i>         expr_no_semi -&gt; expr_no_semi |
</I>&gt;<i>         SEMI -&gt; TEXT[$SEMI]
</I>&gt;<i> )
</I>&gt;<i> ;
</I>&gt;<i>
</I>&gt;<i> exprs_no_semi
</I>&gt;<i>         :       (expr_no_semi)+
</I>&gt;<i> ;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> expr_no_semi
</I>&gt;<i>         :
</I>&gt;<i>                 (expr_simple) | (curly_block)
</I>&gt;<i>         ;
</I>&gt;<i>
</I>&gt;<i> exprs_simple
</I>&gt;<i>         :       (expr_simple)+
</I>&gt;<i>         ;
</I>&gt;<i>
</I>&gt;<i> /* expression without curl at start and ; */
</I>&gt;<i> expr_simple
</I>&gt;<i>         :
</I>&gt;<i>          rule_call
</I>&gt;<i>         | text
</I>&gt;<i> ;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ============== input ================
</I>&gt;<i> cdsd #rere-&gt;a{#c+1}{2 2} kljkl
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hope this bug is simple one!
</I>&gt;<i>
</I>&gt;<i> Happy fixing
</I>&gt;<i> V/R
</I>&gt;<i> Ilia Kantor
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020399.html">[antlr-interest]  Current antlr bugs [b7]
</A></li>
	<LI>Next message: <A HREF="020402.html">[antlr-interest] what causes the Group of rules
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20438">[ date ]</a>
              <a href="thread.html#20438">[ thread ]</a>
              <a href="subject.html#20438">[ subject ]</a>
              <a href="author.html#20438">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
