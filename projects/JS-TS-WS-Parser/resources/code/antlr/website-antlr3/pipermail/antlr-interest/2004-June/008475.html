<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] unicode strings using supplemental char range
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20unicode%20strings%20using%20supplemental%20char%20range&In-Reply-To=20040628122012.GD3163%40cs.utwente.nl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008470.html">
   <LINK REL="Next"  HREF="008476.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] unicode strings using supplemental char range</H1>
    <B>Sebastian Kaliszewski</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20unicode%20strings%20using%20supplemental%20char%20range&In-Reply-To=20040628122012.GD3163%40cs.utwente.nl"
       TITLE="[antlr-interest] unicode strings using supplemental char range">sk at z.pl
       </A><BR>
    <I>Mon Jun 28 07:46:28 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008470.html">[antlr-interest] unicode strings using supplemental char range
</A></li>
        <LI>Next message: <A HREF="008476.html">[antlr-interest] unicode strings using supplemental char range
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8475">[ date ]</a>
              <a href="thread.html#8475">[ thread ]</a>
              <a href="subject.html#8475">[ subject ]</a>
              <a href="author.html#8475">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello!
2 cents from (probably) typical ANTLR/C++ user...

I'm writting an interpreter of not too complicated OO language. But even at 
the early stage when I've just basic interpreter working but with 
minimalistic run-time support the UPX compressed statically linked stripped 
executable is already above 600KB and uncompressed dynamically linked debug 
executable is above 3MB (and most of that is ANTLR generated stuff). I'm 
affraid of including yet another heavy library will add too much weight.


Ric Klaren wrote:
&gt;<i> On Sat, Jun 26, 2004 at 08:48:34PM -0700, Mark Lentczner wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>[ Terminology: &quot;char&quot; = Java type, 16-bits, &quot;character&quot; = Unicode
</I>&gt;&gt;<i>character in range 0..0x10FFFF, &quot;String&quot; = Java type, &quot;unicode string&quot;
</I>&gt;&gt;<i>= a sequence of zero or more characters. ]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>	- the ability to read a stream of characters
</I>&gt;&gt;<i>	- the ability to take a String written in a grammar file (i.e.
</I>&gt;&gt;<i>&quot;abc\u20ac123&quot;) and produce a unicode string from it (i.e. [ 97, 98,
</I>&gt;&gt;<i>99, 8364, 49, 50, 41 ] - or if you mailer can handle it: [ 'a', 'b',
</I>&gt;&gt;<i>'c', '?', '1, '2', '3' ])
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Supporting these requirements hardly needs something as heavy weight as
</I>&gt;&gt;<i>ICU for either Java or C++ parsers.  (ICU has things like calendar
</I>&gt;&gt;<i>handling, regex matching, and number formatting in it!)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> It's a pity they don't have a 'light' version indeed. That's also why I'm
</I>&gt;<i> contemplating making some lightweight classes for some aspects we need
</I>&gt;<i> inside ANTLR for the C++ side.
</I>
Well, if you accept that users of ANTLR must have standard compliant C++ 
library (as standard is now 5 years old I don't think it's requiring too 
much, and for those using ancient stuff there is free STLport as well as few 
commercial offerings to use) then getting basic stuff done is not much more 
than making char_traits class for 32bit integers + some simple, 
non-normalizing utf-8 decoder (in a streambuf?).

If you need/want a volunteer to do such an skeleton stuff, I'm here.

[snip]
&gt;<i> I'm not sure but don't we need this on the C++ side? We have no java to
</I>&gt;<i> this stuff for us. So at least I'd like to be able to feed a UTF-8 string
</I>&gt;<i> to ANTLR out of the box without deriving some custom classes. Live is a lot
</I>&gt;<i> easier on the lexer side if it only has to deal with unicode characters. So
</I>&gt;<i> some input stream decoding will be necessary. On second thought this
</I>&gt;<i> probably does not need transcoding/normalization just the decoding for
</I>&gt;<i> UTF-xx.
</I>&gt;<i> 
</I>&gt;<i> Question: How to deal with the unicode characters that are beyond 32 bits
</I>&gt;<i> they'd need a more expensive struct to have all bits or do we have to make
</I>&gt;<i> the lexers operate on UTF-32.
</I>
???
Well, it's in the Unicode FAQ, taht they're even not going beyond 21bits, so 
32bit's seems safe for a foreseable future.

&gt;<i> 
</I>[snip]
&gt;<i> 
</I>

rgds
-- 
Sebastian Kaliszewski
inForma


 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008470.html">[antlr-interest] unicode strings using supplemental char range
</A></li>
	<LI>Next message: <A HREF="008476.html">[antlr-interest] unicode strings using supplemental char range
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8475">[ date ]</a>
              <a href="thread.html#8475">[ thread ]</a>
              <a href="subject.html#8475">[ subject ]</a>
              <a href="author.html#8475">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
