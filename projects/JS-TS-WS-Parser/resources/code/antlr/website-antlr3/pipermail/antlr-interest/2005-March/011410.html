<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Semantic predicates that aren't &amp; hoisting
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Semantic%20predicates%20that%20aren%27t%20%26%20hoisting&In-Reply-To=16950.9992.5722.690607%40despot.non.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011406.html">
   <LINK REL="Next"  HREF="011411.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Semantic predicates that aren't &amp; hoisting</H1>
    <B>David Jung</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Semantic%20predicates%20that%20aren%27t%20%26%20hoisting&In-Reply-To=16950.9992.5722.690607%40despot.non.net"
       TITLE="[antlr-interest] Re: Semantic predicates that aren't &amp; hoisting">jungdl at ornl.gov
       </A><BR>
    <I>Mon Mar 14 16:30:51 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011406.html">[antlr-interest] Understanding AST
</A></li>
        <LI>Next message: <A HREF="011411.html">[antlr-interest] Inheritance of BaseAST class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11410">[ date ]</a>
              <a href="thread.html#11410">[ thread ]</a>
              <a href="subject.html#11410">[ subject ]</a>
              <a href="author.html#11410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>John D. Mitchell said:
&gt;&gt;&gt;&gt;&gt;&gt;<i> &quot;David&quot; == David Jung &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jungdl at ornl.gov</A>&gt; writes:
</I>&gt;&gt;<i> John D. Mitchell said:
</I>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<i> &quot;David&quot; == David Jung &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jungdl at ornl.gov</A>&gt; writes:
</I>&gt;<i> [...]
</I>&gt;<i>
</I>&gt;&gt;<i> That could be fixed by putting statementList in primaryExpr, but would
</I>&gt;&gt;<i> introduce ambiguity.  Doing that would give something very similar to
</I>&gt;&gt;<i> the
</I>&gt;&gt;<i> solution I proposed in my original post in this thread.  However, my
</I>&gt;&gt;<i> original question was if there was a better way; one that avoids the
</I>&gt;&gt;<i> ambiguity.  Now I know the answer is no.  Perhaps ANTLR 3 will support
</I>&gt;&gt;<i> the hoisting I need.
</I>&gt;<i>
</I>&gt;<i> As the man once said, &quot;You're deluded, Mr. Bond.&quot;
</I>Really? :)

&gt;<i>
</I>&gt;<i> (A) As I've shown from the beginning, you can get around the lack of
</I>&gt;<i> hoisting by making your grammar a bit [or a lot depending on how ambiguous
</I>&gt;<i> your language is] more complicated so as to drive the decision more
</I>&gt;<i> directly.  This is what we had to do in the C grammar because Antlr v2
</I>&gt;<i> doesn't support automatic predicate hoisting.
</I>Yes.  In this case it will be a lot.  Hence my post for suggestions
of a solution that doesn't involve whole-sale re-organization of the
grammar.

&gt;<i>
</I>&gt;<i> (B) Your language looks pretty ambiguous.  One way or another you still
</I>&gt;<i> have to resolve the ambiguity by forcing the choice of how the parser will
</I>&gt;<i> actually act when it comes to those decision points.  There's no magic
</I>&gt;<i> wand
</I>&gt;<i> to take that responsibility off of your hands as the language
</I>&gt;<i> designer/implementor.
</I>
There is a simple syntactic predicate that can make the decision (as
previously indicated).
Unfortunately, in ANTLR v2 it must be expressed as a,
so called, semantic predicate, which additionally it isn't hoised,
hence ANTLR thinks the grammar is highly ambiguous when it actually
isn't.
As you say, I can avoid the need for the predicate by
re-orgnizing the grammar, but that would make it highly unnatural.

&gt;<i>
</I>&gt;<i> (C) Yes, Antlr v3 does/will do automatic predicate hoisting.  This allows
</I>&gt;<i> for more naturally structured grammars.
</I>
Indeed, I think I've settled on using ANTLR v3 to implement
the solution.  Perhaps I will brave the pre-release.

Cheers,
-David.
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011406.html">[antlr-interest] Understanding AST
</A></li>
	<LI>Next message: <A HREF="011411.html">[antlr-interest] Inheritance of BaseAST class
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11410">[ date ]</a>
              <a href="thread.html#11410">[ thread ]</a>
              <a href="subject.html#11410">[ subject ]</a>
              <a href="author.html#11410">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
