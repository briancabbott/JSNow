<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Variable visibility problem with ANTLR 3code
	generation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Variable%20visibility%20problem%20with%20ANTLR%203code%0A%09generation&In-Reply-To=20060821161103.275C08E5%40mail.intersystems.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017435.html">
   <LINK REL="Next"  HREF="017438.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Variable visibility problem with ANTLR 3code
	generation</H1>
    <B>Denis Washington</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Variable%20visibility%20problem%20with%20ANTLR%203code%0A%09generation&In-Reply-To=20060821161103.275C08E5%40mail.intersystems.com"
       TITLE="[antlr-interest] Variable visibility problem with ANTLR 3code
	generation">dwashington at gmx.net
       </A><BR>
    <I>Tue Aug 22 01:39:14 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="017435.html">[antlr-interest] ANTLR 3: throws statement on rule does not work
</A></li>
        <LI>Next message: <A HREF="017438.html">[antlr-interest] ANTLR consultant needed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17436">[ date ]</a>
              <a href="thread.html#17436">[ thread ]</a>
              <a href="subject.html#17436">[ subject ]</a>
              <a href="author.html#17436">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jim Idle wrote:
&gt;<i> -----Original Message-----
</I>&gt;<i> From: Denis Washington [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">dwashington at gmx.net</A>] 
</I>&gt;<i> Sent: Monday, August 21, 2006 3:45 AM
</I>&gt;<i> To: Jim Idle; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: Re: [antlr-interest] Variable visibility problem with ANTLR 3code generation
</I>&gt;<i>
</I>&gt;<i> Jim Idle wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i>   
</I>&gt;&gt;<i>     
</I>&gt;<i> For the following rule:
</I>&gt;<i>
</I>&gt;<i> declarationStatement returns [DeclarationStatement ds]
</I>&gt;<i>     :   var=varOrConstDeclaration
</I>&gt;<i>         {
</I>&gt;<i>             $ds = new DeclarationStatement($var);
</I>&gt;<i>             $ds.setSource($var);
</I>&gt;<i>         }
</I>&gt;<i>     ;
</I>&gt;<i>
</I>&gt;<i> I get from ANTLR (3.0b3):
</I>&gt;<i>
</I>&gt;<i> schlicht.g:240:9: missing attribute access on rule scope: var
</I>&gt;<i>
</I>&gt;<i> Is this a bug? Or do I still understand the $ prefix wrong?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If you are not producing a tree, then you cannot assign var to the result of a rule, unless the rule returns[] something. The error is telling you that the rule does not return anything. Or perhaps your rule returns multiple elements, in which case you would need $var.element. If you want $var to be an object then the rule needs to return one and construct it within its action code, rather than return multiple elements. Though it is possible that you mean to access the internally constructed object, it is internal and could change, so you should build your own and return that.
</I>&gt;<i>
</I>&gt;<i> In general, you should consider producing a tree for the first pass, then use the tree to do more complicated things.
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i>   
</I>Hi Jim,

The rule varOrConstDeclaration is returning something, exactly one 
element, through it's action code. so it should work.

Denis
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017435.html">[antlr-interest] ANTLR 3: throws statement on rule does not work
</A></li>
	<LI>Next message: <A HREF="017438.html">[antlr-interest] ANTLR consultant needed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17436">[ date ]</a>
              <a href="thread.html#17436">[ thread ]</a>
              <a href="subject.html#17436">[ subject ]</a>
              <a href="author.html#17436">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
