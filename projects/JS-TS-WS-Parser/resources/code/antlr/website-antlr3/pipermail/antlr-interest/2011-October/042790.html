<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] C Target code generation of ANTLR 3.4 does not set ALL the rule variables to NULL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20C%20Target%20code%20generation%20of%20ANTLR%203.4%20does%20not%20set%0A%20ALL%20the%20rule%20variables%20to%20NULL&In-Reply-To=%3C4E86F891.5020509%40liu.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042820.html">
   <LINK REL="Next"  HREF="042792.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] C Target code generation of ANTLR 3.4 does not set ALL the rule variables to NULL</H1>
    <B>Adrian Pop</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20C%20Target%20code%20generation%20of%20ANTLR%203.4%20does%20not%20set%0A%20ALL%20the%20rule%20variables%20to%20NULL&In-Reply-To=%3C4E86F891.5020509%40liu.se%3E"
       TITLE="[antlr-interest] C Target code generation of ANTLR 3.4 does not set ALL the rule variables to NULL">Adrian.Pop at liu.se
       </A><BR>
    <I>Sat Oct  1 04:25:05 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="042820.html">[antlr-interest] Jim Idle: C-Runtime and C++Builder, E2342 Type mismatch in parameter
</A></li>
        <LI>Next message: <A HREF="042792.html">[antlr-interest] C Target code generation of ANTLR 3.4 does not set ALL the rule variables to NULL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42790">[ date ]</a>
              <a href="thread.html#42790">[ thread ]</a>
              <a href="subject.html#42790">[ subject ]</a>
              <a href="author.html#42790">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

It seems that the ANLTR 3.4 code generation for C
target does not set ALL the rule variables to NULL.
ANTLR 3.2 does set all of them to NULL.

Example:
type_specifier returns [void* ast] :
    np=name_path
    (lt=LESS ts=type_specifier_list gt=GREATER)? (as=array_subscripts)?
      {
        if (ts != NULL) {
....

In ANTLR 3.4 only the variables: &quot;lt&quot; and &quot;gt&quot; are set to NULL
at the beginning of the rule. In ANTLR 3.2 code generation all
the variables &quot;np&quot;, &quot;lt&quot;, &quot;ts&quot;, &quot;gt&quot;, &quot;as&quot; are set to NULL at
the rule start.

This is rather annoying as suddenly things that worked fine
with ANTLR 3.2 do not work anymore with ANTLR 3.4 (seg fault).

Is this a bug or is like this by design and we will need to
set the variables to NULL via @init or { scope } at the
start of the rule?

Cheers,
Adrian Pop/
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042820.html">[antlr-interest] Jim Idle: C-Runtime and C++Builder, E2342 Type mismatch in parameter
</A></li>
	<LI>Next message: <A HREF="042792.html">[antlr-interest] C Target code generation of ANTLR 3.4 does not set ALL the rule variables to NULL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42790">[ date ]</a>
              <a href="thread.html#42790">[ thread ]</a>
              <a href="subject.html#42790">[ subject ]</a>
              <a href="author.html#42790">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
