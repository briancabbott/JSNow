<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] So I wish one token has two types
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20So%20I%20wish%20one%20token%20has%20two%20types&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016538.html">
   <LINK REL="Next"  HREF="016542.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] So I wish one token has two types</H1>
    <B>=?gb2312?q?=CB=EF=BC=CD=B8=D5=20Jigang=20(Robert)=20Sun?=</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20So%20I%20wish%20one%20token%20has%20two%20types&In-Reply-To="
       TITLE="[antlr-interest] So I wish one token has two types">sunjigang1965 at yahoo.com.cn
       </A><BR>
    <I>Tue Jun  6 07:14:58 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016538.html">[antlr-interest] TokenStreamRecognitionException
</A></li>
        <LI>Next message: <A HREF="016542.html">[antlr-interest] So I wish one token has two types
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16537">[ date ]</a>
              <a href="thread.html#16537">[ thread ]</a>
              <a href="subject.html#16537">[ subject ]</a>
              <a href="author.html#16537">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have two kinds of tokens, CHAR and ID, to identify 

CHAR: LowerCaseChar;
ID: (LowerCaseChar)+;

a single char, e.g. 's', could be either type of CHAR of ID, 

the following lexical rule can only assign one type, 

ID: LowerCaseChar {$setType(CHAR);} ( LowerCaseChar)* {$setType(ID);} //get only one type
protected LowerCaseChar: 'a'..'z';

In parser I need 's' be scanned as type of CHAR or ID in different context. 

Micheal J ever told me to see rule INT_LITERAL of csharp_v1 example, I think that method can only
differ situation like

     INTEGER: (DIGIT)+;
from
     REAL: (DIGIT)+ '.' (DIGIT)+;

use a rule like 

VALUE: (DIGIT)+ {$setType(INTEGER);} ('.' (DIGIT)+ {$setType(REAL);})?;

if same text such as &quot;32&quot; is treated as INTEGER in one occasion, while in other case it need to be
recognised as REAL the above method could not work.

Probaly the anwser is in the example, but the csharp_v1 grammar is in a big size. I have not find
the solution.

So I wish one token has two types, thus 's' feeding to parser is of CHAR or ID depending by my
needs.

Or could composite token forming be left to parser,

id:(LowerCaseChar)+;

a string &quot;name&quot; could be converted a single token, not a tree in parser? 

Many thanks.

Robert
     


__________________________________________________
&#184;&#207;&#191;&#236;&#215;&#162;&#178;&#225;&#209;&#197;&#187;&#162;&#179;&#172;&#180;&#243;&#200;&#221;&#193;&#191;&#195;&#226;&#183;&#209;&#211;&#202;&#207;&#228;?
<A HREF="http://cn.mail.yahoo.com">http://cn.mail.yahoo.com</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016538.html">[antlr-interest] TokenStreamRecognitionException
</A></li>
	<LI>Next message: <A HREF="016542.html">[antlr-interest] So I wish one token has two types
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16537">[ date ]</a>
              <a href="thread.html#16537">[ thread ]</a>
              <a href="subject.html#16537">[ subject ]</a>
              <a href="author.html#16537">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
