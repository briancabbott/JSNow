<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Accessing a return value ...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Accessing%20a%20return%20value%20...&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008077.html">
   <LINK REL="Next"  HREF="008080.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Accessing a return value ...</H1>
    <B>Anthony Youngman</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Accessing%20a%20return%20value%20...&In-Reply-To="
       TITLE="[antlr-interest] Accessing a return value ...">Anthony.Youngman at ECA-International.com
       </A><BR>
    <I>Thu May 27 07:43:24 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008077.html">[antlr-interest] Accessing a return value ...
</A></li>
        <LI>Next message: <A HREF="008080.html">[antlr-interest] Accessing a return value ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8078">[ date ]</a>
              <a href="thread.html#8078">[ thread ]</a>
              <a href="subject.html#8078">[ subject ]</a>
              <a href="author.html#8078">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>But how do I access that value in the programst rule ... that's where I
want to use it and I haven't got a clue how to get at it ...

Cheers,
Wol

-----Original Message-----
From: Ric Klaren [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">klaren at cs.utwente.nl</A>] 
Sent: 27 May 2004 15:38
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
Subject: Re: [antlr-interest] Accessing a return value ...

On Thu, May 27, 2004 at 03:33:50PM +0100, Anthony Youngman wrote:
&gt;<i> I've looked in the manual, and it tells me how to return a value, but
</I>&gt;<i> not how to get at that value from the calling rule (at least as far as
</I>I
&gt;<i> can see ... :-)
</I>&gt;<i> 
</I>
programst { int val; } :
      #(PROGRAM (IDENT)? statement_list END) 
   |  #(SUBROUTINE (IDENT)? (val=formalargs)? statement_list END) 
   |  #(FUNCTION (IDENT)? (val=formalargs)? statement_list END) 
   ;
 
&gt;<i> deffunst
</I>&gt;<i> 	: #(DEFFUN IDENT (formalargs)? (CALLING (IDENT |
</I>&gt;<i> STRING_LITERAL))? )
</I>&gt;<i> 	;
</I>&gt;<i> 
</I>&gt;<i> formalargs returns [int argcount]
</I>&gt;<i> 	: #(FORMALARGS (IDENT {argcount++;})+ )
</I>
In C++ you can do:

formalargs returns [int argcount = 0]
 	: #(FORMALARGS (IDENT {argcount++;})+ )
	;

Not 100% sure if java works like that too.

But this might work as well:

formalargs returns [int argcount] { argcount = 0; } :
   #(FORMALARGS (IDENT {argcount++;})+ )
   ;

Cheers,

Ric
-- 
-----+++++*****************************************************+++++++++
-------
    ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">j.klaren at utwente.nl</A> ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++
-------
  &quot;I think we better split up.&quot;
  &quot;Good idea. We can do more damage that way.&quot;
  --- Ghostbusters



 
Yahoo! Groups Links



 





****************************************************************************

This transmission is intended for the named recipient only. It may contain private and confidential information. If this has come to you in error you must not act on anything disclosed in it, nor must you copy it, modify it, disseminate it in any way, or show it to anyone. Please e-mail the sender to inform us of the transmission error or telephone ECA International immediately and delete the e-mail from your information system.

Telephone numbers for ECA International offices are: Sydney +61 (0)2 8272 5300, Hong Kong + 852 2121 2388, London +44 (0)20 7351 5000 and New York +1 212 582 2333.

****************************************************************************



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008077.html">[antlr-interest] Accessing a return value ...
</A></li>
	<LI>Next message: <A HREF="008080.html">[antlr-interest] Accessing a return value ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8078">[ date ]</a>
              <a href="thread.html#8078">[ thread ]</a>
              <a href="subject.html#8078">[ subject ]</a>
              <a href="author.html#8078">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
