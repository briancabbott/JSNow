<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] State of Ruby Support
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20State%20of%20Ruby%20Support&In-Reply-To=%3C20121016094445.GA22269%40pathetic.cynic.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045511.html">
   <LINK REL="Next"  HREF="045509.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] State of Ruby Support</H1>
    <B>Curt Sampson</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20State%20of%20Ruby%20Support&In-Reply-To=%3C20121016094445.GA22269%40pathetic.cynic.net%3E"
       TITLE="[antlr-interest] State of Ruby Support">cjs at cynic.net
       </A><BR>
    <I>Tue Oct 16 02:44:45 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="045511.html">[antlr-interest] Way to &quot;cut&quot; parsing?
</A></li>
        <LI>Next message: <A HREF="045509.html">[antlr-interest] State of Ruby Support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45500">[ date ]</a>
              <a href="thread.html#45500">[ thread ]</a>
              <a href="subject.html#45500">[ subject ]</a>
              <a href="author.html#45500">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've downloaded and installed ANTLR 3.4, intending to use it to generate
some parsers for use in Ruby programs (and perhaps, later, C++). However,
I'm having some difficulties getting things set up, and I'm wondering what
the current state of Ruby support is.

(Note that below I'm using the Ruby support library that is found under
runtime/Ruby/lib/ in the ANTLR 3.4 distribution.)

Given the following grammar in Graphics.g:

    grammar Graphics;

    options { language = Java; }

    file:       command+ ;
    command:    'line' 'from' point 'to' point ;
    point:      INT ',' INT ;

    INT:        '0'..'9'+ ;
    WS:         (' ' | '\t' | '\r' | '\n') { skip(); } ;

Compiling it with &quot;antlr Graphics.g&quot; seems to work fine, producing the
files Graphics.tokens, GraphicsLexer.java and GraphicsParser.java, and
nothing on standard output. However, changing the language above to Ruby
produces the messages appended below, though it still produces the token
file and the .rb versions of the above Java files. Loading them up and
playing about in irb, I seem to be able to get the lexer to work, but
not the parser.

So: is Ruby supported? Working to some degree? What's the canonical way
to use the generated parser?

Here are the messages from antlr when compiling Graphics.g:

----------------------------------------------------------------------
Ruby.stg 204:241: '.' came as a complete surprise to me
Ruby.stg 255:151: '.' came as a complete surprise to me
Ruby.stg 498:23: anonymous template has 0 arg(s) but mapped across 1 value(s)
Ruby.stg 504:24: anonymous template has 0 arg(s) but mapped across 1 value(s)
Ruby.stg 1131:81: required parameters (filterMode) must appear before optional parameters
context [/outputFile] 6:32 no such template: /runtimeLibraryVersion
context [/outputFile] 19:51 no such template: /runtimeLibraryVersion
context [/outputFile] 49:32 no such template: /runtimeLibraryVersion
context [/outputFile] 59:0 no such template: /placeAction
context [/outputFile] 59:1 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile] 59:1 attribute scope isn't defined
context [/outputFile] 59:1 attribute name isn't defined
context [/outputFile] 60:0 no such template: /placeAction
context [/outputFile] 60:1 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile] 60:1 attribute scope isn't defined
context [/outputFile] 60:1 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile] 2:2 no such template: /placeAction
context [/outputFile /rootGrammarOutputFile] 2:3 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile] 2:3 attribute scope isn't defined
context [/outputFile /rootGrammarOutputFile] 2:3 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 25:2 no such template: /placeAction
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 25:3 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 25:3 attribute scope isn't defined
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 25:3 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 26:2 no such template: /placeAction
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 26:3 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 26:3 attribute scope isn't defined
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 26:3 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile /parser] 1:27 no such template: /autoloadDelegates
context [/outputFile /rootGrammarOutputFile /parser] 4:2 no such template: /parserBody
context [/outputFile /rootGrammarOutputFile /parser] 4:3 passed 3 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile /parser] 4:3 attribute rewriteElementType isn't defined
context [/outputFile /rootGrammarOutputFile /parser] 4:3 attribute actionScope isn't defined
context [/outputFile /rootGrammarOutputFile /parser] 4:3 attribute inputStreamType isn't defined
context [/outputFile /rootGrammarOutputFile] 5:2 no such template: /placeAction
context [/outputFile /rootGrammarOutputFile] 5:3 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile] 5:3 attribute scope isn't defined
context [/outputFile /rootGrammarOutputFile] 5:3 attribute name isn't defined
context [/outputFile] 68:0 no such template: /placeAction
context [/outputFile] 68:1 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile] 68:1 attribute scope isn't defined
context [/outputFile] 68:1 attribute name isn't defined
context [/outputFile] 69:0 no such template: /placeAction
context [/outputFile] 69:1 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile] 69:1 attribute scope isn't defined
context [/outputFile] 69:1 attribute name isn't defined
Ruby.stg 204:241: '.' came as a complete surprise to me
Ruby.stg 255:151: '.' came as a complete surprise to me
Ruby.stg 498:23: anonymous template has 0 arg(s) but mapped across 1 value(s)
Ruby.stg 504:24: anonymous template has 0 arg(s) but mapped across 1 value(s)
Ruby.stg 1131:81: required parameters (filterMode) must appear before optional parameters
context [/outputFile] 6:32 no such template: /runtimeLibraryVersion
context [/outputFile] 19:51 no such template: /runtimeLibraryVersion
context [/outputFile] 49:32 no such template: /runtimeLibraryVersion
context [/outputFile] 59:0 no such template: /placeAction
context [/outputFile] 59:1 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile] 59:1 attribute scope isn't defined
context [/outputFile] 59:1 attribute name isn't defined
context [/outputFile] 60:0 no such template: /placeAction
context [/outputFile] 60:1 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile] 60:1 attribute scope isn't defined
context [/outputFile] 60:1 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile] 2:2 no such template: /placeAction
context [/outputFile /rootGrammarOutputFile] 2:3 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile] 2:3 attribute scope isn't defined
context [/outputFile /rootGrammarOutputFile] 2:3 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 25:2 no such template: /placeAction
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 25:3 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 25:3 attribute scope isn't defined
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 25:3 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 26:2 no such template: /placeAction
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 26:3 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 26:3 attribute scope isn't defined
context [/outputFile /rootGrammarOutputFile /tokenDataModule] 26:3 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile /lexer] 1:27 no such template: /autoloadDelegates
context [/outputFile /rootGrammarOutputFile /lexer] 15:54 no such template: /runtimeLibraryVersion
context [/outputFile /rootGrammarOutputFile /lexer] 37:209 no such template: /placeAction
context [/outputFile /rootGrammarOutputFile /lexer] 37:210 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile /lexer] 37:210 attribute scope isn't defined
context [/outputFile /rootGrammarOutputFile /lexer] 37:210 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile /lexer] 40:2 no such template: /placeAction
context [/outputFile /rootGrammarOutputFile /lexer] 40:3 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile /lexer] 40:3 attribute scope isn't defined
context [/outputFile /rootGrammarOutputFile /lexer] 40:3 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:51 no such template: /action
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 attribute code isn't defined
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:51 no such template: /action
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 attribute code isn't defined
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:51 no such template: /action
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 attribute code isn't defined
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:51 no such template: /action
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 attribute code isn't defined
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:51 no such template: /action
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 attribute code isn't defined
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:51 no such template: /action
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 attribute name isn't defined
context [/outputFile /rootGrammarOutputFile /lexer /_sub108 /lexerRule] 20:52 attribute code isn't defined
context [/outputFile /rootGrammarOutputFile] 5:2 no such template: /placeAction
context [/outputFile /rootGrammarOutputFile] 5:3 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile /rootGrammarOutputFile] 5:3 attribute scope isn't defined
context [/outputFile /rootGrammarOutputFile] 5:3 attribute name isn't defined
context [/outputFile] 68:0 no such template: /placeAction
context [/outputFile] 68:1 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile] 68:1 attribute scope isn't defined
context [/outputFile] 68:1 attribute name isn't defined
context [/outputFile] 69:0 no such template: /placeAction
context [/outputFile] 69:1 passed 2 arg(s) to template null with 0 declared arg(s)
context [/outputFile] 69:1 attribute scope isn't defined
context [/outputFile] 69:1 attribute name isn't defined
----------------------------------------------------------------------

cjs
-- 
Curt Sampson         &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cjs at cynic.net</A>&gt;         +81 90 7737 2974

It is easier to write an incorrect program than understand a correct one.
    --Alan Perlis, Epigrams on Programming (#7)
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045511.html">[antlr-interest] Way to &quot;cut&quot; parsing?
</A></li>
	<LI>Next message: <A HREF="045509.html">[antlr-interest] State of Ruby Support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45500">[ date ]</a>
              <a href="thread.html#45500">[ thread ]</a>
              <a href="subject.html#45500">[ subject ]</a>
              <a href="author.html#45500">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
