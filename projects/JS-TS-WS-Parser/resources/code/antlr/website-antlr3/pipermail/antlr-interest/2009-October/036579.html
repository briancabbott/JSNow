<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Please help with a grammar issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Please%20help%20with%20a%20grammar%20issue&In-Reply-To=%3Cea663137a3077c44b55fdb5dfd80228b%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036577.html">
   <LINK REL="Next"  HREF="036574.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Please help with a grammar issue</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Please%20help%20with%20a%20grammar%20issue&In-Reply-To=%3Cea663137a3077c44b55fdb5dfd80228b%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Please help with a grammar issue">jimi at temporal-wave.com
       </A><BR>
    <I>Fri Oct 30 11:25:44 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="036577.html">[antlr-interest] Please help with a grammar issue
</A></li>
        <LI>Next message: <A HREF="036574.html">[antlr-interest] Using an AST Type with a TreeParser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36579">[ date ]</a>
              <a href="thread.html#36579">[ thread ]</a>
              <a href="subject.html#36579">[ subject ]</a>
              <a href="author.html#36579">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You don&#8217;t want to try and express this in the grammar at all, nor have predicates etc as you will not get good error messages or recovery. 

 

All you need do in fact is code the grammar to accept any number of each option, keep track of how many you find and issue good semantic errors such as &#8220;a b block cannot be repeated &#8230;&#8221; and so on. Something like this:

 

stuff 

scope

{

 int aCount = 0;

 int bCount = 0;

 int cCount = 0;

}

:<i> abc*
</I>
  {

    If (cCount == 0) { /* message about having to have a c block */ }

  }

;

 

abc

:<i> a {$stuff::aCount++; }
</I>
|<i> b { $styff:bVount++; if ($stuff::bCount &gt; 1) { /* message about b blocks being repeated */ } }
</I>
|<i> c {$stuff::cCount++; }
</I>
;

 

Generally people try to encode to much of the structure in to the grammar and it is the opposite way around that gives you better error messages and analysis.

 

Jim

 

From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Frank Du
Sent: Friday, October 30, 2009 9:23 AM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: [antlr-interest] Please help with a grammar issue

 

Dear All,

 

I have a grammar issue and need your help. Let&#8217;s say I have tree rules: a, b, c

 

Rule a occurs multiple times, rule b occurs one time or none, and rule c occurs one time.

 

My question is: How to write the grammar, so the rule ordering is arbitrary? 

 

Thank you so much! Have a nice day!

 

Best Regards,

Frank

 



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20091030/78335eff/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20091030/78335eff/attachment.html</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036577.html">[antlr-interest] Please help with a grammar issue
</A></li>
	<LI>Next message: <A HREF="036574.html">[antlr-interest] Using an AST Type with a TreeParser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36579">[ date ]</a>
              <a href="thread.html#36579">[ thread ]</a>
              <a href="subject.html#36579">[ subject ]</a>
              <a href="author.html#36579">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
