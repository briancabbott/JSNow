<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Newbie question on ANTLR
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Newbie%20question%20on%20ANTLR&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002197.html">
   <LINK REL="Next"  HREF="002198.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Newbie question on ANTLR</H1>
    <B>Brian Smith</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Newbie%20question%20on%20ANTLR&In-Reply-To="
       TITLE="[antlr-interest] Newbie question on ANTLR">brian-l-smith at uiowa.edu
       </A><BR>
    <I>Fri Nov  1 12:13:51 PST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="002197.html">[antlr-interest] Newbie question on ANTLR
</A></li>
        <LI>Next message: <A HREF="002198.html">[antlr-interest] includeFile example correct file name when error occurs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2199">[ date ]</a>
              <a href="thread.html#2199">[ thread ]</a>
              <a href="subject.html#2199">[ subject ]</a>
              <a href="author.html#2199">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>ANTLR 2.7.2a4 does not seem to have a problem with this example. Are you 
sure this is exactly the same thing that you fed into it? Maybe you are 
using an odd character encoding that might cause ANTLR's lexer to get 
confused?

Neil Benn wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> 	I am a new person to ANTLR.  I have made some progress but am
</I>&gt;<i> having some problems.  The code beneath is simply to tokenize a CSV
</I>&gt;<i> file.  However I am now attempting to recognise a token by splitting a
</I>&gt;<i> segment where a comma isn't there when it should be.
</I>&gt;<i> 
</I>&gt;<i> 	The ANTLR code is:-
</I>&gt;<i> 
</I>&gt;<i> class CSVParser extends Parser;
</I>&gt;<i> 
</I>&gt;<i> startRule
</I>&gt;<i> : (k:KEEP
</I>&gt;<i>     {
</I>&gt;<i>        System.out.println(k.getText().trim());
</I>&gt;<i>     }
</I>&gt;<i>   )+
</I>&gt;<i> ;
</I>&gt;<i> //------------------LEXER------------
</I>&gt;<i> class CSVLexer extends Lexer;
</I>&gt;<i> 
</I>&gt;<i> options{
</I>&gt;<i>   k=8;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> tokens {
</I>&gt;<i>   COMMENT = &quot;Comment&quot;;
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> DISCARD: ( '\t'
</I>&gt;<i>          | ','
</I>&gt;<i>          | ':'
</I>&gt;<i>          | '\n' {newline();}
</I>&gt;<i>          | '\r' '\n' {newline();}
</I>&gt;<i>          )+
</I>&gt;<i>          {$setType(Token.SKIP);}
</I>&gt;<i> ;
</I>&gt;<i> 
</I>&gt;<i> KEEP: ('\u0020' .. '\u002B' //miss out the comma
</I>&gt;<i>       | '\u002D' .. '\u0039'//miss out the colon
</I>&gt;<i>       | '\u003B' .. '\u007E')+//go up to end of latin characters and
</I>&gt;<i> ASCII punctuation types
</I>&gt;<i> ; 
</I>&gt;<i> 
</I>&gt;<i> 	This is attempting to recognise the literal of &quot;Commment&quot;
</I>&gt;<i> however when I attempt to compile I get an error detailing:-
</I>&gt;<i> 
</I>&gt;<i> Error: line(17), expecting TOKEN_REF, found 'COMMENT'
</I>&gt;<i> Error: rule classDef trapped: line(19), expecting RCURLY, found ';'
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 	As far as I can see I have used the same syntax that comes in
</I>&gt;<i> the examples - however I'm not getting anywhere and am not sure what I'm
</I>&gt;<i> doing wrong.  
</I>&gt;<i> 
</I>&gt;<i> 	Any help anyone could provide, I'd most appreciate it and can
</I>&gt;<i> return any information on laboratory automation strategy planning at the
</I>&gt;<i> same time!
</I>&gt;<i> 
</I>&gt;<i> P.S. I've attached the file (one of many formats) I'm trying to parse
</I>&gt;<i> (format is out of my control) for completeness - although it's probably
</I>&gt;<i> of no use!
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> 
</I>&gt;<i> Neil Benn
</I>&gt;<i> Senior Automation Informatics Scientist
</I>&gt;<i> 
</I>&gt;<i> Cambridge Antibody Technology
</I>&gt;<i> The Science Park
</I>&gt;<i> Melbourn
</I>&gt;<i> Cambridgeshire
</I>&gt;<i> SG8 6JJ, UK
</I>&gt;<i> 
</I>&gt;<i> Telephone: + 44 (0) 1763 263233
</I>&gt;<i> Facsimile + 44 (0) 1763 263413
</I>&gt;<i> Email: mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">neil.benn at cambridgeantibody.com</A>
</I>&gt;<i> <A HREF="http://www.cambridgeantibody.com">http://www.cambridgeantibody.com</A>
</I>&gt;<i> 
</I>&gt;<i> Cambridge Antibody Technology Limited *
</I>&gt;<i> Registered Office: The Science Park, Melbourn, Cambridgeshire, SG8 6JJ,
</I>&gt;<i> UK
</I>&gt;<i> Registered in England and Wales number 2451177
</I>&gt;<i> (* Cambridge Antibody Technology Limited is a member of the Cambridge
</I>&gt;<i> Antibody Technology Group of Companies)
</I>&gt;<i> 
</I>&gt;<i> Confidentiality Note: This information and any attachments is
</I>&gt;<i> confidential
</I>&gt;<i> and only for use by the individual or entity to whom it has been sent.
</I>&gt;<i> Any
</I>&gt;<i> unauthorised dissemination, distribution or copying of this message is
</I>&gt;<i> strictly prohibited. If you are not the intended recipient please inform
</I>&gt;<i> the
</I>&gt;<i> sender immediately by reply e-mail and delete this message from your
</I>&gt;<i> system.
</I>&gt;<i> Thank you for your co-operation.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 
</I>&gt;<i> 
</I>

 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002197.html">[antlr-interest] Newbie question on ANTLR
</A></li>
	<LI>Next message: <A HREF="002198.html">[antlr-interest] includeFile example correct file name when error occurs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2199">[ date ]</a>
              <a href="thread.html#2199">[ thread ]</a>
              <a href="subject.html#2199">[ subject ]</a>
              <a href="author.html#2199">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
