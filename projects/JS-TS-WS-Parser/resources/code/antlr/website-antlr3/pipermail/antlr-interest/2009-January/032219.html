<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Where is the EOF documentation?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Where%20is%20the%20EOF%20documentation%3F&In-Reply-To=%3C307260.32382.qm%40web55905.mail.re3.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032217.html">
   <LINK REL="Next"  HREF="032220.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Where is the EOF documentation?</H1>
    <B>Loring Craymer</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Where%20is%20the%20EOF%20documentation%3F&In-Reply-To=%3C307260.32382.qm%40web55905.mail.re3.yahoo.com%3E"
       TITLE="[antlr-interest] Where is the EOF documentation?">lgcraymer at yahoo.com
       </A><BR>
    <I>Mon Jan  5 10:29:28 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="032217.html">[antlr-interest] Where is the EOF documentation?
</A></li>
        <LI>Next message: <A HREF="032220.html">[antlr-interest]  ICECCS09 : CALL FOR PAPERS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32219">[ date ]</a>
              <a href="thread.html#32219">[ thread ]</a>
              <a href="subject.html#32219">[ subject ]</a>
              <a href="author.html#32219">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>EOF is a real token generated when the lexer reaches the end of file.  The EOF symbol appears in a grammar to force processing of all tokens in a file or to generate an error condition if that is not possible.  If all files fed to a grammar-derived parser are well-formed (do not have missing or extra tokens at the end of file and conform to the grammar), then a grammar without EOF will appear to be working.

--Loring




________________________________
From: George S. Cowan &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cowang at comcast.net</A>&gt;
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Sent: Monday, January 5, 2009 9:48:34 AM
Subject: [antlr-interest] Where is the EOF documentation?

Message 
Is there 
any documentation for the special EOF token? 
 
When the 
parser reaches the end of file, special things seem to happen. But I can't find 
anywhere this is documented. I'm in the middle of my second pass through the 
Definitive ANTLR Reference, and I don't recall it occurring in any of the 
grammars there, or in fact, being mentioned at all. It isn't in the index 
either. 
 
I have seen it 
mentioned as a magic fix for certain grammars on the website, e.g., <A HREF="http://www.antlr.org/wiki/pages/viewpage.action?pageId=4554943.">http://www.antlr.org/wiki/pages/viewpage.action?pageId=4554943.</A> 
 
In a search from the ANTLR home page, I 
found several email list entries that mentioned EOF frustrations and 
solutions, but I am still not clear about when it is needed and when it is not. 
(When trying to find emails from a search on the home page, watch out for the 
&quot;&quot; port in the URLS, it must be manually removed in order to get to the 
emails' new location.)
 
Here are the the 
facts that I have gleaned from reading and experiments:
 
1. EOF is not 
usually required at the end of your top-level rule in a grammar, but 
sometimes it is. When is not clear.
 
2. Some rules cannot 
be unit tested because directly calling them against a valid input 
stream puts an EOF at the end of the input steam and some rules 
trip over the EOF. When is not clear.
 
3. EOF is only 
available in the parser, not the lexer. So, for instance, we can't make it part 
of whitespace, or make it ok for a line comment to end with an EOF as well 
as a newline.
 
 
I begin to suspect 
that EOF is not truly a token on the token steam, but just something 
to use in the parser when certain special undocumented handling is wanted. 
I also suspect that the effect of an end of file is different 
depending on DFAs, hoisting, and maybe other things not seen in the grammar, but 
going on in the implementation. 
 
A satisfactory 
response would be, &quot;How true, but a future release will clean up some of this, 
and better to wait and document that.&quot;
 
Frustrated, but hoping for clarity, 
George


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090105/cd8624d2/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090105/cd8624d2/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032217.html">[antlr-interest] Where is the EOF documentation?
</A></li>
	<LI>Next message: <A HREF="032220.html">[antlr-interest]  ICECCS09 : CALL FOR PAPERS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32219">[ date ]</a>
              <a href="thread.html#32219">[ thread ]</a>
              <a href="subject.html#32219">[ subject ]</a>
              <a href="author.html#32219">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
