<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] importVocab question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20importVocab%20question&In-Reply-To=1144532934.20825.11.camel%40localhost">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015919.html">
   <LINK REL="Next"  HREF="015920.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] importVocab question</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20importVocab%20question&In-Reply-To=1144532934.20825.11.camel%40localhost"
       TITLE="[antlr-interest] importVocab question">ric.klaren at gmail.com
       </A><BR>
    <I>Mon Apr 10 03:57:54 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="015919.html">[antlr-interest] importVocab question
</A></li>
        <LI>Next message: <A HREF="015920.html">[antlr-interest] JavaEmitter update questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15938">[ date ]</a>
              <a href="thread.html#15938">[ thread ]</a>
              <a href="subject.html#15938">[ subject ]</a>
              <a href="author.html#15938">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On 4/8/06, Scott Amort &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jsamort at rogers.com</A>&gt; wrote:
&gt;<i> I have my ANTLR lexer and parser grammars separated into two files.
</I>&gt;<i> Now, my lexer scans identifiers and tests them against the literals
</I>&gt;<i> table.  The problem here is that there is not a literals table yet, as
</I>&gt;<i> they are all defined in the parser.  To solve this, I import my parser
</I>&gt;<i> vocabulary into the lexer (with importVocab), which also necessitates
</I>&gt;<i> running antlr on the parser first.  This seems to work and everything
</I>&gt;<i> runs fine, except one thing.  Within the lexer, I have numerous
</I>&gt;<i> paraphrase=&quot;x&quot; statements to make any error output a bit more
</I>&gt;<i> understandable.  These statements do not make it to the parser, as the
</I>&gt;<i> parser is not inputting the vocabulary from the lexer, but it is instead
</I>&gt;<i> operating the other way around. If I do try to input the lexer
</I>&gt;<i> vocabulary, I end up with a circular dependency - the parser must
</I>&gt;<i> generate its vocab first, but in order to do so it needs the lexer
</I>&gt;<i> vocab, but the lexer needs the parser's vocab to work, and so on.  Is
</I>&gt;<i> there a way to fix this?
</I>
Define all tokens in the lexer or define all tokens in the parser.
Export/ImportVocab 'chains' are best built linearly: lexer -&gt; parser
-&gt; treerewriter -&gt; treeparser. Also make sure to get the build order
right, it gives very strange behaviour if you don't (double check the
tokenTypes.txt files when in doubt and see if tokens appear twice or
with different numbers assigned to them).

Cheers,

Ric
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015919.html">[antlr-interest] importVocab question
</A></li>
	<LI>Next message: <A HREF="015920.html">[antlr-interest] JavaEmitter update questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15938">[ date ]</a>
              <a href="thread.html#15938">[ thread ]</a>
              <a href="subject.html#15938">[ subject ]</a>
              <a href="author.html#15938">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
