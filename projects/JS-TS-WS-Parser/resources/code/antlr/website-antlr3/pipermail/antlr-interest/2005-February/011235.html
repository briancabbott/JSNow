<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Hand made lexer 600(!!!!!) times faster of ANTLR's
	one
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Hand%20made%20lexer%20600%28%21%21%21%21%21%29%20times%20faster%20of%20ANTLR%27s%0A%09one&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011232.html">
   <LINK REL="Next"  HREF="011239.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Hand made lexer 600(!!!!!) times faster of ANTLR's
	one</H1>
    <B>Ruslan Zasukhin</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Hand%20made%20lexer%20600%28%21%21%21%21%21%29%20times%20faster%20of%20ANTLR%27s%0A%09one&In-Reply-To="
       TITLE="[antlr-interest] Hand made lexer 600(!!!!!) times faster of ANTLR's
	one">sunshine at public.kherson.ua
       </A><BR>
    <I>Thu Feb 24 01:18:48 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011232.html">[antlr-interest] need a ready to run example
</A></li>
        <LI>Next message: <A HREF="011239.html">[antlr-interest] Hand made lexer 600(!!!!!) times faster of
	ANTLR'sone
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11235">[ date ]</a>
              <a href="thread.html#11235">[ thread ]</a>
              <a href="subject.html#11235">[ subject ]</a>
              <a href="author.html#11235">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

Since again on this list raised performance issue
I want to point our recent discovery.

We have made simplest ANTLR lexer in 5 lines to parse
COMA/TAB separated files.
We use C++.

Making tests. 2 minutes for file on import.
We see that this is incredibly long.


In one day our developer make hand lexer,
And time is wow -- 0.2 seconds.

600 times guys!     600 times!!!


This is incredible.
This is very disappointed.

If to look into ANTLR then of course we see that xxxxxx

* LA() calls 

* creation of TOKENs that copy strings using std::string class
        
    in our version we simple return pointer to start and pointer
    to end of token in the PARSED text.
    - We do not copy any byte
    - we do not call any new operator
    - we do not create std::string objects
    - we do not destroy them
    - we do not call delete operators.
    
    instead of all above we have ZERO time.

* and probably exceptions...


I do not understand why in ANTLR C++ cannot be written small
string class in 100 lines of code which will increase speed of ANTLR in 10
times AT LEAST.

Many times I was blamed on this list;
    Hey Ruslan, at first go to profiler,
    and prove that ANTLR take more time than your SQL engine.

So guys, I can 100 times to say:

    ANTLR parser for SQL string take time LONGER than
    we can resolve after that query for table with million records!

Should I say anything more ?!           :-(

....................................................
I already do not know how to explain................
....................................................

Terrence, Rick, you have great cool parser.

    but it is NOT CORRECT to think that speed is not an issue.

Terrence, Rick, can you take into hands profiler and self to see what great
overhead bring us all above points?

Is it possible spend time to collect all advices on this list on code
optimization? I believe I have see at least 10 letters during last 2 years,
and each letter have told WE WAS ABLE INCREASE speed in times.

    It is just a shame to have so slow and so cool parser.
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

:<i>-) yes I know this letter looks to be emotional and angry.
</I>    but I cannot understand why speed is the LAST ISSUE for ANTLR guys.

I hope that in nearest time we will get cool ANTLR with cool speed.
And slogan will be

    the best parser!
    the fastest parser!

-- 
Best regards,
Ruslan Zasukhin      [ I feel the need...the need for speed ]
-------------------------------------------------------------
e-mail: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">ruslan at paradigmasoft.com</A>
web: <A HREF="http://www.paradigmasoft.com">http://www.paradigmasoft.com</A>

To subscribe to the Valentina mail list go to:
<A HREF="http://lists.macserve.net/mailman/listinfo/valentina">http://lists.macserve.net/mailman/listinfo/valentina</A>
-------------------------------------------------------------



</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011232.html">[antlr-interest] need a ready to run example
</A></li>
	<LI>Next message: <A HREF="011239.html">[antlr-interest] Hand made lexer 600(!!!!!) times faster of
	ANTLR'sone
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11235">[ date ]</a>
              <a href="thread.html#11235">[ thread ]</a>
              <a href="subject.html#11235">[ subject ]</a>
              <a href="author.html#11235">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
