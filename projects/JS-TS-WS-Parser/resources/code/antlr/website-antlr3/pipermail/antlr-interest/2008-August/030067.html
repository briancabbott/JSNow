<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Preserving comments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Preserving%20comments&In-Reply-To=%3CB0DE8B66453D0F4AA67D2A150934999B048C0D832E%40ex01.dbsophicHQ.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029986.html">
   <LINK REL="Next"  HREF="030068.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Preserving comments</H1>
    <B>Vitaliy</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Preserving%20comments&In-Reply-To=%3CB0DE8B66453D0F4AA67D2A150934999B048C0D832E%40ex01.dbsophicHQ.com%3E"
       TITLE="[antlr-interest] Preserving comments">Vitaliy at dbsophic.com
       </A><BR>
    <I>Sun Aug 17 12:26:43 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029986.html">[antlr-interest] Preserving comments
</A></li>
        <LI>Next message: <A HREF="030068.html">[antlr-interest] unsubscribe request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30067">[ date ]</a>
              <a href="thread.html#30067">[ thread ]</a>
              <a href="subject.html#30067">[ subject ]</a>
              <a href="author.html#30067">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi guys,

Thanks so much for all the suggestions.
I see now that I have no choice, but to go with comment granularity level of a rule -
That is I'll associate all the comments that appear inside some rule with that rule in general.

When translated, this will move the comments from their original location to the end of the rule -
Also I'll have to deal with the association in each rule separately,
But I don't see any better solution from the discussion.

Anyway, thanks for your efforts,
Vitaliy

-----Original Message-----
From: Andy Tripp [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr at jazillian.com</A>]
Sent: Friday, August 15, 2008 00:30
To: Vitaliy
Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-interest] Preserving comments

It's very difficult, in practice, to associate comments with code.
A comment may &quot;go with&quot; code that's above it, below it, left or right of it.
It has a lot do do with how people perceive whitespace.
Peter Ahe at Sun wrote a good paper on the subject years ago.

I wrote some pretty involved heuristics to try to figure out what
comments &quot;go with&quot; certain code.

I have the ANTLR lexer preserve the comments and whitespace and then my own processor
analyses them before stripping them out of the stream of tokens.
But to attach comments to individual AST nodes doesn't work well if the AST changes a lot.

Andy

Vitaliy wrote:

&gt;<i> But failed to find a good-enough way to preserve comments.
</I>




__________ Information from ESET NOD32 Antivirus, version of virus signature database 3361 (20080816) __________

The message was checked by ESET NOD32 Antivirus.

<A HREF="http://www.eset.com">http://www.eset.com</A>



__________ Information from ESET NOD32 Antivirus, version of virus signature database 3362 (20080817) __________

The message was checked by ESET NOD32 Antivirus.

<A HREF="http://www.eset.com">http://www.eset.com</A>

</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029986.html">[antlr-interest] Preserving comments
</A></li>
	<LI>Next message: <A HREF="030068.html">[antlr-interest] unsubscribe request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30067">[ date ]</a>
              <a href="thread.html#30067">[ thread ]</a>
              <a href="subject.html#30067">[ subject ]</a>
              <a href="author.html#30067">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
