<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] retrieving the length of a production match
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20retrieving%20the%20length%20of%20a%20production%20match&In-Reply-To=%3C051466DAA0D608439E196797955018D7023643%40wavemachine.temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023368.html">
   <LINK REL="Next"  HREF="023372.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] retrieving the length of a production match</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20retrieving%20the%20length%20of%20a%20production%20match&In-Reply-To=%3C051466DAA0D608439E196797955018D7023643%40wavemachine.temporal-wave.com%3E"
       TITLE="[antlr-interest] retrieving the length of a production match">jimi at temporal-wave.com
       </A><BR>
    <I>Tue Aug 21 14:06:42 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023368.html">[antlr-interest] retrieving the length of a production match
</A></li>
        <LI>Next message: <A HREF="023372.html">[antlr-interest] retrieving the length of a production match
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23370">[ date ]</a>
              <a href="thread.html#23370">[ thread ]</a>
              <a href="subject.html#23370">[ subject ]</a>
              <a href="author.html#23370">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just refer to $start and $stop in a rule or more likely for you
$rulelabel.start and $rulelabel.stop. 

These are the actual tokens, which will give you the offset of their
text start in your input stream, which will give you the length in terms
of the input text as well as the start point.

Also, if you determine that there is a semantic error (say an incorrect
cast or something), then you presumably know the tokens involved and can
use their text offsets to determine the length of the text that
indicates the error?

Jim


&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Adrian Herscu
</I>&gt;<i> Sent: Tuesday, August 21, 2007 1:53 PM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: Re: [antlr-interest] retrieving the length of a production
</I>&gt;<i> match
</I>&gt;<i> 
</I>&gt;<i> Thanks for the suggestion, Kay.
</I>&gt;<i> 
</I>&gt;<i> Kay Roepke wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Aug 21, 2007, at 9:32 PM, Adrian Herscu wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; I want to embed my parser in an IDE. One of the required features
</I>is
&gt;<i> &gt;&gt; to provide error markers. The markers framework API requires the
</I>&gt;<i> &gt;&gt; length of the error besides of the line and column.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I have looked into the AST API and couldn't find nothing to help
</I>&gt;<i> with
</I>&gt;<i> &gt;&gt; this task... Searched the group and google, but still nothing :-(
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; A tree node has the start and stop token index (in the sense that in
</I>&gt;<i> a
</I>&gt;<i> &gt; tree like ^(+ 3 4) the + encompasses everything below). From that
</I>you
&gt;<i> &gt; can get the tokens from the token stream and eventually figure out
</I>&gt;<i> the
</I>&gt;<i> &gt; length of the matched string in the character stream :)
</I>&gt;<i> 
</I>&gt;<i> I couldn't find a method that returns the stop token...
</I>&gt;<i> But having an AST, it seems possible to iterate over its children
</I>using
&gt;<i> getNextSibling() till the last child... then iterate over its children
</I>&gt;<i> till the last child... and so on, till the so called &quot;stop token&quot;...
</I>&gt;<i> awful! Is there something that I am missing?
</I>&gt;<i> 
</I>&gt;<i> Thinking...
</I>&gt;<i> Hmmm, that information is already available during the AST
</I>&gt;<i> construction...
</I>&gt;<i> 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; HTH,
</I>&gt;<i> &gt; -k
</I>
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023368.html">[antlr-interest] retrieving the length of a production match
</A></li>
	<LI>Next message: <A HREF="023372.html">[antlr-interest] retrieving the length of a production match
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23370">[ date ]</a>
              <a href="thread.html#23370">[ thread ]</a>
              <a href="subject.html#23370">[ subject ]</a>
              <a href="author.html#23370">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
