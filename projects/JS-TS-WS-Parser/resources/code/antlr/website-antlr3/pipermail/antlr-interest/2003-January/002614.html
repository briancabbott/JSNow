<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Seperating Grammar and Actions..
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Seperating%20Grammar%20and%20Actions..&In-Reply-To=avvlqd%2Bqcv0%40eGroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002613.html">
   <LINK REL="Next"  HREF="002602.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Seperating Grammar and Actions..</H1>
    <B>John D. Mitchell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Seperating%20Grammar%20and%20Actions..&In-Reply-To=avvlqd%2Bqcv0%40eGroups.com"
       TITLE="[antlr-interest] Re: Seperating Grammar and Actions..">johnm-antlr at non.net
       </A><BR>
    <I>Mon Jan 13 17:18:10 PST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002613.html">[antlr-interest] Re: Seperating Grammar and Actions..
</A></li>
        <LI>Next message: <A HREF="002602.html">[antlr-interest] Seperating Grammar and Actions..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2614">[ date ]</a>
              <a href="thread.html#2614">[ thread ]</a>
              <a href="subject.html#2614">[ subject ]</a>
              <a href="author.html#2614">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;&gt;&gt;<i> &quot;micheal&quot; == micheal jor &lt;open <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">zone at virgin</A> net&gt; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">open.zone at virgin.net</A>&gt; writes:
</I>
&gt;&gt;<i> I'm very much of the opinion that for any non-trivial translator, the
</I>&gt;&gt;<i> only thing that the parser should do is to build the AST and any
</I>&gt;&gt;<i> auxiliary data structures that only it can build and nothing else.
</I>&gt;&gt;<i> I.e., no syntax-directed, parser translators for anything that's
</I>&gt;&gt;<i> non-trivial.
</I>
&gt;<i> This can be interpreted as &quot;strive for no [minimal?] embedded action code
</I>&gt;<i> in parsers for non-trivial translators&quot;. Is this what you meant?
</I>
Basically.  The actions should only do what is necessary and sufficient so
as to be able build the initial AST (and any necessary auxiliary data
structures).  It's arguable whether things like symbol tables are really
necessary to build during the parse phase but, IMHO, that mostly depends on
the nature of the source language.


&gt;<i> &lt;SNIPPED-stuff-I-agree-with/&gt;
</I>
&gt;&gt;<i> For many translators, that's just making passes over the AST and doing
</I>&gt;&gt;<i> annotation, pruning, rearrangement, and some insertions.  For others,
</I>&gt;&gt;<i> that's a basis from which to build additional auxiliary structures
</I>&gt;&gt;<i> (e.g., def-use, use-def chains) or more specialized IRs (e.g., machine
</I>&gt;&gt;<i> specific tuple formats).
</I>
&gt;<i> Can all the remaining work be specified as ANTLR tree parsers (this is
</I>&gt;<i> related to my other post about resolvers-etc-as-treeparsers I guess) ?.
</I>
IME, that depends on the nature of your languages and what you want to do
the source.  For some projects, it's necessary to work with other back-end
libraries, etc. so it can depend on what they require.  For (most?) source
to source translators, the AST+ approach has been all that's needed.

Personally, I like having an AST as the primary IR and then create extra
data structures when they will make some particular task significantly
easier/faster/safer/etc.  That allows me to rely on the discipline and
rigor of grammar-based treewalkers as the backbone of the system.

[Aside: If you want to learn a lot of bad ways to deal with trees, look at
all of the flailing crap floating around in the XML world.  Ugh.]


&gt;<i> Any links/cites to information (particularly practical implementation
</I>&gt;<i> related info) on some of these other passes and auxilliary structures
</I>&gt;<i> please?
</I>
There are tons of papers floating around on stuff like this.  The various
books on compilers are very hit or miss depending on what you're looking
for.  The comp.compilers newsgroup is a great resource.

Note that very few of the papers and book deal with source to source
translation.  Most deal with the traditional compiler from source to object
code.  Though, with the popularity of Java, Perl, etc. more are playing
with the notion of executable IRs such as the Java Virtual Machine's
bytecode (.class) format and thinks like Just-In-Time and dynamic
compilers.  They all have slightly (or wildly) different usage constraints
and so solutions that make no sense in one context can be perfect for
another.

Hope this helps,
		John

 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002613.html">[antlr-interest] Re: Seperating Grammar and Actions..
</A></li>
	<LI>Next message: <A HREF="002602.html">[antlr-interest] Seperating Grammar and Actions..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2614">[ date ]</a>
              <a href="thread.html#2614">[ thread ]</a>
              <a href="subject.html#2614">[ subject ]</a>
              <a href="author.html#2614">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
