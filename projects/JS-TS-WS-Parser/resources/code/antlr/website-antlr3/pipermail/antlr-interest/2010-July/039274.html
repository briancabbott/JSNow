<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] gUnit doesn't work with rewrite rules
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20gUnit%20doesn%27t%20work%20with%20rewrite%20rules&In-Reply-To=%3CAANLkTi%3Dfizkm2QDndR0ghphkobr5HL6xkLB-ehqD7ucb%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="039272.html">
   <LINK REL="Next"  HREF="039278.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] gUnit doesn't work with rewrite rules</H1>
    <B>&#28145;&#30010;&#33521;&#22826;&#37070; (E. Fukamachi)</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20gUnit%20doesn%27t%20work%20with%20rewrite%20rules&In-Reply-To=%3CAANLkTi%3Dfizkm2QDndR0ghphkobr5HL6xkLB-ehqD7ucb%40mail.gmail.com%3E"
       TITLE="[antlr-interest] gUnit doesn't work with rewrite rules">e.arrows at gmail.com
       </A><BR>
    <I>Thu Jul 29 20:27:13 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="039272.html">[antlr-interest] Using antlr in an ebcdic environment?
</A></li>
        <LI>Next message: <A HREF="039278.html">[antlr-interest] Review of &quot;Language Implementation Patterns&quot;	(Terence Parr)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39274">[ date ]</a>
              <a href="thread.html#39274">[ thread ]</a>
              <a href="subject.html#39274">[ subject ]</a>
              <a href="author.html#39274">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi.
I'm trying to develop a simple translator with ANTLR.
I thought &quot;rewrite option&quot; better for me, but gUnit raised
ClassCastException with it.

The following codes have the problem. I'm using ANTLR v3.2 and Java
1.6.0 on Mac OS 10.6.

Do you have any advice?

Thanks.

== T.g ==
{{{
grammar T;
options {output=template; rewrite=true;}

type: 'int' -&gt; template() &quot;Integer&quot;;
}}}

== T.gunit ==
{{{
gunit T;

type:
&quot;int&quot; -&gt; &quot;Integer&quot;
}}}

Then, I executed following shell commands.

$ java org.antlr.Tool T.g
$ javac T{Lexer,Parser}.java
$ java org.antlr.gunit.Interp T.gunit

And, I got the following outputs.

{{{
-----------------------------------------------------------------------
executing testsuite for grammar:T with 1 tests
-----------------------------------------------------------------------
1 failures found:
test1 (type, line4) -
expected: Integer
actual: java.lang.ClassCastException:
org.antlr.runtime.CommonTokenStream cannot be cast to
org.antlr.runtime.TokenRewriteStream


Tests run: 1, Failures: 1
}}}

--
Eitarow Fukamachi
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="039272.html">[antlr-interest] Using antlr in an ebcdic environment?
</A></li>
	<LI>Next message: <A HREF="039278.html">[antlr-interest] Review of &quot;Language Implementation Patterns&quot;	(Terence Parr)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#39274">[ date ]</a>
              <a href="thread.html#39274">[ thread ]</a>
              <a href="subject.html#39274">[ subject ]</a>
              <a href="author.html#39274">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
