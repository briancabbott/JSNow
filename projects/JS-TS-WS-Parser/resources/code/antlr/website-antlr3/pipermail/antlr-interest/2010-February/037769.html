<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Bounding the token stream in the C backend
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Bounding%20the%20token%20stream%20in%20the%20C%20backend&In-Reply-To=%3C4a051d931002242109l5550483cmec103ea435c3f254%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037767.html">
   <LINK REL="Next"  HREF="037772.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Bounding the token stream in the C backend</H1>
    <B>Christopher L Conway</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Bounding%20the%20token%20stream%20in%20the%20C%20backend&In-Reply-To=%3C4a051d931002242109l5550483cmec103ea435c3f254%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Bounding the token stream in the C backend">cconway at cs.nyu.edu
       </A><BR>
    <I>Wed Feb 24 21:09:09 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037767.html">[antlr-interest] Using C++ types in an ANTLR-generated C parser
</A></li>
        <LI>Next message: <A HREF="037772.html">[antlr-interest] Bounding the token stream in the C backend
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37769">[ date ]</a>
              <a href="thread.html#37769">[ thread ]</a>
              <a href="subject.html#37769">[ subject ]</a>
              <a href="author.html#37769">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've got a large input file (~39MB) that I'm attempting to parse with
an ANTLR3-generated C parser. The parser is using a huge amount of
memory (~3.7GB) and seems to start thrashing without making much
progress towards termination. I found a thread from earlier this month
(<A HREF="http://markmail.org/message/jfngdd2ci6h7qrbo">http://markmail.org/message/jfngdd2ci6h7qrbo</A>) suggesting the most
likely cause of such behavior is a parser bug, but I've stepped
through the code and it seems to be lexing just fine. Rather, it seems
the problem is that fillBuffer() is tokenizing the whole file in one
go; then, the parsing rules slow to a crawl because the token buffer
is sitting on all the memory.

I wonder if there is a way to change fillBuffer()'s behavior, so that
it will only lex some bounded number of tokens before allowing parsing
to proceed?

Thanks,
Chris
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037767.html">[antlr-interest] Using C++ types in an ANTLR-generated C parser
</A></li>
	<LI>Next message: <A HREF="037772.html">[antlr-interest] Bounding the token stream in the C backend
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37769">[ date ]</a>
              <a href="thread.html#37769">[ thread ]</a>
              <a href="subject.html#37769">[ subject ]</a>
              <a href="author.html#37769">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
