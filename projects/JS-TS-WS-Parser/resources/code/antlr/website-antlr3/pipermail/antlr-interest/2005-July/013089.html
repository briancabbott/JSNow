<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Tricky vector constructor syntax
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Tricky%20vector%20constructor%20syntax&In-Reply-To=200507170348.j6H3m8qk017513%40s2.eroute.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013088.html">
   <LINK REL="Next"  HREF="013092.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Tricky vector constructor syntax</H1>
    <B>Richard Matthias</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Tricky%20vector%20constructor%20syntax&In-Reply-To=200507170348.j6H3m8qk017513%40s2.eroute.net"
       TITLE="[antlr-interest] Tricky vector constructor syntax">richard at exaflop.org
       </A><BR>
    <I>Sun Jul 17 14:10:29 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013088.html">[antlr-interest] ANTXR 0.9.0 released
</A></li>
        <LI>Next message: <A HREF="013092.html">[antlr-interest] Tricky vector constructor syntax
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13089">[ date ]</a>
              <a href="thread.html#13089">[ thread ]</a>
              <a href="subject.html#13089">[ subject ]</a>
              <a href="author.html#13089">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I'm trying to write a parser for a scripting language used in an online game.
The language is predictably very C-like with a few twists, most of which are
quite benign, but one is really twisting my melon.

The language supports vectors and quaternions as data types and they have
provided syntax for constructing instances of these types that make it just a
little bit tricky to parse. For example:-

vector v = &lt;4.0 , 1.2, 0&gt;;

Of course that's just an initializer, the same angle bracket syntax can be
used in expressions and each of the three elements of the vector can of
course be expressions also. A quaternion is for the sake of parsing just the
same except it has four components.

The grammar (which I've attached) has an expression section shamelessly
lifted from the java.g sample grammar but altered slightly to match the
original yacc grammar supplied by the makers of the game. For the moment I've
placed a rule for just the vector at the same level as the other constants
(the last alt of the postfixExpression rule) and even with a syntactic
predicate it still causes the same ambiguity warning. Does this look right or
should I try and shoehorn it in at the same level as the &lt; operator?

I commented out some other stuff so at least without the production in
question the grammar compiles without warnings to give a fighting chance! And
the lexer isn't complete yet so it won't produce the right tokens. Oh and
please don't ridicule my choice of token names too much :)

Regards

Richard
-------------- next part --------------
A non-text attachment was scrubbed...
Name: LSLCompilerFrontEnd.g
Type: application/octet-stream
Size: 8498 bytes
Desc: not available
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20050717/1c02f97d/LSLCompilerFrontEnd.obj">http://www.antlr.org/pipermail/antlr-interest/attachments/20050717/1c02f97d/LSLCompilerFrontEnd.obj</A>
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013088.html">[antlr-interest] ANTXR 0.9.0 released
</A></li>
	<LI>Next message: <A HREF="013092.html">[antlr-interest] Tricky vector constructor syntax
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13089">[ date ]</a>
              <a href="thread.html#13089">[ thread ]</a>
              <a href="subject.html#13089">[ subject ]</a>
              <a href="author.html#13089">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
