<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: Is it because of buggy antlr?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Is%20it%20because%20of%20buggy%20antlr%3F&In-Reply-To=b0im4g%2Bgsqp%40eGroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002683.html">
   <LINK REL="Next"  HREF="002685.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: Is it because of buggy antlr?</H1>
    <B>rmsanjivp &lt;rmsanjivp at yahoo.com&gt;</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20Is%20it%20because%20of%20buggy%20antlr%3F&In-Reply-To=b0im4g%2Bgsqp%40eGroups.com"
       TITLE="[antlr-interest] Re: Is it because of buggy antlr?">rmsanjivp at yahoo.com
       </A><BR>
    <I>Mon Jan 20 21:44:15 PST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="002683.html">[antlr-interest] Re: Is it because of buggy antlr?
</A></li>
        <LI>Next message: <A HREF="002685.html">[antlr-interest] Re: Is it because of buggy antlr?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2684">[ date ]</a>
              <a href="thread.html#2684">[ thread ]</a>
              <a href="subject.html#2684">[ subject ]</a>
              <a href="author.html#2684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Loring,

But that was a typo from my side. I really had hard time figuring 
out the problem with the following grammar:


expr
 : e1 ((PLUS | MINUS) e1)*
 ;
 
 e1
  : e0 ( POWER e1)? // to make POWER tree as right associative
  ;

e0: ID;

If it is a small example like this then it works fine because in the 
c++ code generated by ANTLR does not throw an exception if the next 
token is the EOF.

But I have a grammar where I have a number of tokens and at least 11 
levels of descent like..

e1: e2 (OP1 e2)*;
e2: e3 (OP2 e3)*
...
e10: e11 (OP10 e10)?;
e11: ID;

On Observing the code generated for this bug grammar I figured out 
that in the method for rule e10 an exception is thrown if the next 
lookahead symbol is not any of OP1, op2, ..., OP10. Even when rule 
e11 can lead to the terminal the method for rule e10 throws an 
exception for EOF. And if I have &quot;p1+p2&quot; as an input then it 
recognizes upto p2 but then in rule e10 the next look ahead is EOF 
and hence it throws an exception.

Could anyone please throw some light on such behavior?

thanks,
Sanjiv




--- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>, &quot;lgcraymer &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">lgc at m...</A>&gt;&quot; 
&lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">lgc at m...</A>&gt; wrote:
&gt;<i> Sanjiv--
</I>&gt;<i> 
</I>&gt;<i> Actually, there is a bug in your grammar.  Change expr to
</I>&gt;<i> 
</I>&gt;<i> expr
</I>&gt;<i>    :
</I>&gt;<i>    e1 ( ( PLUS | MINUS ) e1 )*
</I>&gt;<i>    ;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> and it might work.  &quot;|&quot; separates alternative blocks so that your 
</I>&gt;<i> version gives
</I>&gt;<i> 
</I>&gt;<i> expr
</I>&gt;<i>    :
</I>&gt;<i>    e1
</I>&gt;<i>    (      PLUS
</I>&gt;<i>    |      MINUS e1
</I>&gt;<i>    )+
</I>&gt;<i>    ;
</I>&gt;<i> so that P1 - p2 would work, but not P1 + p2.
</I>&gt;<i> 
</I>&gt;<i> --Loring
</I>&gt;<i> 
</I>&gt;<i> --- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>, &quot;rmsanjivp 
</I>&lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">rmsanjivp at y...</A>&gt;&quot; 
&gt;<i> &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">rmsanjivp at y...</A>&gt; wrote:
</I>&gt;<i> &gt; Consider the following rules:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; expr
</I>&gt;<i> &gt;  : e1 (PLUS | MINUS e1)*
</I>&gt;<i> &gt;  ;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; e1
</I>&gt;<i> &gt;  : e0 ( POWER e1)? // to make POWER tree as right associative
</I>&gt;<i> &gt;  ;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; e0: ID;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; For the following parser the generated code in C++ when compiled 
</I>and 
&gt;<i> &gt; run gives unexpected token for input &quot;P1 + p2&quot;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; If the right associative part is changed to
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; e1
</I>&gt;<i> &gt;  : e0 ( POWER e0)*
</I>&gt;<i> &gt;  ;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; then all works fine except that the operator POWER is treated as 
</I>&gt;<i> &gt; right associative.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Any idea how to make an operator left associative?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Thanks,
</I>&gt;<i> &gt; Sanjiv
</I>

 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002683.html">[antlr-interest] Re: Is it because of buggy antlr?
</A></li>
	<LI>Next message: <A HREF="002685.html">[antlr-interest] Re: Is it because of buggy antlr?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2684">[ date ]</a>
              <a href="thread.html#2684">[ thread ]</a>
              <a href="subject.html#2684">[ subject ]</a>
              <a href="author.html#2684">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
