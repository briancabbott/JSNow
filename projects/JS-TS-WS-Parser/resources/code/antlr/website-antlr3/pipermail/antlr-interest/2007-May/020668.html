<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Questions about Tree Generation in v3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Questions%20about%20Tree%20Generation%20in%20v3&In-Reply-To=%3C385838.44125.qm%40web58405.mail.re3.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020667.html">
   <LINK REL="Next"  HREF="020669.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Questions about Tree Generation in v3</H1>
    <B>Travis Caldwell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Questions%20about%20Tree%20Generation%20in%20v3&In-Reply-To=%3C385838.44125.qm%40web58405.mail.re3.yahoo.com%3E"
       TITLE="[antlr-interest] Questions about Tree Generation in v3">travis_caldwell2000 at yahoo.com
       </A><BR>
    <I>Tue May 15 00:38:36 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020667.html">[antlr-interest] defaulterrorhandler
</A></li>
        <LI>Next message: <A HREF="020669.html">[antlr-interest] [Antlr 3] lexer problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20668">[ date ]</a>
              <a href="thread.html#20668">[ thread ]</a>
              <a href="subject.html#20668">[ subject ]</a>
              <a href="author.html#20668">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
  Hi,
 
  I was looking at the ANTLR tree construction syntax and the ANTLR
 book
 and have two questions:
 
  1) In chapter 7 of the ANTLR book, it mentions that AST's should not
 have missing nodes for optional elements which are not present. 
 
  I see why this is a good idea since omitting optional elements rather
 then replacing them with a dummy element makes the trees ambiguous. 
 
  But the &quot;?&quot; EBNF tree generation notation does not seem condusive to
 this.
 
  From experimenting with the tree generation it seems that a rule like
 
  foo_decl : modifier? type identifier 
          -&gt; ^(TYPEDEF modifier? type identifier);
 
  Will generate the folowing trees from the folowing input:
 
  &quot;static int foo&quot; -&gt; ^(TYPEDEF static int foo)
  &quot;int foo&quot;        -&gt; ^(TYPEDEF int foo)
 
  This doesn't seem to be in keeping with the concept of inserting
dummy tokens for missing elements.  
 
  Is there some way to insert dummy elements when a &quot;?&quot; doesn't match
in a re-write rule?
 
  Is there some other way to handle this?
 
  2) Duplicating trees when a subrule returns a list
 
  I see how when a rule specifies multiple tokens you can cause
duplicate tree generation. i.e.
 
  decl : 'int' ID ( ',' ID)* -&gt; ^('int' ID)+
 
 Should yield a list of trees of the form ^('int' ID)
 
  But is there a way to do this if the list of items is returned from a
sub-rule?
 
  i.e 
 
  decl : 'int' list_of_ids 
  list_of_ids: ID ( ',' ID )* -&gt; ID+
 
 The &quot; ID+ &quot; seems to cause list_of_ids to return a list of ID's, but I
don't know how I can take this list and get decl to generate a list of
trees of the form ^('int' ID) from this list.
 
  Is there a way to do this?
 
  Any help would be appreciated.
 
 
 
                  _Travis_Caldwell_



       
____________________________________________________________________________________Looking for a deal? Find great prices on flights and hotels with Yahoo! FareChase.
<A HREF="http://farechase.yahoo.com/">http://farechase.yahoo.com/</A>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020667.html">[antlr-interest] defaulterrorhandler
</A></li>
	<LI>Next message: <A HREF="020669.html">[antlr-interest] [Antlr 3] lexer problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20668">[ date ]</a>
              <a href="thread.html#20668">[ thread ]</a>
              <a href="subject.html#20668">[ subject ]</a>
              <a href="author.html#20668">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
