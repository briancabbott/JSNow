<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] handling preprocessor #define and macro substitutions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20handling%20preprocessor%20%23define%20and%20macro%20substitutions&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008722.html">
   <LINK REL="Next"  HREF="008724.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] handling preprocessor #define and macro substitutions</H1>
    <B>thrutchy</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20handling%20preprocessor%20%23define%20and%20macro%20substitutions&In-Reply-To="
       TITLE="[antlr-interest] handling preprocessor #define and macro substitutions">eric_mahurin at yahoo.com
       </A><BR>
    <I>Sun Jul 18 13:45:15 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008722.html">Unsubscription by antlr-interest member
</A></li>
        <LI>Next message: <A HREF="008724.html">[antlr-interest] handling preprocessor #define and macro substitutions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8723">[ date ]</a>
              <a href="thread.html#8723">[ thread ]</a>
              <a href="subject.html#8723">[ subject ]</a>
              <a href="author.html#8723">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm parsing a language that has something similar to the C
preprocessor constructs.  Is there something in antlr already out
there for this that somebody can point me to?

My main issue is how to deal with #define statements and the
substitutions associated.  Here are the issues/questions I can think of:

- the substitution can occur within two different lexer states where
the tokens are different, so I think I need to store the
substitutition text as a string as opposed to a list of tokens
- how to make the lexer input be a string instead of a file.  Oh, I
just figured that out while typing this - isn't there a stringstream
or something like that in java?
- during the macro substitution, handling parameter substituion.  One
of my lexer states that doesn't even have an identifier defined could
make this problematic.
- expressions as arguments to the macro call.  The expression is
defined in the parser and not the lexer, so its definition is not
there.  Right now, I'm just matching up grouping symbols that can
contain the &quot;,&quot; which is also the separator between the expressions.

Secondarily, an example for handling #if/#else would be nice.  I
assume this would just gobble up tokens when it would find the
condition to be false (nextToken).

Or, should the preprocessor be a separate filter instead of included
with the lexer - token stream filter?

Again a preprocessor example with text subtitution (including
parameters) and conditional constructs would help out a lot.  There's
got to one out there.  I did some googling without success.

Eric




 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
    <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
    <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
    <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008722.html">Unsubscription by antlr-interest member
</A></li>
	<LI>Next message: <A HREF="008724.html">[antlr-interest] handling preprocessor #define and macro substitutions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8723">[ date ]</a>
              <a href="thread.html#8723">[ thread ]</a>
              <a href="subject.html#8723">[ subject ]</a>
              <a href="author.html#8723">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
