<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Changes in ASTFactory breaks custom AST classes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Changes%20in%20ASTFactory%20breaks%20custom%20AST%20classes&In-Reply-To=20021209111639.A20865%40cs.utwente.nl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002439.html">
   <LINK REL="Next"  HREF="002446.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Changes in ASTFactory breaks custom AST classes</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Changes%20in%20ASTFactory%20breaks%20custom%20AST%20classes&In-Reply-To=20021209111639.A20865%40cs.utwente.nl"
       TITLE="[antlr-interest] Changes in ASTFactory breaks custom AST classes">parrt at jguru.com
       </A><BR>
    <I>Mon Dec  9 12:14:26 PST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="002439.html">[antlr-interest] Changes in ASTFactory breaks custom AST classes
</A></li>
        <LI>Next message: <A HREF="002446.html">[antlr-interest] Changes in ASTFactory breaks custom AST classes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2445">[ date ]</a>
              <a href="thread.html#2445">[ thread ]</a>
              <a href="subject.html#2445">[ subject ]</a>
              <a href="author.html#2445">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Monday, December 9, 2002, at 02:16  AM, Ric Klaren wrote:
&gt;&gt;<i> The problem (at least for me) lies in the fact that the duplicated
</I>&gt;&gt;<i> node gets only initialized with the type and text! All other
</I>&gt;&gt;<i> information stored in the original node is lost. I now simply
</I>&gt;&gt;<i> override dup(AST) too, changing it back to the old behavior (I only
</I>&gt;&gt;<i> use homogenous trees) but I'd rather expect dup(AST) to initialize the
</I>&gt;&gt;<i> duplicated node via dup_t.initialize(t) or am I missing something 
</I>&gt;&gt;<i> here?
</I>&gt;<i>
</I>&gt;<i> Hmmm I really think that should not be an initialize in there. A (near)
</I>&gt;<i> complete copy of the object should be made (in C++ mode I use a clone
</I>&gt;<i> method for it that goes through the copy constructor. Dunno if the java
</I>&gt;<i> clone does the same thing) The semantics of the clone in C++ are to 
</I>&gt;<i> copy
</I>&gt;<i> the object except for the down/right links.
</I>
The only problem is that in java, clone will dup the thing bit-by-bit 
and then I'll have to wack the pointers to null and also it won't go 
thru the create() method of the factory.  Gotta be consistent I'd say.  
Make sense?

Ter
--
Co-founder, <A HREF="http://www.jguru.com">http://www.jguru.com</A>
Creator, ANTLR Parser Generator: <A HREF="http://www.antlr.org">http://www.antlr.org</A>
Lecturer in Comp. Sci., University of San Francisco


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002439.html">[antlr-interest] Changes in ASTFactory breaks custom AST classes
</A></li>
	<LI>Next message: <A HREF="002446.html">[antlr-interest] Changes in ASTFactory breaks custom AST classes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2445">[ date ]</a>
              <a href="thread.html#2445">[ thread ]</a>
              <a href="subject.html#2445">[ subject ]</a>
              <a href="author.html#2445">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
