<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Mantra language overhaul / reimplementation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Mantra%20language%20overhaul%20/%20reimplementation&In-Reply-To=%3CA20C1F36-1AA6-4454-8D31-E68537168976%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023830.html">
   <LINK REL="Next"  HREF="023832.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Mantra language overhaul / reimplementation</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Mantra%20language%20overhaul%20/%20reimplementation&In-Reply-To=%3CA20C1F36-1AA6-4454-8D31-E68537168976%40cs.usfca.edu%3E"
       TITLE="[antlr-interest] Mantra language overhaul / reimplementation">parrt at cs.usfca.edu
       </A><BR>
    <I>Sat Sep 22 16:58:56 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023830.html">[antlr-interest] Mantra language overhaul / reimplementation
</A></li>
        <LI>Next message: <A HREF="023832.html">[antlr-interest] Mantra language overhaul / reimplementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23831">[ date ]</a>
              <a href="thread.html#23831">[ thread ]</a>
              <a href="subject.html#23831">[ subject ]</a>
              <a href="author.html#23831">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Sep 22, 2007, at 4:53 PM, Sohail Somani wrote:

&gt;<i> On 22/09/07 04:48 PM, Terence Parr wrote:
</I>&gt;&gt;<i> Howdy.  I am almost done with a sprint to build a decent Mantra  
</I>&gt;&gt;<i> language:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://www.linguamantra.org/">http://www.linguamantra.org/</A>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I think a decent reference language for use with antlr will be very
</I>&gt;<i> helpful! What kind of optimizations do you do?
</I>
At this point, I'm simply trying to avoid general message sentence  
that call an invoke() method with the name of the message.  These are  
expensive because they must look up the method in a hash table.  If I  
know the type of the variable o, then o.foo() can be generated as

((thetype)o).foo()

even though o is declared as a simple mantra object.  The type  
information is enough to let the Java compiler do a direct call  
without any kind of weird hash table lookup.

A similar thing happens for fields.  o.f can be converted to  
((thetype)o).f rather than a general setter or getter method.

:<i>)
</I>
Naturally a lint like program could give you some information like  
what they static compiler would give you.

I'm adding a few more optimizations and hoping to get a graduate  
student involved in building up  the runtime library. Usually the  
library methods are simply things veneers over the Java libraries,  
they'll help to clean them up quite a bit.  Soon I should be ready to  
release something.   The translator is remarkably small.

What you think of the syntax?

Ter

</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023830.html">[antlr-interest] Mantra language overhaul / reimplementation
</A></li>
	<LI>Next message: <A HREF="023832.html">[antlr-interest] Mantra language overhaul / reimplementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23831">[ date ]</a>
              <a href="thread.html#23831">[ thread ]</a>
              <a href="subject.html#23831">[ subject ]</a>
              <a href="author.html#23831">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
