<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR + StringTemplates = formattingTool?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ANTLR%20%2B%20StringTemplates%20%3D%20formattingTool%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007903.html">
   <LINK REL="Next"  HREF="007906.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR + StringTemplates = formattingTool?</H1>
    <B>birmanstefan</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ANTLR%20%2B%20StringTemplates%20%3D%20formattingTool%3F&In-Reply-To="
       TITLE="[antlr-interest] ANTLR + StringTemplates = formattingTool?">birmanstefan at yahoo.com
       </A><BR>
    <I>Fri May 14 11:03:10 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="007903.html">Unsubscription by antlr-interest member
</A></li>
        <LI>Next message: <A HREF="007906.html">[antlr-interest] ANTLR + StringTemplates = formattingTool?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7904">[ date ]</a>
              <a href="thread.html#7904">[ thread ]</a>
              <a href="subject.html#7904">[ subject ]</a>
              <a href="author.html#7904">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello!!!

     I'm a newbie which dares to combine antlr and string templates to 
get a formatting tool :). My basic idea is to have two kinds of AST 
nodes : templatized (make use of a StringTemplate to format code) and 
not templatized.
     Let's assume we have next g : 

rule_a :
   // templatized node
   #(RULE_A rule_b rule_c)
   { 
      #rule_a.setTemplate(&quot;rule_a&quot;);
      #rule_a.setAttribute(rule_a_attrs, rule_a_values);
      System.out.println(#rule_a.getFormattedCode());
   }
   ;
rule_b : 
   // templatized node
   #(RULE_B .....)
   {
      #rule_b.setTemplate(&quot;rule_b&quot;);
      computeSomeMoreCodeForRuleBAttributes();
	#rule_b.setAttribute(rule_b_attrs, rule_b_values);
      	sendToRuleA(#rule_b.getFormattedCode());
   }
   ;
rule_c : 
   // templatized node
   #(RULE_C ....)
   {
     computeCode();
     sendToRuleA(computedCode);
   }
   ;

   Methods setTemplate() and setAttribute() are just some API to work 
with StringTemplates. The node in this case behaves as adapter to
 StringTemplate. How I compute code or send code between rules is also 
not important right now. 

   There are few points to discuss. First of all is the number of 
templates : at worst is equal to number of rules; this may imply a lot
 of maintainance effort. 

   A second one is about automation. It would be nice to say 
something like :

rule_a: 
      { #rule_a.activateTemplate = true; }
     #(RULE_A.....) 

and the node automatically associate a template called &quot;rule_a&quot;; is 
there a way to access rule name (because it's unique) from an AST 
node?

     A third issue is related to context. Let's say I have an 
enumeration &quot;[a, b, c]&quot;; if it's in a method result context I want to 
use a &quot;,&quot; as separator, while if it's in a different context use a 
&quot;\n  ,&quot; separator. Is there a way to define rule aspects?
     
     The n-th issue :D is related to indentation. I thought of 
including in each node an indentation level (an int). The problem is 
that for some nodes I would like to increment it while for others to 
keep it constant. Is there a way to pass the indentation level down 
the AST, during AST construction? or to choose constructor on the fly 
(based on rule context or other parameters)?

     Can you please tell me your opinion about this solution? 
Are there any fake issues? Is there a way to do it in a more 
elegant/simpler way?

   Any suggestion/link is welcomed!

   Thanks, 
          Stefan.

PS: hope examples were clear enough.






 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007903.html">Unsubscription by antlr-interest member
</A></li>
	<LI>Next message: <A HREF="007906.html">[antlr-interest] ANTLR + StringTemplates = formattingTool?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7904">[ date ]</a>
              <a href="thread.html#7904">[ thread ]</a>
              <a href="subject.html#7904">[ subject ]</a>
              <a href="author.html#7904">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
