<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] AST generation: EXPRESSION TREE example.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20AST%20generation%3A%20EXPRESSION%20TREE%20example.&In-Reply-To=ED344D68-B64D-11D8-A70D-000393B5606C%40codetransform.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008187.html">
   <LINK REL="Next"  HREF="008150.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] AST generation: EXPRESSION TREE example.</H1>
    <B>Bharath Sundararaman</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20AST%20generation%3A%20EXPRESSION%20TREE%20example.&In-Reply-To=ED344D68-B64D-11D8-A70D-000393B5606C%40codetransform.com"
       TITLE="[antlr-interest] AST generation: EXPRESSION TREE example.">bharath at starthis.com
       </A><BR>
    <I>Fri Jun  4 12:35:44 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008187.html">[antlr-interest] AST generation: EXPRESSION TREE example.
</A></li>
        <LI>Next message: <A HREF="008150.html">Unsubscription by antlr-interest member
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8191">[ date ]</a>
              <a href="thread.html#8191">[ thread ]</a>
              <a href="subject.html#8191">[ subject ]</a>
              <a href="author.html#8191">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Monty,

I'm generating code to a VM. I'm thinking about XML executable chunks of
code.

Thanks.

-----Original Message-----
From: Monty Zukowski [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">monty at codetransform.com</A>] 
Sent: Friday, June 04, 2004 12:38 PM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
Cc: Monty Zukowski
Subject: Re: [antlr-interest] AST generation: EXPRESSION TREE example.


On Jun 3, 2004, at 7:37 AM, Bharath Sundararaman wrote:

&gt;<i> Hi Monty,
</I>&gt;<i>
</I>&gt;<i> I need the AST for semantic analysis, constant folding and also code 
</I>&gt;<i> generation. To be more specific, I have written the grammar for a 
</I>&gt;<i> PASCAL-like (not OO based) language, from scratch. Right now, my 
</I>&gt;<i> syntax analysis is complete. Instead of having semantic analysis 
</I>&gt;<i> within the parser, I would like to build an AST and and write a tree 
</I>&gt;<i> parser that will walk the
</I>&gt;<i> tree structure to perform various analyses. For example, to get a good 
</I>&gt;<i> idea
</I>&gt;<i> of what I'm dealing with, I'm starting off with type checking and this 
</I>&gt;<i> will
</I>&gt;<i> drive the structure of my AST.
</I>&gt;<i>
</I>Code generation to a virtual machine, assembler, C or what?

&gt;<i> - The AST will always be manipulated by the grammar.
</I>&gt;<i> - Comment tokens will be skipped.
</I>So you don't have to worry about formatting preservation.
&gt;<i>
</I>&gt;<i> Some questions:
</I>&gt;<i>
</I>&gt;<i> 1. Can you give me an example situation where I would need to preserve 
</I>&gt;<i> formatting? In my grammar, I ignore whitespace, newlines, tabs and 
</I>&gt;<i> feeds. What kind of language would require comments to be tokens?
</I>If you are doing source to source translation you probably want to 
preserve the information from formatting.  If you are making a compiler 
you can discard it.

&gt;<i>
</I>&gt;<i> 2. Original possibly extraneous parenthesis -- I'm banging(!) all 
</I>&gt;<i> punctuations and paranthesis from the AST. I'm not clear about your 
</I>&gt;<i> question but I hope I gave the answer.
</I>Yeah, you're not doing source to source translation.

&gt;<i>
</I>&gt;<i> 3. Are there any examples of how scope of variables can be checked by
</I>&gt;<i> walking an AST?
</I>The C grammar has a symbol table you might want to study.

&gt;<i>
</I>&gt;<i> I will look at your C grammar, Java grammar and also PASCAL grammar to 
</I>&gt;<i> gain
</I>&gt;<i> more insight. I just stepped into the world of ASTs and I'm willing to 
</I>&gt;<i> help
</I>&gt;<i> with you with the AST guide in any way possible.
</I>&gt;<i>
</I>&gt;<i> Thanks a bunch,
</I>&gt;<i>
</I>&gt;<i> Bharath.
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Monty Zukowski [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">monty at codetransform.com</A>]
</I>&gt;<i> Sent: Wednesday, June 02, 2004 11:33 PM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
</I>&gt;<i> Cc: Monty Zukowski
</I>&gt;<i> Subject: Re: [antlr-interest] AST generation: EXPRESSION TREE example.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Jun 2, 2004, at 2:58 PM, Bharath Sundararaman wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> To generate
</I>&gt;&gt;<i> an AST with a decent structure (based on my needs), my understanding
</I>&gt;&gt;<i> is that
</I>&gt;&gt;<i> I have to add qualifiers (^, !) to each rule and modify existing rules
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i> make them AST friendly. Is this a cumbersome process?
</I>&gt;<i>
</I>&gt;<i> Well, it can be.  Loring and I were recently debating what makes a good
</I>&gt;<i> tree, and some of that ended up here a month or so ago in a dialog
</I>&gt;<i> between me and John Mitchell about the NULL node placeholder.  I
</I>&gt;<i> believe the java grammar builds a tree, my C grammar is also a good
</I>&gt;<i> example.  In my latest ANTLR contract I was building a SQL tree but I
</I>&gt;<i> had special considerations because everything had to be accessible from
</I>&gt;<i> an embedded language.  I concluded that there are very many different
</I>&gt;<i> reasons for wanting a tree that will guide a strategy toward building
</I>&gt;<i> them.
</I>&gt;<i>
</I>&gt;<i> So, are you doing source to source translation?  Are you translating to
</I>&gt;<i> a different language, or to the same language (like my C toolkit does)?
</I>&gt;<i>   Are you only building a tree for analysis?  Are you building a tree 
</I>&gt;<i> to
</I>&gt;<i> be manipulated directly by raw code or will it always be manipulated by
</I>&gt;<i> a tree grammar (my recommendation.)  Do you have to preserve
</I>&gt;<i> formatting?  Comments?  Original possibly extraneous parenthesis?
</I>&gt;<i>
</I>&gt;<i> Let's work this through and maybe I can write up a guide for it when
</I>&gt;<i> I've got some &quot;free&quot; time.
</I>&gt;<i>
</I>&gt;<i> Please, anybody join in and tell me what you're doing and let me know
</I>&gt;<i> what's worked for you and what hasn't and what your questions are.
</I>&gt;<i> I'll probably only get to this once or twice a day but hopefully we can
</I>&gt;<i> ferret out some real life questions and solutions over the next week or
</I>&gt;<i> so.  I know we've got plenty of experts out there too.  This is the
</I>&gt;<i> kind of stuff that will help shape ANTLR 3.  Loring's got some amazing
</I>&gt;<i> tree integration stuff on the horizon but there is always a place for
</I>&gt;<i> understanding why people want trees and how to use them most
</I>&gt;<i> effectively.
</I>&gt;<i>
</I>&gt;<i> Monty Zukowski
</I>&gt;<i>
</I>&gt;<i> ANTLR &amp; Java Consultant -- <A HREF="http://www.codetransform.com">http://www.codetransform.com</A>
</I>&gt;<i> ANSI C/GCC transformation toolkit --
</I>&gt;<i> <A HREF="http://www.codetransform.com/gcc.html">http://www.codetransform.com/gcc.html</A>
</I>&gt;<i> Embrace the Decay -- <A HREF="http://www.codetransform.com/EmbraceDecay.html">http://www.codetransform.com/EmbraceDecay.html</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yahoo! Groups Links
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yahoo! Groups Links
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>Monty Zukowski

ANTLR &amp; Java Consultant -- <A HREF="http://www.codetransform.com">http://www.codetransform.com</A>
ANSI C/GCC transformation toolkit -- 
<A HREF="http://www.codetransform.com/gcc.html">http://www.codetransform.com/gcc.html</A>
Embrace the Decay -- <A HREF="http://www.codetransform.com/EmbraceDecay.html">http://www.codetransform.com/EmbraceDecay.html</A>



 
Yahoo! Groups Links



 




 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008187.html">[antlr-interest] AST generation: EXPRESSION TREE example.
</A></li>
	<LI>Next message: <A HREF="008150.html">Unsubscription by antlr-interest member
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8191">[ date ]</a>
              <a href="thread.html#8191">[ thread ]</a>
              <a href="subject.html#8191">[ subject ]</a>
              <a href="author.html#8191">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
