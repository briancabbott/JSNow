<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: woohoo! ParseTrees for free, Debugging f or me!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20woohoo%21%20ParseTrees%20for%20free%2C%20Debugging%20f%20or%20me%21&In-Reply-To=72C9789739C4214096AE945753B11EA3FABAEE%40mypxmail04.bco-home.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005776.html">
   <LINK REL="Next"  HREF="005700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: woohoo! ParseTrees for free, Debugging f or me!</H1>
    <B>lgcraymer</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20woohoo%21%20ParseTrees%20for%20free%2C%20Debugging%20f%20or%20me%21&In-Reply-To=72C9789739C4214096AE945753B11EA3FABAEE%40mypxmail04.bco-home.com"
       TITLE="[antlr-interest] Re: woohoo! ParseTrees for free, Debugging f or me!">lgc at mail1.jpl.nasa.gov
       </A><BR>
    <I>Tue Dec  2 12:04:54 PST 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="005776.html">[antlr-interest] Help required for writing Makefile Recognizers....
</A></li>
        <LI>Next message: <A HREF="005700.html">[antlr-interest] Re: woohoo! ParseTrees for free, Debugging f
	 or me!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5701">[ date ]</a>
              <a href="thread.html#5701">[ thread ]</a>
              <a href="subject.html#5701">[ subject ]</a>
              <a href="author.html#5701">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>--- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>, <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">mzukowski at y...</A> wrote:
&gt;<i> Yeah, I guess it depends on what your &quot;unit&quot; is.  Rules aren't really
</I>&gt;<i> methods, they're too interdependent, so a rule test just doesn't fly.  But
</I>&gt;<i> if you want to say your unit is a parser, then, OK I buy that.  My unit is a
</I>&gt;<i> &quot;feature&quot; like typedef or nested conditionals.  Boy this is a bogus
</I>&gt;<i> argument.  Never mind.
</I>
Actually, the line of thought is useful.  The differences are semantic--you're thinking in terms of diagnostic units, while Ter is talking 
implementation units.  The big advantage of source-to-source translation for testing is that the output is readily comprehensible by 
humans and you can put together simple diagnostic test cases.  That's still very much functional testing--the translator is treated as a 
black box.  The grammar testing (that Ter's made a strong start at) tests a grammar as an implementation unit, with enough visibility 
to get &quot;rule&quot; level diagnostic information.  I put &quot;rule&quot; in quotes because the problems are usually interactions between rules, not 
necessarily local to a rule.

The pieces still missing are the token (source) mapping that you suggested, and some useful presentation of ANTLR decision 
making.  Interestingly, Ter's approach would print flattened rules, and you'd also want a syntax tree to parse tree mapping.  (My tree 
grammar generation stuff might be adequate, but I think that there's a better approach lurking here.)  Printing $FIRST and $FOLLOW 
sets would be overwhelming; there must be some useful way of extracting the equivalent diagnostic information in a comprehensible 
form.

--Loring

&gt;<i> Somewhere my point was going to be that changing your parser around to
</I>&gt;<i> accommodate tree building will break your derivation and hence your unit
</I>&gt;<i> test.  So they need to be easy to fix.
</I>&gt;<i> 
</I>&gt;<i> However I'm looking forward to thrashing out a viable testing strategy for
</I>&gt;<i> parsers and translators.  For C, anyway, it's not been a problem to have
</I>&gt;<i> entire programs be the &quot;unit&quot; tested because they can still be small.  
</I>&gt;<i> 
</I>&gt;<i> Monty
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Terence Parr [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at c...</A>] 
</I>&gt;<i> Sent: Tuesday, December 02, 2003 8:32 AM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
</I>&gt;<i> Subject: Re: [antlr-interest] Re: woohoo! ParseTrees for free, Debugging f
</I>&gt;<i> or me!
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Tuesday, December 2, 2003, at 07:01  AM, <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">mzukowski at y...</A> wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; This is really cool!  Any chance of getting the actual tokens matched 
</I>&gt;<i> &gt; by the
</I>&gt;<i> &gt; rule in that derivation?  That's the other thing I look at when using
</I>&gt;<i> &gt; -traceParser.
</I>&gt;<i> 
</I>&gt;<i> Sure...I'll combine with my TokenStreamTracker (next little goodie to 
</I>&gt;<i> release, which is an extension / simplification of the &quot;preserving 
</I>&gt;<i> token order with trees&quot; article).
</I>&gt;<i> 
</I>&gt;<i> &gt; As for a test harness--yeah, that's cool for just doing parsers, but my
</I>&gt;<i> &gt; preferred approach, a la the GCC toolkit
</I>&gt;<i> &gt; <A HREF="http://www.codetransform.com/gcc.html,">http://www.codetransform.com/gcc.html,</A> is to go from source to source 
</I>&gt;<i> &gt; and
</I>&gt;<i> &gt; then make sure you've got the same thing (minus some whitespace).
</I>&gt;<i> 
</I>&gt;<i> That is more functional that unit testing...unit testing in *addition* 
</I>&gt;<i> could be good so we can more precisely identify where the problem is.  
</I>&gt;<i> The functional testing would test more of the translation rather than 
</I>&gt;<i> the parsing....good to have both. :)
</I>&gt;<i> 
</I>&gt;<i> Ter
</I>&gt;<i> 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Monty
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: Terence Parr [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at c...</A>]
</I>&gt;<i> &gt; Sent: Sunday, November 30, 2003 10:07 AM
</I>&gt;<i> &gt; To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
</I>&gt;<i> &gt; Subject: Re: [antlr-interest] Re: woohoo! ParseTrees for free, 
</I>&gt;<i> &gt; Debugging for
</I>&gt;<i> &gt; me!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Sunday, November 30, 2003, at 12:16  AM, lgcraymer wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; --- In <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>, Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at c...</A>&gt;
</I>&gt;<i> &gt;&gt; wrote:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; On Saturday, November 29, 2003, at 10:16  PM, lgcraymer wrote:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Ter--
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; If I interpret this right, you're actually visualizing parse
</I>&gt;<i> &gt;&gt; trees
</I>&gt;<i> &gt;&gt;&gt;&gt; without generating them.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Nope, i build parse trees and then rewalk them to get step i of
</I>&gt;<i> &gt;&gt;&gt; derivation.  You can ask for any intermediate step or all of 'em :)
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; That is impressive, then--you've discovered a whole new approach to
</I>&gt;<i> &gt;&gt; instrumenting ANTLR.  I assume that you've made the overrides user
</I>&gt;<i> &gt;&gt; programmable?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Well, for now it's just an &quot;article&quot; on the website with some sample
</I>&gt;<i> &gt; code...later we'd have to allow people to specify their own parse tree
</I>&gt;<i> &gt; nodes instead of my simple ones...  As for user programmable, for now,
</I>&gt;<i> &gt; you can turn on or off by adding the overrides and turning on/off
</I>&gt;<i> &gt; -traceParser.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;   It sounds like an approach that might support an
</I>&gt;<i> &gt;&gt; ANTLR test harness for grammars.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Heh yeah!  That's a great idea, dude!  Sweet!  This way we can check to
</I>&gt;<i> &gt; see if all derivation steps are identical.  Previously, testing parsers
</I>&gt;<i> &gt; was really hard as it says yes or no depending on errors; that's all.
</I>&gt;<i> &gt;   Answering &quot;yes&quot; is not much of a test as an empty main program gives
</I>&gt;<i> &gt; the same answer. ;)  Yeah!  This is the testing harness I've been
</I>&gt;<i> &gt; afraid would be extremely difficult!  We've got it, by jove!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Your use of Yahoo! Groups is subject to 
</I>&gt;<i> &gt; <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> --
</I>&gt;<i> Professor Comp. Sci., University of San Francisco
</I>&gt;<i> Creator, ANTLR Parser Generator, <A HREF="http://www.antlr.org">http://www.antlr.org</A>
</I>&gt;<i> Co-founder, <A HREF="http://www.jguru.com">http://www.jguru.com</A>
</I>&gt;<i> Co-founder, <A HREF="http://www.knowspam.net">http://www.knowspam.net</A> enjoy email again!
</I>&gt;<i> Co-founder, <A HREF="http://www.peerscope.com">http://www.peerscope.com</A> link sharing, pure-n-simple
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
</I>

 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005776.html">[antlr-interest] Help required for writing Makefile Recognizers....
</A></li>
	<LI>Next message: <A HREF="005700.html">[antlr-interest] Re: woohoo! ParseTrees for free, Debugging f
	 or me!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5701">[ date ]</a>
              <a href="thread.html#5701">[ thread ]</a>
              <a href="subject.html#5701">[ subject ]</a>
              <a href="author.html#5701">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
