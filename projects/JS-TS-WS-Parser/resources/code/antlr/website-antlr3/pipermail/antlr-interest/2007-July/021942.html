<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] How do you use template output with	backtracking on in a validating semantic predicate?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20How%20do%20you%20use%20template%20output%20with%0A%09backtracking%20on%20in%20a%20validating%20semantic%20predicate%3F&In-Reply-To=%3C4e7bd29e0707020027w61ccac8ft47c8b0e72f697201%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021940.html">
   <LINK REL="Next"  HREF="021967.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] How do you use template output with	backtracking on in a validating semantic predicate?</H1>
    <B>William Halliburton</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20How%20do%20you%20use%20template%20output%20with%0A%09backtracking%20on%20in%20a%20validating%20semantic%20predicate%3F&In-Reply-To=%3C4e7bd29e0707020027w61ccac8ft47c8b0e72f697201%40mail.gmail.com%3E"
       TITLE="[antlr-interest] How do you use template output with	backtracking on in a validating semantic predicate?">whalliburton at gmail.com
       </A><BR>
    <I>Mon Jul  2 00:27:21 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021940.html">[antlr-interest] Antlr v3 and the Antlr v3 book are very useful!
</A></li>
        <LI>Next message: <A HREF="021967.html">[antlr-interest] How do you use template output with	backtracking on in a validating semantic predicate?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21942">[ date ]</a>
              <a href="thread.html#21942">[ thread ]</a>
              <a href="subject.html#21942">[ subject ]</a>
              <a href="author.html#21942">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> This all sounds a little roundabout. What's the problem you're trying to solve?
</I>
I am trying to parse a c like languages and have a rule like the following.

stringComparison
    : ^('==' left=expression right=STRING_LITERAL) -&gt;
stringEqual(left={$left.st},right={$right.text})
    | ^('!=' left=expression right=STRING_LITERAL) -&gt;
stringNotEqual(left={$left.st},right={$right.text})
    | ^(op=relationalOperator left=expression right=STRING_LITERAL) -&gt;
stringCompareTo(left={$left.st},right={$right.text},op={$op.st})
    ;

I would like to be able to use the text of &quot;expression&quot; in my semantic
predicates and the only way I see to get the text is $expression.st as
$expression.text does not seem to work for tree grammars. BUT $expression.st
is not set during backtracking.

would like a rule like:

    : ^('==' left=expression right=expression) {isString($left.st} &amp;&amp;
isString($right.st)}? -&gt; stringEqual(left={$left.st},right={$right.st})

where isString checks the string of the expression against a symbol table.

Thank you,
Will
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20070702/da16f598/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20070702/da16f598/attachment.html</A> 
</PRE>












































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021940.html">[antlr-interest] Antlr v3 and the Antlr v3 book are very useful!
</A></li>
	<LI>Next message: <A HREF="021967.html">[antlr-interest] How do you use template output with	backtracking on in a validating semantic predicate?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21942">[ date ]</a>
              <a href="thread.html#21942">[ thread ]</a>
              <a href="subject.html#21942">[ subject ]</a>
              <a href="author.html#21942">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
