<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR 3.0.1: invalid character column in a	mismatch character error message.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR%203.0.1%3A%20invalid%20character%20column%20in%20a%0A%09mismatch%20character%20error%20message.&In-Reply-To=%3C000f01c8fda4%24178560a0%24469021e0%24%40com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029941.html">
   <LINK REL="Next"  HREF="029943.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR 3.0.1: invalid character column in a	mismatch character error message.</H1>
    <B>Foust</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR%203.0.1%3A%20invalid%20character%20column%20in%20a%0A%09mismatch%20character%20error%20message.&In-Reply-To=%3C000f01c8fda4%24178560a0%24469021e0%24%40com%3E"
       TITLE="[antlr-interest] ANTLR 3.0.1: invalid character column in a	mismatch character error message.">javafoust at gmail.com
       </A><BR>
    <I>Wed Aug 13 17:24:16 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="029941.html">[antlr-interest] Conjuring tokens out of thin air in rewrite	rules?
</A></li>
        <LI>Next message: <A HREF="029943.html">[antlr-interest] ANTLR 3.0.1: invalid character column in a	mismatch character error message.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29942">[ date ]</a>
              <a href="thread.html#29942">[ thread ]</a>
              <a href="subject.html#29942">[ subject ]</a>
              <a href="author.html#29942">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gavin Lambert wrote:
&gt;<i> At 09:05 14/08/2008, Foust wrote:
</I>&gt;<i>  &gt;Is that true? The popular IDEs don't take line + character
</I>&gt;<i> offset?
</I>&gt;<i> 
</I>&gt;<i> I've yet to see one that does.  (Maybe they do internally, but
</I>&gt;<i> internal calls are irrelevant to the point I'm trying to make,
</I>&gt;<i> since you'll have access to the ANTLR-generated object model and
</I>&gt;<i> can use whatever makes sense there.)
</I>&gt;<i> 
</I>&gt;<i> See:
</I>&gt;<i>    &lt;<A HREF="http://blogs.msdn.com/msbuild/archive/2006/11/03/msbuild-visual-">http://blogs.msdn.com/msbuild/archive/2006/11/03/msbuild-visual-</A>
</I>&gt;<i> studio-aware-error-messages-and-message-formats.aspx&gt;
</I>&gt;<i>    &lt;<A HREF="http://www.gnu.org/prep/standards/standards.html#Errors">http://www.gnu.org/prep/standards/standards.html#Errors</A>&gt;
</I>
Nice. 

&gt;<i> Line numbers should start from 1 at the beginning of the file, 
</I>&gt;<i> and column numbers should start from 1 at the beginning of the line. 
</I>&gt;<i> (Both of these conventions are chosen for compatibility.)
</I>&gt;<i> Calculate column numbers assuming that space and all ASCII printing 
</I>&gt;<i> characters have equal width, and assuming tab stops every 8 columns.
</I>
Note that the tab stops are fixed -- assumed at every 8 characters.
 

&gt;<i> 
</I>&gt;<i>  &gt;Do you think C++ compilers are really doing character -&gt;
</I>&gt;<i>  &gt;column# translations (with Tab translation) before
</I>&gt;<i>  &gt;outputting syntax errors?
</I>&gt;<i> 
</I>&gt;<i> Yes, I do.
</I>
Then that settles it, does it not?

It doesn't mean that Antlr can't have more expressive error messages (that
display the offending text as well), but for compatibility reasons, it does
seem to imply:

	a) Column # 1 should be the first character (not 0)

	b) A 0-based character offset field can also be supplied, 
	   but the tab characters need to be taken into account
	   for error message output.

And it wouldn't be difficult to add to (b):

	c) configurable tab width (instead of hard-coding a value of 8)

The additional storage requirements shouldn't be a major issue. But if the
processing turns out to slow the scanner down, then it can be architected so
that it can be turned off by the user who knows he doesn't need correct
column numbers.

Brent


</PRE>






































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029941.html">[antlr-interest] Conjuring tokens out of thin air in rewrite	rules?
</A></li>
	<LI>Next message: <A HREF="029943.html">[antlr-interest] ANTLR 3.0.1: invalid character column in a	mismatch character error message.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29942">[ date ]</a>
              <a href="thread.html#29942">[ thread ]</a>
              <a href="subject.html#29942">[ subject ]</a>
              <a href="author.html#29942">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
