<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR3 with -Xmultithreaded problem?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR3%20with%20-Xmultithreaded%20problem%3F&In-Reply-To=%3C5694af40708152014p6ddc539cy12476ea273ac9f62%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023420.html">
   <LINK REL="Next"  HREF="023270.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR3 with -Xmultithreaded problem?</H1>
    <B>&#25991;&#23569;&#21326;</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR3%20with%20-Xmultithreaded%20problem%3F&In-Reply-To=%3C5694af40708152014p6ddc539cy12476ea273ac9f62%40mail.gmail.com%3E"
       TITLE="[antlr-interest] ANTLR3 with -Xmultithreaded problem?">shaohua.wen at gmail.com
       </A><BR>
    <I>Wed Aug 15 20:14:08 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="023420.html">[antlr-interest] announcing gUnit: ANTLR grammar unit testing
</A></li>
        <LI>Next message: <A HREF="023270.html">[antlr-interest] ANTLR3 with -Xmultithreaded problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23244">[ date ]</a>
              <a href="thread.html#23244">[ thread ]</a>
              <a href="subject.html#23244">[ subject ]</a>
              <a href="author.html#23244">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear gurus,
  I just created a grammar for TNSDL language, and it has a grammar like:

 <A HREF="range://p84">range://p84</A>
    closedRange -&gt; ^(Range closedRange)
    |openRange  -&gt; ^(Range openRange)
;

<A HREF="closedRange://p84">closedRange://p84</A>
    e1=expression ':' e2=expression
    -&gt; ^(ClosedRange $e1 $e2)
;

<A HREF="openRange://p84">openRange://p84</A>
    relationSymbol? expression
    -&gt; ^(OpenRange  relationSymbol? expression)
;

 expression:
 .....
;

 When I tried to generate code with antlr 3.0.1(3.0 also tried), the
generated code will not compile with errors like:
  [javac] Compiling 15 source files to bin
    [javac] TNSDLParser.java:69328: code too large for try statement
    [javac]         catch (RecognitionException re) {
    [javac]         ^
    [javac]TNSDLParser.java:38965: code too large for try statement
    [javac]         try {
    [javac]             ^
    [javac] TNSDLParser.java:38952: code too large
    [javac]     public final range_return range() throws
RecognitionException {
    [javac]                               ^

After I looked into the range() method,I found that it has about 30000
lines.

But if I generage java code using antlr with -Xmultithreaded parameter with
jdk 1.6 in linux (redhat ES4, SOME Times the generated code for range()
method is only about 300 lines,and the compiler
can happily compile the generated code.

This is really strange, I don't know if it's a bug of  ANTLR, Can any one
help to analyze it?

The grammar file has been attached to the mail.

Any suggestions on correct my grammar will be highly appreciated also!

Best Regards,
Holy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20070816/dc422e76/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20070816/dc422e76/attachment-0001.html</A> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: TNSDL.g3
Type: application/octet-stream
Size: 26860 bytes
Desc: not available
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20070816/dc422e76/attachment-0001.obj">http://www.antlr.org/pipermail/antlr-interest/attachments/20070816/dc422e76/attachment-0001.obj</A> 
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023420.html">[antlr-interest] announcing gUnit: ANTLR grammar unit testing
</A></li>
	<LI>Next message: <A HREF="023270.html">[antlr-interest] ANTLR3 with -Xmultithreaded problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23244">[ date ]</a>
              <a href="thread.html#23244">[ thread ]</a>
              <a href="subject.html#23244">[ subject ]</a>
              <a href="author.html#23244">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
