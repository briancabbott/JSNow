<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] &quot;Comments&quot; token from source to the	target	language
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%22Comments%22%20token%20from%20source%20to%20the%0A%09target%09language&In-Reply-To=%3CC26BCF71-3F4F-4BDB-98F7-9AB5C017D1E6%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024672.html">
   <LINK REL="Next"  HREF="024661.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] &quot;Comments&quot; token from source to the	target	language</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%22Comments%22%20token%20from%20source%20to%20the%0A%09target%09language&In-Reply-To=%3CC26BCF71-3F4F-4BDB-98F7-9AB5C017D1E6%40cs.usfca.edu%3E"
       TITLE="[antlr-interest] &quot;Comments&quot; token from source to the	target	language">parrt at cs.usfca.edu
       </A><BR>
    <I>Tue Nov 13 11:04:41 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024672.html">[antlr-interest] &quot;Comments&quot; token from source to the	target	language
</A></li>
        <LI>Next message: <A HREF="024661.html">[antlr-interest] &quot;Comments&quot; token from source to the target	language
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24676">[ date ]</a>
              <a href="thread.html#24676">[ thread ]</a>
              <a href="subject.html#24676">[ subject ]</a>
              <a href="author.html#24676">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Nov 12, 2007, at 10:59 PM, Austin Hastings wrote:

&gt;<i> Ter,
</I>&gt;<i>
</I>&gt;<i> I suppose it depends on how he plans to deal with comments. But if  
</I>&gt;<i> the objective is to link the comments to the nearest-entity  
</I>&gt;<i> (statement, subexpression, docblock, etc.) then he's going to have  
</I>&gt;<i> special case handling for comments on essentially every node of  
</I>&gt;<i> *some* tree.
</I>
Hi Austin.  Turns out my mechanism is very simple.  Keep a list of  
all tokens in order.  AST nodes point into that list for their  
payload.  No node in tree for AST.  I just look into token buffer to  
get tokens to left or right of token associated with AST node. :)   
Simple.

&gt;<i> That is, consider:
</I>&gt;<i>
</I>&gt;<i> (* maybe do something *)
</I>&gt;<i> if (a &gt; 1 (* if a is set *)
</I>&gt;<i>   or b &gt; 1 (* if b is set *)
</I>&gt;<i>  or c &gt; 1) then (* or c *)
</I>&gt;<i> begin
</I>&gt;<i>  doSomething; (* defined in other file *)
</I>&gt;<i> end
</I>&gt;<i>
</I>&gt;<i> The corresponding Java is, in this case, fairly straightforward.  
</I>&gt;<i> But in order to map the comments correctly, he'll have to preserve  
</I>&gt;<i> &quot;shape&quot; as well as sequence.
</I>
List&lt;Token&gt; works great :)  Not sure what you mean by shape.  Just as  
comments mess up input structure, they mess up tree structure.   
Remember they are part of lexical language but are NOT part of  
grammatical structure.  A crucial distinction.  It implies they  
should not alter parse tree nor AST.

Can you explain how you avoid having COMMENT? everywhere?  I'm  
actually curious to know if I've missed a cool idea.

Ter
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024672.html">[antlr-interest] &quot;Comments&quot; token from source to the	target	language
</A></li>
	<LI>Next message: <A HREF="024661.html">[antlr-interest] &quot;Comments&quot; token from source to the target	language
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24676">[ date ]</a>
              <a href="thread.html#24676">[ thread ]</a>
              <a href="subject.html#24676">[ subject ]</a>
              <a href="author.html#24676">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
