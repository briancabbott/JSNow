<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Which approach for an Interpreter: Tree	Grammar vs AST-Visitor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Which%20approach%20for%20an%20Interpreter%3A%20Tree%0A%09Grammar%20vs%20AST-Visitor&In-Reply-To=%3C673438.16144.qm%40web55901.mail.re3.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="040675.html">
   <LINK REL="Next"  HREF="040681.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Which approach for an Interpreter: Tree	Grammar vs AST-Visitor</H1>
    <B>Loring Craymer</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Which%20approach%20for%20an%20Interpreter%3A%20Tree%0A%09Grammar%20vs%20AST-Visitor&In-Reply-To=%3C673438.16144.qm%40web55901.mail.re3.yahoo.com%3E"
       TITLE="[antlr-interest] Which approach for an Interpreter: Tree	Grammar vs AST-Visitor">lgcraymer at yahoo.com
       </A><BR>
    <I>Thu Feb  3 00:58:37 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="040675.html">[antlr-interest] Which approach for an Interpreter: Tree Grammar vs AST-Visitor
</A></li>
        <LI>Next message: <A HREF="040681.html">[antlr-interest] Which approach for an Interpreter: Tree Grammar vs AST-Visitor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40676">[ date ]</a>
              <a href="thread.html#40676">[ thread ]</a>
              <a href="subject.html#40676">[ subject ]</a>
              <a href="author.html#40676">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The &quot;best&quot; way to implement an interpreter is to compile to byte code and 
interpret the byte code--the interpreter is then a large case statement 
surrounded by a loop which fetches the next byte to be interpreted and that 
value is used as an index into the case statement.  That provides the code 
separation that you want and provides a good lesson in designing a virtual 
machine.  As to the tree grammar or visitor choice, consider doing 
both--possibly by dividing the class.  The tree grammar approach is superior in 
the general case, but an important lesson for students to learn the value of 
tools as opposed to automatically hand coding solutions--exposing students to 
alternatives is good for them.

--Loring


----- Original Message ----
&gt;<i> From: bill punch &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">punch at cse.msu.edu</A>&gt;
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Sent: Wed, February 2, 2011 5:36:38 PM
</I>&gt;<i> Subject: [antlr-interest] Which approach for an Interpreter: Tree Grammar vs 
</I>&gt;<i>AST-Visitor
</I>&gt;<i> 
</I>&gt;<i> I'm designing a project for my compiler class, and we are at the stage
</I>&gt;<i> of  building an interpreter for our grammar. Before going farther, let me
</I>&gt;<i> say  first that ANTLR is great and makes the whole process a lot easier.
</I>&gt;<i> However,  I'm converting the course and, being new to ANTLR, have a few
</I>&gt;<i> questions. Here  is one.
</I>&gt;<i> 
</I>&gt;<i> I was using Pattern 25, the Pie language,  from LIP as a  guideline, but
</I>&gt;<i> I'm a little confused about the best approach. Pattern 25,  Pie,
</I>&gt;<i> constructs an AST then uses hand-written code to do the visiting. I  like
</I>&gt;<i> the approach, as more complex code can be embedded in the visitor  code.
</I>&gt;<i> However, instead of writing my own visitor, I could have the  students
</I>&gt;<i> write a tree grammar to visit the AST nodes. But it seems that I  would
</I>&gt;<i> still be better off putting the exec type code in a separate  file.
</I>&gt;<i> 
</I>&gt;<i> So would it be better to have an example like the Pie language use  a
</I>&gt;<i> tree grammar or is the hand-written visitor code a better approach?  What
</I>&gt;<i> are the pros and cons? Any help appreciated.
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i>        &gt;&gt;&gt;bill&lt;&lt;&lt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: 
</I>&gt;<i><A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i> 
</I>

      
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="040675.html">[antlr-interest] Which approach for an Interpreter: Tree Grammar vs AST-Visitor
</A></li>
	<LI>Next message: <A HREF="040681.html">[antlr-interest] Which approach for an Interpreter: Tree Grammar vs AST-Visitor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#40676">[ date ]</a>
              <a href="thread.html#40676">[ thread ]</a>
              <a href="subject.html#40676">[ subject ]</a>
              <a href="author.html#40676">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
