<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Code generation error?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Code%20generation%20error%3F&In-Reply-To=0B7DF182-C7B1-11D8-8B11-000A95891192%40cs.usfca.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008485.html">
   <LINK REL="Next"  HREF="008443.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Code generation error?</H1>
    <B>Richard Matthias</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Code%20generation%20error%3F&In-Reply-To=0B7DF182-C7B1-11D8-8B11-000A95891192%40cs.usfca.edu"
       TITLE="[antlr-interest] Code generation error?">richard at exaflop.org
       </A><BR>
    <I>Sat Jun 26 15:12:04 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008485.html">[antlr-interest] Re: C code generation
</A></li>
        <LI>Next message: <A HREF="008443.html">[antlr-interest] unicode strings using supplemental char range
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8452">[ date ]</a>
              <a href="thread.html#8452">[ thread ]</a>
              <a href="subject.html#8452">[ subject ]</a>
              <a href="author.html#8452">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, 

I've got a problem here with the code generated by antlr (just downloaded the
latest - 2.7.4). If I have a tokens section:-

tokens {
	TRUE=&quot;true&quot;&lt;AST=mynamespace.iASTValue&gt;;
	FALSE=&quot;false&quot;&lt;AST=mynamespace.iASTValue&gt;;
}

According to the docs this is allowable and antlr doesn't produce any errors,
but the code generated is thus:

	static public void initializeASTFactory( ASTFactory factory )
	{
...
		factory.setTokenTypeASTNodeType(&quot;true&quot;,
&quot;mynamespace.iASTValue&quot;);
		factory.setTokenTypeASTNodeType(&quot;false&quot;,
&quot;mynamespace.iASTValue&quot;);
	}

This is for the C# code generator btw. if you hadn't already worked that out
:<i>)
</I>
This doesn't compile because setTokenTypeASTNodeType() only takes int as its
first parameter. I'm guessing that the step that adds those string literals
to the hashtable used by the testliterals thingy has been left out (as you
can guess I'm not really an expert on antlr internals :)

I can get around this for now by using the &lt;AST=&gt; option on the token
reference in the rule where it's used instead.

Richard



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008485.html">[antlr-interest] Re: C code generation
</A></li>
	<LI>Next message: <A HREF="008443.html">[antlr-interest] unicode strings using supplemental char range
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8452">[ date ]</a>
              <a href="thread.html#8452">[ thread ]</a>
              <a href="subject.html#8452">[ subject ]</a>
              <a href="author.html#8452">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
