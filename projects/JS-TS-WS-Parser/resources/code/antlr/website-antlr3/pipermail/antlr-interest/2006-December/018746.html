<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] [antlr-dev] actions in rules with backtracking	(fwd)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20%5Bantlr-dev%5D%20actions%20in%20rules%20with%20backtracking%0A%09%28fwd%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018744.html">
   <LINK REL="Next"  HREF="018747.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] [antlr-dev] actions in rules with backtracking	(fwd)</H1>
    <B>Christopher D. Rickett</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20%5Bantlr-dev%5D%20actions%20in%20rules%20with%20backtracking%0A%09%28fwd%29&In-Reply-To="
       TITLE="[antlr-interest] [antlr-dev] actions in rules with backtracking	(fwd)">crickett at lanl.gov
       </A><BR>
    <I>Mon Dec  4 09:49:14 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018744.html">[antlr-interest] antlrworks
</A></li>
        <LI>Next message: <A HREF="018747.html">[antlr-interest] [antlr-dev] actions in rules with backtracking	(fwd)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18746">[ date ]</a>
              <a href="thread.html#18746">[ thread ]</a>
              <a href="subject.html#18746">[ subject ]</a>
              <a href="author.html#18746">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

---------- Forwarded message ----------
Date: Fri, 1 Dec 2006 17:09:53 -0700
From: Craig Rasmussen &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">crasmussen at lanl.gov</A>&gt;
To: Kay Roepke &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">kroepke at classdump.org</A>&gt;
Cc: Christopher D. Rickett &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">crickett at lanl.gov</A>&gt;, <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: [antlr-dev] actions in rules with backtracking

Kay,

In your kind response you asked what we wanted to achieve.  In general we are
developing a parser for Fortran 2003 (with some later extensions).
Specifically, we are trying to add communication between the parser and lexer.
Fortran has some nasty ambiguities between identifiers and keywords.  For
example, you can declare an integer with the name integer, as in,

    integer :: integer = 3

This may seem like poor form, but Fortran has so many stupid keywords that it
is almost necessary.

It is common to perform a preliminary pass over the token list to do a
rudimentary analysis in order to fix up the tokens.  However, we thought it
might be better to have parser change a keyword to an identifier, just before
it was expecting to see an identifier.  However, with backtracking, actions to
do this are not called.

Perhaps you have some other ideas.

Cheers,
Craig


On Nov 30, 2006, at 2:08 PM, Kay Roepke wrote:

&gt;<i> Hi!
</I>&gt;<i> 
</I>&gt;<i> On 30. Nov 2006, at 21:54 , Christopher D. Rickett wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Is there a way to force actions that begin rules to always be executed,
</I>&gt;<i> &gt; even if backtracking is enabled?  For example:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; A : {/* my action */;} B ;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Is there a way to ensure that this action will be executed?
</I>&gt;<i> 
</I>&gt;<i> Do you mean to execute the action 'while backtracking'?
</I>&gt;<i> That's tricky. For synpreds you might be able to get away with the global
</I>&gt;<i> @synpredgate { expression that replaces the 'backtracking == 0' check}, but
</I>&gt;<i> that only works for syntactic predicates and affects all synpreds.
</I>&gt;<i> 
</I>&gt;<i> OTOH:
</I>&gt;<i> If you simply want to execute code at the beginning of a rule, use an @init
</I>&gt;<i> action.
</I>&gt;<i> Those are not protected with 'if (backtracking==0)':
</I>&gt;<i> 
</I>&gt;<i> rule
</I>&gt;<i> @init {
</I>&gt;<i>      // this is always executed, try the -trace option to see it in action
</I>&gt;<i> }
</I>&gt;<i> :    'foo' ;
</I>&gt;<i> 
</I>&gt;<i> BTW, what do you want to achieve?
</I>&gt;<i> 
</I>&gt;<i> HTH,
</I>&gt;<i> -k
</I>&gt;<i> 
</I>&gt;<i> P.S.: antlr-interest is a better list for those questions ;)
</I>&gt;<i> -- 
</I>&gt;<i> Kay R&#246;pke
</I>&gt;<i> <A HREF="http://classdump.org/">http://classdump.org/</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018744.html">[antlr-interest] antlrworks
</A></li>
	<LI>Next message: <A HREF="018747.html">[antlr-interest] [antlr-dev] actions in rules with backtracking	(fwd)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18746">[ date ]</a>
              <a href="thread.html#18746">[ thread ]</a>
              <a href="subject.html#18746">[ subject ]</a>
              <a href="author.html#18746">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
