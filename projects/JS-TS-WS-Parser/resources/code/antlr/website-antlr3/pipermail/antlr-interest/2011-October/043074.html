<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] C# StringTemplate,	and being a contributor instead of just a mooch.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20C%23%20StringTemplate%2C%0A%09and%20being%20a%20contributor%20instead%20of%20just%20a%20mooch.&In-Reply-To=%3C92E9AB4D42199B4793CE24E094BAEE070E8984%40USSCMB03.plt.plantronics.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043073.html">
   <LINK REL="Next"  HREF="043075.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] C# StringTemplate,	and being a contributor instead of just a mooch.</H1>
    <B>Voelkel, Andy</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20C%23%20StringTemplate%2C%0A%09and%20being%20a%20contributor%20instead%20of%20just%20a%20mooch.&In-Reply-To=%3C92E9AB4D42199B4793CE24E094BAEE070E8984%40USSCMB03.plt.plantronics.com%3E"
       TITLE="[antlr-interest] C# StringTemplate,	and being a contributor instead of just a mooch.">andy.voelkel at plantronics.com
       </A><BR>
    <I>Thu Oct 27 21:31:22 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="043073.html">[antlr-interest] Can someone send a simple working C#	StringTemplate example? (I'm frustrated)
</A></li>
        <LI>Next message: <A HREF="043075.html">[antlr-interest] C# StringTemplate,	and being a contributor instead of just a mooch.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43074">[ date ]</a>
              <a href="thread.html#43074">[ thread ]</a>
              <a href="subject.html#43074">[ subject ]</a>
              <a href="author.html#43074">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I did get your suggestion working in C#, it shows that what you suggest will indeed work:

namespace StringTemplateTest {
  class Program {
    static void Main(string[] args) {
      Template outer = new Template(&quot;{\n  &lt;elems&gt;\n}&quot;);
      Template inner = new Template(&quot;&lt;names; separator = \&quot;, \n\&quot;&gt; &quot;);
      string[] names = new string[3] {&quot;one&quot;, &quot;two&quot;, &quot;three&quot;};
      inner.Add(&quot;names&quot;, names);
      outer.Add(&quot;elems&quot;, inner);
      Console.WriteLine(outer.Render());
    }
  }
}

Regards your other comment: The updated documentation you point to shows outdated usages in the documentation. I completely understand the difficulty of keeping things up to date. I've offered to send converted examples that I wrote for ANTLR, from Terence's book, and I'd even put them up on the website if I could. I'm in a good position to help since I'm a beginner (at this stuff). Terence answered to send him an email with a zip file of my converted examples. So I did, and the email bounced. I wrote another email to him explaining that it bounced, figuring that maybe the attachments were a problem. That email didn't bounce (to my knowledge), but I got no answer.

I'd be happy to help!! It's a worthwhile cause. But how??

- Andy


-----Original Message-----
From: Michael Bedward [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">michael.bedward at gmail.com</A>]
Sent: Thursday, October 27, 2011 8:58 PM
To: Voelkel, Andy
Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: Re: Can someone send a simple working C# StringTemplate example? (I'm frustrated)

I don't use C# so can't help you there, but regarding StringTemplate
vs ST: the former is the class in version 3 of the library:
<A HREF="http://www.antlr.org/wiki/display/ST/StringTemplate+3+Documentation">http://www.antlr.org/wiki/display/ST/StringTemplate+3+Documentation</A>

while the latter is the new, improved, shiny class in the completely
re-written version 4:
<A HREF="http://www.antlr.org/wiki/display/ST4/StringTemplate+4+Documentation">http://www.antlr.org/wiki/display/ST4/StringTemplate+4+Documentation</A>

Also, just a general comment on the frustration that you express.
Writing docs for any open source project of reasonable size is hard.
Keeping them up to date is harder. Worse still, while OS code
development is sometimes funded, docs are usually a labour of love.
I'm not involved in ANTLR or StringTemplate development but do work on
other OS projects and see similar complaints or expressions of anguish
about docs being out of date or contradictory all the time, but
getting people to actually help with the docs is nigh on impossible.
So... hint, hint :)

Michael


On 28 October 2011 14:38, Voelkel, Andy &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">andy.voelkel at plantronics.com</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I've moved on from trying to get the C# version of Antlr working (successfully - with help from this list!) to trying to get StringTemplate working in the C# version. I've tried to &quot;port&quot; this example from Terence's book:
</I>&gt;<i>
</I>&gt;<i> import org.antlr.stringtemplate.*;
</I>&gt;<i> ...
</I>&gt;<i> StringTemplate hello = new StringTemplate(&quot;Hello &lt;name&gt;&quot; );
</I>&gt;<i> hello.setAttribute(&quot;name&quot; , &quot;World&quot; );
</I>&gt;<i> System.out.println(hello.toString());
</I>&gt;<i>
</I>&gt;<i> Seems easy enough, right? Well, given the version of the C# runtime I've got, StringTemplate seems to be named Template, and doesn't have a setAttribute method (or a SetAttribute method), and displays nonsensical output from the toString (actually ToString) method.
</I>&gt;<i>
</I>&gt;<i> I looked on the StringTemplate website, and the examples there don't even refer to a StringTemplate or a Template, they talk about an &quot;ST&quot; (for both Java and C#).
</I>&gt;<i>
</I>&gt;<i> Can someone point me at a simple example of a StringTemplate example (such as the above) that works with the C# runtime Antlr4.StringTemplate dll (version v2.0.50727)? I can probably go from there, using the forensic techniques I learned trying to figure out how the Java version of Antlr maps to the C# version.
</I>&gt;<i>
</I>&gt;<i> - Andy
</I>&gt;<i>
</I>&gt;<i> P.S. Editorial comment. These are really powerful tools, but the amount of out of date or missing documentation and examples on the websites is maddening. Thank god for this list, or I would have given up two weeks ago!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Michael Bedward [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">michael.bedward at gmail.com</A>]
</I>&gt;<i> Sent: Thursday, October 27, 2011 5:18 PM
</I>&gt;<i> To: Voelkel, Andy
</I>&gt;<i> Cc: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: Re: [antlr-interest] What's the right way to do this?
</I>&gt;<i>
</I>&gt;<i> Hello Andy,
</I>&gt;<i>
</I>&gt;<i> Here is an example of doing this with stringtemplate v3:
</I>&gt;<i>
</I>&gt;<i> // A function call with comma-delimited list of args
</I>&gt;<i> call(name, args) ::= &lt;&lt;
</I>&gt;<i> &lt;name&gt;(&lt;args; separator=&quot;, &quot;&gt;)
</I>&gt;&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You can see this usage on the stringtemplate cheat sheet:
</I>&gt;<i> <A HREF="http://www.antlr.org/wiki/display/ST/StringTemplate+cheat+sheet">http://www.antlr.org/wiki/display/ST/StringTemplate+cheat+sheet</A>
</I>&gt;<i>
</I>&gt;<i> Michael
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 28 October 2011 09:26, Voelkel, Andy &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">andy.voelkel at plantronics.com</A>&gt; wrote:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm developing tools for generating various C source files from a simple DSL. I've got the lexing/parsing/tree-creation part of it working to my satisfaction, and am comfortable with my level of understanding (though I will continue to work my way all the way through Terence's book). But I'm confused about the best approach to generating one of the output files I need, which should look like this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> toplevel name = {
</I>&gt;&gt;<i>  { // begin group1
</I>&gt;&gt;<i>    { // begin block1
</I>&gt;&gt;<i>      item 1,
</I>&gt;&gt;<i>      item 2
</I>&gt;&gt;<i>    }, // end block1
</I>&gt;&gt;<i>    { // begin block2
</I>&gt;&gt;<i>      item 1,
</I>&gt;&gt;<i>      item 2
</I>&gt;&gt;<i>    } // end block2
</I>&gt;&gt;<i>  }, // end group1
</I>&gt;&gt;<i>  { // begin block3
</I>&gt;&gt;<i>    item 1,
</I>&gt;&gt;<i>    item 2,
</I>&gt;&gt;<i>    item 3
</I>&gt;&gt;<i>  }, // end block3
</I>&gt;&gt;<i>  { // begin group2
</I>&gt;&gt;<i>    { // begin block4
</I>&gt;&gt;<i>      item 1,
</I>&gt;&gt;<i>      item 2
</I>&gt;&gt;<i>    }, // end block4
</I>&gt;&gt;<i>    { // begin block5
</I>&gt;&gt;<i>      item 1,
</I>&gt;&gt;<i>      item 2
</I>&gt;&gt;<i>    } // end block5
</I>&gt;&gt;<i>  } // end group2
</I>&gt;&gt;<i> };
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The problem is putting the &quot;,&quot; characters on all elements in the nested structure except for the last one at that level, and I'm wondering what the best approach to the problem is. It seems like I could pass a &quot;last one&quot; parameter down to subrules when the item invoking the subrule is the last in the list of a rule, and use that as a way to avoid printing the &quot;,&quot;. Alternatively, I get the feeling that this could be handled by the right StringTemplate magic, but I haven't found the right StringTemplate tutorials to get comfortable with this problem, which is obviously recursive, and where the items in a list are not all of the same type. The toplevel structure can contain groups or blocks, and groups can contain other groups:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> group: 'group'^ ID '{'! (block | group)+ '}'! ;
</I>&gt;&gt;<i> block: 'block'^ ID '{'! (assign)+ '}'! ;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What would be the right way to get the output I'm looking for?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - Andy
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ________________________________
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> CONFIDENTIALITY NOTICE: This e-mail transmission, and any documents, files or previous e-mail messages attached to it, may contain information that is confidential and/or legally privileged. If you are not the intended recipient, or a person responsible for delivering it to the intended recipient, please DO NOT disclose the contents to another person, store or copy the information in any medium, or use any of the information contained in or attached to this transmission for any purpose. If you have received this transmission in error, please immediately notify the sender by reply email or at <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">privacy at plantronics.com</A>, and destroy the original transmission and its attachments without reading or saving in any manner.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For further information about Plantronics - the Company, its products, brands, partners, please visit our website www.plantronics.com.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ________________________________
</I>&gt;<i>
</I>&gt;<i> CONFIDENTIALITY NOTICE: This e-mail transmission, and any documents, files or previous e-mail messages attached to it, may contain information that is confidential and/or legally privileged. If you are not the intended recipient, or a person responsible for delivering it to the intended recipient, please DO NOT disclose the contents to another person, store or copy the information in any medium, or use any of the information contained in or attached to this transmission for any purpose. If you have received this transmission in error, please immediately notify the sender by reply email or at <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">privacy at plantronics.com</A>, and destroy the original transmission and its attachments without reading or saving in any manner.
</I>&gt;<i>
</I>&gt;<i> For further information about Plantronics - the Company, its products, brands, partners, please visit our website www.plantronics.com.
</I>&gt;<i>
</I>

________________________________

CONFIDENTIALITY NOTICE: This e-mail transmission, and any documents, files or previous e-mail messages attached to it, may contain information that is confidential and/or legally privileged. If you are not the intended recipient, or a person responsible for delivering it to the intended recipient, please DO NOT disclose the contents to another person, store or copy the information in any medium, or use any of the information contained in or attached to this transmission for any purpose. If you have received this transmission in error, please immediately notify the sender by reply email or at <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">privacy at plantronics.com</A>, and destroy the original transmission and its attachments without reading or saving in any manner.

For further information about Plantronics - the Company, its products, brands, partners, please visit our website www.plantronics.com.
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043073.html">[antlr-interest] Can someone send a simple working C#	StringTemplate example? (I'm frustrated)
</A></li>
	<LI>Next message: <A HREF="043075.html">[antlr-interest] C# StringTemplate,	and being a contributor instead of just a mooch.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43074">[ date ]</a>
              <a href="thread.html#43074">[ thread ]</a>
              <a href="subject.html#43074">[ subject ]</a>
              <a href="author.html#43074">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
