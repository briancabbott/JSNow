<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Custom AST?  How to write a compiler?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Custom%20AST%3F%20%20How%20to%20write%20a%20compiler%3F&In-Reply-To=btcf2r%2Bp1gr%40eGroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006025.html">
   <LINK REL="Next"  HREF="006032.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Custom AST?  How to write a compiler?</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Custom%20AST%3F%20%20How%20to%20write%20a%20compiler%3F&In-Reply-To=btcf2r%2Bp1gr%40eGroups.com"
       TITLE="[antlr-interest] Custom AST?  How to write a compiler?">klaren at cs.utwente.nl
       </A><BR>
    <I>Tue Jan  6 00:04:53 PST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="006025.html">[antlr-interest] Re: Custom AST?  How to write a compiler?
</A></li>
        <LI>Next message: <A HREF="006032.html">[antlr-interest] Exception tests eat performance?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6028">[ date ]</a>
              <a href="thread.html#6028">[ thread ]</a>
              <a href="subject.html#6028">[ subject ]</a>
              <a href="author.html#6028">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Mon, Jan 05, 2004 at 07:48:43PM -0000, jenlhunt2003 wrote:
&gt;<i> Are there any hidden issues that complicate using Custom AST's in C++
</I>&gt;<i> mode?
</I>
Might be a few small things like some extra casts needed here and there.
Between 2.7.2 and 2.7.3 there's some small changes in a few API's which
were necessary to get things to work with modern gcc/vc++. The
functionality itself works very well use it myself every day.

Heterogeneous AST's should work, but you'll run into trouble sooner or
later somewhere (a little bit depending on the complexity of what you're
doing) nothing that's not fixable but you might have to dig a bit deeper
somewhere to make things work (explicit casts from one type to another this
due to the reference counting).

&gt;<i> Is the &quot;Custom AST Types&quot; patch still required on newer releases (say
</I>&gt;<i> 2.7.3 from Ric) of Antlr?
</I>
I'm not aware of such a patch. Should not be necessary.

&gt;<i> Okay, now the BIG question.  I trying to utilize Antlr to construct a
</I>&gt;<i> 'C' compiler, the final output of which would be P code (for a stack
</I>&gt;<i> machine lets say).  Would Custom AST's derived from Antlr's be
</I>&gt;<i> suitable for this, or should I discard it all in favor of creating and
</I>&gt;<i> manipulating my own AST's?
</I>
ANTLR AST's would work I guess (custom ones too) it depends a bit on how
you structure the AST. You might have a few tree rewriting passes to
massage things into something that is easy to translate.

Arguments against using ANTLR's AST's might be some of the ones of Ian
(it's a while back since I read his pages but he has some sane remarks
about them), it is sometimes a pain to get exactly what you want with the
current syntax. But usually after some fiddling around and tree dumping
it's not that hard to get right. It is also somewhat annoying to have the
antlr stuff bleed through to deep into your backend (mostly for error
handling/feedback purpose) but this is I guess a matter of taste.

For my own project I would not move to own make AST's anymore. Even if I
would have to make it from scratch again I would stick to ANTLR's.

&gt;<i> I have read much of Ian's comments, and some past list comments on
</I>&gt;<i> this, but am still undecided.  Incidently, the compiler does not have
</I>&gt;<i> to be particularly fast or produce optimal code (has to be correct
</I>&gt;<i> though).  I just need to be able to complete it in the forseeable
</I>&gt;<i> future ;)
</I>
Generating P-code from something C-ish would not be that hard. Have done
something similar for compiler construction classes during my study with a
LL(1) generator so things only would be easier with antlr ;)

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">j.klaren at utwente.nl</A> ----- +31 53 4893722  ----
-----+++++*****************************************************+++++++++-------
  &quot;Good judgement comes from experience.
     Experience comes from bad judgement.&quot; --- Unknown

 

Yahoo! Groups Links

To visit your group on the web, go to:
 <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

To unsubscribe from this group, send an email to:
 <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

Your use of Yahoo! Groups is subject to:
 <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006025.html">[antlr-interest] Re: Custom AST?  How to write a compiler?
</A></li>
	<LI>Next message: <A HREF="006032.html">[antlr-interest] Exception tests eat performance?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6028">[ date ]</a>
              <a href="thread.html#6028">[ thread ]</a>
              <a href="subject.html#6028">[ subject ]</a>
              <a href="author.html#6028">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
