<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Writing Delphi Target for Antlr3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Writing%20Delphi%20Target%20for%20Antlr3&In-Reply-To=%3CB36CCC332A32904F8FA3DE134A2353362525E7%40wavemachine.temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020902.html">
   <LINK REL="Next"  HREF="020905.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Writing Delphi Target for Antlr3</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Writing%20Delphi%20Target%20for%20Antlr3&In-Reply-To=%3CB36CCC332A32904F8FA3DE134A2353362525E7%40wavemachine.temporal-wave.com%3E"
       TITLE="[antlr-interest] Writing Delphi Target for Antlr3">jimi at temporal-wave.com
       </A><BR>
    <I>Sun May 27 10:33:55 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="020902.html">[antlr-interest] Writing Delphi Target for Antlr3
</A></li>
        <LI>Next message: <A HREF="020905.html">[antlr-interest] Writing Delphi Target for Antlr3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20930">[ date ]</a>
              <a href="thread.html#20930">[ thread ]</a>
              <a href="subject.html#20930">[ subject ]</a>
              <a href="author.html#20930">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am totally anti macros for anything other than constants in normal C
code - in fact I think these days you are better off using a C++
compiler as a better C, if you can get around the horrible linking
headaches on UNIX ;-).

However, as you will see from comments in the generated code/template,
the one exception is when you are generating code that is not maintained
directly and here you are only concerned with flow really, as the
grammar programmer should not have to debug the C runtime, just single
step the grammar code. 

So: 

STACK_ENTRY(myStack, -2) 

seems a lot more readable than 

ctx-&gt;myStackStack-&gt;get(ctx-&gt;myStackStack, -2 ) 

or whatever it was I had to do to reference back from stack tops. 

As none of the actual C stuff and structures will be too useful for
other targets, then I don't think that would get in the way of its use
as a general template example. However, I think that in order to produce
a target for ANTLR you really need to be someone who can just sit down
and hack your way through it until you understand it, so maybe no
existing template is much use other than for the names and parameters of
the templates themselves and even they are only a starting point.

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Luke A. Guest [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">laguest at archangeli.co.uk</A>]
</I>&gt;<i> Sent: Saturday, May 26, 2007 2:26 PM
</I>&gt;<i> To: Jim Idle
</I>&gt;<i> Cc: Terence Parr; ANTR Interest
</I>&gt;<i> Subject: RE: [antlr-interest] Writing Delphi Target for Antlr3
</I>&gt;<i> 
</I>&gt;<i> On Sat, 2007-05-26 at 13:06 -0700, Jim Idle wrote:
</I>&gt;<i> &gt; functions you have not written yet. I am thinking of producing a C-
</I>&gt;<i> lite
</I>&gt;<i> &gt; output, which does not require runtime and that might help new
</I>&gt;<i> template
</I>&gt;<i> &gt; authors.
</I>&gt;<i> 
</I>&gt;<i> This would be useful as long as it's not chocfull of macros, they make
</I>&gt;<i> things a lot harder to understand. Maybe a Pascal version as it's more
</I>&gt;<i> structured? Or possibly some other lite language? Maybe D-lite?
</I>&gt;<i> 
</I>&gt;<i> &gt; What you are looking for here, as I think you have realized is the
</I>&gt;<i> &gt; equivalent of this in C:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; {
</I>&gt;<i> &gt; 	int x;
</I>&gt;<i> &gt; 	{
</I>&gt;<i> &gt; 		int y;
</I>&gt;<i> &gt; 	}
</I>&gt;<i> &gt; }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It's been some time since even looked at a Pascal program, but does
</I>&gt;<i> it
</I>&gt;<i> &gt; allow:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; var
</I>&gt;<i> &gt;   x: Integer;
</I>&gt;<i> &gt;   begin
</I>&gt;<i> &gt; 	var
</I>&gt;<i> &gt; 	 y: Integer;
</I>&gt;<i> &gt; 	begin
</I>&gt;<i> &gt; 		...
</I>&gt;<i> &gt; 	end
</I>&gt;<i> &gt;   end
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ?
</I>&gt;<i> 
</I>&gt;<i> Yeah, I thought Pascal could do it, it's been so long, I coutldn't be
</I>&gt;<i> sure. But the fact that Ada is Pascal like, it makes sense that it
</I>&gt;<i> should be able to do that.
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Luke.
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020902.html">[antlr-interest] Writing Delphi Target for Antlr3
</A></li>
	<LI>Next message: <A HREF="020905.html">[antlr-interest] Writing Delphi Target for Antlr3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20930">[ date ]</a>
              <a href="thread.html#20930">[ thread ]</a>
              <a href="subject.html#20930">[ subject ]</a>
              <a href="author.html#20930">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
