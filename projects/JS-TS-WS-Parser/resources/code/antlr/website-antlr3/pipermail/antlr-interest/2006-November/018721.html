<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] [antlr-dev] actions in rules with backtracking
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20%5Bantlr-dev%5D%20actions%20in%20rules%20with%20backtracking&In-Reply-To=FAA9FB8D-0806-4E3F-AF5C-29A252B21BDA%40classdump.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018720.html">
   <LINK REL="Next"  HREF="018722.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] [antlr-dev] actions in rules with backtracking</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20%5Bantlr-dev%5D%20actions%20in%20rules%20with%20backtracking&In-Reply-To=FAA9FB8D-0806-4E3F-AF5C-29A252B21BDA%40classdump.org"
       TITLE="[antlr-interest] [antlr-dev] actions in rules with backtracking">parrt at cs.usfca.edu
       </A><BR>
    <I>Thu Nov 30 19:28:43 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="018720.html">[antlr-interest] Scopes and return values
</A></li>
        <LI>Next message: <A HREF="018722.html">[antlr-interest] How can I ignore reserved words in certain	cases ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18721">[ date ]</a>
              <a href="thread.html#18721">[ thread ]</a>
              <a href="subject.html#18721">[ subject ]</a>
              <a href="author.html#18721">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, as Kay points out the only way right now to execute actions  
during syntactic predicates speculative recognition is by specifying  
your own special action to gate actions in and out during speculation  
and by using the @init action.

I would really like to come up with a way to specify that an action  
should always execute so that, for example, people can update a  
symbol table.

Finally, please note that modifying the lexer from the parser usually  
won't work as you mentioned in your follow-up.

Ter
On Nov 30, 2006, at 1:08 PM, Kay Roepke wrote:

&gt;<i> Hi!
</I>&gt;<i>
</I>&gt;<i> On 30. Nov 2006, at 21:54 , Christopher D. Rickett wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Is there a way to force actions that begin rules to always be
</I>&gt;&gt;<i> executed,
</I>&gt;&gt;<i> even if backtracking is enabled?  For example:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> A : {/* my action */;} B ;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is there a way to ensure that this action will be executed?
</I>&gt;<i>
</I>&gt;<i> Do you mean to execute the action 'while backtracking'?
</I>&gt;<i> That's tricky. For synpreds you might be able to get away with the
</I>&gt;<i> global
</I>&gt;<i> @synpredgate { expression that replaces the 'backtracking == 0'
</I>&gt;<i> check}, but
</I>&gt;<i> that only works for syntactic predicates and affects all synpreds.
</I>&gt;<i>
</I>&gt;<i> OTOH:
</I>&gt;<i> If you simply want to execute code at the beginning of a rule, use an
</I>&gt;<i> @init action.
</I>&gt;<i> Those are not protected with 'if (backtracking==0)':
</I>&gt;<i>
</I>&gt;<i> rule
</I>&gt;<i> @init {
</I>&gt;<i> 	// this is always executed, try the -trace option to see it in action
</I>&gt;<i> }
</I>&gt;<i> :	'foo' ;
</I>&gt;<i>
</I>&gt;<i> BTW, what do you want to achieve?
</I>&gt;<i>
</I>&gt;<i> HTH,
</I>&gt;<i> -k
</I>&gt;<i>
</I>&gt;<i> P.S.: antlr-interest is a better list for those questions ;)
</I>&gt;<i> -- 
</I>&gt;<i> Kay R&#246;pke
</I>&gt;<i> <A HREF="http://classdump.org/">http://classdump.org/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> antlr-dev mailing list
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-dev at antlr.org</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-dev">http://www.antlr.org/mailman/listinfo/antlr-dev</A>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018720.html">[antlr-interest] Scopes and return values
</A></li>
	<LI>Next message: <A HREF="018722.html">[antlr-interest] How can I ignore reserved words in certain	cases ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18721">[ date ]</a>
              <a href="thread.html#18721">[ thread ]</a>
              <a href="subject.html#18721">[ subject ]</a>
              <a href="author.html#18721">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
