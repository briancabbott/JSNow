<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Type cast exception in CSharp
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Type%20cast%20exception%20in%20CSharp&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013107.html">
   <LINK REL="Next"  HREF="013097.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Type cast exception in CSharp</H1>
    <B>Gilles BRUNET</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Type%20cast%20exception%20in%20CSharp&In-Reply-To="
       TITLE="[antlr-interest] Type cast exception in CSharp">gillesb68 at hotmail.com
       </A><BR>
    <I>Sun Jul 17 20:34:43 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013107.html">[antlr-interest] Tricky vector constructor syntax
</A></li>
        <LI>Next message: <A HREF="013097.html">[antlr-interest] Type cast exception in CSharp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13093">[ date ]</a>
              <a href="thread.html#13093">[ thread ]</a>
              <a href="subject.html#13093">[ subject ]</a>
              <a href="author.html#13093">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

The CSharp generator produces the following lines of code:

...
AST tmp1_AST = null;
tmp1_AST = astFactory.create(LT(1));
astFactory.makeASTRoot(currentAST, tmp1_AST);
...

My parser declaration have the following form:

...
class CommonParser extends Parser;
options {
	k = 2;
	importVocab = CommonAgilePLC;
	classHeaderPrefix = &quot;internal&quot;;
	buildAST = true;
}
...

The AST factory creator throws the exception &quot;System.InvalidCastException&quot;. 
Its factory operation seems to expect a parameter of type IToken while the 
CommonToken object returned by LT(1) does not implement this interface.

Is here any Token subclass that implement IToken available in the ANTLR's 
API or do I miss some option in the parser declaration?

Best regards,

Gilles B.

_________________________________________________________________
Partagez une seule photo ou un diaporama complet dans MSN Messenger. 
<A HREF="http://join.msn.com/?pgmarket=fr-ca&amp;page=features/messenger">http://join.msn.com/?pgmarket=fr-ca&amp;page=features/messenger</A> Commencez d&#232;s 
maintenant &#224; profiter de tous les avantages de MSN Premium et obtenez les 
deux premiers mois GRATUITS*.

</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013107.html">[antlr-interest] Tricky vector constructor syntax
</A></li>
	<LI>Next message: <A HREF="013097.html">[antlr-interest] Type cast exception in CSharp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13093">[ date ]</a>
              <a href="thread.html#13093">[ thread ]</a>
              <a href="subject.html#13093">[ subject ]</a>
              <a href="author.html#13093">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
