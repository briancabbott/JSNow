<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ASTs and node types: Java
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ASTs%20and%20node%20types%3A%20Java&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003856.html">
   <LINK REL="Next"  HREF="003831.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ASTs and node types: Java</H1>
    <B>mzukowski at yci.com</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20ASTs%20and%20node%20types%3A%20Java&In-Reply-To="
       TITLE="[antlr-interest] ASTs and node types: Java">mzukowski at yci.com
       </A><BR>
    <I>Mon May 12 07:45:15 PDT 2003</I>
    <P><UL>
        <LI>Previous message: <A HREF="003856.html">[antlr-interest] Re: Problem with Single Line Comments--solved
</A></li>
        <LI>Next message: <A HREF="003831.html">[antlr-interest] Having the &quot;include&quot; file as part the AST
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3830">[ date ]</a>
              <a href="thread.html#3830">[ thread ]</a>
              <a href="subject.html#3830">[ subject ]</a>
              <a href="author.html#3830">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Try generating your code with -traceTreeParser and then figure out what it
is doing.  This doesn't appear to be a type casting problem, rather it looks
like a mis-built tree, from what little information is there about it.

Monty

-----Original Message-----
From: biz_morland [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">biz_morland at yahoo.com</A>]
Sent: Saturday, May 10, 2003 3:18 PM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at yahoogroups.com</A>
Subject: [antlr-interest] ASTs and node types: Java


Hi,

I'm writing a java program that uses an Antlr grammar file to build 
and traverse an AST. Beforehand my Main.java and expression.g had 
worked well with an AST of nodes each of which consisted of a number 
of type double.

In Main.java I had used the following command to create an AST and 
traverse it, printing the result:

CommonAST parseTree = (CommonAST)parser.getAST();
System.out.println(parseTree.toStringList());
ExpressionTreeWalker walker = new ExpressionTreeWalker();
Double result = walker.expr(parseTree);
System.out.println(&quot;Value: &quot;+result);

OK, now I need an AST whose nodes are of type java.lang.Object 
instead of double. However I keep getting the following error message 
from the walker.expr(parseTree) statement.

For an example tree: +( 1 1)
Error message:

&lt;snip&gt;
&lt;AST&gt;: unexpected AST node: 1
&lt;AST&gt;: unexpected AST node: 1
Exception: java.lang.NullPointerException
&lt;/snip&gt;

The most obvious solution to me would be to somehow typecast the 
walker.expr() statement to java.lang.Object, but I've tried this in 
many different ways resulting in the same error msg above.

Is there anyone who has had similar error messages or problems with 
building ASTs, where the nodes have had to be changed or cast to 
different types?

Thanks,
Greg


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 


 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003856.html">[antlr-interest] Re: Problem with Single Line Comments--solved
</A></li>
	<LI>Next message: <A HREF="003831.html">[antlr-interest] Having the &quot;include&quot; file as part the AST
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3830">[ date ]</a>
              <a href="thread.html#3830">[ thread ]</a>
              <a href="subject.html#3830">[ subject ]</a>
              <a href="author.html#3830">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
