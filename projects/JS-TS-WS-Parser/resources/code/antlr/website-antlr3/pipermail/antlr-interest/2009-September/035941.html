<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLRWorks interpreter issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLRWorks%20interpreter%20issue&In-Reply-To=%3Cde77d2a00909130730u15877781va788fb2a95607b3b%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035946.html">
   <LINK REL="Next"  HREF="035947.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLRWorks interpreter issue</H1>
    <B>Eugene Toder</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLRWorks%20interpreter%20issue&In-Reply-To=%3Cde77d2a00909130730u15877781va788fb2a95607b3b%40mail.gmail.com%3E"
       TITLE="[antlr-interest] ANTLRWorks interpreter issue">eltoder at gmail.com
       </A><BR>
    <I>Sun Sep 13 07:30:08 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="035946.html">[antlr-interest] Lexer.java output in wrong directory
</A></li>
        <LI>Next message: <A HREF="035947.html">[antlr-interest] ANTLRWorks interpreter issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35941">[ date ]</a>
              <a href="thread.html#35941">[ thread ]</a>
              <a href="subject.html#35941">[ subject ]</a>
              <a href="author.html#35941">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

Apologies if this is already known (I found similar issues in JIRA,
but I'm not sure if this is the same thing).
I've found an issue with interpreter where it doesn't consume the
second alternative in (a | b)* expression. In a simple example this
leads to incomplete parse tree, in more complex cases this leads to
NoViableAltException.
In all cases the grammar works as expected in the debugger.

Examples:

1) simple
grammar test;

brackets &#160; &#160; &#160; &#160;: &#160; &#160; &#160; expr (call | index)*;

call &#160; &#160;: &#160; &#160; &#160; '(' expr ')';

index &#160; : &#160; &#160; &#160; '[' expr ']';

expr &#160; &#160;: &#160; &#160; &#160; IDENT;

IDENT &#160; : &#160; &#160; &#160; ('a'..'z')+;

2) now adding another rule on top of that
grammar test;

member &#160;: &#160; &#160; &#160; brackets ('.' brackets)*;

brackets &#160; &#160; &#160; &#160;: &#160; &#160; &#160; expr (call | index)*;

call &#160; &#160;: &#160; &#160; &#160; '(' expr ')';

index &#160; : &#160; &#160; &#160; '[' expr ']';

expr &#160; &#160;: &#160; &#160; &#160; IDENT;

IDENT &#160; : &#160; &#160; &#160; ('a'..'z')+;


Is this a bug or am I missing something here?

Thanks,
Eugene
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035946.html">[antlr-interest] Lexer.java output in wrong directory
</A></li>
	<LI>Next message: <A HREF="035947.html">[antlr-interest] ANTLRWorks interpreter issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35941">[ date ]</a>
              <a href="thread.html#35941">[ thread ]</a>
              <a href="subject.html#35941">[ subject ]</a>
              <a href="author.html#35941">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
