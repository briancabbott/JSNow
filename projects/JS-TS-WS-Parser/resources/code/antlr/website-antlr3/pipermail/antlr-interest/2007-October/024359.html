<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer bug? (with test cases!)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20bug%3F%20%28with%20test%20cases%21%29&In-Reply-To=%3C20071024113212.3E91B11EC47%40www.antlr.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024358.html">
   <LINK REL="Next"  HREF="024360.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer bug? (with test cases!)</H1>
    <B>Gavin Lambert</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer%20bug%3F%20%28with%20test%20cases%21%29&In-Reply-To=%3C20071024113212.3E91B11EC47%40www.antlr.org%3E"
       TITLE="[antlr-interest] Lexer bug? (with test cases!)">antlr at mirality.co.nz
       </A><BR>
    <I>Wed Oct 24 04:28:07 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024358.html">[antlr-interest] Lexer bug? (with test cases!)
</A></li>
        <LI>Next message: <A HREF="024360.html">[antlr-interest] Lexer bug? (with test cases!)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24359">[ date ]</a>
              <a href="thread.html#24359">[ thread ]</a>
              <a href="subject.html#24359">[ subject ]</a>
              <a href="author.html#24359">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mere moments ago, I wrote:
 &gt;Then classify the rule like so:
[...]

Couple of afterthoughts:

First, any (...)* loop is treated as if it were ((...)+)? for 
purposes of this classification algorithm (since that reduces the 
complexity of combinations a bit while still retaining correct 
behaviour).

Second, there's an extra rule:
7. Any required element (nonzero lookahead) following an optional 
subclause
   'foo'? 'bar'
   (('0'..'9')+)? 'bar'
   Required lookahead = up to (lookahead of optional clause) + 
(lookahead of trailing clause)

This is a bit of a special case because as soon as any part of the 
optional clause would fail to match then the clause as a whole is 
abandoned and the lookahead just becomes the trailing 
portion.  But if the optional clause is actually present in the 
input then it needs to be scanned completely through so the tail 
clause can be tested before the rule as a whole can be valid.

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024358.html">[antlr-interest] Lexer bug? (with test cases!)
</A></li>
	<LI>Next message: <A HREF="024360.html">[antlr-interest] Lexer bug? (with test cases!)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24359">[ date ]</a>
              <a href="thread.html#24359">[ thread ]</a>
              <a href="subject.html#24359">[ subject ]</a>
              <a href="author.html#24359">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
