<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLR installation/use on Unix
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR%20installation/use%20on%20Unix&In-Reply-To=%3C1228067747.14131.53.camel%40jimi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031786.html">
   <LINK REL="Next"  HREF="031795.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLR installation/use on Unix</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLR%20installation/use%20on%20Unix&In-Reply-To=%3C1228067747.14131.53.camel%40jimi%3E"
       TITLE="[antlr-interest] ANTLR installation/use on Unix">jimi at temporal-wave.com
       </A><BR>
    <I>Sun Nov 30 09:55:47 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="031786.html">[antlr-interest] ANTLR installation/use on Unix
</A></li>
        <LI>Next message: <A HREF="031795.html">[antlr-interest] ANTLR installation/use on Unix
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31793">[ date ]</a>
              <a href="thread.html#31793">[ thread ]</a>
              <a href="subject.html#31793">[ subject ]</a>
              <a href="author.html#31793">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 2008-11-30 at 03:06 -0600, Gary R. Van Sickle wrote:

&gt;<i> &gt; From: Jim Idle
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; On Fri, 2008-11-28 at 21:28 -0600, Gary R. Van Sickle wrote: 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 	
</I>&gt;<i> &gt; 	Hi Terence et al,
</I>&gt;<i> &gt; 	
</I>&gt;<i> &gt; 	Am I just getting old, or shouldn't I be able to (in a 
</I>&gt;<i> &gt; More Ideal World(tm),
</I>&gt;<i> &gt; 	of course) do something like this on a Unix-like box?:
</I>&gt;<i> &gt; 	
</I>&gt;<i> &gt; 	$ cd antlr-src-distro-dir/
</I>&gt;<i> &gt; 	$ make install
</I>&gt;<i> &gt; 	$ antlr --version
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Well, ANTLR is a Java tool,
</I>&gt;<i> 
</I>&gt;<i> It's a tool.  There's no reason the user should have to care what language
</I>&gt;<i> it's implemented in simply in order to use it.  
</I>

I am not talking about using it, I am talking about building it! To run
it as if it were a command, you can set up a bash script.


&gt;<i> Gcc is written in C, but I
</I>&gt;<i> don't care about that when I use it to compile C++, Fortran, or Java code.
</I>&gt;<i> I don't actually know what languages Flex or Bison are written in (though I
</I>&gt;<i> of course have a pretty good idea), but that doesn't in the least prevent me
</I>&gt;<i> from invoking them like this:
</I>&gt;<i> 
</I>&gt;<i> 	$ flex [whatever]
</I>&gt;<i> 	$ bison [whatever]
</I>&gt;<i> 
</I>&gt;<i> Is there a reason why I shouldn't be able to do the equivalent with ANTLR?
</I>

Well, only if you can't write a one line bash script. flex and bison are
native programs and as such are easier to just stick in /usr/local/bin
and forget about it.


&gt;<i> 
</I>&gt;<i> &gt; so make install only works for 
</I>&gt;<i> &gt; the C runtime distribution (after a ./configure).
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> Right, but I'm talking about the ANTLR tool itself, not any of its
</I>&gt;<i> language-specific runtimes.
</I>

So am I.

&gt;<i> 
</I>&gt;<i> &gt; The ANTLR source can be bult from scratch now using maven though:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 1) In stall Maven 2.0.9 or better;
</I>&gt;<i> &gt; 2) Find the directories with pom.xml in them
</I>&gt;<i> &gt; 3) cd to them and type: mvn
</I>&gt;<i> &gt; 4) Look at the output of the build to see where the .jar 
</I>&gt;<i> &gt; files go if are not familiar with Maven.
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> I'm less concerned with the building of it than the installation and use of
</I>&gt;<i> it.  Can I do this?:
</I>&gt;<i> 
</I>&gt;<i> 	$ cd antlr-src-distro-dir/
</I>&gt;<i> 	$ mvn install
</I>&gt;<i> 	$ antlr [whatever]
</I>&gt;<i> 
</I>&gt;<i> Like I said, it's the 20th century.  
</I>

Is it really? I must have missed something. Maven does not require you
to do any of this as it is from the 21st century :-)


&gt;<i> I, as the user, shouldn't have to be
</I>&gt;<i> &quot;looking at the output&quot; of anything, picking out the &quot;artifacts&quot; (as the
</I>&gt;<i> kids call 'em these days), worrying about where they should go, and then
</I>&gt;<i> have to move them manually.  As you indicated above, I don't have to with
</I>&gt;<i> the C runtime, why should I have to for the tool itself?
</I>

Well, I took the time to create a configure script and Visual Studio
projects. Still, people have problems with this and I think that as soon
as it goes wrong, your make install would be more confusing than a
simple bash script. If you are using Maven, then there is no need to do
any of this because maven already knows where to get the latest jars
from and how to build .g files using it. This is only useful for java
output though of course.



&gt;<i> 
</I>&gt;<i> &gt; Note that the Maven build, as well as constructing the ANTLR 
</I>&gt;<i> &gt; .jar file also creates a complete executable (I.e Java -jar) 
</I>&gt;<i> &gt; jar file that includes all the dependencies  to make things 
</I>&gt;<i> &gt; easier for developers.
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> Ok, so can't it go the last mile and also create a simple shell script
</I>&gt;<i> wrapper so I can:
</I>&gt;<i> 
</I>&gt;<i> 	$ antlr MyGrammar.g
</I>&gt;<i> 
</I>&gt;<i> ?  In fact, rumor has it that the Maven tool of which you speak uses exactly
</I>&gt;<i> that approach itself.
</I>&gt;<i> 
</I>&gt;<i> To answer my own question, I broke out my autotools- and script-fu last
</I>&gt;<i> night and rolled an automake+autoconf+built-shell-script which does in fact
</I>&gt;<i> allow me to:
</I>&gt;<i> 
</I>&gt;<i> 	$ ./configure
</I>&gt;<i> 	$ make
</I>&gt;<i> 	$ make install
</I>&gt;<i> 	$ antlr
</I>&gt;<i> 	ANTLR Parser Generator  Version 3.1.1
</I>&gt;<i> 	[etc etc]
</I>&gt;<i> 
</I>&gt;<i> The JARs aren't actually built, but rather the pre-built one in the source
</I>&gt;<i> distro's /lib directory is installed, and the &quot;antlr&quot; shell script is
</I>&gt;<i> generated from a template (a default Java interpreter and the path to the
</I>&gt;<i> JAR are substituted).  &quot;make install&quot; puts everything in reasonable places
</I>&gt;<i> and, Bob's your uncle, everything works just as it should.
</I>&gt;<i> 
</I>&gt;<i> Terence (or anybody), any interest in this?  I could certainly BSD-license
</I>&gt;<i> it and contribute it.
</I>
You know - I was just trying to point you in the right direction - there
is no need to get all huffy, rant at me about being in the wrong century
and complain that ANTLR isn't an instant install on your particular
system and so on. All you need is the composite jar and:

#! /bin/bash
java -jar whereverthejaris.jar $*

With make install, you have to detect the java install, find the
dependencies, it only works on *nix etc. Generic installers are a lot
more work and maintaining a configure script for this does not seem
worth it to me - it is Ter's call in the end though.

Jim


&gt;<i> 
</I>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20081130/34bc98ca/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20081130/34bc98ca/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031786.html">[antlr-interest] ANTLR installation/use on Unix
</A></li>
	<LI>Next message: <A HREF="031795.html">[antlr-interest] ANTLR installation/use on Unix
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31793">[ date ]</a>
              <a href="thread.html#31793">[ thread ]</a>
              <a href="subject.html#31793">[ subject ]</a>
              <a href="author.html#31793">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
