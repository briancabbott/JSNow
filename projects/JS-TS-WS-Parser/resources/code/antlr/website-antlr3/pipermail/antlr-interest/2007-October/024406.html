<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Mismatched Token with String and Newline
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Mismatched%20Token%20with%20String%20and%20Newline&In-Reply-To=%3C6F7F118281893140B2E80FA4F9331BC626F74E%40email.innoimm.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024405.html">
   <LINK REL="Next"  HREF="024407.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Mismatched Token with String and Newline</H1>
    <B>Robert.Klaus at innovations.de</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Mismatched%20Token%20with%20String%20and%20Newline&In-Reply-To=%3C6F7F118281893140B2E80FA4F9331BC626F74E%40email.innoimm.local%3E"
       TITLE="[antlr-interest] Mismatched Token with String and Newline">Robert.Klaus at innovations.de
       </A><BR>
    <I>Fri Oct 26 02:25:05 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024405.html">[antlr-interest] bootstrapping Antlr 3
</A></li>
        <LI>Next message: <A HREF="024407.html">[antlr-interest] Mismatched Token with String and Newline
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24406">[ date ]</a>
              <a href="thread.html#24406">[ thread ]</a>
              <a href="subject.html#24406">[ subject ]</a>
              <a href="author.html#24406">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have a problem with lexing Strings and I'm thinking I have done
something wrong. When entering the grammar below in ANTLRWorks and use
the interpreter with the input &quot;\n&quot; it works fine. When I enter a line
break after the &quot;\n&quot; I get a MismatchedTokenException.

In a unit test, I parsed this input:
String input = &quot;\&quot;\\n\&quot;\r\n&quot;;

And ANTLR responded with:
line 1:1 no viable alternative at character '\'
line 2:0 mismatched character '&lt;EOF&gt;' expecting '&quot;'

I compared this to the Java.g in the examples and it seem to be quite
similar, so I'm quite clueless now.

Can anybody help me find the mistake?

Thanks in advance,

Robert



grammar testMe;

options
{
	language = 'Java'
}

parse
:<i>
</I>foo EOF
;

foo	:
	STRING	
	;



STRING
:<i>
</I>'&quot;' (CHARACTER | ~('\\'|'&quot;'))* '&quot;'
	;
	
fragment CHARACTER
	:
		
		('\\' ('n'|'t'|'r'|'\\'|'&quot;'))		
		| ('\\u' HEX_CHAR HEX_CHAR HEX_CHAR HEX_CHAR)
	;
	
fragment HEX_CHAR
	:
		DIGIT | 'A'..'F'
	;
	
fragment DIGIT 
	:	
		'0'..'9'
	;
	
NEWLINE :	'\r'? '\n' ;
WS 	:	(' ' | '\t' | '\f')+ ;

-------------------------------------------------------------
Robert Klaus
Diplom Informatiker
Product Development
-------------------------------------------------------------
Innovations Softwaretechnologie GmbH
Ziegelei 7
88090 Immenstaad
Germany
Phone: +49(0)7545-202-339
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">robert.klaus at innovations.de</A>
www.visual-rules.com
-------------------------------------------------------------
Executives: 
Achim Berger, Thomas Cotic, Walter Pitz
Register Court Ulm HRB 631622
-------------------------------------------------------------
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024405.html">[antlr-interest] bootstrapping Antlr 3
</A></li>
	<LI>Next message: <A HREF="024407.html">[antlr-interest] Mismatched Token with String and Newline
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24406">[ date ]</a>
              <a href="thread.html#24406">[ thread ]</a>
              <a href="subject.html#24406">[ subject ]</a>
              <a href="author.html#24406">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
