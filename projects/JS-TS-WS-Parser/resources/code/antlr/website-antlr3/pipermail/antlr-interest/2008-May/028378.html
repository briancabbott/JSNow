<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Newbie: Token/Rule Difference [again..]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Newbie%3A%20Token/Rule%20Difference%20%5Bagain..%5D&In-Reply-To=%3C4836E02B.9080801%40inf.tu-dresden.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028377.html">
   <LINK REL="Next"  HREF="028379.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Newbie: Token/Rule Difference [again..]</H1>
    <B>Andreas Bartho</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Newbie%3A%20Token/Rule%20Difference%20%5Bagain..%5D&In-Reply-To=%3C4836E02B.9080801%40inf.tu-dresden.de%3E"
       TITLE="[antlr-interest] Newbie: Token/Rule Difference [again..]">andreas.bartho at inf.tu-dresden.de
       </A><BR>
    <I>Fri May 23 08:18:03 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="028377.html">[antlr-interest] Newbie: Token/Rule Difference [again..]
</A></li>
        <LI>Next message: <A HREF="028379.html">[antlr-interest] Newbie: Token/Rule Difference [again..]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28378">[ date ]</a>
              <a href="thread.html#28378">[ thread ]</a>
              <a href="subject.html#28378">[ subject ]</a>
              <a href="author.html#28378">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

in your first grammar a single letter is matched by LETTER, i.e. the 
parser receives the LETTER token, but expects the WORD token, which 
causes the error. As you probably do not want LETTER to be a token but 
only a helper rule, try adding the fragment keyword. The same holds for 
digit:

grammar G1;
q	:	WORD;

fragment
LETTER 	:	('a'..'z' | 'A'..'Z');

fragment
DIGIT 	:	'0'..'9';

WORD	:	(DIGIT | LETTER)+;

This should work
	Andreas


Trey Cool Shonuff wrote:
&gt;<i> Hi all,
</I>&gt;<i> I'm totally new to ANTLR and the last time I've really fiddled with language processing was back in college.
</I>&gt;<i> Please help me tell why the following two, similar grammars behave differently:
</I>&gt;<i> 
</I>&gt;<i> grammar G1;
</I>&gt;<i> q	:	WORD;
</I>&gt;<i> LETTER 	:	('a'..'z' | 'A'..'Z');
</I>&gt;<i> DIGIT 	:	'0'..'9';
</I>&gt;<i> WORD	:	(DIGIT | LETTER)+;
</I>&gt;<i> --------
</I>&gt;<i> 
</I>&gt;<i> grammar G2;
</I>&gt;<i> q	:	(DIGIT | LETTER)+;
</I>&gt;<i> LETTER 	:	('a'..'z' | 'A'..'Z');
</I>&gt;<i> DIGIT 	:	'0'..'9';
</I>&gt;<i> --------
</I>&gt;<i> 
</I>&gt;<i> I thought that these two were equivalent, however, G1 does not recognize the single-character sentence (throws MismatchedTokenException), while G2 does.
</I>&gt;<i> 
</I>&gt;<i> Can you tell me what the actual difference is?
</I>&gt;<i> Than You,
</I>&gt;<i> -Trevor.
</I>
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028377.html">[antlr-interest] Newbie: Token/Rule Difference [again..]
</A></li>
	<LI>Next message: <A HREF="028379.html">[antlr-interest] Newbie: Token/Rule Difference [again..]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28378">[ date ]</a>
              <a href="thread.html#28378">[ thread ]</a>
              <a href="subject.html#28378">[ subject ]</a>
              <a href="author.html#28378">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
