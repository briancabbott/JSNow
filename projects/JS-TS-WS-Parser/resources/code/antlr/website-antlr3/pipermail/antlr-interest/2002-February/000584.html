<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Re: failing to automate .g files building with visualc under windows 2000
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20failing%20to%20automate%20.g%20files%20building%20with%20visualc%20under%20windows%202000&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000580.html">
   <LINK REL="Next"  HREF="000579.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Re: failing to automate .g files building with visualc under windows 2000</H1>
    <B>Thomas Dudziak</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Re%3A%20failing%20to%20automate%20.g%20files%20building%20with%20visualc%20under%20windows%202000&In-Reply-To="
       TITLE="[antlr-interest] Re: failing to automate .g files building with visualc under windows 2000">tomdz at cs.tu-berlin.de
       </A><BR>
    <I>Mon Feb  4 10:20:42 PST 2002</I>
    <P><UL>
        <LI>Previous message: <A HREF="000580.html">[antlr-interest] Re: failing to automate .g files building with visualc under windows 2000
</A></li>
        <LI>Next message: <A HREF="000579.html">[antlr-interest] failing to automate .g files building with visualc under windows 2000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#584">[ date ]</a>
              <a href="thread.html#584">[ thread ]</a>
              <a href="subject.html#584">[ subject ]</a>
              <a href="author.html#584">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hmm, I wasn't able to re-produce an &quot;invalid command&quot; error. Perhaps I can
help you by giving the steps that I use to include grammar files in the
build process:

(1)
I add the grammar files to the project (e.g. lexer, parser, tree grammar).
They should show up in the top-level in the project with an icon with a
down-arrow in it.

(2)
For each grammar file, I add the custom build settings to the project
settings. Typically this only consists of a call to the antlr tool :

java.exe -classpath %CLASSPATH% antlr.Tool -o $(InputDir) $(InputPath)

The variable InputPath contains the (relative) path to the grammar file
complete with filename and extension. As Andy Carpenter pointed out, you
could also use InputName, but this does not include the path nor the
extension (hence the additional &quot;.g&quot;).
If I want to put the generated files elsewhere, I change the -o argument
accordingly.
A simple test as to whether this call works, can be done with a plain
command prompt in the directory where the project file (.dsp) resides, and
using the actual input path (which can be copied from the build output frame
after building a grammar).

I insert the names of the output files in the output files box later on, and
provide some dummy text now (VisualC++ requires some text here). The main
reason for this is that I'm usually too lazy to look into the grammer for
the type names.

(3)
I perform the build step on the grammars (only). This generates several
source and header files whose names I now add to the output files box. I
also add the generated files to the project.

Hope this helps,
Ciao, Tom



 

Your use of Yahoo! Groups is subject to <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A> 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000580.html">[antlr-interest] Re: failing to automate .g files building with visualc under windows 2000
</A></li>
	<LI>Next message: <A HREF="000579.html">[antlr-interest] failing to automate .g files building with visualc under windows 2000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#584">[ date ]</a>
              <a href="thread.html#584">[ thread ]</a>
              <a href="subject.html#584">[ subject ]</a>
              <a href="author.html#584">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
