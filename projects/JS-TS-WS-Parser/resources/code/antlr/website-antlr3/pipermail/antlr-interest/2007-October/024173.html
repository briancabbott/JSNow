<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Easier way to do string literals?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Easier%20way%20to%20do%20string%20literals%3F&In-Reply-To=%3C97516A73-942D-4E5B-8E13-5D365CF170DA%40latencyzero.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024186.html">
   <LINK REL="Next"  HREF="024176.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Easier way to do string literals?</H1>
    <B>Rick Mann</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Easier%20way%20to%20do%20string%20literals%3F&In-Reply-To=%3C97516A73-942D-4E5B-8E13-5D365CF170DA%40latencyzero.com%3E"
       TITLE="[antlr-interest] Easier way to do string literals?">rmann at latencyzero.com
       </A><BR>
    <I>Sun Oct 14 22:13:54 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024186.html">[antlr-interest] Returning an array type
</A></li>
        <LI>Next message: <A HREF="024176.html">[antlr-interest] Easier way to do string literals?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24173">[ date ]</a>
              <a href="thread.html#24173">[ thread ]</a>
              <a href="subject.html#24173">[ subject ]</a>
              <a href="author.html#24173">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I was trying to do &quot;-delimited string literals based on the C  
example, and I get rules like this:

StringLiteral returns [String s]
     :  '&quot;' StringGuts '&quot;' { $s = $StringGuts.text; }
     ;

fragment
StringGuts :	( EscapeSequence | ~('\\'|'&quot;') )* ;

fragment
EscapeSequence
	:	'\\' ('b'|'t'|'n'|'f'|'r'|'\&quot;'|'\''|'\\');



But it's not really working quite like I'd expect. The resulting text  
includes the quotes, and the escapes don't seem to really turn into  
the actual characters (I realize I need something more there).

The action of a later rule takes the resulting text and converts it  
into something more useable, and in that I strip off the quotes, but  
I need to also run through the text and handle the escapes. This  
seems like the wrong approach, since it means I'm writing parse code  
in Java, which strikes me as underutilizing ANTLR.

What should I do instead?

TIA,
Rick

</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024186.html">[antlr-interest] Returning an array type
</A></li>
	<LI>Next message: <A HREF="024176.html">[antlr-interest] Easier way to do string literals?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24173">[ date ]</a>
              <a href="thread.html#24173">[ thread ]</a>
              <a href="subject.html#24173">[ subject ]</a>
              <a href="author.html#24173">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
