<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] AST if-then-else
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20AST%20if-then-else&In-Reply-To=%3CA737869DDF35D44A89A7210DDA6F622B01A8CAAC0C%40mail-ny02.rmg-ny.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034656.html">
   <LINK REL="Next"  HREF="034779.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] AST if-then-else</H1>
    <B>Frank Du</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20AST%20if-then-else&In-Reply-To=%3CA737869DDF35D44A89A7210DDA6F622B01A8CAAC0C%40mail-ny02.rmg-ny.com%3E"
       TITLE="[antlr-interest] AST if-then-else">frank.du at riskmetrics.com
       </A><BR>
    <I>Mon Jun  1 12:59:34 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="034656.html">[antlr-interest] AST if-then-else
</A></li>
        <LI>Next message: <A HREF="034779.html">[antlr-interest] Retrieving node index
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34657">[ date ]</a>
              <a href="thread.html#34657">[ thread ]</a>
              <a href="subject.html#34657">[ subject ]</a>
              <a href="author.html#34657">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Florian,

There are 2 things to resolve your problem:

1. Please use antlr-v3.1.2 instead. I verified a bug in 3.1.3, which caused errors in the tree interpreter example.

2. To implement if-else-statement tree walker, we can use wildcard and tree node stream index jumping. You may want to look at the example implementation by Scott Fortmann-Roe:
<A HREF="http://www.antlr.org/share/1178224532340/cminus.zip">http://www.antlr.org/share/1178224532340/cminus.zip</A>

Please let me know if I can get you more information.

Thanks,
Frank Qixing Du
Platform Development Group
RiskMetrics Group, New York

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Florian Putz
Sent: Monday, June 01, 2009 2:47 PM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: [antlr-interest] AST if-then-else

Hello,

I have a parser grammar that creates an AST. My rule for if-then-else 
looks like:

e     :  (IF cond=p THEN ifStat=e ELSE elseStat=e ENDIF ) -&gt; ^(IF $cond 
$ifStat $elseStat)

This creates a correct AST node containing the IF and its children. In 
my tree grammar I match the node now with this rule:

e : ^(IF cond=p ifstat=e elstat=e)

The matching also works fine. My problem is now that I did not find a 
single working example on the web and neither in the book of how to 
evaluate ifstat and elstat. PS: I use the latest ANTLR Release (3.1.3). 
There is an example at 
<A HREF="http://www.antlr.org/wiki/display/CS652/Tree-based+interpreters,">http://www.antlr.org/wiki/display/CS652/Tree-based+interpreters,</A> but it 
also does not work. I just want to know how the java code would look 
like to execute either the then or the else part of the subtree.

Any help greatly appricited.

Thx in advance,
flo

List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034656.html">[antlr-interest] AST if-then-else
</A></li>
	<LI>Next message: <A HREF="034779.html">[antlr-interest] Retrieving node index
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34657">[ date ]</a>
              <a href="thread.html#34657">[ thread ]</a>
              <a href="subject.html#34657">[ subject ]</a>
              <a href="author.html#34657">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
