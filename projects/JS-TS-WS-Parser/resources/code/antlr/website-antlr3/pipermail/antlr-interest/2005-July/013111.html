<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Stack overflow problem with C++
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Stack%20overflow%20problem%20with%20C%2B%2B&In-Reply-To=20050719161442.4A521DCC31%40www.antlr.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013110.html">
   <LINK REL="Next"  HREF="013112.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Stack overflow problem with C++</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Stack%20overflow%20problem%20with%20C%2B%2B&In-Reply-To=20050719161442.4A521DCC31%40www.antlr.org"
       TITLE="[antlr-interest] Stack overflow problem with C++">ric.klaren at gmail.com
       </A><BR>
    <I>Tue Jul 19 10:48:41 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013110.html">[antlr-interest] Stack overflow problem with C++
</A></li>
        <LI>Next message: <A HREF="013112.html">[antlr-interest] Stack overflow problem with C++
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13111">[ date ]</a>
              <a href="thread.html#13111">[ thread ]</a>
              <a href="subject.html#13111">[ subject ]</a>
              <a href="author.html#13111">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jorg Halker wrote:
&gt;<i> Okay, i tried it with linux (feodora core 2) and gcc (v3.2.2). It looks like
</I>&gt;<i> that the stack is larger there. So if i count until 150000 i have the same
</I>&gt;<i> problem with linux and gcc: segmentation fault/stack overflow. But if i set
</I>&gt;<i> up a parser which parses a file and creates an ast with the same amount of
</I>&gt;<i> ast nodes like the loop from the code snippet does, everything is fine and
</I>&gt;<i> the program exits well.
</I>&gt;<i> 
</I>&gt;<i> Is it intended that the loop creates objects on the stack?? am i wrong if i
</I>&gt;<i> think that the stack should not overflow because the objects should be
</I>&gt;<i> created on the heap?? 
</I>
Hmmm my guess is then that it's the reference counter that recurses too
deep while destroying the tree structure. Note that the structure you
made is very deep probably deeper than any 'real' AST would be.

Destroying the tree 'manually' with a stack you yourself maintain on the
heap might be a solution. Actually I now recall a person running into
this as well but that was a few years ago.

Cheers,

Ric
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013110.html">[antlr-interest] Stack overflow problem with C++
</A></li>
	<LI>Next message: <A HREF="013112.html">[antlr-interest] Stack overflow problem with C++
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13111">[ date ]</a>
              <a href="thread.html#13111">[ thread ]</a>
              <a href="subject.html#13111">[ subject ]</a>
              <a href="author.html#13111">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
