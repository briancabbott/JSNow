<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] unicode strings using supplemental char range
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20unicode%20strings%20using%20supplemental%20char%20range&In-Reply-To=40E02F44.3050805%40softax.pl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008475.html">
   <LINK REL="Next"  HREF="008467.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] unicode strings using supplemental char range</H1>
    <B>Ric Klaren</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20unicode%20strings%20using%20supplemental%20char%20range&In-Reply-To=40E02F44.3050805%40softax.pl"
       TITLE="[antlr-interest] unicode strings using supplemental char range">klaren at cs.utwente.nl
       </A><BR>
    <I>Mon Jun 28 08:12:56 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008475.html">[antlr-interest] unicode strings using supplemental char range
</A></li>
        <LI>Next message: <A HREF="008467.html">[antlr-interest] unicode strings using supplemental char range
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8476">[ date ]</a>
              <a href="thread.html#8476">[ thread ]</a>
              <a href="subject.html#8476">[ subject ]</a>
              <a href="author.html#8476">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jun 28, 2004 at 04:46:28PM +0200, Sebastian Kaliszewski wrote:
&gt;<i> I'm writting an interpreter of not too complicated OO language. But even at
</I>&gt;<i> the early stage when I've just basic interpreter working but with
</I>&gt;<i> minimalistic run-time support the UPX compressed statically linked stripped
</I>&gt;<i> executable is already above 600KB and uncompressed dynamically linked debug
</I>&gt;<i> executable is above 3MB (and most of that is ANTLR generated stuff). I'm
</I>&gt;<i> affraid of including yet another heavy library will add too much weight.
</I>
I would not want to make ICU a default thing. It's just plain too much
bagage, at least I don't want to see it end up in my projects where the
input is plain ASCII. But for some cases it might be desirable to be able
to plug some ICU classes into a lexer/parser chain.

Note: You can probably cut off 100k from the support lib by removing the
'hidden' versions of some classes (on x86). The generated code you can
probably tinker a bit with the bitset gen options and see what produces
smaller code if it really becomes an issue.

&gt;<i> Well, if you accept that users of ANTLR must have standard compliant C++
</I>&gt;<i> library (as standard is now 5 years old I don't think it's requiring too
</I>&gt;<i> much, and for those using ancient stuff there is free STLport as well as few
</I>&gt;<i> commercial offerings to use) then getting basic stuff done is not much more
</I>&gt;<i> than making char_traits class for 32bit integers + some simple,
</I>&gt;<i> non-normalizing utf-8 decoder (in a streambuf?).
</I>
I hope so :)

&gt;<i> If you need/want a volunteer to do such an skeleton stuff, I'm here.
</I>
Adding you to the list :)

&gt;<i> &gt; I'm not sure but don't we need this on the C++ side? We have no java to
</I>&gt;<i> &gt; this stuff for us. So at least I'd like to be able to feed a UTF-8 string
</I>&gt;<i> &gt; to ANTLR out of the box without deriving some custom classes. Live is a lot
</I>&gt;<i> &gt; easier on the lexer side if it only has to deal with unicode characters. So
</I>&gt;<i> &gt; some input stream decoding will be necessary. On second thought this
</I>&gt;<i> &gt; probably does not need transcoding/normalization just the decoding for
</I>&gt;<i> &gt; UTF-xx.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Question: How to deal with the unicode characters that are beyond 32 bits
</I>&gt;<i> &gt; they'd need a more expensive struct to have all bits or do we have to make
</I>&gt;<i> &gt; the lexers operate on UTF-32.
</I>&gt;<i>
</I>&gt;<i> ???
</I>&gt;<i> Well, it's in the Unicode FAQ, taht they're even not going beyond 21bits, so
</I>&gt;<i> 32bit's seems safe for a foreseable future.
</I>
/Add's coffee /hits himself for the head ;) I was babbling nonsense there.

Cheers,

Ric
--
-----+++++*****************************************************+++++++++-------
    ---- Ric Klaren ----- <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">j.klaren at utwente.nl</A> ----- +31 53 4893755  ----
-----+++++*****************************************************+++++++++-------
  Before they invented drawing boards, what did they go back to?



 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008475.html">[antlr-interest] unicode strings using supplemental char range
</A></li>
	<LI>Next message: <A HREF="008467.html">[antlr-interest] unicode strings using supplemental char range
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8476">[ date ]</a>
              <a href="thread.html#8476">[ thread ]</a>
              <a href="subject.html#8476">[ subject ]</a>
              <a href="author.html#8476">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
