<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Lexer.getNumberOfSyntaxErrors not reliable;	is this a bug?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer.getNumberOfSyntaxErrors%20not%20reliable%3B%0A%09is%20this%20a%20bug%3F&In-Reply-To=%3Cdc07c6b0905060718t4831690cq9ea4aa46ba6a7c19%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034329.html">
   <LINK REL="Next"  HREF="034333.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Lexer.getNumberOfSyntaxErrors not reliable;	is this a bug?</H1>
    <B>Johan Cockx</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Lexer.getNumberOfSyntaxErrors%20not%20reliable%3B%0A%09is%20this%20a%20bug%3F&In-Reply-To=%3Cdc07c6b0905060718t4831690cq9ea4aa46ba6a7c19%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Lexer.getNumberOfSyntaxErrors not reliable;	is this a bug?">johan at sikanda.be
       </A><BR>
    <I>Wed May  6 07:18:25 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="034329.html">[antlr-interest] Doubt regarding Tree grammar
</A></li>
        <LI>Next message: <A HREF="034333.html">[antlr-interest] Lexer.getNumberOfSyntaxErrors not reliable; is this a bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34332">[ date ]</a>
              <a href="thread.html#34332">[ thread ]</a>
              <a href="subject.html#34332">[ subject ]</a>
              <a href="author.html#34332">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am using ANTLR 3.1.3.

The class BaseRecognizer has a method getNumberOfSyntaxErrors() that is
supposed to return the number of syntax errors detected.

The count is maintained in BaseRecognizer.reportError(...).

However,  the Lexer class overrides this method and does not update the
syntax error count when a lexer error is reported.  As a result,  the syntax
error count is not reliable in the lexer.

The only way to reliably count lexer syntax errors seems to be to override
reportError again and maintain the count yourself.

Is this a bug?  If it is a feature,  it seems to be an undocumented one.

Is there a better way to detect whether an error has ocurred during
parsing?  I could not find a way to suppress error recovery in the lexer,
and the comment in the Lexer.reportError implementation is not very
promising: it reads &quot;TODO: not thought about recovery in lexer yet.&quot;

I am looking for a way to reliably detect whether my ANTLR-generated parser
and lexer have detected any syntax errors.

Regards, Johan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090506/a7c3b139/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090506/a7c3b139/attachment.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034329.html">[antlr-interest] Doubt regarding Tree grammar
</A></li>
	<LI>Next message: <A HREF="034333.html">[antlr-interest] Lexer.getNumberOfSyntaxErrors not reliable; is this a bug?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34332">[ date ]</a>
              <a href="thread.html#34332">[ thread ]</a>
              <a href="subject.html#34332">[ subject ]</a>
              <a href="author.html#34332">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
