<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] sentences of a grammar
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20sentences%20of%20a%20grammar&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016557.html">
   <LINK REL="Next"  HREF="016726.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] sentences of a grammar</H1>
    <B>Gerrie Myburg  [ MTN - Innovation Centre ]</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20sentences%20of%20a%20grammar&In-Reply-To="
       TITLE="[antlr-interest] sentences of a grammar">Myburg_G at mtn.co.za
       </A><BR>
    <I>Fri Jun  9 02:24:27 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="016557.html">AW: [antlr-interest] Problem: part of AST gets lost in limbo
</A></li>
        <LI>Next message: <A HREF="016726.html">[antlr-interest] sentences of a grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16560">[ date ]</a>
              <a href="thread.html#16560">[ thread ]</a>
              <a href="subject.html#16560">[ subject ]</a>
              <a href="author.html#16560">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I write some code that will take an antlr grammar definition, create a
graph from the grammar and will try to generate all possible sentences
from the grammar. The following rules are used to avoid infinite length
sentences.

(a)* is rewritten as ( |a|aa| ... ) to a max limit 
(a)+ is rewritten as ( a|aa| ... ) to a max limit
(a)? is rewritten as ( |a) 

Recursive loops are avoided by entering the loop once and once only.
Infinite recursion is detected and reported.

The sentences are created by finding all possible paths in the grammar
graph. Backtracking is used in the graph at every point in the path
where a '|' is encountered.

Token references are resolved at the moment by referring to a map of
token ref definitions. If no definition is supplied then the token ref
string is used instead.

The code is meant to be used on a grammar that has already been passed
by the antlr compiler.

I wrote the code to test the tree parser of a sql compiler. While
testing the code I found that the number of sentences generated for some
of the sql rules is enormous. The number of sentences can run into the
millions for most rules. The antlr grammar in turn yields about 8000
sentences.

The only sensible way of using the code is to generate a sentence then
feed it to the destination compiler directly instead of writing out a
file.

The sentences are not necessarily semantically correct at the moment. In
fact I am sure that it is not the case.

Does anyone want me to upload the code to the antlr website?


NOTE: This e-mail message is subject to the MTN Group disclaimer see <A HREF="http://www.mtn.co.za/disclaimer">http://www.mtn.co.za/disclaimer</A>

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016557.html">AW: [antlr-interest] Problem: part of AST gets lost in limbo
</A></li>
	<LI>Next message: <A HREF="016726.html">[antlr-interest] sentences of a grammar
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16560">[ date ]</a>
              <a href="thread.html#16560">[ thread ]</a>
              <a href="subject.html#16560">[ subject ]</a>
              <a href="author.html#16560">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
