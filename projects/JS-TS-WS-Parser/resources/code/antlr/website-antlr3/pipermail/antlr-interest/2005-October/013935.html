<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Complaints about BaseAST implementation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Complaints%20about%20BaseAST%20implementation&In-Reply-To=434D7E3B.5080603%40jazillian.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013933.html">
   <LINK REL="Next"  HREF="013942.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Complaints about BaseAST implementation</H1>
    <B>Akhilesh Mritunjai</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Complaints%20about%20BaseAST%20implementation&In-Reply-To=434D7E3B.5080603%40jazillian.com"
       TITLE="[antlr-interest] Complaints about BaseAST implementation">virtualaspirin at yahoo.com
       </A><BR>
    <I>Wed Oct 12 14:45:29 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="013933.html">[antlr-interest] Complaints about BaseAST implementation
</A></li>
        <LI>Next message: <A HREF="013942.html">[antlr-interest] Complaints about BaseAST implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13935">[ date ]</a>
              <a href="thread.html#13935">[ thread ]</a>
              <a href="subject.html#13935">[ subject ]</a>
              <a href="author.html#13935">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Andy

Thanks for the fast reply :)

The good news is that splitting is not even required.
Just move the fields and get/setFirstChild() and
get/setNextSibling to CommonAST and ParseTree classes
and its done and nobody's code will break if they
inherit from CommonAST. I doubt anybody directly
subclasses BaseAST because type and text are basic
properties that pretty much everyone needs, but even
if they do, they can add the two fields and four
getter/setter methods. It would be safe for them too
because rather than code silently breaking, now
compiler will throw an error.

--- Andy Tripp &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">atripp at jazillian.com</A>&gt; wrote:
&gt;<i> * You'll still want the &quot;type&quot; and &quot;text&quot; fields in
</I>&gt;<i> the base class, I assume -
</I>&gt;<i> I can't imagine an AST that doesn't need these
</I>
They're there only for ParseTree, ParseTreeRule and
ParseTreeToken classes... they don't need type or text
:<i>) So I removed them from BaseAST and put them there.
</I>
&gt;<i> * I'm still having trouble picturing why you would
</I>&gt;<i> want to implement
</I>&gt;<i> these &quot;down&quot; and &quot;right&quot; fields any other way. I
</I>&gt;<i> don't doubt that you need
</I>&gt;<i> to do it, I'm just saying I can't picture it. So in
</I>
Well. One revealation. I work in an EDA tools starup
and am currently lead for developing a compiler and
analyzer for a leading HDL. The trees generated can
have 1-50 million nodes depending on type of input,
which of course I can't keep in memory because memory
requirements for tree alone goes into several
gigabytes. For that I have designed something that is
like a pluggable smart paging mechanism for tree
nodes... it breaks and reconstructs tree fragments on
the fly without ANTLR or our compiler knowing
anything. I can't reveal much without further
permission, but lets just say we're pushing ANTLR to
its limits :) Ah, and we are extremely happy ;-)

&gt;<i> the end, it may not 
</I>&gt;<i> be worth
</I>&gt;<i> it for Terrence to fold in this change, because you
</I>&gt;<i> may be the only
</I>&gt;<i> person who ends up needing/wanting it. I know
</I>&lt;snip&gt;
&gt;<i> Making your change may
</I>&gt;<i> be an improvement, but the current design has worked
</I>&gt;<i> just fine for every 
</I>&gt;<i> ANTLR user for many years, AFAICT.
</I>
It is ok. My obligation is just to inform about the
shortcomings I find while pushing the limits :)

One processor, 640kb RAM, petroleum burning cars etc
also worked for everyone for many years... until some
people pushed the limits (I know... bad analogies, but
I think the idea is clear) :-)

- Akhilesh



		
__________________________________ 
Yahoo! Music Unlimited 
Access over 1 million songs. Try it free.
<A HREF="http://music.yahoo.com/unlimited/">http://music.yahoo.com/unlimited/</A>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013933.html">[antlr-interest] Complaints about BaseAST implementation
</A></li>
	<LI>Next message: <A HREF="013942.html">[antlr-interest] Complaints about BaseAST implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13935">[ date ]</a>
              <a href="thread.html#13935">[ thread ]</a>
              <a href="subject.html#13935">[ subject ]</a>
              <a href="author.html#13935">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
