<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] ANTLRv2.7.7 versus ANTLRv3.4:	java.lang.OutOfMemoryError: Java heap
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLRv2.7.7%20versus%20ANTLRv3.4%3A%0A%09java.lang.OutOfMemoryError%3A%20Java%20heap&In-Reply-To=%3C5007C87B.2090007%40orange.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044932.html">
   <LINK REL="Next"  HREF="044940.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] ANTLRv2.7.7 versus ANTLRv3.4:	java.lang.OutOfMemoryError: Java heap</H1>
    <B>Francis ANDRE</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20ANTLRv2.7.7%20versus%20ANTLRv3.4%3A%0A%09java.lang.OutOfMemoryError%3A%20Java%20heap&In-Reply-To=%3C5007C87B.2090007%40orange.fr%3E"
       TITLE="[antlr-interest] ANTLRv2.7.7 versus ANTLRv3.4:	java.lang.OutOfMemoryError: Java heap">francis.andre.kampbell at orange.fr
       </A><BR>
    <I>Thu Jul 19 01:42:35 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044932.html">[antlr-interest] ANTLRv2.7.7 versus ANTLRv3.4: specialStateTransition(int, IntStream) is exceeding the 65535
</A></li>
        <LI>Next message: <A HREF="044940.html">[antlr-interest] ANTLRv2.7.7 versus ANTLRv3.4: java.lang.OutOfMemoryError: Java heap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44936">[ date ]</a>
              <a href="thread.html#44936">[ thread ]</a>
              <a href="subject.html#44936">[ subject ]</a>
              <a href="author.html#44936">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi antlr listeners


When migrating from antlrv2.7.7 to antlr v3.4 a quite huge grammar (3500+ lines, 
350 rules), I got an java.lang.OutOfMemoryError: Java heap space while already 
running the jvm with a heap of 512m.

Does somebody faced the same situation?? Is there a solution to avoid reworking 
the grammar??

If possible, I would prefer not to change the grammar -- except the syntactic 
sugar of the migration -- since both execution of the generated parser/lexer for 
antlrv2 and antlrv3 should give the same result.

Thanks for your help

Francis


building lookahead DFA (d=142) for ()+ loopback of 785:4: (v= computeTarget )+
convert DFA state 0 (469 nfa states)
convert DFA state 1 (40 nfa states)
convert DFA state 2 (10011 nfa states)
convert DFA state 3 (10011 nfa states)
convert DFA state 33 (9972 nfa states)
convert DFA state 34 (9972 nfa states)
convert DFA state 39 (9890 nfa states)
convert DFA state 40 (9888 nfa states)
convert DFA state 43 (96 nfa states)
convert DFA state 44 (1296 nfa states)
convert DFA state 147 (621 nfa states)
convert DFA state 153 (1296 nfa states)
convert DFA state 256 (621 nfa states)
convert DFA state 262 (1296 nfa states)
convert DFA state 351 (530 nfa states)
Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:612)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:682)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:764)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:764)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:764)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:764)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:682)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:764)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:682)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:682)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:764)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:682)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:764)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:708)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:764)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:764)
     at org.antlr.analysis.NFAToDFAConverter.closure(NFAToDFAConverter.java:764)

</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044932.html">[antlr-interest] ANTLRv2.7.7 versus ANTLRv3.4: specialStateTransition(int, IntStream) is exceeding the 65535
</A></li>
	<LI>Next message: <A HREF="044940.html">[antlr-interest] ANTLRv2.7.7 versus ANTLRv3.4: java.lang.OutOfMemoryError: Java heap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44936">[ date ]</a>
              <a href="thread.html#44936">[ thread ]</a>
              <a href="subject.html#44936">[ subject ]</a>
              <a href="author.html#44936">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
