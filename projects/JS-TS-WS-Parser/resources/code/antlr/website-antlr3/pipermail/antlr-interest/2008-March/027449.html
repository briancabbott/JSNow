<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Matching the * character
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Matching%20the%20%2A%20character&In-Reply-To=%3CE51BD230BBA3A64B9C01EF1A20EF5AE61C4D68%40pspub1.pivotal-solutions.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027443.html">
   <LINK REL="Next"  HREF="027450.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Matching the * character</H1>
    <B>Steve O'Hara</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Matching%20the%20%2A%20character&In-Reply-To=%3CE51BD230BBA3A64B9C01EF1A20EF5AE61C4D68%40pspub1.pivotal-solutions.co.uk%3E"
       TITLE="[antlr-interest] Matching the * character">sohara at pivotal-solutions.co.uk
       </A><BR>
    <I>Thu Mar 27 16:27:33 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027443.html">[antlr-interest] Is ANTLR Yggdrasil supported by ANTLRWorks?	(WAS: % in target code)
</A></li>
        <LI>Next message: <A HREF="027450.html">[antlr-interest] Matching the * character
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27449">[ date ]</a>
              <a href="thread.html#27449">[ thread ]</a>
              <a href="subject.html#27449">[ subject ]</a>
              <a href="author.html#27449">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm new to Antlr so forgive me if this is a stupid question...
I'm trying to match a database search criteria that looks like the
following;

 

'some text'*, *'more criteria' &amp; 'more criteria'*


My grammar is;

 

expression

    : subExpression (WS? (COMMA | AMPERSAND) WS? subExpression)*

    ;

 

subExpression

    : WS? (Identifier | subExpressionText) WS?

    ;

 

subExpressionText

    :  (STAR | QUESTION*)? QuotedString  (STAR | QUESTION*)? WS?

    ;

 

Letter : 'a'..'z' | 'A'..'Z' | '_' | '\u0080'..'\ufffe' ;

Digit : '0'..'9' ;

Identifier : Letter (Letter | Digit)* ;

QuotedString :'\'' (~'\'')* '\'' ;

WS : (' ' | '\t' | '\n' | '\r')+ ;

 

COMMA : ',' ;

AMPERSAND : '&amp;' ;

QUESTION : '?' ;

STAR : '*' ;


The parser finds the first quoted string (some text) but fails after
that with a NoViableAltException. If I change the * to ? it works fine.
I'm waiting for delivery of the reference manual so maybe I'm breaking
some sort of golden rule here, but any help would be greatly
appreciated.

Steve

 

Steve O'Hara
Pivotal Solutions  

( +44 (0)7802 484227
    +44 (0)208 660 7288 (Fax)
*  <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sohara at pivotal-solutions.co.uk</A> &lt;mailto:&gt; 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080327/b1fd0f4d/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080327/b1fd0f4d/attachment-0001.html</A> 
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027443.html">[antlr-interest] Is ANTLR Yggdrasil supported by ANTLRWorks?	(WAS: % in target code)
</A></li>
	<LI>Next message: <A HREF="027450.html">[antlr-interest] Matching the * character
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27449">[ date ]</a>
              <a href="thread.html#27449">[ thread ]</a>
              <a href="subject.html#27449">[ subject ]</a>
              <a href="author.html#27449">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
