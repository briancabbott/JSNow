<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Why is this ambiguous..
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Why%20is%20this%20ambiguous..&In-Reply-To=%3C00bc01cbf529%24685b4fb0%243911ef10%24%40pixelminegames.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="041330.html">
   <LINK REL="Next"  HREF="041334.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Why is this ambiguous..</H1>
    <B>Sam Harwell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Why%20is%20this%20ambiguous..&In-Reply-To=%3C00bc01cbf529%24685b4fb0%243911ef10%24%40pixelminegames.com%3E"
       TITLE="[antlr-interest] Why is this ambiguous..">sharwell at pixelminegames.com
       </A><BR>
    <I>Thu Apr  7 06:40:49 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="041330.html">[antlr-interest] Why is this ambiguous..
</A></li>
        <LI>Next message: <A HREF="041334.html">[antlr-interest] Why is this ambiguous..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41333">[ date ]</a>
              <a href="thread.html#41333">[ thread ]</a>
              <a href="subject.html#41333">[ subject ]</a>
              <a href="author.html#41333">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Edit: I misread the original email, but I'm still sending this because it
resolves the warning given on the rule y.

Consider the input 'ba', starting with the rule start. It could parse as (y
y EOF), with the first y matching B without the A, and the second matching
just A. It could also parse as (y EOF), with the first y matching B and the
optional A.

If you mean for y to always include the A when present, you can use a
syntactic predicate, which forces it to choose the second interpretation
above:

y : B ((A) =&gt; A)? | A;

Sam

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Peter Kooiman
Sent: Thursday, April 07, 2011 7:50 AM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: [antlr-interest] Why is this ambiguous..

Hello, 

While working on a grammar I had something that boils down to 

grammar T; 
start: (y | y C)+ EOF; 
y: B (A)? | A; 

A : 'a'; 
B : 'b'; 
C : 'c'; 

This gives an expected warning on rule y, that's fine, ANTLR does the right
thing and matches A greedily. 
However it also gives a warning on rule start: 

T.g:2:19: Decision can match input such as &quot;B {EOF, B..A}&quot; using multiple
alternatives: 1, 2 
As a result, alternative(s) 2 were disabled for that input 

I quite understand the need to left factor this, I was just wondering why
ANTLR gives this warning. It must be staring me in the face but I don't see
it... 
How is this non-deterministic on input B EOF? Is ANTLR unable to see past
rule y for some reason? 

Thanks 
Peter 


List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
Unsubscribe:
<A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="041330.html">[antlr-interest] Why is this ambiguous..
</A></li>
	<LI>Next message: <A HREF="041334.html">[antlr-interest] Why is this ambiguous..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#41333">[ date ]</a>
              <a href="thread.html#41333">[ thread ]</a>
              <a href="subject.html#41333">[ subject ]</a>
              <a href="author.html#41333">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
