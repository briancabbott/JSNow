<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Match anything until a specific phrase
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Match%20anything%20until%20a%20specific%20phrase&In-Reply-To=%3C4B485495.3050803%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037252.html">
   <LINK REL="Next"  HREF="037249.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Match anything until a specific phrase</H1>
    <B>fridi</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Match%20anything%20until%20a%20specific%20phrase&In-Reply-To=%3C4B485495.3050803%40gmx.de%3E"
       TITLE="[antlr-interest] Match anything until a specific phrase">fridi70 at gmx.de
       </A><BR>
    <I>Sat Jan  9 02:04:05 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="037252.html">[antlr-interest] Match anything until a specific phrase
</A></li>
        <LI>Next message: <A HREF="037249.html">[antlr-interest] Binary Message Parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37257">[ date ]</a>
              <a href="thread.html#37257">[ thread ]</a>
              <a href="subject.html#37257">[ subject ]</a>
              <a href="author.html#37257">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Jim Idle wrote:
&gt;<i> Why don't you just remove the header before sending it to the lexer? 
</I>
Yes, that is a good idea, too. I thought it should be possible to get 
this done with ANTLR
&gt;<i> Or write a function/method to do input.consume() until you find 'P' then check for 'Page', stop consuming if found, carry on consuming if not. Trigger the method as appropriate in action code for tokens or at lexer start up.
</I>&gt;<i>   
</I>Do you have any simple example or hint how to do that?
&gt;<i> I would remove the 'literals' from your parser and make real lexer rules.
</I>
Yes, that is what I have done in my real grammar, this one here was just 
an example.

Thanks a lot - Fridi

&gt;<i>  Remember that the lexer runs, then the parser runs, you cannot direct the lexer from the parser.
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of fridi
</I>&gt;&gt;<i> Sent: Friday, January 08, 2010 7:15 AM
</I>&gt;&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;&gt;<i> Subject: [antlr-interest] Match anything until a specific phrase
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hello all,
</I>&gt;&gt;<i> maybe someone can help me to get this done with ANTLR 3.2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My file has a header starting with 'test', some comments and then
</I>&gt;&gt;<i> several blocks named 'Page 1',  'Page 2' etc. with integers, i.e.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> test This is a comment and
</I>&gt;&gt;<i>         we are not interested in.
</I>&gt;&gt;<i>             Today is friday.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Page 1:
</I>&gt;&gt;<i>     123
</I>&gt;&gt;<i>     456
</I>&gt;&gt;<i>     789
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I want to have a rule that consumes everything of the header until the
</I>&gt;&gt;<i> word 'Page'.
</I>&gt;&gt;<i> 'Page' should not be consumed by the header, it be consumed by another
</I>&gt;&gt;<i> rule.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So I tried the following:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> grammar TestNot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> options {
</I>&gt;&gt;<i>    language = Java;
</I>&gt;&gt;<i> }
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> rule :
</I>&gt;&gt;<i>    file;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> file :
</I>&gt;&gt;<i>    header PAGE INT ':' INT+ EOF;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> header :
</I>&gt;&gt;<i>    'test' ~PAGE;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> PAGE :
</I>&gt;&gt;<i>    'Page';
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> INT :
</I>&gt;&gt;<i>    DIGIT+;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> fragment
</I>&gt;&gt;<i> DIGIT :
</I>&gt;&gt;<i>    '0'..'9';
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Any idea? Thanks in advance.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;&gt;<i> email-address
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>&gt;<i>   
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037252.html">[antlr-interest] Match anything until a specific phrase
</A></li>
	<LI>Next message: <A HREF="037249.html">[antlr-interest] Binary Message Parsing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37257">[ date ]</a>
              <a href="thread.html#37257">[ thread ]</a>
              <a href="subject.html#37257">[ subject ]</a>
              <a href="author.html#37257">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
