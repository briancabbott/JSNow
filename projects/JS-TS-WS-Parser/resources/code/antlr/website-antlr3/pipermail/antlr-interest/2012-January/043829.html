<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Global backtrack breaks rule that works otherwise;	why?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Global%20backtrack%20breaks%20rule%20that%20works%20otherwise%3B%0A%09why%3F&In-Reply-To=%3CCA%2B4Thdr-gaiDBHnTk_j4TLjqN6VwO3cjDvF9ETRhyyHFO_3m-w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="043836.html">
   <LINK REL="Next"  HREF="043834.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Global backtrack breaks rule that works otherwise;	why?</H1>
    <B>Seref Arikan</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Global%20backtrack%20breaks%20rule%20that%20works%20otherwise%3B%0A%09why%3F&In-Reply-To=%3CCA%2B4Thdr-gaiDBHnTk_j4TLjqN6VwO3cjDvF9ETRhyyHFO_3m-w%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Global backtrack breaks rule that works otherwise;	why?">serefarikan at kurumsalteknoloji.com
       </A><BR>
    <I>Tue Jan 17 03:10:40 PST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="043836.html">[antlr-interest] Need help with rule-parameters (ANTLR bug?)
</A></li>
        <LI>Next message: <A HREF="043834.html">[antlr-interest] upgrading confluence wiki
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43829">[ date ]</a>
              <a href="thread.html#43829">[ thread ]</a>
              <a href="subject.html#43829">[ subject ]</a>
              <a href="author.html#43829">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings,
The first alternative in the following grammar does not work when global
backtrack is on. I know that I can remove the predicate in the second
alternative, since it is the complement of the first one, but I don't
understand why backtrack leads to parser code that can never recognize the
first alternative.
It works if the rules are not complements of each other such as this
example, but I'm trying to understand the behaviour of Antlr better.

Best regards
Seref


grammar TestBTrack;
options{backtrack=true;}

alt_container
    :
{input.LT(1).getText().toUpperCase().startsWith(&quot;A&quot;)}?=&gt;a_identifier
    |
{!(input.LT(1).getText().toUpperCase().startsWith(&quot;A&quot;))}?=&gt;non_a_identifier
    ;

a_identifier
    :    ID;
non_a_identifier
    :    ID;

ID  :    ('a'..'z'|'A'..'Z'|'_') ('a'..'z'|'A'..'Z'|'0'..'9'|'_')*
    ;

WS  :   ( ' '
        | '\t'
        | '\r'
        | '\n'
        ) {$channel=HIDDEN;}
    ;
</PRE>










































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="043836.html">[antlr-interest] Need help with rule-parameters (ANTLR bug?)
</A></li>
	<LI>Next message: <A HREF="043834.html">[antlr-interest] upgrading confluence wiki
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#43829">[ date ]</a>
              <a href="thread.html#43829">[ thread ]</a>
              <a href="subject.html#43829">[ subject ]</a>
              <a href="author.html#43829">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
