<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Resetting an AST tree walker
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Resetting%20an%20AST%20tree%20walker&In-Reply-To=%3CA3DCDEF6-742A-4536-B6E5-AD01E21D49EF%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034152.html">
   <LINK REL="Next"  HREF="034168.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Resetting an AST tree walker</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Resetting%20an%20AST%20tree%20walker&In-Reply-To=%3CA3DCDEF6-742A-4536-B6E5-AD01E21D49EF%40cs.usfca.edu%3E"
       TITLE="[antlr-interest] Resetting an AST tree walker">parrt at cs.usfca.edu
       </A><BR>
    <I>Thu Apr 23 11:56:35 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="034152.html">[antlr-interest] Resetting an AST tree walker
</A></li>
        <LI>Next message: <A HREF="034168.html">[antlr-interest] Resetting an AST tree walker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34167">[ date ]</a>
              <a href="thread.html#34167">[ thread ]</a>
              <a href="subject.html#34167">[ subject ]</a>
              <a href="author.html#34167">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Apr 22, 2009, at 8:17 PM, Steve Souza wrote:

&gt;<i> &lt;&lt;I don't like this at all, but I believe in the thread that you cited
</I>&gt;<i> earlier someone says it is the intended behaviour.&gt;&gt;
</I>&gt;<i> I wonder what the logic is there.  One of the big benefits of a tree  
</I>&gt;<i> walker is to be able to repeatedly walk the nodes.  I hope they  
</I>&gt;<i> don't remove that capability from the BufferedTreeNodeStream.
</I>
Don't worry. We will keep the buffered version for sure. The primary  
reason to avoid the buffered version is when you're tree is absolutely  
huge and you can afford to create a big array pointing and all the  
nodes.  In the new tree filter mechanism, not yet officially released  
but in the software, it needs to constantly parse little snippets of  
the tree. re-creating an array for each subtree doesn't make much sense.

I'm surprised by the speed difference though. I might have to rethink  
my filter; that is, which stream it uses.

&gt;<i> Did that one work for you?  Except for increased memory is there  
</I>&gt;<i> ever a reason not to use BufferedTreeNodeStream instead of  
</I>&gt;<i> CommonTreeNodeStream?
</I>
Nope.

Ok, just checked.  Added 2 unit tests.  TreeIterator and  
CommonTreeNodeStream reset properly.  Perhaps it's the tree parser?

Ter
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034152.html">[antlr-interest] Resetting an AST tree walker
</A></li>
	<LI>Next message: <A HREF="034168.html">[antlr-interest] Resetting an AST tree walker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34167">[ date ]</a>
              <a href="thread.html#34167">[ thread ]</a>
              <a href="subject.html#34167">[ subject ]</a>
              <a href="author.html#34167">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
