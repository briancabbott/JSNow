<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Building the C runtime as a Universal Binary
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Building%20the%20C%20runtime%20as%20a%20Universal%20Binary&In-Reply-To=%3CC9C63F76-F275-436F-B248-4B967895D3EA%40wincent.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024474.html">
   <LINK REL="Next"  HREF="024457.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Building the C runtime as a Universal Binary</H1>
    <B>Wincent Colaiuta</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Building%20the%20C%20runtime%20as%20a%20Universal%20Binary&In-Reply-To=%3CC9C63F76-F275-436F-B248-4B967895D3EA%40wincent.com%3E"
       TITLE="[antlr-interest] Building the C runtime as a Universal Binary">win at wincent.com
       </A><BR>
    <I>Tue Oct 30 11:14:43 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024474.html">[antlr-interest] Building the C runtime as a Universal Binary
</A></li>
        <LI>Next message: <A HREF="024457.html">[antlr-interest] Methods and dynamically scoped variables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24481">[ date ]</a>
              <a href="thread.html#24481">[ thread ]</a>
              <a href="subject.html#24481">[ subject ]</a>
              <a href="author.html#24481">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>El 30/10/2007, a las 17:51, Jim Idle escribi&#243;:

&gt;<i> I had configure initially build universal binaries, but then they  
</I>&gt;<i> did not
</I>&gt;<i> seem that useful.
</I>
Well, if you have to ship a product to customers running Mac OS X then  
they're incredibly useful, because they allow your product to run on  
either Intel or PowerPC hardware with no intervention required from  
the user. All shipping Apple machines nowadays have Intel processors,  
but there are still millions of users out there still on the PowerPC  
platform, and both groups are accustomed to being able to download a  
universal binary and run it on either architecture.

&gt;<i> Configure is a bit of a nightmare in that it makes
</I>&gt;<i> assumptions about C related flags that are not always good. I  
</I>&gt;<i> believe that
</I>&gt;<i> my scripts may interfere with CFLAGS from the environment as they  
</I>&gt;<i> stand, but
</I>&gt;<i> you should be able to work out what to do by looking at the automake  
</I>&gt;<i> source
</I>&gt;<i> scripts I should think.
</I>
I'll take a look.

&gt;<i> However, generally I would say that it is better to
</I>&gt;<i> build for the target to be honest.
</I>
In this case, luckily, I don't actually need to ship the built product  
to customers, so this isn't a deal breaker (this is a server-side  
build-from-source thing anyway).

The reason why I looked into this is that Leopard just shipped and  
some things which didn't use to be universal now are, and when you try  
to link to the ANTLR runtime this now fails unless you do some special  
architecture-specific setup beforehand. So I have a functioning  
workaround already, but I wanted to explore the universal binary angle  
as an alternative.

No big deal, though, because like I said I already have a workaround.  
Short of hacking the configure to allow cross-compilation it seems the  
only way to a proper universal binary build of the runtime is to build  
it twice on two different machines, then &quot;lipo&quot; the two products into  
a single file, and that's just not practical.

Cheers,
Wincent


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024474.html">[antlr-interest] Building the C runtime as a Universal Binary
</A></li>
	<LI>Next message: <A HREF="024457.html">[antlr-interest] Methods and dynamically scoped variables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24481">[ date ]</a>
              <a href="thread.html#24481">[ thread ]</a>
              <a href="subject.html#24481">[ subject ]</a>
              <a href="author.html#24481">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
