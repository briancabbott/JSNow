<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Deciphering the TreeWalker error message ...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Deciphering%20the%20TreeWalker%20error%20message%20...&In-Reply-To=%3C4E2855A2.4000402%40kjchome.homeip.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="042185.html">
   <LINK REL="Next"  HREF="042213.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Deciphering the TreeWalker error message ...</H1>
    <B>Kevin J. Cummings</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Deciphering%20the%20TreeWalker%20error%20message%20...&In-Reply-To=%3C4E2855A2.4000402%40kjchome.homeip.net%3E"
       TITLE="[antlr-interest] Deciphering the TreeWalker error message ...">cummings at kjchome.homeip.net
       </A><BR>
    <I>Thu Jul 21 09:36:50 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="042185.html">[antlr-interest] Deciphering the TreeWalker error message ...
</A></li>
        <LI>Next message: <A HREF="042213.html">[antlr-interest] Deciphering the TreeWalker error message ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42197">[ date ]</a>
              <a href="thread.html#42197">[ thread ]</a>
              <a href="subject.html#42197">[ subject ]</a>
              <a href="author.html#42197">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/21/2011 02:48 AM, Gary Miller wrote:
&gt;<i> 3.
</I>&gt;<i> rule :
</I>&gt;<i>   ^(subrule otherrule)
</I>&gt;<i> ;
</I>&gt;<i> Just looks wrong.
</I>
I am under the impression that a treewalker rule should be rooted in a 
TOKEN, not a subtree.  The few treewalker grammars I have written always 
have rules that look like ^(TOKEN some other rules or TOKENS)
If a subrule reference is not allowed to be the root of the tree being 
parsed, I would have thought that ANTLR would have issued an error when 
the tree grammar was run through ANTLR....

I could be wrong with my assumption here, but I have never gotten into 
trouble by assuming it (so far).

Often this involves me collapsing my treewalker rules together.  For 
example, if I have 12 parse rules to accurately describe precidence in 
an expression, my treegrammar might have 12 alternations, one for each 
possibly different rooted TOKEN when walking them.  This makes my 
treegrammars (much) smaller than my parser grammars.

&gt;<i> If you inline (expand) out what you have written you would get
</I>&gt;<i> compoundExpression
</I>&gt;<i> : ^((SUB_EXPR ^(PAREN_SCLAR_EXPRESSION sclarExpression+) conversion_clause )
</I>&gt;<i> ;
</I>&gt;<i> The ^(( is impossible
</I>&gt;<i> Make all you start tree look like ^(TOKEN ...)
</I>&gt;<i> ^(sign sse=sclarSubExpression) therefore also look wrong.
</I>
Yes, treegrammar rules can refer to other rules, but the rooted 
expressions: ^() should be rooted with TOKENs.

-- 
Kevin J. Cummings
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">kjchome at verizon.net</A>
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cummings at kjchome.homeip.net</A>
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">cummings at kjc386.framingham.ma.us</A>
Registered Linux User #1232 (<A HREF="http://counter.li.org">http://counter.li.org</A>)
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="042185.html">[antlr-interest] Deciphering the TreeWalker error message ...
</A></li>
	<LI>Next message: <A HREF="042213.html">[antlr-interest] Deciphering the TreeWalker error message ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#42197">[ date ]</a>
              <a href="thread.html#42197">[ thread ]</a>
              <a href="subject.html#42197">[ subject ]</a>
              <a href="author.html#42197">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
