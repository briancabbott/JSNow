<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Syntax based testing for ANTLR grammars?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Syntax%20based%20testing%20for%20ANTLR%20grammars%3F&In-Reply-To=%3CCAN45N11E7sRDd2NHZUVcE2nqwj%2BYJF9XnCqn7mcpWCxTUr1VMA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="045328.html">
   <LINK REL="Next"  HREF="045359.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Syntax based testing for ANTLR grammars?</H1>
    <B>Eric</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Syntax%20based%20testing%20for%20ANTLR%20grammars%3F&In-Reply-To=%3CCAN45N11E7sRDd2NHZUVcE2nqwj%2BYJF9XnCqn7mcpWCxTUr1VMA%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Syntax based testing for ANTLR grammars?">researcher0x00 at gmail.com
       </A><BR>
    <I>Thu Sep 20 09:38:47 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="045328.html">[antlr-interest] Syntax based testing for ANTLR grammars?
</A></li>
        <LI>Next message: <A HREF="045359.html">[antlr-interest] Syntax based testing for ANTLR grammars?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45329">[ date ]</a>
              <a href="thread.html#45329">[ thread ]</a>
              <a href="subject.html#45329">[ subject ]</a>
              <a href="author.html#45329">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Mike,

&quot;What I wonder is if this way test is really meaningful. I mean, when you
create test sentences from the grammar they will always work, no? &quot;

Yes the test are meaningful but only meaningful if you don't blindly
generate phrases and accept the output without verification.. Since you
don't want to hand validate each result you make the generator smart enough
and give it semantic knowledge to tag the results as this should be valid
and that should be invalid, then look for a negative result. i.e. a test
that should pass that fails or a test that should fail that passes. You
should still hand check a random set of results. Note that even with all
this testing it does not guarantee the app using the ANTLR is correct, it
only helps to increase the level of confidence, unless of course the
grammar is so simple that you can exhaustively test all of the cases. Also
remember that if the generator is smart enough it can focus on a particular
portion of the grammar and run many pivot examples off that portion which
just might be a complete set of test cases.

&quot;Since your parser uses the same grammar as the test input stems from there
can only be test failures if your grammar uses actions to control what gets
parsed how. But for a pure grammar you can only generate test cases when
you take your language spec (not codified in a grammar) and create test
cases out of it.&quot;

When I created my proof of concept tool I did give it the ability to
generate both positive and negative results. I was also using C++ and from
the C++ reference grammar  I created one grammar for input to ANTLR and one
grammar for input into my phrase generator. I then used the phrases from
the generator as input into the lexer/parser generated by ANTLR and then
looked at the results.

There is a lot more to this than I explain here but I personally found the
proof of concept tool to be very educational. Many results that came out
for valid were unlike any C++ code I have ever seen from a human but they
did compile. The reason is the generator does not think like a human, it
just does a tree walk based on the rules and generates phrases. Where I
left off was creating another layer to take common human type test
conditions and turn them into the rules to be used by the generator.

After the proof of concept tool worked I moved onto another project because
what I really wanted out of the tool was what was learned in doing it more
than the tool itself. The next steps of converting human conditions into
rules and creating a GUI front end would have required more work than I was
interested in doing.

Eric











On Thu, Sep 20, 2012 at 11:53 AM, Mike Lischke &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">mike at lischke-online.de</A>&gt;wrote:

&gt;<i>
</I>&gt;<i> What I wonder is if this way test is really meaningful. I mean, when you
</I>&gt;<i> create test sentences from the grammar they will always work, no? Since
</I>&gt;<i> your parser uses the same grammar as the test input stems from there can
</I>&gt;<i> only be test failures if your grammar uses actions to control what gets
</I>&gt;<i> parsed how. But for a pure grammar you can only generate test cases when
</I>&gt;<i> you take your language spec (not codified in a grammar) and create test
</I>&gt;<i> cases out of it.
</I>&gt;<i>
</I>&gt;<i> &gt; I did some work on my own on this a year ago and the problem you get into
</I>&gt;<i> &gt; is a huge explosion in output. Just to manage the problem of the
</I>&gt;<i> explosion
</I>&gt;<i> &gt; I had to create methods just to count the possibilities given a grammar
</I>&gt;<i> and
</I>&gt;<i> &gt; the easiest way for me to relate to the size was as a power. So for one
</I>&gt;<i> &gt; grammar the set could have 10**15 results and others could have 10**30
</I>&gt;<i> &gt; results. This is not even something that can be reasonably tested.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Is anyone aware of any projects out there for doing syntax-based
</I>&gt;<i> &gt;&gt; testing using ANTLR grammars?  The simplest form would be a tool for
</I>&gt;<i> &gt;&gt; generating valid language productions from an ANTLR grammar, but more
</I>&gt;<i> &gt;&gt; complex might introduce mutations.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Thanks
</I>&gt;<i> &gt;&gt; Mike Barry
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt;&gt; Unsubscribe:
</I>&gt;<i> &gt;&gt; <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> &gt; Unsubscribe:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>&gt;<i>
</I>&gt;<i> Mike
</I>&gt;<i> --
</I>&gt;<i> www.soft-gems.net
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="045328.html">[antlr-interest] Syntax based testing for ANTLR grammars?
</A></li>
	<LI>Next message: <A HREF="045359.html">[antlr-interest] Syntax based testing for ANTLR grammars?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#45329">[ date ]</a>
              <a href="thread.html#45329">[ thread ]</a>
              <a href="subject.html#45329">[ subject ]</a>
              <a href="author.html#45329">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
