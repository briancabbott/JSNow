<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Bytes Limit (Marcelo Nichele)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Bytes%20Limit%20%28Marcelo%20Nichele%29&In-Reply-To=%3C848594440910222139v280d0373v895b72b0fc6f0cb%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036486.html">
   <LINK REL="Next"  HREF="036482.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Bytes Limit (Marcelo Nichele)</H1>
    <B>Marcelo Nichele</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Bytes%20Limit%20%28Marcelo%20Nichele%29&In-Reply-To=%3C848594440910222139v280d0373v895b72b0fc6f0cb%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Bytes Limit (Marcelo Nichele)">marcelo.nichele at gmail.com
       </A><BR>
    <I>Thu Oct 22 21:39:25 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="036486.html">[antlr-interest] Contextual Tree Matching
</A></li>
        <LI>Next message: <A HREF="036482.html">[antlr-interest] Bytes Limit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36480">[ date ]</a>
              <a href="thread.html#36480">[ thread ]</a>
              <a href="subject.html#36480">[ subject ]</a>
              <a href="author.html#36480">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm using some lexer rules such like 'aaaa', 'bbb', ... Then, the code
generated become too big. So, I reduced some lexer rules and I moved them to
grammar rules.

Ex:
TAG_START_OPEN 'link' attrUriId='uri' ATTR_EQ attrValueUri=ATTR_VALUE
((attrRoleId='role' ATTR_EQ attrValueRole=ATTR_VALUE) | (attrStartId='start'
ATTR_EQ attrValueStart=ATTR_VALUE)|(attrEndId='end' ATTR_EQ
attrValueEnd=ATTR_VALUE))* TAG_EMPTY_CLOSE

Does anyone have any tips?

Thanks for help,

Marcelo


On Wed, Oct 21, 2009 at 5:00 PM, &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-request at antlr.org</A>&gt; wrote:

&gt;<i> Send antlr-interest mailing list submissions to
</I>&gt;<i>        <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i>        <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i>        <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-request at antlr.org</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i>        <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-owner at antlr.org</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of antlr-interest digest...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>   1. Re: Status of the CSharp3 target and my C# ports  of ANTLR and
</I>&gt;<i>      StringTemplate (Robert van der Hulst)
</I>&gt;<i>   2. Re: Bytes Limit (David-Sarah Hopwood)
</I>&gt;<i>   3. Re: Bytes Limit (Jim Idle)
</I>&gt;<i>   4. Re: Status of the CSharp3 target and my C# portsof        ANTLR and
</I>&gt;<i>      StringTemplate (Jim Idle)
</I>&gt;<i>   5. Re: Using multiple grammars with a single parser (Jim Idle)
</I>&gt;<i>   6. [Antlr3 grammar] how to specify alpha token,      numeric token
</I>&gt;<i>      and mix of        both (Hieu Phung)
</I>&gt;<i>   7. Re: [Antlr3 grammar] how to specify alpha token,  numeric
</I>&gt;<i>      token and mix of  both (Kaleb Pederson)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Tue, 20 Oct 2009 22:27:43 +0200
</I>&gt;<i> From: Robert van der Hulst &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">news at heliks.nl</A>&gt;
</I>&gt;<i> Subject: Re: [antlr-interest] Status of the CSharp3 target and my C#
</I>&gt;<i>        ports   of ANTLR and StringTemplate
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">8410451559.20091020222743 at heliks.nl</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL:
</I>&gt;<i> <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20091020/65d74ab9/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20091020/65d74ab9/attachment-0001.html</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 2
</I>&gt;<i> Date: Wed, 21 Oct 2009 00:24:04 +0100
</I>&gt;<i> From: David-Sarah Hopwood &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">david-sarah at jacaranda.org</A>&gt;
</I>&gt;<i> Subject: Re: [antlr-interest] Bytes Limit
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">4ADE4694.5010302 at jacaranda.org</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=UTF-8
</I>&gt;<i>
</I>&gt;<i> Marcelo Nichele wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm getting started in ANTLR and my grammar generated the
</I>&gt;<i> &gt; specialStateTransition method too big.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The error message is *The code of method specialStateTransition(int,
</I>&gt;<i> &gt; IntStream) is exceeding the 65535 bytes limit.*
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The method assignature is:
</I>&gt;<i> &gt; *public int specialStateTransition(int s, IntStream _input) throws
</I>&gt;<i> &gt; NoViableAltException*
</I>&gt;<i>
</I>&gt;<i> Workaround:
</I>&gt;<i>
</I>&gt;<i> Look at the code for that method in the generated parser source
</I>&gt;<i> (note that there may be multiple DFA inner classes each with a
</I>&gt;<i> specialStateTransition method; the full error message should say which
</I>&gt;<i> one, or just look at the largest such methods).
</I>&gt;<i> Probably the code for specialStateTransition will include code copied
</I>&gt;<i> from predicates in your grammar, duplicated many times. Try to simplify
</I>&gt;<i> the code that is being duplicated.
</I>&gt;<i>
</I>&gt;<i> For example, you could declare a boolean variable in the parser class
</I>&gt;<i> using @parser::members, set it to the predicate condition in an @init
</I>&gt;<i> block of the relevant rule(s), and reference that variable in place of
</I>&gt;<i> the original condition. (Be careful that you aren't changing the behaviour
</I>&gt;<i> of the rule by moving the predicate evaluation to the @init block.)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Suggested longer-term improvement:
</I>&gt;<i>
</I>&gt;<i> The size of the generated specialStateTransition methods would be
</I>&gt;<i> considerably reduced if ANTLR were to automatically create temporary
</I>&gt;<i> variables for predicate conditions, rather than duplicating their code.
</I>&gt;<i> Since the DFA object is an instance of an inner class of the parser,
</I>&gt;<i> the workaround above requires the Java compiler to generate references
</I>&gt;<i> to outer class variables, which is more code than would be needed if
</I>&gt;<i> ANTLR were to create such temporaries as local variables of
</I>&gt;<i> specialStateTransition. Since there is no guarantee as to how often
</I>&gt;<i> predicates are evaluated, that change would not affect correctness.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> David-Sarah Hopwood  ?  <A HREF="http://davidsarah.livejournal.com">http://davidsarah.livejournal.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 3
</I>&gt;<i> Date: Wed, 21 Oct 2009 13:27:29 +0530
</I>&gt;<i> From: &quot;Jim Idle&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>&gt;
</I>&gt;<i> Subject: Re: [antlr-interest] Bytes Limit
</I>&gt;<i> To: &quot;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">b6a29c89442d004088022678aea26396 at temporal-wave.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i> This is also quite often caused by a poorly specified grammar (especially
</I>&gt;<i> lexers) causing lots lookahead and states etc. A good way to determine this
</I>&gt;<i> is to find the DFA in question in the generated source code and see what
</I>&gt;<i> decisions/rules it is handling. This should help you pin down where things
</I>&gt;<i> are getting so big and then you can look at the why.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Horst Dehmer
</I>&gt;<i> Sent: Tuesday, October 20, 2009 12:13 PM
</I>&gt;<i> To: Marcelo Nichele; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: Re: [antlr-interest] Bytes Limit
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello Marcelo,
</I>&gt;<i>
</I>&gt;<i> i'm afraid you hit a hard limit with java binary class files. how is your
</I>&gt;<i> grammar looking, is it unusually big?
</I>&gt;<i> have also a look at
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://groups.google.com/group/comp.lang.java.machine/browse_thread/thread/b0cf268515f1ef55">http://groups.google.com/group/comp.lang.java.machine/browse_thread/thread/b0cf268515f1ef55</A>
</I>&gt;<i>
</I>&gt;<i> good luck,
</I>&gt;<i> horst
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 20.10.09 06:59, &quot;Marcelo Nichele&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">marcelo.nichele at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> The code of method specialStateTransition(int, IntStream) is exceeding the
</I>&gt;<i> 65535 bytes limit
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL:
</I>&gt;<i> <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20091021/733c4727/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20091021/733c4727/attachment-0001.html</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 4
</I>&gt;<i> Date: Wed, 21 Oct 2009 13:47:59 +0530
</I>&gt;<i> From: &quot;Jim Idle&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>&gt;
</I>&gt;<i> Subject: Re: [antlr-interest] Status of the CSharp3 target and my C#
</I>&gt;<i>        portsof ANTLR and StringTemplate
</I>&gt;<i> To: &quot;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">e46f9f31c2cbe74683984d2670bed31e at temporal-wave.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i> I think we can expose the public/private stuff easily. I will talk to Ter
</I>&gt;<i> in case there is some reason it is not right now, but I don't think so as
</I>&gt;<i> the ability to do this is part of the current v2 grammar and I just coded it
</I>&gt;<i> in my v3 grammar. We should probably move this to ANTLR dev list.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: Sam Harwell [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sharwell at pixelminegames.com</A>]
</I>&gt;<i> Sent: Tuesday, October 20, 2009 10:26 PM
</I>&gt;<i> To: Jim Idle; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> Subject: RE: [antlr-interest] Status of the CSharp3 target and my C#
</I>&gt;<i> portsof ANTLR and StringTemplate
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The code should be nearly the same as that of the CSharp2 target. Here is
</I>&gt;<i> the C# port of the CSharp2 target and CSharp3 target so you can see how the
</I>&gt;<i> CSharp3 one differs. Clearly it should be easy to make it work.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> public class CSharp2Target : Target
</I>&gt;<i>
</I>&gt;<i> {
</I>&gt;<i>
</I>&gt;<i>    public override string EncodeIntAsCharEscape(int v)
</I>&gt;<i>
</I>&gt;<i>    {
</I>&gt;<i>
</I>&gt;<i>        return &quot;\\x&quot; + v.ToString(&quot;X&quot;);
</I>&gt;<i>
</I>&gt;<i>    }
</I>&gt;<i>
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> public class CSharp3Target : Target
</I>&gt;<i>
</I>&gt;<i> {
</I>&gt;<i>
</I>&gt;<i>    public override string EncodeIntAsCharEscape(int v)
</I>&gt;<i>
</I>&gt;<i>    {
</I>&gt;<i>
</I>&gt;<i>        return &quot;\\x&quot; + v.ToString(&quot;X&quot;);
</I>&gt;<i>
</I>&gt;<i>    }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    public override string GetTarget64BitStringFromValue(ulong word)
</I>&gt;<i>
</I>&gt;<i>    {
</I>&gt;<i>
</I>&gt;<i>        return &quot;0x&quot; + word.ToString(&quot;X&quot;);
</I>&gt;<i>
</I>&gt;<i>    }
</I>&gt;<i>
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Something to note: I'm not sure the Java version of the tool exposes the
</I>&gt;<i> property required to support marking rules as public/protected/private.
</I>&gt;<i> We'll have to check that out too, but it should be straightforward.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sam
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: Jim Idle [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>]
</I>&gt;<i> Sent: Tuesday, October 20, 2009 12:08 AM
</I>&gt;<i> To: Sam Harwell; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>;
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> Subject: RE: [antlr-interest] Status of the CSharp3 target and my C#
</I>&gt;<i> portsof ANTLR and StringTemplate
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> OK - well we can add that easily enough J Why don't we try it?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: Sam Harwell [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">sharwell at pixelminegames.com</A>]
</I>&gt;<i> Sent: Tuesday, October 20, 2009 7:46 AM
</I>&gt;<i> To: Jim Idle; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> Subject: RE: [antlr-interest] Status of the CSharp3 target and my C#
</I>&gt;<i> portsof ANTLR and StringTemplate
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I think the only thing missing is the Java class required for the Java
</I>&gt;<i> version to know the CSharp3 target exists.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sam
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Jim Idle
</I>&gt;<i> Sent: Tuesday, October 20, 2009 2:51 AM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> Subject: Re: [antlr-interest] Status of the CSharp3 target and my C#
</I>&gt;<i> portsof ANTLR and StringTemplate
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Top posting for Sam's benefit ;-)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Not being able to use the Csharp3 target from the standard version of the
</I>&gt;<i> tool is going to be a turn off for many I think L What is it that your port
</I>&gt;<i> of the tool has that the standard version does not. I know you have posted
</I>&gt;<i> some of that, but perhaps we can summarize this and see if such things can
</I>&gt;<i> be absorbed into the standard Java tool? Nobody minds you having your own
</I>&gt;<i> version of anything because it is open source, but most will want ot use the
</I>&gt;<i> 'offical' java version of the tool even if they are targeting C#.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks for the updates,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Sam Harwell
</I>&gt;<i> Sent: Monday, October 19, 2009 1:05 AM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>; <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] Status of the CSharp3 target and my C# ports of
</I>&gt;<i> ANTLR and StringTemplate
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi everyone,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Here's a status update that I know many people are asking for. For each
</I>&gt;<i> portion, I'll talk about the status of the code in Perforce. At the end,
</I>&gt;<i> I'll talk about the status of the posted binaries.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Basic Status
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> StringTemplate and the ANTLR Tool: Up-to-date with the Java version for all
</I>&gt;<i> targets as of August 4, 2009, which covers all of the changes made earlier
</I>&gt;<i> in the year and over the summer.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> CSharp3 Target: working and extensively used in the ANTLR Tool,
</I>&gt;<i> StringTemplate, and the commercial projects I use ANTLR for. I haven't
</I>&gt;<i> tested the -profile and -debug modes because I don't use them, however the
</I>&gt;<i> templates should be &quot;close to working&quot;. Currently, the CSharp3 target can
</I>&gt;<i> only be used when generating grammars from the C# port of the tool.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Design Changes
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 1.       Rather than package the target templates as resources in the
</I>&gt;<i> tool's executable, I've chosen a flat file layout. That way, the templates
</I>&gt;<i> for a target can be updated without recompiling the tool. The targets
</I>&gt;<i> themselves are also implemented as individual DLL's.
</I>&gt;<i>
</I>&gt;<i> 2.       The CSharp3 target declares rules as private methods by default.
</I>&gt;<i> Rules can be made public by simply marking them as such in the grammar:
</I>&gt;<i> &quot;public compile_unit : declaration*;&quot; I have updated the Java target's code
</I>&gt;<i> generation to support this as well, but it's not checked in.
</I>&gt;<i>
</I>&gt;<i> 3.       StringTemplate has code for a high speed dynamically compiled
</I>&gt;<i> interpreter. By default, the build doesn't enable this mode, but when it's
</I>&gt;<i> turned on the output appears to work correctly. I need to do another round
</I>&gt;<i> of tests, but at this point the C# ports of the ANTLR Tool and
</I>&gt;<i> StringTemplate should be significantly faster than the Java version. We've
</I>&gt;<i> hit a brick wall preventing further optimization without rewriting ST, but
</I>&gt;<i> the work on STv4 should give another order of magnitude improvement in
</I>&gt;<i> template rendering performance.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Things Holding Me Up
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 1.       I haven't finalized the way I'm going to do assembly versioning,
</I>&gt;<i> although I think I've got that worked out now. I'll send a separate mail to
</I>&gt;<i> the list regarding this.
</I>&gt;<i>
</I>&gt;<i> 2.       StringTemplate is only tested in regards to code generation for
</I>&gt;<i> the ANTLR tool. In particular, its ability to locate templates in resources
</I>&gt;<i> or on the file system is not documented and may or may not behave as people
</I>&gt;<i> expect.
</I>&gt;<i>
</I>&gt;<i> 3.       I'm still making periodic changes to the API as I finalize things,
</I>&gt;<i> and breaking changes in production code aren't good. I don't want to suggest
</I>&gt;<i> replacing the CSharp2 target until the CSharp3 target is more tested by
</I>&gt;<i> other people.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Things I want to do, but not really holding up the builds
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I really want to package a clean integration of ANTLR+CSharp3 for MSBuild.
</I>&gt;<i> We need this. This would include at least MSBuild targets file and templates
</I>&gt;<i> for adding grammars to a project. Unfortunately, there are many issues I
</I>&gt;<i> still need to resolve for this to be a reality, most of which have answers
</I>&gt;<i> in shades of gray.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Status of the Posted Build
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The build available for download was uploaded on fairly short notice.
</I>&gt;<i> Mistakes (by me) included not having the assembly version set correctly and
</I>&gt;<i> not posting the source code from the build with the binaries. I've been
</I>&gt;<i> trying to wrap some of these things up before posting another build.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL:
</I>&gt;<i> <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20091021/45738851/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20091021/45738851/attachment-0001.html</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 5
</I>&gt;<i> Date: Wed, 21 Oct 2009 13:44:25 +0530
</I>&gt;<i> From: &quot;Jim Idle&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">jimi at temporal-wave.com</A>&gt;
</I>&gt;<i> Subject: Re: [antlr-interest] Using multiple grammars with a single
</I>&gt;<i>        parser
</I>&gt;<i> To: &quot;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&quot; &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>&gt;
</I>&gt;<i> Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">b51176887aa850468cec0244e1a67da0 at temporal-wave.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i> This has been covered in previous discussions (use the search), but
</I>&gt;<i> basically you create tokens that look for dates using code that is sensitive
</I>&gt;<i> to the locale, which leaves you with a single lexer with a code based match
</I>&gt;<i> rather than pattern based match.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> DATE : '#' // Assuming that you delimit the dates somehow
</I>&gt;<i>
</I>&gt;<i>              {
</I>&gt;<i>
</I>&gt;<i>                  setText(myDateFunctionThatReturnsString());
</I>&gt;<i>
</I>&gt;<i>              }
</I>&gt;<i>
</I>&gt;<i>             '#'
</I>&gt;<i>
</I>&gt;<i>          ;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> There are other approaches than returning the string but you should get the
</I>&gt;<i> picture?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Parambir Singh
</I>&gt;<i> Sent: Tuesday, October 20, 2009 7:06 PM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] Using multiple grammars with a single parser
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I am working on a project where I want to parse input in different locales
</I>&gt;<i> (e.g. english, french &amp; german dates). I don't want to create multiple
</I>&gt;<i> parsers, since the semantics of the grammar don't change between locales. So
</I>&gt;<i> probably I'll need multiple lexers and a single parser. Moreover, I want to
</I>&gt;<i> specify a locale to the parser and the input should be matched against only
</I>&gt;<i> that particular locale (e.g. german dates should be invalid in english
</I>&gt;<i> locale).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> What would be the best approach to construct such a parser using ANTLR. I
</I>&gt;<i> don't have much experience with ANTLR but I read about grammar inheritance
</I>&gt;<i> and think it could be useful here.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i> Param
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL:
</I>&gt;<i> <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20091021/f2d7d8df/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20091021/f2d7d8df/attachment-0001.html</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 6
</I>&gt;<i> Date: Wed, 21 Oct 2009 18:23:47 +0800
</I>&gt;<i> From: Hieu Phung &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">phungngochieu at gmail.com</A>&gt;
</I>&gt;<i> Subject: [antlr-interest] [Antlr3 grammar] how to specify alpha token,
</I>&gt;<i>        numeric token and mix of        both
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Message-ID:
</I>&gt;<i>        &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">2d17b250910210323q1703906dnd5b4339e472f6adf at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;iso-8859-1&quot;
</I>&gt;<i>
</I>&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> My grammar has 3 kinds of tokens:
</I>&gt;<i> 1) number: contain numeric character
</I>&gt;<i> 2) alpha: contain alphabetic character;
</I>&gt;<i> 3) mix: contain number and alpha and hyphen, full stop or space
</I>&gt;<i>
</I>&gt;<i> For example:
</I>&gt;<i> 1/VEC305/03MAR/PTY
</I>&gt;<i> =&gt; in the above input data, 03MAR should be interpreted as a number of
</I>&gt;<i> length 2 followed by alpha of length 3. But VEC305 is a mix of length 6.
</I>&gt;<i>
</I>&gt;<i> If I define grammar like below:
</I>&gt;<i>
</I>&gt;<i> NUMBER    : ('0'..'9')+ ;
</I>&gt;<i> ALPHA    : ('a'..'z'|'A'..'Z')+;
</I>&gt;<i> MIX    : (NUMBER | ALPHA | OTHER)+;
</I>&gt;<i> fragment OTHER    : (' ' | '-' | '.')+;
</I>&gt;<i> SLANT    :    '/';
</I>&gt;<i>
</I>&gt;<i> Antlr will return me VEC305 and 03MAR as two MIX tokens. Is there any way
</I>&gt;<i> to
</I>&gt;<i> define tokens such that Antlr will return me number, slant, mix, slant,
</I>&gt;<i> number, alpha, slant, alpha for the input &quot;1/VEC305/03MAR/PTY&quot; ?
</I>&gt;<i>
</I>&gt;<i> Thank you very much for your suggestions.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Helen
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL:
</I>&gt;<i> <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20091021/c2aac0a2/attachment-0001.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20091021/c2aac0a2/attachment-0001.html</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 7
</I>&gt;<i> Date: Wed, 21 Oct 2009 08:36:07 -0700
</I>&gt;<i> From: Kaleb Pederson &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">kaleb.pederson at gmail.com</A>&gt;
</I>&gt;<i> Subject: Re: [antlr-interest] [Antlr3 grammar] how to specify alpha
</I>&gt;<i>        token,  numeric token and mix of        both
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Message-ID: &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">200910210836.07105.kaleb.pederson at gmail.com</A>&gt;
</I>&gt;<i> Content-Type: Text/Plain;  charset=&quot;us-ascii&quot;
</I>&gt;<i>
</I>&gt;<i> On Wednesday 21 October 2009 03:23:47 am Hieu Phung wrote:
</I>&gt;<i> &gt; My grammar has 3 kinds of tokens:
</I>&gt;<i> &gt; 1) number: contain numeric character
</I>&gt;<i> &gt; 2) alpha: contain alphabetic character;
</I>&gt;<i> &gt; 3) mix: contain number and alpha and hyphen, full stop or space
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; For example:
</I>&gt;<i> &gt; 1/VEC305/03MAR/PTY
</I>&gt;<i> &gt; =&gt; in the above input data, 03MAR should be interpreted as a number of
</I>&gt;<i> &gt; length 2 followed by alpha of length 3. But VEC305 is a mix of length 6.
</I>&gt;<i>
</I>&gt;<i> Hieu,
</I>&gt;<i>
</I>&gt;<i> How do you know that VEC305 is a mix of length six?  It sure looks like an
</I>&gt;<i> alpha followed by a number to me... so what makes it special or different
</I>&gt;<i> than 03MAR?
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Kaleb Pederson
</I>&gt;<i>
</I>&gt;<i> Twitter - <A HREF="http://twitter.com/kalebpederson">http://twitter.com/kalebpederson</A>
</I>&gt;<i> Blog - <A HREF="http://kalebpederson.com">http://kalebpederson.com</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> antlr-interest mailing list
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i>
</I>&gt;<i> End of antlr-interest Digest, Vol 59, Issue 22
</I>&gt;<i> **********************************************
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20091023/7b304317/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20091023/7b304317/attachment.html</A> 
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036486.html">[antlr-interest] Contextual Tree Matching
</A></li>
	<LI>Next message: <A HREF="036482.html">[antlr-interest] Bytes Limit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36480">[ date ]</a>
              <a href="thread.html#36480">[ thread ]</a>
              <a href="subject.html#36480">[ subject ]</a>
              <a href="author.html#36480">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
