<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Parsing erroneous input
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Parsing%20erroneous%20input&In-Reply-To=%3Ce3afb784537dc14abc761e878d371580%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="038637.html">
   <LINK REL="Next"  HREF="038655.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Parsing erroneous input</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Parsing%20erroneous%20input&In-Reply-To=%3Ce3afb784537dc14abc761e878d371580%40temporal-wave.com%3E"
       TITLE="[antlr-interest] Parsing erroneous input">jimi at temporal-wave.com
       </A><BR>
    <I>Fri May 14 08:56:57 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="038637.html">[antlr-interest] Parsing erroneous input
</A></li>
        <LI>Next message: <A HREF="038655.html">[antlr-interest] Parsing erroneous input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38643">[ date ]</a>
              <a href="thread.html#38643">[ thread ]</a>
              <a href="subject.html#38643">[ subject ]</a>
              <a href="author.html#38643">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You have to be careful how you implement your grammar rules such that you can recover sensibly from errors. Generally you build a tree or partial tree then analyze that. You may also need to specifically code for some potential missing elements, but again you have to be careful not to introduce ambiguities that break the normal grammar.

For hints on how to code rules that recover well from errors (especially in loops), see:

<A HREF="http://www.antlr.org/wiki/display/ANTLR3/Custom+Syntax+Error+Recovery">http://www.antlr.org/wiki/display/ANTLR3/Custom+Syntax+Error+Recovery</A>

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A> [mailto:antlr-interest-
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">bounces at antlr.org</A>] On Behalf Of Andreas Heck
</I>&gt;<i> Sent: Friday, May 14, 2010 6:59 AM
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
</I>&gt;<i> Subject: [antlr-interest] Parsing erroneous input
</I>&gt;<i> 
</I>&gt;<i> Hello everybody,
</I>&gt;<i> 
</I>&gt;<i> I have a parser based on the C target that I want to use to check for
</I>&gt;<i> correct syntax in one program but I also want to use it to parse
</I>&gt;<i> erroneous input to do autocompletion in another program.
</I>&gt;<i> 
</I>&gt;<i> If I just parse some input where a semicolon is missing on one line the
</I>&gt;<i> parser recovers since the following statements are transformed into
</I>&gt;<i> correct AST nodes but the code from the line which caused the error
</I>&gt;<i> gets
</I>&gt;<i> represented by two &quot;Tree Node Error&quot; nodes in the AST.
</I>&gt;<i> 
</I>&gt;<i> Unfortunately you can't count on perfectly valid input if you want to
</I>&gt;<i> provide some form of autocompletion.
</I>&gt;<i> 
</I>&gt;<i> What is the best approach to parse erroneous input? Do I have to create
</I>&gt;<i> a second grammar that also accepts input with common errors like a
</I>&gt;<i> missing semicolon?
</I>&gt;<i> 
</I>&gt;<i> Or is there a better way where I can just use the parser which only
</I>&gt;<i> accepts correct input? Maybe I could somehow get the code line which
</I>&gt;<i> caused the error and use handwritten code for common error cases to
</I>&gt;<i> extract the information I need? Or maybe there is a way to get the raw
</I>&gt;<i> tokens that caused the problem from antlr or make it put the best
</I>&gt;<i> partial derivation it can create into the AST?
</I>&gt;<i> 
</I>&gt;<i> Are there any other approaches?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Best regards,
</I>&gt;<i> 
</I>&gt;<i> Andreas
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-">http://www.antlr.org/mailman/options/antlr-interest/your-</A>
</I>&gt;<i> email-address
</I>


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="038637.html">[antlr-interest] Parsing erroneous input
</A></li>
	<LI>Next message: <A HREF="038655.html">[antlr-interest] Parsing erroneous input
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38643">[ date ]</a>
              <a href="thread.html#38643">[ thread ]</a>
              <a href="subject.html#38643">[ subject ]</a>
              <a href="author.html#38643">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
