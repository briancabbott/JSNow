<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Serious doubts on usage of incremental
	parsinginides
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Serious%20doubts%20on%20usage%20of%20incremental%0A%09parsinginides&In-Reply-To=41fed8f805042505237986731f%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011976.html">
   <LINK REL="Next"  HREF="011978.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Serious doubts on usage of incremental
	parsinginides</H1>
    <B>Prashant Deva</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Serious%20doubts%20on%20usage%20of%20incremental%0A%09parsinginides&In-Reply-To=41fed8f805042505237986731f%40mail.gmail.com"
       TITLE="[antlr-interest] Serious doubts on usage of incremental
	parsinginides">prashant.deva at gmail.com
       </A><BR>
    <I>Mon Apr 25 05:35:54 PDT 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="011976.html">[antlr-interest] Serious doubts on usage of incremental
	parsinginides
</A></li>
        <LI>Next message: <A HREF="011978.html">[antlr-interest] Serious doubts on usage of incremental
	parsinginides
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11977">[ date ]</a>
              <a href="thread.html#11977">[ thread ]</a>
              <a href="subject.html#11977">[ subject ]</a>
              <a href="author.html#11977">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Part 3  of my reply ...

Also notice that i am not saying that the incremental parser slows the
stuff down.
No, its updating all the other stuff attached to the parser that slows
everything down.

Note that things like a tree view, if you are gonna update on every
keystroke, it will flash like hell.
Will be almost like a blinking tree ;)

PRASHANT

On 4/25/05, Prashant Deva &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">prashant.deva at gmail.com</A>&gt; wrote:
&gt;<i> Part 2 of my reply .....
</I>&gt;<i> 
</I>&gt;<i> &gt;Unless
</I>&gt;<i> &gt; you have a very slow machine or very low RAM causing swapping, this should
</I>&gt;<i>  &gt; be pretty much unnoticeable.
</I>&gt;<i> 
</I>&gt;<i> I have a 2.4 ghz processor and 512 mb ram and believe me my
</I>&gt;<i> incremental parser is FAST. all my tests are standalone swt apps so
</I>&gt;<i> they take like 6 mb in mem max. But still i notice sluggishness if i
</I>&gt;<i> run it on every keystroke.
</I>&gt;<i> 
</I>&gt;<i> Also eclipse has insanely complex code in ALL its ui elements to
</I>&gt;<i> handle those deltas.
</I>&gt;<i> Look at the outline view for example. They had to almost completly
</I>&gt;<i> reimplement that tree view to make it NOT work on domain objects.
</I>&gt;<i> 
</I>&gt;<i> Same goes for stuff like folding and semantic highlighting.
</I>&gt;<i> PRASHANT
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On 4/25/05, Prashant Deva &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">prashant.deva at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; Scott,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; AFAICS, the user can only be editing one thing at a time, so there's really
</I>&gt;<i> &gt; &gt; only one model to update (no matter how many views on that model). Unless
</I>&gt;<i> &gt; &gt; you have a very slow machine or very low RAM causing swapping, this should
</I>&gt;<i> &gt; &gt; be pretty much unnoticeable.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Again you are not getting me.
</I>&gt;<i> &gt; Lets say we have the following which needs to be updated on every keystroke-
</I>&gt;<i> &gt; 1.) Tree View
</I>&gt;<i> &gt; 2.) Search results view
</I>&gt;<i> &gt; 3.) 3d (hell, lets say OpenGL) dig
</I>&gt;<i> &gt; 4.) Editor highlighting
</I>&gt;<i> &gt; 5.) Symbol table entries
</I>&gt;<i> &gt; 6.) Auto indentation
</I>&gt;<i> &gt; 7.) Folding structure
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Now if you are going to update all these things on every single
</I>&gt;<i> &gt; keystoke  ,then the editor is gonna seem real slow.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; And mind you if you don't run the parser on every keystroke, then you
</I>&gt;<i> &gt; are limiting its power to as good as a batch parser.
</I>&gt;<i> &gt; Hell, a batch parser also takes jsut arnd 30 ms to parse a 10,0000
</I>&gt;<i> &gt; line file, and we are going to be updating after say 500ms anyway, so
</I>&gt;<i> &gt; what diff does it make whether we run a batch parser in between or an
</I>&gt;<i> &gt; incremental parser.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; As you are talking so much about eclipse, well look at the source.
</I>&gt;<i> &gt; they run a FULL parse each time, and just get the deltas of the diff
</I>&gt;<i> &gt; between 2 asts.
</I>&gt;<i> &gt; They DONT have an incremental parser.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Take a look at 'JavaSourceViewerConfiguration', in the getReconciler()
</I>&gt;<i> &gt; method. Hell even the reconciler there is not incremental. There
</I>&gt;<i> &gt; stands no question of incremental parsing.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; They just do incremental compilation, for which they anyway have to
</I>&gt;<i> &gt; parse the full file, and as its done only each time you save, the
</I>&gt;<i> &gt; little slowness does not get noticed.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So here is my problem stated once again -
</I>&gt;<i> &gt; You can't run an incremental parser on every keystroke cause no matter
</I>&gt;<i> &gt; how fast the parser is, the amount of 'other' stuff to update will
</I>&gt;<i> &gt; slow the editor.
</I>&gt;<i> &gt; If you can't run the parser on each keystroke, the incremental parser
</I>&gt;<i> &gt; is as good as a batch parser cause the time interval you are gonna run
</I>&gt;<i> &gt; it in, you can run the batch parser 10 times in it anyway.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So what's the use of an incremental parser.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Also i was looking at this blog of the guy who handles intellisense in
</I>&gt;<i> &gt; visual studio. even they don't run their parser on each keystroke,
</I>&gt;<i> &gt; cause it will be too slow.
</I>&gt;<i> &gt; And eclipse is not fast! its just that parsing is not that slow after all ;)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; PRASHANT
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 4/25/05, Scott Stanchfield &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">scott at javadude.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; Ahhh... I took &quot;incremental parsing&quot; for &quot;incremental compilation&quot;.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Never mind ;)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; AFAICS, the user can only be editing one thing at a time, so there's really
</I>&gt;<i> &gt; &gt; only one model to update (no matter how many views on that model). Unless
</I>&gt;<i> &gt; &gt; you have a very slow machine or very low RAM causing swapping, this should
</I>&gt;<i> &gt; &gt; be pretty much unnoticeable.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I guess I'll come back to eclipse anyway. I've never noticed it stopping me
</I>&gt;<i> &gt; &gt; just because it's updating its ast. Occasionally I'll have to wait a few
</I>&gt;<i> &gt; &gt; seconds for a large build (due to some validation weirdness in the
</I>&gt;<i> &gt; &gt; webtools), but even that's minimal.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I'm not sure if eclipse is totally rebuilding the ast each time or not (it
</I>&gt;<i> &gt; &gt; may be). I'm working on a plugin that filters trivial get/set methods and
</I>&gt;<i> &gt; &gt; displays an editable table of bean properties (which is why I want the ANTLR
</I>&gt;<i> &gt; &gt; tree support to be more flexible), and I had it rebuild the ast each time
</I>&gt;<i> &gt; &gt; and it wasn't noticeable to me. (In other words, the ast build was getting
</I>&gt;<i> &gt; &gt; called at least twice per refresh; once by eclipse, once by me. However,
</I>&gt;<i> &gt; &gt; eclipse may be caching it and detecting changes so it can simply return it).
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Later,
</I>&gt;<i> &gt; &gt; -- Scott
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011976.html">[antlr-interest] Serious doubts on usage of incremental
	parsinginides
</A></li>
	<LI>Next message: <A HREF="011978.html">[antlr-interest] Serious doubts on usage of incremental
	parsinginides
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11977">[ date ]</a>
              <a href="thread.html#11977">[ thread ]</a>
              <a href="subject.html#11977">[ subject ]</a>
              <a href="author.html#11977">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
