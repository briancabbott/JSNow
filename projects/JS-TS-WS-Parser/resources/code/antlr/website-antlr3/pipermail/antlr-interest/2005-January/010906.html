<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Would really appreciate some hand-holding with two
 specific parsing issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Would%20really%20appreciate%20some%20hand-holding%20with%20two%0A%20specific%20parsing%20issues&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010908.html">
   <LINK REL="Next"  HREF="010909.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Would really appreciate some hand-holding with two
 specific parsing issues</H1>
    <B>Christopher Schultz</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Would%20really%20appreciate%20some%20hand-holding%20with%20two%0A%20specific%20parsing%20issues&In-Reply-To="
       TITLE="[antlr-interest] Would really appreciate some hand-holding with two
 specific parsing issues">christopher.d.schultz at comcast.net
       </A><BR>
    <I>Sun Jan 16 14:49:39 PST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="010908.html">[antlr-interest] warning:lexical nondeterminism between
	rulesVARTYPE and IDENT upon....
</A></li>
        <LI>Next message: <A HREF="010909.html">[antlr-interest] Re: ANTLR vs lex/yacc, debugging and ANTLR 3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10906">[ date ]</a>
              <a href="thread.html#10906">[ thread ]</a>
              <a href="subject.html#10906">[ subject ]</a>
              <a href="author.html#10906">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>All,
First let me say &quot;hello&quot; as I have just joined the list. I have two 
somewhat specific things that I'm encountering that I'm sure I could 
search the archives forever and not find. I'm hoping some kind soul will 
either point me to an archived post or take a few minutes and help me. 
Thanks!

Anyhow, I am attempting to write a mathematical expression evaluator 
(who isn't right?) implemented in Java. I have most everything working, 
but I'm running into two problems which may or not be related to each other.

My grammar can be found here for reference: 
<A HREF="http://www.christopherschultz.net/projects/java/expression.g">http://www.christopherschultz.net/projects/java/expression.g</A>

The first problem (and something I would like to deal with sooner) is 
that I cannot get &quot;identifiers&quot; to work correctly. I basically define an 
identifier as a token (and then a parser rule) like you probably would 
in any programming language: just strings of word characters or digits 
or underscores. The token (IDENTIFIER) works just fine and the parser 
rule ('identifier') works under certain circumstances.

When my expression is something like &quot;id&quot;, I'd like the parser to see 
that as an 'identifier' and execute the appropriate code (which creates 
an IdentifierExpression object as written in the grammar file). 
Unfortunately, the parser gives me an error message: &quot;unexpected token: 
id&quot;. That's fine -- it usually means that I forgot to set up a rule 
properly.

However, when the expression is &quot;(id)&quot;, it works correctly. I have 
checked my grammer file a few times and can't see anything that jumps 
right out at me. I'd really love it if someone could take a look and 
explain why it's working under one circumstance and not under another 
(or tell me why my grammer is completely foobar'd).

The second problem is that if my top-level expression rule ends with the 
token EOF, the parser chokes on things that I would expect to work. For 
example, &quot;2 + 2&quot; works just fine, but &quot;(2 + 2)&quot; gives me the following 
error message: &quot;line 1:5: expecting EOF, found ')' \n line 1:6: 
expecting RPAREN, found 'null'&quot;.

Here's an even weirder thing: adding EOF as a final token to my 
top-level rule makes the first problem go away. (??!)

I would love for someone to take some time and look at my grammar and 
see if they can offer any words of wisdom.

If you'd like to grab the entire package (source code, grammar, tests, 
etc.) you can get it here:

<A HREF="http://www.christopherschultz.net/projects/java/">http://www.christopherschultz.net/projects/java/</A>

Thanks in advance,
-chris
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 254 bytes
Desc: OpenPGP digital signature
Url : <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20050116/c9aa282c/signature.bin">http://www.antlr.org/pipermail/antlr-interest/attachments/20050116/c9aa282c/signature.bin</A>
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010908.html">[antlr-interest] warning:lexical nondeterminism between
	rulesVARTYPE and IDENT upon....
</A></li>
	<LI>Next message: <A HREF="010909.html">[antlr-interest] Re: ANTLR vs lex/yacc, debugging and ANTLR 3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10906">[ date ]</a>
              <a href="thread.html#10906">[ thread ]</a>
              <a href="subject.html#10906">[ subject ]</a>
              <a href="author.html#10906">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
