<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Retaining comments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Retaining%20comments&In-Reply-To=%3C200803122125.m2CLP2bo010275%40tach.newtechlaw.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027143.html">
   <LINK REL="Next"  HREF="027161.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Retaining comments</H1>
    <B>Gerald B. Rosenberg</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Retaining%20comments&In-Reply-To=%3C200803122125.m2CLP2bo010275%40tach.newtechlaw.com%3E"
       TITLE="[antlr-interest] Retaining comments">gbr at newtechlaw.com
       </A><BR>
    <I>Wed Mar 12 14:22:55 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="027143.html">[antlr-interest] Retaining comments
</A></li>
        <LI>Next message: <A HREF="027161.html">[antlr-interest] Retaining comments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27160">[ date ]</a>
              <a href="thread.html#27160">[ thread ]</a>
              <a href="subject.html#27160">[ subject ]</a>
              <a href="author.html#27160">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 11:02 AM 3/12/2008, Thomas Brandon wrote:
&gt;<i>On Thu, Mar 13, 2008 at 3:53 AM, Stuart Watt &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">SWatt at infobal.com</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The scenario I flagged is illustrative only of my particular task, where I
</I>&gt;<i> &gt; want the best of an AST and of the text. This is not quite associating
</I>&gt;<i> &gt; comments and structure, but of generating annotated/formatted text.
</I>&gt;<i>
</I>&gt;<i>Depending on your XPath processor you might even be able to easily
</I>&gt;<i>write a DOM\SAX wrapper around your AST and use that to run XPath
</I>&gt;<i>against your AST without having to do any XML&lt;-&gt;AST. Then you could
</I>&gt;<i>mix XPath and tree parser based passes.
</I>&gt;<i>...
</I>&gt;<i>Just thinking out loud here but seems like it might work.
</I>
In that vein ...

There are times where you just need to randomly muck around in the 
AST.  To use the AST interactively (to do user-driven refactorings in 
my case), or where the selection conditions are context dependent, as 
what sounds to be Stuart's case.  An AST wrapper is, I think, the 
right approach.  The down-side is that it would be directly dependent 
on the implementation/structure of the AST, requiring rewrite each 
time the AST changed.

So, how to generate the implementation of a reasonably generic AST 
random access/manipulation API?

One way, leveraging Antlr, would be to use a custom StringTemplate to 
write the API implementing class directly dependent on the target 
grammar: analogous to a &quot;tree grammar&quot;, there would be an &quot;access 
grammar&quot;.  Implementation could be based on a copy/modification of 
the existing Antlr tree-walker generator.

Initial tool implementation effort would be non-trivial, but would 
result in a big win for grammar writers/maintainers.

Still, bogus idea or not?
----
Gerald B. Rosenberg, Esq.
NewTechLaw
260 Sheridan Ave., Suite 208
Palo Alto, CA  94306-2009

650.325.2100  (office)  /  650.703.1724  (cell)
650.325.2107  (facsimile)

www.newtechlaw.com


CONFIDENTIALITY NOTICE:  This email message (including any 
attachments) is being sent by an attorney, is for the sole use of the 
intended recipient, and may contain confidential and privileged 
information.  Any unauthorized review, use, disclosure or 
distribution is prohibited.  If you are not the intended recipient, 
please contact the sender immediately by reply email and delete all 
copies of this message and any attachments without retaining a copy.  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20080312/af0c6b31/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20080312/af0c6b31/attachment.html</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027143.html">[antlr-interest] Retaining comments
</A></li>
	<LI>Next message: <A HREF="027161.html">[antlr-interest] Retaining comments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27160">[ date ]</a>
              <a href="thread.html#27160">[ thread ]</a>
              <a href="subject.html#27160">[ subject ]</a>
              <a href="author.html#27160">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
