<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Tree-based interpreters
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Tree-based%20interpreters&In-Reply-To=%3C717d79080903250958k18de9e4dj6fc48e303d8984d0%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033676.html">
   <LINK REL="Next"  HREF="033687.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Tree-based interpreters</H1>
    <B>Joern Gebhardt</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Tree-based%20interpreters&In-Reply-To=%3C717d79080903250958k18de9e4dj6fc48e303d8984d0%40mail.gmail.com%3E"
       TITLE="[antlr-interest] Tree-based interpreters">gebhardt at joern-gebhardt.de
       </A><BR>
    <I>Wed Mar 25 09:58:10 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033676.html">[antlr-interest] Fw: a newbie question
</A></li>
        <LI>Next message: <A HREF="033687.html">[antlr-interest] Tree-based interpreters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33682">[ date ]</a>
              <a href="thread.html#33682">[ thread ]</a>
              <a href="subject.html#33682">[ subject ]</a>
              <a href="author.html#33682">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I found in the wiki (
<A HREF="http://www.antlr.org/wiki/display/CS652/Tree-based+interpreters">http://www.antlr.org/wiki/display/CS652/Tree-based+interpreters</A>) a page that
describes how an if-statement could be processed based on an AST.

The grammar stated there looks like this:

ifstat
    :   ^('if' c=expr s=. e=.?) // ^('if' expr stat stat?)
        {
        int next = input.index();
        if ( ((Boolean)$c.value).booleanValue() ) {
            input.seek($s.start.streamIndex);
            stat();
        }
        else if ( $e!=null ) {
            input.seek($e.start.streamIndex);
            stat();
        }
        input.seek(next);
        }
    ;


I tried this out but wasn't able to extract the &quot;streamIndex&quot; out of the
statement CommonTree objects &quot;s&quot; and &quot;e&quot; (by the way, this is already stated
as comment on the wiki).
I only found was the &quot;startIndex&quot; and &quot;stopIndex&quot; but I guess that these
attribute refer to the token position in the token stream created by the
lexer.

Is there any possibility to get the index of the CommonTreeNodeStream (and
not the token stream)? Or do you have any other suggestions how I could use
a tree-grammar
to process if-statements?

Thanks in advance,
Joern
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090325/f7c920e1/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090325/f7c920e1/attachment.html</A> 
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033676.html">[antlr-interest] Fw: a newbie question
</A></li>
	<LI>Next message: <A HREF="033687.html">[antlr-interest] Tree-based interpreters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33682">[ date ]</a>
              <a href="thread.html#33682">[ thread ]</a>
              <a href="subject.html#33682">[ subject ]</a>
              <a href="author.html#33682">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
