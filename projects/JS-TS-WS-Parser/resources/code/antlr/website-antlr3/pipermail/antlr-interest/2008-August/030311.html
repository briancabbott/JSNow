<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Unicode in Lexer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Unicode%20in%20Lexer&In-Reply-To=%3C48B1A117.8090506%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030310.html">
   <LINK REL="Next"  HREF="030312.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Unicode in Lexer</H1>
    <B>Johannes Luber</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Unicode%20in%20Lexer&In-Reply-To=%3C48B1A117.8090506%40gmx.de%3E"
       TITLE="[antlr-interest] Unicode in Lexer">jaluber at gmx.de
       </A><BR>
    <I>Sun Aug 24 10:57:43 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="030310.html">[antlr-interest] Unicode in Lexer
</A></li>
        <LI>Next message: <A HREF="030312.html">[antlr-interest] Antlr Ant task
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30311">[ date ]</a>
              <a href="thread.html#30311">[ thread ]</a>
              <a href="subject.html#30311">[ subject ]</a>
              <a href="author.html#30311">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gaius Centus Novus schrieb:
&gt;<i> I'm trying to build a lexer, and I'd like to include Unicode
</I>&gt;<i> characters.  For example, I'd like to be able to do
</I>&gt;<i> 
</I>&gt;<i> NUMERIC: INTEGER | FLOAT | ... | IRRATIONAL | INFINITE;
</I>&gt;<i> 
</I>&gt;<i> ...
</I>&gt;<i> 
</I>&gt;<i> IRRATIONAL: PI | ...;
</I>&gt;<i> 
</I>&gt;<i> PI: '&#960;';   // greek lowercase pi: Unicode U+03C0
</I>&gt;<i> 
</I>&gt;<i> INFINITE = SIGN? '&#8734;';  // the infinity symbol: Unicode U+221E
</I>&gt;<i> 
</I>&gt;<i> Antlr gives me the following error on trying to build a lexer for that
</I>&gt;<i> last rule:
</I>&gt;<i> [12:45:36] MyLexer.g:35:17: expecting ''', found '&#8734;'
</I>&gt;<i>  at org.antlr.tool.ANTLRLexer.nextToken(ANTLRLexer.java:321)
</I>&gt;<i>  ...
</I>&gt;<i> 
</I>&gt;<i> How do I represent unicode characters in the lexer?
</I>&gt;<i> 
</I>&gt;<i> In addition to these constants, I'd also like to be able to allow
</I>&gt;<i> arbitrary Unicode characters in certain rules.  For example, where
</I>&gt;<i> Java has something like:
</I>&gt;<i> 
</I>&gt;<i> ID: 'a'..'z' ('a'..'z' | 'A'..'Z' | '_')*
</I>&gt;<i> 
</I>&gt;<i> I'd like to match any of the following (and infinitely many others):
</I>&gt;<i> 
</I>&gt;<i> '&#8730;' // square root: Unicode U+221A
</I>&gt;<i> 'r&#233;sum&#233;'  //resume with properly accented e's: U+00E9
</I>&gt;<i> etc.
</I>&gt;<i> 
</I>&gt;<i> Has anyone built rules that allow arbitrary code points?  Or better
</I>&gt;<i> yet, some specific subsets?
</I>&gt;<i> 
</I>&gt;<i> I found a link to <A HREF="http://www.antlr.org/doc/lexer.html#unicode,">http://www.antlr.org/doc/lexer.html#unicode,</A> but
</I>&gt;<i> that page no longer exists.
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Gaius
</I>
Well, the ANTLR tool itself does so far consume only the 7-bit ASCII
char page and can't handle unicode. But lexers can recognize unicode
characters natively, when they are specified via '\uxxxx'. There is no
direct support for chars beyound '\u10000', as Java doesn't support
them, but you can create rules which scan for the surrogate char range
and translate them later (if your target is e.g. C#).

Johannes
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030310.html">[antlr-interest] Unicode in Lexer
</A></li>
	<LI>Next message: <A HREF="030312.html">[antlr-interest] Antlr Ant task
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30311">[ date ]</a>
              <a href="thread.html#30311">[ thread ]</a>
              <a href="subject.html#30311">[ subject ]</a>
              <a href="author.html#30311">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
