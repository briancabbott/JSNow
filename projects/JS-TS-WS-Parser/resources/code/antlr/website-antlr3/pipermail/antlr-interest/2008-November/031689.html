<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Write comments to templates
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Write%20comments%20to%20templates&In-Reply-To=%3C492AECB1.9080907%40peachjean.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031688.html">
   <LINK REL="Next"  HREF="031651.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Write comments to templates</H1>
    <B>Jared Bunting</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Write%20comments%20to%20templates&In-Reply-To=%3C492AECB1.9080907%40peachjean.com%3E"
       TITLE="[antlr-interest] Write comments to templates">jared.bunting at peachjean.com
       </A><BR>
    <I>Mon Nov 24 10:04:33 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="031688.html">[antlr-interest] Write comments to templates
</A></li>
        <LI>Next message: <A HREF="031651.html">[antlr-interest] Write comments to templates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31689">[ date ]</a>
              <a href="thread.html#31689">[ thread ]</a>
              <a href="subject.html#31689">[ subject ]</a>
              <a href="author.html#31689">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well, I haven't actually used the rewrite features myself, just read the 
section on them in the book :-).  I would suggest that as a starting 
point.  I don't think you have to access the string produced by a 
template, etc.

 From your initial description, it sounded like your parser was 
basically taking some input and modifying the bits that you cared about 
while leaving the bits you don't care about (comments) alone, but 
preserving them in the output.  The rewrite features seem to be designed 
to do exactly this.  From what I understand, the TokenRewriteStream 
basically copies your input to a buffer.  Then, while parsing, each rule 
that is parsed, the output for the template for that rule replaces the 
original text that matched that rule.  Then, you can print out the 
entire buffer from the TokenRewriteStream.

But, like I said, I haven't actually used this functionality, but it 
sounds like it might be a fit for your problem.

-Jared

Chris Sekszczynska wrote:
&gt;<i> Hi Jared,
</I>&gt;<i>
</I>&gt;<i> this could be a good and elegant solution :)
</I>&gt;<i>
</I>&gt;<i> I think you mean the TokenStreamRewriteEngine? There, I can add a 
</I>&gt;<i> String before and after a hidden token. But how can I access the 
</I>&gt;<i> String which is produced by a specific template? And how can I map the 
</I>&gt;<i> template output to the hidden token? I see no way to access the 
</I>&gt;<i> template output within the grammar and no way to access the token 
</I>&gt;<i> within my main() method.
</I>&gt;<i>
</I>&gt;<i> I'm not very familiar with ANTLRs internals, so I don't see any 
</I>&gt;<i> starting point :(
</I>&gt;<i>
</I>&gt;<i> Kind regards,
</I>&gt;<i>
</I>&gt;<i> Chris
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 23.11.2008 at 05:34 Jared Bunting wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Not sure if it will meet your needs or not, but you might want to 
</I>&gt;&gt;<i> look at the rewrite functionality.  It should allow you to use your 
</I>&gt;&gt;<i> source file as a starting point, and replace code in it with your 
</I>&gt;&gt;<i> template output.  By ignoring comments in your parser, I would think 
</I>&gt;&gt;<i> the rewrite would simply leave those where they are.
</I>&gt;<i>
</I></PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031688.html">[antlr-interest] Write comments to templates
</A></li>
	<LI>Next message: <A HREF="031651.html">[antlr-interest] Write comments to templates
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31689">[ date ]</a>
              <a href="thread.html#31689">[ thread ]</a>
              <a href="subject.html#31689">[ subject ]</a>
              <a href="author.html#31689">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
