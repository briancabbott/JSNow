<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] error locations: how to emulate #line functionality in Java?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20error%20locations%3A%20how%20to%20emulate%20%23line%20functionality%20in%20Java%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010445.html">
   <LINK REL="Next"  HREF="010448.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] error locations: how to emulate #line functionality in Java?</H1>
    <B>Alexey Demakov</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20error%20locations%3A%20how%20to%20emulate%20%23line%20functionality%20in%20Java%3F&In-Reply-To="
       TITLE="[antlr-interest] error locations: how to emulate #line functionality in Java?">demakov at ispras.ru
       </A><BR>
    <I>Thu Nov 25 08:56:50 PST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="010445.html">[antlr-interest] Storing ambiguity in the tree
</A></li>
        <LI>Next message: <A HREF="010448.html">[antlr-interest] error locations: how to emulate #line functionality in Java?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10447">[ date ]</a>
              <a href="thread.html#10447">[ thread ]</a>
              <a href="subject.html#10447">[ subject ]</a>
              <a href="author.html#10447">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi all, 

I need ideas.
After source to source translation, generated files are compiled
using, for example, Java compiler. If source file contains user-supplied
code in target language, it can cause compile time errors.
For example, it can be user actions in ANTLR grammar.
In compiler messages, error locations are in generated files.
So, often you need to look in generated parser to find out, what's wrong.
If it is not a bug in the translation tool, you see that problem is 
in your code and should be corrected in source file (*.g).
I suppose, if error location in compiler message was in source file,
you were able to correct it without having to look at generated files.
In C language there are preprocessor directive #line used by lex/yacc
that tell compiler which file name and line number should be used in error messages.
As far as I know, Java doesn't provide such functionality in any way.
So, I see the only method to emulate it is to store translation table with correspondence
between source and generated files and line numbers and translate compiler
error messages back at source level.
May be you have better ideas? If solution will be suitable not only for Java - it will be great.

Regards,
Alexey

-----
Alexey Demakov
TreeDL: Tree Description Language: <A HREF="http://treedl.sourceforge.net">http://treedl.sourceforge.net</A>
RedVerst Group: <A HREF="http://www.unitesk.com">http://www.unitesk.com</A>




 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
    <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
    <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
    <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010445.html">[antlr-interest] Storing ambiguity in the tree
</A></li>
	<LI>Next message: <A HREF="010448.html">[antlr-interest] error locations: how to emulate #line functionality in Java?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10447">[ date ]</a>
              <a href="thread.html#10447">[ thread ]</a>
              <a href="subject.html#10447">[ subject ]</a>
              <a href="author.html#10447">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
