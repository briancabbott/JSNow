<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] BUG - Antlr is snooping in comments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20BUG%20-%20Antlr%20is%20snooping%20in%20comments&In-Reply-To=%3C200710121257.32261.rschulz%40sonic.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024123.html">
   <LINK REL="Next"  HREF="024125.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] BUG - Antlr is snooping in comments</H1>
    <B>Randall R Schulz</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20BUG%20-%20Antlr%20is%20snooping%20in%20comments&In-Reply-To=%3C200710121257.32261.rschulz%40sonic.net%3E"
       TITLE="[antlr-interest] BUG - Antlr is snooping in comments">rschulz at sonic.net
       </A><BR>
    <I>Fri Oct 12 12:57:32 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="024123.html">[antlr-interest] BUG - Antlr is snooping in comments
</A></li>
        <LI>Next message: <A HREF="024125.html">[antlr-interest] should lexical rules with identical content be	treated equally?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24124">[ date ]</a>
              <a href="thread.html#24124">[ thread ]</a>
              <a href="subject.html#24124">[ subject ]</a>
              <a href="author.html#24124">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 12 October 2007 12:44, Austin Hastings wrote:
&gt;<i> /* There's a comment here, too. */
</I>&gt;<i> scope    Mumble {
</I>&gt;<i>     int        foo;    /* Comment at the end? (x = 1) */
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> After scratching my head for a while over a mysterious error message,
</I>&gt;<i> I finally got the example case above.
</I>&gt;<i>
</I>&gt;<i>  From what I can tell, ANTLR treats the curly braces as delimiting
</I>&gt;<i> some mysterious other language -- this is decent, since it is trying
</I>&gt;<i> to be language-agnostic. But the error message is a killer:
</I>&gt;<i>
</I>&gt;<i> ...
</I>
There are other pitfalls of using target language comments within action 
blocks.

The one I've encountered is the inadvisability of using 
end-of-line-terminated comments. Many of the substitutions that the 
ANTLR code generator applies to the content of action blocks have 
embedded newlines. So if you try to comment out something with, say, 
a // comment (taking C / C++ or Java as the target language) you may 
end up with some baffling syntax errors when you compile the result.

I suppose under certain circumstances you could even get syntactically 
valid code that didn't do what you wanted (or did more, I guess you'd 
say).


&gt;<i> =Austin
</I>

You have been warned...


Randall Schulz
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024123.html">[antlr-interest] BUG - Antlr is snooping in comments
</A></li>
	<LI>Next message: <A HREF="024125.html">[antlr-interest] should lexical rules with identical content be	treated equally?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24124">[ date ]</a>
              <a href="thread.html#24124">[ thread ]</a>
              <a href="subject.html#24124">[ subject ]</a>
              <a href="author.html#24124">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
