<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Modifying and printing AST under C target
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Modifying%20and%20printing%20AST%20under%20C%20target&In-Reply-To=%3C93FCBF72DCE7634481C5DF1654D8FF130325F998%40DC2%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036163.html">
   <LINK REL="Next"  HREF="036161.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Modifying and printing AST under C target</H1>
    <B>Heiko Folkerts</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20Modifying%20and%20printing%20AST%20under%20C%20target&In-Reply-To=%3C93FCBF72DCE7634481C5DF1654D8FF130325F998%40DC2%3E"
       TITLE="[antlr-interest] Modifying and printing AST under C target">Heiko.Folkerts at david-bs.de
       </A><BR>
    <I>Thu Oct  1 06:20:46 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="036163.html">[antlr-interest] Left factor? Syntactic predicates? Or another solution?
</A></li>
        <LI>Next message: <A HREF="036161.html">[antlr-interest] Modifying and printing AST under C target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36158">[ date ]</a>
              <a href="thread.html#36158">[ thread ]</a>
              <a href="subject.html#36158">[ subject ]</a>
              <a href="author.html#36158">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
I have a parser that creates an AST. Now I want to annotate the AST with own data. It would be enough to change the payload coresponding to each node. Afterwards I want to print out the AST so I can write unit tests to check everything works as expected.

When I use the ASTLabelType pANTLR3_BASE_TREE and set the $type attribute within a rule I can run the parser, but the function toStringTree only prints out the tokentext. But I'd like to get also the type of the token in the output to check whether the assignment to the $type-Attribute was correct.

I tried using pANTLR3_COMMON_TREE but when running the function tostring (tostringTree is only in pANTLR3_BASE_TREE) my program crashes. 

So: 1. Do I have to use the base tree or the common tree?
2. If I need the common tree what do I have to do to use it correctly?

Thx
Heiko


Mit freundlichem Gru&#223;
Heiko Folkerts
Systementwicklung und -design
--
______________________________________________
DAVID GmbH &#183; Wendenring 1 &#183; 38114 Braunschweig
Tel.: +49 531 24379-14
Fax.: +49 531 24379-79
E-Mail: mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">Heiko.Folkerts at david-bs.de</A>
WWW:   <A HREF="http://www.david-bs.de&#160;">http://www.david-bs.de&#160;</A>
Eintragung: Amtsgericht Braunschweig, HRB 3167
Gesch&#228;ftsf&#252;hrer: Frank Ptok
______________________________________________

 
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036163.html">[antlr-interest] Left factor? Syntactic predicates? Or another solution?
</A></li>
	<LI>Next message: <A HREF="036161.html">[antlr-interest] Modifying and printing AST under C target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36158">[ date ]</a>
              <a href="thread.html#36158">[ thread ]</a>
              <a href="subject.html#36158">[ subject ]</a>
              <a href="author.html#36158">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
