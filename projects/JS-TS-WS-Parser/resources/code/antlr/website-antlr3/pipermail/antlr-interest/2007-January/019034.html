<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] Is ANTLR the right tool for the job?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Is%20ANTLR%20the%20right%20tool%20for%20the%20job%3F&In-Reply-To=459D2DE9.4050808%40eircom.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019028.html">
   <LINK REL="Next"  HREF="019035.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] Is ANTLR the right tool for the job?</H1>
    <B>Andy Tripp</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20Is%20ANTLR%20the%20right%20tool%20for%20the%20job%3F&In-Reply-To=459D2DE9.4050808%40eircom.net"
       TITLE="[antlr-interest] Is ANTLR the right tool for the job?">antlr at jazillian.com
       </A><BR>
    <I>Thu Jan  4 13:05:17 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="019028.html">[antlr-interest] Is ANTLR the right tool for the job?
</A></li>
        <LI>Next message: <A HREF="019035.html">[antlr-interest] spice netlist parser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19034">[ date ]</a>
              <a href="thread.html#19034">[ thread ]</a>
              <a href="subject.html#19034">[ subject ]</a>
              <a href="author.html#19034">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alan Larkin wrote:
&gt;<i> I need to modify some C++ code, performing tasks such as replacing
</I>&gt;<i> primitive numeric variables with new objects and converting arithmetic
</I>&gt;<i> expressions to different forms.
</I>&gt;<i>
</I>&gt;<i> I would like very much to do this using JavaCC as I have had very
</I>&gt;<i> positive experiences using it on Java in the past. By first passing the
</I>&gt;<i> grammar file through Java Tree Builder (JTB) the resulting parser will
</I>&gt;<i> return an abstract syntax tree for the inputted code, which supports the
</I>&gt;<i> visitor design pattern. I could then write small visitors to locate and
</I>&gt;<i> replace the relevant sections of code, reformat the code using a
</I>&gt;<i> formatting visitor, and finally dump the new code to file.
</I>&gt;<i>
</I>&gt;<i> Unfortunately the C++ grammars for JavaCC are woefully substandard (10
</I>&gt;<i> years old!). ANTLR looks like it has a better C++ grammar but I am
</I>&gt;<i> unsure if it can be used to satisfy the above objectives.
</I>&gt;<i>
</I>&gt;<i> Can the list please advise on whether or not ANTLR is suitable for this
</I>&gt;<i> task and possibly direct me to some useful examples of such processes?
</I>&gt;<i>
</I>&gt;<i> Many thanks,
</I>&gt;<i> Alan.
</I>&gt;<i>
</I>&gt;<i>   
</I>Hi Alan,
I use ANTLR to process C, and I'm using JavaCC with JTB to process COBOL 
because there
doesn't seem to be a ANTLR COBOL grammar.

Yes, ANTLR can certainly be used to do what you need. The &quot;official&quot; way 
to do what you want
is to create an ANTLR &quot;treewalker&quot;. You basically create a grammar that 
describes the AST
structure, and then add actions withing that grammar as needed. I find 
that a bit cumbersome...
see this blog for details: 
<A HREF="http://www.jazillian.com/articles/treewalkers.html">http://www.jazillian.com/articles/treewalkers.html</A>

So instead of treewalkers, what you could do is just walk the tree &quot;by 
hand&quot;, visiting each node
and its children. That way you don't spend your time worrying about the 
exact structure of the AST,
and rather spend it thinking &quot;If I hit this kind of node in the AST, do 
the following...&quot;.

It's been about a year since I've used the ANTLR C++ grammar, but I'll 
give my two cents anyway.
I think it's pretty solid, but not nearly as solid as the C, Java, and 
other ANTLR grammars. This is
mostly because C++ is just a horribly complex language, and there are 
just so many little holes in
the standard that it seems like the ANTLR C++ grammar would sometimes 
fail on particular C++ programs.

Andy
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019028.html">[antlr-interest] Is ANTLR the right tool for the job?
</A></li>
	<LI>Next message: <A HREF="019035.html">[antlr-interest] spice netlist parser
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19034">[ date ]</a>
              <a href="thread.html#19034">[ thread ]</a>
              <a href="subject.html#19034">[ subject ]</a>
              <a href="author.html#19034">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
