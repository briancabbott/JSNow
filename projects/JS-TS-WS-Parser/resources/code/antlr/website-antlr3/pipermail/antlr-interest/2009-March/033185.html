<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] On &quot;Heterogeneous tree nodes&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20On%20%22Heterogeneous%20tree%20nodes%22&In-Reply-To=%3C514bff6b0903020934u72c077bkb627f6989c77acb8%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033183.html">
   <LINK REL="Next"  HREF="033188.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] On &quot;Heterogeneous tree nodes&quot;</H1>
    <B>Juan Ignacio Gelos</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20On%20%22Heterogeneous%20tree%20nodes%22&In-Reply-To=%3C514bff6b0903020934u72c077bkb627f6989c77acb8%40mail.gmail.com%3E"
       TITLE="[antlr-interest] On &quot;Heterogeneous tree nodes&quot;">juang at evolutio.com.ar
       </A><BR>
    <I>Mon Mar  2 09:34:12 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="033183.html">[antlr-interest] Is this the correct use of ANTLR
</A></li>
        <LI>Next message: <A HREF="033188.html">[antlr-interest] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33185">[ date ]</a>
              <a href="thread.html#33185">[ thread ]</a>
              <a href="subject.html#33185">[ subject ]</a>
              <a href="author.html#33185">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I'm trying to map SQL queries to ASTs. My idea for the final AST is to have
tree of objects whose classes represent actual language constructs and
database objects. i.e., for starters I want a TableColumn class for the
nodes representing database columns, for example those specified in the
SELECT clause of the SELECT statement (SELECT col1, col2, col3, ... )

Now, to determine that this token is a column, I need to do so through
&quot;nested&quot; parser rules, eg.

column :
    dbObject      //&lt;ColumnNode&gt;
        -&gt; ^( COLUMN dbObject )

dbObject :
    identifier ( DOT identifier ) *
    ;

identifier :
    NonQuotedIdentifier
    | QuotedIdentifier
    ;


I want to map this column token to a class named ColumnNode (as you see in
the commented out token option which does not work because dbObject isn't a
lexer rule.
Of course, dbObject and identifier are rules used elsewhere througout the
grammar.

What's the approach to take? a) Can I get the context of the node in the
TreeAdaptor, b) is there any way to make the &lt;token=...&gt; option to work with
parser rules, c) do I need to rephrase the rules in any way to allow for any
of this?

Thanks in advance for any tips/help with this.


Saluda atte.,
Juan Ignacio Gelos
Evolutio Software
<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">juang at evolutio.com.ar</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20090302/91dc1170/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20090302/91dc1170/attachment.html</A> 
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033183.html">[antlr-interest] Is this the correct use of ANTLR
</A></li>
	<LI>Next message: <A HREF="033188.html">[antlr-interest] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33185">[ date ]</a>
              <a href="thread.html#33185">[ thread ]</a>
              <a href="subject.html#33185">[ subject ]</a>
              <a href="author.html#33185">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
