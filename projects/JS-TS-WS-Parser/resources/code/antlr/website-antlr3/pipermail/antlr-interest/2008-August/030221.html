<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] [C target] ANTLR 3.1 issues with	token	offsets	and generated AST	return types
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%5BC%20target%5D%20ANTLR%203.1%20issues%20with%09token%09offsets%0A%09and%20generated%20AST%09return%20types&In-Reply-To=%3C1219308447.5990.10.camel%40cartman%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030220.html">
   <LINK REL="Next"  HREF="030189.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] [C target] ANTLR 3.1 issues with	token	offsets	and generated AST	return types</H1>
    <B>Sven Van Echelpoel</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%5BC%20target%5D%20ANTLR%203.1%20issues%20with%09token%09offsets%0A%09and%20generated%20AST%09return%20types&In-Reply-To=%3C1219308447.5990.10.camel%40cartman%3E"
       TITLE="[antlr-interest] [C target] ANTLR 3.1 issues with	token	offsets	and generated AST	return types">sven.van.echelpoel at empolis.com
       </A><BR>
    <I>Thu Aug 21 01:47:27 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="030220.html">[antlr-interest] [C target] ANTLR 3.1 issues with	token	offsets	and generated AST	return types
</A></li>
        <LI>Next message: <A HREF="030189.html">[antlr-interest] generating nice error messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30221">[ date ]</a>
              <a href="thread.html#30221">[ thread ]</a>
              <a href="subject.html#30221">[ subject ]</a>
              <a href="author.html#30221">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>[Trying again, sent too quickly before]
&gt;<i> Try the released runtime, correcting your grammar and make sure that
</I>&gt;<i> you are using the UCS2 input stream. Use the built in references for
</I>&gt;<i> $pos and so on in the lexer and see what you get.
</I>&gt;<i> 
</I>OK, I managed to build everything with the released 3.1 now. There was
some environment variable that still pointed to the b2 version in my
build system. Deeply sorry for all the noise concerning it not building.

Yet with the released 3.1 I still get 0 for the token indexes. Here's
how I get at the indexes:


ANTLR3_BASE_TREE_struct*        mAST;
ANTLR3_COMMON_TOKEN_struct*     mToken = mAST-&gt;getToken( mAST );
unsigned                        index = mToken-&gt;start;

but I also tried 

unsigned                        index = mToken-&gt;getStartIndex( mToken );

Is this the correct way of getting at the token indexes? If not, can you
point me to the functions in the documentation that I need in order to
get the correct indexes?

Thanks,

Sven



</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030220.html">[antlr-interest] [C target] ANTLR 3.1 issues with	token	offsets	and generated AST	return types
</A></li>
	<LI>Next message: <A HREF="030189.html">[antlr-interest] generating nice error messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30221">[ date ]</a>
              <a href="thread.html#30221">[ thread ]</a>
              <a href="subject.html#30221">[ subject ]</a>
              <a href="author.html#30221">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
