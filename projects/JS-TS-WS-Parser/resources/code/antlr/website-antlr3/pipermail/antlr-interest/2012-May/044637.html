<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] How to intersperse #line directives into	expressions and statements?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20How%20to%20intersperse%20%23line%20directives%20into%0A%09expressions%20and%20statements%3F&In-Reply-To=%3C33EA646A-0DF9-4C77-AADE-017C9FCCA675%40udel.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="044635.html">
   <LINK REL="Next"  HREF="044666.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] How to intersperse #line directives into	expressions and statements?</H1>
    <B>Stephen Siegel</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20How%20to%20intersperse%20%23line%20directives%20into%0A%09expressions%20and%20statements%3F&In-Reply-To=%3C33EA646A-0DF9-4C77-AADE-017C9FCCA675%40udel.edu%3E"
       TITLE="[antlr-interest] How to intersperse #line directives into	expressions and statements?">siegel at udel.edu
       </A><BR>
    <I>Tue May 29 05:26:56 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="044635.html">[antlr-interest] How to intersperse #line directives into expressions and statements?
</A></li>
        <LI>Next message: <A HREF="044666.html">[antlr-interest] How to intersperse #line directives into expressions and statements?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44637">[ date ]</a>
              <a href="thread.html#44637">[ thread ]</a>
              <a href="subject.html#44637">[ subject ]</a>
              <a href="author.html#44637">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm working on an ANTLR-based C preprocessor/parser/tree.   All in Java.  It keeps track of the origin of every token (in addition to file, line number, and character index, the history of the token through macro expansions and #include directives).   This information will all be accessible through the AST.  At this point, the preprocessor is basically working.  If you or anyone else is interested in checking it out or contributing to its development, drop me a line.
-Steve


On May 29, 2012, at 2:06 AM, pragmaik wrote:

&gt;<i> Hi! 
</I>&gt;<i> 
</I>&gt;<i> I am trying to parse #line directives within expressions and statements, so
</I>&gt;<i> I can tag the nodes in the AST with the line numbers in the #line
</I>&gt;<i> directives. For example 
</I>&gt;<i> 
</I>&gt;<i> #line 10 
</I>&gt;<i> if ( 
</I>&gt;<i> #line 20 
</I>&gt;<i> x 
</I>&gt;<i> #line 30 
</I>&gt;&gt;<i> 
</I>&gt;<i> #line 40 
</I>&gt;<i> 0 
</I>&gt;<i> ) 
</I>&gt;<i> 
</I>&gt;<i> would lead to an AST where the 'if' node is tagged with 10 and the 'x' node
</I>&gt;<i> is tagged with 20. 
</I>&gt;<i> 
</I>&gt;<i> First, I thought about writing a preprocessor, but this won't help, I think,
</I>&gt;<i> because the preprocessor has nothing to do with the AST. Adding this
</I>&gt;<i> behavior to the grammar isn't easy either, because the grammar had to accept
</I>&gt;<i> '#line INTLITERAL' nearly everywhere. 
</I>&gt;<i> 
</I>&gt;<i> Did anybody solve a similar problem and could offer any help? 
</I>&gt;<i> 
</I>&gt;<i> Cheers, 
</I>&gt;<i> Maik 
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://antlr.1301665.n2.nabble.com/How-to-intersperse-line-directives-into-expressions-and-statements-tp7578122.html">http://antlr.1301665.n2.nabble.com/How-to-intersperse-line-directives-into-expressions-and-statements-tp7578122.html</A>
</I>&gt;<i> Sent from the ANTLR mailing list archive at Nabble.com.
</I>&gt;<i> 
</I>&gt;<i> List: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">http://www.antlr.org/mailman/listinfo/antlr-interest</A>
</I>&gt;<i> Unsubscribe: <A HREF="http://www.antlr.org/mailman/options/antlr-interest/your-email-address">http://www.antlr.org/mailman/options/antlr-interest/your-email-address</A>
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="044635.html">[antlr-interest] How to intersperse #line directives into expressions and statements?
</A></li>
	<LI>Next message: <A HREF="044666.html">[antlr-interest] How to intersperse #line directives into expressions and statements?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44637">[ date ]</a>
              <a href="thread.html#44637">[ thread ]</a>
              <a href="subject.html#44637">[ subject ]</a>
              <a href="author.html#44637">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
