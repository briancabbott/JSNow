<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] [v3] parser rules are final
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%5Bv3%5D%20parser%20rules%20are%20final&In-Reply-To=%3CB36CCC332A32904F8FA3DE134A2353362526B9%40wavemachine.temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021208.html">
   <LINK REL="Next"  HREF="021209.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] [v3] parser rules are final</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=Re:%20%5Bantlr-interest%5D%20%5Bv3%5D%20parser%20rules%20are%20final&In-Reply-To=%3CB36CCC332A32904F8FA3DE134A2353362526B9%40wavemachine.temporal-wave.com%3E"
       TITLE="[antlr-interest] [v3] parser rules are final">jimi at temporal-wave.com
       </A><BR>
    <I>Fri Jun  8 07:56:14 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="021208.html">[antlr-interest] [v3] parser rules are final
</A></li>
        <LI>Next message: <A HREF="021209.html">[antlr-interest] Grammar from BNF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21210">[ date ]</a>
              <a href="thread.html#21210">[ thread ]</a>
              <a href="subject.html#21210">[ subject ]</a>
              <a href="author.html#21210">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sven,

 

If you really want  to do this, then you can change the code gen
template trivially as you just need to remove the final keyword from the
java.stg code generation template for rule() then either rebuild the jar
or make sure that the template is seen first. The rules were made final
because this makes the generated java code faster.

 

However, perhaps this is better done with a custom AST node, where you
can add probably add this to the constructor?

 

Jim

 

 

From: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-bounces at antlr.org</A>] On Behalf Of Sven Efftinge
Sent: Friday, June 08, 2007 1:23 AM
To: <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest at antlr.org</A>
Subject: [antlr-interest] [v3] parser rules are final

 

Hi,

 

I just updated to the latest version of V3 (have used a beta before)

Unfortunately I found that the generated parser rules are flagged as
final now.

 

I have a subclass which overwrites each rule and adds Location
information to my custom AST elements. Something like this:

 

public final Expression listLiteral() throws RecognitionException {

   updateLocation(listLiteral());

}

 

public &lt;T extends AstElement&gt; T updateLocation(T ele) {

      //doing stuff with input.LT(1) and input.LT(-1)

      return T;

}

 

1st question:

Is there a better way to do that generically? (without thirdparty AOP
stuff)

 

2nd Question:

Is there a way to say Antlr not to add the final keyword?

 

thanks,

Sven





 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/antlr-interest/attachments/20070608/62bdac84/attachment.html">http://www.antlr.org/pipermail/antlr-interest/attachments/20070608/62bdac84/attachment.html</A> 
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021208.html">[antlr-interest] [v3] parser rules are final
</A></li>
	<LI>Next message: <A HREF="021209.html">[antlr-interest] Grammar from BNF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21210">[ date ]</a>
              <a href="thread.html#21210">[ thread ]</a>
              <a href="subject.html#21210">[ subject ]</a>
              <a href="author.html#21210">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
