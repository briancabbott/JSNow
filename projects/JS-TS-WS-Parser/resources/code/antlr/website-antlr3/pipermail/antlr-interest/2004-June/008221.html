<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [antlr-interest] semantic predicate hoisting :)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20semantic%20predicate%20hoisting%20%3A%29&In-Reply-To=71F92118-B690-11D8-A381-000A95891192%40cs.usfca.edu">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008194.html">
   <LINK REL="Next"  HREF="008222.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[antlr-interest] semantic predicate hoisting :)</H1>
    <B>John D. Mitchell</B> 
    <A HREF="mailto:antlr-interest%40antlr.org?Subject=%5Bantlr-interest%5D%20semantic%20predicate%20hoisting%20%3A%29&In-Reply-To=71F92118-B690-11D8-A381-000A95891192%40cs.usfca.edu"
       TITLE="[antlr-interest] semantic predicate hoisting :)">johnm-antlr at non.net
       </A><BR>
    <I>Tue Jun  8 10:10:53 PDT 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="008194.html">[antlr-interest] semantic predicate hoisting :)
</A></li>
        <LI>Next message: <A HREF="008222.html">[antlr-interest] semantic predicate hoisting :)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8221">[ date ]</a>
              <a href="thread.html#8221">[ thread ]</a>
              <a href="subject.html#8221">[ subject ]</a>
              <a href="author.html#8221">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;&gt;&gt;&gt;<i> &quot;Terence&quot; == Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">parrt at cs.usfca.edu</A>&gt; writes:
</I>[...]

&gt;<i> Hooray!  I have an initial implementation of the combined LL(*) and
</I>&gt;<i> semantic predicate hoisting mechanism.
</I>
YEA!!!

Do you happen to have a proof of correctness for this hoisting yet?

&gt;<i> The requirements are fairly nasty to handle difficult situations
</I>&gt;<i> naturally, but I think my implementation covers them all nicely as
</I>&gt;<i> opposed to the ad hoc hacking I did for PCCTS (uh...and ANTLR &lt;3.0) ;)
</I>
How does it handle:

	* deeply nested semantic predicates?

	* recursive rules (which contain semantic predicates)?

[...]

&gt;<i> In rule a, you need to modulate the lookahead according to the
</I>&gt;<i> alternatives and you also need to hoist predicates from two other rules
</I>&gt;<i> and also realize that they conflict with an alt (ID) from rule a.
</I>&gt;<i> Because the naked ID alt does not have a predicate, one needs to make one
</I>&gt;<i> as !(other predicates).
</I>
Cool.

&gt;<i> A cool thing to notice that the DFA tests the lookahead before evaluating
</I>&gt;<i> predicates.  That is a crucial rule: only eval predicates when syntactic
</I>&gt;<i> context is consistent with the predicates original location.
</I>
Score!

&gt;<i> I have enclosed a small 16k PDF file showing the DFA ANTLR 3.0 core
</I>&gt;<i> created to predicate the various alternatives of rule a.  Note that the
</I>&gt;<i> DFA edges may be tokens (or characters) or predicates unlike a normal
</I>&gt;<i> DFA.
</I>
How does this interact with syntactic predicates?


&gt;<i> Please notice that when the input is Z, only one symbol is examined and
</I>&gt;<i> that only two symbols are used to resolve alts 1 and 2.  Something to
</I>&gt;<i> remark on: no k maximum or other constant was specified anywhere!  The
</I>&gt;<i> LL(*) algorithm just does the minimum necessary :)
</I>
I love this dynamism.

&gt;<i> Prediction is no longer a series of tests, but rather the exact alt to
</I>&gt;<i> predict is discovered with one shot.
</I>
Please elaborate.  You're still, in essence, traversing the (LL*) DFA but
in an exact fashion rather than via approximations, right?


&gt;<i> Oh, the i=&gt;alt notation means &quot;DFA state i predicts alternative alt&quot;. :)
</I>
You might want to qualify the alt with the rule name to make that clear.

&gt;<i> Wooohoooo!  NOW, can I go home, John? (Mitchell's been bugging me for 9
</I>&gt;<i> years to get hoisting back) &lt;snicker&gt;
</I>
Not until you clean your plate, mister!  :-)

Rock on,
	John


 
Yahoo! Groups Links

&lt;*&gt; To visit your group on the web, go to:
     <A HREF="http://groups.yahoo.com/group/antlr-interest/">http://groups.yahoo.com/group/antlr-interest/</A>

&lt;*&gt; To unsubscribe from this group, send an email to:
     <A HREF="http://www.antlr.org/mailman/listinfo/antlr-interest">antlr-interest-unsubscribe at yahoogroups.com</A>

&lt;*&gt; Your use of Yahoo! Groups is subject to:
     <A HREF="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</A>
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008194.html">[antlr-interest] semantic predicate hoisting :)
</A></li>
	<LI>Next message: <A HREF="008222.html">[antlr-interest] semantic predicate hoisting :)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8221">[ date ]</a>
              <a href="thread.html#8221">[ thread ]</a>
              <a href="subject.html#8221">[ subject ]</a>
              <a href="author.html#8221">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/antlr-interest">More information about the antlr-interest
mailing list</a><br>
</body></html>
