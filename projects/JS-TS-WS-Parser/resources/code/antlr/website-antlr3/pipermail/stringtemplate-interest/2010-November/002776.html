<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] problem parsing template 'XXXX' ;	java.lang.NullPointerException  happening randomly only on AIX
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20problem%20parsing%20template%20%27XXXX%27%20%3B%0A%09java.lang.NullPointerException%20%20happening%20randomly%20only%20on%20AIX&In-Reply-To=%3C87EA894A5B5DFD48A11E5D8A293D8A018CAC9A%40IN23EXVCL01.informatica.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002775.html">
   <LINK REL="Next"  HREF="002777.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] problem parsing template 'XXXX' ;	java.lang.NullPointerException  happening randomly only on AIX</H1>
    <B>V.Radhakrishnan, Bhavana</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20problem%20parsing%20template%20%27XXXX%27%20%3B%0A%09java.lang.NullPointerException%20%20happening%20randomly%20only%20on%20AIX&In-Reply-To=%3C87EA894A5B5DFD48A11E5D8A293D8A018CAC9A%40IN23EXVCL01.informatica.com%3E"
       TITLE="[stringtemplate-interest] problem parsing template 'XXXX' ;	java.lang.NullPointerException  happening randomly only on AIX">bradhakrishnan at informatica.com
       </A><BR>
    <I>Mon Nov 15 20:39:03 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002775.html">[stringtemplate-interest] C# StringTemplate version
</A></li>
        <LI>Next message: <A HREF="002777.html">[stringtemplate-interest] problem parsing template 'XXXX' ;	java.lang.NullPointerException  happening randomly only on AIX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2776">[ date ]</a>
              <a href="thread.html#2776">[ thread ]</a>
              <a href="subject.html#2776">[ subject ]</a>
              <a href="author.html#2776">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>HI,

 

We have a codegenerator that uses String templates.

This codegenerator runs on a number of platforms including win 64, win
86, linux 64,86, AIX, HP-UX, Solaris.

 

The code generator works fine on all the platforms except for AIX. 

In AIX we get random failures in String templates.  The failures are
random in the following sense

 

1. These failures do not happen consistently. The codegeneration in AIX
is successful at times.

2. The failures do not happen at the same place every time. They happen
at different places for different reasons. But in most of the cases when
it is trying to the perform loadTemplateGroup

 

I have copy/pasted a few failures below. 

 

Failure Type 1:

 

Can't parse chunk: class.classKind

line 1:16: unexpected token: null

            at
org.antlr.stringtemplate.language.ActionParser.parallelArrayTemplateAppl
ication(ActionParser.java:498)

            at
org.antlr.stringtemplate.language.ActionParser.templatesExpr(ActionParse
r.java:207)

            at
org.antlr.stringtemplate.language.ActionParser.action(ActionParser.java:
126)

            at
org.antlr.stringtemplate.StringTemplate.parseAction(StringTemplate.java:
876)

            at
org.antlr.stringtemplate.language.TemplateParser.action(TemplateParser.j
ava:162)

            at
org.antlr.stringtemplate.language.TemplateParser.template(TemplateParser
.java:127)

            at
org.antlr.stringtemplate.StringTemplate.breakTemplateIntoChunks(StringTe
mplate.java:850)

            at
org.antlr.stringtemplate.StringTemplate.setTemplate(StringTemplate.java:
441)

            at
org.antlr.stringtemplate.language.GroupParser.template(GroupParser.java:
327)

            at
org.antlr.stringtemplate.language.GroupParser.group(GroupParser.java:186
)

            at
org.antlr.stringtemplate.StringTemplateGroup.parseGroup(StringTemplateGr
oup.java:792)

            at
org.antlr.stringtemplate.StringTemplateGroup.&lt;init&gt;(StringTemplateGroup.
java:274)

            at
org.antlr.stringtemplate.StringTemplateGroup.&lt;init&gt;(StringTemplateGroup.
java:248)

            at
com.informatica.imf.templateControllerUtils.ResourceLoad.loadTemplateGro
up(ResourceLoad.java:17)

            at
com.informatica.imf.templategen.shared.TemplateGenPackageUtil.getInitIPr
opertyMethod(TemplateGenPackageUtil.java:193)

            at
com.informatica.imf.templateControllers.JavaPackageClass.generate(JavaPa
ckageClass.java:165)

            .....

problem parsing template 'Init_IClass_Method'

java.lang.NullPointerException

            at
org.antlr.stringtemplate.language.TemplateParser.action(TemplateParser.j
ava:163)

            at
org.antlr.stringtemplate.language.TemplateParser.template(TemplateParser
.java:127)

            at
org.antlr.stringtemplate.StringTemplate.breakTemplateIntoChunks(StringTe
mplate.java:850)

            at
org.antlr.stringtemplate.StringTemplate.setTemplate(StringTemplate.java:
441)

            at
org.antlr.stringtemplate.language.GroupParser.template(GroupParser.java:
327)

            at
org.antlr.stringtemplate.language.GroupParser.group(GroupParser.java:186
)

            at
org.antlr.stringtemplate.StringTemplateGroup.parseGroup(StringTemplateGr
oup.java:792)

            at
org.antlr.stringtemplate.StringTemplateGroup.&lt;init&gt;(StringTemplateGroup.
java:274)

            at
org.antlr.stringtemplate.StringTemplateGroup.&lt;init&gt;(StringTemplateGroup.
java:248)

            at
com.informatica.imf.templateControllerUtils.ResourceLoad.loadTemplateGro
up(ResourceLoad.java:17)

            at
com.informatica.imf.templategen.shared.TemplateGenPackageUtil.getInitIPr
opertyMethod(TemplateGenPackageUtil.java:193)

            at
com.informatica.imf.templateControllers.JavaPackageClass.generate(JavaPa
ckageClass.java:165)

            .......

 

Failure Type 2

 

Can't parse chunk: if(propertyArgument.isContainer)

line 1:32: unexpected token: )

            at
org.antlr.stringtemplate.language.ActionParser.parallelArrayTemplateAppl
ication(ActionParser.java:498)

            at
org.antlr.stringtemplate.language.ActionParser.templatesExpr(ActionParse
r.java:207)

            at
org.antlr.stringtemplate.language.ActionParser.ifAtom(ActionParser.java:
664)

            at
org.antlr.stringtemplate.language.ActionParser.ifCondition(ActionParser.
java:335)

            at
org.antlr.stringtemplate.language.ActionParser.action(ActionParser.java:
157)

            at
org.antlr.stringtemplate.StringTemplate.parseAction(StringTemplate.java:
876)

            at
org.antlr.stringtemplate.language.TemplateParser.action(TemplateParser.j
ava:173)

            at
org.antlr.stringtemplate.language.TemplateParser.template(TemplateParser
.java:127)

            at
org.antlr.stringtemplate.StringTemplate.breakTemplateIntoChunks(StringTe
mplate.java:850)

            at
org.antlr.stringtemplate.StringTemplate.setTemplate(StringTemplate.java:
441)

            at
org.antlr.stringtemplate.language.GroupParser.template(GroupParser.java:
327)

            at
org.antlr.stringtemplate.language.GroupParser.group(GroupParser.java:186
)

            at
org.antlr.stringtemplate.StringTemplateGroup.parseGroup(StringTemplateGr
oup.java:792)

            at
org.antlr.stringtemplate.StringTemplateGroup.&lt;init&gt;(StringTemplateGroup.
java:274)

            at
org.antlr.stringtemplate.StringTemplateGroup.&lt;init&gt;(StringTemplateGroup.
java:248)

            at
com.informatica.imf.templateControllerUtils.ResourceLoad.loadTemplateGro
up(ResourceLoad.java:17)

            at
com.informatica.imf.templateControllers.JavaClass.generate(JavaClass.jav
a:45)

 

 

We are not sure why this random failure happens only on AIX.  Can
someone please give any pointers to what could be the potential issue?

 

 

We are blocked on this for quite some time and it would be very helpful
if someone can reply to this at the earliest.

 

Thanks for taking the time!

 

 

Regards,

Bhavana

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20101116/71ccde6a/attachment-0001.html">http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20101116/71ccde6a/attachment-0001.html</A> 
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002775.html">[stringtemplate-interest] C# StringTemplate version
</A></li>
	<LI>Next message: <A HREF="002777.html">[stringtemplate-interest] problem parsing template 'XXXX' ;	java.lang.NullPointerException  happening randomly only on AIX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2776">[ date ]</a>
              <a href="thread.html#2776">[ thread ]</a>
              <a href="subject.html#2776">[ subject ]</a>
              <a href="author.html#2776">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
