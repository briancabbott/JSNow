<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] how to fix longstanding bug
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=%5Bstringtemplate-interest%5D%20how%20to%20fix%20longstanding%20bug&In-Reply-To=BAY101-DAV15DBC30162BF0058DEA603815A0%40phx.gbl">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000568.html">
   <LINK REL="Next"  HREF="000565.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] how to fix longstanding bug</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=%5Bstringtemplate-interest%5D%20how%20to%20fix%20longstanding%20bug&In-Reply-To=BAY101-DAV15DBC30162BF0058DEA603815A0%40phx.gbl"
       TITLE="[stringtemplate-interest] how to fix longstanding bug">parrt at cs.usfca.edu
       </A><BR>
    <I>Tue Jul 25 09:20:56 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000568.html">[stringtemplate-interest] how to fix longstanding bug
</A></li>
        <LI>Next message: <A HREF="000565.html">[stringtemplate-interest] Pretty printer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#567">[ date ]</a>
              <a href="thread.html#567">[ thread ]</a>
              <a href="subject.html#567">[ subject ]</a>
              <a href="author.html#567">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jul 24, 2006, at 6:53 PM, Kunle Odutola wrote:
&gt;<i>
</I>&gt;<i> Fails on C# too (i.e. prints ietrator contents only one).
</I>
This is ok I think as you are passing in something that has  
sideeffects, the iterator cursor.  so not our fault.  it is our fault  
when you say rest(names) and ref it twice with bad effect.

&gt;&gt;<i> Suggestions?  I'd really like at least the iterators I create to be
</I>&gt;&gt;<i> &quot;reusable&quot; within same template.
</I>&gt;<i>
</I>&gt;<i> Only sure way is to wrap *all* incoming iterators in a collection  
</I>&gt;<i> of some
</I>&gt;<i> sort. A bit like RestCollection does. Heavy-ish overhead unless, it is
</I>&gt;<i> possible to detect in advance if an iterator is indeed used  
</I>&gt;<i> repeatedly.
</I>
no way to detect...i think if i keep a ptr to original datastructure  
it would work by creating new iterator off that each time.  Won't  
solve rest(rest(names)) however as rest would return an  
iterator...hmm..could I make that work?  Each call to next() or  
hasNext() would force a new cached iterator...I'd have to have  
special case code in a few places.   ick.  Apparently this isn't much  
of a problem; I say we punt!

Ter
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000568.html">[stringtemplate-interest] how to fix longstanding bug
</A></li>
	<LI>Next message: <A HREF="000565.html">[stringtemplate-interest] Pretty printer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#567">[ date ]</a>
              <a href="thread.html#567">[ thread ]</a>
              <a href="subject.html#567">[ subject ]</a>
              <a href="author.html#567">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
