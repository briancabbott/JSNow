<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] Multimethods
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Multimethods&In-Reply-To=%3C61EAB936-2614-4445-99EB-59BF9B19DBDE%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001698.html">
   <LINK REL="Next"  HREF="001700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] Multimethods</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Multimethods&In-Reply-To=%3C61EAB936-2614-4445-99EB-59BF9B19DBDE%40cs.usfca.edu%3E"
       TITLE="[stringtemplate-interest] Multimethods">parrt at cs.usfca.edu
       </A><BR>
    <I>Mon Nov 10 09:34:33 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001698.html">[stringtemplate-interest] Multimethods
</A></li>
        <LI>Next message: <A HREF="001700.html">[stringtemplate-interest] Multimethods
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1699">[ date ]</a>
              <a href="thread.html#1699">[ thread ]</a>
              <a href="subject.html#1699">[ subject ]</a>
              <a href="author.html#1699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi. STdoesn't allow you to pass information from the template to the  
model. however, you can register a renderer for a particular Model  
class (even String) or template or group. Then it uses that renderer's  
toString(o) method to convert to text. It allows you to pass a format  
option. For example with dates you could past terse or verbose as a  
format option.

Is there a string you can pass to a renderer that can be broken apart  
to compute the proper URL? If the URL is truly computation, then it  
must be a part of the controller; the controller does the mapping of  
URL to executable code. This is case, then it would violate MVC  
separation to compute URLs in the view.

Ter

On Nov 9, 2008, at 7:17 AM, Roman Odaisky wrote:

&gt;<i> Greetings,
</I>&gt;<i>
</I>&gt;<i> I&#8217;m developing a site using Django and StringTemplate. It has so far  
</I>&gt;<i> been
</I>&gt;<i> wonderful.
</I>&gt;<i>
</I>&gt;<i> However, a question has arisen which I seem unable to solve using  
</I>&gt;<i> the current
</I>&gt;<i> framework.
</I>&gt;<i>
</I>&gt;<i> Following Django conventions, I add &#8216;get_absolute_url&#8217; methods to  
</I>&gt;<i> model
</I>&gt;<i> classes. Then I use &lt;a href=&quot;$something.absolute_url$&quot;&gt; to create  
</I>&gt;<i> links. That
</I>&gt;<i> allows me to change the URL layout of the site however I like, and  
</I>&gt;<i> links stay
</I>&gt;<i> correct. (The site is still under construction, so I don&#8217;t have to  
</I>&gt;<i> worry
</I>&gt;<i> about dangling references.) A typical construct is:
</I>&gt;<i>
</I>&gt;<i> &lt;p&gt;You have the following gadgets and widgets:
</I>&gt;<i> &lt;ul&gt;
</I>&gt;<i> $user.allof_gadget:{g|
</I>&gt;<i>  &lt;li&gt;&lt;p&gt;$g.title$&lt;/p&gt;
</I>&gt;<i>  &lt;ol&gt;$g.allof_widget:{w|
</I>&gt;<i>    &lt;li&gt;&lt;a href=&quot;$w.absolute_url$&quot;&gt;$w$&lt;/a&gt;&lt;/li&gt;
</I>&gt;<i> }$
</I>&gt;<i>  &lt;/li&gt;
</I>&gt;<i> }$
</I>&gt;<i> &lt;/ul&gt;&lt;/p&gt;
</I>&gt;<i>
</I>&gt;<i> However, some pages need URLs that refer to more than one item,  
</I>&gt;<i> neither of
</I>&gt;<i> which is deducible from the other. This one is similar to my needs:
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://bugs.launchpad.net/ubuntu/+source/linux-source-2.6.20/+bug/42160">https://bugs.launchpad.net/ubuntu/+source/linux-source-2.6.20/+bug/42160</A>
</I>&gt;<i>
</I>&gt;<i> So, what I need is to call a Python function that would determine a  
</I>&gt;<i> URL for
</I>&gt;<i> two items. How is it possible to invoke such a multimethod from within
</I>&gt;<i> StringTemplate? Can ST create templates that would call user-defined
</I>&gt;<i> functions, like this:
</I>&gt;<i>
</I>&gt;<i> stg.defineTemplate(&quot;foo&quot;, foo)
</I>&gt;<i>
</I>&gt;<i> def foo(**kwargs):
</I>&gt;<i>    ...do something
</I>&gt;<i>    return something
</I>&gt;<i>
</I>&gt;<i> and $foo(x=1, y=2)$ would call the function with the required keyword
</I>&gt;<i> arguments?
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> TIA
</I>&gt;<i> Roman.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> stringtemplate-interest mailing list
</I>&gt;<i> <A HREF="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> <A HREF="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest</A>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001698.html">[stringtemplate-interest] Multimethods
</A></li>
	<LI>Next message: <A HREF="001700.html">[stringtemplate-interest] Multimethods
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1699">[ date ]</a>
              <a href="thread.html#1699">[ thread ]</a>
              <a href="subject.html#1699">[ subject ]</a>
              <a href="author.html#1699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
