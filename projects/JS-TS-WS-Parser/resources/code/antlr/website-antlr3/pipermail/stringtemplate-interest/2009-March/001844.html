<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] StringTemplate Compiler for .NET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20StringTemplate%20Compiler%20for%20.NET&In-Reply-To=%3C86403CA0939415448BCCB83855EFE09AA67BC6%40Bloodymary.ironwillgames.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001841.html">
   <LINK REL="Next"  HREF="001846.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] StringTemplate Compiler for .NET</H1>
    <B>Sam Harwell</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20StringTemplate%20Compiler%20for%20.NET&In-Reply-To=%3C86403CA0939415448BCCB83855EFE09AA67BC6%40Bloodymary.ironwillgames.com%3E"
       TITLE="[stringtemplate-interest] StringTemplate Compiler for .NET">sharwell at pixelminegames.com
       </A><BR>
    <I>Sun Mar 22 06:37:06 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001841.html">[stringtemplate-interest] StringTemplate Compiler for .NET
</A></li>
        <LI>Next message: <A HREF="001846.html">[stringtemplate-interest] Call a template from a template
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1844">[ date ]</a>
              <a href="thread.html#1844">[ thread ]</a>
              <a href="subject.html#1844">[ subject ]</a>
              <a href="author.html#1844">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Properties of an object are different than the object reference itself.
When evaluating &quot;attribute.(expression)&quot;, only one bin is required for
'attribute'. Depending on how &quot;expression&quot; is formed, its leftmost items
of subexpressions may need bins as well.

There are various ways to modify the binning to handle nested lookups,
etc. One possibility is placing a Stack in the bin with attribute values
and precedence levels. Another possibility is using something similar to
vtable lookup, with a &quot;version&quot; attribute specified on the entries that
is incremented when a child template overrides one of its attributes.
The version allows expiration of the entry so children of the template
that were relying on no overrides of that attribute perform a new
recursive attribute lookup.

Attribute names may need mangling of some form during compilation.

I'm sure I'll run into quite a few problems with the nuances as I work
on this. :o I'll have to look into this more.

Sam

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest-bounces at antlr.org</A>] On Behalf Of Volkan
Ceylan
Sent: Sunday, March 22, 2009 5:03 AM
To: <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
Subject: Re: [stringtemplate-interest] StringTemplate Compiler for .NET

As i understand, you are trying to create a slot (bin) for all
referencable attributes in the template and
its all anonymous subtemplates in its expression tree. As far as i
know, one can access a calculated
property of an object by means of &quot;attribute.(expression)&quot; but
currently there is no way to
access a template attribute whose name is calculated by an expression
like &quot;(expression)&quot;.

Unless an idea of &quot;this&quot; special variable is introduced into
StringTemplate, and it is allowed access
an attribute by an expression like this.(expression), your idea of
given a template, list of attributes that
could be accessed is constant is right. So creating a bin for every
possible attribute and accessing attributes
by their predetermined index is possible. This will eliminate the need
for hash tables, and also eliminate
recursive attribute lookups from a subtemplate to the root template.

I'm sure you are aware that same doesn't hold true for formal
arguments (or default arguments it, i0, i, x etc)
and every anonymous template instance should have its own array of
arguments, even though its also
predetermined list of bins. Also it should be noted that if an
anonymous template/subtemplate has a formal
argument it's value takes predence over a possible global attribute
with the same name.

ST is similar to a lets say a javascript program where attributes are
global variables and arguments are
function parameters. Each template instance is a function with
arguments where its a dynamic
subfunction of its enclosing instance as its enclosing instance may
change dynamically for named
template calls.

There may be some problems when PassThroughAttributes is enabled that
you should be aware of.
_______________________________________________
stringtemplate-interest mailing list
<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001841.html">[stringtemplate-interest] StringTemplate Compiler for .NET
</A></li>
	<LI>Next message: <A HREF="001846.html">[stringtemplate-interest] Call a template from a template
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1844">[ date ]</a>
              <a href="thread.html#1844">[ thread ]</a>
              <a href="subject.html#1844">[ subject ]</a>
              <a href="author.html#1844">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
