<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] Catching exceptions in properties
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Catching%20exceptions%20in%20properties&In-Reply-To=%3C076101cc48ab%24c21b2c70%2446518550%24%40pixelminegames.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003722.html">
   <LINK REL="Next"  HREF="003727.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] Catching exceptions in properties</H1>
    <B>Sam Harwell</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Catching%20exceptions%20in%20properties&In-Reply-To=%3C076101cc48ab%24c21b2c70%2446518550%24%40pixelminegames.com%3E"
       TITLE="[stringtemplate-interest] Catching exceptions in properties">sharwell at pixelminegames.com
       </A><BR>
    <I>Fri Jul 22 13:12:54 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003722.html">[stringtemplate-interest] Catching exceptions in properties
</A></li>
        <LI>Next message: <A HREF="003727.html">[stringtemplate-interest] Catching exceptions in properties
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3725">[ date ]</a>
              <a href="thread.html#3725">[ thread ]</a>
              <a href="subject.html#3725">[ subject ]</a>
              <a href="author.html#3725">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That's what the &quot;cause&quot; parameter of the Exception/Throwable constructor is
for. Whenever you throw a new exception within a 'catch' block (as opposed
to rethrowing the same exception), it's behaving as a wrapper exception and
you should pass the original exception as the cause.

Also, you might rename it to PropertyEvaluationFailedException or something
similar, since for this case the property exists but couldn't be evaluated.

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest-bounces at antlr.org</A>] On Behalf Of Terence Parr
Sent: Friday, July 22, 2011 2:48 PM
To: <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A> List
Subject: [stringtemplate-interest] Catching exceptions in properties

Hi Alvaro Fussen e-mailed me describing a problem that property methods that
cause exceptions loses information:

&gt;&gt;<i> StupidBean.java:
</I>&gt;&gt;<i> public class StupidBean {
</I>&gt;&gt;<i>    public String getNpe() {
</I>&gt;&gt;<i>        String t = null;
</I>&gt;&gt;<i>        return t.toString(); // NPE!!
</I>&gt;&gt;<i>    }
</I>&gt;&gt;<i> }
</I>
my property lookup method catches everything and considers it no such
property:

&gt;&gt;<i>    catch (Exception e) {
</I>&gt;&gt;<i>        throwNoSuchProperty(c.getName() + &quot;.&quot; + propertyName);
</I>&gt;&gt;<i>    }
</I>
The proposal would be to make it more specific and pass an exception message
to the listener.

If this is acceptable, I will add for 4.0.5

Ter
_______________________________________________
stringtemplate-interest mailing list
<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003722.html">[stringtemplate-interest] Catching exceptions in properties
</A></li>
	<LI>Next message: <A HREF="003727.html">[stringtemplate-interest] Catching exceptions in properties
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3725">[ date ]</a>
              <a href="thread.html#3725">[ thread ]</a>
              <a href="subject.html#3725">[ subject ]</a>
              <a href="author.html#3725">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
