<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] On Pragmatism Violating Purity	For	The Win (was: ST interface: canonical name,	and null vs missing vs	empty vs nonexistent)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20On%20Pragmatism%20Violating%20Purity%0A%09For%09The%20Win%20%28was%3A%20ST%20interface%3A%20canonical%20name%2C%0A%09and%20null%20vs%20missing%20vs%09empty%20vs%20nonexistent%29&In-Reply-To=%3C20091018223912.GB4101%40ip61%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002278.html">
   <LINK REL="Next"  HREF="002279.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] On Pragmatism Violating Purity	For	The Win (was: ST interface: canonical name,	and null vs missing vs	empty vs nonexistent)</H1>
    <B>Zenaan Harkness</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20On%20Pragmatism%20Violating%20Purity%0A%09For%09The%20Win%20%28was%3A%20ST%20interface%3A%20canonical%20name%2C%0A%09and%20null%20vs%20missing%20vs%09empty%20vs%20nonexistent%29&In-Reply-To=%3C20091018223912.GB4101%40ip61%3E"
       TITLE="[stringtemplate-interest] On Pragmatism Violating Purity	For	The Win (was: ST interface: canonical name,	and null vs missing vs	empty vs nonexistent)">zen at freedbms.net
       </A><BR>
    <I>Sun Oct 18 15:39:12 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002278.html">[stringtemplate-interest] On Pragmatism Violating Purity For The	Win (was: ST interface: canonical name,	and null vs missing vs empty vs nonexistent)
</A></li>
        <LI>Next message: <A HREF="002279.html">[stringtemplate-interest] package name: +1 for &quot;Template&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2283">[ date ]</a>
              <a href="thread.html#2283">[ thread ]</a>
              <a href="subject.html#2283">[ subject ]</a>
              <a href="author.html#2283">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Oct 18, 2009 at 08:39:20AM -0700, Joseph Grace wrote:
&gt;<i> *Zenaan Harkness* wrote at *Sat Oct 17 19:16:09 PDT 2009:**
</I>&gt;<i> &gt;&gt; NB: &quot;if.true&quot; (boolean) is defined relative to the host language (not to&gt;&gt; ST), which can vary in meaning w/r/t whether &quot;&quot; is false or not in the host&gt;&gt; language. So the host language (I would say) should be the determining&gt;&gt; factor of the &quot;native&quot; semantics for boolean in ST for ease of use with each&gt;&gt; and every host language. In other words, ST adopts the host language T/F&gt;&gt; semantics for native least astonishment, and ease of use.&gt;
</I>&gt;<i> &gt;That's good for the newcomer, but not so good for the system and library
</I>&gt;<i> &gt;builders.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Java's awt lib illustrates my point, where 'pixel perfect' layouts [...]
</I>&gt;<i> 
</I>&gt;<i> I agree with your concern in general but not in this case so much.
</I>&gt;<i> 
</I>&gt;<i> Yes, this feature would be more for language impedance matching, and
</I>&gt;<i> not so much for large system building.  As a complement to the system
</I>&gt;<i> building approach, &quot;if.true&quot; would provide a language-relative
</I>&gt;<i> solution to boolean, to perfectly match the host language's
</I>&gt;<i> interpretation of TRUE/FALSE.
</I>
I see. Language impedence matching. Could be useful.

I guess my concern is that if such a feature were in ST, that it not be
so simple to type that people would use it as the default true/false
test.

If it is a feature specifically for impedence matching, then it would
have relatively limited 'real world necessity' usage scope, say in
cross-language conversion templates or some such.

And the reason I say this is that if it becomes the 'default usage' (eg.
in tutorials/ on this list/ or just because it's so easy to type) then
the templates created with this feature will be non-deterministic across
ST runtimes/ languages/ implementations.

Do we wish to give up deterministic ST output production/ view
generation so easily?

I know I don't.

(Yes I realise it would be deterministic within the particular ST
runtime targetted, but then we would want to somehow declare that
assertion, and then add an option to ST to balk on failed assertions,
etc - the complexity is rising here, for such a feature.)

Adding a personal viewpoint - my feeling from using ST for a few years
on relatively small personal projects (although with some intensity), is
that I have had to get clear on ST boolean semantics, and that this is
par for the course. Each language, and ST is a language, has its
idiosyncracies. List processing. Boolean logic.  Predicates.
Documentation/ comments. Inheritance. Librarization/ componentization/
grouping. Facilities for complexity management.  Calling conventions
(eg, one fn to another, or in ST - one template to another).

There are so many places here where a language disconnect occurs, or
even simply just that the subtleties need to be known, that the
advantage of adding a host-env/lang-specific version of one ST feature
would, I feel confident, be outweighed by the increased overhead of
having to think about &quot;which&quot; features have a host-implementation
impedence matched version, and having to remember which version is that
version, and which version is the ST 'native' version. I think it's
better to keep ST 'primary usage' cleaner, and, if really needed,
provide impedence matching functionality either in libraries, or at
least as non-default behaviour/ clearly-identified-as-non-standard
syntax.


&gt;<i> System builders could avoid it like the
</I>&gt;<i> plague (as its optional), but it could still cover the bases for
</I>&gt;<i> others.  Since it's just one feature with many if.* duplicates, I
</I>&gt;<i> don't think the AWT example applies in this case (though it would in
</I>&gt;<i> more complex cases).  There's no necessity to use &quot;if.true&quot;, and it's
</I>&gt;<i> not intertwined with a bunch of other features.  &quot;if.true&quot; would be
</I>&gt;<i> independent and optional, just one isolated feature.  System builders
</I>&gt;<i> would be unaffected by this feature unless they choose to use it.
</I>&gt;<i> 
</I>&gt;<i> I prefer to think of &quot;if.true&quot; as getting the best of both worlds:
</I>&gt;<i> absolute definitions (predefined, for robust systems) and relative
</I>&gt;<i> (impedance matched to the host language, for lightweight, seamless
</I>&gt;<i> solutions).  In some (many?) cases, if.true would duplicate one of the
</I>&gt;<i> other if.*, so it may only provide duplicate functionality in some
</I>&gt;<i> languages, but it would often be welcome where it does provide
</I>&gt;<i> specific semantics for its seamless use and transparent debugging.
</I>&gt;<i> And it would always respect the host language interpretation of
</I>&gt;<i> TRUE/FALSE, so that TRUE in the language would always be TRUE in the
</I>&gt;<i> StringTemplate (fewer surprises, lower learning curve, less debugging,
</I>&gt;<i> reliable and unambiguous host language programming).
</I>
At this point, I do feel that we would need to see some real examples,
to be able to make a fair decision on such a feature being needed.
'If it aint broke, don't fix it.'

I only work in one host language, Java, so I'll have to leave such
examples up to you or others.


&gt;<i> &gt;Regarding per-host-language &quot;customizations&quot; however, unless presented
</I>&gt;<i> &gt;with an example for which we cannot resolve or otherwise handle
</I>&gt;<i> &gt;'comfortably' and 'easily' using 'strictly-standard' ST semantics/
</I>&gt;<i> &gt;syntax, then let's stick to the high ground as long as possible.
</I>&gt;<i> 
</I>&gt;<i> For the sake of discussion... taking the low-ground! :-)
</I>&gt;<i> 
</I>&gt;<i> I see three questions with the if.* syntax and hook(s):
</I>&gt;<i> 
</I>&gt;<i> 1. grammar: would &quot;if.*&quot; syntax and customizability be a reasonable
</I>&gt;<i> evolution for the StringTemplate language?
</I>
It would mean giving up cross-lang determinism of ST templates.
Which doesn't feel like a good thing to me.


&gt;<i> Since noone's complaining (yet?), I am supposing &quot;if.*&quot; is viable
</I>&gt;<i> grammar-wise.
</I>
I don't see why not.


&gt;<i> 2. philosophy: would Ter be OK with it? Is opening Pandora's Box in a very
</I>&gt;<i> focused way acceptable (even though it could be abused to Turing
</I>&gt;<i> Completion)? StringTemplate is his baby, and he might have to rewrite _all_
</I>&gt;<i> his papers on StringTemplate! ;-) Seriously, the Pandora's Box nature of the
</I>&gt;<i> hook puts a twist on the language and its use. It may open many doors, but
</I>&gt;<i> it Ter needs to be happy with the approach going forward.
</I>&gt;<i> 
</I>&gt;<i> Only Ter knows for sure. IMO, it could provide an elegant solution to making
</I>&gt;<i> StringTemplate flexible but doing so in a way that is very explicitly for a
</I>&gt;<i> specific, well-defined, limited use: Gentleman's Agreement if you will. Even
</I>&gt;<i> though it could be abused, it wouldn't be the language's or language
</I>&gt;<i> designer's fault. Also, abuses would be obvious just by looking at the
</I>&gt;<i> if.hook implementation by any StringTemplate coder. Use at your own risk, as
</I>&gt;<i> the saying goes.
</I>
Need a concrete example of a problem it solves. Hasn't been an issue on
the lists before know, and this discussion so far we've had the luxury
of living in hypothetical land.


&gt;<i> 3. Pragmatism &amp; Purity: does this feature buy StringTemplate any new value
</I>&gt;<i> or use cases (or potentially expand the user base :-)?
</I>&gt;<i> 
</I>&gt;<i> A. The first use case I have in mind is the &quot;escape valve&quot; use case. I know
</I>&gt;<i> in corporate programming (I've been in this situation myself, and I'm sure
</I>&gt;<i> many of you have as well), a programmer may _know_ something will work
</I>&gt;<i> exceptionally well, but it's NIH (Not Invented Here). The manager and/or
</I>&gt;<i> project leads are all very (and when I say &quot;very&quot;, I mean pathologically)
</I>&gt;<i> averse to change, risk, the unknown --- especially anything which may lead
</I>&gt;<i> down a proverbial rabbit hole with nothing to show for it but lost schedule.
</I>&gt;<i> They neither listen nor trust, and come up with _any_ excuse to shoot stuff
</I>&gt;<i> down. The escape valve preempts their &quot;rabbit hole&quot; attacks with an
</I>&gt;<i> all-encompassing &quot;Not a problem. Pragmatism Prevails. In worst case, we'll
</I>&gt;<i> just 'if.*' our way to a solution (and out of any rabbit hole, real or
</I>&gt;<i> imagined)!&quot;
</I>
It's that &quot;or imagined&quot; bit. We are just dealing with straw-men, until
there's a concrete problem demonstrated, which we can't readily solve
otherwise.

&gt;<i> StringTemplate's strength, purity &amp; strict separation of concerns, could be
</I>&gt;<i> perceived as one such rabbit hole.
</I>&gt;<i> 
</I>&gt;<i> To get in the door, it's hard enough, but as a programmer in a &quot;rabbit hole&quot;
</I>&gt;<i> catch-22, I could always use the &quot;escape valve&quot; of the external &quot;if.*&quot; hook
</I>
Again, there are more areas in st, where host-env specific stuff could
be applied. No point adding just one without also addressing the others.

...
&gt;<i> &quot;if.*&quot; anyone?
</I>
NACK, to host-lang-specific version, at this point, for me.


&gt;<i> C. Hmm, just occurs to me (again, not sure of use case, but here goes), the
</I>&gt;<i> if.hook would allow for render time computation (instead of the usual load
</I>&gt;<i> time computation via t.add(...)). This could be useful for touchy debugging
</I>&gt;<i> (e.g., print the time when the render happened, to coordinate with other
</I>&gt;<i> aspects of the system or see any hangups in the rendering). It could also
</I>&gt;<i> dovetail better with some render-time only systems, making StringTemplate a
</I>&gt;<i> possibility where it never was before. Compute on demand &gt;&gt; compute
</I>&gt;<i> everything up-front.
</I>&gt;<i> 
</I>&gt;<i> &quot;render.*&quot; anyone?
</I>
I believe Ter has on the agenda, better debugging, such as line-number
outputs etc.

Also, we of course already have custom attribute renderers...


&gt;<i> D. Going further with render.*, &quot;stream.*&quot; could also cut down on
</I>... 
&gt;<i> &quot;if.stream&quot; anyone?
</I>
Stream processing I think is a different kettle of fish.
Perhaps awk and sed?

No-one's presented the list with an actual use-case...


cheers
zen

-- 
Homepage: www.SoulSound.net -- Free Australia: www.UPMART.org
Please respect the confidentiality of this email as sensibly warranted.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002278.html">[stringtemplate-interest] On Pragmatism Violating Purity For The	Win (was: ST interface: canonical name,	and null vs missing vs empty vs nonexistent)
</A></li>
	<LI>Next message: <A HREF="002279.html">[stringtemplate-interest] package name: +1 for &quot;Template&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2283">[ date ]</a>
              <a href="thread.html#2283">[ thread ]</a>
              <a href="subject.html#2283">[ subject ]</a>
              <a href="author.html#2283">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
