<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] template expressiveness
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20template%20expressiveness&In-Reply-To=%3CEE4F6ECE-7DB2-4096-A591-0D4816F3DB35%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001053.html">
   <LINK REL="Next"  HREF="001057.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] template expressiveness</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20template%20expressiveness&In-Reply-To=%3CEE4F6ECE-7DB2-4096-A591-0D4816F3DB35%40cs.usfca.edu%3E"
       TITLE="[stringtemplate-interest] template expressiveness">parrt at cs.usfca.edu
       </A><BR>
    <I>Fri May 11 12:25:34 PDT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001053.html">[stringtemplate-interest] template expressiveness
</A></li>
        <LI>Next message: <A HREF="001057.html">[stringtemplate-interest] template expressiveness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1055">[ date ]</a>
              <a href="thread.html#1055">[ thread ]</a>
              <a href="subject.html#1055">[ subject ]</a>
              <a href="author.html#1055">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On May 11, 2007, at 11:00 AM, Nate wrote:
&gt;&gt;<i> So you are in favor of allowing randomfunction(randomarg).   
</I>&gt;&gt;<i> That's  fine.  Plenty of other turing complete template engines if  
</I>&gt;&gt;<i> you'd  prefer.  Note I've built many sites and I've not had a  
</I>&gt;&gt;<i> problem.
</I>&gt;&gt;<i>
</I>&gt;<i> I'm not suggesting calling any function with any argument. I'm  
</I>&gt;<i> suggesting allowing elements to be picked out of a list by index.
</I>
I'm not sure what value a[i] would be. you cannot change i inside the  
template.  That means is the same has a fixed named property in an  
object.  why not use an object instead? a[i] doesn't really buy you  
anything as far as I can tell.

&gt;<i> Are you even reading my messages? From your lack of capitalization  
</I>&gt;<i> in most of your responses, I assume you skim through emails and  
</I>&gt;<i> whip up quick replies.
</I>
  I have extreme tendinitis after 26 years of hacking and I have use  
voice recognition, which makes things very challenging.  Secondly,  
besides my full-time job as a professor teaching two classes and  
managing over 50 graduate students, it is the last week of school  
which is always very busy.  Further, after four years of seven days a  
week work, I am about to release ANTLR v3.  I have very little time.   
Anything that is not described very clearly does not get my  
attention.  My focus is on ANTLR at the moment.

&gt;<i> I never asked for a turing complete template engine. Apparently, if  
</I>&gt;<i> someone suggests something you don't understand or don't agree  
</I>&gt;<i> with, then you tell them they must be using the wrong tool and  
</I>&gt;<i> should leave? I think I will take your advice. I have found it  
</I>&gt;<i> difficult to contribute. For example, it took about four emails to  
</I>&gt;<i> convey how formal argument checking is flawed. Even then, I'm not  
</I>&gt;<i> sure you actually understand the problem and I am skeptical that it  
</I>&gt;<i> will be fixed in a future version.
</I>
Given my experience in the area, you should question whether you are  
describing things clearly or I am not understanding things. I have  
limited time, so yes, you get less than my hundred percent CPU.

As you might imagine, I am tired of making the same arguments over  
and over and over about separation.  Every single engine in the world  
let you do what you want, and you pick the one that forces separation  
and then complain about not being able to do what you want.  Why did  
you pick ST?  Seriously?

&gt;&gt;<i> Yes, but what about using stuff[i] where i is an attribute (stuff 
</I>&gt;&gt;<i> [32]  is probably useless)?  In that case you assume is an int.   
</I>&gt;&gt;<i> What if  you change to a string with a char like '2-321'?
</I>&gt;&gt;<i>
</I>&gt;<i> stuff[i] gets element at index &quot;i&quot;. If &quot;i&quot; is not an integer, an  
</I>&gt;<i> exception is thrown. Lists can only be indexed by integers, so  
</I>&gt;<i> where did you get the idea I was asking for randomfunction(randomarg)?
</I>
Because that is the equivalent of calling stuff.index(i)

&gt;&gt;&gt;<i> No matter how hard you try, you cannot make StringTemplate both   
</I>&gt;&gt;&gt;<i> useful AND impossible to break separation.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Well i've made a few things that are grey area for usability, but   
</I>&gt;&gt;<i> actually I think I can 'cause I have done useful things w/o  
</I>&gt;&gt;<i> opening  it up. ;)
</I>&gt;&gt;<i>
</I>&gt;<i> I can implement Map and invoke random code using an argument passed  
</I>&gt;<i> in from a template: line 425 of ASTExpr.java, ST v3.0. How much  
</I>&gt;<i> more open can you get?
</I>
It is all about making things as difficult as possible.  Clearly, as  
a developer, you could simply alter string template.  I cannot  
prevent people from circumventing my intentions.  Programmers have  
ultimate control.

&gt;<i> As shown, ST is already one of those that only encourages it in the  
</I>&gt;<i> documentation. The difference is that in most other engines,  
</I>&gt;<i> breaking separation is easy. In ST it is harder. This is a good  
</I>&gt;<i> thing. The goal is to get the job done without breaking separation.  
</I>&gt;<i> I just don't see a need for it to be *impossible* to break  
</I>&gt;<i> separation. That is a very academic view and is just going to get  
</I>&gt;<i> in the way of getting the job done.
</I>
  Apparently it works pretty well.  I guarantee you that the ANTLR  
code generator is vastly more complicated than any webpage you are  
likely to create.  The rules I enforce make some things very  
inconvenient, however, it guarantees you can support multiple site  
skins or  retargetable backends in code generation world. That is  
something that nobody else can guarantee.   a worthy goal that has  
been achieved by single template engine.

&gt;&gt;<i> Really? No problem.  factor into more templates then pass  
</I>&gt;&gt;<i> arguments.   easy.  just like function calls right?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> As it is, I am required to have two *completely* separate templates  
</I>&gt;<i> that are identical, except they output different colored TR tags...
</I>&gt;<i> $stuff:row1(), row2()$
</I>&gt;<i>
</I>&gt;<i> If ST could curry, then it would work...
</I>&gt;<i> $stuff:row(color=&quot;red&quot;), row(color=&quot;blue&quot;)$
</I>
Ah!  That doesn't work!  crap. added as a bug:

<A HREF="http://www.antlr.org:8888/browse/ST-24">http://www.antlr.org:8888/browse/ST-24</A>

&gt;<i> A potentially better solution...
</I>&gt;<i> $stuff:{
</I>&gt;<i>    &lt;tr $if(i % 2)$style=&quot;color:red&quot;$endif$&gt;&lt;td&gt;$it.name$&lt;/td&gt;&lt;/tr&gt;
</I>&gt;<i> }$
</I>&gt;<i> Ideally, I should be able to fully manipulate attributes that did  
</I>&gt;<i> not come from the model.
</I>
Correct. you can do anything you want with an attribute that does not  
come from the model. That would not break separation per se, although  
I think he would turn your template into a program, which is also  
something I don't want.  If order matters, then your template is part  
of your program.  I don't like side effects. certainly graphics  
designers do not understand these things, which makes it impossible  
than for you to have a real designer work on your templates.  I  
repeatedly asked all the other template designers how they get  
graphics designers to work with them, because in my experience, there  
is no way a graphic designer will be able to understand this. state  
is something they just don't understand.

&gt;<i> Eg, since the int &quot;i&quot; comes from the view, I'd like to be able to  
</I>&gt;<i> say &quot;if (it % 3 == 1)&quot;. If &quot;it&quot; were to come from the model, then  
</I>&gt;<i> that should be invalid, since that would break separation.
</I>
Yes, but I don't like the idea of side effects at all in the template  
and as I say I don't like the idea of turning your template into a  
program. yes, that would be very convenient in some cases.

&gt;<i> Currently ST restricts template logic by applying the same  
</I>&gt;<i> constraints on template attributes as it does on model attributes.  
</I>&gt;<i> If the distinction could be made, it could open up an enormous  
</I>&gt;<i> amount of template expressiveness.
</I>
Yep. can you tell me your thoughts on the fact that now your template  
expressions would have in order and would become a program? I still  
think I'm opposed to it because the way you are asking for it means  
you are in fact adding logic into the template even if the logic is  
not a function of values in the model.  Imagine making another  
backend.  Would you not be copying all of that logic multiple times  
for each target?

Ter

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001053.html">[stringtemplate-interest] template expressiveness
</A></li>
	<LI>Next message: <A HREF="001057.html">[stringtemplate-interest] template expressiveness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1055">[ date ]</a>
              <a href="thread.html#1055">[ thread ]</a>
              <a href="subject.html#1055">[ subject ]</a>
              <a href="author.html#1055">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
