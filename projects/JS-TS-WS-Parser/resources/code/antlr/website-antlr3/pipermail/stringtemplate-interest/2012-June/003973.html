<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] joining attributes with a separator	when	some are optional
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20joining%20attributes%20with%20a%20separator%0A%09when%09some%20are%20optional&In-Reply-To=%3CC006ABE2-80C0-448A-AF26-300896DFB902%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003972.html">
   <LINK REL="Next"  HREF="003974.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] joining attributes with a separator	when	some are optional</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20joining%20attributes%20with%20a%20separator%0A%09when%09some%20are%20optional&In-Reply-To=%3CC006ABE2-80C0-448A-AF26-300896DFB902%40cs.usfca.edu%3E"
       TITLE="[stringtemplate-interest] joining attributes with a separator	when	some are optional">parrt at cs.usfca.edu
       </A><BR>
    <I>Wed Jun  6 11:06:58 PDT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="003972.html">[stringtemplate-interest] joining attributes with a separator	when some are optional
</A></li>
        <LI>Next message: <A HREF="003974.html">[stringtemplate-interest] joining attributes with a separator when	some are optional
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3973">[ date ]</a>
              <a href="thread.html#3973">[ thread ]</a>
              <a href="subject.html#3973">[ subject ]</a>
              <a href="author.html#3973">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On May 29, 2012, at 6:54 AM, Henno Vermeulen wrote:

&gt;<i> There is a problem in my unit test, the last &#8220;, vanDerWaals&#8221; should be replaced by &#8220;.render()&#8221;.
</I>&gt;<i>  
</I>&gt;<i> I found that &quot;&lt;[firstName, surNamePrefix, surName]; separator=\&quot; \&quot;&gt;&quot; seems to work well,
</I>
oh right! doh.

&gt;<i> however with errors printed to the console for my unit test because they are missing. This can be solved by explicitly setting these to null.
</I>
Or define them as attributes of the template and that message should go away. I believe that there is a constructor for that.

Ter
&gt;<i> So when working with a Person JavaBean we could do something like the following. Unfortunately we still need to explicitly pass nulls instead of empty strings. Perhaps I can create a subtemplate for this and as a bonus also make the separator a parameter of the subtemplate to clean up the syntax a bit.
</I>&gt;<i>  
</I>&gt;<i>      static class Person {
</I>&gt;<i>          public String firstName;
</I>&gt;<i>          public String surNamePrefix;
</I>&gt;<i>          public String surName;
</I>&gt;<i>  
</I>&gt;<i>          public Person(String firstName, String surNameSurNamePrefix,
</I>&gt;<i>                    String surName) {
</I>&gt;<i>               this.firstName = firstName;
</I>&gt;<i>               this.surNamePrefix = surNameSurNamePrefix;
</I>&gt;<i>               this.surName = surName;
</I>&gt;<i>          }
</I>&gt;<i>      }
</I>&gt;<i>  
</I>&gt;<i>      @Test
</I>&gt;<i>      public void personFirstNamePrefixSurNameJoinedNonEmpty() {
</I>&gt;<i>          String personTemplate =
</I>&gt;<i>                    &quot;&lt;[person.firstName, person.surNamePrefix, person.surName]; separator=\&quot; \&quot;&gt;&quot;;
</I>&gt;<i>  
</I>&gt;<i>          assertEquals(
</I>&gt;<i>                    &quot;Max Planck&quot;,
</I>&gt;<i>                    new ST(personTemplate).add(&quot;person&quot;,
</I>&gt;<i>                             new Person(&quot;Max&quot;, null, &quot;Planck&quot;)).render());
</I>&gt;<i>          assertEquals(
</I>&gt;<i>                    &quot;Einstein&quot;,
</I>&gt;<i>                    new ST(personTemplate).add(&quot;person&quot;,
</I>&gt;<i>                             new Person(null, null, &quot;Einstein&quot;)).render());
</I>&gt;<i>          assertEquals(
</I>&gt;<i>                    &quot;Albert&quot;,
</I>&gt;<i>                    new ST(personTemplate).add(&quot;person&quot;,
</I>&gt;<i>                             new Person(&quot;Albert&quot;, null, null)).render());
</I>&gt;<i>          assertEquals(
</I>&gt;<i>                    &quot;Johannes Diderik van der Waals&quot;,
</I>&gt;<i>                    new ST(personTemplate).add(&quot;person&quot;,
</I>&gt;<i>                             new Person(&quot;Johannes Diderik&quot;, &quot;van der&quot;, &quot;Waals&quot;))
</I>&gt;<i>                             .render());
</I>&gt;<i>      }
</I>&gt;<i>  
</I>&gt;<i> Henno
</I>&gt;<i> _______________________________________________
</I>&gt;<i> stringtemplate-interest mailing list
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003972.html">[stringtemplate-interest] joining attributes with a separator	when some are optional
</A></li>
	<LI>Next message: <A HREF="003974.html">[stringtemplate-interest] joining attributes with a separator when	some are optional
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3973">[ date ]</a>
              <a href="thread.html#3973">[ thread ]</a>
              <a href="subject.html#3973">[ subject ]</a>
              <a href="author.html#3973">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
