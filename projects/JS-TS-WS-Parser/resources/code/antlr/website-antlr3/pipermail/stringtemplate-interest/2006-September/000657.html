<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] re String manipulations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=%5Bstringtemplate-interest%5D%20re%20String%20manipulations&In-Reply-To=BDEBKCCLDDBHIMBFPIEICEEMCEAA.jjsnyders%40rcn.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000656.html">
   <LINK REL="Next"  HREF="000658.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] re String manipulations</H1>
    <B>Zenaan Harkness</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=%5Bstringtemplate-interest%5D%20re%20String%20manipulations&In-Reply-To=BDEBKCCLDDBHIMBFPIEICEEMCEAA.jjsnyders%40rcn.com"
       TITLE="[stringtemplate-interest] re String manipulations">zen at freedbms.net
       </A><BR>
    <I>Thu Sep 21 23:19:32 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000656.html">[stringtemplate-interest] re String manipulations
</A></li>
        <LI>Next message: <A HREF="000658.html">[stringtemplate-interest] String manipulations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#657">[ date ]</a>
              <a href="thread.html#657">[ thread ]</a>
              <a href="subject.html#657">[ subject ]</a>
              <a href="author.html#657">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Sep 22, 2006 at 01:32:14AM -0400, John Snyders wrote:
&gt;<i> I had the idea that I could use a template to format strings rather than
</I>&gt;<i> create a wrapper around Strings.
</I>&gt;<i> I would create a template and add it to a group the template would simply
</I>&gt;<i> expand its argument.
</I>&gt;<i> Registering a renderer with just this template should cause strings to be
</I>&gt;<i> uppercased.
</I>&gt;<i> 
</I>&gt;<i> ...
</I>&gt;<i> StringTemplate uc = s_builtinTemplates.defineTemplate(&quot;upperCase&quot;, &quot;$it$&quot;);
</I>&gt;<i> uc.registerRenderer(String.class, new UpperCaseRenderer());
</I>&gt;<i> ...
</I>&gt;<i>     public static class UpperCaseRenderer implements AttributeRenderer
</I>&gt;<i>     {
</I>&gt;<i> 
</I>&gt;<i>         public String toString(Object o)
</I>&gt;<i>         {
</I>&gt;<i>             if (o instanceof String)
</I>&gt;<i>             {
</I>&gt;<i>                 String s = (String)o;
</I>&gt;<i>                 return s.toUpperCase();
</I>&gt;<i>             }
</I>&gt;<i>             return o.toString();
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i> 
</I>&gt;<i> Then I thought I could use it in a template like so
</I>&gt;<i> $upperCase(it=name)$
</I>&gt;<i> 
</I>&gt;<i> or
</I>&gt;<i> 
</I>&gt;<i> $name:upperCase()$
</I>&gt;<i> 
</I>&gt;<i> The trouble is that for some reason by the time the expression is getting
</I>&gt;<i> evaluated the renderer is missing from the template.
</I>&gt;<i> Before calling toString I can look in the template and see the renderer map
</I>&gt;<i> has my class in it. When I set a breakpoint in ASTExpr just where it checks
</I>&gt;<i> for the renderer it is no longer in the template.
</I>
Does indeed sound like it would do the job. Great thinking.

Are you sure that the same object (ST) is in both places?

To be entirely sure, you can use st.hashCode() to make sure you have
the same object references (or use System.identityHashCode()).

It would be awefully strange to have the renderer go missing, so my
first assumption is just an oversight bug in your code.

Hope you crack it...
Zen


-- 
Free Australia - www.UPMART.org
Please respect the confidentiality of this email as sensibly warranted.
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000656.html">[stringtemplate-interest] re String manipulations
</A></li>
	<LI>Next message: <A HREF="000658.html">[stringtemplate-interest] String manipulations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#657">[ date ]</a>
              <a href="thread.html#657">[ thread ]</a>
              <a href="subject.html#657">[ subject ]</a>
              <a href="author.html#657">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
