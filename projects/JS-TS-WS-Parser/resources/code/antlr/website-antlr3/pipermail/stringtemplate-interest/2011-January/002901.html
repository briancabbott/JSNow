<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] StringTemplate and ability to compose	a view
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20StringTemplate%20and%20ability%20to%20compose%0A%09a%20view&In-Reply-To=%3CAANLkTi%3DA8k_VFABm%2BQKDtrjPuycptr1iwS6Ff5142aNH%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002900.html">
   <LINK REL="Next"  HREF="002943.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] StringTemplate and ability to compose	a view</H1>
    <B>Jevgenij [GMail]</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20StringTemplate%20and%20ability%20to%20compose%0A%09a%20view&In-Reply-To=%3CAANLkTi%3DA8k_VFABm%2BQKDtrjPuycptr1iwS6Ff5142aNH%40mail.gmail.com%3E"
       TITLE="[stringtemplate-interest] StringTemplate and ability to compose	a view">jevgenij.tsoi at gmail.com
       </A><BR>
    <I>Fri Jan 14 06:22:34 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002900.html">[stringtemplate-interest] StringTemplate and ability to compose	a view
</A></li>
        <LI>Next message: <A HREF="002943.html">[stringtemplate-interest] StringTemplate and ability to compose	a view
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2901">[ date ]</a>
              <a href="thread.html#2901">[ thread ]</a>
              <a href="subject.html#2901">[ subject ]</a>
              <a href="author.html#2901">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Terence,

Thank you for your feedback, I can see your point, this would be
&quot;stretching&quot; the strict MVC separation.

One way, I suppose we could do it, is to introduce another layer of
abstraction in the model, so the model will include the data for the
menu, and the template would render it iff it was available.
The bad points with this approach would be duplication of logic,
if(menu){} would be both in the model and the view.

Also, if I would happen to have any dynamic data in the header or
footer, the data for the footer and header would need to come from the
model. (In some way the model would have to be aware if the header and
footer is shown or not.)

What I like about ST is that is provides both inheritance and
composition for producing views. But it seems, for composition we need
to duplicate the composition logic. (In model and view, or controller)

Am I getting this backwards? I think I am looking for a good system to
achieve composition of websites of smaller reusable units, without
duplication of composition logic.

Maybe we can discuss an example: A site that supports 2 different
target platforms: mobile and desktop.
The Controller identifies the target platform, executes the model
logic, and delegates data to the platform specific view.
For the desktop version we want a rich header, but no header for the
mobile version. (Or other elements)
What would you suggest for this use case? (Maybe a tutorial I might
have overlooked.)

Thank you for your time,
with regards,
JT

2011/1/14 Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">parrt at cs.usfca.edu</A>&gt;:
&gt;<i> Hi. Asking the template to delegate control back to the controller makes the template part of the program, in my view, so probably not a good idea. The way I look at things, you push a button dated the templates, and then they render. done. &#160;So, you can apply the menu box template to some data or simply include it, but you can't ask the model to start up again per se. Now, you could pass in an object whose toString method is the menu box [bad] ;)
</I>&gt;<i>
</I>&gt;<i> Ter
</I>&gt;<i>
</I>&gt;<i> On Jan 13, 2011, at 9:25 AM, Jevgenij [GMail] wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Greetings,
</I>&gt;&gt;<i> We have been looking at different templating engines and ST is one of
</I>&gt;&gt;<i> the most pure and very interesting.
</I>&gt;&gt;<i> Going from an jsp-spaghetti-hell, ST feels like a breath of fresh air.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We have an interesting use case, which I am unable to find a way to
</I>&gt;&gt;<i> implement in ST:
</I>&gt;&gt;<i> A html use case, the view looks something like this:
</I>&gt;&gt;<i> &lt;body&gt;
</I>&gt;&gt;<i> &lt;jsp:include page=&quot;servlet?action=showMenu&quot; flush=&quot;true&quot; /&gt;
</I>&gt;&gt;<i> &lt;!-- Render main content --&gt;
</I>&gt;&gt;<i> &lt;/body&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The interesting bit is jsp:include call, which goes back to the
</I>&gt;&gt;<i> controller, the controller then produces output for the menu.
</I>&gt;&gt;<i> The output is dynamic, with request specific logic, (locale,
</I>&gt;&gt;<i> authentication, etc....)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I was trying to find in ST something like a &quot;macro&quot; call, that would
</I>&gt;&gt;<i> delegate control back to the controller,
</I>&gt;&gt;<i> but was unable to find it. Something in the lines of $#MenuBox()$
</I>&gt;&gt;<i> invokes: class MenuBox implements STMacro.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Maybe we are approaching this from the wrong angle.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> How would you implement something equivalent in ST?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Regards,
</I>&gt;&gt;<i> JT
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> stringtemplate-interest mailing list
</I>&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002900.html">[stringtemplate-interest] StringTemplate and ability to compose	a view
</A></li>
	<LI>Next message: <A HREF="002943.html">[stringtemplate-interest] StringTemplate and ability to compose	a view
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2901">[ date ]</a>
              <a href="thread.html#2901">[ thread ]</a>
              <a href="subject.html#2901">[ subject ]</a>
              <a href="author.html#2901">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
