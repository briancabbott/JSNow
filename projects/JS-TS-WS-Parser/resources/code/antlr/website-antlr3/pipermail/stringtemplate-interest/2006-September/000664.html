<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] String manipulations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=%5Bstringtemplate-interest%5D%20String%20manipulations&In-Reply-To=BDEBKCCLDDBHIMBFPIEIEEENCEAA.jjsnyders%40rcn.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000661.html">
   <LINK REL="Next"  HREF="000669.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] String manipulations</H1>
    <B>Kay Roepke</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=%5Bstringtemplate-interest%5D%20String%20manipulations&In-Reply-To=BDEBKCCLDDBHIMBFPIEIEEENCEAA.jjsnyders%40rcn.com"
       TITLE="[stringtemplate-interest] String manipulations">kroepke at classdump.org
       </A><BR>
    <I>Fri Sep 22 12:47:04 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000661.html">[stringtemplate-interest] String manipulations
</A></li>
        <LI>Next message: <A HREF="000669.html">[stringtemplate-interest] String manipulations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#664">[ date ]</a>
              <a href="thread.html#664">[ thread ]</a>
              <a href="subject.html#664">[ subject ]</a>
              <a href="author.html#664">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi *,

On 22. Sep 2006, at 16:12 Uhr, John Snyders wrote:

&gt;<i> I can't think of any reason why dup wouldn't copy the renderers. As  
</I>&gt;<i> it is
</I>&gt;<i> now it means that the only  time assigning a specific renderer to a
</I>&gt;<i> StringTemplate would work is if it is the top level template (from  
</I>&gt;<i> your
</I>&gt;<i> code's perspective the one you are calling toString on).
</I>
Correct.

&gt;<i> I assume you made the change to dup. How do we go about giving this  
</I>&gt;<i> code
</I>&gt;<i> back so that it can be included as a bug fix?
</I>
Simply post it to the list, possibly CC'ing Terence to get his  
attention ;)

&gt;<i> Or can someone explain why dup should not copy the renderers?
</I>
I think it should and consider that a bug. Normally individual  
templates don't have their own renderers and instead rely on the  
group's renderers to do the work. Still, when dup'ing them they  
should retain everything except the enclosing instance.

Ter is away until Sunday, so we'd have to talk it through with him  
again then.

&gt;&gt;<i> From Oliver's original post: &quot;For me, that's just not practical as  
</I>&gt;&gt;<i> it does not work for attribute properties and it would be just too  
</I>&gt;&gt;<i> awkward to add eachproperty as a first-class attribute.&quot;
</I>&gt;<i>
</I>&gt;<i> I did not think there was anything special about properties in  
</I>&gt;<i> terms of how
</I>&gt;<i> they are processed by templates so a wrapper class would work just  
</I>&gt;<i> as well
</I>&gt;<i> for a property. You just have to make sure that the value of your  
</I>&gt;<i> property
</I>&gt;<i> contains the wrapped class {setDate(new WrappedDate(somedate)); }  
</I>&gt;<i> It doesn't
</I>&gt;<i> happen automatically as in the example where a derived  
</I>&gt;<i> StringTemplate is
</I>&gt;<i> used. Perhaps this is what you ment that it is not automatic and  
</I>&gt;<i> you can't
</I>&gt;<i> change all your model objects.
</I>
You can subclass ST's setAttribute method and perform the wrapping in  
there. I believe this is mentioned in Ter's ST paper somewhere.
Works great, and requires no changes to your model classes whatsoever.

&gt;<i> Looking at dup makes me wonder about the performance of  
</I>&gt;<i> StringTemplate it
</I>&gt;<i> seems that templates will be copied many times. But this is a  
</I>&gt;<i> different
</I>&gt;<i> subject and I will check the archives first.
</I>
For an earlier discussion of this see: &lt;<A HREF="http://www.antlr.org:8080/">http://www.antlr.org:8080/</A> 
pipermail/stringtemplate-interest/2006-June/000501.html&gt;
I just looked in the depot and it seems the proposed changes have  
never been implemented. For now, if you want to go with renderers,  
add the
corresponding line to dup() or override setAttribute() and do the  
wrapping there, based on the object's class.


cheers,
-k
-- 
Kay R&#246;pke &lt;<A HREF="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">kroepke at classdump.org</A>&gt;
classdump Software
Key fingerprint = A849 0F2C C322 4022 379E  8661 7E1B FE0D 4CD2 A6D0



</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000661.html">[stringtemplate-interest] String manipulations
</A></li>
	<LI>Next message: <A HREF="000669.html">[stringtemplate-interest] String manipulations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#664">[ date ]</a>
              <a href="thread.html#664">[ thread ]</a>
              <a href="subject.html#664">[ subject ]</a>
              <a href="author.html#664">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
