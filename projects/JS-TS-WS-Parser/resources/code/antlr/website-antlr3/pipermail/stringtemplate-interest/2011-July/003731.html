<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] [RE:] help with	html/xml	template	files
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20%5BRE%3A%5D%20help%20with%0A%09html/xml%09template%09files&In-Reply-To=%3C4E29E064.6000502%40lancaster.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003723.html">
   <LINK REL="Next"  HREF="003724.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] [RE:] help with	html/xml	template	files</H1>
    <B>Sam Barnett-Cormack</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20%5BRE%3A%5D%20help%20with%0A%09html/xml%09template%09files&In-Reply-To=%3C4E29E064.6000502%40lancaster.ac.uk%3E"
       TITLE="[stringtemplate-interest] [RE:] help with	html/xml	template	files">s.barnett-cormack at lancaster.ac.uk
       </A><BR>
    <I>Fri Jul 22 13:41:08 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003723.html">[stringtemplate-interest] [RE:] help with html/xml	template	files
</A></li>
        <LI>Next message: <A HREF="003724.html">[stringtemplate-interest] [RE:] help with html/xml template	files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3731">[ date ]</a>
              <a href="thread.html#3731">[ thread ]</a>
              <a href="subject.html#3731">[ subject ]</a>
              <a href="author.html#3731">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The general shape I can imagine would be to somehow accept (maybe with a 
different extension, or new standard STGroupDir subclass or something):

&lt;?xml version=&quot;1.0&quot;?&gt; (optionally, ignored)
&lt;!DOCTYPE ...&gt; (optionally, ignored)
&lt;?st name(parameter,list) ::= &lt;&lt; ?&gt;
ACTUAL TEMPLATE
&lt;?st &gt;&gt; ?&gt;

This could work with editors because it allows the basic XML headers 
that are likely. For editors that expect a whole HTML document, it won't 
help unless that's in the template - that's just life. The header and 
footer of the template ought to be ignored by editors, as they're in an 
XML processing instruction. There are lots of unanswered questions, 
though, about how various things would be handled or ignored or not, 
whether the whole header should be the same, and so on.

In fact, you could even make it more flexible by ignoring everything 
before the header and after the footer. I'm just not sure how awkward it 
would be to solidly parse this. The important thing is that the stuff 
before the header and after the footer is just glue to keep XML editing 
software happy, and has no bearing on the template.

So, how plausible is something that shape?

Sam

On 22/07/2011 20:49, Terence Parr wrote:
&gt;<i> Hi Sam,I have wrestled with this problem for 10 years and couldn't think of a good answer. I'm open to suggestions but putting the specification elsewhere is probably a bad idea because then causes a dependency between files that can get messed up.
</I>&gt;<i>
</I>&gt;<i> Ter
</I>&gt;<i> On Jul 22, 2011, at 11:24 AM, Sam Barnett-Cormack wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On 22/07/2011 18:45, Terence Parr wrote:
</I>&gt;&gt;&gt;<i> Yes,It's a definite disadvantage to have the header on there when trying
</I>&gt;&gt;&gt;<i> to load into an XML editor or whatever. I could be convinced to make
</I>&gt;&gt;&gt;<i> that optional.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There is a definite advantage to specifying formal parameters, though... is there some way that you might offer an alternative way to specify them that's more friendly to being embedded in XML?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sam
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Jul 21, 2011, at 3:22 PM, James Briant wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> No, the template file is straight xml, html. Like it used to be.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> If I put the manifest(vars)::=&lt;&lt;  at the top, it screws up my xml/html
</I>&gt;&gt;&gt;&gt;<i> editors. The whole point of having &quot;raw&quot; files is to allow existing
</I>&gt;&gt;&gt;&gt;<i> editors to work. Its just broken. .st files are basically crippled
</I>&gt;&gt;&gt;&gt;<i> .stg files now. Where's the benefit in that?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> What do you think happens when a designer pulls up manifest(vars)::=
</I>&gt;&gt;&gt;&gt;<i> in Adobe Dreamweaver?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> jamie
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On Thu, Jul 21, 2011 at 1:58 AM, Daniel Brenner&lt;<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">daniel.brenner at cas.de</A>
</I>&gt;&gt;&gt;&gt;<i> &lt;mailto:<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">daniel.brenner at cas.de</A>&gt;&gt;  wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>     __
</I>&gt;&gt;&gt;&gt;<i>     Hi Jamie,
</I>&gt;&gt;&gt;&gt;<i>     what kind of Exception is raised?
</I>&gt;&gt;&gt;&gt;<i>     If it is a NullPointerException: does the template file contain a
</I>&gt;&gt;&gt;&gt;<i>     header like
</I>&gt;&gt;&gt;&gt;<i>     manifest(vars) ::=&lt;&lt;
</I>&gt;&gt;&gt;&gt;<i>     &gt;&gt;
</I>&gt;&gt;&gt;&gt;<i>     Cheers,
</I>&gt;&gt;&gt;&gt;<i>     - Daniel
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         *Urspr&#252;ngliche Nachricht *
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         *Absender:* 	James Briant <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">jab.antlr at species.org</A>
</I>&gt;&gt;&gt;&gt;<i>         &lt;mailto:<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">jab.antlr at species.org</A>&gt;
</I>&gt;&gt;&gt;&gt;<i>         *Gesendet am:* 	21.07.2011 10&lt;tel:21.07.2011%2010&gt;:20:22
</I>&gt;&gt;&gt;&gt;<i>         *Betreff:* 	**[RE:] [stringtemplate-interest] help with
</I>&gt;&gt;&gt;&gt;<i>         html/xml template files
</I>&gt;&gt;&gt;&gt;<i>         *Empf&#228;nger:* 	<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;&gt;&gt;&gt;<i>         &lt;mailto:<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>&gt;  List
</I>&gt;&gt;&gt;&gt;<i>         <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;&gt;&gt;&gt;<i>         &lt;mailto:<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>&gt;
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         I'm trying to do this:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         STGroup stg = new STGroupDir(templatepath,'$','$');
</I>&gt;&gt;&gt;&gt;<i>         ST st = stg.getInstanceOf(&quot;manifest&quot;);
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         But it crashes out. I'm assuming because the manifest file is
</I>&gt;&gt;&gt;&gt;<i>         an xml file with $vars$ in it, and not a stg group file. The
</I>&gt;&gt;&gt;&gt;<i>         parser seems to be trying to read it as an stg file, or
</I>&gt;&gt;&gt;&gt;<i>         perhaps its trying to read it using&lt;  and&gt;. Not sure which
</I>&gt;&gt;&gt;&gt;<i>         yet. Either way it crashes.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         Its loading manifest.st&lt;<A HREF="http://manifest.st/">http://manifest.st/</A>&gt;, but
</I>&gt;&gt;&gt;&gt;<i>         CommonTokenStream has removed all the '&lt;' and'&gt;'s.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         So how do I do it the old-fashioned way and just have a
</I>&gt;&gt;&gt;&gt;<i>         directory of html files with $'s in them?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         Thanks,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>         Jamie
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;&gt;<i> stringtemplate-interest mailing list
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;&gt;&gt;&gt;<i> &lt;mailto:<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>&gt;
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> stringtemplate-interest mailing list
</I>&gt;&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> stringtemplate-interest mailing list
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003723.html">[stringtemplate-interest] [RE:] help with html/xml	template	files
</A></li>
	<LI>Next message: <A HREF="003724.html">[stringtemplate-interest] [RE:] help with html/xml template	files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3731">[ date ]</a>
              <a href="thread.html#3731">[ thread ]</a>
              <a href="subject.html#3731">[ subject ]</a>
              <a href="author.html#3731">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
