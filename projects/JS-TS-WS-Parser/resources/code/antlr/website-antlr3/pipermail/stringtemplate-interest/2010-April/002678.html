<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] Help about concatenation,	and possible bug in StringTemplate v4
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Help%20about%20concatenation%2C%0A%09and%20possible%20bug%20in%20StringTemplate%20v4&In-Reply-To=%3C124693.73389.qm%40web23605.mail.ird.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002677.html">
   <LINK REL="Next"  HREF="002679.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] Help about concatenation,	and possible bug in StringTemplate v4</H1>
    <B>Matthieu Wipliez</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Help%20about%20concatenation%2C%0A%09and%20possible%20bug%20in%20StringTemplate%20v4&In-Reply-To=%3C124693.73389.qm%40web23605.mail.ird.yahoo.com%3E"
       TITLE="[stringtemplate-interest] Help about concatenation,	and possible bug in StringTemplate v4">mwipliez at yahoo.fr
       </A><BR>
    <I>Mon Apr 12 06:30:48 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002677.html">[stringtemplate-interest] How do I go about iterating a	Collectin of objects in the AST from StringTemplate?
</A></li>
        <LI>Next message: <A HREF="002679.html">[stringtemplate-interest] Help about concatenation,	and possible bug in StringTemplate v4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2678">[ date ]</a>
              <a href="thread.html#2678">[ thread ]</a>
              <a href="subject.html#2678">[ subject ]</a>
              <a href="author.html#2678">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

We're using ST to generate code, and recently switched to ST v4.
In one of the templates we have, we used to concatenate strings when passing them as parameters, using the plus operator, as shown below:

$if(variable.port)$
$AllocaOp(result=&quot;%&quot;+variable, type=variable.type.elementType+&quot;*&quot;)$
$else$
$if(variable.list)$
$AllocaOp(result=&quot;%&quot;+variable, type=variable.type)$
$endif$
$endif$

Now, this operator seems to have disappeared in ST v4. What is the rationale for that choice?
What is the suggested way to do concatenation when passing parameters to a template in ST v4?

A colleague of mine found a way to concatenate using the following:

procedure(action, procedure) ::= &lt;&lt;
$action$
&gt;&gt;<i>
</I>
action(action) ::= &lt;&lt;
$procedure(action={toto$action$})$             &lt;------------- set the action attribute to the string &quot;toto&quot; + the value of enclosing attribute action
&gt;&gt;<i>
</I>
actor(actor) ::= &lt;&lt;
$actor.actions: action()$
&gt;&gt;<i>
</I>
This is correctly parsed and compiled by ST, but does not work at runtime, because the evaluation of the &quot;action&quot; attribute in {toto$action$} loops forever (the enclosingInstance of that template being itself).
So I wonder if such syntax is allowed and valid?

Thanks,
Matthieu



      
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002677.html">[stringtemplate-interest] How do I go about iterating a	Collectin of objects in the AST from StringTemplate?
</A></li>
	<LI>Next message: <A HREF="002679.html">[stringtemplate-interest] Help about concatenation,	and possible bug in StringTemplate v4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2678">[ date ]</a>
              <a href="thread.html#2678">[ thread ]</a>
              <a href="subject.html#2678">[ subject ]</a>
              <a href="author.html#2678">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
