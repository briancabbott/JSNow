<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] [ST4] Specify the encoding in the	template group file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20%5BST4%5D%20Specify%20the%20encoding%20in%20the%0A%09template%20group%20file&In-Reply-To=%3C8E30BFB5-618B-4F79-A140-11D50CFF2954%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003018.html">
   <LINK REL="Next"  HREF="003039.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] [ST4] Specify the encoding in the	template group file</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20%5BST4%5D%20Specify%20the%20encoding%20in%20the%0A%09template%20group%20file&In-Reply-To=%3C8E30BFB5-618B-4F79-A140-11D50CFF2954%40cs.usfca.edu%3E"
       TITLE="[stringtemplate-interest] [ST4] Specify the encoding in the	template group file">parrt at cs.usfca.edu
       </A><BR>
    <I>Fri Jan 28 13:20:55 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003018.html">[stringtemplate-interest] [ST4] Specify the encoding in the	template group file
</A></li>
        <LI>Next message: <A HREF="003039.html">[stringtemplate-interest] [ST4] Specify the encoding in the	template group file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3033">[ date ]</a>
              <a href="thread.html#3033">[ thread ]</a>
              <a href="subject.html#3033">[ subject ]</a>
              <a href="author.html#3033">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi. don't we need to know that the encoding is before we can load the file?
Ter
On Jan 27, 2011, at 8:24 AM, Udo Borkowski wrote:

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I suggest to specify the encoding/charset of a file in the file itself. This follows the same arguments as for the delimiter:
</I>&gt;<i> 
</I>&gt;&gt;<i> why are we doing
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> STGroup g = new STGroupFile(&quot;t.stg&quot;, &quot;ISO-8859-1&quot;, '$', '$');
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> when the file itself and not the code should determine what the encoding is. the code should not care. If we change the encoding in the file, the code no longer works. (Ter, bold stuff by Udo)
</I>&gt;<i> 
</I>&gt;<i> I suggest to add a new (optional) group statement the group file must start with (if defined). If it is missing the (platform specific) default encoding is used.
</I>&gt;<i> 
</I>&gt;<i> Possible syntax
</I>&gt;<i> 
</I>&gt;<i> 	'encoding' STRING
</I>&gt;<i> 
</I>&gt;<i> For the GroupDir case the &quot;group.config&quot; file could be used again. However we may consider if the individual template files may specify individual charsets, too. (Note: this is different from the &quot;delimiter&quot; case where all template files share the same delimiters)
</I>&gt;<i> 
</I>&gt;<i> BUT: as I am writing this I noticed that this is very much like the stuff in the XML preamble:
</I>&gt;<i> 
</I>&gt;&gt;<i> &lt;?xml encoding='ISO-8859-1'?&gt;
</I>&gt;<i> 
</I>&gt;<i> Maybe we should do something similar. What about making the group file (optionally) start with something like this:
</I>&gt;<i> 
</I>&gt;<i> 	&lt;st(version=&quot;4.0&quot;, encoding=&quot;ISO-8859-1&quot;)&gt;
</I>&gt;<i> 
</I>&gt;<i> Looks familiar?!
</I>&gt;<i> 
</I>&gt;<i> This &quot;template call&quot; style also gives us the option to add more information later.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Udo
</I>&gt;<i> 
</I>&gt;<i> P.S.: Using such a well defined file content prefix &quot;&lt;st(&quot; will probably also allows us to support &quot;encoding autodetection&quot; (<A HREF="http://www.w3.org/TR/REC-xml/#sec-guessing">http://www.w3.org/TR/REC-xml/#sec-guessing</A>) in the future.
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> stringtemplate-interest mailing list
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003018.html">[stringtemplate-interest] [ST4] Specify the encoding in the	template group file
</A></li>
	<LI>Next message: <A HREF="003039.html">[stringtemplate-interest] [ST4] Specify the encoding in the	template group file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3033">[ date ]</a>
              <a href="thread.html#3033">[ thread ]</a>
              <a href="subject.html#3033">[ subject ]</a>
              <a href="author.html#3033">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
