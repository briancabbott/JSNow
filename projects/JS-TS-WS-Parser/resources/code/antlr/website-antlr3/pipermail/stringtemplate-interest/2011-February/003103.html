<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] [ST4] How to notice errors when a	file was not imported?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20%5BST4%5D%20How%20to%20notice%20errors%20when%20a%0A%09file%20was%20not%20imported%3F&In-Reply-To=%3C84C40FF2-39DF-48EE-952E-257D30A70CFA%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003100.html">
   <LINK REL="Next"  HREF="003107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] [ST4] How to notice errors when a	file was not imported?</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20%5BST4%5D%20How%20to%20notice%20errors%20when%20a%0A%09file%20was%20not%20imported%3F&In-Reply-To=%3C84C40FF2-39DF-48EE-952E-257D30A70CFA%40cs.usfca.edu%3E"
       TITLE="[stringtemplate-interest] [ST4] How to notice errors when a	file was not imported?">parrt at cs.usfca.edu
       </A><BR>
    <I>Sat Feb  5 12:07:00 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003100.html">[stringtemplate-interest] Using the &quot;format&quot; option with a	template calls
</A></li>
        <LI>Next message: <A HREF="003107.html">[stringtemplate-interest] StringTemplate 4.0b4 released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3103">[ date ]</a>
              <a href="thread.html#3103">[ thread ]</a>
              <a href="subject.html#3103">[ subject ]</a>
              <a href="author.html#3103">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good suggestion.
fixed.
Ter
On Jan 31, 2011, at 3:17 PM, Udo Borkowski wrote:

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I created an own ErrorListener that collects all error message in a list for later retrieval. I set the listener for every group immediately after it is created.
</I>&gt;<i> 
</I>&gt;<i> I now noticed that I don't get the errors when I am importing a group and the referenced group file does not exist. The error is written to the console, using the STGroup.DEFAULT_ERR_MGR.
</I>&gt;<i> 
</I>&gt;<i> This is because the error occurs inside the constructor STGroupFile(String fileName, char delimiterStartChar, char delimiterStopChar) and it writes to the group's errMgr. This errMgr is always the STGroup.DEFAULT_ERR_MGR because there is no chance to change the errMgr as the group is just instantiated.
</I>&gt;<i> 
</I>&gt;<i> Any idea how to fix this?
</I>&gt;<i> 
</I>&gt;<i> What about throwing an exception when an error occurs in the STGroupFile constructor (instead of using the errMgr) and let the caller handle the rest? E.g. in the STGroupFile constructor replace
</I>&gt;<i> 
</I>&gt;<i>             errMgr.internalError(null, &quot;can't load group file &quot;+fileName, e);
</I>&gt;<i> with
</I>&gt;<i>             throw new STException(&quot;can't load group file &quot;+fileName, e);
</I>&gt;<i> ?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Udo
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> P.S.: the same problem exists for STGroupDir, I guess.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> stringtemplate-interest mailing list
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20110205/85ad6471/attachment.html">http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20110205/85ad6471/attachment.html</A> 
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003100.html">[stringtemplate-interest] Using the &quot;format&quot; option with a	template calls
</A></li>
	<LI>Next message: <A HREF="003107.html">[stringtemplate-interest] StringTemplate 4.0b4 released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3103">[ date ]</a>
              <a href="thread.html#3103">[ thread ]</a>
              <a href="subject.html#3103">[ subject ]</a>
              <a href="author.html#3103">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
