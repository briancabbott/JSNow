<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] [ST4] Specify the encoding in the	template group file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20%5BST4%5D%20Specify%20the%20encoding%20in%20the%0A%09template%20group%20file&In-Reply-To=%3CDCC543C0-1E4F-4F2D-8B3A-02FE78DD4116%40abego-software.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003036.html">
   <LINK REL="Next"  HREF="003033.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] [ST4] Specify the encoding in the	template group file</H1>
    <B>Udo Borkowski</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20%5BST4%5D%20Specify%20the%20encoding%20in%20the%0A%09template%20group%20file&In-Reply-To=%3CDCC543C0-1E4F-4F2D-8B3A-02FE78DD4116%40abego-software.de%3E"
       TITLE="[stringtemplate-interest] [ST4] Specify the encoding in the	template group file">ub at abego-software.de
       </A><BR>
    <I>Thu Jan 27 08:24:26 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003036.html">[stringtemplate-interest] Using the &quot;format&quot; option with a	template calls
</A></li>
        <LI>Next message: <A HREF="003033.html">[stringtemplate-interest] [ST4] Specify the encoding in the	template group file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3018">[ date ]</a>
              <a href="thread.html#3018">[ thread ]</a>
              <a href="subject.html#3018">[ subject ]</a>
              <a href="author.html#3018">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I suggest to specify the encoding/charset of a file in the file itself. This follows the same arguments as for the delimiter:

&gt;<i> why are we doing
</I>&gt;<i> 
</I>&gt;<i> STGroup g = new STGroupFile(&quot;t.stg&quot;, &quot;ISO-8859-1&quot;, '$', '$');
</I>&gt;<i> 
</I>&gt;<i> when the file itself and not the code should determine what the encoding is. the code should not care. If we change the encoding in the file, the code no longer works. (Ter, bold stuff by Udo)
</I>

I suggest to add a new (optional) group statement the group file must start with (if defined). If it is missing the (platform specific) default encoding is used.

Possible syntax

	'encoding' STRING

For the GroupDir case the &quot;group.config&quot; file could be used again. However we may consider if the individual template files may specify individual charsets, too. (Note: this is different from the &quot;delimiter&quot; case where all template files share the same delimiters)

BUT: as I am writing this I noticed that this is very much like the stuff in the XML preamble:

&gt;<i> &lt;?xml encoding='ISO-8859-1'?&gt;
</I>
Maybe we should do something similar. What about making the group file (optionally) start with something like this:

	&lt;st(version=&quot;4.0&quot;, encoding=&quot;ISO-8859-1&quot;)&gt;

Looks familiar?!

This &quot;template call&quot; style also gives us the option to add more information later.


Udo

P.S.: Using such a well defined file content prefix &quot;&lt;st(&quot; will probably also allows us to support &quot;encoding autodetection&quot; (<A HREF="http://www.w3.org/TR/REC-xml/#sec-guessing">http://www.w3.org/TR/REC-xml/#sec-guessing</A>) in the future.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20110127/4df35791/attachment.html">http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20110127/4df35791/attachment.html</A> 
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003036.html">[stringtemplate-interest] Using the &quot;format&quot; option with a	template calls
</A></li>
	<LI>Next message: <A HREF="003033.html">[stringtemplate-interest] [ST4] Specify the encoding in the	template group file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3018">[ date ]</a>
              <a href="thread.html#3018">[ thread ]</a>
              <a href="subject.html#3018">[ subject ]</a>
              <a href="author.html#3018">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
