<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] List-making problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20List-making%20problem&In-Reply-To=%3C60d409690812010319m779768ddga9cb92f42cbca032%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001729.html">
   <LINK REL="Next"  HREF="001731.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] List-making problem</H1>
    <B>Mikael Nyberg</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20List-making%20problem&In-Reply-To=%3C60d409690812010319m779768ddga9cb92f42cbca032%40mail.gmail.com%3E"
       TITLE="[stringtemplate-interest] List-making problem">mikaeln at acm.org
       </A><BR>
    <I>Mon Dec  1 03:19:38 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001729.html">[stringtemplate-interest] List-making problem
</A></li>
        <LI>Next message: <A HREF="001731.html">[stringtemplate-interest] List-making problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1730">[ date ]</a>
              <a href="thread.html#1730">[ thread ]</a>
              <a href="subject.html#1730">[ subject ]</a>
              <a href="author.html#1730">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>
</I>&gt;<i> There has been some discussion about replacements for $if$ in the thread
</I>&gt;<i> starting from &lt;<A HREF="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">200808101759.19093.roma at qwertty.com</A>&gt;.
</I>
Nice, makes a lot of sense.

&gt;<i> In short, you can replace $if(condition)$template$endif$ with $condition:
</I>&gt;<i> {template}$. If  condition can be a list, use $first(condition):{template}$
</I>&gt;<i> to avoid expanding the template more than once. Instead of elseif you can use
</I>&gt;<i> the null=... clause.
</I>
Well, the replacement above works fine, but it is not always
exchangeable in the context of lists when using templates in groups.
At the top level (in the &quot;main&quot;, no arguments) template in the group
file I'm allowed to test for existence of any attribute: The test
$if(attr)$...$endif$ is legal even if attr does not exist. But if
write the condition as $attr:{template}$ and put it in a list
$[{$attr:{template}$}]$ I may get a &quot;no such attribute: attr in
template context&quot; error. I admit I have not really understood this
part of StringTemplate; i.e. when it is legal to test for attributes
that may not have been set (or why it should ever be illegal). Maybe
what happens in the list construction when using braces to embed an
expression is the same as &quot;calling&quot; a subtemplate with an argument?

&gt;<i> Also you can use any expressions in [] lists, for example, [attr, &quot;literal&quot;,
</I>&gt;<i> {template $something$}, &quot;argument&quot;:template()]. This might solve your problem
</I>&gt;<i> if I understand it correctly:
</I>&gt;<i>
</I>&gt;<i> $[a, b, c, {$list; separator=&quot;, &quot;$}, x, y, z]; separator=&quot;; &quot;$
</I>
Yes, I see now that if I embed the expression i braces, any
expressions can be used. That leaves me with the problem described
above with non-existing attributes.

&gt;<i> Or you could maybe define a standalone template like this:
</I>&gt;<i>
</I>&gt;<i> (separated.st)
</I>&gt;<i> $it; separator=s$
</I>&gt;<i>
</I>&gt;<i> and then invoke it as
</I>&gt;<i>
</I>&gt;<i> $[a, b, c, list:separated(s=&quot;, &quot;), x, y, z]; separator=&quot;; &quot;$
</I>&gt;<i>
</I>&gt;<i> (doesn't seem to work, however :-).
</I>
No this is what I tried first, seems that the expression must be put
within braces.
-- 
Mikael Nyberg
<A HREF="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">mikaeln at acm.org</A>
tel: 91830360
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001729.html">[stringtemplate-interest] List-making problem
</A></li>
	<LI>Next message: <A HREF="001731.html">[stringtemplate-interest] List-making problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1730">[ date ]</a>
              <a href="thread.html#1730">[ thread ]</a>
              <a href="subject.html#1730">[ subject ]</a>
              <a href="author.html#1730">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
