<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] [antlr-interest] Generating text from	models
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20%5Bantlr-interest%5D%20Generating%20text%20from%0A%09models&In-Reply-To=%3CE67837D7-2D8D-4002-840F-20B304304E54%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001740.html">
   <LINK REL="Next"  HREF="001742.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] [antlr-interest] Generating text from	models</H1>
    <B>John D. Mitchell</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20%5Bantlr-interest%5D%20Generating%20text%20from%0A%09models&In-Reply-To=%3CE67837D7-2D8D-4002-840F-20B304304E54%40gmail.com%3E"
       TITLE="[stringtemplate-interest] [antlr-interest] Generating text from	models">jdmitchell at gmail.com
       </A><BR>
    <I>Fri Dec  5 16:34:41 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001740.html">[stringtemplate-interest] [antlr-interest] Generating text from	models
</A></li>
        <LI>Next message: <A HREF="001742.html">[stringtemplate-interest] Managing template parameters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1741">[ date ]</a>
              <a href="thread.html#1741">[ thread ]</a>
              <a href="subject.html#1741">[ subject ]</a>
              <a href="author.html#1741">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 2008.12.05, at 12:33 , Terence Parr wrote:
[...]
&gt;&gt;<i> In addition to just querying attributes from the context, you can
</I>&gt;&gt;<i> also pass parameters to (query) functions. And this is mandatory in
</I>&gt;&gt;<i> our case. Our input data is XML and the templates emit portions from
</I>&gt;&gt;<i> the XML by referring to XML nodes through XPATH. So in a template
</I>&gt;&gt;<i> you might find something like
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> DoIt() first parameter: &lt;%= Value( &quot;//Method[@name='DoIt']/
</I>&gt;&gt;<i> Parameters[0]&quot; ) %&gt;.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Where Value( string xpathExpr ) is such a query operation to get the
</I>&gt;&gt;<i> referenced data from the XML. The problem is that we have a lot of
</I>&gt;&gt;<i> templates that all need different data portions so hardcoding those
</I>&gt;&gt;<i> queries in form of getters is not an option.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can ST do this as well?
</I>&gt;<i>
</I>&gt;<i> Well, it depends on what the arguments are.  if it's an attribute or
</I>&gt;<i> string of some kind, you can use the format option and a renderer.
</I>&gt;<i>
</I>&gt;<i> Any time I need to pass an argument back into the model from the
</I>&gt;<i> template, I ask myself whether I am allowing the model to leak into
</I>&gt;<i> the template. If it looks the program, it probably is. That is not
</I>&gt;<i> something you want to happen to your template. In your case, It's hard
</I>&gt;<i> to tell. But, xpath stuff to pull specific nodes from a data structure
</I>&gt;<i> makes me a bit nervous unless you are just descending through the
</I>&gt;<i> various nodes. One could argue that the template should simply be
</I>&gt;<i> displaying data, not encoding how to jump around and ask about tree.
</I>&gt;<i> One test is to ask whether or not you could use that template with
</I>&gt;<i> another data structure. just something to think about.
</I>
In addition to Ter's very good points, I can add that in terms of the  
XML'ish nature of this question that switching from a hacked template  
approach to using XQuery is a very good option.

I.e., processing XML and generating X(HT)ML is much more &quot;natural&quot; and  
easier using XQuery than trying to deal with the latest (weirdo :-)  
JSP/ASP/etc. abomination.

To be clear, I still like the enforced separation of the ST approach  
in general but for a lot of XML hacking, XQuery allows for the  
relatively controlled intermingling of processing, structure, and  
hacking that seems to be very prevalent in XML processing (think:  
multi-stage pipelines that aren't clearly thought of as pipelines).   
We use XQuery on the backend of <A HREF="http://markmail.org/">http://markmail.org/</A> and it generates  
XHTML, JSON, RSS, etc. for the various types of data streams.

Hope this helps,
John

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001740.html">[stringtemplate-interest] [antlr-interest] Generating text from	models
</A></li>
	<LI>Next message: <A HREF="001742.html">[stringtemplate-interest] Managing template parameters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1741">[ date ]</a>
              <a href="thread.html#1741">[ thread ]</a>
              <a href="subject.html#1741">[ subject ]</a>
              <a href="author.html#1741">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
