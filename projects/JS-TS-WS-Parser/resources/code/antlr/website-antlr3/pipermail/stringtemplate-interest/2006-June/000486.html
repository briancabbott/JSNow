<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] Renderer &quot;modes&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=%5Bstringtemplate-interest%5D%20Renderer%20%22modes%22&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000485.html">
   <LINK REL="Next"  HREF="000490.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] Renderer &quot;modes&quot;</H1>
    <B>Sean St. Quentin</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=%5Bstringtemplate-interest%5D%20Renderer%20%22modes%22&In-Reply-To="
       TITLE="[stringtemplate-interest] Renderer &quot;modes&quot;">sean.stquentin at gmail.com
       </A><BR>
    <I>Thu Jun 15 19:55:14 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000485.html">[stringtemplate-interest] out of email contact til Monday AM
</A></li>
        <LI>Next message: <A HREF="000490.html">[stringtemplate-interest] Renderer &quot;modes&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#486">[ date ]</a>
              <a href="thread.html#486">[ thread ]</a>
              <a href="subject.html#486">[ subject ]</a>
              <a href="author.html#486">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Firstly, thanks everybody for ST, I love it.

I have a suggestion/question about the renderers. I'm currently facing a
situation where I need to have an attribute in both HTML formatting and
Javascript formatting, eg:

&lt;a onclick=&quot;DoSomething('$it.Name.FullName$')&gt;$it.Name.LastName$,
$it.Name.FirstName$&lt;/a&gt;

And its encountering problems when the name contains a single quote, eg:
Adrian O'Conner.

Without knowing of an easy way to fix this (by easy I mean not having two
arrays of preformatted information being sent to the view, which seems kinda
wrong), I was thinking about having rendering modes for an
AttributeRenderer.

So I would be able to do something like this (ignoring the syntax I've
used):

&lt;a onclick=&quot;DoSomething('$it.Name.FullName;
format=&quot;js&quot;$'&gt;$it.Name.LastName$, $it.Name.FirstName$&lt;/a&gt;

with the attribute renderer for a string being (C#):

class StringRenderer : IAttributeRenderer
{
    public string ToString(object data) { return
HtmlTools.EncodeHtml((string)data);
}

    [Format(&quot;js&quot;)]
    public string AsJs (object data) { return HtmlTools.EncodeJs((string)data);
}
}

Is there something like this already available in ST?

If not, is it possible? It doesn't seem (to me) to breach the MVCR
principals, as we're not executing arbitary code, rather making the
renderers a little more flexable.

Any thoughts?
Cheers, Sean.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org:8080/pipermail/stringtemplate-interest/attachments/20060616/e4c54b28/attachment.html">http://www.antlr.org:8080/pipermail/stringtemplate-interest/attachments/20060616/e4c54b28/attachment.html</A>
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000485.html">[stringtemplate-interest] out of email contact til Monday AM
</A></li>
	<LI>Next message: <A HREF="000490.html">[stringtemplate-interest] Renderer &quot;modes&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#486">[ date ]</a>
              <a href="thread.html#486">[ thread ]</a>
              <a href="subject.html#486">[ subject ]</a>
              <a href="author.html#486">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
