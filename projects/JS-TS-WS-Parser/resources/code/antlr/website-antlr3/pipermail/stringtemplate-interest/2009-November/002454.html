<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] thread safety
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20thread%20safety&In-Reply-To=%3CDD5A5D428FE040429CCDF377FAA892840152DE39%40martini.ironwillgames.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002452.html">
   <LINK REL="Next"  HREF="002455.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] thread safety</H1>
    <B>Sam Harwell</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20thread%20safety&In-Reply-To=%3CDD5A5D428FE040429CCDF377FAA892840152DE39%40martini.ironwillgames.com%3E"
       TITLE="[stringtemplate-interest] thread safety">sharwell at pixelminegames.com
       </A><BR>
    <I>Sat Nov 14 13:35:45 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002452.html">[stringtemplate-interest] thread safety
</A></li>
        <LI>Next message: <A HREF="002455.html">[stringtemplate-interest] thread safety
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2454">[ date ]</a>
              <a href="thread.html#2454">[ thread ]</a>
              <a href="subject.html#2454">[ subject ]</a>
              <a href="author.html#2454">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think all operations on StringTemplateGroup should be thread safe.
Operations on StringTemplate are not guaranteed to be thread safe, but
two templates returned by two calls to getInstanceOf are mutually thread
safe.

Sam

-----Original Message-----
From: <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest-bounces at antlr.org</A>] On Behalf Of Terence
Parr
Sent: Thursday, November 12, 2009 6:16 PM
To: StringTemplate Mailing List
Subject: [stringtemplate-interest] thread safety

so, currently in ST v3, only renderer tracking is thread safe:

     public void registerRenderer(Class attributeClassType,  
AttributeRenderer renderer) {
         if ( attributeRenderers==null ) {
             attributeRenderers = Collections.synchronizedMap(new  
HashMap&lt;Class,AttributeRenderer&gt;());
         }
         attributeRenderers.put(attributeClassType, renderer);
     }

All the other stuff isn't; not even adding attributes. the question  
is: what should be thread safe. seems weird to have multiple threads  
update a single template or group, but...thought i would ask.

Ter
_______________________________________________
stringtemplate-interest mailing list
<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002452.html">[stringtemplate-interest] thread safety
</A></li>
	<LI>Next message: <A HREF="002455.html">[stringtemplate-interest] thread safety
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2454">[ date ]</a>
              <a href="thread.html#2454">[ thread ]</a>
              <a href="subject.html#2454">[ subject ]</a>
              <a href="author.html#2454">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
