From edmacdonald at hotmail.com  Sat May  2 18:50:27 2009
From: edmacdonald at hotmail.com (Ed MacDonald)
Date: Sat, 2 May 2009 22:50:27 -0300
Subject: [stringtemplate-interest] 1, 2, and 3
Message-ID: <BLU137-DS2AA0754BCBF920B381184AD6B0@phx.gbl>

 

I'm trying to figure out how to apply a different treatment to the last
element in a multi-valued attribute.  This seems like it would be a pretty
common use case, but I haven't been able to find how to do it.  The first(),
last(), and rest() family of functions seemed like it would do the trick but
unfortunately rest() includes last().  

 

So I can do this: 1 and 2, 3.

But not this: 1, 2, and 3.

 

Any suggestions?

 

Thanks,

-Ed

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090502/c8da9755/attachment.html 

From parrt at cs.usfca.edu  Sun May  3 15:55:47 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Sun, 3 May 2009 15:55:47 -0700
Subject: [stringtemplate-interest] 1, 2, and 3
In-Reply-To: <BLU137-DS2AA0754BCBF920B381184AD6B0@phx.gbl>
References: <BLU137-DS2AA0754BCBF920B381184AD6B0@phx.gbl>
Message-ID: <7005D372-48A6-487E-9356-0FF229D480F7@cs.usfca.edu>

that is a damn good question. normally we do the first one different  
not the last.  OH. trunc(foo). I am adding to the cheat sheet. ooop.s
Ter
On May 2, 2009, at 6:50 PM, Ed MacDonald wrote:

>
> I?m trying to figure out how to apply a different treatment to the  
> last element in a multi-valued attribute.  This seems like it would  
> be a pretty common use case, but I haven?t been able to find how to  
> do it.  The first(), last(), and rest() family of functions seemed  
> like it would do the trick but unfortunately rest() includes last().
>
> So I can do this: 1 and 2, 3.
> But not this: 1, 2, and 3.
>
> Any suggestions?
>
> Thanks,
> -Ed
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest


From edmacdonald at hotmail.com  Mon May  4 04:44:26 2009
From: edmacdonald at hotmail.com (Ed MacDonald)
Date: Mon, 4 May 2009 08:44:26 -0300
Subject: [stringtemplate-interest] 1, 2, and 3
In-Reply-To: <7005D372-48A6-487E-9356-0FF229D480F7@cs.usfca.edu>
References: <BLU137-DS2AA0754BCBF920B381184AD6B0@phx.gbl>
	<7005D372-48A6-487E-9356-0FF229D480F7@cs.usfca.edu>
Message-ID: <BLU137-DS5277B95406D8F395EC0A8AD680@phx.gbl>


Thanks Terence.  It appears trunc wasn't implemented in the C# port of
3.0.1. (The method is defined but returns null).

FYI...
Here is where I had been reading about first, last, and rest with no mention
of trunc:
http://www.antlr.org/wiki/display/ST/Expressions

I also see reference to a "tail" function, but no description of what it
does other than to say "tail of a single-valued attribute yields the same as
first, the attribute value".

-Ed



-----Original Message-----
From: Terence Parr [mailto:parrt at cs.usfca.edu] 
Sent: May-03-09 7:56 PM
To: Ed MacDonald
Cc: stringtemplate-interest at antlr.org
Subject: Re: [stringtemplate-interest] 1, 2, and 3

that is a damn good question. normally we do the first one different  
not the last.  OH. trunc(foo). I am adding to the cheat sheet. ooop.s
Ter
On May 2, 2009, at 6:50 PM, Ed MacDonald wrote:

>
> I'm trying to figure out how to apply a different treatment to the  
> last element in a multi-valued attribute.  This seems like it would  
> be a pretty common use case, but I haven't been able to find how to  
> do it.  The first(), last(), and rest() family of functions seemed  
> like it would do the trick but unfortunately rest() includes last().
>
> So I can do this: 1 and 2, 3.
> But not this: 1, 2, and 3.
>
> Any suggestions?
>
> Thanks,
> -Ed
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest



From sharwell at pixelminegames.com  Mon May  4 04:54:23 2009
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Mon, 4 May 2009 06:54:23 -0500
Subject: [stringtemplate-interest] 1, 2, and 3
In-Reply-To: <BLU137-DS5277B95406D8F395EC0A8AD680@phx.gbl>
References: <BLU137-DS2AA0754BCBF920B381184AD6B0@phx.gbl><7005D372-48A6-487E-9356-0FF229D480F7@cs.usfca.edu>
	<BLU137-DS5277B95406D8F395EC0A8AD680@phx.gbl>
Message-ID: <86403CA0939415448BCCB83855EFE09AA67FE4@Bloodymary.ironwillgames.com>

Hi Ed,

Trunc is implemented in my newer build of the C# port of StringTemplate.
If you're using .NET Framework 3.5, you can use my latest build of the
library. It's up-to-date with the latest Java version, but I'm sure it
has some remaining bugs. I'm using it with the C# port of the ANTLR tool
for grammar code generation, and since it uses ANTLR v3 grammars to
parse the templates, I keep a set of bootstrap binaries built while I
work. You can download the following files if you want to use it:

http://fisheye2.atlassian.com/browse/~raw,r=6024/antlrcs/bin/Bootstrap/A
ntlr3.Runtime.dll
http://fisheye2.atlassian.com/browse/~raw,r=6024/antlrcs/bin/Bootstrap/A
ntlr3.Runtime.Debug.dll
http://fisheye2.atlassian.com/browse/~raw,r=6024/antlrcs/bin/Bootstrap/A
ntlr3.StringTemplate.dll

I'm very interested in feedback on how it works out. :)

Thank you,
Sam Harwell

-----Original Message-----
From: stringtemplate-interest-bounces at antlr.org
[mailto:stringtemplate-interest-bounces at antlr.org] On Behalf Of Ed
MacDonald
Sent: Monday, May 04, 2009 6:44 AM
To: 'Terence Parr'
Cc: stringtemplate-interest at antlr.org
Subject: Re: [stringtemplate-interest] 1, 2, and 3


Thanks Terence.  It appears trunc wasn't implemented in the C# port of
3.0.1. (The method is defined but returns null).

FYI...
Here is where I had been reading about first, last, and rest with no
mention
of trunc:
http://www.antlr.org/wiki/display/ST/Expressions

I also see reference to a "tail" function, but no description of what it
does other than to say "tail of a single-valued attribute yields the
same as
first, the attribute value".

-Ed



-----Original Message-----
From: Terence Parr [mailto:parrt at cs.usfca.edu] 
Sent: May-03-09 7:56 PM
To: Ed MacDonald
Cc: stringtemplate-interest at antlr.org
Subject: Re: [stringtemplate-interest] 1, 2, and 3

that is a damn good question. normally we do the first one different  
not the last.  OH. trunc(foo). I am adding to the cheat sheet. ooop.s
Ter
On May 2, 2009, at 6:50 PM, Ed MacDonald wrote:

>
> I'm trying to figure out how to apply a different treatment to the  
> last element in a multi-valued attribute.  This seems like it would  
> be a pretty common use case, but I haven't been able to find how to  
> do it.  The first(), last(), and rest() family of functions seemed  
> like it would do the trick but unfortunately rest() includes last().
>
> So I can do this: 1 and 2, 3.
> But not this: 1, 2, and 3.
>
> Any suggestions?
>
> Thanks,
> -Ed
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest


_______________________________________________
stringtemplate-interest mailing list
stringtemplate-interest at antlr.org
http://www.antlr.org/mailman/listinfo/stringtemplate-interest

From ajs.general at gmail.com  Wed May  6 11:42:00 2009
From: ajs.general at gmail.com (Andy Sipe)
Date: Wed, 6 May 2009 14:42:00 -0400
Subject: [stringtemplate-interest] 1, 2, and 3
In-Reply-To: <86403CA0939415448BCCB83855EFE09AA67FE4@Bloodymary.ironwillgames.com>
References: <BLU137-DS2AA0754BCBF920B381184AD6B0@phx.gbl>
	<7005D372-48A6-487E-9356-0FF229D480F7@cs.usfca.edu>
	<BLU137-DS5277B95406D8F395EC0A8AD680@phx.gbl>
	<86403CA0939415448BCCB83855EFE09AA67FE4@Bloodymary.ironwillgames.com>
Message-ID: <d976049c0905061142v64267838uc6f0d4f46b8a3b93@mail.gmail.com>

<sorry for the direct reply Sam, stupid reply button>

I'm trying out the 3.5 compatible versions that you listed below.  So far it
has greatly helped with some generic collection problems I was having with
the previous version.  Thanks!

I'm curious when this version might be released as a 'real' version?

Thanks -andy


On Mon, May 4, 2009 at 7:54 AM, Sam Harwell <sharwell at pixelminegames.com>wrote:

> Hi Ed,
>
> Trunc is implemented in my newer build of the C# port of StringTemplate.
> If you're using .NET Framework 3.5, you can use my latest build of the
> library. It's up-to-date with the latest Java version, but I'm sure it
> has some remaining bugs. I'm using it with the C# port of the ANTLR tool
> for grammar code generation, and since it uses ANTLR v3 grammars to
> parse the templates, I keep a set of bootstrap binaries built while I
> work. You can download the following files if you want to use it:
>
> http://fisheye2.atlassian.com/browse/~raw,r=6024/antlrcs/bin/Bootstrap/A<http://fisheye2.atlassian.com/browse/%7Eraw,r=6024/antlrcs/bin/Bootstrap/A>
> ntlr3.Runtime.dll
> http://fisheye2.atlassian.com/browse/~raw,r=6024/antlrcs/bin/Bootstrap/A<http://fisheye2.atlassian.com/browse/%7Eraw,r=6024/antlrcs/bin/Bootstrap/A>
> ntlr3.Runtime.Debug.dll
> http://fisheye2.atlassian.com/browse/~raw,r=6024/antlrcs/bin/Bootstrap/A<http://fisheye2.atlassian.com/browse/%7Eraw,r=6024/antlrcs/bin/Bootstrap/A>
> ntlr3.StringTemplate.dll
>
> I'm very interested in feedback on how it works out. :)
>
> Thank you,
> Sam Harwell
>
> -----Original Message-----
> From: stringtemplate-interest-bounces at antlr.org
> [mailto:stringtemplate-interest-bounces at antlr.org] On Behalf Of Ed
> MacDonald
> Sent: Monday, May 04, 2009 6:44 AM
> To: 'Terence Parr'
> Cc: stringtemplate-interest at antlr.org
> Subject: Re: [stringtemplate-interest] 1, 2, and 3
>
>
> Thanks Terence.  It appears trunc wasn't implemented in the C# port of
> 3.0.1. (The method is defined but returns null).
>
> FYI...
> Here is where I had been reading about first, last, and rest with no
> mention
> of trunc:
> http://www.antlr.org/wiki/display/ST/Expressions
>
> I also see reference to a "tail" function, but no description of what it
> does other than to say "tail of a single-valued attribute yields the
> same as
> first, the attribute value".
>
> -Ed
>
>
>
> -----Original Message-----
> From: Terence Parr [mailto:parrt at cs.usfca.edu]
> Sent: May-03-09 7:56 PM
> To: Ed MacDonald
> Cc: stringtemplate-interest at antlr.org
> Subject: Re: [stringtemplate-interest] 1, 2, and 3
>
> that is a damn good question. normally we do the first one different
> not the last.  OH. trunc(foo). I am adding to the cheat sheet. ooop.s
> Ter
> On May 2, 2009, at 6:50 PM, Ed MacDonald wrote:
>
> >
> > I'm trying to figure out how to apply a different treatment to the
> > last element in a multi-valued attribute.  This seems like it would
> > be a pretty common use case, but I haven't been able to find how to
> > do it.  The first(), last(), and rest() family of functions seemed
> > like it would do the trick but unfortunately rest() includes last().
> >
> > So I can do this: 1 and 2, 3.
> > But not this: 1, 2, and 3.
> >
> > Any suggestions?
> >
> > Thanks,
> > -Ed
> > _______________________________________________
> > stringtemplate-interest mailing list
> > stringtemplate-interest at antlr.org
> > http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>
>
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090506/189ded27/attachment.html 

From parrt at antlr.org  Fri May  8 12:31:45 2009
From: parrt at antlr.org (Terence Parr)
Date: Fri, 8 May 2009 12:31:45 -0700
Subject: [stringtemplate-interest] antlr.org contact
In-Reply-To: <20090505173457.02AE63418561@www.antlr.org>
References: <20090505173457.02AE63418561@www.antlr.org>
Message-ID: <7A0B8F9B-19F9-455C-88DB-9B67D3C794BF@antlr.org>


On May 5, 2009, at 10:34 AM, donrasbridge at gmail.com wrote:

> Don Rasbridge wrote:
>
> Terence:
> I have a little Java background, but more recently Objective-C.
> I have been so frustrated by MVC and GUI toolkit issues in general -  
> the complexity and entanglement.
> I was blown away by your StringTemplate, but don't fully understand  
> it yet.

glad it is food for thought.

> 1. Does StringTemplate preclude using all Ajax and javascript since  
> that would be putting code into the view?

Well, ST can't control what you put in the template so you can use  
JavaScript with no problem.  The problem of course is that pull data  
from the server which starts to break model view separation.

>
> Is it OK as long as it doesn't modify the Model? For example,  
> perhaps it is a simple Mouse-over effect.

  it's not just simple things like avoiding modifying the model. You  
want to avoid embedding logic. embedding mouse over stuff is okay  
though.

These are good questions...i hope it's okay if I send to the interest  
list also.

> 2. If Ajax and/or JS can still be used, what is the workflow? In  
> other words, can I use StringTemplate to "inject" the Ajax/JS code,  
> or is there a more advisable way?

well, I think you just included like regular HTML.

> I couldn't find any articles or docs on how to incorporate ajax with  
> StringTemplate.
>
> 3. Could Groovy's "builder" mechanism be used fairly easily to do  
> the same sort of thing as StringTemplate?  Not that I'm trying to  
> underestimate the power or amount of
> effort involved in StringTemplate.  It's sometimes just edifying to  
> contrast two different approaches - then I begin to understand how  
> it works.

remind me what the builder does?

> I'm kinda new to the web development world.  I want to build my own  
> Loosely Coupled framework of "components" that are as simple as  
> possible.  I want strict
> MVC enforcement so that I CAN have a loosely coupled system and  
> build dynamic websites generatively (for the most part).  I want to  
> automate as much as possible,
> and this is the way I see that happing (not heavyweight inflexible  
> frameworks like Rails).  Any suggestions/links/articles along these  
> lines would be appreciated -
> specifically with regard other web framework components that work  
> well with StringTemplate (or perhaps those that I should shy away  
> from.)

A number of people have written webpages about incorporating it into  
other systems. I think the C# guys have incorporated it into cocoon  
etc..

> Great work.  I always appreciate academic people who can write  
> intelligent, useful, readable papers that get their ideas across to  
> us lowly people. Then when they actually
> produce products that people use and love, as you have ... that's  
> pretty uncommon.

Thanks :)  Glad to help.

Ter

From parrt at cs.usfca.edu  Fri May  8 13:04:23 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Fri, 8 May 2009 13:04:23 -0700
Subject: [stringtemplate-interest] still room at ANTLR workshop :)
Message-ID: <704DABDC-78D0-468A-A9AC-B24510887D15@cs.usfca.edu>

Hi,

Just a note to say that we still have room at the workshop this year.  
Lots of the primary contributors to the project will be there as well  
as others that use the tools in the wild.

http://www.antlr.org/wiki/display/ANTLR3/ANTLR+Conference+2009

You get a free beta copy of the language design patterns book :)

Ter


From dvd at newfoundmarket.com  Sun May 10 12:58:56 2009
From: dvd at newfoundmarket.com (DVD)
Date: Sun, 10 May 2009 15:58:56 -0400
Subject: [stringtemplate-interest] accept simple expression language
Message-ID: <4A073200.4030507@newfoundmarket.com>

Hello:

I experimented with ST and really like use it for all my projects 
replacing freemarker.
The only thing I feel uncertain is that ST does not provide an option
to allow using a simple expression langauge for template author for 
customization without
requiring model developer to provide the needed data. For example,
if originally the template is like

$O.a$$O.b$

but a user wants to have only value  c = summing a and b,  something like
$O.a+O.b$

I guess in order to get this, model dev has to add property "c" in  O in 
order for author
to get.   This is a big problem if an application expects authors to 
import their own templates,
since the authors would have no way to customize it, even for some 
simple operation.
Renderer might not help so I am not sure if there is any solution for 
this scenario. I went through
the doc but did not have an example.

Thanks


From parrt at cs.usfca.edu  Mon May 11 13:10:48 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon, 11 May 2009 13:10:48 -0700
Subject: [stringtemplate-interest] accept simple expression language
In-Reply-To: <4A073200.4030507@newfoundmarket.com>
References: <4A073200.4030507@newfoundmarket.com>
Message-ID: <1BF73D89-E199-44A3-A3D1-876274DAD8ED@cs.usfca.edu>

Hi. Addition or other computation on model values is forbidden in the  
view to avoid entangling model/view.  You really need to compute in  
the model and pass in some how.  Adding numbers isn't "customization"  
though as you ask about...it's an entanglement to be avoided :)

Ter
On May 10, 2009, at 12:58 PM, DVD wrote:

> Hello:
>
> I experimented with ST and really like use it for all my projects
> replacing freemarker.
> The only thing I feel uncertain is that ST does not provide an option
> to allow using a simple expression langauge for template author for
> customization without
> requiring model developer to provide the needed data. For example,
> if originally the template is like
>
> $O.a$$O.b$
>
> but a user wants to have only value  c = summing a and b,  something  
> like
> $O.a+O.b$
>
> I guess in order to get this, model dev has to add property "c" in   
> O in
> order for author
> to get.   This is a big problem if an application expects authors to
> import their own templates,
> since the authors would have no way to customize it, even for some
> simple operation.
> Renderer might not help so I am not sure if there is any solution for
> this scenario. I went through
> the doc but did not have an example.
>
> Thanks
>
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest


From dvd at newfoundmarket.com  Mon May 11 20:06:49 2009
From: dvd at newfoundmarket.com (DVD)
Date: Mon, 11 May 2009 23:06:49 -0400
Subject: [stringtemplate-interest] accept simple expression language
In-Reply-To: <1BF73D89-E199-44A3-A3D1-876274DAD8ED@cs.usfca.edu>
References: <4A073200.4030507@newfoundmarket.com>
	<1BF73D89-E199-44A3-A3D1-876274DAD8ED@cs.usfca.edu>
Message-ID: <4A08E7C9.3060009@newfoundmarket.com>

Hi, Terence,
Customization might not be the correct wording.
I understand ST enforces the separation. But I wonder if an option
could be provided when really needed for scenarios that
the authors either do not know Java or do not have easy means
to add property to model.  In my example, the visitor would be allowed
to create their own template for their own web page and they would be
presented properties  available from the model (a and be here).
 if the user requires a value of c = a+b  to be display in the web page, 
then
there would not be easy way to do this.

Perhaps some mechanism  and built-in (and localled developed) expression 
handler
could be provided so that authors could use somethinf like
$handler_add(O.a+O.b)$  where "handler" would be a special label
indicating to the ST engine that this is a expression processor to call 
the provided expression handler.

This is not a frequently used feature but I feel this would prevent any 
showstopper when
needed. Otherwise, I would have to use another template system just for 
this purpose.

I know this could "pollute" the clean design of ST but I feel it would 
be worth it to make it
all-around  player with a slight compromise. Remember it took Sun so 
many years to
give up the marketing of safe String  class  to provide the 
StringBuilder class   :-)

Regards




Terence Parr wrote:
> Hi. Addition or other computation on model values is forbidden in the 
> view to avoid entangling model/view.  You really need to compute in 
> the model and pass in some how.  Adding numbers isn't "customization" 
> though as you ask about...it's an entanglement to be avoided :)
>
> Ter
> On May 10, 2009, at 12:58 PM, DVD wrote:
>
>> Hello:
>>
>> I experimented with ST and really like use it for all my projects
>> replacing freemarker.
>> The only thing I feel uncertain is that ST does not provide an option
>> to allow using a simple expression langauge for template author for
>> customization without
>> requiring model developer to provide the needed data. For example,
>> if originally the template is like
>>
>> $O.a$$O.b$
>>
>> but a user wants to have only value  c = summing a and b,  something 
>> like
>> $O.a+O.b$
>>
>> I guess in order to get this, model dev has to add property "c" in  O in
>> order for author
>> to get.   This is a big problem if an application expects authors to
>> import their own templates,
>> since the authors would have no way to customize it, even for some
>> simple operation.
>> Renderer might not help so I am not sure if there is any solution for
>> this scenario. I went through
>> the doc but did not have an example.
>>
>> Thanks
>>
>> _______________________________________________
>> stringtemplate-interest mailing list
>> stringtemplate-interest at antlr.org
>> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>


From volkanceylan at gmail.com  Mon May 11 23:20:28 2009
From: volkanceylan at gmail.com (Volkan Ceylan)
Date: Tue, 12 May 2009 09:20:28 +0300
Subject: [stringtemplate-interest] accept simple expression language
	(DVD)
Message-ID: <f897bf780905112320s1f099487pa2103c8374387222@mail.gmail.com>

Though it violates ST principles, it's possible, and i implemented it in my
.NET project.

You can either use a a combination of expression evaluator + renderer , or a
fake object implementing IDictionary interface.

Let's say we have a dummy class ExpressionProvider.

st.SetAttribute("_expression", new ExpressionProvider())
st.RegisterAttributeRenderer(typeof(ExpressionProvider),
MyExpressionRenderer)

MyExpressionRenderer is a class that implements IAttributeRenderer
interface.

Now in template we write

$_expression;format=$O.a$+"+"+$O.b$$

If O.a is 5 and O.b is 4, when format is turned into a string, format will
be evaluated as "5+4". When your
MyExpressionRender.ToString() method called with this string, just call your
evaluator library and return result as a string.

Other option is to use a fake object implementing IDictionary interface.
Let's say this object is also called _expression.

Now in template, we write
_expression.(O.a + "+" + O.b)

ST first evaluates expression in paranthesis and looks up "5+4" in
_expressio object as if it was a property. But because _expression
implements IDictionary interface, ST calls get value method of _expression
object.
Now you can handle it as a expression and use your favorite evaluation
library too.

As i said, though its possible and kind of a hack, its against ST's
principles, and i try to avoid it by doing calculations in the model itself
or in generated javascript where available. Use such techniques at your own
risk when no other option is available.

>
> $O.a$$O.b$
>
> but a user wants to have only value  c = summing a and b,  something like
> $O.a+O.b$
>
> I guess in order to get this, model dev has to add property "c" in  O in
> order for author
> to get.   This is a big problem if an application expects authors to
> import their own templates,
> since the authors would have no way to customize it, even for some
> simple operation.
> Renderer might not help so I am not sure if there is any solution for
> this scenario. I went through
> the doc but did not have an example.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090512/92dccafa/attachment.html 

From dvd at newfoundmarket.com  Tue May 12 03:28:27 2009
From: dvd at newfoundmarket.com (DVD)
Date: Tue, 12 May 2009 06:28:27 -0400
Subject: [stringtemplate-interest] accept simple expression
	language	(DVD)
In-Reply-To: <f897bf780905112320s1f099487pa2103c8374387222@mail.gmail.com>
References: <f897bf780905112320s1f099487pa2103c8374387222@mail.gmail.com>
Message-ID: <4A094F4B.5050700@newfoundmarket.com>

Thanks. The second approach is quite close to what is in my mind as it 
presents the end user
with an easy to grasp syntax.  It would be nicer to only need to use

_expression_add(O.a , O.b)

which would be even easier for user to use.  (_expression is a special 
label tells ST engine this is "add" is
an predefined method of (built-in or extended) expression object that would
take the values of O.a and O.b and return the computed value) . This 
syntax resembles
a conventional function call syntax. 

Yes, I'd probably stick to ST principles 99% of my projects
but this capability would probably enable me to use ST for 100% of my 
project
without show stoppers.

Hope some kind of formal syntax/approach like this could be part of the 
ST core function
 and have a built-in expression object for common purposes.

regards.


Volkan Ceylan wrote:
> Though it violates ST principles, it's possible, and i implemented it 
> in my .NET project.
>
> You can either use a a combination of expression evaluator + renderer 
> , or a fake object implementing IDictionary interface.
>
> Let's say we have a dummy class ExpressionProvider.
>
> st.SetAttribute("_expression", new ExpressionProvider())
> st.RegisterAttributeRenderer(typeof(ExpressionProvider), 
> MyExpressionRenderer)
>
> MyExpressionRenderer is a class that implements IAttributeRenderer 
> interface.
>
> Now in template we write
>
> $_expression;format=$O.a$+"+"+$O.b$$
>
> If O.a is 5 and O.b is 4, when format is turned into a string, format 
> will be evaluated as "5+4". When your
> MyExpressionRender.ToString() method called with this string, just 
> call your evaluator library and return result as a string.
>
> Other option is to use a fake object implementing IDictionary 
> interface. Let's say this object is also called _expression.
>
> Now in template, we write
> _expression.(O.a + "+" + O.b)
>
> ST first evaluates expression in paranthesis and looks up "5+4" in 
> _expressio object as if it was a property. But because _expression 
> implements IDictionary interface, ST calls get value method of 
> _expression object.
> Now you can handle it as a expression and use your favorite evaluation 
> library too.
>
> As i said, though its possible and kind of a hack, its against ST's 
> principles, and i try to avoid it by doing calculations in the model 
> itself or in generated javascript where available. Use such techniques 
> at your own risk when no other option is available.
>
> >
> > $O.a$$O.b$
> >
> > but a user wants to have only value  c = summing a and b,  something 
> like
> > $O.a+O.b$
> >
> > I guess in order to get this, model dev has to add property "c" in  O in
> > order for author
> > to get.   This is a big problem if an application expects authors to
> > import their own templates,
> > since the authors would have no way to customize it, even for some
> > simple operation.
> > Renderer might not help so I am not sure if there is any solution for
> > this scenario. I went through
> > the doc but did not have an example.
> ------------------------------------------------------------------------
>
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>   


From parrt at cs.usfca.edu  Tue May 12 11:47:39 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Tue, 12 May 2009 11:47:39 -0700
Subject: [stringtemplate-interest] accept simple expression language
In-Reply-To: <4A08E7C9.3060009@newfoundmarket.com>
References: <4A073200.4030507@newfoundmarket.com>
	<1BF73D89-E199-44A3-A3D1-876274DAD8ED@cs.usfca.edu>
	<4A08E7C9.3060009@newfoundmarket.com>
Message-ID: <FCE69C0D-5839-4E2B-AC0C-94BAF124C41A@cs.usfca.edu>

Hi,

Well,My experience is that you don't really mean low-level operation  
like add. that is what computers understand. humans use low-level  
operations because it implements things like  price including tax or  
give discount things like that. Are you sure you mean add? don't you  
mean some higher-level operation that really belongs in a model? why  
can't you ask the model to give you the result of some high-level  
operation and then implement it using addition in your model? the  
antlr tool code generator with all of its multiple targets is  
extremely complex and there is not a single need to do what you ask. I  
be surprised if we couldn't come up with a way to think about the  
problem that did not require you to violate the principles.

Ter
On May 11, 2009, at 8:06 PM, DVD wrote:

> Hi, Terence,
> Customization might not be the correct wording.
> I understand ST enforces the separation. But I wonder if an option
> could be provided when really needed for scenarios that
> the authors either do not know Java or do not have easy means
> to add property to model.  In my example, the visitor would be allowed
> to create their own template for their own web page and they would be
> presented properties  available from the model (a and be here).
> if the user requires a value of c = a+b  to be display in the web  
> page, then
> there would not be easy way to do this.
>
> Perhaps some mechanism  and built-in (and localled developed)  
> expression handler
> could be provided so that authors could use somethinf like
> $handler_add(O.a+O.b)$  where "handler" would be a special label
> indicating to the ST engine that this is a expression processor to  
> call the provided expression handler.
>
> This is not a frequently used feature but I feel this would prevent  
> any showstopper when
> needed. Otherwise, I would have to use another template system just  
> for this purpose.
>
> I know this could "pollute" the clean design of ST but I feel it  
> would be worth it to make it
> all-around  player with a slight compromise. Remember it took Sun so  
> many years to
> give up the marketing of safe String  class  to provide the  
> StringBuilder class   :-)
>
> Regards
>
>
>
>
> Terence Parr wrote:
>> Hi. Addition or other computation on model values is forbidden in  
>> the view to avoid entangling model/view.  You really need to  
>> compute in the model and pass in some how.  Adding numbers isn't  
>> "customization" though as you ask about...it's an entanglement to  
>> be avoided :)
>>
>> Ter
>> On May 10, 2009, at 12:58 PM, DVD wrote:
>>
>>> Hello:
>>>
>>> I experimented with ST and really like use it for all my projects
>>> replacing freemarker.
>>> The only thing I feel uncertain is that ST does not provide an  
>>> option
>>> to allow using a simple expression langauge for template author for
>>> customization without
>>> requiring model developer to provide the needed data. For example,
>>> if originally the template is like
>>>
>>> $O.a$$O.b$
>>>
>>> but a user wants to have only value  c = summing a and b,   
>>> something like
>>> $O.a+O.b$
>>>
>>> I guess in order to get this, model dev has to add property "c"  
>>> in  O in
>>> order for author
>>> to get.   This is a big problem if an application expects authors to
>>> import their own templates,
>>> since the authors would have no way to customize it, even for some
>>> simple operation.
>>> Renderer might not help so I am not sure if there is any solution  
>>> for
>>> this scenario. I went through
>>> the doc but did not have an example.
>>>
>>> Thanks
>>>
>>> _______________________________________________
>>> stringtemplate-interest mailing list
>>> stringtemplate-interest at antlr.org
>>> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>>
>


From dvd at newfoundmarket.com  Tue May 12 12:06:35 2009
From: dvd at newfoundmarket.com (DVD)
Date: Tue, 12 May 2009 15:06:35 -0400
Subject: [stringtemplate-interest] accept simple expression language
In-Reply-To: <FCE69C0D-5839-4E2B-AC0C-94BAF124C41A@cs.usfca.edu>
References: <4A073200.4030507@newfoundmarket.com>
	<1BF73D89-E199-44A3-A3D1-876274DAD8ED@cs.usfca.edu>
	<4A08E7C9.3060009@newfoundmarket.com>
	<FCE69C0D-5839-4E2B-AC0C-94BAF124C41A@cs.usfca.edu>
Message-ID: <4A09C8BB.1070706@newfoundmarket.com>

Hi, Terence:

what I meant was a scenario where the webs app let end user create a 
template, say a web page template
and upload it to the Java web server directory that hosting personal ST 
based
web publishing CMS.  I could publish all the properties (say, O.a, O.b)
 my current model provides for user to use in the ST file. But if one 
user wants
to diplay the result of a+b, what should I do?  Of course, the user 
could request
me to add a property "c" = a+b. but that would make this CMS quite backward
compared to many other CMS.    The worse, it might not make sense
to add this property to the Java model just for one user, or it might 
end up with thousands
of properties like this.    With a basic expression function in place, 
the end user
could do basic "scripting" to get what they need without replying on 
developer to provide
for them.,   I am talking about basic set of expressions such as simple 
math, string maipulation,
alike, not a full blown languange. I know it "pollute" a little it would 
make ST a complete solution to me.

In other words, this is a scenario that the model might not be readily 
able to provide author
with needed values.  It does not have to be "add".  

Regards.

Terence Parr wrote:
> Hi,
>
> Well,My experience is that you don't really mean low-level operation 
> like add. that is what computers understand. humans use low-level 
> operations because it implements things like  price including tax or 
> give discount things like that. Are you sure you mean add? don't you 
> mean some higher-level operation that really belongs in a model? why 
> can't you ask the model to give you the result of some high-level 
> operation and then implement it using addition in your model? the 
> antlr tool code generator with all of its multiple targets is 
> extremely complex and there is not a single need to do what you ask. I 
> be surprised if we couldn't come up with a way to think about the 
> problem that did not require you to violate the principles.
>
> Ter
> On May 11, 2009, at 8:06 PM, DVD wrote:
>
>> Hi, Terence,
>> Customization might not be the correct wording.
>> I understand ST enforces the separation. But I wonder if an option
>> could be provided when really needed for scenarios that
>> the authors either do not know Java or do not have easy means
>> to add property to model.  In my example, the visitor would be allowed
>> to create their own template for their own web page and they would be
>> presented properties  available from the model (a and be here).
>> if the user requires a value of c = a+b  to be display in the web 
>> page, then
>> there would not be easy way to do this.
>>
>> Perhaps some mechanism  and built-in (and localled developed) 
>> expression handler
>> could be provided so that authors could use somethinf like
>> $handler_add(O.a+O.b)$  where "handler" would be a special label
>> indicating to the ST engine that this is a expression processor to 
>> call the provided expression handler.
>>
>> This is not a frequently used feature but I feel this would prevent 
>> any showstopper when
>> needed. Otherwise, I would have to use another template system just 
>> for this purpose.
>>
>> I know this could "pollute" the clean design of ST but I feel it 
>> would be worth it to make it
>> all-around  player with a slight compromise. Remember it took Sun so 
>> many years to
>> give up the marketing of safe String  class  to provide the 
>> StringBuilder class   :-)
>>
>> Regards
>>
>>
>>
>>
>> Terence Parr wrote:
>>> Hi. Addition or other computation on model values is forbidden in 
>>> the view to avoid entangling model/view.  You really need to compute 
>>> in the model and pass in some how.  Adding numbers isn't 
>>> "customization" though as you ask about...it's an entanglement to be 
>>> avoided :)
>>>
>>> Ter
>>> On May 10, 2009, at 12:58 PM, DVD wrote:
>>>
>>>> Hello:
>>>>
>>>> I experimented with ST and really like use it for all my projects
>>>> replacing freemarker.
>>>> The only thing I feel uncertain is that ST does not provide an option
>>>> to allow using a simple expression langauge for template author for
>>>> customization without
>>>> requiring model developer to provide the needed data. For example,
>>>> if originally the template is like
>>>>
>>>> $O.a$$O.b$
>>>>
>>>> but a user wants to have only value  c = summing a and b,  
>>>> something like
>>>> $O.a+O.b$
>>>>
>>>> I guess in order to get this, model dev has to add property "c" in  
>>>> O in
>>>> order for author
>>>> to get.   This is a big problem if an application expects authors to
>>>> import their own templates,
>>>> since the authors would have no way to customize it, even for some
>>>> simple operation.
>>>> Renderer might not help so I am not sure if there is any solution for
>>>> this scenario. I went through
>>>> the doc but did not have an example.
>>>>
>>>> Thanks
>>>>
>>>> _______________________________________________
>>>> stringtemplate-interest mailing list
>>>> stringtemplate-interest at antlr.org
>>>> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>>>
>>
>


From j.stuyts at javathinker.com  Tue May 12 12:31:34 2009
From: j.stuyts at javathinker.com (Johan Stuyts)
Date: Tue, 12 May 2009 21:31:34 +0200
Subject: [stringtemplate-interest] accept simple expression language
In-Reply-To: <4A09C8BB.1070706@newfoundmarket.com>
References: <4A073200.4030507@newfoundmarket.com>
	<1BF73D89-E199-44A3-A3D1-876274DAD8ED@cs.usfca.edu>
	<4A08E7C9.3060009@newfoundmarket.com>
	<FCE69C0D-5839-4E2B-AC0C-94BAF124C41A@cs.usfca.edu>
	<4A09C8BB.1070706@newfoundmarket.com>
Message-ID: <op.utt0iwunc4vsc3@audioslave>

> what I meant was a scenario where the webs app let end user create a
> template, say a web page template
> and upload it to the Java web server directory that hosting personal ST
> based
> web publishing CMS.  I could publish all the properties (say, O.a, O.b)
>  my current model provides for user to use in the ST file. But if one
> user wants
> to diplay the result of a+b, what should I do?  Of course, the user
> could request
> me to add a property "c" = a+b. but that would make this CMS quite  
> backward
> compared to many other CMS.    The worse, it might not make sense
> to add this property to the Java model just for one user, or it might
> end up with thousands
> of properties like this.    With a basic expression function in place,
> the end user
> could do basic "scripting" to get what they need without replying on
> developer to provide
> for them.,   I am talking about basic set of expressions such as simple
> math, string maipulation,
> alike, not a full blown languange. I know it "pollute" a little it would
> make ST a complete solution to me.
>
> In other words, this is a scenario that the model might not be readily
> able to provide author
> with needed values.  It does not have to be "add".

How about introducing another step in the rendering pipeline of your CMS?  
Your current pipeline looks like this if I am correct:
- CMS retrieves content
- template renders HTML

If you add a content transformation step you end up with this:
- CMS retrieves content
- content is transformed using script written by user
- template renders HTML

The script language could be any language, but I guess JavaScript would be  
a good choice as a lot of people who know HTML also know the basics of  
JavaScript. And the people that don't should not have a problem picking it  
up because they can also write templates.

I think this will be more powerful because you can do so much more with a  
scripting environment specifically for transformation. For example:  
processing collections will be so much easier than doing it inside a  
template.

Regards,

Johan Stuyts

From parrt at cs.usfca.edu  Tue May 12 12:38:27 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Tue, 12 May 2009 12:38:27 -0700
Subject: [stringtemplate-interest] accept simple expression language
In-Reply-To: <op.utt0iwunc4vsc3@audioslave>
References: <4A073200.4030507@newfoundmarket.com>
	<1BF73D89-E199-44A3-A3D1-876274DAD8ED@cs.usfca.edu>
	<4A08E7C9.3060009@newfoundmarket.com>
	<FCE69C0D-5839-4E2B-AC0C-94BAF124C41A@cs.usfca.edu>
	<4A09C8BB.1070706@newfoundmarket.com>
	<op.utt0iwunc4vsc3@audioslave>
Message-ID: <20E47525-487D-4562-8C04-AFB93DDD7FA1@cs.usfca.edu>

Yep, I like this idea of a transformation step. it's really the way I  
view things.  For MVC, I view the model as the database any business  
logic.  The controller is the webpage that pulls from a model,  
possibly filtering, and then pushing into the view (template).

Ter
On May 12, 2009, at 12:31 PM, Johan Stuyts wrote:

>> what I meant was a scenario where the webs app let end user create a
>> template, say a web page template
>> and upload it to the Java web server directory that hosting  
>> personal ST
>> based
>> web publishing CMS.  I could publish all the properties (say, O.a,  
>> O.b)
>> my current model provides for user to use in the ST file. But if one
>> user wants
>> to diplay the result of a+b, what should I do?  Of course, the user
>> could request
>> me to add a property "c" = a+b. but that would make this CMS quite
>> backward
>> compared to many other CMS.    The worse, it might not make sense
>> to add this property to the Java model just for one user, or it might
>> end up with thousands
>> of properties like this.    With a basic expression function in  
>> place,
>> the end user
>> could do basic "scripting" to get what they need without replying on
>> developer to provide
>> for them.,   I am talking about basic set of expressions such as  
>> simple
>> math, string maipulation,
>> alike, not a full blown languange. I know it "pollute" a little it  
>> would
>> make ST a complete solution to me.
>>
>> In other words, this is a scenario that the model might not be  
>> readily
>> able to provide author
>> with needed values.  It does not have to be "add".
>
> How about introducing another step in the rendering pipeline of your  
> CMS?
> Your current pipeline looks like this if I am correct:
> - CMS retrieves content
> - template renders HTML
>
> If you add a content transformation step you end up with this:
> - CMS retrieves content
> - content is transformed using script written by user
> - template renders HTML
>
> The script language could be any language, but I guess JavaScript  
> would be
> a good choice as a lot of people who know HTML also know the basics of
> JavaScript. And the people that don't should not have a problem  
> picking it
> up because they can also write templates.
>
> I think this will be more powerful because you can do so much more  
> with a
> scripting environment specifically for transformation. For example:
> processing collections will be so much easier than doing it inside a
> template.
>
> Regards,
>
> Johan Stuyts
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest


From micha-1 at fantasymail.de  Tue May 12 12:49:27 2009
From: micha-1 at fantasymail.de (Micha)
Date: Tue, 12 May 2009 21:49:27 +0200
Subject: [stringtemplate-interest] accept simple expression language
In-Reply-To: <op.utt0iwunc4vsc3@audioslave>
References: <4A073200.4030507@newfoundmarket.com>
	<4A09C8BB.1070706@newfoundmarket.com>
	<op.utt0iwunc4vsc3@audioslave>
Message-ID: <200905122149.27567.micha-1@fantasymail.de>

On Tuesday 12 May 2009 21:31:34 Johan Stuyts wrote:

> If you add a content transformation step you end up with this:
> - CMS retrieves content
> - content is transformed using script written by user
> - template renders HTML

you can use a tag library which does the transformation (or all the rest :-) )

 Michael



From dvd at newfoundmarket.com  Tue May 12 13:40:55 2009
From: dvd at newfoundmarket.com (DVD)
Date: Tue, 12 May 2009 16:40:55 -0400
Subject: [stringtemplate-interest] accept simple expression language
In-Reply-To: <20E47525-487D-4562-8C04-AFB93DDD7FA1@cs.usfca.edu>
References: <4A073200.4030507@newfoundmarket.com>	<1BF73D89-E199-44A3-A3D1-876274DAD8ED@cs.usfca.edu>	<4A08E7C9.3060009@newfoundmarket.com>	<FCE69C0D-5839-4E2B-AC0C-94BAF124C41A@cs.usfca.edu>	<4A09C8BB.1070706@newfoundmarket.com>	<op.utt0iwunc4vsc3@audioslave>
	<20E47525-487D-4562-8C04-AFB93DDD7FA1@cs.usfca.edu>
Message-ID: <4A09DED7.1020300@newfoundmarket.com>

Except that I need the transformation step being (optional) step of ST 
engine.
Using Javascript can work around in some scenarios. But others might not 
work.
For example, an plain email newletter that may be contributed by vairous 
people.
  I am talking about making ST 100% solution for all template tasks.
A carefully designed synxtax for an expression function could make it happen
and still keep the syntax appearance clear.
(it might also resolve the issues of conditional looping over 
collections, which has similar
issues). I know this could sound going backward to the other template 
systems.

Terence Parr wrote:
> Yep, I like this idea of a transformation step. it's really the way I  
> view things.  For MVC, I view the model as the database any business  
> logic.  The controller is the webpage that pulls from a model,  
> possibly filtering, and then pushing into the view (template).
>
> Ter
> On May 12, 2009, at 12:31 PM, Johan Stuyts wrote:
>
>   
>>> what I meant was a scenario where the webs app let end user create a
>>> template, say a web page template
>>> and upload it to the Java web server directory that hosting  
>>> personal ST
>>> based
>>> web publishing CMS.  I could publish all the properties (say, O.a,  
>>> O.b)
>>> my current model provides for user to use in the ST file. But if one
>>> user wants
>>> to diplay the result of a+b, what should I do?  Of course, the user
>>> could request
>>> me to add a property "c" = a+b. but that would make this CMS quite
>>> backward
>>> compared to many other CMS.    The worse, it might not make sense
>>> to add this property to the Java model just for one user, or it might
>>> end up with thousands
>>> of properties like this.    With a basic expression function in  
>>> place,
>>> the end user
>>> could do basic "scripting" to get what they need without replying on
>>> developer to provide
>>> for them.,   I am talking about basic set of expressions such as  
>>> simple
>>> math, string maipulation,
>>> alike, not a full blown languange. I know it "pollute" a little it  
>>> would
>>> make ST a complete solution to me.
>>>
>>> In other words, this is a scenario that the model might not be  
>>> readily
>>> able to provide author
>>> with needed values.  It does not have to be "add".
>>>       
>> How about introducing another step in the rendering pipeline of your  
>> CMS?
>> Your current pipeline looks like this if I am correct:
>> - CMS retrieves content
>> - template renders HTML
>>
>> If you add a content transformation step you end up with this:
>> - CMS retrieves content
>> - content is transformed using script written by user
>> - template renders HTML
>>
>> The script language could be any language, but I guess JavaScript  
>> would be
>> a good choice as a lot of people who know HTML also know the basics of
>> JavaScript. And the people that don't should not have a problem  
>> picking it
>> up because they can also write templates.
>>
>> I think this will be more powerful because you can do so much more  
>> with a
>> scripting environment specifically for transformation. For example:
>> processing collections will be so much easier than doing it inside a
>> template.
>>
>> Regards,
>>
>> Johan Stuyts
>> _______________________________________________
>> stringtemplate-interest mailing list
>> stringtemplate-interest at antlr.org
>> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>>     
>
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>   


From parrt at cs.usfca.edu  Tue May 12 13:43:30 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Tue, 12 May 2009 13:43:30 -0700
Subject: [stringtemplate-interest] accept simple expression language
In-Reply-To: <4A09DED7.1020300@newfoundmarket.com>
References: <4A073200.4030507@newfoundmarket.com>	<1BF73D89-E199-44A3-A3D1-876274DAD8ED@cs.usfca.edu>	<4A08E7C9.3060009@newfoundmarket.com>	<FCE69C0D-5839-4E2B-AC0C-94BAF124C41A@cs.usfca.edu>	<4A09C8BB.1070706@newfoundmarket.com>	<op.utt0iwunc4vsc3@audioslave>
	<20E47525-487D-4562-8C04-AFB93DDD7FA1@cs.usfca.edu>
	<4A09DED7.1020300@newfoundmarket.com>
Message-ID: <4E7A4D9B-9B9D-420A-9CA9-B2387A085304@cs.usfca.edu>


On May 12, 2009, at 1:40 PM, DVD wrote:

> Except that I need the transformation step being (optional) step of ST
> engine.

Why can't you make the filtering or transformation stage optional? you  
can even be made optional on a page URL parameter.  The page/ 
controller sees the parameter and decides not to do the transformation  
before sending the data into the template.

Ter

From dvd at newfoundmarket.com  Tue May 12 14:09:45 2009
From: dvd at newfoundmarket.com (DVD)
Date: Tue, 12 May 2009 17:09:45 -0400
Subject: [stringtemplate-interest] accept simple expression language
In-Reply-To: <4E7A4D9B-9B9D-420A-9CA9-B2387A085304@cs.usfca.edu>
References: <4A073200.4030507@newfoundmarket.com>	<1BF73D89-E199-44A3-A3D1-876274DAD8ED@cs.usfca.edu>	<4A08E7C9.3060009@newfoundmarket.com>	<FCE69C0D-5839-4E2B-AC0C-94BAF124C41A@cs.usfca.edu>	<4A09C8BB.1070706@newfoundmarket.com>	<op.utt0iwunc4vsc3@audioslave>
	<20E47525-487D-4562-8C04-AFB93DDD7FA1@cs.usfca.edu>
	<4A09DED7.1020300@newfoundmarket.com>
	<4E7A4D9B-9B9D-420A-9CA9-B2387A085304@cs.usfca.edu>
Message-ID: <4A09E599.8070001@newfoundmarket.com>

what about a non-web email html letter scenario. I'd have a batch Java 
program reading user uploaded
ST templates and produce html newsletter.   I am talking about a 
scenario that
this function is needed done via ST. I know it is 1% of common scenarios 
but when it is needed,
some kind of template solution has to be provided and I hope the ST 
would fill this 1% gap
somehow, perhaps a subclass or special object creation option to relax 
the rule a little.



Terence Parr wrote:
>
> On May 12, 2009, at 1:40 PM, DVD wrote:
>
>> Except that I need the transformation step being (optional) step of ST
>> engine.
>
> Why can't you make the filtering or transformation stage optional? you 
> can even be made optional on a page URL parameter.  The 
> page/controller sees the parameter and decides not to do the 
> transformation before sending the data into the template.
>
> Ter


From jbergmanster at gmail.com  Tue May 12 16:37:41 2009
From: jbergmanster at gmail.com (Jeff Bergman)
Date: Tue, 12 May 2009 16:37:41 -0700
Subject: [stringtemplate-interest] Dynamic Template Invocation
Message-ID: <9c5da2370905121637p63547c6n81cd47326301d3d1@mail.gmail.com>

I am trying to use the dynamic variable invocation of a template within
another template.  The only problem is the template name is not the dynamic
part.  Instead the path to the template is dynamic.  I tried the following
code and it doesn't appear to work.

$(ThemeRoot)/List()$

I have multiple themes that all have the same template files but with
different html.  And I am trying to invoke them as above.  I don't want to
use a full variable name like.

$(ThemedList)()$

Is there a way I can accomplish the first scenario?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090512/45089ecf/attachment.html 

From parrt at cs.usfca.edu  Tue May 12 16:46:47 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Tue, 12 May 2009 16:46:47 -0700
Subject: [stringtemplate-interest] Dynamic Template Invocation
In-Reply-To: <9c5da2370905121637p63547c6n81cd47326301d3d1@mail.gmail.com>
References: <9c5da2370905121637p63547c6n81cd47326301d3d1@mail.gmail.com>
Message-ID: <C02A1FE4-90F6-4523-8614-41C068AF9AFA@cs.usfca.edu>

Use a different StringTemplateGroup and ref same template.
Ter
On May 12, 2009, at 4:37 PM, Jeff Bergman wrote:

> I am trying to use the dynamic variable invocation of a template  
> within another template.  The only problem is the template name is  
> not the dynamic part.  Instead the path to the template is dynamic.   
> I tried the following code and it doesn't appear to work.
>
> $(ThemeRoot)/List()$
>
> I have multiple themes that all have the same template files but  
> with different html.  And I am trying to invoke them as above.  I  
> don't want to use a full variable name like.
>
> $(ThemedList)()$
>
> Is there a way I can accomplish the first scenario?  
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest


From jonathan at buhacoff.net  Tue May 12 16:51:21 2009
From: jonathan at buhacoff.net (Jonathan Buhacoff)
Date: Tue, 12 May 2009 16:51:21 -0700
Subject: [stringtemplate-interest] accept simple expression language
In-Reply-To: <4A09E599.8070001@newfoundmarket.com>
References: <4A073200.4030507@newfoundmarket.com>	<1BF73D89-E199-44A3-A3D1-876274DAD8ED@cs.usfca.edu>	<4A08E7C9.3060009@newfoundmarket.com>	<FCE69C0D-5839-4E2B-AC0C-94BAF124C41A@cs.usfca.edu>	<4A09C8BB.1070706@newfoundmarket.com>	<op.utt0iwunc4vsc3@audioslave>
	<20E47525-487D-4562-8C04-AFB93DDD7FA1@cs.usfca.edu>
	<4A09DED7.1020300@newfoundmarket.com>
	<4E7A4D9B-9B9D-420A-9CA9-B2387A085304@cs.usfca.edu>
	<4A09E599.8070001@newfoundmarket.com>
Message-ID: <44361052-8D33-4E3C-968B-F9FBF3FEE542@buhacoff.net>

I've been following this discussion - I'm just another ST user and I  
appreciate the strict separation. It's why I chose ST over the  
alternatives.

Do you already have a large user base writing ST templates? What is  
the reason you can't switch to another framework or insert a  
transformation step into your process (as someone else suggested) ?


Sent from my iPhone

On May 12, 2009, at 2:09 PM, DVD <dvd at newfoundmarket.com> wrote:

> what about a non-web email html letter scenario. I'd have a batch Java
> program reading user uploaded
> ST templates and produce html newsletter.   I am talking about a
> scenario that
> this function is needed done via ST. I know it is 1% of common  
> scenarios
> but when it is needed,
> some kind of template solution has to be provided and I hope the ST
> would fill this 1% gap
> somehow, perhaps a subclass or special object creation option to relax
> the rule a little.
>
>
>
> Terence Parr wrote:
>>
>> On May 12, 2009, at 1:40 PM, DVD wrote:
>>
>>> Except that I need the transformation step being (optional) step  
>>> of ST
>>> engine.
>>
>> Why can't you make the filtering or transformation stage optional?  
>> you
>> can even be made optional on a page URL parameter.  The
>> page/controller sees the parameter and decides not to do the
>> transformation before sending the data into the template.
>>
>> Ter
>
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest

From j.stuyts at javathinker.com  Wed May 13 00:26:43 2009
From: j.stuyts at javathinker.com (Johan Stuyts)
Date: Wed, 13 May 2009 09:26:43 +0200
Subject: [stringtemplate-interest] accept simple expression language
In-Reply-To: <4A09E599.8070001@newfoundmarket.com>
References: <4A073200.4030507@newfoundmarket.com>
	<1BF73D89-E199-44A3-A3D1-876274DAD8ED@cs.usfca.edu>
	<4A08E7C9.3060009@newfoundmarket.com>
	<FCE69C0D-5839-4E2B-AC0C-94BAF124C41A@cs.usfca.edu>
	<4A09C8BB.1070706@newfoundmarket.com> <op.utt0iwunc4vsc3@audioslave>
	<20E47525-487D-4562-8C04-AFB93DDD7FA1@cs.usfca.edu>
	<4A09DED7.1020300@newfoundmarket.com>
	<4E7A4D9B-9B9D-420A-9CA9-B2387A085304@cs.usfca.edu>
	<4A09E599.8070001@newfoundmarket.com>
Message-ID: <op.utuxmyj1c4vsc3@audioslave>

> what about a non-web email html letter scenario. I'd have a batch Java
> program reading user uploaded
> ST templates and produce html newsletter.   I am talking about a
> scenario that
> this function is needed done via ST. I know it is 1% of common scenarios
> but when it is needed,
> some kind of template solution has to be provided and I hope the ST
> would fill this 1% gap
> somehow, perhaps a subclass or special object creation option to relax
> the rule a little.

Why can't the user upload a transformation script besides the template?  
That should be easy to explain to and manageable by the user. It might  
even be easier for users because they can focus on the two tasks (data  
preparation and rendering) separately instead of in a single file.

And like I said, a transformation script will always be more powerful than  
anything you build into a template. Suppose you start with extending  
StringTemplate with simple arithmetic expressions. It probably satisfies  
99% of the users, but then someone needs other functions so you have to  
extend StringTemplate again. And so on. If you give them a powerful  
transformation language then you are done.

Regards,

Johan

From micha-1 at fantasymail.de  Wed May 13 05:35:29 2009
From: micha-1 at fantasymail.de (Michael)
Date: Wed, 13 May 2009 14:35:29 +0200
Subject: [stringtemplate-interest] accept simple expression language
In-Reply-To: <4A09DED7.1020300@newfoundmarket.com>
References: <4A073200.4030507@newfoundmarket.com>
	<20E47525-487D-4562-8C04-AFB93DDD7FA1@cs.usfca.edu>
	<4A09DED7.1020300@newfoundmarket.com>
Message-ID: <200905131435.29617.micha-1@fantasymail.de>

Am Tuesday 12 May 2009 22:40:55 schrieb DVD:
> For example, an plain email newletter that may be contributed by vairous
> people.
>   I am talking about making ST 100% solution for all template tasks.
> A carefully designed synxtax for an expression function could make it
> happen and still keep the syntax appearance clear.

you can switch to another template engine, for example the one included in 
Groovy. So you can use groovy for scripting and templating. I think you can 
plug-in stringtemplate into the groovy template engine.

 Michael

 

From dvd at newfoundmarket.com  Wed May 13 06:43:03 2009
From: dvd at newfoundmarket.com (DVD)
Date: Wed, 13 May 2009 09:43:03 -0400
Subject: [stringtemplate-interest] accept simple expression language
In-Reply-To: <op.utuxmyj1c4vsc3@audioslave>
References: <4A073200.4030507@newfoundmarket.com>	<1BF73D89-E199-44A3-A3D1-876274DAD8ED@cs.usfca.edu>	<4A08E7C9.3060009@newfoundmarket.com>	<FCE69C0D-5839-4E2B-AC0C-94BAF124C41A@cs.usfca.edu>	<4A09C8BB.1070706@newfoundmarket.com>
	<op.utt0iwunc4vsc3@audioslave>	<20E47525-487D-4562-8C04-AFB93DDD7FA1@cs.usfca.edu>	<4A09DED7.1020300@newfoundmarket.com>	<4E7A4D9B-9B9D-420A-9CA9-B2387A085304@cs.usfca.edu>	<4A09E599.8070001@newfoundmarket.com>
	<op.utuxmyj1c4vsc3@audioslave>
Message-ID: <4A0ACE67.6040702@newfoundmarket.com>

I am trying to to make ST a 100% template solution. if not, then there 
are plenty other ways.


Johan Stuyts wrote:
>> what about a non-web email html letter scenario. I'd have a batch Java
>> program reading user uploaded
>> ST templates and produce html newsletter.   I am talking about a
>> scenario that
>> this function is needed done via ST. I know it is 1% of common scenarios
>> but when it is needed,
>> some kind of template solution has to be provided and I hope the ST
>> would fill this 1% gap
>> somehow, perhaps a subclass or special object creation option to relax
>> the rule a little.
>>     
>
> Why can't the user upload a transformation script besides the template?  
> That should be easy to explain to and manageable by the user. It might  
> even be easier for users because they can focus on the two tasks (data  
> preparation and rendering) separately instead of in a single file.
>
> And like I said, a transformation script will always be more powerful than  
> anything you build into a template. Suppose you start with extending  
> StringTemplate with simple arithmetic expressions. It probably satisfies  
> 99% of the users, but then someone needs other functions so you have to  
> extend StringTemplate again. And so on. If you give them a powerful  
> transformation language then you are done.
>
> Regards,
>
> Johan
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>   


From Vladimir_Magdalin at intuit.com  Thu May 14 15:07:07 2009
From: Vladimir_Magdalin at intuit.com (Magdalin, Vlad)
Date: Thu, 14 May 2009 15:07:07 -0700
Subject: [stringtemplate-interest] Expressions in $if(...)$ statements.
Message-ID: <9AD1589768863046959D51D1EC6C41D7033A5387@SDGEXEVS06.corp.intuit.net>

Hi,

 

I'm moving over from NVelocity to ST, and so far really liking the
strict separation of concerns. However, there are two areas of
functionality that are kind of in a gray area, and I'm wondering if ST
supports them:

 

1. Boolean operators in if() statements, for example:

 

$if(someBoolValue AND someOtherBoolValue)$ ... 

            ...

$endif$

 

Is this possible? I'm finding myself putting together extra Boolean
variables and passing them to the view data, but seems like this type of
simple logic does not violate M/V/C separation purity any more than a
one-value if statement does.  I've found this post
(http://www.antlr.org/pipermail/stringtemplate-interest/2005-June/000055
.html) from Terence, but can't seem to find if anything ever came of it.

 

2. Simple arithmetic operations that resolve to a boolean:

 

$if(items.Count == 1)$

 ... 

$endif$

 

Right now, I'm finding myself doing things like this to check if a list
has one and only one item:

 

This zoo contains $zebras.Count$ $if(rest(zebras))$ zebras $else$ zebra
$endif$

 

I'm wondering if even simple logic like this doesn't belong in the view
according to the ST methodology.  Any help or insight is appreciated!

 

Thanks,

Vlad

 

 

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090514/3dd75d3b/attachment.html 

From parrt at cs.usfca.edu  Thu May 14 18:40:28 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Thu, 14 May 2009 18:40:28 -0700
Subject: [stringtemplate-interest] Expressions in $if(...)$ statements.
In-Reply-To: <9AD1589768863046959D51D1EC6C41D7033A5387@SDGEXEVS06.corp.intuit.net>
References: <9AD1589768863046959D51D1EC6C41D7033A5387@SDGEXEVS06.corp.intuit.net>
Message-ID: <B33B2470-6483-468E-A1DC-04A6B54F96C8@cs.usfca.edu>


On May 14, 2009, at 3:07 PM, Magdalin, Vlad wrote:

> Hi,
>
> I?m moving over from NVelocity to ST, and so far really liking the  
> strict separation of concerns. However, there are two areas of  
> functionality that are kind of in a gray area, and I?m wondering if  
> ST supports them:
>
> 1. Boolean operators in if() statements, for example:
>
> $if(someBoolValue AND someOtherBoolValue)$ ?
>             ?
> $endif$
>
> Is this possible?

not currently...I have to do nested IF now, which is effectively an  
AND...in new version of ST I think it will be alllowed.

> I?m finding myself putting together extra Boolean variables and  
> passing them to the view data, but seems like this type of simple  
> logic does not violate M/V/C separation purity any more than a one- 
> value if statement does.  I?ve found this post (http://www.antlr.org/pipermail/stringtemplate-interest/2005-June/000055.html 
> ) from Terence, but can?t seem to find if anything ever came of it.

not yet ;)

>
> 2. Simple arithmetic operations that resolve to a boolean:
>
> $if(items.Count == 1)$
>  ?
> $endif$
>
> Right now, I?m finding myself doing things like this to check if a  
> list has one and only one item:

You can do $if(rest(names))$ which asks if it has more than a first  
item.

>
> This zoo contains $zebras.Count$ $if(rest(zebras))$ zebras $else$  
> zebra $endif$
>
> I?m wondering if even simple logic like this doesn?t belong in the  
> view according to the ST methodology.  Any help or insight is  
> appreciated!
>

It's a slippery slope. can't really allow logic in expressions  
involving values.

Ter

From ikatraev at gmail.com  Thu May 14 18:53:26 2009
From: ikatraev at gmail.com (Igor Katrayev)
Date: Thu, 14 May 2009 17:53:26 -0800
Subject: [stringtemplate-interest] Expressions in $if(...)$ statements.
In-Reply-To: <B33B2470-6483-468E-A1DC-04A6B54F96C8@cs.usfca.edu>
References: <9AD1589768863046959D51D1EC6C41D7033A5387@SDGEXEVS06.corp.intuit.net>
	<B33B2470-6483-468E-A1DC-04A6B54F96C8@cs.usfca.edu>
Message-ID: <dea751260905141853q63df7c3m2b6ad7e5e3077731@mail.gmail.com>

On Thu, May 14, 2009 at 5:40 PM, Terence Parr <parrt at cs.usfca.edu> wrote:

>
> On May 14, 2009, at 3:07 PM, Magdalin, Vlad wrote:
>
> > Hi,
> >
> > I?m moving over from NVelocity to ST, and so far really liking the
> > strict separation of concerns. However, there are two areas of
> > functionality that are kind of in a gray area, and I?m wondering if
> > ST supports them:
> >
> > 1. Boolean operators in if() statements, for example:
> >
> > $if(someBoolValue AND someOtherBoolValue)$ ?
> >             ?
> > $endif$
> >
> > Is this possible?
>
> not currently...I have to do nested IF now, which is effectively an
> AND...in new version of ST I think it will be alllowed.
>
YAHOOOOOO!



> It's a slippery slope. can't really allow logic in expressions
> involving values.
>
In JSF expressions it works pretty well. The approach is very similar to
stringtemplate.

Sincerely,

Igor.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090514/ae9176a5/attachment.html 

From parrt at cs.usfca.edu  Thu May 14 18:55:09 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Thu, 14 May 2009 18:55:09 -0700
Subject: [stringtemplate-interest] Expressions in $if(...)$ statements.
In-Reply-To: <dea751260905141853q63df7c3m2b6ad7e5e3077731@mail.gmail.com>
References: <9AD1589768863046959D51D1EC6C41D7033A5387@SDGEXEVS06.corp.intuit.net>
	<B33B2470-6483-468E-A1DC-04A6B54F96C8@cs.usfca.edu>
	<dea751260905141853q63df7c3m2b6ad7e5e3077731@mail.gmail.com>
Message-ID: <E9AEDF34-9627-4FB4-8589-8E3B107F4E89@cs.usfca.edu>


On May 14, 2009, at 6:53 PM, Igor Katrayev wrote:
> > 1. Boolean operators in if() statements, for example:
> >
> > $if(someBoolValue AND someOtherBoolValue)$ ?
> >             ?
> > $endif$
> >
> > Is this possible?
>
> not currently...I have to do nested IF now, which is effectively an
> AND...in new version of ST I think it will be alllowed.
> YAHOOOOOO!

I'll take that as a +1 :)

>
> It's a slippery slope. can't really allow logic in expressions
> involving values.
> In JSF expressions it works pretty well. The approach is very  
> similar to stringtemplate.

I think we need a way to ask about length and shape of data structures  
but w/o free form comparing of values :)

Ter

From jevitha at gmail.com  Thu May 14 22:48:10 2009
From: jevitha at gmail.com (jevitha)
Date: Fri, 15 May 2009 11:18:10 +0530
Subject: [stringtemplate-interest] Including optional keywords as parameters
	to String Template
In-Reply-To: <cb65abb00905140629y5c101b63n92f57bbd214c1c57@mail.gmail.com>
References: <cb65abb00905140629y5c101b63n92f57bbd214c1c57@mail.gmail.com>
Message-ID: <cb65abb00905142248y6051d8b1m7ae3a388d5c9c746@mail.gmail.com>

Hi,

  I have a rule in my tree grammar (same in my parser grammar) which has
optional attribute which can occur in my input :

className : (('.module')? name1 ) slashedName ;

How can i construct a string template to include the optional attribute
(here its .module) to be sent as a parameter to the template only if it
occurs ... Since it is a keyword, and there is no separate lexer rule
written to match '.module' separately, I dono how to pass the .module
keyword as optional parameter to the template.

.module keyword should be filled in the blank space of the following rewrite
rule:

className : (('.module')? name1 ) slashedName
       -> className(....... assemblyname = {$name1.st}
methodname={$slashedName.st})
      ;

Kindly suggest.

Best Regards,
Jevitha
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090515/4bee39ef/attachment.html 

From dvd at newfoundmarket.com  Fri May 15 06:26:23 2009
From: dvd at newfoundmarket.com (DVD)
Date: Fri, 15 May 2009 09:26:23 -0400
Subject: [stringtemplate-interest] Expressions in $if(...)$ statements.
In-Reply-To: <B33B2470-6483-468E-A1DC-04A6B54F96C8@cs.usfca.edu>
References: <9AD1589768863046959D51D1EC6C41D7033A5387@SDGEXEVS06.corp.intuit.net>
	<B33B2470-6483-468E-A1DC-04A6B54F96C8@cs.usfca.edu>
Message-ID: <4A0D6D7F.1060808@newfoundmarket.com>

Pardon me if I am being repetitious for the simple expression evaluation 
option I brought up
a few days ago. This "AND" needs is one of those simple expressions that 
could be
resolved with a general purpose expression evaluation approach in stead of
ad hoc resolution. I feel this can be achieved and with recommendation 
that author
should refrain from using it unless model can not be modified to provide 
the property

Terence Parr wrote:
> On May 14, 2009, at 3:07 PM, Magdalin, Vlad wrote:
>
>   
>> Hi,
>>
>> I?m moving over from NVelocity to ST, and so far really liking the  
>> strict separation of concerns. However, there are two areas of  
>> functionality that are kind of in a gray area, and I?m wondering if  
>> ST supports them:
>>
>> 1. Boolean operators in if() statements, for example:
>>
>> $if(someBoolValue AND someOtherBoolValue)$ ?
>>             ?
>> $endif$
>>
>> Is this possible?
>>     
>
> not currently...I have to do nested IF now, which is effectively an  
> AND...in new version of ST I think it will be alllowed.
>
>   
>> I?m finding myself putting together extra Boolean variables and  
>> passing them to the view data, but seems like this type of simple  
>> logic does not violate M/V/C separation purity any more than a one- 
>> value if statement does.  I?ve found this post (http://www.antlr.org/pipermail/stringtemplate-interest/2005-June/000055.html 
>> ) from Terence, but can?t seem to find if anything ever came of it.
>>     
>
> not yet ;)
>
>   
>> 2. Simple arithmetic operations that resolve to a boolean:
>>
>> $if(items.Count == 1)$
>>  ?
>> $endif$
>>
>> Right now, I?m finding myself doing things like this to check if a  
>> list has one and only one item:
>>     
>
> You can do $if(rest(names))$ which asks if it has more than a first  
> item.
>
>   
>> This zoo contains $zebras.Count$ $if(rest(zebras))$ zebras $else$  
>> zebra $endif$
>>
>> I?m wondering if even simple logic like this doesn?t belong in the  
>> view according to the ST methodology.  Any help or insight is  
>> appreciated!
>>
>>     
>
> It's a slippery slope. can't really allow logic in expressions  
> involving values.
>
> Ter
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>   


From parrt at cs.usfca.edu  Fri May 15 10:13:58 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Fri, 15 May 2009 10:13:58 -0700
Subject: [stringtemplate-interest] Including optional keywords as
	parameters to String Template
In-Reply-To: <cb65abb00905142248y6051d8b1m7ae3a388d5c9c746@mail.gmail.com>
References: <cb65abb00905140629y5c101b63n92f57bbd214c1c57@mail.gmail.com>
	<cb65abb00905142248y6051d8b1m7ae3a388d5c9c746@mail.gmail.com>
Message-ID: <FEE29EB5-6793-4160-9110-5E8E16D92F15@cs.usfca.edu>

I'd label it with t='.module' and then pass it in as $t.
Ter
On May 14, 2009, at 10:48 PM, jevitha wrote:

>
> Hi,
>
>   I have a rule in my tree grammar (same in my parser grammar) which  
> has optional attribute which can occur in my input :
>
> className : (('.module')? name1 ) slashedName ;
>
> How can i construct a string template to include the optional  
> attribute (here its .module) to be sent as a parameter to the  
> template only if it occurs ... Since it is a keyword, and there is  
> no separate lexer rule written to match '.module' separately, I dono  
> how to pass the .module keyword as optional parameter to the template.
>
> .module keyword should be filled in the blank space of the following  
> rewrite rule:
>
> className : (('.module')? name1 ) slashedName
>        -> className(....... assemblyname = {$name1.st}  
> methodname={$slashedName.st})
>       ;
>
> Kindly suggest.
>
> Best Regards,
> Jevitha
>
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090515/28abfc7b/attachment.html 

From parrt at cs.usfca.edu  Fri May 15 10:14:17 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Fri, 15 May 2009 10:14:17 -0700
Subject: [stringtemplate-interest] Expressions in $if(...)$ statements.
In-Reply-To: <4A0D6D7F.1060808@newfoundmarket.com>
References: <9AD1589768863046959D51D1EC6C41D7033A5387@SDGEXEVS06.corp.intuit.net>
	<B33B2470-6483-468E-A1DC-04A6B54F96C8@cs.usfca.edu>
	<4A0D6D7F.1060808@newfoundmarket.com>
Message-ID: <9C88E24E-D72A-425E-98FB-E04ED0ED5F51@cs.usfca.edu>

Hi. Well, you've now just reinvented every other template engine.  If  
you don't want to enforce separation, you're free to use another  
engine.  Not sure why, after reading my papers, you've missed this  
point.  Every other engine says "we enforce separation" (well, except  
JSP) and then first example inthe manual violates it.  ST is unique  
because I think anything worth doing is worth enforcing if possible.   
Velocity just reinvented JSP but made us learn a new language; same  
with the others...

Ter

On May 15, 2009, at 6:26 AM, DVD wrote:

> Pardon me if I am being repetitious for the simple expression  
> evaluation option I brought up
> a few days ago. This "AND" needs is one of those simple expressions  
> that could be
> resolved with a general purpose expression evaluation approach in  
> stead of
> ad hoc resolution. I feel this can be achieved and with  
> recommendation that author
> should refrain from using it unless model can not be modified to  
> provide the property
>
> Terence Parr wrote:
>> On May 14, 2009, at 3:07 PM, Magdalin, Vlad wrote:
>>
>>
>>> Hi,
>>>
>>> I?m moving over from NVelocity to ST, and so far really liking  
>>> the  strict separation of concerns. However, there are two areas  
>>> of  functionality that are kind of in a gray area, and I?m  
>>> wondering if  ST supports them:
>>>
>>> 1. Boolean operators in if() statements, for example:
>>>
>>> $if(someBoolValue AND someOtherBoolValue)$ ?
>>>            ?
>>> $endif$
>>>
>>> Is this possible?
>>>
>>
>> not currently...I have to do nested IF now, which is effectively  
>> an  AND...in new version of ST I think it will be alllowed.
>>
>>
>>> I?m finding myself putting together extra Boolean variables and   
>>> passing them to the view data, but seems like this type of simple   
>>> logic does not violate M/V/C separation purity any more than a  
>>> one- value if statement does.  I?ve found this post (http://www.antlr.org/pipermail/stringtemplate-interest/2005-June/000055.html 
>>>  ) from Terence, but can?t seem to find if anything ever came of it.
>>>
>>
>> not yet ;)
>>
>>
>>> 2. Simple arithmetic operations that resolve to a boolean:
>>>
>>> $if(items.Count == 1)$
>>> ?
>>> $endif$
>>>
>>> Right now, I?m finding myself doing things like this to check if  
>>> a  list has one and only one item:
>>>
>>
>> You can do $if(rest(names))$ which asks if it has more than a  
>> first  item.
>>
>>
>>> This zoo contains $zebras.Count$ $if(rest(zebras))$ zebras $else$   
>>> zebra $endif$
>>>
>>> I?m wondering if even simple logic like this doesn?t belong in  
>>> the  view according to the ST methodology.  Any help or insight  
>>> is  appreciated!
>>>
>>>
>>
>> It's a slippery slope. can't really allow logic in expressions   
>> involving values.
>>
>> Ter
>> _______________________________________________
>> stringtemplate-interest mailing list
>> stringtemplate-interest at antlr.org
>> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>>
>


From Vladimir_Magdalin at intuit.com  Fri May 15 16:39:41 2009
From: Vladimir_Magdalin at intuit.com (Magdalin, Vlad)
Date: Fri, 15 May 2009 16:39:41 -0700
Subject: [stringtemplate-interest] Expressions in $if(...)$ statements.
In-Reply-To: <9C88E24E-D72A-425E-98FB-E04ED0ED5F51@cs.usfca.edu>
References: <9AD1589768863046959D51D1EC6C41D7033A5387@SDGEXEVS06.corp.intuit.net>
	<B33B2470-6483-468E-A1DC-04A6B54F96C8@cs.usfca.edu>
	<4A0D6D7F.1060808@newfoundmarket.com>
	<9C88E24E-D72A-425E-98FB-E04ED0ED5F51@cs.usfca.edu>
Message-ID: <9AD1589768863046959D51D1EC6C41D7033A5AA8@SDGEXEVS06.corp.intuit.net>

Thanks for the quick answers!

I'm glad to hear that some sort of simple Boolean operators might make
it into a subsequent release.

About the other point (arithmetic comparisons, etc), you are totally
right about the slippery slope, and it seems better to keep ST away from
going down that path. 

Perhaps the only thing that would be useful when it comes to lists, is a
quick way to check the list contains only a single item, since I'm
finding this to be a common scenario in my views (e.g. plurality
wording, deciding to render as a single item or list). In my view, it
would fall into the same category as rest(), first(), last(), length(),
etc ... maybe something like single(). Just an idea ... for now, using
rest() works just fine for me, though I wonder about the overhead. 

That brings up a side question: does rest() construct a new enumerable
object in the background via shallow copy and iterate over that, or does
it use the existing collection and iterates over it by skipping the
first item? Just curious.

Cheers,
Vlad



-----Original Message-----
From: Terence Parr [mailto:parrt at cs.usfca.edu] 
Sent: Friday, May 15, 2009 10:14 AM
To: DVD
Cc: Magdalin, Vlad; stringtemplate-interest at antlr.org
Subject: Re: [stringtemplate-interest] Expressions in $if(...)$
statements.

Hi. Well, you've now just reinvented every other template engine.  If  
you don't want to enforce separation, you're free to use another  
engine.  Not sure why, after reading my papers, you've missed this  
point.  Every other engine says "we enforce separation" (well, except  
JSP) and then first example inthe manual violates it.  ST is unique  
because I think anything worth doing is worth enforcing if possible.   
Velocity just reinvented JSP but made us learn a new language; same  
with the others...

Ter

On May 15, 2009, at 6:26 AM, DVD wrote:

> Pardon me if I am being repetitious for the simple expression  
> evaluation option I brought up
> a few days ago. This "AND" needs is one of those simple expressions  
> that could be
> resolved with a general purpose expression evaluation approach in  
> stead of
> ad hoc resolution. I feel this can be achieved and with  
> recommendation that author
> should refrain from using it unless model can not be modified to  
> provide the property
>
> Terence Parr wrote:
>> On May 14, 2009, at 3:07 PM, Magdalin, Vlad wrote:
>>
>>
>>> Hi,
>>>
>>> I'm moving over from NVelocity to ST, and so far really liking  
>>> the  strict separation of concerns. However, there are two areas  
>>> of  functionality that are kind of in a gray area, and I'm  
>>> wondering if  ST supports them:
>>>
>>> 1. Boolean operators in if() statements, for example:
>>>
>>> $if(someBoolValue AND someOtherBoolValue)$ ...
>>>            ...
>>> $endif$
>>>
>>> Is this possible?
>>>
>>
>> not currently...I have to do nested IF now, which is effectively  
>> an  AND...in new version of ST I think it will be alllowed.
>>
>>
>>> I'm finding myself putting together extra Boolean variables and   
>>> passing them to the view data, but seems like this type of simple   
>>> logic does not violate M/V/C separation purity any more than a  
>>> one- value if statement does.  I've found this post
(http://www.antlr.org/pipermail/stringtemplate-interest/2005-June/000055
.html 
>>>  ) from Terence, but can't seem to find if anything ever came of it.
>>>
>>
>> not yet ;)
>>
>>
>>> 2. Simple arithmetic operations that resolve to a boolean:
>>>
>>> $if(items.Count == 1)$
>>> ...
>>> $endif$
>>>
>>> Right now, I'm finding myself doing things like this to check if  
>>> a  list has one and only one item:
>>>
>>
>> You can do $if(rest(names))$ which asks if it has more than a  
>> first  item.
>>
>>
>>> This zoo contains $zebras.Count$ $if(rest(zebras))$ zebras $else$   
>>> zebra $endif$
>>>
>>> I'm wondering if even simple logic like this doesn't belong in  
>>> the  view according to the ST methodology.  Any help or insight  
>>> is  appreciated!
>>>
>>>
>>
>> It's a slippery slope. can't really allow logic in expressions   
>> involving values.
>>
>> Ter
>> _______________________________________________
>> stringtemplate-interest mailing list
>> stringtemplate-interest at antlr.org
>> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>>
>


No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.5.329 / Virus Database: 270.12.31/2116 - Release Date:
05/15/09 06:16:00

From jevitha at gmail.com  Fri May 15 18:37:05 2009
From: jevitha at gmail.com (jevitha)
Date: Sat, 16 May 2009 07:07:05 +0530
Subject: [stringtemplate-interest] Including optional keywords as
	parameters to String Template
In-Reply-To: <FEE29EB5-6793-4160-9110-5E8E16D92F15@cs.usfca.edu>
References: <cb65abb00905140629y5c101b63n92f57bbd214c1c57@mail.gmail.com>
	<cb65abb00905142248y6051d8b1m7ae3a388d5c9c746@mail.gmail.com>
	<FEE29EB5-6793-4160-9110-5E8E16D92F15@cs.usfca.edu>
Message-ID: <cb65abb00905151837g7833c312t9df1dafc9a1eba74@mail.gmail.com>

Hi ,

ya .. but that should be sent only if it exists in my input ... so is there
an equivalent of ? in string template rewrite rules?
So that in the example

className : (('.module')? name1 ) slashedName ;

.module will be sent only if it occurs ?

in parser and tree grammar ? is supported, is it the same with string
template rewrite rule ...


On Fri, May 15, 2009 at 10:43 PM, Terence Parr <parrt at cs.usfca.edu> wrote:

> I'd label it with t='.module' and then pass it in as $t.Ter
> On May 14, 2009, at 10:48 PM, jevitha wrote:
>
>
> Hi,
>
>   I have a rule in my tree grammar (same in my parser grammar) which has
> optional attribute which can occur in my input :
>
> className : (('.module')? name1 ) slashedName ;
>
> How can i construct a string template to include the optional attribute
> (here its .module) to be sent as a parameter to the template only if it
> occurs ... Since it is a keyword, and there is no separate lexer rule
> written to match '.module' separately, I dono how to pass the .module
> keyword as optional parameter to the template.
>
> .module keyword should be filled in the blank space of the following
> rewrite rule:
>
> className : (('.module')? name1 ) slashedName
>        -> className(....... assemblyname = {$name1.st}
> methodname={$slashedName.st})
>       ;
>
> Kindly suggest.
>
> Best Regards,
> Jevitha
>
>  _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>
>
>


-- 
Best Regards,
Jevitha

"Faith is to believe what you do not see; the reward of this faith is to see
what you believed in."
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090516/8a9db0f8/attachment.html 

From parrt at cs.usfca.edu  Sun May 17 17:40:57 2009
From: parrt at cs.usfca.edu (parrt at cs.usfca.edu)
Date: Sun, 17 May 2009 18:40:57 -0600
Subject: [stringtemplate-interest] Including optional keywords as
	parameters to String Template
In-Reply-To: <cb65abb00905151837g7833c312t9df1dafc9a1eba74@mail.gmail.com>
References: <cb65abb00905140629y5c101b63n92f57bbd214c1c57@mail.gmail.com>
	<cb65abb00905142248y6051d8b1m7ae3a388d5c9c746@mail.gmail.com>
	<FEE29EB5-6793-4160-9110-5E8E16D92F15@cs.usfca.edu>
	<cb65abb00905151837g7833c312t9df1dafc9a1eba74@mail.gmail.com>
Message-ID: <FED9A146-F229-4E07-A1FD-65E1F98AFB99@cs.usfca.edu>

Label is only set if it's matched on input stream

Sent from my iPhone

On May 15, 2009, at 7:37 PM, jevitha <jevitha at gmail.com> wrote:

> Hi ,
>
> ya .. but that should be sent only if it exists in my input ... so  
> is there an equivalent of ? in string template rewrite rules?
> So that in the example
>
> className : (('.module')? name1 ) slashedName ;
>
> .module will be sent only if it occurs ?
>
> in parser and tree grammar ? is supported, is it the same with  
> string template rewrite rule ...
>
>
> On Fri, May 15, 2009 at 10:43 PM, Terence Parr <parrt at cs.usfca.edu>  
> wrote:
> I'd label it with t='.module' and then pass it in as $t.
> Ter
> On May 14, 2009, at 10:48 PM, jevitha wrote:
>
>>
>> Hi,
>>
>>   I have a rule in my tree grammar (same in my parser grammar)  
>> which has optional attribute which can occur in my input :
>>
>> className : (('.module')? name1 ) slashedName ;
>>
>> How can i construct a string template to include the optional  
>> attribute (here its .module) to be sent as a parameter to the  
>> template only if it occurs ... Since it is a keyword, and there is  
>> no separate lexer rule written to match '.module' separately, I  
>> dono how to pass the .module keyword as optional parameter to the  
>> template.
>>
>> .module keyword should be filled in the blank space of the  
>> following rewrite rule:
>>
>> className : (('.module')? name1 ) slashedName
>>        -> className(....... assemblyname = {$name1.st}  
>> methodname={$slashedName.st})
>>       ;
>>
>> Kindly suggest.
>>
>> Best Regards,
>> Jevitha
>>
>> _______________________________________________
>> stringtemplate-interest mailing list
>> stringtemplate-interest at antlr.org
>> http://www.antlr.org/mailman/listinfo/stringtemplate-interest
>
>
>
>
> -- 
> Best Regards,
> Jevitha
>
> "Faith is to believe what you do not see; the reward of this faith  
> is to see what you believed in."
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090517/eb187b6c/attachment.html 

From parrt at cs.usfca.edu  Mon May 18 10:17:01 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Mon, 18 May 2009 10:17:01 -0700
Subject: [stringtemplate-interest] Expressions in $if(...)$ statements.
In-Reply-To: <9AD1589768863046959D51D1EC6C41D7033A5AA8@SDGEXEVS06.corp.intuit.net>
References: <9AD1589768863046959D51D1EC6C41D7033A5387@SDGEXEVS06.corp.intuit.net>
	<B33B2470-6483-468E-A1DC-04A6B54F96C8@cs.usfca.edu>
	<4A0D6D7F.1060808@newfoundmarket.com>
	<9C88E24E-D72A-425E-98FB-E04ED0ED5F51@cs.usfca.edu>
	<9AD1589768863046959D51D1EC6C41D7033A5AA8@SDGEXEVS06.corp.intuit.net>
Message-ID: <391385D2-13BE-4011-9B5A-A84E87992A7B@cs.usfca.edu>


On May 15, 2009, at 4:39 PM, Magdalin, Vlad wrote:

> Thanks for the quick answers!
>
> I'm glad to hear that some sort of simple Boolean operators might make
> it into a subsequent release.
>
> About the other point (arithmetic comparisons, etc), you are totally
> right about the slippery slope, and it seems better to keep ST away  
> from
> going down that path.
>
> Perhaps the only thing that would be useful when it comes to lists,  
> is a
> quick way to check the list contains only a single item, since I'm
> finding this to be a common scenario in my views (e.g. plurality
> wording, deciding to render as a single item or list). In my view, it
> would fall into the same category as rest(), first(), last(),  
> length(),
> etc ... maybe something like single(). Just an idea ... for now, using
> rest() works just fine for me, though I wonder about the overhead.

Yep, we need "shape" operators.

>
>
> That brings up a side question: does rest() construct a new enumerable
> object in the background via shallow copy and iterate over that, or  
> does
> it use the existing collection and iterates over it by skipping the
> first item? Just curious.

I believe it's a new iterator.
Ter

From initcontact at grahamwideman.com  Mon May 18 16:37:33 2009
From: initcontact at grahamwideman.com (Graham Wideman)
Date: Mon, 18 May 2009 16:37:33 -0700
Subject: [stringtemplate-interest] Process on "printable docs" vs topic-wise
	docs?
Message-ID: <4.1.20090518163704.02b76ab8@grahamwideman.com>

Hi Folks,

I'd like to contribute some notes, disambiguations etc to the StringTemplate docs, but before doing so I'd like to ask this:

What's the relationship between the "All in one page" Printable Documentation versus the individual topic pages under "StringTemplate Documentation", as listed for example here: 

http://www.antlr.org/wiki/display/ST/StringTemplate+Wiki+Home
?

Is there a process (formal or informal) by which the all-in-one page is produced from the individual pages, or vice versa?

Thanks,

Graham

From Vladimir_Magdalin at intuit.com  Tue May 19 10:27:36 2009
From: Vladimir_Magdalin at intuit.com (Magdalin, Vlad)
Date: Tue, 19 May 2009 10:27:36 -0700
Subject: [stringtemplate-interest] Truncate string?
Message-ID: <9AD1589768863046959D51D1EC6C41D70341A03A@SDGEXEVS06.corp.intuit.net>

Hi all,

 

Does StringTemplate have a way to truncate strings to a certain amount
of characters? For example, in NVelocity, I can do something like this:

 

$formatter.LimitLen(100, $longText, "...")

 

If 'longText' is longer than 100, only the first 100 will be rendered,
and the ellipsis is added at the end.

 

Anything similar available in StringTemplate?

 

Thanks,

Vlad

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090519/13eb12c6/attachment.html 

From parrt at cs.usfca.edu  Tue May 19 10:57:24 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Tue, 19 May 2009 10:57:24 -0700
Subject: [stringtemplate-interest] Truncate string?
In-Reply-To: <9AD1589768863046959D51D1EC6C41D70341A03A@SDGEXEVS06.corp.intuit.net>
References: <9AD1589768863046959D51D1EC6C41D70341A03A@SDGEXEVS06.corp.intuit.net>
Message-ID: <81365AD2-5D2A-4277-88FA-901958161A4F@cs.usfca.edu>

  There is nothing built-in (on purpose), however, you can use a  
formatter for this kind of thing. I believe my paper on  
internationalization or maybe the documentation describes how to do  
this.
Ter
On May 19, 2009, at 10:27 AM, Magdalin, Vlad wrote:

> Hi all,
>
> Does StringTemplate have a way to truncate strings to a certain  
> amount of characters? For example, in NVelocity, I can do something  
> like this:
>
> $formatter.LimitLen(100, $longText, "...")
>
> If ?longText? is longer than 100, only the first 100 will be  
> rendered, and the ellipsis is added at the end.
>
> Anything similar available in StringTemplate?
>
> Thanks,
> Vlad
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest


From parrt at cs.usfca.edu  Tue May 19 10:59:57 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Tue, 19 May 2009 10:59:57 -0700
Subject: [stringtemplate-interest] Process on "printable docs" vs
	topic-wise docs?
In-Reply-To: <4.1.20090518163704.02b76ab8@grahamwideman.com>
References: <4.1.20090518163704.02b76ab8@grahamwideman.com>
Message-ID: <81A63B33-F12D-496F-BCEC-19D0EEDD82C0@cs.usfca.edu>

Hi Graham,

I believe that the former C# ST  guy put that together because he  
likes to print it all out.  I'm okay reading documentation on the web  
so I have not been updating that. I don't think we used something  
within the wiki to packet altogether, but there might be something  
like that.

Ah. the source for page:

http://www.antlr.org/wiki/display/ST/StringTemplate+3.0+Printable+Documentation

  shows stuff like

{include:Introduction} {include:Defining Templates} {include:Group  
Files} {include:Group interfaces} {include:Expressions}

  with a handbuilt table of contents:

h2. Contents

* [#Introduction]
** [#Motivation And Philosophy]
** [#StringTemplate language flavor]

So, in principle, changes to the individual documentation pages will  
show up in the printable doc. The only thing is that new pages  
probably need to be manually added to the table of contents.

Ter
On May 18, 2009, at 4:37 PM, Graham Wideman wrote:

> Hi Folks,
>
> I'd like to contribute some notes, disambiguations etc to the  
> StringTemplate docs, but before doing so I'd like to ask this:
>
> What's the relationship between the "All in one page" Printable  
> Documentation versus the individual topic pages under  
> "StringTemplate Documentation", as listed for example here:
>
> http://www.antlr.org/wiki/display/ST/StringTemplate+Wiki+Home
> ?
>
> Is there a process (formal or informal) by which the all-in-one page  
> is produced from the individual pages, or vice versa?
>
> Thanks,
>
> Graham
> _______________________________________________
> stringtemplate-interest mailing list
> stringtemplate-interest at antlr.org
> http://www.antlr.org/mailman/listinfo/stringtemplate-interest


From zen at freedbms.net  Tue May 19 22:56:32 2009
From: zen at freedbms.net (Zenaan Harkness)
Date: Wed, 20 May 2009 15:56:32 +1000
Subject: [stringtemplate-interest] Truncate string?
In-Reply-To: <81365AD2-5D2A-4277-88FA-901958161A4F@cs.usfca.edu>
References: <9AD1589768863046959D51D1EC6C41D70341A03A@SDGEXEVS06.corp.intuit.net>
	<81365AD2-5D2A-4277-88FA-901958161A4F@cs.usfca.edu>
Message-ID: <20090520055632.GC7156@freedbms.net>

I have such a thing for Java people. If you need it, just email me.

Regards
Zen


On Tue, May 19, 2009 at 10:57:24AM -0700, Terence Parr wrote:
>   There is nothing built-in (on purpose), however, you can use a  
> formatter for this kind of thing. I believe my paper on  
> internationalization or maybe the documentation describes how to do  
> this.
> Ter
> On May 19, 2009, at 10:27 AM, Magdalin, Vlad wrote:
> 
> > Hi all,
> >
> > Does StringTemplate have a way to truncate strings to a certain  
> > amount of characters? For example, in NVelocity, I can do something  
> > like this:
> >
> > $formatter.LimitLen(100, $longText, "...")
> >
> > If ?longText? is longer than 100, only the first 100 will be  
> > rendered, and the ellipsis is added at the end.
> >
> > Anything similar available in StringTemplate?
> >
> > Thanks,
> > Vlad

-- 
Homepage: www.SoulSound.net -- Free Australia: www.UPMART.org
Please respect the confidentiality of this email as sensibly warranted.

From zen at freedbms.net  Wed May 20 07:02:18 2009
From: zen at freedbms.net (Zenaan Harkness)
Date: Thu, 21 May 2009 00:02:18 +1000
Subject: [stringtemplate-interest] Truncate string?
In-Reply-To: <4.1.20090520041107.050eccd0@grahamwideman.com>
References: <4.1.20090519232959.020e83a8@grahamwideman.com>
	<81365AD2-5D2A-4277-88FA-901958161A4F@cs.usfca.edu>
	<9AD1589768863046959D51D1EC6C41D70341A03A@SDGEXEVS06.corp.intuit.net>
	<81365AD2-5D2A-4277-88FA-901958161A4F@cs.usfca.edu>
	<4.1.20090519232959.020e83a8@grahamwideman.com>
	<4.1.20090520041107.050eccd0@grahamwideman.com>
Message-ID: <20090520140218.GB7901@freedbms.net>

I have a rather complex and featureful formatter class, which does
various custom things I need, some of which are generally useful.

As I don't have the time just now to tidy it all up for public
consumption, here's the simple method I use to do string truncation:

public class MyRenderer implements AttributeRenderer {

public String toString (Object o, String format) {
   // truncate to max length
   final int max = Integer.decode(format).intValue();
   return ostring.substring(0, Math.min(max,ostring.length()));
}

}


In your st group do

group.registerRenderer(String.class, new MyRenderer());

hth
zen

-- 
Homepage: www.SoulSound.net -- Free Australia: www.UPMART.org
Please respect the confidentiality of this email as sensibly warranted.

From gwlist at grahamwideman.com  Wed May 20 10:19:12 2009
From: gwlist at grahamwideman.com (Graham Wideman)
Date: Wed, 20 May 2009 10:19:12 -0700
Subject: [stringtemplate-interest] Truncate string?
In-Reply-To: <9AD1589768863046959D51D1EC6C41D70341A03A@SDGEXEVS06.corp.i
	ntuit.net>
Message-ID: <4.1.20090520101359.02282a68@grahamwideman.com>

... and in addition to what Terence and Zen said, I see that there's a fully-working example in John Snyders very handy STST project -- very easy to download, try, and inspect the code for his sample BasicFormatRenderer class.

http://hardlikesoftware.com/weblog/stst/

-- Graham

From Vladimir_Magdalin at intuit.com  Wed May 20 11:01:33 2009
From: Vladimir_Magdalin at intuit.com (Magdalin, Vlad)
Date: Wed, 20 May 2009 11:01:33 -0700
Subject: [stringtemplate-interest] Question about C# port of StringTemplate
Message-ID: <9AD1589768863046959D51D1EC6C41D70341A6E4@SDGEXEVS06.corp.intuit.net>

Hi Sam,

 

I downloaded your binary assemblies that you linked to from this post:
http://www.antlr.org/pipermail/stringtemplate-interest/2009-May/001915.h
tml and had a few questions:

 

1. What is the license of your library? Is it the same as the main ST C#
3.1 library?

 

2. Is there any way to keep up with the changes via Subversion or by
downloading source somewhere?

 

3. Is the behavior around updating templates after an edit the same as
the 3.1beta1 version? I noticed that after I switched to your library, I
seem to have lost the ability to change templates on the fly without
restarting the web application outright. Previously, it looked like a
FileSystemWatcher was used in FileSystemTemplateLoader to watch for file
system changes, and I'm wondering if the same process exists in your
port?

 

Thanks,

Vlad Magdalin

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090520/dc18af6f/attachment.html 

From parrt at cs.usfca.edu  Wed May 20 11:45:51 2009
From: parrt at cs.usfca.edu (Terence Parr)
Date: Wed, 20 May 2009 11:45:51 -0700
Subject: [stringtemplate-interest] any of you coming to the workshop june 6,
	7?
Message-ID: <20D4775C-ADDE-433A-87CE-A4A50C8C7487@cs.usfca.edu>

Hi,

just checking to see if anybody is coming to the ANTLR/ST workshop in  
a couple of weeks. Graham is coming and we will discuss reorganizing  
the documentation. It's going to be fun! we have about 10 slots left I  
think.

http://www.antlr.org/wiki/display/ANTLR3/ANTLR+Conference+2009

All attendees day copy of the book (beta).

Terence

From sharwell at pixelminegames.com  Wed May 20 13:53:52 2009
From: sharwell at pixelminegames.com (Sam Harwell)
Date: Wed, 20 May 2009 15:53:52 -0500
Subject: [stringtemplate-interest] Question about C# port of
	StringTemplate
In-Reply-To: <9AD1589768863046959D51D1EC6C41D70341A6E4@SDGEXEVS06.corp.intuit.net>
References: <9AD1589768863046959D51D1EC6C41D70341A6E4@SDGEXEVS06.corp.intuit.net>
Message-ID: <86403CA0939415448BCCB83855EFE09AA6813B@Bloodymary.ironwillgames.com>

My C# ports are under a BSD license like ANTLR. You can access the code
through fisheye:

http://fisheye2.atlassian.com/browse/antlrcs/

 

I don't have a FileSystemWatcher in ST because mine is a direct port of
the Java version, and as far as I know the Java version doesn't perform
this check. In regards to your other email, my copy of Antlr3.Runtime is
not compatible with previous .NET ANTLR binaries. I re-ported it in its
entirety from the Java code so I could use it under the 3-clause BSD
license.

 

Thank you,

Sam Harwell

 

From: Magdalin, Vlad [mailto:Vladimir_Magdalin at intuit.com] 
Sent: Wednesday, May 20, 2009 1:02 PM
To: Sam Harwell
Cc: stringtemplate-interest at antlr.org
Subject: Question about C# port of StringTemplate

 

Hi Sam,

 

I downloaded your binary assemblies that you linked to from this post:
http://www.antlr.org/pipermail/stringtemplate-interest/2009-May/001915.h
tml and had a few questions:

 

1. What is the license of your library? Is it the same as the main ST C#
3.1 library?

 

2. Is there any way to keep up with the changes via Subversion or by
downloading source somewhere?

 

3. Is the behavior around updating templates after an edit the same as
the 3.1beta1 version? I noticed that after I switched to your library, I
seem to have lost the ability to change templates on the fly without
restarting the web application outright. Previously, it looked like a
FileSystemWatcher was used in FileSystemTemplateLoader to watch for file
system changes, and I'm wondering if the same process exists in your
port?

 

Thanks,

Vlad Magdalin

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090520/46927c79/attachment.html 

From Vladimir_Magdalin at intuit.com  Wed May 20 15:45:50 2009
From: Vladimir_Magdalin at intuit.com (Magdalin, Vlad)
Date: Wed, 20 May 2009 15:45:50 -0700
Subject: [stringtemplate-interest] "elseif" in C# 3.1beta1 version?
Message-ID: <9AD1589768863046959D51D1EC6C41D70341A990@SDGEXEVS06.corp.intuit.net>

Does anyone know if "elseif" made it into the C# 3.1 beta1 version? I'm
getting some "Can't load template 'elseif.st';" when trying to use it.

 

Thanks,

Vlad

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090520/28425dd8/attachment.html 

From gwlist at grahamwideman.com  Thu May 21 03:24:53 2009
From: gwlist at grahamwideman.com (Graham Wideman)
Date: Thu, 21 May 2009 03:24:53 -0700
Subject: [stringtemplate-interest] Expression delimiters: Please help revise
Message-ID: <4.1.20090521031712.02aed1c8@grahamwideman.com>

Hi folks:

I'm working on revising out some ambiguities/red-herrings in the ST docs as I stub my toes on them.

So, I'm going over doc regarding the probably simple "Setting the expression delimiters".

If you're savvy on this topic, I'd appreciate you confirming or disputing my revision draft here:

http://www.antlr.org/wiki/display/~gwideman/Setting+the+expression+delimiters+--+Revision

Some areas highlighted in red for special attention.  Please leave a comment for me and others.

Thanks,

Graham

From gwlist at grahamwideman.com  Tue May 26 18:14:57 2009
From: gwlist at grahamwideman.com (Graham Wideman)
Date: Tue, 26 May 2009 18:14:57 -0700
Subject: [stringtemplate-interest] stg file templates: Argument resolution
	bug?
Message-ID: <4.1.20090526173125.015a9288@grahamwideman.com>

Hi folks:

I'm trying to puzzle out the conceptual logic behind argument passing and argument requirements-checking when using a string template group file, and calling one template from another.

The following cases seem to illustrate that stg's requirement for attributes to be declared as arguments is broken:

-----------------------------------
group test;

outer(arg1) ::= <<
arg1:  [ $arg1$ ]
inner: [ $inner("xxx")$ ]
>>

inner(argX) ::= <<
argX: [ $argX$ ]
argY: [ $argY$ ]
>>
-----------------------------------

Case 1: If my program invokes inner() directly, supplying an attribute for argX, then this runs, treating argY as though it's a null string, and does NOT report an error that there's an expression that references an argument that's not declared.

Case 2: If my program invokes outer(), supplying an attribute for arg1, this results in message:
"Error: no such attribute: argY in template context [outer inner]"

So, I think Case 2 shows the intended behavior, and Case 1 is a bug, as it violates this from the docs:

"When using a group file format to specify templates, you must specify the formal arguments for that template. If you try to access an attribute that is not formally defined in that template or an enclosing template, you will get a InvalidOperationException."

Comments?

-- Graham

From gwlist at grahamwideman.com  Tue May 26 18:31:38 2009
From: gwlist at grahamwideman.com (Graham Wideman)
Date: Tue, 26 May 2009 18:31:38 -0700
Subject: [stringtemplate-interest] List admin: Subject truncation
Message-ID: <4.1.20090526182328.04b56b28@grahamwideman.com>

Hi List admin:

Is there a reason that this list is truncating subject lines at 63 characters? After the standard and too-lengthy prefix of "[stringtemplate-interest] ", that leaves only 37 characters for actual subject of the email.  

Permitting a longer meaningful subject line, and perhaps shortening the prefix, would make the subject lines more informative and usable.

Thanks,

Graham

From oliver.zeigermann at gmail.com  Sat May 30 23:12:56 2009
From: oliver.zeigermann at gmail.com (Oliver Zeigermann)
Date: Sat, 30 May 2009 23:12:56 -0700
Subject: [stringtemplate-interest] ANTLR Conference next week: Still some
	open slots!
Message-ID: <9da4f4520905302312j10d0f932p2a4c713132a429a3@mail.gmail.com>

Folks!

Next weekend we will have an ANTLR and Stringtemplate conference at
the University of San Francisco:

http://www.antlr.org/wiki/display/ANTLR3/ANTLR+Conference+2009

There still are a couple of open slots. Join us!

See you there!

- Oliver

From gwlist at grahamwideman.com  Sun May 31 19:54:39 2009
From: gwlist at grahamwideman.com (Graham Wideman)
Date: Sun, 31 May 2009 19:54:39 -0700
Subject: [stringtemplate-interest] Bug? group-file argument resolution
Message-ID: <4.1.20090531194155.015ac428@grahamwideman.com>

An HTML attachment was scrubbed...
URL: http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20090531/dae6fcaa/attachment.html 

