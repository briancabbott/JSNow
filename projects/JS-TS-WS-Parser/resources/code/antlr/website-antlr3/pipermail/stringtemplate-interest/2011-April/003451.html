<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] Help turning this into a template?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Help%20turning%20this%20into%20a%20template%3F&In-Reply-To=%3CBANLkTimZN-RExs2Koct3eq6%2BCqqYdmf%3D4Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003448.html">
   <LINK REL="Next"  HREF="003454.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] Help turning this into a template?</H1>
    <B>Barrie Treloar</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Help%20turning%20this%20into%20a%20template%3F&In-Reply-To=%3CBANLkTimZN-RExs2Koct3eq6%2BCqqYdmf%3D4Q%40mail.gmail.com%3E"
       TITLE="[stringtemplate-interest] Help turning this into a template?">baerrach at gmail.com
       </A><BR>
    <I>Wed Apr 20 21:14:45 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003448.html">[stringtemplate-interest] Feature request
</A></li>
        <LI>Next message: <A HREF="003454.html">[stringtemplate-interest] Access to ST 4.0.2 binaries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3451">[ date ]</a>
              <a href="thread.html#3451">[ thread ]</a>
              <a href="subject.html#3451">[ subject ]</a>
              <a href="author.html#3451">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have three ways of doing essentially the same thing.
It feels like I should be able to templatize this in a sane way.

1 &amp; 2 vary
* the end pattern ($ -&gt; \&amp;)
* in the variable to use (ZN -&gt; Z1)

1 &amp; 3 vary
* the start pattern (*\&amp; inserted as prefix)
* all the operand numbers are incremented by one (e.g. [2] -&gt; [3])
* in the variable to use (ZN -&gt; Z2)

It gets harder because the knowledge of the operands shouldn't be part
of the template.
They are part of the pattern rule.

File 1) only includes Template 1).
File 2) only includes Templates 2) &amp; 3)

At the moment these are all &quot;cut-n-paste&quot; (with an if statement to
include template 3) which is a cause of errors, as any change to 1)
requires similar changes to 2) and 3).
I can currently templatize this so that I can go from 1) to 2) but I
can't get 3) because the separation of the model and view.
i.e. I can't add 1 to the operand positions.

Does anyone have advice?

1)
** | D[{}=&quot;NORTH&quot;] | D[{}=&quot;WEST&quot;] | T[{}=&quot;BEND&quot;] | $; special case
NORTH WEST BEND
COPY_A [2] temp
RETYPE [2] 0
CONCAT &quot; &quot; temp
CONCAT_A [3] temp
RETYPE [3] 0
CONCAT &quot; &quot; temp
CONCAT_A [4] temp
RETYPE [4] 0
COPY temp {ZN}

2)
** | D[{}=&quot;NORTH&quot;] | D[{}=&quot;WEST&quot;] | T[{}=&quot;BEND&quot;] | \&amp;; special case
NORTH WEST BEND
COPY_A [2] temp
RETYPE [2] 0
CONCAT &quot; &quot; temp
CONCAT_A [3] temp
RETYPE [3] 0
CONCAT &quot; &quot; temp
CONCAT_A [4] temp
RETYPE [4] 0
COPY temp {Z1}

3)
*\&amp; | ** | D[{}=&quot;NORTH&quot;] | D[{}=&quot;WEST&quot;] | T[{}=&quot;BEND&quot;] | $; special
case NORTH WEST BEND
COPY_A [3] temp
RETYPE [3] 0
CONCAT &quot; &quot; temp
CONCAT_A [4] temp
RETYPE [4] 0
CONCAT &quot; &quot; temp
CONCAT [5] temp
RETYPE [5] 0
COPY temp {Z2}
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003448.html">[stringtemplate-interest] Feature request
</A></li>
	<LI>Next message: <A HREF="003454.html">[stringtemplate-interest] Access to ST 4.0.2 binaries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3451">[ date ]</a>
              <a href="thread.html#3451">[ thread ]</a>
              <a href="subject.html#3451">[ subject ]</a>
              <a href="author.html#3451">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
