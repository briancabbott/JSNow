<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] ST 4.0 planning
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20ST%204.0%20planning&In-Reply-To=%3C200809082155.47883.roma%40qwertty.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001640.html">
   <LINK REL="Next"  HREF="001644.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] ST 4.0 planning</H1>
    <B>Roman Odaisky</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20ST%204.0%20planning&In-Reply-To=%3C200809082155.47883.roma%40qwertty.com%3E"
       TITLE="[stringtemplate-interest] ST 4.0 planning">roma at qwertty.com
       </A><BR>
    <I>Mon Sep  8 11:55:42 PDT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001640.html">[stringtemplate-interest] ST 4.0 planning
</A></li>
        <LI>Next message: <A HREF="001644.html">[stringtemplate-interest] ST 4.0 planning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1643">[ date ]</a>
              <a href="thread.html#1643">[ thread ]</a>
              <a href="subject.html#1643">[ subject ]</a>
              <a href="author.html#1643">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> Doh...would that beOverly burdensome? In other words, should I abandon
</I>&gt;<i> targeting languages that have no reflection?
</I>
That depends.

Reflection is dangerous in tempting to write poorly extensible code.

Something like

[[store_in_table]]
class some_class
{
    [[store_in_field]]
    int something;

    [[store_in_field_as(&quot;class&quot;)]]
    some_type css_class;

    [[do_not_store]]
    int temporary;
};

will work fine... until the need to store the class in another storage arises.

It would be ideologically correct to have classes, DB tables and mappings as 
distinct entities, but that&#8217;s not for the lazy ones :-)

struct point
{
    double x, y;
};

typedef sql::table&lt;
    &quot;table_point&quot;,
	sql::field&lt;&quot;field_x&quot;, sql::decimal&lt;6, 4&gt;&gt;,
	sql::field&lt;&quot;field_y&quot;, sql::decimal&lt;6, 4&gt;&gt;
&gt;<i> table_point;
</I>
typedef sql::mapping&lt;
    sql::field_mapping&lt;&amp;point::x, &quot;field_x&quot;&gt;,
    sql::field_mapping&lt;&amp;point::y, &quot;field_y&quot;&gt;
&gt;<i> mapping_point;
</I>
Something like that is what one _might_ write in C++09. This separates data 
and its storage, and it&#8217;s trivial to add mappings for something else. Or if 
we&#8217;re speaking about templates, different templates can be expecting the same 
data under different names (perhaps they were written by different people for 
different purposes).

Tedious, for sure, but avoids shooting oneself in the foot later.

You have been advocating separation for so long, you should understand me :-)

&gt;<i> Well, we don't want to turn it into Lisp (i.e., remove all syntax
</I>&gt;<i> except function call) ;) ha!
</I>
Why not?

Or at least half the Common Lisp ;-)

-- 
WBR
Roman.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2286 bytes
Desc: not available
Url : <A HREF="http://www.antlr.org:8080/pipermail/stringtemplate-interest/attachments/20080908/48c1bb71/attachment-0001.bin">http://www.antlr.org:8080/pipermail/stringtemplate-interest/attachments/20080908/48c1bb71/attachment-0001.bin</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001640.html">[stringtemplate-interest] ST 4.0 planning
</A></li>
	<LI>Next message: <A HREF="001644.html">[stringtemplate-interest] ST 4.0 planning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1643">[ date ]</a>
              <a href="thread.html#1643">[ thread ]</a>
              <a href="subject.html#1643">[ subject ]</a>
              <a href="author.html#1643">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
