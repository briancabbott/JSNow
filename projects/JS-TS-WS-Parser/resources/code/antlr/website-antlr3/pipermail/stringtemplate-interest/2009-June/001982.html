<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] static typing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20static%20typing&In-Reply-To=%3C20090620020755.GA7493%40freedbms.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001983.html">
   <LINK REL="Next"  HREF="001980.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] static typing</H1>
    <B>Zenaan Harkness</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20static%20typing&In-Reply-To=%3C20090620020755.GA7493%40freedbms.net%3E"
       TITLE="[stringtemplate-interest] static typing">zen at freedbms.net
       </A><BR>
    <I>Fri Jun 19 19:07:55 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001983.html">[stringtemplate-interest] static typing
</A></li>
        <LI>Next message: <A HREF="001980.html">[stringtemplate-interest] static typing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1982">[ date ]</a>
              <a href="thread.html#1982">[ thread ]</a>
              <a href="subject.html#1982">[ subject ]</a>
              <a href="author.html#1982">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Jun 18, 2009 at 11:29:46AM -0700, Terence Parr wrote:
&gt;<i> Howdy. One of the things I would like to consider for the next version  
</I>&gt;<i> of ST is static type checking. Easy way to do that is to generate Java  
</I>&gt;<i> code from the templates and then let the compiler figure it out. If I  
</I>&gt;<i> want to keep the system interpreted, though, we need to be more  
</I>&gt;<i> clever. We could keep the interpreted nature but generate some proxies  
</I>&gt;<i> that provided setter methods. For example,
</I>
What's the difference between interpreting vs compiling,
and interpreting vs generating proxies?
Both compiling, and generating proxies, appear to me to require a
relatively heavy-weight transformation and subsequent compilation step.

&gt;<i> 
</I>&gt;<i> THIS:
</I>&gt;<i> 
</I>&gt;<i> group T;
</I>&gt;<i> foo(int a, String b) ::= &quot;...&quot;
</I>&gt;<i> 
</I>&gt;<i> BECOMES
</I>&gt;<i> 
</I>&gt;<i> package T;
</I>&gt;<i> class foo extends StringTemplate {
</I>&gt;<i>         public void setA(int a) { setAttribute(&quot;a&quot;, a); }
</I>&gt;<i>         public void setB(String b) { setAttribute(&quot;b&quot;, b); }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> Then, you could use it like this:
</I>&gt;<i> 
</I>&gt;<i> T.foo t = new T.foo();
</I>&gt;<i> t.setA(34);
</I>&gt;<i> t.setB(&quot;hi&quot;);
</I>&gt;<i> 
</I>&gt;<i> Any thoughts? The types would be optional I think.
</I>
Here are my questions may help clarify this new feature proposal:

*)
Currently ST uses 'duck typing': in a template, if the attribute I've
just been passed looks like an int, I can use it like an int, and if it
has a quack attribute, I can getQuack with att.quack
See <A HREF="http://en.wikipedia.org/wiki/Duck_typing">http://en.wikipedia.org/wiki/Duck_typing</A>

I'm having trouble understanding what st static type checking is:

Static typing would give us template-compilation time type checking?
Or intra-template compile time checking?
Intra- template-group template compile time type checking?


*)
Please iterate benefits/ purposes of ST static typing, describing the
problem being solved:


*)
Please iterate contra-indications of ST static typing:


*)
Potential contra-indication:
Cross-language implementation becomes more &quot;icky&quot;.
Eg Java &quot;String&quot; and &quot;Map&quot; (ie, Class) types use title case (CamelCase),
but other languages (eg C) prefer all_lower_case.

So perhaps ST uses its own sentence case standard. Let us define that.
Easiest immediate standard for your ST is Java standard since it's
implemented in Java:
I prefer int, string and map over int, String and Map, as the standard,
when writing templates in my template group files.


*)
Please iterate the types. Eg here's a first crack:
   bool

   int
   rational
   real
   complex

   char
   string

   donkey
   alpaca

   list
   map(/ class)
   object (generic type)


*)
If you propose to go &quot;off the beaten track&quot; adding additional types to
the list above, please provide rationale for doing so.


*)
There are two use cases for ST - the purely all-in-st[g]-files use case
(I make heavy use of this (stg files)) and the create templates
programmatically use case (I have only ever used this for testing, but
others on list appear to use heavily).

Does the proposed st static type checking interact differently with
these two use cases?


*)
What about run-time performance impact?


*)
There may be utility in an ST type-contract-enforcement mechanism.

Please keep such mechanism (or the definition of it as per the ST
Standard 1.0) as ST implementation language agnostic as possible.
I use Java pretty much exclusively at the moment, yet I have a strong
desire for the cross language neutrality of ST to be maximised.
Maximises both our community, and cross-language applicability of
templates, examples, documentation, etc.  Technical leverage.


*)
Speaking of standards:
The contract of ST is a &quot;standard&quot; which contract must be met by
implementers of that standard, such as Java ST, C# ST, etc.

Ideally ST is defined in a standard document, independent of any
implementation, which standard is versioned, such as ST 1.0, ST 1.1, ST
2.0 etc.

If we had an ST standard document which we could refer to, it would help
us to think about changes proposed, impact on various implementers, etc.


Got me inspired again ... what _is_ it with ST?

I know, it's giving my favourite imperative language some of the
benefits of a Lisp machine. Really gotta learn that lisp one day...


Regards
Zenaan

-- 
Homepage: www.SoulSound.net -- Free Australia: www.UPMART.org
Please respect the confidentiality of this email as sensibly warranted.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001983.html">[stringtemplate-interest] static typing
</A></li>
	<LI>Next message: <A HREF="001980.html">[stringtemplate-interest] static typing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1982">[ date ]</a>
              <a href="thread.html#1982">[ thread ]</a>
              <a href="subject.html#1982">[ subject ]</a>
              <a href="author.html#1982">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
