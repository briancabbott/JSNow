<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] On Pragmatism Violating Purity For The Win
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20On%20Pragmatism%20Violating%20Purity%20For%20The%20Win&In-Reply-To=%3Ce3eda7ce0910191158l623026b3o8827a386b2e52f01%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002295.html">
   <LINK REL="Next"  HREF="002299.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] On Pragmatism Violating Purity For The Win</H1>
    <B>Joseph Grace</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20On%20Pragmatism%20Violating%20Purity%20For%20The%20Win&In-Reply-To=%3Ce3eda7ce0910191158l623026b3o8827a386b2e52f01%40mail.gmail.com%3E"
       TITLE="[stringtemplate-interest] On Pragmatism Violating Purity For The Win">ockham at gmail.com
       </A><BR>
    <I>Mon Oct 19 11:58:40 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002295.html">[stringtemplate-interest] question about toString and maps
</A></li>
        <LI>Next message: <A HREF="002299.html">[stringtemplate-interest] On Pragmatism Violating Purity	For	The Win
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2291">[ date ]</a>
              <a href="thread.html#2291">[ thread ]</a>
              <a href="subject.html#2291">[ subject ]</a>
              <a href="author.html#2291">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>*First, a clarification.  I finally found the canonical name for my
&quot;Principle of Generous Acceptance&quot;.  It is the Robustness
Principle&lt;<A HREF="http://en.wikipedia.org/wiki/Robustness_Principle">http://en.wikipedia.org/wiki/Robustness_Principle</A>&gt; (also
&quot;Postel's Principle&quot;).  (Apologies for not finding it on my previous
search!)
However, I still prefer my phrasing of it &quot;Be strict in what you generate,
but generous in what you accept.&quot;

Zenaan Harkness* wrote at *Sun Oct 18 18:22:26 PDT 2009:*



&gt;<i> If we added native.if, are there other operators you see
</I>
&gt;<i> being useful in the native.* library?
</I>
I am not looking to add operators other than &quot;if.*&quot; to the core language.

The ST philosophy is strict separation of concerns.  Even the existing
&quot;if&quot; is a violation of strict separation in that ST inspects an aspect
of the model albeit in a very tidy way.  The recognition of a second
&quot;if&quot; is another step toward such pragmatism.  I believe the
&quot;Robustness Principle&quot; (strict in what you generate, generous in what
you accept) explains why these &quot;if.*&quot; are so important even though
(strictly speaking) they violate the purity of the language.  Add
&quot;if.*&quot; but only in a very controlled fashion, e.g., &quot;if.null&quot;.  I do
not suggest ST be littered with operators and violations of model/view
separation.

&gt;<i> Modifying ST into 'platform specific' variants is a significant
</I>
&gt;<i> change if it were undertaken.
</I>
That's not my intent or intended suggestion.  The only supported
compatibility variant as envisioned would be the one instruction,
&quot;native.if&quot;.  The rest of the &quot;native.*&quot; namespace would be for user
customizations (unsupported, Use At Your Own Risk).

&gt;<i> A native.* library would be good to think/ plan for in advance
</I>&gt;<i> though, rather than one feature at a time, don't you think?
</I>
I'm thinking of &quot;native.*&quot; more as opening the door to user
extensions, not as a new part of the language.  Mostly for ease of
use, compatibility, and only a little bit of &quot;Awaiting Further
Developments&quot; if you will, to see what happens from user extensions.

-=-

The basic existence &quot;if&quot; is a practical necessity, and has been shown
largely &quot;necessary and sufficient&quot; for ST just not totally practical.
The question becomes how to handle multiple &quot;if&quot;s in ST.  I believe
the answer is to recognize that &quot;necessary and sufficient&quot; is not
necessarily sufficient!  &quot;Practical&quot; is also important, and I think
that's because of the &quot;Robustness Principle&quot;, i.e., &quot;generous in what
you accept&quot; as in making ST easy to use (without losing ST's strength
and spirit of purity).

Hence adding multiple &quot;if&quot;s is practical, but how should it be
handled?  There's the rub.

I can see multiple options depending on how seriously one takes ease
of use, &quot;Robustness Principle&quot;, and attitude toward ease of adoption
of ST (and how to go about it).  Just looking at ST language merits
(and not, e.g., a marketing campaign!), I see the options as follows:

1.  Should ST add a single monolithic operator, &quot;ifnull&quot;.  Is that
practical?  What if there are other &quot;if&quot; operators that are desirable
(as already mentioned on this list)?

2. Should ST then add a clean syntax for multiple &quot;if.*&quot; language
independent operators?  Is that practical?  What if a common use case
is to dovetail ST onto an existing system, in a native language, and
the native language &quot;if&quot; is not found in ST?  What if ease of use is
compromised without native language friendly &quot;if&quot;?

3.  Should ST then add a &quot;native.if&quot; which handles language native
&quot;if&quot; but in a tidy, automatically flaggable (command line flag -&gt;
warning/errors), but built-in fashion?  Does this increase
language/legacy friendliness enough, or does &quot;Robustness Principle&quot;
generosity suggest that users may have unforeseeable user-specific and
domain specific needs beyond &quot;native.if&quot;?

4.  Should ST then make &quot;native.*&quot; a generic hook for user-specific
augmentation of the language to suit their specific needs?
&quot;native.if&quot; would then be the exemplar (code template for &quot;native.*&quot;
extensions) for users to build additional hooks.  The hooks may be few
and far between, or become shared.  However, at least users would have
power to augment ST specifically for their needs (impure or not).  Now
users can customize ST in a controlled fashion (&quot;native.*&quot; operators)
using their language of choice for their application(s).  Would
&quot;native.*&quot; extensions be automatically portable across all ST users?
Of course not, since &quot;native.*&quot; extensions would be
language/application specific.  Would &quot;native.*&quot; extensions be
shareable at all?  Yes, &quot;native.*&quot; extensions could be shared among ST
users who share a common language/application (e.g., Ruby on Rails for
Ruby ST --- if it existed!-).  Is that desirable?  I think so.

So those are the options as I see them.  The big difference is
philosophy about where ST is headed, and how to get there?  Big steps
or baby steps?  I don't know, but I don't like monolithic design, and
do like options.

To recap:

1.  &quot;ifnull&quot;  (one new keyword)

2.  &quot;if.null&quot;, &quot;if.empty&quot;, et al.  (syntax extensions for a few
additional common ST use cases, tidy &quot;if.*&quot; extensibility)

3.  above + &quot;native.if&quot; (above + language compatible &quot;native.if&quot; for
native language compatibility use case)

4.  above + &quot;native.*&quot; (above + user extensible syntax hook for
open-ended user and application specific use cases)

IMO, these are all reasonable approaches.

I view #1 as a band-aid, old school (a la Bourne shell keywords) with
little future extensibility other than adding more monolithic
keywords.  #1 adds a &quot;fix&quot; with low-risk to purity, and low potential.

I see #2 as more promising.  It acknowledges there's a bit more to the
issue (&quot;Robustness Principle&quot;'s Generous Acceptance and ease-of-use)
than a single &quot;ifnull&quot; and explicitly leaves room for tidy &quot;if.*&quot; ST
extensibility.  #2 adds a more sophisticated fix with low-risk, and
some future potential (through the &quot;if.*&quot; syntax).

I like #3's extensibility since it takes the extensibility syntax to a
natural progression and adds a hint of native language compatibility,
&quot;native.if&quot;.  #3 has #2's sophisticated fixes, and adds a
compatibility feature for native languages.  Philosophically, this
could be considered risky (portability violation).  OTOH, I believe
the nod to native language compatibility is a big step forward in
appreciating the importance of &quot;Generous Acceptance&quot; [Robustness
Principle] and ease of use.  In other words, even though purity
prevails in ST, pragmatism has its place.  The &quot;native.if&quot; would be
that built-in for ST.

I like #4 the best, but it's the riskiest (biggest leap) since it
would open the door to user extensibility.  Is there any value in user
extensibility, or it just a Pandora's Box?  I think it's a logical
extension and may have hidden value (unforeseen advantages).  As I
outlined in a previous post, providing full extensibility hooks is
sometimes essential for political/mental acceptance of &quot;foreign&quot;
technology, e.g., the NIH (Not Invented Here) Syndrome.  As long as
&quot;necessity is the mother of invention&quot;, extensibility could lead to
some very innovative uses for ST.  To fully embrace &quot;Generous
Acceptance&quot; [Robustness Principle], &quot;native.*&quot; and user extensibilty
seems the next logical step when adding &quot;if.*&quot; and &quot;native.if&quot; to ST.

-=-

So that's how I see the &quot;ifnull&quot;, &quot;if.*&quot;, &quot;native.if&quot;, and &quot;native.*&quot;
conversation.  It's been very thought-provoking.  I feel some
resistance by the experts (and maybe rightly so), but at least the
options are under consideration.

I'm mostly interested in Ruby and am toying with taking Ter's Toy-ST
and converting that to Ruby.  I've been wondering how to get ST on
Ruby for some time.  I'm hoping Toy-ST is the path of least
resistance.

I think it's important to give a nod to pragmatism, even when ST's
core strength is purity.  Perhaps it's even -more- important to nod to
pragmatism since ST has such strong purity genetics.  I think
pragmatism has already gotten a boost in the discussion of
abbreviating &quot;StringTemplate&quot; to &quot;Template&quot; (not to mention &quot;ST&quot;).

IMO, ST has the genetics to be the king of the hill in templating, and
Ter continues to improve on it with v4.  The rub seems to be less
about genetics and power, than about packaging and ease of adoption.

I believe the biggest opportunity for ST to grow is to convert users
with greater ease of use, ease of adoption.  I believe ST's purity is
a two-edged sword.  Strict adherence to separation of concerns
(model/view) keeps the ST language pure and valuable, but can make ST
harder to adopt (and appear riskier to prospective users, tech leads,
managers).  I believe a few nods toward pragmatism with (&quot;if.*&quot;) and
user extensibility (&quot;native.*&quot;) could alleviate some of those
concerns.

Could these changes lead to wider ST adoption?  Possibly, but perhaps
that's just my wishful thinking.  We all want ST to be successful.
The question is how, not just from a purity of language standpoint,
but also from an ease-of-use and safety of adoption standpoint.  I
think &quot;Generous Acceptability&quot; [Robustness Principle] could lead the
way, and that's where I suggest extrapolating beyond the simple
&quot;ifnull&quot;.

Cheers,

= Joe =
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20091019/8def1127/attachment.html">http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20091019/8def1127/attachment.html</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002295.html">[stringtemplate-interest] question about toString and maps
</A></li>
	<LI>Next message: <A HREF="002299.html">[stringtemplate-interest] On Pragmatism Violating Purity	For	The Win
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2291">[ date ]</a>
              <a href="thread.html#2291">[ thread ]</a>
              <a href="subject.html#2291">[ subject ]</a>
              <a href="author.html#2291">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
