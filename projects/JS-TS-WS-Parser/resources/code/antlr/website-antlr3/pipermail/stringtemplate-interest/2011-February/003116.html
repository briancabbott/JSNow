<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] it's 60% of time in ObjectModelAdaptor.getProperty()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20it%27s%2060%25%20of%20time%20in%0A%20ObjectModelAdaptor.getProperty%28%29&In-Reply-To=%3Cop.vqhsb7rvc4vsc3%40frank-black%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003115.html">
   <LINK REL="Next"  HREF="003117.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] it's 60% of time in ObjectModelAdaptor.getProperty()</H1>
    <B>Johan Stuyts</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20it%27s%2060%25%20of%20time%20in%0A%20ObjectModelAdaptor.getProperty%28%29&In-Reply-To=%3Cop.vqhsb7rvc4vsc3%40frank-black%3E"
       TITLE="[stringtemplate-interest] it's 60% of time in ObjectModelAdaptor.getProperty()">j.stuyts at javathinker.com
       </A><BR>
    <I>Sun Feb  6 09:32:21 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003115.html">[stringtemplate-interest] it's 60% of time in	ObjectModelAdaptor.getProperty()
</A></li>
        <LI>Next message: <A HREF="003117.html">[stringtemplate-interest] it's 60% of time in	ObjectModelAdaptor.getProperty()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3116">[ date ]</a>
              <a href="thread.html#3116">[ thread ]</a>
              <a href="subject.html#3116">[ subject ]</a>
              <a href="author.html#3116">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Yes, classes are garbage collected, but as they have a reference to
</I>&gt;<i> their class loader, they won't be garbage until the class loader is
</I>&gt;<i> garbage. Which can only be when you have created it. Or am I missing
</I>&gt;<i> anything here?
</I>
I think you mean the other way around: the class loaders have a reference  
to their classes.

I am not familiar with the internals of class loaders, but if class  
loaders use normal references to their classes then this would of course  
prevent the classes from being collected. In that case you would need to  
use more class loaders to make sure old classes are unloaded. Although I  
feel that one class loader per class is a bit extreme. There must be other  
'units' in StringTemplate to tie a class loader to.

I am fairly confident that class loaders don't hold on to their classes  
indefintely, but I am not 100% sure. A simple test can show how (custom)  
class loaders behave.

&gt;<i> When dynamically loading classes from byte arrays I do not know of any
</I>&gt;<i> other way than creating your own class loader anyway.
</I>
Me neither.

&gt;<i> I sure know that
</I>&gt;<i> the - know to be picky - Google App Engine allows you to do so - as I
</I>&gt;<i> tried it :)
</I>
Cool. And like I said: custom class loaders are common practice so most  
people won't have any problem with using them. But there might be  
enthousiastic StringTemplate users who have to deploy to more restricted  
environments. I guess these users would be disappointed if they cannot  
migrate to version 4 of StringTemplate because of the additional security  
restrictions. It's just something to keep in mind when the introduction of  
a custom class loader comes up.

Johan
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003115.html">[stringtemplate-interest] it's 60% of time in	ObjectModelAdaptor.getProperty()
</A></li>
	<LI>Next message: <A HREF="003117.html">[stringtemplate-interest] it's 60% of time in	ObjectModelAdaptor.getProperty()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3116">[ date ]</a>
              <a href="thread.html#3116">[ thread ]</a>
              <a href="subject.html#3116">[ subject ]</a>
              <a href="author.html#3116">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
