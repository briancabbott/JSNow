<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] IAttributeRenderer and	Type	Inheritancein C#
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20IAttributeRenderer%0A%20and%09Type%09Inheritancein%20C%23&In-Reply-To=%3C4AE1505A.80305%40ask.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002332.html">
   <LINK REL="Next"  HREF="002337.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] IAttributeRenderer and	Type	Inheritancein C#</H1>
    <B>Vincent DARON</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20IAttributeRenderer%0A%20and%09Type%09Inheritancein%20C%23&In-Reply-To=%3C4AE1505A.80305%40ask.be%3E"
       TITLE="[stringtemplate-interest] IAttributeRenderer and	Type	Inheritancein C#">vdaron at ask.be
       </A><BR>
    <I>Thu Oct 22 23:42:34 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002332.html">[stringtemplate-interest] IAttributeRenderer	and	Type	Inheritancein C#
</A></li>
        <LI>Next message: <A HREF="002337.html">[stringtemplate-interest] IAttributeRenderer	and	Type	Inheritancein C#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2333">[ date ]</a>
              <a href="thread.html#2333">[ thread ]</a>
              <a href="subject.html#2333">[ subject ]</a>
              <a href="author.html#2333">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jonathan and Sam,

The use of  Type.IsAssignableFrom()) on the .NET framework is maybe 
faster that getInterfaces() methods of Java.

Even if benchmarks are ok, the &quot;problem&quot; of the order of insertion of 
AttributeRenderer remains. Current version use a Map to store 
AttributeRenderer, allowing interfaces will need to process 
AttributeRenderer in a fixed/known order.

Do you have some benchmark data/application ?
How can I checkout the last version of sources to test it by myself ?

Thanks

Vincent


Sam Harwell wrote:
&gt;<i>
</I>&gt;<i> Hi Vincent and Jonathan,
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> I can't tell who said what here due to the way your editors formatted 
</I>&gt;<i> the text. I thought about a possible solution to the performance 
</I>&gt;<i> problems I mentioned, but I don't think it will be viable. I thought 
</I>&gt;<i> about always caching the results of the lookup, so object interfaces 
</I>&gt;<i> would only need to be checked the first time a type was used in a 
</I>&gt;<i> template. Unfortunately, due to the way templates inherit attribute 
</I>&gt;<i> renderers, several problems emerge:
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> 1.       Caching the renderers would result in a copy of all 
</I>&gt;<i> type-&gt;renderer maps in every template, incurring both a space and time 
</I>&gt;<i> overhead.
</I>&gt;<i>
</I>&gt;<i> 2.       Caching the renderers would break the attribute renderer 
</I>&gt;<i> inheritance scheme.
</I>&gt;<i>
</I>&gt;<i> 3.       /Not/ caching the renderers would mean checking all interface 
</I>&gt;<i> base types and interfaces while walking up the template inheritance 
</I>&gt;<i> chain. This would be a more substantial hit than GetAttribute, likely 
</I>&gt;<i> more than doubling the time required to render templates. I'll profile 
</I>&gt;<i> this to make sure, but if my analysis proves correct the feature will 
</I>&gt;<i> have to be completely reengineered before we could talk about 
</I>&gt;<i> incorporating it into the library.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> Sam
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20091023/9b71c7be/attachment.html">http://www.antlr.org/pipermail/stringtemplate-interest/attachments/20091023/9b71c7be/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002332.html">[stringtemplate-interest] IAttributeRenderer	and	Type	Inheritancein C#
</A></li>
	<LI>Next message: <A HREF="002337.html">[stringtemplate-interest] IAttributeRenderer	and	Type	Inheritancein C#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2333">[ date ]</a>
              <a href="thread.html#2333">[ thread ]</a>
              <a href="subject.html#2333">[ subject ]</a>
              <a href="author.html#2333">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
