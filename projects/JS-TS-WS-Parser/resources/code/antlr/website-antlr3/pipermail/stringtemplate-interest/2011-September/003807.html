<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] &quot;Or&quot; and &quot;And&quot; operators in conditionnal always evaluate both operands ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20%22Or%22%20and%20%22And%22%20operators%20in%0A%20conditionnal%20always%20evaluate%20both%20operands%20%3F&In-Reply-To=%3C4E720553.8050602%40lancaster.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003806.html">
   <LINK REL="Next"  HREF="003811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] &quot;Or&quot; and &quot;And&quot; operators in conditionnal always evaluate both operands ?</H1>
    <B>Sam Barnett-Cormack</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20%22Or%22%20and%20%22And%22%20operators%20in%0A%20conditionnal%20always%20evaluate%20both%20operands%20%3F&In-Reply-To=%3C4E720553.8050602%40lancaster.ac.uk%3E"
       TITLE="[stringtemplate-interest] &quot;Or&quot; and &quot;And&quot; operators in conditionnal always evaluate both operands ?">s.barnett-cormack at lancaster.ac.uk
       </A><BR>
    <I>Thu Sep 15 07:01:55 PDT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="003806.html">[stringtemplate-interest] &quot;Or&quot; and &quot;And&quot; operators in conditionnal always evaluate both operands ?
</A></li>
        <LI>Next message: <A HREF="003811.html">[stringtemplate-interest] &quot;Or&quot; and &quot;And&quot; operators in	conditionnal always evaluate both operands ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3807">[ date ]</a>
              <a href="thread.html#3807">[ thread ]</a>
              <a href="subject.html#3807">[ subject ]</a>
              <a href="author.html#3807">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The usual pattern in most languages I've experiences is to 'short 
circuit' conditionals in this way - for &amp;&amp;, don't bother with the second 
if the first is false, for ||, don't bother if it's true. This has great 
behavioural effects widely used in languages like perl, but those don't 
really apply to ST that I can see.

However, the specific case you identify is a good one. If you're in a 
situation where it's not a 'bad usage' of your template to have 'a' 
unset, you definitely want to be able to test members of a for truth or 
existence at the very least, without syntactic merry-go-rounds or 
risking very strange errors.

Then again, maybe short-circuit isn't the way to deal with this case. 
Maybe there's some better way of handling cases that would seem to lead 
to such functionality being disireable. Who knows?

Sam (not the usual Sam)

On 15/09/2011 14:54, Damien Urruty wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> The problem I am facing is that my conditional is something like :
</I>&gt;<i>
</I>&gt;<i> &lt;if(a &amp;&amp; a.b)&gt;
</I>&gt;<i>
</I>&gt;<i> Which raises an error in the case a is null (a.b is still evaluated).
</I>&gt;<i>
</I>&gt;<i> By the way, the error is not very explicit : &quot;templateName : no such
</I>&gt;<i> property or can't access: null attribute&quot;. I spent some time finding
</I>&gt;<i> where the error came from.
</I>&gt;<i>
</I>&gt;<i> It is not a question of performance, I was just wondering if this
</I>&gt;<i> behaviour was normal, I mean if this is by design, or if it was a bug.
</I>&gt;<i>
</I>&gt;<i> In my case, I can easily break the if in two separate ifs, so it doesn't
</I>&gt;<i> really matter. But as in Java the &amp;&amp; does not evaluate all the operands
</I>&gt;<i> if not necessary (the &amp; operator do evaluate each operand), i wanted to
</I>&gt;<i> know if this behaviour was wanted or not.
</I>&gt;<i>
</I>&gt;<i> Maybe this should be discussed, I know it is not very important, or at
</I>&gt;<i> least it should be mentionned somewhere in the doc ?
</I>&gt;<i>
</I>&gt;<i> Thanks for your response Sam, have a nice day
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> From: <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">sharwell at pixelminegames.com</A>
</I>&gt;<i> To: <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">lepilache at hotmail.com</A>; <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> Subject: RE: [stringtemplate-interest] &quot;Or&quot; and &quot;And&quot; operators in
</I>&gt;<i> conditionnal always evaluate both operands ?
</I>&gt;<i> Date: Thu, 15 Sep 2011 08:43:29 -0500
</I>&gt;<i>
</I>&gt;<i> Hi Damien,
</I>&gt;<i>
</I>&gt;<i> Since the attributes referenced from a StringTemplate should always be
</I>&gt;<i> pure (no side effects), then there is no semantic difference between
</I>&gt;<i> evaluating or not evaluating the second argument. Are you facing a
</I>&gt;<i> significant performance problem due to the second evaluation?
</I>&gt;<i>
</I>&gt;<i> Sam
</I>&gt;<i>
</I>&gt;<i> *From:*<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest-bounces at antlr.org</A>
</I>&gt;<i> [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest-bounces at antlr.org</A>] *On Behalf Of *Damien
</I>&gt;<i> Urruty
</I>&gt;<i> *Sent:* Thursday, September 15, 2011 8:01 AM
</I>&gt;<i> *To:* <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> *Subject:* [stringtemplate-interest] &quot;Or&quot; and &quot;And&quot; operators in
</I>&gt;<i> conditionnal always evaluate both operands ?
</I>&gt;<i>
</I>&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I can see that if we use &amp;&amp; and || operands in conditionnals, both
</I>&gt;<i> operands are always evaluated, even if not necessary. For exemple, I have :
</I>&gt;<i>
</I>&gt;<i> &lt;if(a &amp;&amp; b)&gt;
</I>&gt;<i>
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> &lt;endif&gt;
</I>&gt;<i>
</I>&gt;<i> In my case, a is null, so it is not necessary to evaluate the second
</I>&gt;<i> argument, right ? Shouldn't the evaluation stop when such a case is
</I>&gt;<i> encountered ? It is the same for &lt;if(a || b)&gt; with a not null.
</I>&gt;<i>
</I>&gt;<i> Maybe I miss something, thanks for your help.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> stringtemplate-interest mailing list
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</I>
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003806.html">[stringtemplate-interest] &quot;Or&quot; and &quot;And&quot; operators in conditionnal always evaluate both operands ?
</A></li>
	<LI>Next message: <A HREF="003811.html">[stringtemplate-interest] &quot;Or&quot; and &quot;And&quot; operators in	conditionnal always evaluate both operands ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3807">[ date ]</a>
              <a href="thread.html#3807">[ thread ]</a>
              <a href="subject.html#3807">[ subject ]</a>
              <a href="author.html#3807">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
