<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] Unable to build java ST 3.2.1 using	maven
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Unable%20to%20build%20java%20ST%203.2.1%20using%0A%09maven&In-Reply-To=%3C9464a24a89ab814dac0296d3f3bc983d%40temporal-wave.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002373.html">
   <LINK REL="Next"  HREF="002375.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] Unable to build java ST 3.2.1 using	maven</H1>
    <B>Jim Idle</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Unable%20to%20build%20java%20ST%203.2.1%20using%0A%09maven&In-Reply-To=%3C9464a24a89ab814dac0296d3f3bc983d%40temporal-wave.com%3E"
       TITLE="[stringtemplate-interest] Unable to build java ST 3.2.1 using	maven">jimi at temporal-wave.com
       </A><BR>
    <I>Thu Nov  5 08:55:14 PST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002373.html">[stringtemplate-interest] Unable to build java ST 3.2.1	using	maven
</A></li>
        <LI>Next message: <A HREF="002375.html">[stringtemplate-interest] Unable to build java ST 3.2.1 using	maven
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2374">[ date ]</a>
              <a href="thread.html#2374">[ thread ]</a>
              <a href="subject.html#2374">[ subject ]</a>
              <a href="author.html#2374">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK - it looks like this jar was built by Terence's old script and that one of the things that script does is build stringtemplate itself with a script rather than via Maven. So what has happened is that that script generated .java files for the grammars in the src tree. Maven then builds them correctly under generated-sources but then it compiles all the .java files and so it compiles the ones that were in the jar and the ones it has just generated and you get the duplicate classes.

I will fix up the tar shortly and announce. Ter - can we change your script to make this jar by calling Maven?

Jim

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Marziou, Gael [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">gael.marziou at hp.com</A>]
</I>&gt;<i> Sent: Thursday, November 05, 2009 6:55 AM
</I>&gt;<i> To: Jim Idle; <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> Subject: RE: [stringtemplate-interest] Unable to build java ST 3.2.1
</I>&gt;<i> using maven
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hi Jim,
</I>&gt;<i> 
</I>&gt;<i> BTW, there are 2 reasons why I want to recompile ST:
</I>&gt;<i> 
</I>&gt;<i> 1. To be able to inspect local variables in debugger, it seems like the
</I>&gt;<i> compiler options used to build ST do not include local variables (-
</I>&gt;<i> g:[lines,vars,source]).
</I>&gt;<i> 
</I>&gt;<i> 2. To fix a problem when an NPE in AutoIndentWriter.write(String str)
</I>&gt;<i> line 150 when a custom AttributeRenderer returns null. How to report a
</I>&gt;<i> bug? I think this should be caught and/or a descriptive error message
</I>&gt;<i> logged.
</I>&gt;<i> 
</I>&gt;<i> Back to the compile issue:
</I>&gt;<i> 
</I>&gt;<i> CLASSPATH is not set.
</I>&gt;<i> 
</I>&gt;<i> I downloaded from
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://www.stringtemplate.org/download/stringtemplate-3.2.1.tar.gz">http://www.stringtemplate.org/download/stringtemplate-3.2.1.tar.gz</A>
</I>&gt;<i> 
</I>&gt;<i> mvn -version
</I>&gt;<i> Apache Maven 2.2.1 (r801777; 2009-08-06 21:16:01+0200)
</I>&gt;<i> Java version: 1.5.0_07
</I>&gt;<i> Java home: C:\Program Files\Java\jdk1.5.0_07\jre
</I>&gt;<i> Default locale: en_US, platform encoding: Cp1252
</I>&gt;<i> OS name: &quot;windows xp&quot; version: &quot;5.1&quot; arch: &quot;x86&quot; Family: &quot;windows&quot;
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> 
</I>&gt;<i> Gael
</I>&gt;<i> 
</I>&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest-bounces at antlr.org</A>
</I>&gt;<i> &gt; [mailto:<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest-bounces at antlr.org</A>] On Behalf
</I>&gt;<i> &gt; Of Jim Idle
</I>&gt;<i> &gt; Sent: Wednesday, November 04, 2009 5:04 PM
</I>&gt;<i> &gt; To: <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> &gt; Subject: Re: [stringtemplate-interest] Unable to build java
</I>&gt;<i> &gt; ST 3.2.1 using maven
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Should be. Do you have CLASSPATH set or something like that?
</I>&gt;<i> &gt; Obviously it builds because we could not have released the
</I>&gt;<i> &gt; jar otherwise ;-)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I will try to check the source jar today, but building at the
</I>&gt;<i> &gt; command line after mvn clean and making sure CLASSPATH is not
</I>&gt;<i> &gt; set just worked on my local Windows Vista and Linux systems.
</I>&gt;<i> &gt; Which source jar did you download - the one on the download page?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Jim
</I>


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002373.html">[stringtemplate-interest] Unable to build java ST 3.2.1	using	maven
</A></li>
	<LI>Next message: <A HREF="002375.html">[stringtemplate-interest] Unable to build java ST 3.2.1 using	maven
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2374">[ date ]</a>
              <a href="thread.html#2374">[ thread ]</a>
              <a href="subject.html#2374">[ subject ]</a>
              <a href="author.html#2374">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
