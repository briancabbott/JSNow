<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] HTML escaping
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20HTML%20escaping&In-Reply-To=%3C200801190010.38074.roma%40qwertty.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001331.html">
   <LINK REL="Next"  HREF="001334.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] HTML escaping</H1>
    <B>Roman Odaisky</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20HTML%20escaping&In-Reply-To=%3C200801190010.38074.roma%40qwertty.com%3E"
       TITLE="[stringtemplate-interest] HTML escaping">roma at qwertty.com
       </A><BR>
    <I>Fri Jan 18 14:10:38 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001331.html">[stringtemplate-interest] HTML escaping
</A></li>
        <LI>Next message: <A HREF="001334.html">[stringtemplate-interest] HTML escaping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1332">[ date ]</a>
              <a href="thread.html#1332">[ thread ]</a>
              <a href="subject.html#1332">[ subject ]</a>
              <a href="author.html#1332">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday, 18.01.2008 23:55:43 Terence Parr wrote:

&gt;<i> &gt; The manual says one should use renderers for escaping. That makes
</I>&gt;<i> &gt; sense for
</I>&gt;<i> &gt; applications that generate SQL, or C, but how does one use ST for JS
</I>&gt;<i> &gt; embedded
</I>&gt;<i> &gt; in HTML? &lt;b&gt;hello $user$&lt;/b&gt; and alert(&quot;hello $user$&quot;) need different
</I>&gt;<i> &gt; escaping, and the possible presence of &lt;![CDATA[ complicates things
</I>&gt;<i> &gt; further.
</I>&gt;<i>
</I>&gt;<i> Hi. You can use \$ to escape the $ which usually takes care of it even
</I>&gt;<i> in CDATA.  ST translates to $.
</I>
Thanks for such a quick response, but it seems you misunderstood me. I want to 
escape the value of the variable, which can contain quotation marks, 
apostrophes, ampersands and such. The thing is, that has to be done 
differently for HTML and JS. In HTML, &lt; must become &amp;lt; while in JS (which 
is inside a CDATA most of time) that is incorrect, but instead &quot; must become 
\&quot;.

Suppose I tell the designer that the &#8220;user&#8221; variable contains the name of the 
user. He can embed that into HTML as $user$, but has no way to reference the 
variable safely from JS (an XSS possibility arises).

How can one specify more than one rendering option for a variable?

WBR, Roman.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001331.html">[stringtemplate-interest] HTML escaping
</A></li>
	<LI>Next message: <A HREF="001334.html">[stringtemplate-interest] HTML escaping
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1332">[ date ]</a>
              <a href="thread.html#1332">[ thread ]</a>
              <a href="subject.html#1332">[ subject ]</a>
              <a href="author.html#1332">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
