<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] Wrapping long arithmetic expressions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Wrapping%20long%20arithmetic%20expressions&In-Reply-To=%3C35E3FB90-0942-47C7-95E5-45F15285D94F%40cs.usfca.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001884.html">
   <LINK REL="Next"  HREF="001885.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] Wrapping long arithmetic expressions</H1>
    <B>Terence Parr</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Wrapping%20long%20arithmetic%20expressions&In-Reply-To=%3C35E3FB90-0942-47C7-95E5-45F15285D94F%40cs.usfca.edu%3E"
       TITLE="[stringtemplate-interest] Wrapping long arithmetic expressions">parrt at cs.usfca.edu
       </A><BR>
    <I>Tue Apr 21 12:48:06 PDT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001884.html">[stringtemplate-interest] Wrapping long arithmetic expressions
</A></li>
        <LI>Next message: <A HREF="001885.html">[stringtemplate-interest] [antlr-interest] Building syntax	highlighters with ANTLR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1889">[ date ]</a>
              <a href="thread.html#1889">[ thread ]</a>
              <a href="subject.html#1889">[ subject ]</a>
              <a href="author.html#1889">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Mike,

Hmm....yeah, ST tries not to split individual elements.  That said, it  
should handle
properly so that they get auto indented.  So your expr values are just  
long strings? If they are developed from string templates, you can  
leave them as templates rather than rendering them to string and  
passing them in as an attribute. would that help? Knowing where to  
split something might be difficult even in your own writer unless you  
parse the output.
Ter

On Apr 9, 2009, at 4:04 PM, Mike Graham wrote:

&gt;<i>
</I>&gt;<i> I've hunted though the archives and document pages, but haven't  
</I>&gt;<i> worked out how to do the following.
</I>&gt;<i>
</I>&gt;<i> I'm writing a utility to document and translate often very long  
</I>&gt;<i> conditional and arithmetic expressions. I'm parsing them with Antlr  
</I>&gt;<i> and rewriting them using StringTemplate in a Antlr tree walker. The  
</I>&gt;<i> results need to be readable and valid C# code. I have a top level  
</I>&gt;<i> template in a group that looks like this:
</I>&gt;<i>
</I>&gt;<i> result(e) ::= &lt;&lt;
</I>&gt;<i> TheResult = $expr$;
</I>&gt;&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> However, since $expr$ can get very long (may hundreds of  
</I>&gt;<i> characters). I'd really like to be able to do something like this:
</I>&gt;<i>
</I>&gt;<i> result(e) ::= &lt;&lt;
</I>&gt;<i> TheResult = &lt;$expr$; anchor, wrap&gt; ;
</I>&gt;&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> so that I can wrap the expression at whitespace neatly aligned to  
</I>&gt;<i> the =. But the wrap works only for lists with separators and I end  
</I>&gt;<i> up with an arithmetic expression with infix operators.
</I>&gt;<i>
</I>&gt;<i> I guess the correct solution is to write a new StringTemplateWriter,  
</I>&gt;<i> but I'm not sure if the anchor/wrap would be recognised in this  
</I>&gt;<i> context by StringTemplate. Could anyone say of this is a viable  
</I>&gt;<i> solution? Is there an easier way of doing this that I've overlooked?  
</I>&gt;<i> Grateful for any suggestions.
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i>
</I>&gt;<i> -- Mike.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> stringtemplate-interest mailing list
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001884.html">[stringtemplate-interest] Wrapping long arithmetic expressions
</A></li>
	<LI>Next message: <A HREF="001885.html">[stringtemplate-interest] [antlr-interest] Building syntax	highlighters with ANTLR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1889">[ date ]</a>
              <a href="thread.html#1889">[ thread ]</a>
              <a href="subject.html#1889">[ subject ]</a>
              <a href="author.html#1889">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
