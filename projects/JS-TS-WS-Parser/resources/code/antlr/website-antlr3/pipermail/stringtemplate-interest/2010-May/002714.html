<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] Separation issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Separation%20issue&In-Reply-To=%3C4BFA5D00.9080400%40clapper.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002709.html">
   <LINK REL="Next"  HREF="002715.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] Separation issue</H1>
    <B>Brian Clapper</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Separation%20issue&In-Reply-To=%3C4BFA5D00.9080400%40clapper.org%3E"
       TITLE="[stringtemplate-interest] Separation issue">bmc at clapper.org
       </A><BR>
    <I>Mon May 24 04:03:28 PDT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002709.html">[stringtemplate-interest] Dynamically create template within	the context of a physical group
</A></li>
        <LI>Next message: <A HREF="002715.html">[stringtemplate-interest] Separation issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2714">[ date ]</a>
              <a href="thread.html#2714">[ thread ]</a>
              <a href="subject.html#2714">[ subject ]</a>
              <a href="author.html#2714">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have an model/view separation issue with String Template. Let me call it the
Tag Cloud Problem. I'm curious to know the &quot;recommended&quot; way to solve this
problem.

BACKGROUND

Consider a blog generator that uses String Template. Content is converted from
simple markup files to HTML via String Template templates. So far, so good.

The simple markup files can have tags. The conversion engine presents
templates with a map of files (&quot;articles&quot;) that are associated with each tag.
Conceptually, the template receives a list of Tag elements containing the
following properties:

- tag name
- list of Summary Article objects (with title, link, etc., properties)
- a &quot;totalArticles&quot; numeric property (the length of the Summary Articles list)

I'd like to use that information to generate a tag cloud.

THE PROBLEM

Ideally, I'd like to map tag frequency to a CSS class, so that the CSS styling
can style popular tags differently from less-popular one. For instance:

more than 20 articles -&gt; CSS class is &quot;huge&quot;
11-20 articles -&gt; CSS class is &quot;big&quot;
6-10 articles -&gt; CSS class is &quot;normal&quot;
2-5 articles -&gt; CSS class is &quot;small&quot;
1 article -&gt; CSS class is &quot;tiny&quot;

The corresponding CSS elements can then style those classes appropriately, to
produce the typical tag-cloud look.

To me, the transformation from &quot;number of associated articles&quot; to &quot;CSS class&quot;
belongs in the template, primarily because that transformation is
HTML-specific. If I'm generating XML (e.g., RSS), I'll do something different
(or nothing at all).

After digging through the String Template documentation, I see no easy way to
isolate the logic in the templates. The &quot;if&quot; statement only supports boolean
property access (or presence/absence). I can't map &quot;number of articles&quot; to a
CSS class using the template's &quot;if&quot; logic. I could push the test into a
renderer, but that approach seems wrong, for a couple reasons:

- It pushes view logic into Java code (conversion of total to CSS class).
- A user can't easily change that conversion without writing Java code.

It's entirely possible that I am missing something obvious here. What's the
standard or recommended way to handle this kind of view-specific conversion in
String Template?
-- 
-Brian

Brian Clapper, <A HREF="http://www.clapper.org/bmc/">http://www.clapper.org/bmc/</A>

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002709.html">[stringtemplate-interest] Dynamically create template within	the context of a physical group
</A></li>
	<LI>Next message: <A HREF="002715.html">[stringtemplate-interest] Separation issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2714">[ date ]</a>
              <a href="thread.html#2714">[ thread ]</a>
              <a href="subject.html#2714">[ subject ]</a>
              <a href="author.html#2714">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
