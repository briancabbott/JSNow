<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] Re :  ST4: XMLModelAdaptor
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Re%20%3A%20%20ST4%3A%20XMLModelAdaptor&In-Reply-To=%3C682623.44918.qm%40web25705.mail.ukl.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002971.html">
   <LINK REL="Next"  HREF="002973.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] Re :  ST4: XMLModelAdaptor</H1>
    <B>Matthieu Wipliez</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20Re%20%3A%20%20ST4%3A%20XMLModelAdaptor&In-Reply-To=%3C682623.44918.qm%40web25705.mail.ukl.yahoo.com%3E"
       TITLE="[stringtemplate-interest] Re :  ST4: XMLModelAdaptor">mwipliez at yahoo.fr
       </A><BR>
    <I>Mon Jan 24 19:46:34 PST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002971.html">[stringtemplate-interest] ST4: XMLModelAdaptor
</A></li>
        <LI>Next message: <A HREF="002973.html">[stringtemplate-interest] Re : ST4: XMLModelAdaptor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2972">[ date ]</a>
              <a href="thread.html#2972">[ thread ]</a>
              <a href="subject.html#2972">[ subject ]</a>
              <a href="author.html#2972">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Personally I love the idea of being able to produce textual code from XML with 
StringTemplate, which is a lot easier to do than with, say, XSLT :-)
I think that the idea of using XPath as properties of the model is nice and 
feels pretty natural.

Also, this respects the push strategy IMO, since the XML model is computed 
beforehand. This may even be safer than using POJO-based model, because with 
your own model you are free to modify the model in methods, which is not the 
case with XPath expressions (they do not modify the underlying XML model).


Matthieu


----- Message d'origine ----
&gt;<i> De : Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">parrt at cs.usfca.edu</A>&gt;
</I>&gt;<i> &#192; : stringtemplate-interest List &lt;<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>&gt;
</I>&gt;<i> Envoy&#233; le : Mar 25 janvier 2011, 9h 27min 53s
</I>&gt;<i> Objet : Re: [stringtemplate-interest] ST4: XMLModelAdaptor
</I>&gt;<i> 
</I>&gt;<i> Ok, so this is Crazy cool:
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt; &lt;root.(&quot;/bookstore/book&quot;): { book  | 
</I>&gt;<i> &gt;&gt;     &lt;book.title&gt; (&lt;book.title.lang&gt;),  &lt;book.author&gt;, &lt;book.year&gt;
</I>&gt;<i> &gt;&gt; }&gt;
</I>&gt;<i> 
</I>&gt;<i> The only  question is: are we somehow entangling the controller in the view? 
</I>&gt;<i>Think about  it, xpath is kind of like doing an SQL query, right? On the other 
</I>&gt;<i>hand, you  could argue that 
</I>&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> &lt;employee.user.name.last&gt;
</I>&gt;<i> 
</I>&gt;<i> is also digging  pretty deeply into the model whereas normally we want the 
</I>&gt;<i>controller to pull the  data out of the model and push it into the template.
</I>&gt;<i> 
</I>&gt;<i> I think that is the  conversation we need to have, though I like the idea of 
</I>&gt;<i>some XML integration for  marketing reasons. anybody have thoughts?
</I>&gt;<i> 
</I>&gt;<i> Ter
</I>&gt;<i> 
</I>&gt;<i> On Jan 22, 2011, at  1:21 PM, Collin Fagan wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; Absolutely! I use only the standard XML  stuff from the JDK so there are no 
</I>&gt;<i>extra dependencies. I'd be happy to do  whatever you need to make this 
</I>&gt;<i>&quot;inclusion ready&quot;, unit tests, style standards,  whatever, just let me know. 
</I>&gt;<i>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Collin
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; On Sat,  Jan 22, 2011 at 2:52 PM, Terence Parr &lt;<A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">parrt at cs.usfca.edu</A>&gt; wrote:
</I>&gt;<i> &gt;  Wow.You are a twisted guy! I like it! :)  I wonder if some built-in XML  
</I>&gt;<i>adapters should be built-in. Should we discuss including in the standard  
</I>&gt;<i>distribution?
</I>&gt;<i> &gt; Ter
</I>&gt;<i> &gt; On Jan 22, 2011, at 12:01 PM, Collin Fagan  wrote:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;&gt; Hi All,
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; I've been playing  with the idea of a model adapter that understands XPath 
</I>&gt;<i>and xml documents. 
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; This is what I ended up with.
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt;  Example:
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; Given an xml file with a structure like  this:
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; &lt;bookstore&gt;
</I>&gt;<i> &gt;&gt;      &lt;book&gt;
</I>&gt;<i> &gt;&gt;         &lt;title lang=&quot;eng&quot;&gt;The  Adventures of Augie March&lt;/title&gt;
</I>&gt;<i> &gt;&gt;          &lt;year&gt;1953&lt;/year&gt;
</I>&gt;<i> &gt;&gt;          &lt;author&gt;Saul Bellow&lt;/author&gt;
</I>&gt;<i> &gt;&gt;      &lt;/book&gt;
</I>&gt;<i> &gt;&gt; ...
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; You can write a template  like this:
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; All Books: &lt;root.(&quot;/bookstore/book&quot;): {  book | 
</I>&gt;<i> &gt;&gt;     &lt;book.title&gt; (&lt;book.title.lang&gt;),  &lt;book.author&gt;, &lt;book.year&gt;
</I>&gt;<i> &gt;&gt; }&gt;
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; As you can see the books are being selected with the  /bookstore/book XPath 
</I>&gt;<i>expression. ST is able to iterate over everything that is  returned and we can 
</I>&gt;<i>access elements and attributes on each selected item via the  &quot;.&quot; notation. 
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; Here is the full source code and example  for those intersted. 
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; <A HREF="http://www.box.net/shared/8tnrna4bi7">http://www.box.net/shared/8tnrna4bi7</A>
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt;  Enjoy,
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; Collin
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt;  _______________________________________________
</I>&gt;<i> &gt;&gt;  stringtemplate-interest mailing list
</I>&gt;<i> &gt;&gt; <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> &gt;&gt; <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt;  stringtemplate-interest mailing list
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> &gt; <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> stringtemplate-interest  mailing list
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
</I>&gt;<i> <A HREF="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">http://www.antlr.org/mailman/listinfo/stringtemplate-interest</A>
</I>&gt;<i> 
</I>

      
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002971.html">[stringtemplate-interest] ST4: XMLModelAdaptor
</A></li>
	<LI>Next message: <A HREF="002973.html">[stringtemplate-interest] Re : ST4: XMLModelAdaptor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2972">[ date ]</a>
              <a href="thread.html#2972">[ thread ]</a>
              <a href="subject.html#2972">[ subject ]</a>
              <a href="author.html#2972">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
