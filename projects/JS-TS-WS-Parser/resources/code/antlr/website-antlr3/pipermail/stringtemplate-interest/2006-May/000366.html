<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] Conditional statements
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=%5Bstringtemplate-interest%5D%20Conditional%20statements&In-Reply-To=537739b70605061315h3447b783n44c6b2d1e21eed1a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000365.html">
   <LINK REL="Next"  HREF="000367.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] Conditional statements</H1>
    <B>Kay Roepke</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=%5Bstringtemplate-interest%5D%20Conditional%20statements&In-Reply-To=537739b70605061315h3447b783n44c6b2d1e21eed1a%40mail.gmail.com"
       TITLE="[stringtemplate-interest] Conditional statements">kroepke at dolphin-services.de
       </A><BR>
    <I>Sat May  6 13:46:49 PDT 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000365.html">[stringtemplate-interest] Conditional statements
</A></li>
        <LI>Next message: <A HREF="000367.html">[stringtemplate-interest] Conditional statements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#366">[ date ]</a>
              <a href="thread.html#366">[ thread ]</a>
              <a href="subject.html#366">[ subject ]</a>
              <a href="author.html#366">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 6. May 2006, at 22:15 Uhr, David Moshal wrote:

&gt;<i> Take the issue of Formatting of dates and numbers. This is a case of
</I>&gt;<i> applying
</I>&gt;<i> an expression to the model, to create a particular view of the data.
</I>
Yes. I agree with that.

&gt;<i> With ST currently if one wants to create, a table by iterating  
</I>&gt;<i> through a
</I>&gt;<i> collection of objects,
</I>&gt;<i> in which the cells need to be formatted in a particular way, those  
</I>&gt;<i> objects
</I>&gt;<i> need to provide the formatted
</I>&gt;<i> 'view' of the model, so either one creates custom objects in the  
</I>&gt;<i> controller,
</I>&gt;<i> applying the formatting rules
</I>&gt;<i> to the model, or one alters the model object, so that it knows how  
</I>&gt;<i> to format
</I>&gt;<i> it's data for the view.
</I>
When you want to separate the view and the model from each other,  
this is exactly the thing
you'd want the controller to do. (To that part I was agreeing above.)
In my experience you could do one of two things:
1) Push the pre-formatted objects/data into the view/template or
2) Pull the formatting from the model via the controller by way of  
directions you put
	in the template (in effect like method calls)

I have done both things in projects. Both have their advantages as  
well as disadvantages.
I don't know whether you are aware if this paper[1] which Ter wrote.  
He talks a bit about the
problems (2) poses to the MVC paradigm (section 7.1). Although you  
could still decouple your model from the
view in such a scenario in invariably means that you complicate you  
controller. You will have
a formatting layer into which you call from the template that  
automagically handles the data
formatting for you. You could even do that lazily and wouldn't even  
take a big performance hit.
Ter als wrote a paper[2] recently in which he talks about the  
challenges of i18n in templates.
That might help you to decide how to proceed, too.

&gt;<i> So, in the case of formatting, wouldn't it be helpful if the  
</I>&gt;<i> template had
</I>&gt;<i> some
</I>&gt;<i> evaluative capabilities that go beyond boolean evaluation??
</I>
Although I'm often tempted to do something like that, too, I would  
disagree in this case.
Having a formatting layer really only makes sense, if it tightly  
integrated into the template
system. Which in turn would put the user of ST in a position of  
either using that, or push all
data into the template anyway (a proof is in [1] section 7.1, too).
When and if you have such a formatting layer, your life is good. If  
you don't, it ain't.
I'm currently using approach (1) at work and other projects (ANTLR  
for one thing), too and
can live with it. But (2) really puts a lot of the controller into  
the template, which may or
may not be a Good Thing. That really depends on the assumptions you  
can make about the environment
you work in.
For ST, I think we shouldn't make to strong assumptions. Boolean  
expression, yes. More than that, no.
IMHO.

Ter?

-k

[1] <A HREF="http://www.cs.usfca.edu/~parrt/papers/mvc.templates.pdf">http://www.cs.usfca.edu/~parrt/papers/mvc.templates.pdf</A>
[2] <A HREF="http://www.cs.usfca.edu/~parrt/papers/i18n.pdf">http://www.cs.usfca.edu/~parrt/papers/i18n.pdf</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000365.html">[stringtemplate-interest] Conditional statements
</A></li>
	<LI>Next message: <A HREF="000367.html">[stringtemplate-interest] Conditional statements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#366">[ date ]</a>
              <a href="thread.html#366">[ thread ]</a>
              <a href="subject.html#366">[ subject ]</a>
              <a href="author.html#366">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
