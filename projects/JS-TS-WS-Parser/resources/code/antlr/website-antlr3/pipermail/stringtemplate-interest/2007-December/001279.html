<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] List construction as argument
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20List%20construction%20as%20argument&In-Reply-To=%3C47530FF2.1050603%40uni-ulm.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001278.html">
   <LINK REL="Next"  HREF="001280.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] List construction as argument</H1>
    <B>Dennis Waldherr</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20List%20construction%20as%20argument&In-Reply-To=%3C47530FF2.1050603%40uni-ulm.de%3E"
       TITLE="[stringtemplate-interest] List construction as argument">Dennis.Waldherr at uni-ulm.de
       </A><BR>
    <I>Sun Dec  2 12:05:06 PST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001278.html">[stringtemplate-interest] ST 3.1 release imminent
</A></li>
        <LI>Next message: <A HREF="001280.html">[stringtemplate-interest] List construction as argument
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1279">[ date ]</a>
              <a href="thread.html#1279">[ thread ]</a>
              <a href="subject.html#1279">[ subject ]</a>
              <a href="author.html#1279">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have a problem with using a list generated by the &quot;[...]&quot; operator. I
tried to set an template argument directly with a generated list. Then I
tried to acccess the list twice in that template, which didn't work.

I'm using stringtemplate-3.0 and here's a group file which fails to
deliver the result I expected:

group simple;
f1() ::= &lt;&lt; &lt;f2([&quot;a&quot;, &quot;b&quot;])&gt; &gt;&gt;
f2(x) ::= &lt;&lt; &lt;x&gt; &lt;x&gt; &gt;&gt;

I'm new to using stringtemplate so I might have made an error here, but
it doesn't print any warning/error messages so I hope that is &quot;good enough&quot;.

Java version of this:

public void templateTest() {
	String templates = &quot;group simple;&quot; +
		&quot;f1() ::= &lt;&lt; &lt;f2([\&quot;a\&quot;, \&quot;b\&quot;])&gt; &gt;&gt;&quot; +
		&quot;f2(x) ::= &lt;&lt; &lt;x&gt; &lt;x&gt; &gt;&gt;&quot;;
	// Use the constructor that accepts a Reader
	StringTemplateGroup group = new StringTemplateGroup(
		new StringReader(templates));
	StringTemplate t = group.getInstanceOf(&quot;f1&quot;);
	System.out.println(t);
}



I expected to get &quot;ab&quot; twice in my output, but I only get it once.
Placing more &lt;x&gt; doesn't change anything so I guess the first one
somehow &quot;consumes&quot; the list (which would seem to be a strange side
effect, at least to me).

&quot;Help meeee&quot; :)

Greetings,
Dennis


</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001278.html">[stringtemplate-interest] ST 3.1 release imminent
</A></li>
	<LI>Next message: <A HREF="001280.html">[stringtemplate-interest] List construction as argument
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1279">[ date ]</a>
              <a href="thread.html#1279">[ thread ]</a>
              <a href="subject.html#1279">[ subject ]</a>
              <a href="author.html#1279">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
