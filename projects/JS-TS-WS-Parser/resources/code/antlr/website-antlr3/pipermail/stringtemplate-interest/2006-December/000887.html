<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] Generating big documents
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=%5Bstringtemplate-interest%5D%20Generating%20big%20documents&In-Reply-To=20061227185118.acb40056%40mail3.videx.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000886.html">
   <LINK REL="Next"  HREF="000888.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] Generating big documents</H1>
    <B>John Snyders</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=%5Bstringtemplate-interest%5D%20Generating%20big%20documents&In-Reply-To=20061227185118.acb40056%40mail3.videx.com"
       TITLE="[stringtemplate-interest] Generating big documents">jjsnyders at rcn.com
       </A><BR>
    <I>Wed Dec 27 13:43:31 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000886.html">[stringtemplate-interest] Generating big documents
</A></li>
        <LI>Next message: <A HREF="000888.html">[stringtemplate-interest] Generating big documents
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#887">[ date ]</a>
              <a href="thread.html#887">[ thread ]</a>
              <a href="subject.html#887">[ subject ]</a>
              <a href="author.html#887">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just because the attributes are given to ST just before the template is
invoked doesn't mean that all the data the attributes represent must be in
memory. The data can be fetched as it is read by template attribute
references. I don't see this as violating the push pattern as long as the
data was generated before the template is invoked and there are no order
dependencies of the attribute properties.

To keep things simple imagine a web request that kicks off a process that
generates a large data file. You can create an object (call it ResultData)
that represents this file and give it to ST as an attribute (called data).
The object has a member (called lines) that implements collection and has an
iterator over the lines of the file. Each time the iterator is used it reads
and returns the next line of the file. The template may look like this

Report foo generated on $data.reportDate$
$data.lines : doLine() }
$footer()$

Disclaimer: I have not done this but see no reason why it won't work.

-John

  -----Original Message-----
  From: <A HREF="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">stringtemplate-interest-bounces at antlr.org</A>
[mailto:<A HREF="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">stringtemplate-interest-bounces at antlr.org</A>]On Behalf Of Adam Bennett
  Sent: Wednesday, December 27, 2006 1:51 PM
  To: <A HREF="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">stringtemplate-interest at antlr.org</A>
  Subject: [stringtemplate-interest] Generating big documents


  Our web application has the ability to generate reports as HTML or XML
documents.  These documents are potentially very large (20MB with some of
our test data).  Early on we had problems with the server running out of
memory while generating these because all the data was brought into memory
from the database.  Our solution was to stream the results from the database
while generating the document.

  Can StringTemplate be used to generate such documents?  I cannot see how
to avoid bringing all the data into memory because StringTemplate requires
all data to be passed as an attribute.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org:8080/pipermail/stringtemplate-interest/attachments/20061227/81fb989e/attachment.html">http://www.antlr.org:8080/pipermail/stringtemplate-interest/attachments/20061227/81fb989e/attachment.html</A> 
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000886.html">[stringtemplate-interest] Generating big documents
</A></li>
	<LI>Next message: <A HREF="000888.html">[stringtemplate-interest] Generating big documents
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#887">[ date ]</a>
              <a href="thread.html#887">[ thread ]</a>
              <a href="subject.html#887">[ subject ]</a>
              <a href="author.html#887">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
