<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] set attributes in two templates from	one rule
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20set%20attributes%20in%20two%20templates%20from%0A%09one%20rule&In-Reply-To=%3C98b396790801092005h2d1a9a63x9007e8f8d9ca91b3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001321.html">
   <LINK REL="Next"  HREF="001323.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] set attributes in two templates from	one rule</H1>
    <B>Sanjay Agravat</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20set%20attributes%20in%20two%20templates%20from%0A%09one%20rule&In-Reply-To=%3C98b396790801092005h2d1a9a63x9007e8f8d9ca91b3%40mail.gmail.com%3E"
       TITLE="[stringtemplate-interest] set attributes in two templates from	one rule">sanjay.agravat at gmail.com
       </A><BR>
    <I>Wed Jan  9 20:05:03 PST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001321.html">[stringtemplate-interest] set attributes in two templates from	one rule
</A></li>
        <LI>Next message: <A HREF="001323.html">[stringtemplate-interest] set attributes in two templates from	one rule
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1322">[ date ]</a>
              <a href="thread.html#1322">[ thread ]</a>
              <a href="subject.html#1322">[ subject ]</a>
              <a href="author.html#1322">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the reply.  I ended up creating an ArrayList to keep track of the
instance vars and that solved the problem.

As a hypothetical question - is it possible to have two StringTemplates to
output from your tree grammar (i.e. one template like JavaBean.stg and the
other one called Main.stg)?

-Sanjay

On Jan 8, 2008 8:46 PM, Terence Parr &lt;<A HREF="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">parrt at cs.usfca.edu</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> On Jan 2, 2008, at 6:32 AM, Sanjay Agravat wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have a template similar to this:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; program (statement, instanceVars) ::= &lt;&lt;
</I>&gt;<i> &gt;   public class Program {
</I>&gt;<i> &gt;     &lt;instanceVars:{i| private &lt;i&gt;;&lt;\n&gt;}&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     &lt;statement; separator=&quot;\n&quot;&gt; &lt;! this is where the inner class is
</I>&gt;<i> &gt; inserted among other possibilities !&gt;
</I>&gt;<i> &gt;   }
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; innerClassDecl(id, attributes) ::= &lt;&lt;
</I>&gt;<i> &gt;   private class &lt;id; format=&quot;capital&quot;&gt;  {
</I>&gt;<i> &gt;     &lt;attributes&gt;
</I>&gt;<i> &gt;   }
</I>&gt;<i> &gt;  &lt;! the alternative to my approach is to create the instanceVar here
</I>&gt;<i> &gt; instead !&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; My situation is that I can't set the instanceVars attribute in the
</I>&gt;<i> &gt; program template until I get to the innerClassDecl rule in my
</I>&gt;<i> &gt; intermediate AST because the inner class should also be an instance
</I>&gt;<i> &gt; variable in the enclosing Program class.  The instanceVars should be
</I>&gt;<i> &gt; set every time an inner class is declared.  The innerClassDecl rule
</I>&gt;<i> &gt; also has to set the statement attribute so I am wondering if it's
</I>&gt;<i> &gt; possible to set two attributes in two different templates even after
</I>&gt;<i> &gt; 1 of the templates has already been defined?  I thought a region
</I>&gt;<i> &gt; would work for me but then had a problem of how to set two
</I>&gt;<i> &gt; attributes (on two different templates) within 1 rule. I'm sure
</I>&gt;<i> &gt; there must be something I'm missing here...
</I>&gt;<i>
</I>&gt;<i> Hi Sanjay, it's a bit unclear what exactly you're trying to do, but in
</I>&gt;<i> general ANTLR+ST decouples the order in which you have to generate
</I>&gt;<i> output.  You compute attributes when it's convenient.  For example,
</I>&gt;<i> set instanceVars last if you want right before toString().  The only
</I>&gt;<i> requirement is that all attributes are set before toString.
</I>&gt;<i>
</I>&gt;<i> Ter
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://www.antlr.org:8080/pipermail/stringtemplate-interest/attachments/20080109/f903a971/attachment.html">http://www.antlr.org:8080/pipermail/stringtemplate-interest/attachments/20080109/f903a971/attachment.html</A> 
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001321.html">[stringtemplate-interest] set attributes in two templates from	one rule
</A></li>
	<LI>Next message: <A HREF="001323.html">[stringtemplate-interest] set attributes in two templates from	one rule
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1322">[ date ]</a>
              <a href="thread.html#1322">[ thread ]</a>
              <a href="subject.html#1322">[ subject ]</a>
              <a href="author.html#1322">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
