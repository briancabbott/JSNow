<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] StringTemplate + Doclet
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20StringTemplate%20%2B%20Doclet&In-Reply-To=%3C4D123CF1.9060009%40clapper.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002851.html">
   <LINK REL="Next"  HREF="002853.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] StringTemplate + Doclet</H1>
    <B>Brian Clapper</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=Re:%20%5Bstringtemplate-interest%5D%20StringTemplate%20%2B%20Doclet&In-Reply-To=%3C4D123CF1.9060009%40clapper.org%3E"
       TITLE="[stringtemplate-interest] StringTemplate + Doclet">bmc at clapper.org
       </A><BR>
    <I>Wed Dec 22 10:01:21 PST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002851.html">[stringtemplate-interest] StringTemplate + Doclet
</A></li>
        <LI>Next message: <A HREF="002853.html">[stringtemplate-interest] StringTemplate + Doclet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2852">[ date ]</a>
              <a href="thread.html#2852">[ thread ]</a>
              <a href="subject.html#2852">[ subject ]</a>
              <a href="author.html#2852">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12/22/10 12:51 PM, Terence Parr wrote:
&gt;<i> 
</I>&gt;<i> On Dec 22, 2010, at 9:38 AM, Brian Clapper wrote:
</I>&gt;&gt;&gt;<i> contract), I ended up using ASM to generate interfaces on the fly, which I then
</I>&gt;&gt;<i> implement via java.lang.reflect.Proxy.
</I>&gt;<i> 
</I>&gt;<i> BTW, for renderers i did == on obj.getClass() not instanceof (which only works
</I>&gt;<i> on class names not Class ptrs).  Is it a serious problem if i don't allow
</I>&gt;<i> instanceof?  Maybe if the model object is hidden by interfaces like jdbc.
</I>&gt;<i> hmm... i'd rather avoid the java.lang.reflect.Proxy stuff.
</I>
I don't use instanceof, so it won't affect me.

I deliberately chose java.lang.reflect.Proxy, for a couple reasons. First,
generating the byte code for an interface, via ASM, is straightforward and
simple. Generating a wrapper class, on the other hand, is more complicated and
annoying. Second, using Proxy to implement an interface on the fly is also
straightforward.

This technique allows for more maintainable code, in my opinion. If I'm going
to resort to generating byte code on the fly, I'd like that part of the
solution to be a dead-simple as possible. Use of Proxy made that possible. If I
weren't generating the byte code for the wrapper interface on the fly, I
wouldn't be using Proxy at all.

If I could get rid of byte code generation entirely, it'd be a real win.
-- 
-Brian

Brian Clapper, <A HREF="http://www.clapper.org/bmc/">http://www.clapper.org/bmc/</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002851.html">[stringtemplate-interest] StringTemplate + Doclet
</A></li>
	<LI>Next message: <A HREF="002853.html">[stringtemplate-interest] StringTemplate + Doclet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2852">[ date ]</a>
              <a href="thread.html#2852">[ thread ]</a>
              <a href="subject.html#2852">[ subject ]</a>
              <a href="author.html#2852">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
