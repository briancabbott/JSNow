<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [stringtemplate-interest] Automatically extracting sub-templates?
	(LONG)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:stringtemplate-interest%40antlr.org?Subject=%5Bstringtemplate-interest%5D%20Automatically%20extracting%20sub-templates%3F%0A%09%28LONG%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000264.html">
   <LINK REL="Next"  HREF="000266.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[stringtemplate-interest] Automatically extracting sub-templates?
	(LONG)</H1>
    <B>Paul Winkler</B> 
    <A HREF="mailto:stringtemplate-interest%40antlr.org?Subject=%5Bstringtemplate-interest%5D%20Automatically%20extracting%20sub-templates%3F%0A%09%28LONG%29&In-Reply-To="
       TITLE="[stringtemplate-interest] Automatically extracting sub-templates?
	(LONG)">pw_lists at slinkp.com
       </A><BR>
    <I>Mon Feb  6 16:53:37 PST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000264.html">[stringtemplate-interest] ST# v2.3b5 (C# StringTemplate)
	nowavailable from the website
</A></li>
        <LI>Next message: <A HREF="000266.html">[stringtemplate-interest] Re: [antlr-interest] Zero based $i$ index
	in StringTemplate 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#265">[ date ]</a>
              <a href="thread.html#265">[ thread ]</a>
              <a href="subject.html#265">[ subject ]</a>
              <a href="author.html#265">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've just today discovered StringTemplate, and am doing preliminary
evaluations of it for company-wide templating. We are building
a large website based on a service-oriented architecture where
some services may be implemented in Java app servers, some may
be Python, etc.  Most of our output will initially be HTML,
but we may target unspecified formats in the future.
So a portable, flexible templating language that allows the
same templates to be used on different platforms / languages
is very desirable.  I like the &quot;push&quot; model too.

My question is this:
Can anyone think of an easy way to automatically extract
sub-templates, given a large template?

Use case:
Designer creates full-page HTML mockup.
Designer creates StringTemplate markup based on that HTML mockup.
Each app renders only small fragments of that page, which are 
assembled by a controller.  

(I'm sure somebody will jump in and say that each app should
only be returning XML or JSON or something, and only one central
view layer should have anything to do with HTML. Yes, well, we may yet
do that, and I'm not even on the architecture team; meanwhile this is
what I've been tasked with investigating.)

Now, I don't want the apps to have to know how to extract just the part
of the template they are interested in and throw away the rest. 
That seems like unnecessary responsibility for each app.
So it would be better to factor out the template into sub-templates
and each app will only use a small template tailor-made for its
fragment of the page.

But neither do I want us to have to manually rewrite some or all of
those subtemplates whenever the visual design changes.  
I've been down the road of
pages-assembled-from-lots-of-tiny-manually-maintained-fragments, and I
do not like it; too fragile, and a pain to figure out which bit of
markup came from which template.

So, I'd prefer to automatically extract the subtemplates whenever the
master template is changed.  There is a layout management application in
this architecture, and it knows which apps are responsible for which
&quot;slots&quot;, so it could be given this responsibility.
  
What I'm trying to figure out is whether there is any feature of
StringTemplate itself that I could leverage for doing the extraction.
I haven't seen any yet, and from all the docs and examples I've seen so
far, it seems not part of the paradigm; &quot;document with holes in
it&quot; doesn't map well to &quot;tree from which you can pick off
branches and treat them as new trees&quot;.

So I'm guessing I may need some other tool and/or mix in some other
markup to do this extraction.  Which shouldn't be hard, but:

Am I missing something? 

FWIW, the other approach we are considering is what we are calling
&quot;element labeling&quot; - a generic name we've given to the approaches taken
by XMLC, PyMeld, and Amrita (and maybe others?).  In that approach, the
nodes are identified by ID; no other special markup goes in the
templates at all; and some view class is responsible for loading the
template and doing something with those nodes.  Very clean separation,
and again it gives us cross-platform templates.  In that approach, it
would be trivial to extract nodes and spit them out as sub-templates.
The down side is that you end up with a fair amount of rather verbose
code in your view classes. (At the same time it reduces the workload for
the HTML designers, so the decision is partly one of human resource
management.)

Would also be interested in strategies others have discovered
in similar scenarios.

-- 

Paul Winkler
<A HREF="http://www.slinkp.com">http://www.slinkp.com</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000264.html">[stringtemplate-interest] ST# v2.3b5 (C# StringTemplate)
	nowavailable from the website
</A></li>
	<LI>Next message: <A HREF="000266.html">[stringtemplate-interest] Re: [antlr-interest] Zero based $i$ index
	in StringTemplate 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#265">[ date ]</a>
              <a href="thread.html#265">[ thread ]</a>
              <a href="subject.html#265">[ subject ]</a>
              <a href="author.html#265">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://www.antlr.org:8080/mailman/listinfo/stringtemplate-interest">More information about the stringtemplate-interest
mailing list</a><br>
</body></html>
