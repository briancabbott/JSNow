---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":105,"creation_ts":"2011-06-09 10:59:00 -0700","short_desc":"Missing coverage? https://bugs.webkit.org/show_bug.cgi?id=55537","delta_ts":"2012-01-09 17:54:19 -0800","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"WONTFIX","priority":"Normal","bug_severity":"minor","everconfirmed":true,"reporter":{"uid":"dfugate","name":"Dave Fugate"},"assigned_to":{"uid":"dfugate","name":"Dave Fugate"},"cc":"erights","long_desc":[{"commentid":228,"comment_count":0,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2011-06-09 10:59:02 -0700","thetext":"<Thanks>Mark Miller</Thanks>\n\nWe might be missing coverage for the following test scenario.  Add test case(s)\nassuming this scenario can be mapped to ES5.1 somewhere\n--------------------------------------------------------------------------\n*See\nhttp://codereview.appspot.com/4547070/diff/6003/src/com/google/caja/ses/es5shim.js?context=10&column_width=80\nfor the original*\n\n61 * Workaround for https://bugs.webkit.org/show_bug.cgi?id=55537\n\n62 *\n\n63 * <p>This kludge is safety preserving.\n\n64 *\n\n65 * <p>TODO(erights): Turning on this kludge is expensive, so we\n\n66 * should auto-detect at initialization time whether we need to on\n\n67 * this platform.\n\nihab.awad2011/06/02 04:42:26Isn't this TODO already to-done by the test_* func\nMarkM2011/06/05 17:38:18Done.\n\n68 */\n\n69 function test_MISSING_CALLEE_DESCRIPTOR() {\n\n70 function foo(){}\n\n71 if (Object.getOwnPropertyNames(foo).indexOf('callee') < 0) { return false; }\n\n72 if (foo.hasOwnProperty('callee')) {\n\n73 log('New symptom: empty strict function has own callee');\n\n74 } else {\n\n75 log('Phantom callee on strict functions. ' +\n\n76 'See https://bugs.webkit.org/show_bug.cgi?id=55537');\n\n77 }\n\n78 return true;\n\n79 }\n\n80 //var TOLERATE_MISSING_CALLEE_DESCRIPTOR = false;\n\nihab.awad2011/06/02 04:42:26Why not just delete these commented-out lines now?\nMarkM2011/06/05 17:38:18Done.\n\n81 var TOLERATE_MISSING_CALLEE_DESCRIPTOR = test_MISSING_CALLEE_DESCRIPTOR();"},{"commentid":546,"comment_count":1,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2012-01-09 14:47:11 -0800","thetext":"We don't actually have coverage for this one, and we also shouldn't in test262...\n\nFrom my read of ES5.1, the only references to 'callee' are in relation to the Arguments object circa 10.6-(13|14).  Function objects are not defined to have 'callee' properties anywhere in the spec => the extension clause does not limit an implementer from doing this.  Resolving this one as Won't Fix.  That said, I would not be opposed to a test case in the 'best practices' section of test262 covering this."},{"commentid":550,"comment_count":2,"who":{"uid":"erights","name":"Mark S. Miller"},"bug_when":"2012-01-09 17:54:19 -0800","thetext":"Hi David, I think you're misreading the nature of the bug. Although the problem happens to manifest for a property named \"callee\", the fact that it is a spec violation has nothing to do with the name of the property. If a property named \"foo\" caused the same spec violation, it would still be a spec violation we should test for.\n\nIn this case, I'm mellow about it since the bug only ever manifested on Safari and it is already fixed as of WebKit Nightly."}]}}
---
