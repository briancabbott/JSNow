---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3746,"creation_ts":"2015-02-04 13:24:00 -0800","short_desc":"Module Records need a realm property","delta_ts":"2015-02-19 19:11:13 -0800","product":"Draft for 6th Edition","component":"Modules","version":"Rev 32: February 2, 2015 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"dherman","name":"Dave Herman"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["brendan","dherman","jorendorff","samth"],"long_desc":[{"commentid":12105,"comment_count":0,"who":{"uid":"dherman","name":"Dave Herman"},"bug_when":"2015-02-04 13:24:17 -0800","thetext":"Module Records need a [[Realm]] property to close over the realm they come from. This is used for constructing the lexical environment of the module, which affects evaluation of the module's top-level code as well as closures defined in the module.\n\nIn addition to adding the [[Realm]] property, the spec changes needed include:\n\n- when parsing to construct a new Module Record, properly initialize the [[Realm]] property\n- instantiation and evaluation of modules should consult the module record's [[Realm]] property\n- when calling ModuleNamespaceCreate, use the [[Realm]] property of the module record\n\nSee https://gist.github.com/dherman/cad85565e0eb16d0a22d for details.\n\nDave"},{"commentid":12860,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-17 17:30:51 -0800","thetext":"fixed in rev34 editor's draft"},{"commentid":13169,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-19 19:11:13 -0800","thetext":"fixed in rev34"}]}}
---
