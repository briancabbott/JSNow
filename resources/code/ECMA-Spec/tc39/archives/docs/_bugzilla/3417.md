---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3417,"creation_ts":"2014-12-08 04:43:00 -0800","short_desc":"18.2.6.1.2: refer to the Encoding Standard’s definition of UTF-8","delta_ts":"2015-02-13 18:04:38 -0800","product":"Draft for 7th Edition","component":"Deferred from 6th edition","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"CONFIRMED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"mathias","name":"Mathias Bynens"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["annevk","mathias"],"long_desc":[{"commentid":10936,"comment_count":0,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2014-12-08 04:43:31 -0800","thetext":"> A formal description and implementation of UTF-8 is given in RFC 3629.\n> In UTF-8, characters are encoded using sequences of 1 to 6 octets. \n\nWhy not refer to The Encoding Standard (https://encoding.spec.whatwg.org/#utf-8) rather than RFC 3629?\n\nThen you can replace “sequences of 1 to 6 octets” with “sequences of 1 to 4 octets” which matches table 40."},{"commentid":10937,"comment_count":1,"who":{"uid":"annevk","name":"Anne van Kesteren"},"bug_when":"2014-12-08 04:49:04 -0800","thetext":"Note that the RFC has the same byte restriction, but that in particular for error handling the Encoding Standard is a better reference, since it says exactly how many U+FFFD can be produced for decoding purposes."},{"commentid":12617,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-13 18:04:38 -0800","thetext":"This is all legacy ES specification language that isn't going to change for ES6.  I'll move this bug to ES7 in case somebody want to explore it in that context.\n\nA issue is that we want to preserve the legacy behavior described by these ES algorithms (even if it is different from the Encoding standard's definition).  Before changing normative references or replacing the algorithms in this section with references to other algorithms, somebody would need to verify that there were no observable differences in the results produced."}]}}
---
