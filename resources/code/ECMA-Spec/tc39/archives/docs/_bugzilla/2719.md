---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2719,"creation_ts":"2014-04-24 05:27:00 -0700","short_desc":"7.5.3  PromiseOf: Apply same optimization as in Promise.resolve?","delta_ts":"2015-01-13 16:34:08 -0800","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 23: April 5, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"WONTFIX","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":7895,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2014-04-24 05:27:09 -0700","thetext":"7.5.3  PromiseOf (value) Abstaction Operation.\n\nThe NOTE describes PromiseOf to be functionally equivalent to Promise.resolve, but Promise.resolve does the same Promise constructor optimization which is not performed in PromiseOf. \nDoes this optimization also need to be applied to PromiseOf? Or does the note need to be updated?"},{"commentid":8587,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-05-22 12:29:02 -0700","thetext":"fixed in rev25 editor's draft\n\nnon of the internal uses of PromiseOf should be passing a Promise as the argument to PromiseOf.  Added an assert concerning this to PromiseOf"},{"commentid":8588,"comment_count":2,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2014-05-22 12:45:06 -0700","thetext":"(In reply to comment #1)\n> non of the internal uses of PromiseOf should be passing a Promise as the\n> argument to PromiseOf.  Added an assert concerning this to PromiseOf\n\nWhat about 26.3.3.11 Reflect.Loader.prototype.module? The input argument \"source\" is directly passed to PromiseOf.\n\nTest case: https://github.com/anba/es6draft/blob/master/src/test/scripts/suite/regress/bug2719.js"},{"commentid":8589,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-05-22 15:14:12 -0700","thetext":"maybe, but I don't consider any of the module loader stuff to be final enough to really draw any conclusions from it.  If it really can be a promise and that's the only case where that occurs. I may do a IsPromise check in Module.\n\nI'll eave this bug open as a reminder to come back and check it after some module progress."},{"commentid":11346,"comment_count":4,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-01-13 16:34:08 -0800","thetext":"PromiseOf is long gone."}]}}
---
