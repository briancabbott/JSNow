---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2054,"creation_ts":"2013-10-07 01:35:00 -0700","short_desc":"19.1.4.6 Object.prototype.toString ( ): remove \"Math\" and \"JSON\" from censored list","delta_ts":"2013-10-29 09:46:15 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 19: September 27, 2013 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":5841,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2013-10-07 01:35:14 -0700","thetext":"Math and JSON are no longer special cased in 19.1.4.6, but instead use the general @@toStringTag mechanism. But per the restriction in step 18.e `Math.toString()` currently returns `\"[object ~Math]\"`. \n\n\n\nAlso the NOTE isn't actually accurate anymore:\n> The above definition of toString preserves the ability to use it as a reliable test\n> for those specific kinds of built-in objects but it does not provide a reliable type\n> testing mechanism for other kinds of built-in or program defined objects.\n\njs> Object.defineProperty(Math, Symbol.toStringTag, {value: \"NotMath\"}).toString()\n\"[object NotMath]\"\n\nIIRC the current censoring approach is not yet set in stone, just a heads-up from me."},{"commentid":5862,"comment_count":1,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2013-10-07 13:10:41 -0700","thetext":"(In reply to comment #0)\n> Also the NOTE isn't actually accurate anymore:\n\nAh, manual @@toStringTag overrides are considered ok (bug 1459, comment 3), didn't remember that one when reporting this bug."},{"commentid":5899,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-10-11 09:04:34 -0700","thetext":"fixed in rev20 editor's draft\n\n[[Class]] tagging for Math and JSON was added in ES5 specifically to support toString. Prior to that they were [[Class]]==\"Object\"  I don't think any one currently can rely on the toString result for those objects."},{"commentid":6125,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-10-29 09:46:15 -0700","thetext":"fixed in rev20 draft, Oct. 28, 2013"}]}}
---
