---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1584,"creation_ts":"2013-07-16 07:49:00 -0700","short_desc":"ToNumber should support binary and octal literals","delta_ts":"2015-07-10 08:35:05 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 15: May 14, 2013 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"DUPLICATE","dup_id":3259,"priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"arv","name":"Erik Arvidsson"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["claude.pache","erik.arvidsson","mathias","waldron.rick"],"long_desc":[{"commentid":4534,"comment_count":0,"who":{"uid":"arv","name":"Erik Arvidsson"},"bug_when":"2013-07-16 07:49:28 -0700","thetext":"9.1.3.1 - ToNumber Applied to the String Type\n\nThe spec needs to be updated to support OctalIntegerLiteral and BinaryIntegerLiterals in the Number function\n\nassert(3 === Number('0b11'))\nassert(63 === Number('0o77'))"},{"commentid":7803,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-04-17 14:41:12 -0700","thetext":"At the April 2014 TC39 meeting we convinced ourselves that that it would be an undesirable breaking change for parseInt to recognize these new forms. https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-04/apr-9.md#46-updates-to-parseint \n\nI don't really see why it would be any better for Number to accept them."},{"commentid":7805,"comment_count":2,"who":{"uid":"arv","name":"Erik Arvidsson"},"bug_when":"2014-04-17 16:56:32 -0700","thetext":"Number(s) has always been the reverse of Number.prototype.toString. It is used to accept valid number literals as text. Therefore it should continue to match the syntax of number literals."},{"commentid":7825,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-04-18 13:30:22 -0700","thetext":"(In reply to comment #2)\n> Number(s) has always been the reverse of Number.prototype.toString.\n\nHow so, ES<6 N.p.toString doesn't produce HexIntegerLiteral (or legacy OctalEscapeLiteral)\n\n> It is used\n> to accept valid number literals as text. Therefore it should continue to match\n> the syntax of number literals.\n\nI don't see anything in previous editions that says that ToNumber (or the Number constructor that is defined in terms of ToNumber) matches the same syntax as the ECMAScript Language NumericLiteral.  In fact, ToNumber has always had it's own distinct grammar.\n\nJust like for parseInt, changing the ToNumber grammar could be a breaking change for some existing code."},{"commentid":7828,"comment_count":4,"who":{"uid":"arv","name":"Erik Arvidsson"},"bug_when":"2014-04-18 14:59:18 -0700","thetext":"(In reply to comment #3)\n> (In reply to comment #2)\n> > Number(s) has always been the reverse of Number.prototype.toString.\n> \n> How so, ES<6 N.p.toString doesn't produce HexIntegerLiteral (or legacy\n> OctalEscapeLiteral)\n\nYou are right. I don't know what I was thinking.\n\n> \n> > It is used\n> > to accept valid number literals as text. Therefore it should continue to match\n> > the syntax of number literals.\n> \n> I don't see anything in previous editions that says that ToNumber (or the\n> Number constructor that is defined in terms of ToNumber) matches the same\n> syntax as the ECMAScript Language NumericLiteral.  In fact, ToNumber has always\n> had it's own distinct grammar.\n\nBut these grammars have always been in sync.\n\n\n> Just like for parseInt, changing the ToNumber grammar could be a breaking\n> change for some existing code.\n\nI think it is not fair to compare with parseInt. parseInt is very lenient. It accepts any kind of junk at the end of the string. Number has always only accepted strings that fully matches the grammar."},{"commentid":10214,"comment_count":5,"who":{"uid":"arv","name":"Erik Arvidsson"},"bug_when":"2014-09-19 13:59:52 -0700","thetext":"I would like to resolve this soon. Maybe we can take this up again at the face-to-face meeting next week?"},{"commentid":10248,"comment_count":6,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2014-09-27 09:14:06 -0700","thetext":"Marking as IN_PROGRESS as per the September 23 meeting."},{"commentid":10249,"comment_count":7,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-09-27 10:53:45 -0700","thetext":"sorry, for ES6 drafts \"IN_Progress\" means that the fix has been integrated into the editor's current working drat.\n\nSetting status back to \"Confirmed\""},{"commentid":10500,"comment_count":8,"who":{"uid":"claude.pache","name":"Claude Pache"},"bug_when":"2014-10-14 16:17:13 -0700","thetext":"Fixed in rev 28\n\n*** This bug has been marked as a duplicate of bug 3259 ***"}]}}
---
