---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1213,"creation_ts":"2013-01-23 12:04:00 -0800","short_desc":"ES6 allows prototype of non-extensible object can be mutated","delta_ts":"2013-07-15 17:03:53 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 13: December 21, 2012 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":"sureshja","assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":3143,"comment_count":0,"who":"sureshja","bug_when":"2013-01-23 12:04:58 -0800","thetext":"According to the spec draft, changing __proto__ does not check [[Extensible]].\nThis allows prototype of non-extensible object can be mutated. We want to know\nif this is intentional ? If not can we get this addressed in the spec. Here is\nthe relevant section of the ES6 Dec draft spec :\n\n>>Section B.3.1.2\nThe definition of the [[Put]] internal method given in 8.12.5 is replaced with \nthe following:\n1. If P is the string value \"__proto__\" and UnderscoreProtoEnabled is true and \n   O is not the standard built-in Object prototype object, then\n   a. Let desc be the result of calling the [[GetProperty]] internal method of \n      O with property name P.\n   b. If desc is not undefined and was created by step 1.a to describe the\n      property defined in B.3.1.1 then,\n      i.If the type of V is neither Object or Null, return\n      ii.Set the value of the [[Prototype]] internal property of O to V.\n      iii.Return.\n2. Continue by executing the steps of 8.12.5 starting with step 1.\n>>\n\nThe references to 8.12.5 (for [[PUT]] ) is no more valid in the Dec 2012 draft as the section numbers were jumbled. The section number references need to be updated in B.3.1"},{"commentid":4341,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-06-30 13:50:10 -0700","thetext":"This is now taken care of in the [[SetInheritance]] internal method"},{"commentid":4455,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-07-15 17:03:53 -0700","thetext":"fixed in rev16 draft.  July 15, 2013"}]}}
---
