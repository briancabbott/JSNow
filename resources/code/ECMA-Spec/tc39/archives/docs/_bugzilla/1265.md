---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1265,"creation_ts":"2013-03-08 10:49:00 -0800","short_desc":"remove seal/freeze operations from the internal MOP and proxy/Reflect APIs","delta_ts":"2013-07-15 17:03:25 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 13: December 21, 2012 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"allen","name":"Allen Wirfs-Brock"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":"tomvc.be","long_desc":[{"commentid":3308,"comment_count":0,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-03-08 10:49:25 -0800","thetext":"tomvc said:\n\n8.5.14 Proxy [[Freeze]]\n8.5.15 Proxy [[Seal]]\n8.5.16 Proxy [[IsFrozen]]\n8.5.17 Proxy [[IsSealed]]\n\nI think I'm ready to give up on all of these (and so drop these methods from the internal MOP and the Reflect module altogether).\n\n(although I don't agree with your Comment[56-57-58] that keeping them would entail a lot of additional invariant checks: the checks are still there even without these internal methods, they're just performed implicitly by the Object.freeze algorithm when it loops over all the properties and calls [[DefineOwnProperty]] for each property)\n\n------\n\nIn terms of rev 14, we could revert [[HasIntegrity]]/[[SetIntegrity]] back to [[IsExtensible]]/[[PreventExtensions]]"},{"commentid":3428,"comment_count":1,"who":{"uid":"tomvc.be","name":"Tom Van Cutsem"},"bug_when":"2013-03-12 09:31:28 -0700","thetext":"I just had a look at the Rev14 draft.\n\nIn this draft, since Object.defineProperty does not actually check or set the integrity level, Object.isFrozen is changed in a backwards-incompatible way as discussed on es-discuss: <https://mail.mozilla.org/pipermail/es-discuss/2013-February/028854.html>\n\nIs the plan really to proceed down this path? From your comment, it seems like the change might be reverted.\n\nIn any case, do you feel that the simplification of consolidating freeze/seal/preventExtensions is really worth the backwards-incompatible change? I feel like it is not. In addition, this change breaks the 1-to-1 correspondence between internal methods and user-facing APIs (on Object, Proxy handlers and Reflect)."},{"commentid":3489,"comment_count":2,"who":{"uid":"tomvc.be","name":"Tom Van Cutsem"},"bug_when":"2013-03-18 12:30:48 -0700","thetext":"I withdraw my earlier comment. I now understand where you want to go with this. I agree with moving back to [[IsExtensible]]/[[PreventExtensions]] MOP methods."},{"commentid":4319,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-06-24 16:54:43 -0700","thetext":"fixed in rev16 editor's draft"},{"commentid":4407,"comment_count":4,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-07-15 17:03:25 -0700","thetext":"fixed in rev16 draft.  July 15, 2013"}]}}
---
