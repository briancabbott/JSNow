---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":4080,"creation_ts":"2015-02-23 08:18:00 -0800","short_desc":"7.4.8 + 7.4.9 + more: \"a new built-in function object\"","delta_ts":"2015-03-16 11:32:58 -0700","product":"Draft for 6th Edition","component":"editorial issue","version":"Rev 35: March 4, 2015 Release Candidate 2","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"jmdyck","name":"Michael Dyck"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":13256,"comment_count":0,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2015-02-23 08:18:03 -0800","thetext":"7.4.8 \"CreateListIterator ( list )\" / step 4\nand\n7.4.9 \"CreateCompoundIterator ( iterator1, iterator2 )\" / step 5\nboth say:\n    Let next be a new built-in function object as defined in ...\n\nIn both cases, \"a new built-in function object ...\" should probably be changed to an invocation of CreateBuiltinFunction."},{"commentid":13257,"comment_count":1,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2015-02-23 08:34:12 -0800","thetext":"Similarly in:\n  25.4.1.3   / step 2\n  25.4.1.3   / step 5\n  25.4.1.5   / step 4\n  25.4.4.1.1 / step 6.k\n  26.2.2.1   / step 3"},{"commentid":13262,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-23 16:30:31 -0800","thetext":"fixed in rev35 editor's draft\n\nThe clause 24 and 25 meanings is defined in paragraph 10 of clause 17:\n\nUnless otherwise specified, each built-in function defined in clauses 18 through 26 is created as if by calling the CreateBuiltinFunction abstract operation (9.3.3).\n\nI changed it to:\n\nUnless otherwise specified, each built-in function defined in this specification is created as if by calling the CreateBuiltinFunction abstract operation (9.3.3).\n\nAlso added a similar paragraph to 9.3.3"},{"commentid":13274,"comment_count":3,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2015-02-23 19:02:36 -0800","thetext":"Are you saying that those changes to clauses 17 and 9.3.3 constitute the 'fix',\nor they're in addition to explicitly invoking CreateBuiltinFunction at the 7 algorithm steps I noted?"},{"commentid":13276,"comment_count":4,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-24 09:43:51 -0800","thetext":"(In reply to Michael Dyck from comment #3)\n> Are you saying that those changes to clauses 17 and 9.3.3 constitute the\n> 'fix',\n> or they're in addition to explicitly invoking CreateBuiltinFunction at the 7\n> algorithm steps I noted?\n\nI think the clause 9.3.3 and clause 17 changes are sufficient. Basically all algorithmically specified built-in functions are defined using CreateBuiltinFunction. \n\nThe header of 7.4.8.1 and 7.4.9.1 say:\n\nThe <interatorkind> next method is a standard built-in function object (clause 17) ...\n\nthat is intended to be enough to imply the CreateBuiltinFunction requirement"},{"commentid":13289,"comment_count":5,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2015-02-24 11:24:53 -0800","thetext":"Please note that my point is *not* \"the spec is unclear as to whether CreateBuiltinFunction is involved in the creation of these particular functions\",\nmy point is \"when you have a step that creates a built-in function, it would be better to invoke CreateBuiltinFunction explicitly rather than implicitly\". (For one thing, doing so would specify the new function's [[Realm]], which I don't think is specified elsewhere.)\n\nDo you think implicit is preferable in such cases?\n\n(And, just be really clear, I'm *not* suggesting that the invocations implied by 8.2.2 step 13 be made explicit.)"},{"commentid":13526,"comment_count":6,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-03-04 18:58:19 -0800","thetext":"fixed in rev35"},{"commentid":13592,"comment_count":7,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2015-03-05 20:39:40 -0800","thetext":"It would be nice to get a response to comment #5.\n\nWhile the changes are an improvement, I don't agree they're a fix."},{"commentid":13698,"comment_count":8,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-03-11 14:01:37 -0700","thetext":"(In reply to Michael Dyck from comment #7)\n> It would be nice to get a response to comment #5.\n> \n\n\nI think implicit is fine and good enough for this edition."},{"commentid":13700,"comment_count":9,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2015-03-11 16:54:15 -0700","thetext":"So it wouldn't be out of line to suggest it for the next edition?"},{"commentid":13748,"comment_count":10,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-03-16 11:32:58 -0700","thetext":"(In reply to Michael Dyck from comment #9)\n> So it wouldn't be out of line to suggest it for the next edition?\n\nFeel free"}]}}
---
