---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":463,"creation_ts":"2012-07-08 04:56:00 -0700","short_desc":"String.prototype HTML methods in Annex B should escape \" as &quot; in argument values for security reasons","delta_ts":"2012-07-08 15:56:59 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 8: June 15, 2012 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"DUPLICATE","dup_id":406,"see_also":"https://bugzilla.mozilla.org/show_bug.cgi?id=352437","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"mathias","name":"Mathias Bynens"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":"mathias","long_desc":[{"commentid":1146,"comment_count":0,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2012-07-08 04:56:11 -0700","thetext":"Following the algorithms of these methods in the current ES6 draft:\n\n> '_'.link('a\"b')\n'<a href=\"a\"b\">_</a>'\n\nHowever, this would be a better result:\n\n> '_'.link('a\"b')\n'<a href=\"a&quot;b\">_</a>'\n\nThe problem here is \" doesn’t escape into &quot; at the moment, which is a potential security risk (XSS vector).\n\nFor this reason, Chrome/V8 escapes \" into &quot;. Firefox/Spidermonkey is going to change its behavior to do the same: https://bugzilla.mozilla.org/show_bug.cgi?id=352437 Opera/Carakan will change its behavior too, as soon as other browsers change (bug DSK-369206). The IE bug is here: https://connect.microsoft.com/IE/feedback/details/752391\n\nhttp://mathias.html5.org/specs/javascript/#escapeattributevalue requires escaping the \".\n\nTests: http://mathias.html5.org/tests/javascript/string/\n\nHere’s a list of the methods that have this issue:\n\n* String.prototype.anchor(name)\n* String.prototype.fontcolor(color)\n* String.prototype.fontsize(size)\n* String.prototype.link(href)"},{"commentid":1183,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2012-07-08 15:56:59 -0700","thetext":"\n\n*** This bug has been marked as a duplicate of bug 406 ***"}]}}
---
