---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1684,"creation_ts":"2013-07-31 06:54:00 -0700","short_desc":"15.14.1.1, 15.15.1.1: Missing ToObject() calls in {Weak}Map constructor","delta_ts":"2013-08-23 08:22:13 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 16: July 15, 2013 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":4660,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2013-07-31 06:54:26 -0700","thetext":"15.14.1.1, step 12h and step 12j both call Get() on the nextItem variable, but nextItem can have any value whereas Get() only operates on objects. Therefore add an additional step after 12f to call ToObject():\n\nf.  Let nextItem be IteratorValue(next).\ng.  Let nextItem be ToObject(nextItem).\nh.  ReturnIfAbrupt(nextItem)."},{"commentid":4661,"comment_count":1,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2013-07-31 06:57:55 -0700","thetext":"Also applies to 15.15.1.1 WeakMap constructor"},{"commentid":4954,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-08-16 16:23:22 -0700","thetext":"fixed in rev17 editor's draft"},{"commentid":5047,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-08-23 08:22:13 -0700","thetext":"fixed in rev17, August 23, 2013 draft"}]}}
---
