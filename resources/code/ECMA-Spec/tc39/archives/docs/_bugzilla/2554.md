---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2554,"creation_ts":"2014-02-17 13:12:00 -0800","short_desc":"indexOfIdentical uses reference comparison instead of equality comparison","delta_ts":"2015-10-02 14:36:16 -0700","product":"Harmony","component":"proposals","version":"Initial draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"INVALID","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"markcial","name":"Marc Garcia"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":7350,"comment_count":0,"who":{"uid":"markcial","name":"Marc Garcia"},"bug_when":"2014-02-17 13:12:12 -0800","thetext":"when using object as a key, if the key is not the same instance of object, map doesn't found related enty, there is a need for exact object, would be better to have equality comparison\n\n// it works\nvar map = new Map();\nvar k = {'x':5};\nmap.set(k,'foo');\nconsole.log(map.get(k));\n\n// it does not work\nvar map = new Map();\nmap.set({'x':5},'foo');\nconsole.log(map.get({'x':5}));"},{"commentid":7355,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-02-17 15:30:14 -0800","thetext":"This is by design and won't change for ES6.\n\nIt's possible that in the future the Map constructor might be extended to accept an optional comparisons function.  This would require someone developing a more comprehensive proposal for such an extension."},{"commentid":14746,"comment_count":2,"who":{"uid":"brterlso","name":"Brian Terlson"},"bug_when":"2015-10-02 14:36:16 -0700","thetext":"Bulk closing all Harmony bugs. Proposals should be tracked on GitHub. The ES wiki is completely defunct at this point."}]}}
---
