---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":525,"creation_ts":"2012-07-12 16:25:00 -0700","short_desc":"Issues in section 6","delta_ts":"2014-07-27 22:05:51 -0700","product":"Draft for 6th Edition","component":"editorial issue","version":"Rev 9: July 8, 2012 Draft","rep_platform":"All","op_sys":"All","bug_status":"VERIFIED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"ecmascriptbugs","name":"Norbert"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":1304,"comment_count":0,"who":{"uid":"ecmascriptbugs","name":"Norbert"},"bug_when":"2012-07-12 16:25:58 -0700","thetext":"(1) see bug 524.\n\n(2) Replace \"The phrase “Unicode character” refer to the abstract linguistic or typographical unit represented by a single Unicode scalar value.\" with \"All Unicode code point values from U+0000 to U+10FFFF, including surrogate code points, may occur in source text where permitted by the grammar.\"\n\n(3) Remove \"Any well defined encoding such as UTF-32 or UTF-16 may be used. Source text might even be externally represented using a non-Unicode character encoding.\" Since the sentence before says it's not relevant, we don't need to discuss it.\n\n(4) Remove  \"Each source character being an abstract Unicode characters with a corresponding Unicode scalar value.\" Code point is all we need.\n\n(5) Remove the paragraph \"The phrase “code point” ....\". It's partially wrong (Unicode scalar values are a proper subset of Unicode code points), and we don't need it.\n\n(6) The description of Unicode escape sequences has to allow for expression of a single (supplementary) code point by a sequence of two old-style Unicode escape sequences, e.g., \"\\u{10000}\" === \"\\uD800\\uDC00\"."},{"commentid":1305,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2012-07-12 19:01:59 -0700","thetext":"(In reply to comment #0)\n...\n> \n> (6) The description of Unicode escape sequences has to allow for expression of\n> a single (supplementary) code point by a sequence of two old-style Unicode\n> escape sequences, e.g., \"\\u{10000}\" === \"\\uD800\\uDC00\".\n\nI don't necessarily agree. See discussion under https://bugs.ecmascript.org/show_bug.cgi?id=469 \n\nBasically, the only places in current implementations where a sequence old-style Unicode escape sequences that form a valid surrogate pair is equivalent to the literal appearance of the corresponding supplementary character is in a string or regexp literal. In particular such a sequence in an IdentiferName always results in a syntax error, even if the supplementary character is an ID_Start or ID_Continue.  For example,\n    var x\\uD87E\\uDC00;\n\nreportedly produces an early error in current browsers, even though U+2F800 is a valid ID_Continue character as of Unicode 3.1.  So, this doesn't appear to be a backwards compat. issues.\n\nThe current draft deals with such sequences in sting literals  and quasis and in the future RegExp literals.  It isn't clear that they need to be allowed out side of such literal contexts."},{"commentid":1364,"comment_count":2,"who":{"uid":"ecmascriptbugs","name":"Norbert"},"bug_when":"2012-07-17 17:44:23 -0700","thetext":"(In reply to comment #1)\n\nThis bug is about clause 6, which covers source text in general. Its third paragraph says \"In string literals, regular expression literals,quasi literals and identifiers, any Unicode characters may also be expressed as a Unicode escape sequence that explicitly express a code point’s numeric value. \"\n\nThe text assumes a 1:1 match between Unicode escape sequences and code points. I think we have agreement that in at least some of the situations mentioned a pair of Unicode escape sequences can be used to express a code point."},{"commentid":5953,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-10-22 15:05:37 -0700","thetext":"fixed in rev20 editor's draft"},{"commentid":6071,"comment_count":4,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-10-29 09:45:26 -0700","thetext":"fixed in rev20 draft, Oct. 28, 2013"},{"commentid":9634,"comment_count":5,"who":{"uid":"ecmascriptbugs","name":"Norbert"},"bug_when":"2014-07-27 22:05:51 -0700","thetext":"Verified in rev 26 draft."}]}}
---
