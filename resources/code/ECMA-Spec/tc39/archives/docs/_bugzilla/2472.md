---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2472,"creation_ts":"2014-01-28 07:10:00 -0800","short_desc":"12.1.5.8 PropertyDefinitionEvaluation: Updating [[HomeObject]] for anonymous Function/GeneratorExpression inconsistent?","delta_ts":"2014-04-07 22:22:12 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 22: January 20, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":7137,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2014-01-28 07:10:47 -0800","thetext":"12.1.5.8 Runtime Semantics: PropertyDefinitionEvaluation\n- PropertyDefinition : PropertyName : AssignmentExpression\n\nUpdating [[HomeObject]] for Function/GeneratorExpressions only if they're anonymous looks a bit strange. I wonder if [[HomeObject]] should be set here at all.\n\nTest case for the current behaviour:\n---\nlet obj = {\n  __proto__: {\n    a: () => \"A\",\n    b: () => \"B\",\n  },\n  a: function a() { return super() },\n  b: function() { return super() },\n};\n\nobj.a(); // throws a ReferenceError because [[HomeObject]] not set, cf. 8.1.2.4 NewFunctionEnvironment\nobj.b(); // returns \"B\" because [[HomeObject]] was set in 12.1.5.8\n---"},{"commentid":7625,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-04-07 22:22:12 -0700","thetext":"I'm not sure why it is testing for anonymous, and it doesn't seem right to me.\n\nThe intend was to test for an actual literal function expression and only binding the home for those.  the a and b property functions should both get bound in your eample.  however, if there was an additional property\n   c: c   //this doesn't get its home bound.  It would require an explicit toMethod\n\nwhere \n  let c= function() {return super()} \n\n\n\nThe above is basically what Rev23 does do I'm going to resolve this as fixed.\n\nReopen it if you this there is still an issue after you look at rev23."}]}}
---
