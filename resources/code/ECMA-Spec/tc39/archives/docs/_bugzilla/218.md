---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":218,"creation_ts":"2011-10-20 21:18:00 -0700","short_desc":"S15.10.4.1_A3_T1 ~ S15.10.4.1_A3_T5 and S15.10.4.1_A4_T2, T3, T5, empty String RegExp pattern source is \"(:?)\"","delta_ts":"2012-01-12 16:40:19 -0800","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"utatane.tea","name":"Yusuke Suzuki"},"assigned_to":{"uid":"dfugate","name":"Dave Fugate"},"long_desc":[{"commentid":502,"comment_count":0,"attachid":"8","who":{"uid":"utatane.tea","name":"Yusuke Suzuki"},"bug_when":"2011-10-20 21:18:27 -0700","thetext":"Created attachment 8\npatch for this issue\n\nAccording to section 15.10.4.1\nhttp://es5.github.com/#x15.10.4.1\n\n  let P be the empty String if pattern is undefined\nthen, P is empty String \"\".\n\nAnd,\n  If P is the empty String, this specification can be met by letting S be \"(?:)\".\nthen, S is string \"(?:)\".\n\nAnd,\n  The source property of the newly constructed object is set to S.\n\nSo, new RegExp().source is \"(:?)\"."},{"commentid":595,"comment_count":1,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2012-01-12 16:40:19 -0800","thetext":"Exceptional spot Yusuke, and all browsers I tried this on get it wrong.  I've added a regression to ensure RegExp().source!===\"\" and this will be a part of Microsoft's next contribution to test262.\n\nWhile 15.10.4.1 recommends empty RegExp's source properties be \"(?:)\", the wordage doesn't actually require this.  Consequently, I've simply removed the checks for '*.source === \"\"' in the Sputnik tests."}],"attachment":[{"_attributes":{"isobsolete":"0","ispatch":"0"},"attachid":"8","date":"2011-10-20 21:18:00 -0700","delta_ts":"2011-10-20 21:18:27 -0700","desc":"patch for this issue","filename":"res.patch","type":"application/octet-stream","size":"5728","attacher":{"_attributes":{"name":"Yusuke Suzuki"},"_text":"utatane.tea"},"data":{"_attributes":{"encoding":"base64"},"_text":"ZGlmZiAtLWdpdCBhL3Rlc3Qvc3VpdGUvY2gxNS8xNS4xMC8xNS4xMC40L1MxNS4xMC40LjFfQTNf\nVDEuanMgYi90ZXN0L3N1aXRlL2NoMTUvMTUuMTAvMTUuMTAuNC9TMTUuMTAuNC4xX0EzX1QxLmpz\nCi0tLSBhL3Rlc3Qvc3VpdGUvY2gxNS8xNS4xMC8xNS4xMC40L1MxNS4xMC40LjFfQTNfVDEuanMK\nKysrIGIvdGVzdC9zdWl0ZS9jaDE1LzE1LjEwLzE1LjEwLjQvUzE1LjEwLjQuMV9BM19UMS5qcwpA\nQCAtNiwxNyArNiwxNyBAQAogICoKICAqIEBwYXRoIGNoMTUvMTUuMTAvMTUuMTAuNC9TMTUuMTAu\nNC4xX0EzX1QxLmpzCiAgKiBAZGVzY3JpcHRpb24gUmVnRXhwIGlzIG5ldyBSZWdFeHAKICAqLwog\nCiBfX3JlID0gbmV3IFJlZ0V4cDsKIAogLy9DSEVDSyMxCi1pZiAoX19yZS5zb3VyY2UgIT09ICIi\nKSB7CitpZiAoX19yZS5zb3VyY2UgIT09ICIoPzopIikgewogICAkRVJST1IoJyMxOiBfX3JlID0g\nbmV3IFJlZ0V4cDsgX19yZS5zb3VyY2UgPT09ICIiLiBBY3R1YWw6ICcrIChfX3JlLnNvdXJjZSkp\nOwogfQogCiAvL0NIRUNLIzIKIGlmIChfX3JlLm11bHRpbGluZSAhPT0gZmFsc2UpIHsKICAgJEVS\nUk9SKCcjMjogX19yZSA9IG5ldyBSZWdFeHA7IF9fcmUubXVsdGlsaW5lID09PSBmYWxzZS4gQWN0\ndWFsOiAnICsgKF9fcmUubXVsdGlsaW5lKSk7CiB9CiAKZGlmZiAtLWdpdCBhL3Rlc3Qvc3VpdGUv\nY2gxNS8xNS4xMC8xNS4xMC40L1MxNS4xMC40LjFfQTNfVDIuanMgYi90ZXN0L3N1aXRlL2NoMTUv\nMTUuMTAvMTUuMTAuNC9TMTUuMTAuNC4xX0EzX1QyLmpzCi0tLSBhL3Rlc3Qvc3VpdGUvY2gxNS8x\nNS4xMC8xNS4xMC40L1MxNS4xMC40LjFfQTNfVDIuanMKKysrIGIvdGVzdC9zdWl0ZS9jaDE1LzE1\nLjEwLzE1LjEwLjQvUzE1LjEwLjQuMV9BM19UMi5qcwpAQCAtNiwxNyArNiwxNyBAQAogICoKICAq\nIEBwYXRoIGNoMTUvMTUuMTAvMTUuMTAuNC9TMTUuMTAuNC4xX0EzX1QyLmpzCiAgKiBAZGVzY3Jp\ncHRpb24gUmVnRXhwIGlzIG5ldyBSZWdFeHAodm9pZCAwKQogICovCiAKIF9fcmUgPSBuZXcgUmVn\nRXhwKHZvaWQgMCk7CiAKIC8vQ0hFQ0sjMQotaWYgKF9fcmUuc291cmNlICE9PSAiIikgeworaWYg\nKF9fcmUuc291cmNlICE9PSAiKD86KSIpIHsKICAgJEVSUk9SKCcjMTogX19yZSA9IG5ldyBSZWdF\neHAodm9pZCAwKTsgX19yZS5zb3VyY2UgPT09ICIiLiBBY3R1YWw6ICcrIChfX3JlLnNvdXJjZSkp\nOwogfQogCiAvL0NIRUNLIzIKIGlmIChfX3JlLm11bHRpbGluZSAhPT0gZmFsc2UpIHsKICAgJEVS\nUk9SKCcjMjogX19yZSA9IG5ldyBSZWdFeHAodm9pZCAwKTsgX19yZS5tdWx0aWxpbmUgPT09IGZh\nbHNlLiBBY3R1YWw6ICcgKyAoX19yZS5tdWx0aWxpbmUpKTsKIH0KIApkaWZmIC0tZ2l0IGEvdGVz\ndC9zdWl0ZS9jaDE1LzE1LjEwLzE1LjEwLjQvUzE1LjEwLjQuMV9BM19UMy5qcyBiL3Rlc3Qvc3Vp\ndGUvY2gxNS8xNS4xMC8xNS4xMC40L1MxNS4xMC40LjFfQTNfVDMuanMKLS0tIGEvdGVzdC9zdWl0\nZS9jaDE1LzE1LjEwLzE1LjEwLjQvUzE1LjEwLjQuMV9BM19UMy5qcworKysgYi90ZXN0L3N1aXRl\nL2NoMTUvMTUuMTAvMTUuMTAuNC9TMTUuMTAuNC4xX0EzX1QzLmpzCkBAIC02LDE3ICs2LDE3IEBA\nCiAgKgogICogQHBhdGggY2gxNS8xNS4xMC8xNS4xMC40L1MxNS4xMC40LjFfQTNfVDMuanMKICAq\nIEBkZXNjcmlwdGlvbiBSZWdFeHAgaXMgbmV3IFJlZ0V4cCh4KSwgd2hlcmUgeCBpcyB1bmRlZmlu\nZWQgdmFyaWFibGUKICAqLwogCiBfX3JlID0gbmV3IFJlZ0V4cCh4KTsKIAogLy9DSEVDSyMxCi1p\nZiAoX19yZS5zb3VyY2UgIT09ICIiKSB7CitpZiAoX19yZS5zb3VyY2UgIT09ICIoPzopIikgewog\nICAkRVJST1IoJyMxOiBfX3JlID0gbmV3IFJlZ0V4cCh4KTsgdmFyIHg7IF9fcmUuc291cmNlID09\nPSAiIi4gQWN0dWFsOiAnKyAoX19yZS5zb3VyY2UpKTsKIH0KIAogLy9DSEVDSyMyCiBpZiAoX19y\nZS5tdWx0aWxpbmUgIT09IGZhbHNlKSB7CiAgICRFUlJPUignIzI6IF9fcmUgPSBuZXcgUmVnRXhw\nKHgpOyB2YXIgeDsgX19yZS5tdWx0aWxpbmUgPT09IGZhbHNlLiBBY3R1YWw6ICcgKyAoX19yZS5t\ndWx0aWxpbmUpKTsKIH0KIApkaWZmIC0tZ2l0IGEvdGVzdC9zdWl0ZS9jaDE1LzE1LjEwLzE1LjEw\nLjQvUzE1LjEwLjQuMV9BM19UNC5qcyBiL3Rlc3Qvc3VpdGUvY2gxNS8xNS4xMC8xNS4xMC40L1Mx\nNS4xMC40LjFfQTNfVDQuanMKLS0tIGEvdGVzdC9zdWl0ZS9jaDE1LzE1LjEwLzE1LjEwLjQvUzE1\nLjEwLjQuMV9BM19UNC5qcworKysgYi90ZXN0L3N1aXRlL2NoMTUvMTUuMTAvMTUuMTAuNC9TMTUu\nMTAuNC4xX0EzX1Q0LmpzCkBAIC02LDE3ICs2LDE3IEBACiAgKgogICogQHBhdGggY2gxNS8xNS4x\nMC8xNS4xMC40L1MxNS4xMC40LjFfQTNfVDQuanMKICAqIEBkZXNjcmlwdGlvbiBSZWdFeHAgaXMg\nbmV3IFJlZ0V4cCh1bmRlZmluZWQpCiAgKi8KIAogX19yZSA9IG5ldyBSZWdFeHAodW5kZWZpbmVk\nKTsKIAogLy9DSEVDSyMxCi1pZiAoX19yZS5zb3VyY2UgIT09ICIiKSB7CitpZiAoX19yZS5zb3Vy\nY2UgIT09ICIoPzopIikgewogICAkRVJST1IoJyMxOiBfX3JlID0gbmV3IFJlZ0V4cCh1bmRlZmlu\nZWQpOyBfX3JlLnNvdXJjZSA9PT0gIiIuIEFjdHVhbDogJysgKF9fcmUuc291cmNlKSk7CiB9CiAK\nIC8vQ0hFQ0sjMgogaWYgKF9fcmUubXVsdGlsaW5lICE9PSBmYWxzZSkgewogICAkRVJST1IoJyMy\nOiBfX3JlID0gbmV3IFJlZ0V4cCh1bmRlZmluZWQpOyBfX3JlLm11bHRpbGluZSA9PT0gZmFsc2Uu\nIEFjdHVhbDogJyArIChfX3JlLm11bHRpbGluZSkpOwogfQogCmRpZmYgLS1naXQgYS90ZXN0L3N1\naXRlL2NoMTUvMTUuMTAvMTUuMTAuNC9TMTUuMTAuNC4xX0EzX1Q1LmpzIGIvdGVzdC9zdWl0ZS9j\naDE1LzE1LjEwLzE1LjEwLjQvUzE1LjEwLjQuMV9BM19UNS5qcwotLS0gYS90ZXN0L3N1aXRlL2No\nMTUvMTUuMTAvMTUuMTAuNC9TMTUuMTAuNC4xX0EzX1Q1LmpzCisrKyBiL3Rlc3Qvc3VpdGUvY2gx\nNS8xNS4xMC8xNS4xMC40L1MxNS4xMC40LjFfQTNfVDUuanMKQEAgLTYsMTcgKzYsMTcgQEAKICAq\nCiAgKiBAcGF0aCBjaDE1LzE1LjEwLzE1LjEwLjQvUzE1LjEwLjQuMV9BM19UNS5qcwogICogQGRl\nc2NyaXB0aW9uIFJlZ0V4cCBpcyBuZXcgUmVnRXhwKChmdW5jdGlvbigpe30pKCkpCiAgKi8KIAog\nX19yZSA9IG5ldyBSZWdFeHAoKGZ1bmN0aW9uKCl7fSkoKSk7CiAKIC8vQ0hFQ0sjMQotaWYgKF9f\ncmUuc291cmNlICE9PSAiIikgeworaWYgKF9fcmUuc291cmNlICE9PSAiKD86KSIpIHsKICAgJEVS\nUk9SKCcjMTogX19yZSA9IG5ldyBSZWdFeHAoKGZ1bmN0aW9uKCl7fSkoKSk7IF9fcmUuc291cmNl\nID09PSAiIi4gQWN0dWFsOiAnKyAoX19yZS5zb3VyY2UpKTsKIH0KIAogLy9DSEVDSyMyCiBpZiAo\nX19yZS5tdWx0aWxpbmUgIT09IGZhbHNlKSB7CiAgICRFUlJPUignIzI6IF9fcmUgPSBuZXcgUmVn\nRXhwKChmdW5jdGlvbigpe30pKCkpOyBfX3JlLm11bHRpbGluZSA9PT0gZmFsc2UuIEFjdHVhbDog\nJyArIChfX3JlLm11bHRpbGluZSkpOwogfQogCmRpZmYgLS1naXQgYS90ZXN0L3N1aXRlL2NoMTUv\nMTUuMTAvMTUuMTAuNC9TMTUuMTAuNC4xX0E0X1QyLmpzIGIvdGVzdC9zdWl0ZS9jaDE1LzE1LjEw\nLzE1LjEwLjQvUzE1LjEwLjQuMV9BNF9UMi5qcwotLS0gYS90ZXN0L3N1aXRlL2NoMTUvMTUuMTAv\nMTUuMTAuNC9TMTUuMTAuNC4xX0E0X1QyLmpzCisrKyBiL3Rlc3Qvc3VpdGUvY2gxNS8xNS4xMC8x\nNS4xMC40L1MxNS4xMC40LjFfQTRfVDIuanMKQEAgLTYsMTcgKzYsMTcgQEAKICAqCiAgKiBAcGF0\naCBjaDE1LzE1LjEwLzE1LjEwLjQvUzE1LjEwLjQuMV9BNF9UMi5qcwogICogQGRlc2NyaXB0aW9u\nIFJlZ0V4cCBpcyBuZXcgUmVnRXhwKHVuZGVmaW5lZCx1bmRlZmluZWQpCiAgKi8KIAogX19yZSA9\nIG5ldyBSZWdFeHAodW5kZWZpbmVkLCB1bmRlZmluZWQpOwogCiAvL0NIRUNLIzEKLWlmIChfX3Jl\nLnNvdXJjZSAhPT0gIiIpIHsKK2lmIChfX3JlLnNvdXJjZSAhPT0gIig/OikiKSB7CiAgICRFUlJP\nUignIzE6IF9fcmUgPSBuZXcgUmVnRXhwKHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsgX19yZS5zb3Vy\nY2UgPT09ICIiLiBBY3R1YWw6ICcrIChfX3JlLnNvdXJjZSkpOwogfQogCiAvL0NIRUNLIzIKIGlm\nIChfX3JlLm11bHRpbGluZSAhPT0gZmFsc2UpIHsKICAgJEVSUk9SKCcjMjogX19yZSA9IG5ldyBS\nZWdFeHAodW5kZWZpbmVkLCB1bmRlZmluZWQpOyBfX3JlLm11bHRpbGluZSA9PT0gZmFsc2UuIEFj\ndHVhbDogJyArIChfX3JlLm11bHRpbGluZSkpOwogfQogCmRpZmYgLS1naXQgYS90ZXN0L3N1aXRl\nL2NoMTUvMTUuMTAvMTUuMTAuNC9TMTUuMTAuNC4xX0E0X1QzLmpzIGIvdGVzdC9zdWl0ZS9jaDE1\nLzE1LjEwLzE1LjEwLjQvUzE1LjEwLjQuMV9BNF9UMy5qcwotLS0gYS90ZXN0L3N1aXRlL2NoMTUv\nMTUuMTAvMTUuMTAuNC9TMTUuMTAuNC4xX0E0X1QzLmpzCisrKyBiL3Rlc3Qvc3VpdGUvY2gxNS8x\nNS4xMC8xNS4xMC40L1MxNS4xMC40LjFfQTRfVDMuanMKQEAgLTYsMTcgKzYsMTcgQEAKICAqCiAg\nKiBAcGF0aCBjaDE1LzE1LjEwLzE1LjEwLjQvUzE1LjEwLjQuMV9BNF9UMy5qcwogICogQGRlc2Ny\naXB0aW9uIFVzZSB1bmRlZmluZWQgcHJvcGVydGllcyBvZiBvYmplY3QgYXMgZmxhZ3Mgb2YgUmVn\nRXhwCiAgKi8KIAogX19yZSA9IG5ldyBSZWdFeHAoe30ucCwge30ucSk7CiAKIC8vQ0hFQ0sjMQot\naWYgKF9fcmUuc291cmNlICE9PSAiIikgeworaWYgKF9fcmUuc291cmNlICE9PSAiKD86KSIpIHsK\nICAgJEVSUk9SKCcjMTogX19yZSA9IG5ldyBSZWdFeHAoe30ucCwge30ucSk7IF9fcmUuc291cmNl\nID09PSAiIi4gQWN0dWFsOiAnKyAoX19yZS5zb3VyY2UpKTsKIH0KIAogLy9DSEVDSyMyCiBpZiAo\nX19yZS5tdWx0aWxpbmUgIT09IGZhbHNlKSB7CiAgICRFUlJPUignIzI6IF9fcmUgPSBuZXcgUmVn\nRXhwKHt9LnAsIHt9LnEpOyBfX3JlLm11bHRpbGluZSA9PT0gZmFsc2UuIEFjdHVhbDogJyArIChf\nX3JlLm11bHRpbGluZSkpOwogfQogCmRpZmYgLS1naXQgYS90ZXN0L3N1aXRlL2NoMTUvMTUuMTAv\nMTUuMTAuNC9TMTUuMTAuNC4xX0E0X1Q1LmpzIGIvdGVzdC9zdWl0ZS9jaDE1LzE1LjEwLzE1LjEw\nLjQvUzE1LjEwLjQuMV9BNF9UNS5qcwotLS0gYS90ZXN0L3N1aXRlL2NoMTUvMTUuMTAvMTUuMTAu\nNC9TMTUuMTAuNC4xX0E0X1Q1LmpzCisrKyBiL3Rlc3Qvc3VpdGUvY2gxNS8xNS4xMC8xNS4xMC40\nL1MxNS4xMC40LjFfQTRfVDUuanMKQEAgLTYsMTcgKzYsMTcgQEAKICAqCiAgKiBAcGF0aCBjaDE1\nLzE1LjEwLzE1LjEwLjQvUzE1LjEwLjQuMV9BNF9UNS5qcwogICogQGRlc2NyaXB0aW9uIFJlZ0V4\ncCBpcyBuZXcgUmVnRXhwKCIiLChmdW5jdGlvbigpe30pKCkpCiAgKi8KIAogX19yZSA9IG5ldyBS\nZWdFeHAoIiIsIChmdW5jdGlvbigpe30pKCkpOwogCiAvL0NIRUNLIzEKLWlmIChfX3JlLnNvdXJj\nZSAhPT0gIiIpIHsKK2lmIChfX3JlLnNvdXJjZSAhPT0gIig/OikiKSB7CiAgICRFUlJPUignIzE6\nIF9fcmUgPSBuZXcgUmVnRXhwKCIiLCAoZnVuY3Rpb24oKXt9KSgpKTsgX19yZS5zb3VyY2UgPT09\nICIiLiBBY3R1YWw6ICcrIChfX3JlLnNvdXJjZSkpOwogfQogCiAvL0NIRUNLIzIKIGlmIChfX3Jl\nLm11bHRpbGluZSAhPT0gZmFsc2UpIHsKICAgJEVSUk9SKCcjMjogX19yZSA9IG5ldyBSZWdFeHAo\nIiIsIChmdW5jdGlvbigpe30pKCkpOyBfX3JlLm11bHRpbGluZSA9PT0gZmFsc2UuIEFjdHVhbDog\nJyArIChfX3JlLm11bHRpbGluZSkpOwogfQogCg==\n"}}]}}
---
