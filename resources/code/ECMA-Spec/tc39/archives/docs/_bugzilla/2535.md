---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2535,"creation_ts":"2014-02-12 16:43:00 -0800","short_desc":"chapter 14: misc editorial","delta_ts":"2014-06-01 18:40:55 -0700","product":"Draft for 6th Edition","component":"editorial issue","version":"Rev 22: January 20, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"jmdyck","name":"Michael Dyck"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":7269,"comment_count":0,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2014-02-12 16:43:53 -0800","thetext":"----------------------------------------\nIn 14.1 \"Function Definitions\":\n\n14.1 / Syntax / prod 6 (FormalsList) / rhs 1:\nFormalParameter[?Yield]\n    Insert \"?GeneratorParameter\", as in rhs 2.\n    (Why would the first FormalParameter in a FormalsList\n    be different from the others?)\n\n----------------------------------------\nIn 14.1.12 \"Static Semantics: ReferencesSuper\":\n\n14.1.12 / group 4 / production + step 1:\nFormalParameters : FormalParametersList\n  1. Return FormalParametersList Contains super.\n\n    s|Parameters|Parameter|\n\n----------------------------------------\nIn 14.2.4 \"Static Semantics: CoveredFormalsList\":\n\n14.2.4 / group 2 / production / rhs 3+4:\n( ... IdentifierName )\n( Expression , ... IdentifierName )\n    s|IdentifierName|BindingIdentifier|\n\n----------------------------------------\nIn 14.2.8 \"Runtime Semantics: IteratorBindingInitialisation\":\n\n14.2.8 / group 2 / step 2:\nReturn the result of performing IteratorBindingInitialisation of /formals/\nwith arguments /value/ and /environment/.\n    s|value|iterator|\n\n----------------------------------------\nIn 14.2.10 \"Runtime Semantics: Evaluation\":\n\n14.2.10 / group 1 / step 4:\n... performing the FunctionCreate abstract operation with arguments Arrow, ...\n    Change \"Arrow\" to sans-serif.\n\n----------------------------------------\nIn 14.3.8 \"Runtime Semantics: DefineMethod\":\n\n14.3.8 / step 5:\n... performing the FunctionCreate abstract operation with arguments Method, ...\n    Put \"Method\" in sans-serif.\n\n----------------------------------------\nIn 14.3.9 \"Runtime Semantics: PropertyDefinitionEvaluation\":\n\n14.3.9 / group 3 / step 6:\n... performing the FunctionCreate abstract operation with arguments Method, ...\n    Put \"Method\" in sans-serif.\n\n14.3.9 / group 4 / step 5:\n... performing the FunctionCreate abstract operation with arguments Method, ...\n    Put \"Method\" in sans-serif.\n\n----------------------------------------\nIn 14.4.11 \"Runtime Semantics: EvaluateBody\":\n\n14.4.11 / group 2 / step 1:\nLet /G/ be the result of ObjectCreate(*%*GeneratorPrototype*%*, ... ).\n    De-bold percents.\n\n----------------------------------------\nIn 14.4.13 \"Runtime Semantics: PropertyDefinitionEvaluation\":\n\n14.4.13 / group 1 / step 6:\n... the GeneratorFunctionCreate abstract operation with arguments Method, ...\n    Put \"Method\" in sans-serif.\n\n----------------------------------------\nIn 14.5.4 \"Static Semantics: Contains\":\n\n14.5.4 / group 1 / step 4:\nReturn the result of Contains for /ClassHeritage/ with argument /symbol/.\n    'Contains' is normally invoked via an infix notation.\n    Change to:\n        ... the result of /ClassHeritage/ Contains /symbol/\n\n----------------------------------------\nIn 14.5.9 \"Static Semantics: PrototypeMethodDefinitions\":\nIn 14.5.13 \"Static Semantics: StaticMethodDefinitions\":\n\n    As defined, each of these returns a List of ClassElements, but section\n    14.5.15 assumes that they each return a list of MethodDefinitions.\n    On the appropriate step, change /ClassElement/ to:\n        the /MethodDefinition/ of /ClassElement/\n\n----------------------------------------\nIn 14.6.1 \"Static Semantics: InTailPosition(nonterminal) Abstract Operation\":\n\n    For a semantic rule that returns a boolean, the name usually begins with\n    \"Is\" or \"Has\". Rename to \"IsInTailPosition\" ?\n\n    This algorithm has no preamble.\n\n14.6.1 / step 1:\nAssert: /nonterminal/ is a parsed grammar production.\n    The phrase \"parsed grammar production\" is odd.\n    Instead, \"parse node\" (as in Table 26) would be more normal.\n    (And \"parse-tree node\" probably even more so.)\n\n    Likewise, change /nonterminal/ to /node/ throughout the algorithm.\n\n----------------------------------------\nIn 14.6.2 \"Static Semantics: HasProductionInTailPosition\":\n\n    A better name might be \"HasCallInTailPosition\".\n\n    This is the only place in the spec where a semantic routine has its \"header\"\n    in one section and then has its production/algorithm groups set out in\n    subsections. It's just odd.\n\n    Rename parameter /nonterminal/ to /node/ (or maybe /expr/ or /callExpr/).\n\n----------------------------------------\nIn 14.6.2.1 \"Statement Rules\":\n\n14.6.2.1 / group 5 / production 4:\n    The production-recap for LabelledStatement\n    does not match its defining production in 13.12 / Syntax.\n\n14.6.2.1 / group 13 (the last one) / step 1:\nReturn HasProductionInTailPosition of /Finally/ with argument /nonterminal/.\n    s|Finally|Block|\n\n----------------------------------------\nIn 14.6.2.2 \"Expression Rules\":\n\n14.6.2.2 / group 7 / step 1:\nIf this /MemberExpression/ is /nonTerminal/, then return *true*.\n    De-capitalize the \"T\" in \"nonTerminal\".\n\n14.6.2.2 / group 8 / step 1:\nIf this /NewExpression/ is /nonterminal/, then return *true*.\n    I'm doubtful that this condition could ever be satisfied, because\n    I don't see anywhere that HasProductionInTailPosition is invoked\n    with a NewExpression as the argument.\n\n----------------------------------------\nIn 14.6.3 \"Runtime Semantics: PrepareForTailCall\":\n\n    Add \"()\" to the section title, so it's clearer that the operation doesn't\n    have any parameters.\n\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"},{"commentid":7965,"comment_count":1,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2014-04-29 13:54:38 -0700","thetext":"Some of these were fixed in rev23, but most remain in rev24.\n\n14.2.8 has moved to 14.2.15,\n14.2.10 to 14.2.17."},{"commentid":8299,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-05-10 10:54:58 -0700","thetext":"Regarding the organization of the tail call rules:  Yes this is a different style of organization, but it seems to work well for tail calls which is a pretty self contained  part of the the overall specification.  So, I'm not going to change it. \n\nSome reviewers would  prefer that everything was reorganized more like the tail call section, but thats also not going to happen.  At least not in this edition.\n\nI thought about renaming HasPropductionInTailPosiition, but decided against it. It isn't looking for any call, it is looking for the specific a\"production\" that is passed in as the argument.\n\nAlso, while \"production\" isn't quite right technically (we're really talking about parse nodes) the ES6 spec. has, so far, gotten away with fuzzing the distinction between grammar productions and the parse trees produced by parsing using those productions. I think we can continue to be fuzzy in that regard here.\n\nOtherwise, all fixed in rev25 editor's draft."},{"commentid":8309,"comment_count":3,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2014-05-10 21:36:07 -0700","thetext":"(In reply to comment #2)\n> Regarding the organization of the tail call rules:  Yes this is a different\n> style of organization, but it seems to work well for tail calls which is a\n> pretty self contained  part of the the overall specification.  So, I'm not\n> going to change it. \n> \n> Some reviewers would  prefer that everything was reorganized more like the\n> tail call section, but thats also not going to happen.  At least not in this\n> edition.\n\nActually, I don't mind that all the HasProductionInTailPosition rules are grouped together, or that most other operations have their rules spread throughout the spec. Either/both is fine with me. I'm just pointing out that, normally, a set of rules appears in a section whose header gives the name of the semantic operation being defined, followed by its parameters. Here, you have to go up another level to get that info. \n\n\n\n> Also, while \"production\" isn't quite right technically (we're really talking\n> about parse nodes) the ES6 spec. has, so far, gotten away with fuzzing the\n> distinction between grammar productions and the parse trees produced by\n> parsing using those productions.\n\nYes, I've been meaning to raise a bug on that point. (But I figured I might as well wait until the technical changes were more or less done.)"},{"commentid":8776,"comment_count":4,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2014-06-01 18:40:55 -0700","thetext":"confirmed fixed except for what I re-raised as Bug 2951, and the stuff about \"parsed grammar production\" and \"nonterminal\" that I intend to raise more generally at some point."}]}}
---
