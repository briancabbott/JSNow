---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3562,"creation_ts":"2015-01-16 08:44:00 -0800","short_desc":"12.3.5.1 NewSuper","delta_ts":"2015-07-10 08:34:24 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 31: January 15, 2015 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"INVALID","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"arv","name":"Erik Arvidsson"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["claude.pache","erik.arvidsson"],"long_desc":[{"commentid":11492,"comment_count":0,"who":{"uid":"arv","name":"Erik Arvidsson"},"bug_when":"2015-01-16 08:44:35 -0800","thetext":"Why does `new Super()` need the NewTarget of the current function environment?\n\nclass Derived extends Base {\n  constructor() {\n    var o = new Super();\n    // equivalent to\n    var o2 = new Base();\n\n    // With the current spec draft it is equivalent to\n    var o3 = Construct(Base, «», Derived)\n  }\n}"},{"commentid":11495,"comment_count":1,"who":{"uid":"claude.pache","name":"Claude Pache"},"bug_when":"2015-01-16 09:20:08 -0800","thetext":"I think it is that way:\n\nclass Derived extends Base {\n  constructor() {\n    var o = new super(); // Construct(Base, «», Derived)\n    // not equivalent to\n    var o2 = new Base(); // Construct(Base, «») === Construct(Base, «», Base)\n  }\n}"},{"commentid":11506,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-01-16 10:20:23 -0800","thetext":"exactly, \n\nIn a constructor that is [[Construct]] invoked, 'new super()' is semantically the same as 'super()' except that it doesn't throw if 'this' is already bound and it doesn't binding 'this' with its return value.\n\nThe third argument is the important thing. Also in your example, it isn't necessary 'Derived', it could be a subclass of 'Derived'"},{"commentid":11514,"comment_count":3,"who":{"uid":"arv","name":"Erik Arvidsson"},"bug_when":"2015-01-16 10:56:57 -0800","thetext":"OK. Makes sense to me."}]}}
---
