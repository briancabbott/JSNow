---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2211,"creation_ts":"2013-11-10 05:41:00 -0800","short_desc":"Proxy abstract operations: some check if [[ProxyHandler]] is null, some if undefined","delta_ts":"2014-01-27 10:05:24 -0800","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 20: October 28, 2013 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"trivial","everconfirmed":true,"reporter":{"uid":"b.swierczynski","name":"Bartek Swierczynski"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":6623,"comment_count":0,"who":{"uid":"b.swierczynski","name":"Bartek Swierczynski"},"bug_when":"2013-11-10 05:41:35 -0800","thetext":"Abstract operations defined under section \"9.5 Proxy Object Internal Methods and Internal Slots\" have initial steps that throw an exception when the [[ProxyHandler]] has an invalid value (it's done during the first 2 or 3 steps of each algorithm).\n\nThe 'invalid value' is inconsistent throughout the abstract operations. This looks like a mistake.\n\nThe following compare [[ProxyHandler]] to null:\n[[GetPrototypeOf]]\n[[SetPrototypeOf]]\n[[IsExtensible]]\n[[GetOwnProperty]]\n[[DefineOwnProperty]]\n[[HasProperty]]\n[[Get]]\n[[Delete]]\n[[Enumerate]]\n[[Construct]]\n\nThe following compare [[ProxyHandler] to undefined:\n[[PreventExtensions]]\n[[Set]] \n[[OwnPropertyKeys]]\n[[Call]]\n\nNote that [[Get]] and [[Set]] perform different checks.\n\nIt looks like all checks should be against null.\n\nThis issue was found in the ES6 specs draft of November 8, 2013\n( http://wiki.ecmascript.org/lib/exe/fetch.php?id=harmony%3Aspecification_drafts&cache=cache&media=harmony:working_draft_ecma-262_edition_6_11-08-13.pdf )\n\nI could not pick this version from the version list while filling this bug."},{"commentid":6627,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-11-10 09:16:57 -0800","thetext":"fixed in rev22 editor's draft"},{"commentid":7099,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-01-27 10:05:24 -0800","thetext":"fixed in Rev22 (January 20, 2013) release"}]}}
---
