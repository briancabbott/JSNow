---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1131,"creation_ts":"2012-12-15 14:49:00 -0800","short_desc":"15.12.3-11-26 should use String.prototype.substring or String.prototype.charAt","delta_ts":"2013-06-13 07:24:50 -0700","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"brbaker","name":"Brent Baker"},"cc":["brbaker","prsriniv","trbaker"],"long_desc":[{"commentid":3012,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2012-12-15 14:49:07 -0800","thetext":"The test case uses String.prototype.substr which is listed in Annex B, therefore the test should be rewritten to use either String.prototype.substring or String.prototype.charAt"},{"commentid":4056,"comment_count":1,"who":{"uid":"brbaker","name":"Brent Baker"},"bug_when":"2013-05-17 05:28:10 -0700","thetext":"NOTE: Annex section B lists non-standard functions, so even though String.prototype.substr() is implemented in some implementations, it is NOT part of the standard and should NOT be included in the standard testsuite.\n\nhttp://www.ecma-international.org/ecma-262/5.1/#sec-B.2.3\n\nI'll provide a patch that removes this usage."},{"commentid":4074,"comment_count":2,"attachid":"37","who":{"uid":"brbaker","name":"Brent Baker"},"bug_when":"2013-05-20 06:14:53 -0700","thetext":"Created attachment 37\ndo not use String.prototype.substr()\n\nUse String.prototype.charAt() instead of substr() since substr() is not actually part of the required spec."},{"commentid":4085,"comment_count":3,"attachid":"41","who":{"uid":"brbaker","name":"Brent Baker"},"bug_when":"2013-05-21 05:44:47 -0700","thetext":"Created attachment 41\nremove String.prototype.substr() from testsuite"},{"commentid":4092,"comment_count":4,"who":{"uid":"prsriniv","name":"Prashanth Srinivasan"},"bug_when":"2013-05-21 12:12:18 -0700","thetext":"Reviewed patch for removing substr() and it looks good."},{"commentid":4133,"comment_count":5,"attachid":"50","who":{"uid":"brbaker","name":"Brent Baker"},"bug_when":"2013-06-04 10:25:03 -0700","thetext":"Created attachment 50\nMove String.prototype.substr into annexB"},{"commentid":4141,"comment_count":6,"attachid":"58","who":{"uid":"brbaker","name":"Brent Baker"},"bug_when":"2013-06-05 05:02:01 -0700","thetext":"Created attachment 58\nMove String.prototype.substr into annexB\n\nExported change, including commit message"},{"commentid":4153,"comment_count":7,"who":{"uid":"brbaker","name":"Brent Baker"},"bug_when":"2013-06-07 04:38:02 -0700","thetext":"changeset:   373:579bd85aaf2a\nuser:        Brent Baker <brbaker@adobe.com>\ndate:        Wed Jun 05 08:00:44 2013 -0400\nsummary:     Bug 1131: Move String.prototype.substr into annexB\n\nNOTE: I am still waiting to get access to update the live website @ http://test262.ecmascript.org"},{"commentid":4180,"comment_count":8,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2013-06-12 11:29:37 -0700","thetext":"Not resolved -> test case 15.12.3-11-26 is still using substr() instead of substring() or charAt()."},{"commentid":4186,"comment_count":9,"who":{"uid":"brbaker","name":"Brent Baker"},"bug_when":"2013-06-13 04:55:02 -0700","thetext":"(In reply to comment #8)\n> Not resolved -> test case 15.12.3-11-26 is still using substr() instead of\n> substring() or charAt().\n\nEek, I thought I had grepped all of the code, will get this fixed."},{"commentid":4188,"comment_count":10,"who":{"uid":"brbaker","name":"Brent Baker"},"bug_when":"2013-06-13 07:24:50 -0700","thetext":"André, thank you for finding this. I mistakenly dropped the change from the patches as I reworked them. I have addressed the issue and did a grep of the testsuite to ensure that I hadn't missed any other instances.\n\nAgain thanks for double checking this.\n\nchangeset:  d067d2f0ca30\ntag:         tip\nuser:        Brent Baker <brbaker@adobe.com>\ndate:        Thu Jun 13 10:07:45 2013 -0400\nfiles:       test/suite/ch15/15.12/15.12.3/15.12.3-11-26.js test/suite/ch15/15.2/15.2.2/S15.2.2.1_A2_T5.js website/json/ch15.json website/json/suiteDescrip.json\ndescription:\nBug 1128: use Date.prototype.getFullYear() in S15.2.2.1_A2_T5\nBug 1131: use String.prototype.charAt() in 15.12.3-11-26\n\nBoth of these changes were accidentaly dropped when I regenerated patches for these bugs. I have grepped the testsuite to ensure that the annexB functions only appear in the annexB section of the testsuite.\n\nNOTE: Also regenerated the website based on this change. (Still waiting for permission to actually update the live website)"}],"attachment":[{"_attributes":{"isobsolete":"1","ispatch":"1"},"attachid":"37","date":"2013-05-20 06:14:00 -0700","delta_ts":"2013-05-21 05:44:47 -0700","desc":"do not use String.prototype.substr()","filename":"bug_1131.patch","type":"text/plain","size":"610","attacher":{"_attributes":{"name":"Brent Baker"},"_text":"brbaker"},"data":{"_attributes":{"encoding":"base64"},"_text":"ZGlmZiAtLWdpdCBhL3Rlc3Qvc3VpdGUvY2gxNS8xNS4xMi8xNS4xMi4zLzE1LjEyLjMtMTEtMjYu\nanMgYi90ZXN0L3N1aXRlL2NoMTUvMTUuMTIvMTUuMTIuMy8xNS4xMi4zLTExLTI2LmpzCi0tLSBh\nL3Rlc3Qvc3VpdGUvY2gxNS8xNS4xMi8xNS4xMi4zLzE1LjEyLjMtMTEtMjYuanMKKysrIGIvdGVz\ndC9zdWl0ZS9jaDE1LzE1LjEyLzE1LjEyLjMvMTUuMTIuMy0xMS0yNi5qcwpAQCAtMTEsMTEgKzEx\nLDExIEBACiANCiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgICAgICAgIHZhciBhcnJPYmogPSBb\nXTsNCiAgICAgICAgIGFyck9ialswXSA9ICJhIjsNCiAgICAgICAgIGFyck9ialsxXSA9ICJiIjsN\nCiAgICAgICAgIGFyck9ialsyXSA9ICJjIjsNCiANCiAgICAgICAgIHZhciBqc29uVGV4dCA9IEpT\nT04uc3RyaW5naWZ5KGFyck9iaiwgdW5kZWZpbmVkLCAiIikudG9TdHJpbmcoKTsNCi0gICAgICAg\nIHJldHVybiBqc29uVGV4dC5zdWJzdHIoanNvblRleHQubGVuZ3RoIC0gMSwgMSkgPT09ICJdIjsN\nCisgICAgICAgIHJldHVybiBqc29uVGV4dC5jaGFyQXQoanNvblRleHQubGVuZ3RoIC0gMSkgPT09\nICJdIjsNCiAgICAgfQ0KIHJ1blRlc3RDYXNlKHRlc3RjYXNlKTsNCg==\n"}},{"_attributes":{"isobsolete":"1","ispatch":"1"},"attachid":"41","date":"2013-05-21 05:44:00 -0700","delta_ts":"2013-06-04 10:25:03 -0700","desc":"remove String.prototype.substr() from testsuite","filename":"bug_1131.patch","type":"text/plain","size":"1741","attacher":{"_attributes":{"name":"Brent Baker"},"_text":"brbaker"},"data":{"_attributes":{"encoding":"base64"},"_text":"ZGlmZiAtLWdpdCBhL3Rlc3Qvc3VpdGUvY2gxNS8xNS4xMi8xNS4xMi4zLzE1LjEyLjMtMTEtMjYu\nanMgYi90ZXN0L3N1aXRlL2NoMTUvMTUuMTIvMTUuMTIuMy8xNS4xMi4zLTExLTI2LmpzCi0tLSBh\nL3Rlc3Qvc3VpdGUvY2gxNS8xNS4xMi8xNS4xMi4zLzE1LjEyLjMtMTEtMjYuanMKKysrIGIvdGVz\ndC9zdWl0ZS9jaDE1LzE1LjEyLzE1LjEyLjMvMTUuMTIuMy0xMS0yNi5qcwpAQCAtMTEsMTEgKzEx\nLDExIEBACiANCiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgICAgICAgIHZhciBhcnJPYmogPSBb\nXTsNCiAgICAgICAgIGFyck9ialswXSA9ICJhIjsNCiAgICAgICAgIGFyck9ialsxXSA9ICJiIjsN\nCiAgICAgICAgIGFyck9ialsyXSA9ICJjIjsNCiANCiAgICAgICAgIHZhciBqc29uVGV4dCA9IEpT\nT04uc3RyaW5naWZ5KGFyck9iaiwgdW5kZWZpbmVkLCAiIikudG9TdHJpbmcoKTsNCi0gICAgICAg\nIHJldHVybiBqc29uVGV4dC5zdWJzdHIoanNvblRleHQubGVuZ3RoIC0gMSwgMSkgPT09ICJdIjsN\nCisgICAgICAgIHJldHVybiBqc29uVGV4dC5jaGFyQXQoanNvblRleHQubGVuZ3RoIC0gMSkgPT09\nICJdIjsNCiAgICAgfQ0KIHJ1blRlc3RDYXNlKHRlc3RjYXNlKTsNCmRpZmYgLS1naXQgYS90ZXN0\nL3N1aXRlL2NoMTUvMTUuMi8xNS4yLjMvMTUuMi4zLjMvMTUuMi4zLjMtNC03NC5qcyBiL3Rlc3Qv\nc3VpdGUvY2gxNS8xNS4yLzE1LjIuMy8xNS4yLjMuMy8xNS4yLjMuMy00LTc0LmpzCmRlbGV0ZWQg\nZmlsZSBtb2RlIDEwMDY0NAotLS0gYS90ZXN0L3N1aXRlL2NoMTUvMTUuMi8xNS4yLjMvMTUuMi4z\nLjMvMTUuMi4zLjMtNC03NC5qcworKysgL2Rldi9udWxsCkBAIC0xLDIxICswLDAgQEAKLS8vLyBD\nb3B5cmlnaHQgKGMpIDIwMTIgRWNtYSBJbnRlcm5hdGlvbmFsLiAgQWxsIHJpZ2h0cyByZXNlcnZl\nZC4gDQotLy8vIEVjbWEgSW50ZXJuYXRpb25hbCBtYWtlcyB0aGlzIGNvZGUgYXZhaWxhYmxlIHVu\nZGVyIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBzZXQNCi0vLy8gZm9ydGggb24gaHR0cDovL2hn\nLmVjbWFzY3JpcHQub3JnL3Rlc3RzL3Rlc3QyNjIvcmF3LWZpbGUvdGlwL0xJQ0VOU0UgKHRoZSAN\nCi0vLy8gIlVzZSBUZXJtcyIpLiAgIEFueSByZWRpc3RyaWJ1dGlvbiBvZiB0aGlzIGNvZGUgbXVz\ndCByZXRhaW4gdGhlIGFib3ZlIA0KLS8vLyBjb3B5cmlnaHQgYW5kIHRoaXMgbm90aWNlIGFuZCBv\ndGhlcndpc2UgY29tcGx5IHdpdGggdGhlIFVzZSBUZXJtcy4NCi0vKioNCi0gKiBAcGF0aCBjaDE1\nLzE1LjIvMTUuMi4zLzE1LjIuMy4zLzE1LjIuMy4zLTQtNzQuanMNCi0gKiBAZGVzY3JpcHRpb24g\nT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciByZXR1cm5zIGRhdGEgZGVzYyBmb3IgZnVu\nY3Rpb25zIG9uIGJ1aWx0LWlucyAoU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIpDQotICovDQotDQot\nDQotZnVuY3Rpb24gdGVzdGNhc2UoKSB7DQotICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9w\nZXJ0eURlc2NyaXB0b3IoU3RyaW5nLnByb3RvdHlwZSwgInN1YnN0ciIpOw0KLSAgaWYgKGRlc2Mu\ndmFsdWUgPT09IFN0cmluZy5wcm90b3R5cGUuc3Vic3RyICYmDQotICAgICAgZGVzYy53cml0YWJs\nZSA9PT0gdHJ1ZSAmJg0KLSAgICAgIGRlc2MuZW51bWVyYWJsZSA9PT0gZmFsc2UgJiYNCi0gICAg\nICBkZXNjLmNvbmZpZ3VyYWJsZSA9PT0gdHJ1ZSkgew0KLSAgICByZXR1cm4gdHJ1ZTsNCi0gIH0N\nCi0gfQ0KLXJ1blRlc3RDYXNlKHRlc3RjYXNlKTsNCg==\n"}},{"_attributes":{"isobsolete":"1","ispatch":"1"},"attachid":"50","date":"2013-06-04 10:25:00 -0700","delta_ts":"2013-06-05 05:02:01 -0700","desc":"Move String.prototype.substr into annexB","filename":"bug_1131-2.patch","type":"text/plain","size":"1099","attacher":{"_attributes":{"name":"Brent Baker"},"_text":"brbaker"},"data":{"_attributes":{"encoding":"base64"},"_text":"ZGlmZiAtLWdpdCBhL3Rlc3Qvc3VpdGUvY2gxNS8xNS4yLzE1LjIuMy8xNS4yLjMuMy8xNS4yLjMu\nMy00LTc0LmpzIGIvdGVzdC9zdWl0ZS9hbm5leEIvYi4yLjMuanMKcmVuYW1lIGZyb20gdGVzdC9z\ndWl0ZS9jaDE1LzE1LjIvMTUuMi4zLzE1LjIuMy4zLzE1LjIuMy4zLTQtNzQuanMKcmVuYW1lIHRv\nIHRlc3Qvc3VpdGUvYW5uZXhCL2IuMi4zLmpzCi0tLSBhL3Rlc3Qvc3VpdGUvY2gxNS8xNS4yLzE1\nLjIuMy8xNS4yLjMuMy8xNS4yLjMuMy00LTc0LmpzCisrKyBiL3Rlc3Qvc3VpdGUvYW5uZXhCL2Iu\nMi4zLmpzCkBAIC0xLDE1ICsxLDE1IEBACiAvLy8gQ29weXJpZ2h0IChjKSAyMDEyIEVjbWEgSW50\nZXJuYXRpb25hbC4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuIA0KIC8vLyBFY21hIEludGVybmF0aW9u\nYWwgbWFrZXMgdGhpcyBjb2RlIGF2YWlsYWJsZSB1bmRlciB0aGUgdGVybXMgYW5kIGNvbmRpdGlv\nbnMgc2V0DQogLy8vIGZvcnRoIG9uIGh0dHA6Ly9oZy5lY21hc2NyaXB0Lm9yZy90ZXN0cy90ZXN0\nMjYyL3Jhdy1maWxlL3RpcC9MSUNFTlNFICh0aGUgDQogLy8vICJVc2UgVGVybXMiKS4gICBBbnkg\ncmVkaXN0cmlidXRpb24gb2YgdGhpcyBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSANCiAvLy8g\nY29weXJpZ2h0IGFuZCB0aGlzIG5vdGljZSBhbmQgb3RoZXJ3aXNlIGNvbXBseSB3aXRoIHRoZSBV\nc2UgVGVybXMuDQogLyoqDQotICogQHBhdGggY2gxNS8xNS4yLzE1LjIuMy8xNS4yLjMuMy8xNS4y\nLjMuMy00LTc0LmpzDQorICogQHBhdGggYW5uZXhCL2IuMi4zLmpzDQogICogQGRlc2NyaXB0aW9u\nIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgcmV0dXJucyBkYXRhIGRlc2MgZm9yIGZ1\nbmN0aW9ucyBvbiBidWlsdC1pbnMgKFN0cmluZy5wcm90b3R5cGUuc3Vic3RyKQ0KICAqLw0KIA0K\nIA0KIGZ1bmN0aW9uIHRlc3RjYXNlKCkgew0KICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJv\ncGVydHlEZXNjcmlwdG9yKFN0cmluZy5wcm90b3R5cGUsICJzdWJzdHIiKTsNCiAgIGlmIChkZXNj\nLnZhbHVlID09PSBTdHJpbmcucHJvdG90eXBlLnN1YnN0ciAmJg0KICAgICAgIGRlc2Mud3JpdGFi\nbGUgPT09IHRydWUgJiYNCg==\n"}},{"_attributes":{"isobsolete":"0","ispatch":"1"},"attachid":"58","date":"2013-06-05 05:02:00 -0700","delta_ts":"2013-06-05 05:02:01 -0700","desc":"Move String.prototype.substr into annexB","filename":"bug_1131-export.patch","type":"text/plain","size":"1337","attacher":{"_attributes":{"name":"Brent Baker"},"_text":"brbaker"},"data":{"_attributes":{"encoding":"base64"},"_text":"IyBIRyBjaGFuZ2VzZXQgcGF0Y2gKIyBVc2VyIEJyZW50IEJha2VyIDxicmJha2VyQGFkb2JlLmNv\nbT4KIyBEYXRlIDEzNzA0MzM2NDQgMTQ0MDAKIyBOb2RlIElEIGQ4ZjliNDM3ZjAxMWNkZTZlODM2\nOTliNTE0NmI4N2UxNTdhMDc4ODQKIyBQYXJlbnQgIDY4MGVmMzE2MWU4MDAxMjliYTM4NTRkNmI5\nMDc5ZDYyZDdjZWNkMGQKQnVnIDExMzE6IE1vdmUgU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgaW50\nbyBhbm5leEIKCmRpZmYgLS1naXQgYS90ZXN0L3N1aXRlL2NoMTUvMTUuMi8xNS4yLjMvMTUuMi4z\nLjMvMTUuMi4zLjMtNC03NC5qcyBiL3Rlc3Qvc3VpdGUvYW5uZXhCL2IuMi4zLmpzCnJlbmFtZSBm\ncm9tIHRlc3Qvc3VpdGUvY2gxNS8xNS4yLzE1LjIuMy8xNS4yLjMuMy8xNS4yLjMuMy00LTc0Lmpz\nCnJlbmFtZSB0byB0ZXN0L3N1aXRlL2FubmV4Qi9iLjIuMy5qcwotLS0gYS90ZXN0L3N1aXRlL2No\nMTUvMTUuMi8xNS4yLjMvMTUuMi4zLjMvMTUuMi4zLjMtNC03NC5qcworKysgYi90ZXN0L3N1aXRl\nL2FubmV4Qi9iLjIuMy5qcwpAQCAtMSwxNSArMSwxNSBAQAogLy8vIENvcHlyaWdodCAoYykgMjAx\nMiBFY21hIEludGVybmF0aW9uYWwuICBBbGwgcmlnaHRzIHJlc2VydmVkLiANCiAvLy8gRWNtYSBJ\nbnRlcm5hdGlvbmFsIG1ha2VzIHRoaXMgY29kZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zIGFu\nZCBjb25kaXRpb25zIHNldA0KIC8vLyBmb3J0aCBvbiBodHRwOi8vaGcuZWNtYXNjcmlwdC5vcmcv\ndGVzdHMvdGVzdDI2Mi9yYXctZmlsZS90aXAvTElDRU5TRSAodGhlIA0KIC8vLyAiVXNlIFRlcm1z\nIikuICAgQW55IHJlZGlzdHJpYnV0aW9uIG9mIHRoaXMgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJv\ndmUgDQogLy8vIGNvcHlyaWdodCBhbmQgdGhpcyBub3RpY2UgYW5kIG90aGVyd2lzZSBjb21wbHkg\nd2l0aCB0aGUgVXNlIFRlcm1zLg0KIC8qKg0KLSAqIEBwYXRoIGNoMTUvMTUuMi8xNS4yLjMvMTUu\nMi4zLjMvMTUuMi4zLjMtNC03NC5qcw0KKyAqIEBwYXRoIGFubmV4Qi9iLjIuMy5qcw0KICAqIEBk\nZXNjcmlwdGlvbiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIHJldHVybnMgZGF0YSBk\nZXNjIGZvciBmdW5jdGlvbnMgb24gYnVpbHQtaW5zIChTdHJpbmcucHJvdG90eXBlLnN1YnN0cikN\nCiAgKi8NCiANCiANCiBmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsNCiAgIHZhciBkZXNjID0gT2JqZWN0\nLmdldE93blByb3BlcnR5RGVzY3JpcHRvcihTdHJpbmcucHJvdG90eXBlLCAic3Vic3RyIik7DQog\nICBpZiAoZGVzYy52YWx1ZSA9PT0gU3RyaW5nLnByb3RvdHlwZS5zdWJzdHIgJiYNCiAgICAgICBk\nZXNjLndyaXRhYmxlID09PSB0cnVlICYmDQo=\n"}}]}}
---
