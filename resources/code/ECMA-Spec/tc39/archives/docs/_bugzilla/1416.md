---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1416,"creation_ts":"2013-04-11 09:38:00 -0700","short_desc":"ClassDefinitionEvaluation: unused variables and undefined behaviour if ConstructorMethod not present","delta_ts":"2013-05-14 18:13:14 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 14: March 8, 2013 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":3609,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2013-04-11 09:38:14 -0700","thetext":"A couple of issues in ClassDefinitionEvaluation:\n- \"strict\" variable in step 8 not used\n- \"constructorParent\" variable not used (but should be as [[Prototype]] for constructor)\n- if ClassHeritage{opt} is not present and ConstructorMethod is empty, Property Definition Evaluation is applied to the empty object\n- if ConstructorMethod is not empty, Property Definition Evaluation is applied twice for the constructor, because PrototypeMethodDefinitions also includes the ConstructorMethod (step 9 and step 14)"},{"commentid":3610,"comment_count":1,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2013-04-11 09:45:05 -0700","thetext":"Also step 2a is not properly defined, since there is currently no Runtime Semantics entry for ClassHeritage. \n\nAnd after step 5c, InitializeBinding() needs to be called to initialise the new binding."},{"commentid":3843,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-05-13 17:16:47 -0700","thetext":"fixed in rev15 editor's draft.\n\nI know about the strict variable.  It is sort of a marker for me to make sure at some point that we are correctly determining the strictness of code in class bodies.\n\nClassHeritage qualifies for the production chaining rule because it only has a since non-terminal on its RHS. I know this is sometimes confusing but it sure eliminates a lot of otherwise uninteresting chaining semantic rules.\n\nFixed all the other items."},{"commentid":3887,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-05-14 18:13:14 -0700","thetext":"resolved in rev 15, May 14, 2013 draft"}]}}
---
