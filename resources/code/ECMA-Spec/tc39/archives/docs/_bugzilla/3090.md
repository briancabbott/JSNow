---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3090,"creation_ts":"2014-07-29 15:16:00 -0700","short_desc":"21.2.5.15 RegExp.prototype [ @@isRegExp ]: Misleading NOTE","delta_ts":"2014-08-25 08:29:31 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 26: July 18, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"claude.pache","name":"Claude Pache"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":9643,"comment_count":0,"who":{"uid":"claude.pache","name":"Claude Pache"},"bug_when":"2014-07-29 15:16:44 -0700","thetext":"21.2.5.15 RegExp.prototype [ @@isRegExp ]\nThe NOTE says:\n\n    (...) The absence of a @@isRegExp property or the existence of such a property whose value is null indicates that the object should (sic) is not intended to be used as regular expression object.\n\nIt suggests that an object O is intended to be used as regexp when\n\n    Get(O, @@isRegExp) is neither null nor undefined.\n\nHowever, whenever @@isRegExp is used (in some algorithm of Section 21.1.3 Properties of the String Prototype Object), the test is of the form:\n\n    HasProperty(O, @@isRegExp) is true\n\nOne should either correct the NOTE, or correct the algorithms that use @@isRegExp.\n\nThat said, I would find more intuitive to use the following alternative test, but that's a detail:\n\n    ToBoolean(Get(O, @@isRegExp)) is true"},{"commentid":9645,"comment_count":1,"who":{"uid":"claude.pache","name":"Claude Pache"},"bug_when":"2014-07-29 16:44:33 -0700","thetext":"> That said, I would find more intuitive to use the following alternative\n> test, but that's a detail:\n> \n>     ToBoolean(Get(O, @@isRegExp)) is true\n\nNote also that IsConcatSpreadable Abstract Operation (Section 22.1.3.1.1) does use ToBoolean on the result of Get(O, @@isConcatSpreadable)."},{"commentid":9691,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-08-06 15:13:44 -0700","thetext":"fixed in rev27 editor's draft\n\nchange to use ToBoolean(Get(... test fix note in 21.2.5.15"},{"commentid":9966,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-08-25 08:29:31 -0700","thetext":"fixed in rev27 draft"}]}}
---
