---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3097,"creation_ts":"2014-08-01 16:08:00 -0700","short_desc":"Fetch failures result in orphaned load records","delta_ts":"2015-03-16 14:31:47 -0700","product":"Draft for 6th Edition","component":"deferred features","version":"Rev 26: July 18, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"WONTFIX","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"guybedford","name":"Guy Bedford"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["dherman","jorendorff","samth"],"long_desc":[{"commentid":9655,"comment_count":0,"who":{"uid":"guybedford","name":"Guy Bedford"},"bug_when":"2014-08-01 16:08:15 -0700","thetext":"Fetch errors have the potential to result in orphaned load records that aren't cleared properly from the loader.\n\nConsider loading a module with a large dependency tree that has a fetch error in it.\n\nWhen the fetch error occurs, we immediately fail the load of that record being fetched, along with all the linksets it belongs to, clearing these all. We remove the global load records entirely.\n\nBut, we still have asychronous addDependencyLoad calls running as other fetches complete, which are still ammending the now cleared linksets and adding to the global loads, resulting in orphaned global load records we don't necessarily want."},{"commentid":13755,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-03-16 14:31:47 -0700","thetext":"concerns old module spec."}]}}
---
