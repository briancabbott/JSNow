---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1450,"creation_ts":"2013-04-26 01:43:00 -0700","short_desc":"No-one seems to know why Test 12.6.4-2.js does what it does.","delta_ts":"2013-05-20 08:02:41 -0700","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"IN_PROGRESS","priority":"Normal","bug_severity":"minor","everconfirmed":true,"reporter":{"uid":"bugzilla","name":"Gareth Smith"},"assigned_to":{"uid":"brbaker","name":"Brent Baker"},"cc":"trbaker","long_desc":[{"commentid":3669,"comment_count":0,"who":{"uid":"bugzilla","name":"Gareth Smith"},"bug_when":"2013-04-26 01:43:09 -0700","thetext":"As discussed on-list[1], this test (quoted below) sets up a non-enumerable property in the prototype of an object we wish to loop over. It does not shadow this property. It does not test to see if that property is enumerated.\n\nSince no-one seems to know what behaviour this is intended to expose, it seems likely that it's not doing what it was intended to do.\n\n function testcase() {\n       var obj = {};\n\n       var proto = {};\n\n       Object.defineProperty(proto, \"prop\", {\n           value: \"inheritedValue\",\n           enumerable: false,\n           configurable: true,\n           writable: true\n       });\n\n       var ConstructFun = function () { };\n       ConstructFun.prototype = proto;\n\n       var child = new ConstructFun();\n\n       Object.defineProperty(child, \"prop1\", {\n           value: \"overridedValue1\",\n           enumerable: false\n       });\n       Object.defineProperty(child, \"prop2\", {\n           value: \"overridedValue2\",\n           enumerable: true\n       });\n       var accessedProp1 = false;\n       var accessedProp2 = false;\n\n       for (var p in child) {\n           if (child.hasOwnProperty(p)) {\n               if (p === \"prop1\") {\n                   accessedProp1 = true;\n               }\n               if (p === \"prop2\") {\n                   accessedProp2 = true;\n               }\n           }\n       }\n       return !accessedProp1 && accessedProp2 && child.prop1 === \"overridedValue1\" && child.prop2 === \"overridedValue2\";\n   }\n\n[1] https://mail.mozilla.org/pipermail/test262-discuss/2013-April/000188.html"}]}}
---
