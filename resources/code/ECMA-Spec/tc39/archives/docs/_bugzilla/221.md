---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":221,"creation_ts":"2011-11-07 13:36:00 -0800","short_desc":"Should hoisted functions be visible to parameter default value initializers?","delta_ts":"2012-01-05 12:08:08 -0800","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 4: November 7, 2011 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"allen","name":"Allen Wirfs-Brock"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"flag":{"_attributes":{"name":"TC39Review","id":"7","type_id":"1","status":"-","setter":"allen"}},"long_desc":[{"commentid":506,"comment_count":0,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2011-11-07 13:36:32 -0800","thetext":"Consider\n\nfunction foo(p = func()) {\n   funtion func() {return 5}\n   return p\n}\n\n\n\nIs this legal or not?\n\nIn the November 7, 2011 draft they are, beause inner functions are initiated and marked as initialized before the surrounding function's formal parameters are initialized.  To change this would take some restructuring of specification algorithms.\n\nAllen"},{"commentid":537,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2012-01-05 12:08:08 -0800","thetext":"At the Nov 2011 meeting, the consensus was that local declarations (including functions) are not visible to PDV expressions.  Also, that there is a temporal dead zone for PDV expression reference to parameter names defined in the same parameter list.\n\nThis is implemented in the REv 5 draft."}]}}
---
