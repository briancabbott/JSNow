---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3307,"creation_ts":"2014-11-09 15:10:00 -0800","short_desc":"Not able to use RegExp as a key in dictionary","delta_ts":"2015-02-16 18:24:11 -0800","product":"ECMA-262, Editions 5 and 5.1","component":"technical content","version":"Edition 5.1","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"suren.k.n","name":"Suren Nihalani"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":"suren.k.n","long_desc":[{"commentid":10554,"comment_count":0,"who":{"uid":"suren.k.n","name":"Suren Nihalani"},"bug_when":"2014-11-09 15:10:54 -0800","thetext":"I am not able to do the following:\n\nvar regexes = {\n    new RegExp(\"@Formula\", \"i\"): \"@Formula\"\n}\n\nhowever I am able to do:\n\n    var regexes = {}\n    regexes[new RegExp(\"a\", \"i\")] = \"b\";\n\n\n    console.log(regexes);\n\nIs this a bug or this is not supposed to work?"},{"commentid":10555,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-11-09 17:06:50 -0800","thetext":"(In reply to Suren Nihalani from comment #0)\n> I am not able to do the following:\n> \n> var regexes = {\n>     new RegExp(\"@Formula\", \"i\"): \"@Formula\"\n> }\n> \nyou are missing the bracked that must surround a computed property key in an object literal.  It should be:\n\n var regexes = {\n      [new RegExp(\"@Formula\", \"i\")] : \"@Formula\"\n  }\n  \n\nBut that would be be a silly thing do do because each time you evaluate \n  new RegExp(\"@Formula\", \"i\")\nyou are going to get a different object with a different  === identify. So, nobody culd ever access that property.  In a case like the above, what you probably want is something more like: \n\n var formulakey = new RegExp(\"@Formula\", \"i\")];\n var regexes = {\n      [formulakey] : \"@Formula\"\n  };\n...\n  regexes[formulakey] = ...\n  \n\n> \n> Is this a bug or this is not supposed to work?\n\nneither, you seem to misunderstand the syntax and semantics of computed property names."},{"commentid":10556,"comment_count":2,"who":{"uid":"suren.k.n","name":"Suren Nihalani"},"bug_when":"2014-11-09 17:12:17 -0800","thetext":"Got it. Thanks a lot.\n\nI decided to use a dict because I wanted to iterate over key, value pairs in a dict and wanted the collect the values only when the key's regex was passing on the string I was working with. I didn't plan to look up the property later, I was going iterate through the map. Hope that helps in understanding the use case."}]}}
---
