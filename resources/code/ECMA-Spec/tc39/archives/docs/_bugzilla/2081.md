---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2081,"creation_ts":"2013-10-27 13:55:00 -0700","short_desc":"9.2.5 ResolveLocale: Non-simple type in unicode locale extension not handled","delta_ts":"2016-02-11 09:49:22 -0800","product":"Internationalization - ECMA-402","component":"Specification","version":"Edition 2.0 drafts","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"ecmascriptbugs","name":"Norbert"},"long_desc":[{"commentid":6002,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2013-10-27 13:55:14 -0700","thetext":"Per http://unicode.org/reports/tr35/#Unicode_locale_identifier:\n\n> keyword  ::=  key [sep type]\n> key  ::=  2alphanum\n> type  ::=  3*8alphanum *(sep 3*8alphanum)\n\n\nBut 9.2.5 ResolveLocale steps 11.g.1.* only seem to handle the case when `type` is just `3*8alphanum`.\n\ntest case:\nnew Intl.DateTimeFormat(\"en-u-ca-ethiopic-amete-alem\").resolvedOptions().calendar\n\nThis returns just \"ethiopic\" but I'd expect either \"ethiopic-amete-alem\" or \"ethioaa\". \n\nThis is also visible with the newly introduced \"islamic-*\" calendar variations from CLDR 24 which are all reduced to \"islamic\"."},{"commentid":14918,"comment_count":1,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2016-02-11 09:49:22 -0800","thetext":"Fixed in https://github.com/tc39/ecma402/commit/7cb955c1f6bf00c4e218c6b87ee247a0e320187e"}]}}
---
