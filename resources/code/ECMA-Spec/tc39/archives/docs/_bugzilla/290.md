---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":290,"creation_ts":"2012-03-04 03:22:00 -0800","short_desc":"Coverage: Date.prototype.setXXX functions evaluate all parameters","delta_ts":"2012-03-04 03:22:03 -0800","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"CONFIRMED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"dfugate","name":"Dave Fugate"},"long_desc":[{"commentid":721,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2012-03-04 03:22:03 -0800","thetext":"Current engines vary widely in their implementations of the various Date.prototype.setXXX functions. \n\nSome examples per browser:\n\nIE: `new Date(0).setMinutes(void 0, {valueOf:function(){throw 'xxx'}})`\n=> returns `NaN` instead of throwing 'xxx'\n\nOpera: `new Date(NaN).setMinutes({valueOf: function(){throw 'xxx'}})`\n=> returns `NaN` instead of throwing 'xxx'\n\nFirefox: `new Date(NaN).setMinutes(0, {valueOf:function(){throw 'xxx'}})`\n=> returns `NaN` instead of throwing 'xxx'\n\n\nThat means the engines perform different \"optimizations\" to detect possible invalid date values before evaluating (here: calling ToNumber) all parameters. These optimizations seem to include partial evaluation of the parameters until a NaN value is found and inspection of the current time ([[PrimitiveValue]] of the date object) to check for NaN."}]}}
---
