---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":4331,"creation_ts":"2015-04-22 10:14:00 -0700","short_desc":"9.1.9 [[Set]]: super.prop assignment can silently overwrite non-writable properties","delta_ts":"2015-10-02 13:14:01 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 38: April 14, 2015 Final Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"critical","everconfirmed":true,"reporter":{"uid":"allen","name":"Allen Wirfs-Brock"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":"jorendorff","long_desc":[{"commentid":14317,"comment_count":0,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-04-22 10:14:16 -0700","thetext":"see https://esdiscuss.org/topic/super-prop-assignment-can-silently-overwrite-non-writable-properties \n\nIf Receiver is different from the object [[Set]] is invoked upon and the property to set already exits as an own property of Receiver, the current algorithm can over-write a non-writable property or turn an accesor property into a data property.  \n\nIt should fail (return false) in the situation where it currently does either of these."},{"commentid":14318,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-04-22 10:16:51 -0700","thetext":"fixed in rev29 publication draft.\n\nStep 5.e has been updated to read:\n\n5.e.   If existingDescriptor is not undefined, then\n  i.\t   If IsAccessorDescriptor(existingDescriptor) is true, return false.\n  ii.\t   If existingDescriptor.[[Writable]] is false, return false.\n  iii.\t   Let valueDesc be the PropertyDescriptor{[[Value]]: V}.\n  iv.\t   Return Receiver.[[DefineOwnProperty]](P, valueDesc).\n\nthe above steps 5.e.i and 5.e.11 are new"},{"commentid":14360,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-04-29 14:32:49 -0700","thetext":"(In reply to Allen Wirfs-Brock from comment #1)\n> fixed in rev29 publication draft.\n> \n\nMake that:\n\nfixed in rev39 publication draft."}]}}
---
