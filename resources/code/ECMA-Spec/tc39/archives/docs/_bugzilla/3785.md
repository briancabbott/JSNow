---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3785,"creation_ts":"2015-02-06 03:39:00 -0800","short_desc":"22.1.5.2.1, 23.1.5.2.1, 23.2.5.2.1: Use CreateArrayFromList in {Array, Map, Set}Iterator#next() ?","delta_ts":"2015-02-12 12:17:40 -0800","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 32: February 2, 2015 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":12182,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2015-02-06 03:39:25 -0800","thetext":"The next() methods can be simplified when CreateArrayFromList is used instead of manually calling ArrayCreate + CreateDataProperty. \n\n\n22.1.5.2.1 %ArrayIteratorPrototype%.next( )\n- steps 17.b-e\n\n> Let result be CreateArrayFromList(« index, elementValue »).\n\n\n23.1.5.2.1 %MapIteratorPrototype%.next ( )\n- steps 10.d.iii.2-5\n\n> Let result be CreateArrayFromList(« e.[[key]], e.[[value]] »).\n\n\n23.2.5.2.1 %SetIteratorPrototype%.next ( )\n- steps 10.d.i.1-4\n\n> Let result be CreateArrayFromList(« e, e »)."},{"commentid":12193,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-06 10:41:09 -0800","thetext":"fixed in rev33 editor's draft\n\nstrangely enough, I had the same idea the afternoon before you submitted this."},{"commentid":12448,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-12 12:17:40 -0800","thetext":"fixed in rev33"}]}}
---
