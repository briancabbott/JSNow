---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2370,"creation_ts":"2013-12-10 05:28:00 -0800","short_desc":"Notes for `Function#call` and `Function#apply` are confusing","delta_ts":"2014-04-06 11:30:35 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 21: November 8, 2013 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"mathias","name":"Mathias Bynens"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["andrebargull","mathias"],"long_desc":[{"commentid":6908,"comment_count":0,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2013-12-10 05:28:44 -0800","thetext":"https://bugzilla.mozilla.org/show_bug.cgi?id=948407\nhttps://bugs.webkit.org/show_bug.cgi?id=125501\nhttps://code.google.com/p/v8/issues/detail?id=3052\n\nFrom http://people.mozilla.org/~jorendorff/es6-draft.html#sec-function.prototype.call\n& http://people.mozilla.org/~jorendorff/es6-draft.html#sec-function.prototype.apply:\n\n> The `thisArg` value is passed without modification as the `this` value. This is\n> a change from Edition 3, where a `undefined` or `null` `thisArg` is replaced with\n> the global object and `ToObject` is applied to all other values and that result is\n> passed as the `this` value.\n\nWhat is not mentioned in this note is that this only applies to strict mode code. Paragraph\n11 of ES 5.1’s Annex C (http://ecma-international.org/ecma-262/5.1/#sec-C) clarifies this:\n\n> If `this` is evaluated within strict mode code, then the `this` value is not coerced\n> to an object. A `this` value of `null` or `undefined` is not converted to the global\n> object and primitive values are not converted to wrapper objects. The `this` value\n> passed via a function call (including calls made using `Function.prototype.apply` and\n> `Function.prototype.call`) do not coerce the passed `this` value to an object (10.4.3,\n> 11.1.1, 15.3.4.3, 15.3.4.4).\n\nSuggested fix: just prepend “in strict mode code, […]” to each of these two notes."},{"commentid":6909,"comment_count":1,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2013-12-10 05:56:18 -0800","thetext":"> Suggested fix: just prepend “in strict mode code, […]” to each of these two notes.\n\nThe notes may be confusing, but are correct nonetheless. Whereas just adding \"In strict mode code\" makes them incorrect, since built-in functions like Function.prototype.{apply, call} have no notion of strict mode at all.\nThere are two choices here: \n(1) Either remove the notes because they were only useful during the transition from ES3 -> ES5\n(2) Or if strict mode needs to be mentioned, then use a more thorough description. Like:\n\n> Even though `thisArg` is passed without modification, non-strict mode functions still replace the `thisArg` with the global object and apply `ToObject`, cf. 9.2.1 [[Call]] (thisArgument, argumentsList)."},{"commentid":6910,"comment_count":2,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2013-12-10 07:33:36 -0800","thetext":"> There are two choices here: \n> (1) Either remove the notes because they were only useful during the transition\n> from ES3 -> ES5\n> (2) Or if strict mode needs to be mentioned, then use a more thorough\n> description. Like:\n> \n> > Even though `thisArg` is passed without modification, non-strict mode functions still replace the `thisArg` with the global object and apply `ToObject`, cf. 9.2.1 [[Call]] (thisArgument, argumentsList).\n\nOption 2 definitely gets my vote — would make things much clearer, at no significant cost."},{"commentid":7332,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-02-16 18:01:15 -0800","thetext":"fixed in rev23 editor's draft\n\nusing a variation of choice 2"},{"commentid":7567,"comment_count":4,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-04-06 11:30:35 -0700","thetext":"fixed in rev23 draft"}]}}
---
