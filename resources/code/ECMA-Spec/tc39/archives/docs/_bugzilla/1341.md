---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1341,"creation_ts":"2013-03-17 23:57:00 -0700","short_desc":"\"this function object\" / \"owner object\"","delta_ts":"2014-07-18 23:43:38 -0700","product":"Draft for 6th Edition","component":"editorial issue","version":"Rev 24: April 27, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"jmdyck","name":"Michael Dyck"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":3483,"comment_count":0,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2013-03-17 23:57:00 -0700","thetext":"In:\n  15.13.5.2.1 ArrayBuffer(length)\n  15.13.6.1.1 TypedArray ( length )\n  15.13.6.1.2 TypedArray ( typedArray )\n  15.13.6.1.3 TypedArray ( array )\nthe algorithm refers to \"this function object\", which is not defined.\n\nAnalogy with \"this Date object\" of 15.9.5 would suggest that it means:\n    the object that is the 'this' value for the invocation of the function\nbut this is presumably not the case, because each of the 4 algorithms,\nprior to referring to \"this function object\", has already referred to\n\"the 'this' value\" and found it wanting.\n\nMy guess is that \"this function object\" means:\n    the function object whose [[Call]] internal method\n    is the \"current\" algorithm\n\nIt would be good if the spec defined a term for this (generalized to any internal method). E.g., \"owner object\".\n\nSection 8.1.6.2 says:\n    In addition to its parameters, an internal method always has access to\n    the object upon which it is invoked as a method.\nTo this, you could add something like:\n    Specifically, when the spec refers to calling/invoking/performing\n    a particular internal method of an object, [the algorithm bound to]\n    that internal method can refer to that object as the *owner object*.\n\n(Is this the same concept as 8.1.6.3's \"target\"? Note that the word \"target\" is used with other senses elsewhere in the spec, but the word \"owner\" has the advantage of not being used at all yet in the spec.)\n\nThen,\n    Let F be this function object.\ncould become:\n    Let F be the owner object.\n    Assert: F is a function object.\n\nI think it's also the case that occurrences of\n    the Foo function object on which the 'new' operator was applied\ncould be replaced by just\n    the owner object"},{"commentid":3484,"comment_count":1,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2013-03-18 00:04:32 -0700","thetext":"Ditto references to \"this function\" in:\n    15.4.1.1 Array ( [ item1 [ , item2 [ , [...] ] ] ] )\n    15.4.1.2 Array (len)\nI think."},{"commentid":3485,"comment_count":2,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2013-03-18 11:01:09 -0700","thetext":"And ditto:\n    15.11.1.1:   \"the Error function object\"\n    15.11.7.1.1: \"this NativeError function object\"\n    15.11.7.2.1: \"this NativeError function object\"\n    15.10.3.1:   \"this RegExp function object\""},{"commentid":3551,"comment_count":3,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2013-03-24 01:26:27 -0700","thetext":"In a related bit of terminology, every occurrence of \"this Function object\" is in a pair of steps of the form:\n    a. Let F be this function object.\n    b. Let argumentsList be the argumentsList argument of\n       the [[Call]] internal method that invoked F.\n\nBut it seems to me that that phrase:\n    \"the [[Call]] internal method that invoked F\"\nis incorrect: the [[Call]] internal method doesn't *invoke* F,\nit merely belongs to F, and it is invoked as a consequence of F being invoked."},{"commentid":8483,"comment_count":4,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2014-05-14 22:54:19 -0700","thetext":"re comment 1:\nThe phrase \"this function object\" was mostly eliminated in rev16, then completely gone in rev19.\n\nre comment 2:\nrev24 has 3 occurrences of \"Let /F/ be this function.\":\n  22.1.1.1 / step 5.a\n  22.1.1.2 / step 5.a\n  22.1.1.3 / step 5.a\n\nAlso,\n  19.2.1.1 / step 15.a\n  25.2.1.1 / step 15.a\nhave \"Let /C/ be the function that is currently being evaluated.\"\n\nre comment 3:\nrev24 has:\n  19.5.1.1 / step 1:   \"this Error function object\"\n  19.5.6.1.1 / step 1: \"this /NativeError/ function object\"\n  19.5.6.1.2 / step 1: \"this /NativeError/ function object\"\n  21.2.3.1 / step 1:   \"this RegExp function object\"\n\nre comment 4:\nrev24 has, in 22.2.4.1 / step 9:\n  Let /argumentsList/ be the /argumentsList/ argument of\n  the [[Call]] internal method that invoked /F/."},{"commentid":9105,"comment_count":5,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-06-26 18:01:22 -0700","thetext":"fixed in rev26 editor's draft\n\nin 8.3 defined the term \"active function\" and used in in all the remaining situations \"this function object\", etc. situations."},{"commentid":9321,"comment_count":6,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-07-18 23:43:38 -0700","thetext":"in rev26 draft"}]}}
---
