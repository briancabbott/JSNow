---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2665,"creation_ts":"2014-04-17 05:52:00 -0700","short_desc":"12.3: Optional Arguments in \"MemberExpression : new super Arguments\" leads to Shift/Reduce conflicts","delta_ts":"2014-04-29 21:57:20 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 23: April 5, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":7764,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2014-04-17 05:52:18 -0700","thetext":"This is the same issue as in bug 2338. Draft rev23 added a lookahead restriction, but the issue still persists. \n\nFor the input token sequence \"new super ( )\" it cannot be decided if it has to parsed as:\n- LeftHandSideExpression[CallExpression[ MemberExpression[\"new super\"] \"( )\"]]\n- or as LeftHandSideExpression[MemberExpression[\"new super ( )\"]]\n\nShouldn't it be possible to resolve this issue by moving \"new super\" without optional arguments to NewExpression? That way no lookahead restriction is required and it's still possible to use \"new super\" as a standalone expression.\n\n---\nMemberExpression:\n  PrimaryExpression\n  MemberExpression [ Expression ]\n  MemberExpression . IdentifierName\n  MemberExpression TemplateLiteral\n  super [ Expression ]\n  super . IdentifierName\n  new super Arguments\n  new MemberExpression Arguments\n\nNewExpression:\n  MemberExpression\n  new NewExpression\n  new super\n---\n\n\nSimplified grammar to show the shift/reduce conflict:\n---\n%start leftHandSideExpression\n\n%error-verbose\n\n%token SUPER \"super\"\n%token NEW \"new\"\n\n%%\n\nleftHandSideExpression : newExpression\n                       | callExpression\n                       ;\n\narguments : '(' ')' ;\n\ncallExpression : memberExpression arguments ;\n\nnewExpression : memberExpression ;\n\nmemberExpression : NEW SUPER arguments\n                 | NEW SUPER\n                 ;\n\n%%\n---"},{"commentid":7829,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-04-18 15:42:02 -0700","thetext":"this looks pretty good and preserves the grammar structure from before the addition of super"},{"commentid":7830,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-04-18 19:03:58 -0700","thetext":"fixed in rev24 editor's draft"},{"commentid":7989,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-04-29 21:57:20 -0700","thetext":"fixed in rev24"}]}}
---
