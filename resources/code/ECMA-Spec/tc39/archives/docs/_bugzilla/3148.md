---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3148,"creation_ts":"2014-08-24 10:16:00 -0700","short_desc":"need to better define \"can be statically determined\"","delta_ts":"2014-12-07 14:35:05 -0800","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 26: July 18, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","see_also":"https://bugs.ecmascript.org/show_bug.cgi?id=2982","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"allen","name":"Allen Wirfs-Brock"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["dherman","rossberg"],"long_desc":[{"commentid":9854,"comment_count":0,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-08-24 10:16:00 -0700","thetext":"12.14.1, 1st case 3rd bullet: \"can be statically determined\" is far too vague here. Consider \"const x = 0; with ({__proto__: null}) x = 1;\" -- it is possible (and in this case even fairly easy) to statically determine the condition. Or \"const x = 0; { eval(\"\"); x = 1}\". But those are clearly not cases that you want to require an error for. The spec needs to be more specific, probably by explicitly ruling out cases with intervening object environments, or scopes with sloppy eval.\n12.14.1, 2nd case 1st bullet: dito\n12.14.5.1, 3rd case, 3rd bullet: dito\n\nsplit from Bug 2982"},{"commentid":10173,"comment_count":1,"who":{"uid":"dherman","name":"Dave Herman"},"bug_when":"2014-09-09 10:59:30 -0700","thetext":"Note that this includes import bindings as well as const bindings. There should probably at least be informative text clarifying this in the spec, even if \"statically determined\" isn't formalized more precisely.\n\nDave"},{"commentid":10713,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-12-03 17:10:55 -0800","thetext":"fixed in rev29 editor's draft\n\nstatically determined language and requirement removed as per TC39 discussion https://github.com/tc39/tc39-notes/blob/master/es6/2014-11/nov-18.md#43-assignment-to-a-const-static-error"},{"commentid":10894,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-12-07 14:35:05 -0800","thetext":"fixed in rev29"}]}}
---
