---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1530,"creation_ts":"2013-05-30 13:09:00 -0700","short_desc":"Tests for 15.4.4.9, Array.prototype.shift and 15.4.4.13 Array.prorotype.unshift","delta_ts":"2013-06-12 12:59:49 -0700","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"IN_PROGRESS","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"prsriniv","name":"Prashanth Srinivasan"},"assigned_to":{"uid":"prsriniv","name":"Prashanth Srinivasan"},"cc":"trbaker","long_desc":[{"commentid":4104,"comment_count":0,"who":{"uid":"prsriniv","name":"Prashanth Srinivasan"},"bug_when":"2013-05-30 13:09:45 -0700","thetext":"The handling of attributes is not tested yet. Chrome has strange behavior: it seems to strip all attributes of the shifted array, on top of not throwing an error. Other browsers appear to work as per the spec. Need to add tests to make sure that 'true' is passed to Put and Delete respectively\n\nhttps://mail.mozilla.org/pipermail/test262-discuss/2013-April/000162.html"},{"commentid":4142,"comment_count":1,"attachid":"59","who":{"uid":"prsriniv","name":"Prashanth Srinivasan"},"bug_when":"2013-06-05 08:51:20 -0700","thetext":"Created attachment 59\nAdded tests to make sure true is passed to attributes if not throw TypeError"},{"commentid":4184,"comment_count":2,"attachid":"65","who":{"uid":"prsriniv","name":"Prashanth Srinivasan"},"bug_when":"2013-06-12 12:59:49 -0700","thetext":"Created attachment 65\nAdded tests to make sure true is passed to element attributes if not throw TypeError\n\n\nAs noted in bug description, these 4 test cases fail on v8 debug and release\nversion as it blocks the forbidden updates, but does not throw an error."}],"attachment":[{"_attributes":{"isobsolete":"1","ispatch":"1"},"attachid":"59","date":"2013-06-05 08:51:00 -0700","delta_ts":"2013-06-12 12:59:49 -0700","desc":"Added tests to make sure true is passed to attributes if not throw TypeError","filename":"bug_1530.patch","type":"text/plain","size":"3384","attacher":{"_attributes":{"name":"Prashanth Srinivasan"},"_text":"prsriniv"},"data":{"_attributes":{"encoding":"base64"},"_text":"ZGlmZiAtciBlNjJlMWIzNWYwZDkgdGVzdC9zdWl0ZS9jaDE1LzE1LjQvMTUuNC40LzE1LjQuNC4x\nMy9TMTUuNC40LjEzX0E1LjguanMKLS0tIC9kZXYvbnVsbAlUaHUgSmFuIDAxIDAwOjAwOjAwIDE5\nNzAgKzAwMDAKKysrIGIvdGVzdC9zdWl0ZS9jaDE1LzE1LjQvMTUuNC40LzE1LjQuNC4xMy9TMTUu\nNC40LjEzX0E1LjguanMJV2VkIEp1biAwNSAxMTo1MDowNiAyMDEzIC0wNDAwCkBAIC0wLDAgKzEs\nNTIgQEAKKy8vIENvcHlyaWdodCAoYykgMjAxMyBBZG9iZSBTeXN0ZW1zIEluY29ycGVyYXRlZC4g\nIEFsbCByaWdodHMgcmVzZXJ2ZWQuCisvLyBBZG9iZSBTeXN0ZW1zIEluY29ycGVyYXRlZCBtYWtl\ncyB0aGlzIGNvZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSB0ZXJtcworLy8gYW5kIGNvbmRpdGlvbnMg\nc2V0IGZvcnRoIG9uCisvLyBodHRwOi8vaGcuZWNtYXNjcmlwdC5vcmcvdGVzdHMvdGVzdDI2Mi9y\nYXctZmlsZS90aXAvTElDRU5TRSAodGhlCisvLyAiVXNlIFRlcm1zIikuICBBbnkgcmVkaXN0cmli\ndXRpb24gb2YgdGhpcyBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZQorLy8gY29weXJpZ2h0IGFu\nZCB0aGlzIG5vdGljZSBhbmQgb3RoZXJ3aXNlIGNvbXBseSB3aXRoIHRoZSBVc2UgVGVybXMuCisv\nKioKKyAqIFRoZSB0b1N0cmluZyBwcm9wZXJ0eSBvZiBBcnJheSBjYW4ndCBiZSB1c2VkIGFzIGNv\nbnN0cnVjdG9yCisgKgorICogQHBhdGggY2gxNS8xNS40LzE1LjQuNC8xNS40LjQuMTMvUzE1LjQu\nNC4xM19BNS44LmpzCisgKiBAZGVzY3JpcHRpb24gQXJyYXkudG9TdHJpbmcoKQorICovCisKKy8v\nQ0hFQ0sjMQorZnVuY3Rpb24gdGVzdCgpIHsKK3ZhciBhID0gWzQsNSw2XTsKK09iamVjdC5kZWZp\nbmVQcm9wZXJ0eShhLCAnMicsIHt2YWx1ZTo2LCB3cml0YWJsZTpmYWxzZX0pOwordHJ5IHsKKyAg\nYS51bnNoaWZ0KDEsMiwzKTsKKyAgcmV0dXJuIGZhbHNlOworfSBjYXRjaChlKSB7CisgIGlmKCBl\nLm5hbWUhPT0nVHlwZUVycm9yJyApIHsKKyAgJEVSUk9SKCcjMSBlLm5hbWUgPT09IFR5cGVFcnJv\nci4gQWN0dWFsICcgKyAoZS5uYW1lKSkKKyAgcmV0dXJuIGZhbHNlOworICB9CisgIGlmKCBhLnRv\nU3RyaW5nKCkhPT0nMSwyLDYsNCw1LDYnICkgeworICAkRVJST1IoJyMyIGEudG9TdHJpbmcoKSA9\nPT0gMSwyLDYsNCw1LDYuIEFjdHVhbCAnICsgKGEudG9TdHJpbmcoKSkpCisgIHJldHVybiBmYWxz\nZTsKKyAgfQorICByZXR1cm4gdHJ1ZTsKK30KK30KKworLy9DSEVDSyMyCitmdW5jdGlvbiB0ZXN0\nMSgpIHsKK3ZhciBhID0gWzRdOworT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsICcyJywge3ZhbHVl\nOjYsIGNvbmZpZ3VyYWJsZTpmYWxzZX0pOwordHJ5IHsKKyAgYS51bnNoaWZ0KDEpOworICByZXR1\ncm4gZmFsc2U7Cit9IGNhdGNoKGUpIHsKKyAgaWYoIGUubmFtZSE9PSdUeXBlRXJyb3InICkgewor\nICAkRVJST1IoJyMzIGUubmFtZSA9PT0gVHlwZUVycm9yLiBBY3R1YWwgJyArIChlLm5hbWUpKQor\nICByZXR1cm4gZmFsc2U7CisgIH0gICAgICAKKyAgaWYoIGEudG9TdHJpbmcoKSE9PSc0LCw2LDYn\nICkgeworICAkRVJST1IoJyM0IGEudG9TdHJpbmcoKSA9PT0gNCwsLDYsNicgKyAoYS50b1N0cmlu\nZygpKSkKKyAgcmV0dXJuIGZhbHNlOworICB9CisgIHJldHVybiB0cnVlOworfQorfQpcIE5vIG5l\nd2xpbmUgYXQgZW5kIG9mIGZpbGUKZGlmZiAtciBlNjJlMWIzNWYwZDkgdGVzdC9zdWl0ZS9jaDE1\nLzE1LjQvMTUuNC40LzE1LjQuNC45L1MxNS40LjQuOV9BNS44LmpzCi0tLSAvZGV2L251bGwJVGh1\nIEphbiAwMSAwMDowMDowMCAxOTcwICswMDAwCisrKyBiL3Rlc3Qvc3VpdGUvY2gxNS8xNS40LzE1\nLjQuNC8xNS40LjQuOS9TMTUuNC40LjlfQTUuOC5qcwlXZWQgSnVuIDA1IDExOjUwOjA2IDIwMTMg\nLTA0MDAKQEAgLTAsMCArMSw1MyBAQAorLy8gQ29weXJpZ2h0IChjKSAyMDEzIEFkb2JlIFN5c3Rl\nbXMgSW5jb3JwZXJhdGVkLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC4KKy8vIEFkb2JlIFN5c3RlbXMg\nSW5jb3JwZXJhdGVkIG1ha2VzIHRoaXMgY29kZSBhdmFpbGFibGUgdW5kZXIgdGhlIHRlcm1zCisv\nLyBhbmQgY29uZGl0aW9ucyBzZXQgZm9ydGggb24KKy8vIGh0dHA6Ly9oZy5lY21hc2NyaXB0Lm9y\nZy90ZXN0cy90ZXN0MjYyL3Jhdy1maWxlL3RpcC9MSUNFTlNFICh0aGUKKy8vICJVc2UgVGVybXMi\nKS4gIEFueSByZWRpc3RyaWJ1dGlvbiBvZiB0aGlzIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3Zl\nCisvLyBjb3B5cmlnaHQgYW5kIHRoaXMgbm90aWNlIGFuZCBvdGhlcndpc2UgY29tcGx5IHdpdGgg\ndGhlIFVzZSBUZXJtcy4KKy8qKgorICogVGhlIHRvU3RyaW5nIHByb3BlcnR5IG9mIEFycmF5IGNh\nbid0IGJlIHVzZWQgYXMgY29uc3RydWN0b3IKKyAqCisgKiBAcGF0aCBjaDE1LzE1LjQvMTUuNC40\nLzE1LjQuNC45L1MxNS40LjQuOV9BNS44LmpzCisgKiBAZGVzY3JpcHRpb24gQXJyYXkudG9TdHJp\nbmcoKQorICovCisKKy8vQ0hFQ0sjMQorZnVuY3Rpb24gdGVzdCgpIHsKKyB2YXIgYSA9IFsxLDIs\nMyw0XTsKKyBPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwgJzInLCB7dmFsdWU6Mywgd3JpdGFibGU6\nZmFsc2V9KTsKKyB0cnkgeworICAgYS5zaGlmdCgpOworICAgcmV0dXJuIGZhbHNlOworIH0gY2F0\nY2goZSkgeworICAgaWYoIGUubmFtZSE9PSdUeXBlRXJyb3InICkgeworICAgJEVSUk9SKCcjMSBl\nLm5hbWUgPT09IFR5cGVFcnJvci4gQWN0dWFsICcgKyAoZS5uYW1lKSk7CisgICByZXR1cm4gZmFs\nc2U7CisgICB9CisgICBpZiggYS50b1N0cmluZygpIT09JzIsMywzLDQnICkgeworICAgJEVSUk9S\nKCcjMiBhLnRvU3RyaW5nKCkgPT09IDIsMywzLDQuIEFjdHVhbCAnICsgKGEudG9TdHJpbmcoKSkp\nCisgICByZXR1cm4gZmFsc2U7CisgICB9CisgICByZXR1cm4gdHJ1ZTsKKyB9Cit9CisKKy8vQ0hF\nQ0sgIzIKK2Z1bmN0aW9uIHRlc3QxKCkgeworIHZhciBhID0gWzEsMiwzXTsKKyBPYmplY3QuZGVm\naW5lUHJvcGVydHkoYSwgJzInLCB7dmFsdWU6MywgY29uZmlndXJhYmxlOmZhbHNlfSk7CisgYS5s\nZW5ndGggPSA0OworIHRyeSB7CisgICBhLnNoaWZ0KCk7CisgICByZXR1cm4gZmFsc2U7CisgfSBj\nYXRjaChlKSB7CisgICBpZiggZS5uYW1lIT09J1R5cGVFcnJvcicgKSB7CisgICAkRVJST1IoJyMz\nIGUubmFtZSA9PT0gVHlwZUVycm9yLiBBY3R1YWwgJyArIChlLm5hbWUpKTsKKyAgIHJldHVybiBm\nYWxzZTsKKyAgIH0KKyAgIGlmKCBhLnRvU3RyaW5nKCkhPT0nMiwzLDMsJyApIHsKKyAgICRFUlJP\nUignIzQgYS50b1N0cmluZygpID09PSAyLDMsMywgLiBBY3R1YWwgJyArIChhLnRvU3RyaW5nKCkp\nKQorICAgcmV0dXJuIGZhbHNlOworICAgfQorICAgcmV0dXJuIHRydWU7CisgfQorfQpcIE5vIG5l\nd2xpbmUgYXQgZW5kIG9mIGZpbGUK\n"}},{"_attributes":{"isobsolete":"0","ispatch":"1"},"attachid":"65","date":"2013-06-12 12:59:00 -0700","delta_ts":"2013-06-12 12:59:49 -0700","desc":"Added tests to make sure true is passed to element attributes if not throw TypeError","filename":"bug_1530.patch","type":"text/plain","size":"9444","attacher":{"_attributes":{"name":"Prashanth Srinivasan"},"_text":"prsriniv"},"data":{"_attributes":{"encoding":"base64"},"_text":"ZGlmZiAtciBlZTQyOWMxYmU2ZjYgdGVzdC9zdWl0ZS9jaDE1LzE1LjQvMTUuNC40LzE1LjQuNC4x\nMy8xNS40LjQuMTMtMS5qcwotLS0gL2Rldi9udWxsCVRodSBKYW4gMDEgMDA6MDA6MDAgMTk3MCAr\nMDAwMAorKysgYi90ZXN0L3N1aXRlL2NoMTUvMTUuNC8xNS40LjQvMTUuNC40LjEzLzE1LjQuNC4x\nMy0xLmpzCVdlZCBKdW4gMTIgMTU6NTg6MzkgMjAxMyAtMDQwMApAQCAtMCwwICsxLDUwIEBACisv\nLyBDb3B5cmlnaHQgKGMpIDIwMTMsIEFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkCisvLyBBbGwg\ncmlnaHRzIHJlc2VydmVkLgorLy8KKy8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNl\nIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dAorLy8gbW9kaWZpY2F0aW9uLCBhcmUg\ncGVybWl0dGVkICBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0\nOgorLy8KKy8vIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0\naGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwKKy8vIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFu\nZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuCisvLyAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmlu\nYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsCisvLyB0\naGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRo\nZSBkb2N1bWVudGF0aW9uCisvLyBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzICBwcm92aWRlZCB3aXRo\nIHRoZSBkaXN0cmlidXRpb24uCisvLyAzLiBOZWl0aGVyIHRoZSBuYW1lIG9mIHRoZSBBZG9iZSBT\neXN0ZW1zIEluY29ycG9yYXRlZCBub3IgdGhlIG5hbWVzIG9mIGl0cworLy8gY29udHJpYnV0b3Jz\nIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20g\ndGhpcworLy8gc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Np\nb24uCisvLworLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhP\nTERFUlMgQU5EIENPTlRSSUJVVE9SUyAiQVMgSVMiCisvLyBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1Q\nTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFCisvLyBJ\nTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBB\nUlRJQ1VMQVIgUFVSUE9TRQorLy8gQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRI\nRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRQorLy8gTElBQkxFIEZPUiBBTlkg\nRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUgorLy8g\nQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJP\nQ1VSRU1FTlQgT0YKKy8vIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNF\nLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUworLy8gSU5URVJSVVBUSU9OKSBIT1dFVkVS\nIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4KKy8vIENP\nTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBP\nUiBPVEhFUldJU0UpCisvLyBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJ\nUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRQorLy8gUE9TU0lCSUxJVFkgT0YgU1VD\nSCBEQU1BR0UuCisvKioKKy8qKgorICoKKyAqIEBwYXRoIGNoMTUvMTUuNC8xNS40LjQvMTUuNC40\nLjEzLzE1LjQuNC4xMy0xLmpzCisgKiBAZGVzY3JpcHRpb24gQXJyYXkucHJvdG90eXBlLnVuc2hp\nZnQoKSBmb3IgZWxlbWVudCBhdHRyaWJ1dGVzIHRoYXQgZm9yYmlkIHZhbHVlIGNoYW5nZXMKKyAq\nLworCitmdW5jdGlvbiB0ZXN0Y2FzZSgpIHsKK3ZhciBhID0gWzQsNSw2XTsKK09iamVjdC5kZWZp\nbmVQcm9wZXJ0eShhLCAnMicsIHt2YWx1ZTo2LCB3cml0YWJsZTpmYWxzZX0pOwordHJ5IHsKKyAg\nYS51bnNoaWZ0KDEsMiwzKTsKKyAgcmV0dXJuIGZhbHNlOworfSBjYXRjaChlKSB7CisgIGlmKCBl\nLm5hbWUhPT0nVHlwZUVycm9yJyApIHsKKyAgcmV0dXJuIGZhbHNlOworICB9CisgIGlmKCBhLnRv\nU3RyaW5nKCkhPT0nMSwyLDYsNCw1LDYnICkgeworICByZXR1cm4gZmFsc2U7CisgIH0KKyAgcmV0\ndXJuIHRydWU7Cit9Cit9CitydW5UZXN0Q2FzZSh0ZXN0Y2FzZSkKXCBObyBuZXdsaW5lIGF0IGVu\nZCBvZiBmaWxlCmRpZmYgLXIgZWU0MjljMWJlNmY2IHRlc3Qvc3VpdGUvY2gxNS8xNS40LzE1LjQu\nNC8xNS40LjQuMTMvMTUuNC40LjEzLTIuanMKLS0tIC9kZXYvbnVsbAlUaHUgSmFuIDAxIDAwOjAw\nOjAwIDE5NzAgKzAwMDAKKysrIGIvdGVzdC9zdWl0ZS9jaDE1LzE1LjQvMTUuNC40LzE1LjQuNC4x\nMy8xNS40LjQuMTMtMi5qcwlXZWQgSnVuIDEyIDE1OjU4OjM5IDIwMTMgLTA0MDAKQEAgLTAsMCAr\nMSw1MCBAQAorLy8gQ29weXJpZ2h0IChjKSAyMDEzLCBBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRl\nZAorLy8gQWxsIHJpZ2h0cyByZXNlcnZlZC4KKy8vCisvLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNl\nIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQKKy8vIG1vZGlmaWNh\ndGlvbiwgYXJlIHBlcm1pdHRlZCAgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlv\nbnMgYXJlIG1ldDoKKy8vCisvLyAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVz\ndCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsCisvLyB0aGlzIGxpc3Qgb2YgY29u\nZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLgorLy8gMi4gUmVkaXN0cmlidXRp\nb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90\naWNlLAorLy8gdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xh\naW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbgorLy8gYW5kL29yIG90aGVyIG1hdGVyaWFscyAgcHJv\ndmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLgorLy8gMy4gTmVpdGhlciB0aGUgbmFtZSBvZiB0\naGUgQWRvYmUgU3lzdGVtcyBJbmNvcnBvcmF0ZWQgbm9yIHRoZSBuYW1lcyBvZiBpdHMKKy8vIGNv\nbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVy\naXZlZCBmcm9tIHRoaXMKKy8vIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRl\nbiBwZXJtaXNzaW9uLgorLy8KKy8vIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENP\nUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgIkFTIElTIgorLy8gQU5EIEFOWSBFWFBS\nRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8s\nIFRIRQorLy8gSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVT\nUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UKKy8vIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVO\nVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUKKy8vIExJQUJM\nRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFS\nWSwgT1IKKy8vIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlU\nRUQgVE8sIFBST0NVUkVNRU5UIE9GCisvLyBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBM\nT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MKKy8vIElOVEVSUlVQVElP\nTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVS\nIElOCisvLyBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5F\nR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKQorLy8gQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUg\nVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUKKy8vIFBPU1NJQklM\nSVRZIE9GIFNVQ0ggREFNQUdFLgorLyoqCisvKioKKyAqCisgKiBAcGF0aCBjaDE1LzE1LjQvMTUu\nNC40LzE1LjQuNC4xMy8xNS40LjQuMTMtMi5qcworICogQGRlc2NyaXB0aW9uIEFycmF5LnByb3Rv\ndHlwZS51bnNoaWZ0KCkgZm9yIGVsZW1lbnQgYXR0cmlidXRlcyB0aGF0IGZvcmJpZCB2YWx1ZSBj\naGFuZ2VzCisgKi8KKworZnVuY3Rpb24gdGVzdGNhc2UoKSB7Cit2YXIgYSA9IFs0XTsKK09iamVj\ndC5kZWZpbmVQcm9wZXJ0eShhLCAnMicsIHt2YWx1ZTo2LCBjb25maWd1cmFibGU6ZmFsc2V9KTsK\nK3RyeSB7CisgIGEudW5zaGlmdCgxKTsKKyAgcmV0dXJuIGZhbHNlOworfSBjYXRjaChlKSB7Cisg\nIGlmKCBlLm5hbWUhPT0nVHlwZUVycm9yJyApIHsKKyAgcmV0dXJuIGZhbHNlOworICB9ICAgICAg\nCisgIGlmKCBhLnRvU3RyaW5nKCkhPT0nNCwsNiw2JyApIHsKKyAgcmV0dXJuIGZhbHNlOworICB9\nCisgIHJldHVybiB0cnVlOworfQorfQorcnVuVGVzdENhc2UodGVzdGNhc2UpClwgTm8gbmV3bGlu\nZSBhdCBlbmQgb2YgZmlsZQpkaWZmIC1yIGVlNDI5YzFiZTZmNiB0ZXN0L3N1aXRlL2NoMTUvMTUu\nNC8xNS40LjQvMTUuNC40LjkvMTUuNC40LjktMS5qcwotLS0gL2Rldi9udWxsCVRodSBKYW4gMDEg\nMDA6MDA6MDAgMTk3MCArMDAwMAorKysgYi90ZXN0L3N1aXRlL2NoMTUvMTUuNC8xNS40LjQvMTUu\nNC40LjkvMTUuNC40LjktMS5qcwlXZWQgSnVuIDEyIDE1OjU4OjM5IDIwMTMgLTA0MDAKQEAgLTAs\nMCArMSw1MCBAQAorLy8gQ29weXJpZ2h0IChjKSAyMDEzLCBBZG9iZSBTeXN0ZW1zIEluY29ycG9y\nYXRlZAorLy8gQWxsIHJpZ2h0cyByZXNlcnZlZC4KKy8vCisvLyBSZWRpc3RyaWJ1dGlvbiBhbmQg\ndXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQKKy8vIG1vZGlm\naWNhdGlvbiwgYXJlIHBlcm1pdHRlZCAgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRp\ndGlvbnMgYXJlIG1ldDoKKy8vCisvLyAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUg\nbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsCisvLyB0aGlzIGxpc3Qgb2Yg\nY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLgorLy8gMi4gUmVkaXN0cmli\ndXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQg\nbm90aWNlLAorLy8gdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlz\nY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbgorLy8gYW5kL29yIG90aGVyIG1hdGVyaWFscyAg\ncHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLgorLy8gMy4gTmVpdGhlciB0aGUgbmFtZSBv\nZiB0aGUgQWRvYmUgU3lzdGVtcyBJbmNvcnBvcmF0ZWQgbm9yIHRoZSBuYW1lcyBvZiBpdHMKKy8v\nIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMg\nZGVyaXZlZCBmcm9tIHRoaXMKKy8vIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3Jp\ndHRlbiBwZXJtaXNzaW9uLgorLy8KKy8vIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhF\nIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgIkFTIElTIgorLy8gQU5EIEFOWSBF\nWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQg\nVE8sIFRIRQorLy8gSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklU\nTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UKKy8vIEFSRSBESVNDTEFJTUVELiBJTiBOTyBF\nVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUKKy8vIExJ\nQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1Q\nTEFSWSwgT1IKKy8vIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJ\nTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GCisvLyBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VT\nOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MKKy8vIElOVEVSUlVQ\nVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVU\nSEVSIElOCisvLyBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5H\nIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKQorLy8gQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBU\nSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUKKy8vIFBPU1NJ\nQklMSVRZIE9GIFNVQ0ggREFNQUdFLgorLyoqCisgKiBBcnJheS5wcm90b3R5cGUuc2hpZnQoKSBm\nb3IgZWxlbWVudCBhdHRyaWJ1dGVzIHRoYXQgZm9yYmlkIHZhbHVlIGNoYW5nZXMKKyAqCisgKiBA\ncGF0aCBjaDE1LzE1LjQvMTUuNC40LzE1LjQuNC45LzE1LjQuNC45LTEuanMKKyAqIEBkZXNjcmlw\ndGlvbiBTaGlmdGluZyBhbiBhcnJheSBmb3IgZWxlbWVudCB0aGF0IGZvcmJpZHMgdmFsdWUgY2hh\nbmdlCisgKi8KKworZnVuY3Rpb24gdGVzdGNhc2UoKSB7CisgdmFyIGEgPSBbMSwyLDMsNF07Cisg\nT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsICcyJywge3ZhbHVlOjMsIHdyaXRhYmxlOmZhbHNlfSk7\nCisgdHJ5IHsKKyAgIGEuc2hpZnQoKTsKKyAgIHJldHVybiBmYWxzZTsKKyB9IGNhdGNoKGUpIHsK\nKyAgIGlmKCBlLm5hbWUhPT0nVHlwZUVycm9yJyApIHsKKyAgIHJldHVybiBmYWxzZTsKKyAgIH0K\nKyAgIGlmKCBhLnRvU3RyaW5nKCkhPT0nMiwzLDMsNCcgKSB7CisgICByZXR1cm4gZmFsc2U7Cisg\nICB9CisgICByZXR1cm4gdHJ1ZTsKKyB9Cit9CitydW5UZXN0Q2FzZSh0ZXN0Y2FzZSkKXCBObyBu\nZXdsaW5lIGF0IGVuZCBvZiBmaWxlCmRpZmYgLXIgZWU0MjljMWJlNmY2IHRlc3Qvc3VpdGUvY2gx\nNS8xNS40LzE1LjQuNC8xNS40LjQuOS8xNS40LjQuOS0yLmpzCi0tLSAvZGV2L251bGwJVGh1IEph\nbiAwMSAwMDowMDowMCAxOTcwICswMDAwCisrKyBiL3Rlc3Qvc3VpdGUvY2gxNS8xNS40LzE1LjQu\nNC8xNS40LjQuOS8xNS40LjQuOS0yLmpzCVdlZCBKdW4gMTIgMTU6NTg6MzkgMjAxMyAtMDQwMApA\nQCAtMCwwICsxLDQ5IEBACisvLyBDb3B5cmlnaHQgKGMpIDIwMTMsIEFkb2JlIFN5c3RlbXMgSW5j\nb3Jwb3JhdGVkCisvLyBBbGwgcmlnaHRzIHJlc2VydmVkLgorLy8KKy8vIFJlZGlzdHJpYnV0aW9u\nIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dAorLy8g\nbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkICBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcg\nY29uZGl0aW9ucyBhcmUgbWV0OgorLy8KKy8vIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2Ug\nY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwKKy8vIHRoaXMgbGlz\ndCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuCisvLyAyLiBSZWRp\nc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHly\naWdodCBub3RpY2UsCisvLyB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2lu\nZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uCisvLyBhbmQvb3Igb3RoZXIgbWF0ZXJp\nYWxzICBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uCisvLyAzLiBOZWl0aGVyIHRoZSBu\nYW1lIG9mIHRoZSBBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZCBub3IgdGhlIG5hbWVzIG9mIGl0\ncworLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9k\ndWN0cyBkZXJpdmVkIGZyb20gdGhpcworLy8gc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlv\nciB3cml0dGVuIHBlcm1pc3Npb24uCisvLworLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBC\nWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyAiQVMgSVMiCisvLyBBTkQg\nQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElN\nSVRFRCBUTywgVEhFCisvLyBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFO\nRCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRQorLy8gQVJFIERJU0NMQUlNRUQuIElO\nIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRQor\nLy8gTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwg\nRVhFTVBMQVJZLCBPUgorLy8gQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBO\nT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YKKy8vIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VS\nVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUworLy8gSU5U\nRVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFks\nIFdIRVRIRVIgSU4KKy8vIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNM\nVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpCisvLyBBUklTSU5HIElOIEFOWSBXQVkgT1VU\nIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRQorLy8g\nUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuCisvKioKKyAqCisgKiBAcGF0aCBjaDE1LzE1LjQv\nMTUuNC40LzE1LjQuNC45LzE1LjQuNC45LTEuanMKKyAqIEBkZXNjcmlwdGlvbiBBcnJheS5wcm90\nb3R5cGUuc2hpZnQoKSBmb3IgZWxlbWVudCBhdHRyaWJ1dGVzIHRoYXQgZm9yYmlkIHZhbHVlIGNo\nYW5nZXMKKyAqLworZnVuY3Rpb24gdGVzdGNhc2UoKSB7CisgdmFyIGEgPSBbMSwyLDNdOworIE9i\namVjdC5kZWZpbmVQcm9wZXJ0eShhLCAnMicsIHt2YWx1ZTozLCBjb25maWd1cmFibGU6ZmFsc2V9\nKTsKKyBhLmxlbmd0aCA9IDQ7CisgdHJ5IHsKKyAgIGEuc2hpZnQoKTsKKyAgIHJldHVybiBmYWxz\nZTsKKyB9IGNhdGNoKGUpIHsKKyAgIGlmKCBlLm5hbWUhPT0nVHlwZUVycm9yJyApIHsKKyAgIHJl\ndHVybiBmYWxzZTsKKyAgIH0KKyAgIGlmKCBhLnRvU3RyaW5nKCkhPT0nMiwzLDMsJyApIHsKKyAg\nIHJldHVybiBmYWxzZTsKKyAgIH0KKyAgIHJldHVybiB0cnVlOworIH0KK30KK3J1blRlc3RDYXNl\nKHRlc3RjYXNlKQpcIE5vIG5ld2xpbmUgYXQgZW5kIG9mIGZpbGUK\n"}}]}}
---
