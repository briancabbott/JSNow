---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":245,"creation_ts":"2012-01-18 17:09:00 -0800","short_desc":"Coverage: need check that setter defined for Array.prototype[0] gets called on [].push(...)","delta_ts":"2012-01-18 17:09:54 -0800","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"CONFIRMED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"dfugate","name":"Dave Fugate"},"assigned_to":{"uid":"dfugate","name":"Dave Fugate"},"long_desc":[{"commentid":610,"comment_count":0,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2012-01-18 17:09:54 -0800","thetext":"<Thanks>David Bruant</Thanks>\n\nLe 18/10/2011 21:37, Allen Wirfs-Brock a Ã©crit :\n> On Oct 18, 2011, at 12:31 PM, felix wrote:\n>\n>> If I define a setter for Array.prototype[0], does [].push invoke that setter?\n> It's supposed to.\n>\n>> Test code:\n>>\n>> <!doctype html><html><body>\n>> <script>\n>>  Object.defineProperty(\n>>    Array.prototype, 0,\n>>    { get : function() { alert('get 0'); return this.zero; },\n>>      set : function(v) { alert('set 0 ' + v); this.zero = v; },\n>>      enumerable : true,\n>>      configurable : false });\n>>  var a = [];\n>>  alert('before push a[0] = ' + a[0]);  a.push(44);  alert('after push \n>> a[0] = ' + a[0]); </script> </body></html>\n>>\n>> On all the browsers I've tried so far, the setter doesn't get invoked.\n>>\n>> However, it looks to me like the ES5.1 spec says the setter should get invoked:\n> Yes, that is what it says and it is intentional.\n>\n>> 15.4.4.7 says push() invokes the [[Put]] internal method\n>>\n>> 8.12.5 says [[Put]] tries to use an inherited property descriptor if \n>> there isn't an own property descriptor."}]}}
---
