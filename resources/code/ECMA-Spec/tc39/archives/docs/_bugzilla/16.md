---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":16,"creation_ts":"2011-02-12 01:25:00 -0800","short_desc":"15.2.3.3-4-188 Function are forbidden to have a 'name' property","delta_ts":"2011-03-07 14:29:50 -0800","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"bruant.d","name":"David Bruant"},"assigned_to":{"uid":"dfugate","name":"Dave Fugate"},"long_desc":[{"commentid":25,"comment_count":0,"who":{"uid":"bruant.d","name":"David Bruant"},"bug_when":"2011-02-12 01:25:21 -0800","thetext":"As per ES5.1 15.3.5 Properties of Function Instances, there is nothing forbidding a function to have a 'name' property. This test results in a false negative in browsers implementing such a property.\n\nThe vagueness of the spec should be addressed. Meanwhile, the test is wrong."},{"commentid":31,"comment_count":1,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2011-02-14 10:21:36 -0800","thetext":"Agreed.  The test is clearly incorrect here and I'll be disabling it today."},{"commentid":32,"comment_count":2,"who":{"uid":"bruant.d","name":"David Bruant"},"bug_when":"2011-02-14 10:27:10 -0800","thetext":"Actually, I was wrong, the spec isn't vague. Section 16:\n\"An implementation may provide additional types, values, objects, properties, and functions beyond those described in this specification.\""},{"commentid":75,"comment_count":3,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2011-02-28 13:42:24 -0800","thetext":"I've modified the test in the following manner:\n  var desc = Object.getOwnPropertyDescriptor(f, \"name\");\n  if (desc === undefined) {\n    return true;\n  }\n  return false;\n\nhas become:\n  var desc = Object.getOwnPropertyDescriptor(f, \"functionNameHopefullyDoesNotExist\");\n  return desc === undefined;\n\nWhile I do acknowledge some ECMAScript implementation could in theory add a property named \"functionNameHopefullyDoesNotExist\" to Function.prototype, the probability of this seems incredibly low, and they'd likely be doing this just to break the test:)\n\nThis change will go out with the next set of test case additions from Microsoft.  Leaving the bug open until this occurs and I re-enabled it on test262."},{"commentid":77,"comment_count":4,"who":{"uid":"bruant.d","name":"David Bruant"},"bug_when":"2011-02-28 14:17:16 -0800","thetext":"(In reply to comment #3)\n> I've modified the test in the following manner:\n>   var desc = Object.getOwnPropertyDescriptor(f, \"name\");\n>   if (desc === undefined) {\n>     return true;\n>   }\n>   return false;\n> \n> has become:\n>   var desc = Object.getOwnPropertyDescriptor(f,\n> \"functionNameHopefullyDoesNotExist\");\n>   return desc === undefined;\n> \n> While I do acknowledge some ECMAScript implementation could in theory add a\n> property named \"functionNameHopefullyDoesNotExist\" to Function.prototype, the\n> probability of this seems incredibly low, and they'd likely be doing this just\n> to break the test:)\nHere (https://bugs.ecmascript.org/show_bug.cgi?id=33#c5) I've provided a method which, based on a object creates a property name which is different from all property names present on the object. Might be useful to add to the harness."},{"commentid":80,"comment_count":5,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2011-03-01 11:09:24 -0800","thetext":"Got ambitious and pushed the change out to Mercurial early."}]}}
---
