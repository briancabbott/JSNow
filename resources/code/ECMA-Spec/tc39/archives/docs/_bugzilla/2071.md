---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2071,"creation_ts":"2013-10-09 00:18:00 -0700","short_desc":"Refer to the latest available Unicode version rather than using a fixed version number","delta_ts":"2016-01-19 14:53:14 -0800","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 16: July 15, 2013 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"WONTFIX","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"mathias","name":"Mathias Bynens"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["brterlso","ecmascriptbugs","lukeh","mathias"],"long_desc":[{"commentid":5879,"comment_count":0,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2013-10-09 00:18:56 -0700","thetext":"From http://javascript.spec.whatwg.org/#unicode-database-version:\n\nFor optimal interoperability, JavaScript implementations should use the latest available Unicode database to determine which ECMAScript characters are allowed in Identifiers and IdentifierNames, and which ECMAScript characters are whitespace characters."},{"commentid":5880,"comment_count":1,"who":{"uid":"ecmascriptbugs","name":"Norbert"},"bug_when":"2013-10-09 13:51:08 -0700","thetext":"The current draft doesn't specify a fixed Unicode version; it specifies a minimum version \"or successor\". Specifying a minimum version means:\n- that implementations must support at least that version in order to be conformant,\n- that the conformance test suite can fail implementations that don't support at least that version,\n- that applications that use only the characters of the minimum version in identifiers are guaranteed to run on all implementations of a given ECMAScript edition, which a few years after publication of that edition means all implementations that applications need to run on.\n\nIf on the other hand the spec required the latest Unicode version, then\n- implementations would become non-conformant each time a new version of Unicode introduces new identifier characters, some implementations for a short time, some for a long time;\n- the conformance test suite would have to be revised each time a new version of Unicode introduces new identifier character, and would then fail for implementations that previously were conformant;\n- application developers would have to track which implementations support which Unicode versions, and serve different source code using different identifiers to different implementations.\n\nI have a hard time imagining that any developer would actually serve different source code using different identifiers to different implementations - using the latest Unicode characters in identifiers just isn't important enough. So I think they're better served by the guarantee and stability provided by the current spec. Developers developing for a single ECMAScript implementation (e.g., Node or Windows 8 UI) can still take advantage of a newer Unicode version that their target environment supports."},{"commentid":5881,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-10-09 15:47:44 -0700","thetext":"Norbert nicely described why we require a minimum version rather than the current version. \n\nIn addition, at the Sept 2013 TC19 meeting the consensus was that the ES5 recommendation about using Unicode 3.0 identifier characters to maximize interoperability was unnecessary (even if updated to a newer version) and should be deleted. https://github.com/rwaldron/tc39-notes/blob/master/es6/2013-09/sept-17.md#57-note-in-116-wrt-unicode-versions-update-to-unicode-51 \n\nThe min. Unicode 5.1.0 requirement will remain, and the interoperability recommendation is gone."},{"commentid":5883,"comment_count":3,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2013-10-10 00:14:36 -0700","thetext":"(In reply to comment #1)\n> The current draft doesn't specify a fixed Unicode version; it specifies a\n> minimum version \"or successor\".\n\nThat’s fine!\n\n> If on the other hand the spec required the latest Unicode version, then […]\n\nNote that I used the verb “should”, intended to be interpreted as per RFC 2119. I didn’t suggest requiring the latest Unicode version, but rather recommending it, i.e. whenever a new Unicode version is released it would make sense to update the engine’s data tables — and the spec could encourage this IMHO. That’s what this issue is about (sorry for being unclear).\n\n(In reply to comment #2)\n> The min. Unicode 5.1.0 requirement will remain, and the interoperability\n> recommendation is gone.\n\nThat’s good news. \n\nThe meeting notes don’t say anything about why Unicode v5.1.0 was chosen instead of a more recent version, though. Any idea?\n\nTo clarify, I’d like to see the spec recommend a minimum Unicode version (preferably one that is more recent than v5.1.0) while also recommending engines to update their data tables to newer Unicode versions as they are released (without it being a strict requirement)."},{"commentid":6877,"comment_count":4,"who":{"uid":"ecmascriptbugs","name":"Norbert"},"bug_when":"2013-12-06 19:15:38 -0800","thetext":"(In reply to comment #3)\n> The meeting notes don’t say anything about why Unicode v5.1.0 was chosen\n> instead of a more recent version, though. Any idea?\n\nWhy I chose Unicode 5.1:\nhttp://norbertlindenberg.com/2012/05/ecmascript-supplementary-characters/index.html#Unicode\n\nAs we get closer to finalizing the spec, it may be worthwhile asking Microsoft\n- whether Explorer versions implementing ES 6 will rely on Windows or .NET for Unicode character properties or use their own tables for that information,\n- whether Explorer versions implementing ES 6 will run on Windows 7.\nIt may be possible to increase the minimum Unicode version based on the answers.\n\n> To clarify, I’d like to see the spec recommend a minimum Unicode version\n> (preferably one that is more recent than v5.1.0) while also recommending\n> engines to update their data tables to newer Unicode versions as they are\n> released (without it being a strict requirement).\n\nThat might be a helpful recommendation for new implementations, similar to the recommendations we already provide to use the IANA time zone database and, for ECMA-402, CLDR."},{"commentid":6878,"comment_count":5,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2013-12-07 04:44:37 -0800","thetext":"(In reply to comment #4)\n> As we get closer to finalizing the spec, it may be worthwhile asking Microsoft\n> - whether Explorer versions implementing ES 6 will rely on Windows or .NET for\n> Unicode character properties or use their own tables for that information,\n> - whether Explorer versions implementing ES 6 will run on Windows 7.\n> It may be possible to increase the minimum Unicode version based on the\n> answers.\n\nCCing Luke Hoban from Microsoft, who can hopefully answer that question."},{"commentid":6967,"comment_count":6,"who":{"uid":"brterlso","name":"Brian Terlson"},"bug_when":"2014-01-13 16:17:37 -0800","thetext":"Just found this thread and wanted to add some information. Windows 7 does indeed only support Unicode 5.1 (which may be the motivation for the current minimum required version). It’s safest to assume IE could continue depending on OS APIs for Unicode support, so the Unicode 5.1 minimum seems like the best choice."},{"commentid":9224,"comment_count":7,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-07-16 14:58:55 -0700","thetext":"It sounds to me like for this edition we should just stick with 5.1."},{"commentid":14912,"comment_count":8,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2016-01-19 14:53:14 -0800","thetext":"See also: https://github.com/tc39/ecma262/pull/300"}]}}
---
