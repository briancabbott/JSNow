---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2561,"creation_ts":"2014-02-21 09:47:00 -0800","short_desc":"Array.from usingIterator path: mapfn call is missing args","delta_ts":"2014-05-06 16:40:04 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 22: January 20, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"waldron.rick","name":"Rick Waldron"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":7389,"comment_count":0,"who":{"uid":"waldron.rick","name":"Rick Waldron"},"bug_when":"2014-02-21 09:47:28 -0800","thetext":"The call to mapfn is missing two arguments. \n\nExpect: \n  kValue, k, items\n\nActual: \n  kValue\n\n\nThe arrayLike path is correct"},{"commentid":7445,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-03-18 15:19:12 -0700","thetext":"It isn't clear to me that three arguments are correct for the iterator case.\n\nThe three arguments derive from A.p.map where  direct indexing is used rather than an iterator. The second argument is an index into the third argument.  Presumably, the intent is that the callback function could use the 2nd and 3rd argument to probe around in the collection being iterated.\n\nBut when an iterator is being used instead of a collection, it isn't clear that there is anything useful that the callback function could do if it was passed the iterator.  Similarly, we don't have a an index associated with the iterator, just an iteration count that can't be used to access into the iterator.\n\nI seems to me that passing only one argument, is still best. That way will somebody does pass in a callback that expects three arguments they will probably get an exception when they try to index into non-existent the 3rd argument.\n\nIf you feel strongly otherwise you might want to discuss this on esdiscuss"},{"commentid":7793,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-04-17 12:29:55 -0700","thetext":"fixed in rev24 editor's draft\n\nupdated as per TC39 meeting consensus https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-04/apr-9.md#signature-of-arrayfrom-map-callback"},{"commentid":8181,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-05-06 16:40:04 -0700","thetext":"fixed in rev24"}]}}
---
