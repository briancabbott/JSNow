---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3409,"creation_ts":"2014-12-07 12:14:00 -0800","short_desc":"22.1.3.*: Handle large length values","delta_ts":"2014-12-23 20:23:34 -0800","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 28: October 14, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":10817,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2014-12-07 12:14:57 -0800","thetext":"From https://mail.mozilla.org/pipermail/es-discuss/2014-October/040110.html\n\n> Somewhat related: Does it make sense to check if the length will exceed the 2^53-1 limit? And is \n> ToString(9007199254740993) properly defined, where 9007199254740993 is a mathematical real number as \n> defined in \"5.2 Algorithm Conventions\". As I understand it, ToString (7.1.12) is not defined for \n> arbitrary numbers, but only for the Number type (\"6.1.6 The Number Type\").\n> \n> A simple example where this issue arises:\n> ---\n> var a = {length: Math.pow(2,53)-1};\n> Array.prototype.push.call(a, ...\"abc\");\n> print(a[\"9007199254740991\"]); // ?\n> print(a[\"9007199254740992\"]); // ?\n> print(a[\"9007199254740993\"]); // ?\n> ---"},{"commentid":11024,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-12-12 10:32:06 -0800","thetext":"fixed in rev30 editor's draft\n\nArray.prototype.concat/push/splice throw TypeError if new length would be 2^53 or greater."},{"commentid":11093,"comment_count":2,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2014-12-18 02:56:47 -0800","thetext":"(In reply to Allen Wirfs-Brock from comment #1)\n> fixed in rev30 editor's draft\n> \n> Array.prototype.concat/push/splice throw TypeError if new length would be\n> 2^53 or greater.\n\nWhat about Array.prototype.unshift ?"},{"commentid":11108,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-12-18 09:23:20 -0800","thetext":"and unshift"},{"commentid":11225,"comment_count":4,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-12-23 20:23:34 -0800","thetext":"fixed in rev30"}]}}
---
