---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2475,"creation_ts":"2014-01-28 07:32:00 -0800","short_desc":"19.2.3.5 Function.prototype.toMethod: Explicitly exclude built-in function objects?","delta_ts":"2014-04-06 11:29:29 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 22: January 20, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","see_also":"https://bugs.ecmascript.org/show_bug.cgi?id=2550","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":7140,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2014-01-28 07:32:55 -0800","thetext":"19.2.3.5 Function.prototype.toMethod (superBinding, methodName = undefined), step 1:\n\n> If func is not an ECMAScript function object, then throw a TypeError exception.\n\n\nBut built-in function objects may be implemented as ECMAScript function objects (cf. 9.3), so it may make sense to explicitly exclude built-in function objects from Function.prototype.toMethod() to ensure consistent behaviour across implementations."},{"commentid":7151,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-01-28 08:30:12 -0800","thetext":"The ECMAScript function requirement is there because we don't know anything about non-ECMASript functions and if or how they might represent super bindings.\n\ntoMethod should work fine with built-ins that are ES function objects. Bot note that currently no built-ins are specified to use super because super is a mechanism of the ES language and we don't know whether a compatable mechanism is available for non-ES functions.\n\nWhat we probably could do is treat non-ES functions just like ES-functions that don't have a super or name binding.  Basically just structurally clone them."},{"commentid":7152,"comment_count":2,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2014-01-28 08:49:50 -0800","thetext":"(In reply to comment #1)\n> toMethod should work fine with built-ins that are ES function objects.\n\nI'm mainly concerned about cases where toMethod() works in one ECMAScript implementation and not in a different one depending on how implementations define their built-in function objects. This just calls for trouble. \n\n> \n> What we probably could do is treat non-ES functions just like ES-functions that\n> don't have a super or name binding.  Basically just structurally clone them.\n\nHmm, I'm not sure whether that works in general resp. is an acceptable solution for implementors. It should possibly be discussed at the f2f."},{"commentid":7306,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-02-14 12:47:39 -0800","thetext":"fixed in rev23 editor's draft\n\nupdated to explicitly allow with exotic built-in function objects."},{"commentid":7517,"comment_count":4,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-04-06 11:29:29 -0700","thetext":"fixed in rev23 draft"}]}}
---
