---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":632,"creation_ts":"2012-08-28 19:34:00 -0700","short_desc":"repetition between 7.8.3 & 9.1.3.1","delta_ts":"2015-02-12 15:06:16 -0800","product":"Draft for 7th Edition","component":"Deferred from 6th edition","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"CONFIRMED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"jmdyck","name":"Michael Dyck"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":1536,"comment_count":0,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2012-08-28 19:34:06 -0700","thetext":"The Syntax sections of\n  7.8.3 \"Numeric Literals\"\nand\n  9.1.3.1 \"ToNumber Applied to the String Type\"\nhave a fair bit of overlap. They each have a production for:\n    DecimalDigits\n    DecimalDigit\n    ExponentPart\n    ExponentIndicator\n    SignedInteger\n    HexIntegerLiteral\n    HexDigits\nand in each case, the two productions are the same, modulo colons. (Except for HexIntegerLiteral, which was recently changed in 7.8.3 but not in 9.1.3.1. But the two definitions are still equivalent.)\n\nMoreover, the rules for the MV of these productions are the same in 7.8.3 and 9.1.3.1 (except, of course, for HexIntegerLiteral, but again they are equivalent).\n\nFinally, I believe these are the only cases in the spec where a nonterminal name is defined in more than one grammar (i.e., the lexical grammar and the numeric string grammar).\n\n\nTherefore, I think it would be a significant improvement if the overlap between these two sections were eliminated. I think it would suffice to delete the relevant chunks of 9.1.3.1 and add a sentence referring the reader to 7.8.3. (Note the precedent of the RegExp grammar in 15.10, which refers to symbols defined in 6, 7.6, 7.8.3, and 7.8.4.)\n\nIt also might help to change 3-colons to 2-colons in the remaining productions in 9.1.3.1, to avoid potential confusion about whether a 3-colon production can reference a symbol defined by a 2-colon production.\n\nAnd the spec could give assurances that although its syntax is divided into several grammars for organizational purposes, there's nothing (no symbol collisions) to prevent an implementation from viewing all productions as being in a single grammar."},{"commentid":1537,"comment_count":1,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2012-08-28 21:17:18 -0700","thetext":"Whoops, in that list of common nonterminal names, \"HexDigits\" should be just \"HexDigit\"."},{"commentid":1539,"comment_count":2,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2012-08-29 21:49:32 -0700","thetext":"(There's also the precedent that the JSON lexical grammar uses nonterminals defined in clause 7.)"},{"commentid":12488,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-12 15:06:16 -0800","thetext":"Deferring to ES7"}]}}
---
