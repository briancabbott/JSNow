---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3521,"creation_ts":"2015-01-12 02:44:00 -0800","short_desc":"In strings and regular expressions, are `\\uD834\\uDF06` and `\\u{D834}\\u{DF06}` equivalent?","delta_ts":"2015-01-20 15:58:36 -0800","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 30: December 24, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"INVALID","see_also":"http://code.google.com/p/v8/issues/detail?id=3648#c8","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"mathias","name":"Mathias Bynens"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":"mathias","long_desc":[{"commentid":11323,"comment_count":0,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2015-01-12 02:44:06 -0800","thetext":"In strings and regular expressions, are `\\uD834\\uDF06` and `\\u{D834}\\u{DF06}` equivalent? If not, how does the latter behave — does it throw an error? I’d expect both to represent U+1D306.\n\nhttps://people.mozilla.org/~jorendorff/es6-draft.html#sec-patterns says:\n\nRegExpUnicodeEscapeSequence[U] ::\n    [+U] u LeadSurrogate \\u TrailSurrogate\n    u Hex4Digits\n    [+U] u{ HexDigits }\n\nShould `[+U] u{ LeadSurrogate } \\u{ TrailSurrogate }` be added there?"},{"commentid":11336,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-01-13 12:46:18 -0800","thetext":"They're equivalent in strings, but not in /u regular expressions.  In that context,\n\n\\uD834\\uDF06 represents the single code point U+1D306., but \\u{D834}\\u{DF06} represents two code points - U+D834 and U+DF06."},{"commentid":11339,"comment_count":2,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2015-01-13 15:10:08 -0800","thetext":"(In reply to Allen Wirfs-Brock from comment #1)\n> They're equivalent in strings, but not in /u regular expressions.  In that\n> context,\n> \n> \\uD834\\uDF06 represents the single code point U+1D306., but \\u{D834}\\u{DF06}\n> represents two code points - U+D834 and U+DF06.\n\nWhen does this matter? Does that constitute an observable difference? Since both are equivalent in strings, I don’t think this is the case, but I might be missing something.\n\n    /\\uD834\\uDF06/.test('\\uD834\\uDF06'); // true\n    /\\u{D834}\\u{DF06}/u.test('\\uD834\\uDF06'); // true"},{"commentid":11341,"comment_count":3,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2015-01-13 15:15:40 -0800","thetext":"Ah, I guess it matters in situations like:\n\n    /\\uD834\\uDF06{2}/u.test('\\uD834\\uDF06\\uD834\\uDF06'); // true\n    /\\uD834\\uDF06{2}/u.test('\\uD834\\uDF06\\uDF06'); // false\n    /\\u{D834}\\u{DF06}{2}/u.test('\\uD834\\uDF06\\uD834\\uDF06'); // false\n    /\\u{D834}\\u{DF06}{2}/u.test('\\uD834\\uDF06\\uDF06'); // true"}]}}
---
