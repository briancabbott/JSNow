---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2768,"creation_ts":"2014-05-01 07:31:00 -0700","short_desc":"13.6  Iteration Statements: lookahead restriction for \"for-of\" needs to be \"let\", not \"let [\"","delta_ts":"2015-02-12 12:17:40 -0800","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 24: April 27, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":8060,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2014-05-01 07:31:28 -0700","thetext":"13.6  Iteration Statements\n\nChange lookahead restriction for the for-of statement back to \"let\" to resolve a shift/reduce resp. reduce/reduce conflict.\n\nSimplified grammar to show shift/reduce conflict:\n---\n%start statement\n\n%error-verbose\n\n%token ID\n%token FOR \"for\"\n%token OF \"of\"\n%token LET \"let\"\n\n%%\n\nstatement : forOfStatement | ';' ;\n\nforOfStatement : FOR '(' leftHandSideExpression OF assignmentExpression ')' statement\n               | FOR '(' forDeclaration OF assignmentExpression ')' statement\n               ;\n\nforDeclaration : LET bindingIdentifier ;\nbindingIdentifier : ID | OF | LET ;\n\nassignmentExpression : leftHandSideExpression ;\n\nleftHandSideExpression : identifierReference ;\nidentifierReference : ID | OF | LET ;\n\n%%\n---"},{"commentid":12153,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-05 15:17:54 -0800","thetext":"fixed in rev33 editor's draft\n\nAlso removed look-ahead restriction on for-in which tests suggest is unnecessary.\n\n for;; still need the let [ look-ahead restriction, just like ExpressionStatement"},{"commentid":12169,"comment_count":2,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2015-02-05 15:47:43 -0800","thetext":"(In reply to Allen Wirfs-Brock from comment #1)\n> fixed in rev33 editor's draft\n> \n> Also removed look-ahead restriction on for-in which tests suggest is\n> unnecessary.\n> \n>  for;; still need the let [ look-ahead restriction, just like\n> ExpressionStatement\n\nWasn't the lookahead issue in for-of already resolved in rev25?\n\nAnd for-in needs restriction on `let [` to ensure `for (let in letters);` still works, right?"},{"commentid":12442,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-12 12:17:40 -0800","thetext":"fixed in rev33"}]}}
---
