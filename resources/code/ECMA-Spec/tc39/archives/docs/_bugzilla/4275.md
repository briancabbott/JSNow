---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":4275,"creation_ts":"2015-04-13 10:45:00 -0700","short_desc":"Be specific about which \"version\" of an algorithm is being referenced","delta_ts":"2015-05-07 09:40:06 -0700","product":"Draft for 6th Edition","component":"editorial issue","version":"Rev 37: April 3, 2015 Release Candidate 4","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"WORKSFORME","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"caitpotter88","name":"Caitlin Potter [:caitp]"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":"caitpotter88","long_desc":[{"commentid":14168,"comment_count":0,"who":{"uid":"caitpotter88","name":"Caitlin Potter [:caitp]"},"bug_when":"2015-04-13 10:45:05 -0700","thetext":"It would be really nice if each reference to an algorithm (specifically, runtime semantics) in the spec was specific about which version of the algorithm is being referenced. This would allow generated renderings of the draft on electronic mediums to link to the specific algorithm.\n\nFor example, 14.1.18 and 14.2.14 both list sets of steps for different variations of the same algorithm. References to the IteratorBindingInitialization algorithm should be specific about which one is meant. This would make it much easier to read and jump between different sections when necessary.\n\n(From https://github.com/jorendorff/es-spec-html/issues/90#issuecomment-92440636)"},{"commentid":14169,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-04-13 11:08:33 -0700","thetext":"(In reply to Caitlin Potter [:caitp] from comment #0)\n> It would be really nice if each reference to an algorithm (specifically,\n> runtime semantics) in the spec was specific about which version of the\n> algorithm is being referenced. This would allow generated renderings of the\n> draft on electronic mediums to link to the specific algorithm.\n> \n> For example, 14.1.18 and 14.2.14 both list sets of steps for different\n> variations of the same algorithm. References to the\n> IteratorBindingInitialization algorithm should be specific about which one\n> is meant. This would make it much easier to read and jump between different\n> sections when necessary.\n> \n> (From\n> https://github.com/jorendorff/es-spec-html/issues/90#issuecomment-92440636)\n\nThat really doesn't make a lot of sense, at least for the general case. Algorithms with multiple definitions of this sort are intentionally designed to be polymorphically selected based upon the specific entity (usually the grammar rule corresponding to a parse node).  Essentially they are doing OO-style dispatch.\n\nTypicality we only use this technique where we have to select from among several possible implementations of the named algorithm.  In other words, we do this specifically because we don't know which version of the algorithm will be dynamically applicable at runtime. \n\nIdeally, when reading such algorithms you would like a reference link to take to a list (or a little OO method browser) of all of the possible implementations of the referenced algorithms.  The See Also line in such algorithms is an attempt to provide the contents for such a list."},{"commentid":14170,"comment_count":2,"who":{"uid":"caitpotter88","name":"Caitlin Potter [:caitp]"},"bug_when":"2015-04-13 11:18:10 -0700","thetext":"The \"See Also\" listings don't typically lead to alternative algorithm versions, but to other related algorithms.\n\nMaybe a step could be added to just generate the version-select info separately, I guess. The main pain point in es-spec-html is that there's no hyperlink \"at all\", which is very painful on mobile Safari, and not so great on a desktop either. Some of these algorithms are referenced many, many times, and it can be quite a lot of digging to find the right one.\n\nBut yeah, fine, maybe that's more a problem for es-spec-html"},{"commentid":14171,"comment_count":3,"who":{"uid":"caitpotter88","name":"Caitlin Potter [:caitp]"},"bug_when":"2015-04-13 11:24:07 -0700","thetext":"Here's an idea:\n\nMetadata at the header of each version of these \"polymorphic\" sets of algorithm steps, as a description of the main use of those sets of algorithm steps.\n\nFor instance:\n\nIteratorBindingInitialization [[Destructuring]]\nIteratorBindingInitialization [[Functions, Generators, Methods]]\nIteratorBindingInitialization [[Arrow Functions]]\n\nor something like that\n\nThe little annotation would make it easier to generate a list of algorithm versions that would actually help you choose the one you're looking for?"},{"commentid":14172,"comment_count":4,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-04-13 11:30:08 -0700","thetext":"(In reply to Caitlin Potter [:caitp] from comment #2)\n> The \"See Also\" listings don't typically lead to alternative algorithm\n> versions, but to other related algorithms.\n\nNope.  All algorithms that are polymorphic over some set of grammar productions begin with a \"See Also:\" line that cross-references to all of the other sections that contains definitions of that algorithm. For one of many examples see: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-comma-operator-static-semantics-isfunctiondefinition"},{"commentid":14173,"comment_count":5,"who":{"uid":"caitpotter88","name":"Caitlin Potter [:caitp]"},"bug_when":"2015-04-13 11:35:42 -0700","thetext":"(In reply to Allen Wirfs-Brock from comment #4)\n> (In reply to Caitlin Potter [:caitp] from comment #2)\n> > The \"See Also\" listings don't typically lead to alternative algorithm\n> > versions, but to other related algorithms.\n> \n> Nope.  All algorithms that are polymorphic over some set of grammar\n> productions begin with a \"See Also:\" line that cross-references to all of\n> the other sections that contains definitions of that algorithm. For one of\n> many examples see:\n> http://people.mozilla.org/~jorendorff/es6-draft.html#sec-comma-operator-\n> static-semantics-isfunctiondefinition\n\nOkay fine, but it's still just a list of numbers which are totally meaningless to human readers and don't really inform a decision about which item you care about, and you still have to hunt down these items to get to the \"See also\" section anyways. That's easily solved, with a little bit of metadata concisely explaining what each version is used for"},{"commentid":14174,"comment_count":6,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-04-13 15:21:47 -0700","thetext":"(In reply to Caitlin Potter [:caitp] from comment #5)\n\n> \n> Okay fine, but it's still just a list of numbers which are totally\n> meaningless to human readers and don't really inform a decision about which\n> item you care about, and you still have to hunt down these items to get to\n> the \"See also\" section anyways. That's easily solved, with a little bit of\n> metadata concisely explaining what each version is used for\n\nThere are actually lists of hyper-linked number and I spend a fair amount of time maintaining the metadata for the linking.  If you want you can use that metadata in your tools (as Jason does to replicate the hyper-linking in his HTML rendering).  For example, you might use them to present a drop down list.\n\nAs for which items you care about, you care about all of them because typically they are all possible alternatives."},{"commentid":14394,"comment_count":7,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-05-07 09:40:06 -0700","thetext":"closing for ES6.  It current is written as intended and we can make any major structural change at this point in the ES6 publication process.\n\nFuture editions might decide to change cross referencing conventions or add additional metadata."}]}}
---
