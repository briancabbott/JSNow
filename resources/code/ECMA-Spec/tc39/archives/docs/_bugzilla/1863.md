---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1863,"creation_ts":"2013-08-30 03:33:00 -0700","short_desc":"Insufficient/Incorrect duplicate computed property key checks","delta_ts":"2013-10-29 09:46:17 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 17: August 23, 2013 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":5272,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2013-08-30 03:33:21 -0700","thetext":"Two issues:\n\n(1) Order of computed and literal property keys should be irrelevant when reporting errors. That means the duplicate property key check needs to be performed for all kinds of property keys. (Obviously implementations are free to omit the check for all-literal-property-keys objects.)\n\njs> \"use strict\"; ({a: 0, [\"a\"]: 0})\nuncaught exception: TypeError: duplicate property-id: a\njs> \"use strict\"; ({[\"a\"]: 0, a: 0})\n{a:0}\n\n\n(2) The duplicate key check needs to use [[GetOwnProperty]] instead of [[HasOwnProperty]] for the accessor property case.\n\njs> ({get [\"x\"](){}, set [\"x\"](v){}})\nuncaught exception: TypeError: duplicate property-id: x"},{"commentid":5980,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-10-26 12:17:27 -0700","thetext":"see https://mail.mozilla.org/pipermail/es-discuss/2013-October/034401.html \n\nI pretty convinced that these dynamic checks are unnecessary and probably a bad idea.  Unless there is overwhelming push to keep them, I'm going to remove them from the spec."},{"commentid":6006,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-10-28 11:43:43 -0700","thetext":"dynamic checks removed in rev20"},{"commentid":6129,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-10-29 09:46:17 -0700","thetext":"fixed in rev20 draft, Oct. 28, 2013"}]}}
---
