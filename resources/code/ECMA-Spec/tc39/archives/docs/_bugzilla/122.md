---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":122,"creation_ts":"2011-07-07 17:42:00 -0700","short_desc":"Coverage: need a test for round-to-larger behavior in Number.prototype.toPrecision","delta_ts":"2014-09-17 03:27:34 -0700","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"CONFIRMED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"jwalden+beo","name":"Jeff Walden (remove +beo to mail)"},"assigned_to":{"uid":"dfugate","name":"Dave Fugate"},"cc":["dmandelin","vincent"],"long_desc":[{"commentid":283,"comment_count":0,"who":{"uid":"jwalden+beo","name":"Jeff Walden (remove +beo to mail)"},"bug_when":"2011-07-07 17:42:53 -0700","thetext":"https://bugzilla.mozilla.org/show_bug.cgi?id=669246\n\nclaims that (125).toPrecision(2) should equal 130.  (I haven't quite verified this myself, but the quoted spec language seems on its face to suggest 130 is the desired behavior.)  Not all the big JS engines do this.  It'd be good to have a test to incent harmony here.\n\nI would write a patch for this, but I don't believe Mozilla's legal people have worked through asinine ECMA-specific licensing issues yet.  :-(  Maybe someone else can?  It should be utterly trivial."},{"commentid":10193,"comment_count":1,"who":{"uid":"vincent","name":"Vincent Lefevre"},"bug_when":"2014-09-17 03:27:34 -0700","thetext":"From the same Mozilla bug, (123.445).toPrecision(5) should also be tested, with the result 123.44 (since 123.445 rounds to a double-precision number below 123.445) because MSIE appears to get this wrong. A user said that this is off-spec, but I disagree:\n\n  https://bugzilla.mozilla.org/show_bug.cgi?id=669246#c5\n\nIn case of disagreement, the ECMAScript spec should be clarified."}]}}
---
