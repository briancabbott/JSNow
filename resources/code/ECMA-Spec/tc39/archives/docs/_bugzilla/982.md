---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":982,"creation_ts":"2012-11-22 09:33:00 -0800","short_desc":"problems with restrictions on non-strict Function caller property","delta_ts":"2012-12-21 18:08:37 -0800","product":"Draft for 6th Edition","component":"normative change from ES5.x","version":"Rev 12: November 22, 2012 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","bug_file_loc":"https://mail.mozilla.org/pipermail/es5-discuss/2012-March/004107.html","priority":"Normal","bug_severity":"normal","dependson":310,"everconfirmed":true,"reporter":{"uid":"allen","name":"Allen Wirfs-Brock"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["brendan","erights","rossberg"],"long_desc":[{"commentid":2512,"comment_count":0,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2012-11-22 09:33:02 -0800","thetext":"+++ This bug was initially created as a clone of Bug #310 +++\n\n15.3.5.4 should have redefined [[GetOwnProperty]] instead of [[Get]] to restrict access to strict-mode functions from non-strict code. \n\nAllenWB:\n\nOK, it looks like the addition of line 6 of 15.3.4.5 was an error.  Line 20 and the informative note in 15.3.5.4 had been around for quite a while when lines 5 and 6 were added in the August 31, 2009 ES5 draft. Technically line 5 is needed and I probably also added line 6 to also incorporate 15.3.5.4 but didn't notice that line 20 made it unnecessary.\n\nI'm disinclined to do anything at all for non-strict caller other than correcting the spec. to use [[GetOwnProperty]] instead of [[Get]].  I'm haven't yet heard any real interoperability issues involving this non-standard feature and unless there are I don't thing we should do anything beyond the minimum necessary to ensure \"caller\" doesn't leak strict callers form the call stack.  As I mentioned earlier, we might consider just specify that as a requirement and moving a away for an algorithmic spec. for this mis-feature."},{"commentid":2555,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2012-11-22 13:41:16 -0800","thetext":"in rev 12 define both [[GetP]  and [[GetownProperty]] to sensor such function references.  Currently as undefined, but perhaps should be null."},{"commentid":2558,"comment_count":2,"who":{"uid":"brendan","name":"Brendan Eich"},"bug_when":"2012-11-22 21:43:20 -0800","thetext":"(In reply to comment #1)\n> in rev 12 define both [[GetP]  and [[GetownProperty]] to sensor such function\n> references.  Currently as undefined, but perhaps should be null.\n\nI sense censoring ;-).\n\nYes, definitely should be null. Otherwise you can tell there's a strict caller, an info leak that might lead to trouble. Hoping Mark will confirm.\n\n/be"},{"commentid":2637,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2012-11-23 09:45:38 -0800","thetext":"corrected in rev 12, Nov. 22, 2012 draft"},{"commentid":2702,"comment_count":4,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2012-11-23 12:01:32 -0800","thetext":"reopened on rev 12 to change censor value to null"},{"commentid":2996,"comment_count":5,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2012-12-05 15:41:27 -0800","thetext":"changed to null in rev 13 editor's draft"}]}}
---
