---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3091,"creation_ts":"2014-07-30 10:51:00 -0700","short_desc":"Loader.import should support options.metadata","delta_ts":"2015-03-16 14:32:05 -0700","product":"Draft for 6th Edition","component":"deferred features","version":"Rev 26: July 18, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"WONTFIX","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"johnjbarton","name":"johnjbarton"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["dherman","jorendorff","samth"],"long_desc":[{"commentid":9647,"comment_count":0,"who":{"uid":"johnjbarton","name":"johnjbarton"},"bug_when":"2014-07-30 10:51:52 -0700","thetext":"The spec seems inconsistent about the metadata property. The define() function of Loader accepts options.metadata:\n---\n26.3.3.2Reflect.Loader.prototype.define ( name, source [ , options ] )\n\n...\n\n8. Let metadata be GetOption(options, \"metadata\").\n9. ReturnIfAbrupt(metadata).\n10. If metadata is undefined then let metadata be ObjectCreate(%ObjectPrototype%).\n---\nBut the import() function does not:\nReflect.Loader.prototype.import ( name [ , options ] \n...\n4. Let p be the result of calling LoadModule(loaderRecord, name, options).\n...\n15.2.4.1LoadModule(loader, name, options) Abstract Operation\n...\n8 Let metadata be ObjectCreate(%ObjectPrototype%).\n\n\nThat means I can pass .metadata to define() but not import(). I think the metadata should be passed on both."},{"commentid":13756,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-03-16 14:32:05 -0700","thetext":"concerns old module spec."}]}}
---
