---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":4270,"creation_ts":"2015-04-12 10:00:00 -0700","short_desc":"Spec treatment/relationship of \"Strict Equality\" and \"SameValue\"","delta_ts":"2015-04-16 14:01:25 -0700","product":"Draft for 6th Edition","component":"editorial issue","version":"Rev 37: April 3, 2015 Release Candidate 4","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"getify","name":"getify@gmail.com"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":14163,"comment_count":0,"who":{"uid":"getify","name":"getify@gmail.com"},"bug_when":"2015-04-12 10:00:34 -0700","thetext":"The note on 7.2.13 says:\n\n\"This algorithm differs from the SameValue Algorithm (7.2.9) in its treatment of signed zeroes and NaNs.\"\n\nThe symmetric note however is *not* present in 7.2.9.\n\n------\n\nSuggestion (1): For helpful clarity, add this note to 7.2.9:\n\n\"This algorithm differs from the Strict Equality Comparison Algorithm (7.2.13) in its treatment of signed zeroes and NaNs.\"\n\n-------\n\nAlso to aid in clarity, one can observe the implication of these notes, which is that one could simply reference the other, after first expressing the two exceptions (NaN and -0).\n\nFor example, Strict Equality Comparison Algorithm could be significantly simplified like this:\n\n\nThe comparison x === y, where x and y are values, produces true or false. Such a comparison is performed as follows:\n\n1. If Type(x) is Number, then\n   If x is NaN, return false.\n   If y is NaN, return false.\n   If x is +0 and y is −0, return true.\n   If x is −0 and y is +0, return true.\n2. If SameValue(x, y) is true, then return true.\n3. Return false.\n\n\nThe advantage here is not just a simpler spec, but it reinforces the implication of those notes discussed earlier. It makes it clear the relationship between the two algorithms. A rewritten section as I suggest wouldn't need a note, because it's now obvious.\n\nHowever, the suggested 7.2.9 note above would still be a benefit to cross-reference clarity.\n\nOf course, you could do the reverse symmetrical, and simplify SameValue as invoking === after tackling the exceptions."},{"commentid":14177,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-04-13 15:40:01 -0700","thetext":"fixed in rev38 editor's draft\n\nadded the note to 7.2.9\n\nany algorithm restructuring will have to wait until ES7.  File free to file that part of this item as a new ticket against ES7."},{"commentid":14246,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-04-16 14:01:25 -0700","thetext":"in rev38"}]}}
---
