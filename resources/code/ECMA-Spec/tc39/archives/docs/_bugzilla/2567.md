---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2567,"creation_ts":"2014-02-27 14:13:00 -0800","short_desc":"9.5.*: Some proxy trap implementations use incorrect check for revocation","delta_ts":"2014-04-06 11:30:25 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 22: January 20, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"efaustbmo","name":"Eric Faust"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":7403,"comment_count":0,"who":{"uid":"efaustbmo","name":"Eric Faust"},"bug_when":"2014-02-27 14:13:23 -0800","thetext":"The header in 9.5 reads:\n\n\"When a proxy is revoked, its [[ProxyHander]] and [[ProxyTarget]] internal slots are set to null causing subsequent invocations of internal methods on that proxy obeject to throw a TypeError exception.\"\n\nand most of the proxy traps in 9.5.* have a check against if |handler| is |null|, but a few use a check against |undefined|. This seems like the check that implements revocation, and is just a bug in the specification. These checks should check against |null| instead.\n\nThe effected operations are:\n\n9.5.4  [[PreventExtensions]]\n9.5.9  [[Set]]\n9.5.12 [[OwnPropertyKeys]]"},{"commentid":7413,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-03-03 12:52:43 -0800","thetext":"fixed in rev23 editor's draft"},{"commentid":7558,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-04-06 11:30:25 -0700","thetext":"fixed in rev23 draft"}]}}
---
