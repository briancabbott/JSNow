---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1189,"creation_ts":"2013-01-07 14:32:00 -0800","short_desc":"“=” instead of “===” in test S13.2_A4_T2","delta_ts":"2013-06-07 04:37:08 -0700","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"martin.bodin","name":"Martin Bodin"},"assigned_to":{"uid":"brbaker","name":"Brent Baker"},"cc":["brbaker","prsriniv","trbaker"],"long_desc":[{"commentid":3110,"comment_count":0,"who":{"uid":"martin.bodin","name":"Martin Bodin"},"bug_when":"2013-01-07 14:32:33 -0800","thetext":"Hi,\n\nI’m not 100% confident that this is actually a bug in the test suite, but I’ve seen in test “S13.2_A4_T1” and “S13.2_A4_T2” (and I guess probably with neighbouring tests...) such a code:\nvar __constructor_was__enumed;\n\nfor (__prop in __gunc.prototype){\n  if (__prop = 'constructor')\n    __constructor_was__enumed = true;\n}\n\nI actually found them quite surprising.  Why putting an assignement there (even if it’s correct with respect to the JavaScript syntax)?  It seems to me that it does not serve the current purpose of this test.  Of course, I may be misinterpreting this particular test.  If it is the case, sorry for the noise.\n\nHere is the code I think should be instead:\n\nfor (__prop in __gunc.prototype){\n  if (__prop === 'constructor')\n    __constructor_was__enumed = true;\n}\n\nHoping it will help,\nMartin."},{"commentid":4076,"comment_count":1,"who":{"uid":"brbaker","name":"Brent Baker"},"bug_when":"2013-05-20 07:44:05 -0700","thetext":"I agree that the intent of the test is to loop through the prototype of the object and try to find the 'constructor', therefore the if should be \"===\" not an assignment.\n\nfor (__prop in __gunc.prototype){\n  if (__prop === 'constructor')\n    __constructor_was__enumed = true;\n}\n\nNOTE: This if test is never actually executed since the prototype of the Function object is not enumerable.\n\nhttp://www.ecma-international.org/ecma-262/5.1/#sec-E\n15.3.5.2: In Edition 5, the prototype property of Function instances is not enumerable. In Edition 3, this property was enumerable.\n\nI'll provide a patch to switch the test to use \"===\""},{"commentid":4077,"comment_count":2,"attachid":"39","who":{"uid":"brbaker","name":"Brent Baker"},"bug_when":"2013-05-20 07:51:19 -0700","thetext":"Created attachment 39\nuse \"===\" instead of \"=\"\n\nI checked other enumeration loops in the ch13/13.2 section and all others are properly using \"===\""},{"commentid":4093,"comment_count":3,"who":{"uid":"prsriniv","name":"Prashanth Srinivasan"},"bug_when":"2013-05-21 12:17:09 -0700","thetext":"Reviewed patches and is good to go."},{"commentid":4152,"comment_count":4,"who":{"uid":"brbaker","name":"Brent Baker"},"bug_when":"2013-06-07 04:37:08 -0700","thetext":"changeset:   374:c0b147580eee\nuser:        Brent Baker <brbaker@adobe.com>\ndate:        Fri Jun 07 06:57:45 2013 -0400\nsummary:     Bug 1189: use \"===\" instead of \"=\" for S13.2_A4_T1 and T2\n\nNOTE: I am still waiting to get access to update the live website @ http://test262.ecmascript.org"}],"attachment":[{"_attributes":{"isobsolete":"0","ispatch":"1"},"attachid":"39","date":"2013-05-20 07:51:00 -0700","delta_ts":"2013-05-20 07:51:19 -0700","desc":"use \"===\" instead of \"=\"","filename":"bug_1189.patch","type":"text/plain","size":"1760","attacher":{"_attributes":{"name":"Brent Baker"},"_text":"brbaker"},"data":{"_attributes":{"encoding":"base64"},"_text":"ZGlmZiAtLWdpdCBhL3Rlc3Qvc3VpdGUvY2gxMy8xMy4yL1MxMy4yX0E0X1QxLmpzIGIvdGVzdC9z\ndWl0ZS9jaDEzLzEzLjIvUzEzLjJfQTRfVDEuanMKLS0tIGEvdGVzdC9zdWl0ZS9jaDEzLzEzLjIv\nUzEzLjJfQTRfVDEuanMKKysrIGIvdGVzdC9zdWl0ZS9jaDEzLzEzLjIvUzEzLjJfQTRfVDEuanMK\nQEAgLTI4LDE3ICsyOCwxNyBAQCBpZiAoX19mdW5jLnByb3RvdHlwZS5jb25zdHJ1Y3RvciAhPT0g\nX19mCiAJJEVSUk9SKCcjMjogX19mdW5jLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9PT0gX19mdW5j\nLiBBY3R1YWw6IF9fZ3VuYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPT09JytfX2d1bmMucHJvdG90\neXBlLmNvbnN0cnVjdG9yKTsKIH0KIC8vCiAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KIAogdmFyIF9f\nY29uc3RydWN0b3Jfd2FzX19lbnVtZWQ7CiAKIGZvciAoX19wcm9wIGluIF9fZnVuYy5wcm90b3R5\ncGUpewotICAgIGlmIChfX3Byb3AgPSAnY29uc3RydWN0b3InKQorICAgIGlmIChfX3Byb3AgPT09\nICdjb25zdHJ1Y3RvcicpCiAgICAgICAgIF9fY29uc3RydWN0b3Jfd2FzX19lbnVtZWQgPSB0cnVl\nOwogfQogCiAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KIC8vQ0hFQ0sjMwogaWYgKF9fY29uc3RydWN0\nb3Jfd2FzX19lbnVtZWQpIHsKIAkkRVJST1IoJyMzOiBfX2NvbnN0cnVjdG9yX3dhc19fZW51bWVk\nID09PSBmYWxzZS4gQWN0dWFsOiBfX2NvbnN0cnVjdG9yX3dhc19fZW51bWVkID09PScrX19jb25z\ndHJ1Y3Rvcl93YXNfX2VudW1lZCk7CiB9CmRpZmYgLS1naXQgYS90ZXN0L3N1aXRlL2NoMTMvMTMu\nMi9TMTMuMl9BNF9UMi5qcyBiL3Rlc3Qvc3VpdGUvY2gxMy8xMy4yL1MxMy4yX0E0X1QyLmpzCi0t\nLSBhL3Rlc3Qvc3VpdGUvY2gxMy8xMy4yL1MxMy4yX0E0X1QyLmpzCisrKyBiL3Rlc3Qvc3VpdGUv\nY2gxMy8xMy4yL1MxMy4yX0E0X1QyLmpzCkBAIC0yOCwxNyArMjgsMTcgQEAgaWYgKF9fZ3VuYy5w\ncm90b3R5cGUuY29uc3RydWN0b3IgIT09IF9fZwogCSRFUlJPUignIzI6IF9fZ3VuYy5wcm90b3R5\ncGUuY29uc3RydWN0b3IgPT09IF9fZ3VuYy4gQWN0dWFsOiBfX2d1bmMucHJvdG90eXBlLmNvbnN0\ncnVjdG9yID09PScrX19ndW5jLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcik7CiB9CiAvLwogLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vCiAKIHZhciBfX2NvbnN0cnVjdG9yX3dhc19fZW51bWVkOwogCiBmb3Ig\nKF9fcHJvcCBpbiBfX2d1bmMucHJvdG90eXBlKXsKLSAgICBpZiAoX19wcm9wID0gJ2NvbnN0cnVj\ndG9yJykKKyAgICBpZiAoX19wcm9wID09PSAnY29uc3RydWN0b3InKQogICAgICAgICBfX2NvbnN0\ncnVjdG9yX3dhc19fZW51bWVkID0gdHJ1ZTsKIH0KIAogLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8v\nLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAv\nL0NIRUNLIzMKIGlmIChfX2NvbnN0cnVjdG9yX3dhc19fZW51bWVkKSB7CiAJJEVSUk9SKCcjMzog\nX19jb25zdHJ1Y3Rvcl93YXNfX2VudW1lZCA9PT0gZmFsc2UuIEFjdHVhbDogX19jb25zdHJ1Y3Rv\ncl93YXNfX2VudW1lZCA9PT0nK19fY29uc3RydWN0b3Jfd2FzX19lbnVtZWQpOwogfQo=\n"}}]}}
---
