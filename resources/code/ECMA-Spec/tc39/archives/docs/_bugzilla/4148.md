---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":4148,"creation_ts":"2015-03-09 07:44:00 -0700","short_desc":"11.6.1.1 Static Semantics: Early Errors","delta_ts":"2015-03-17 16:57:06 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 35: March 4, 2015 Release Candidate 2","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"mathias","name":"Mathias Bynens"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["andrebargull","ecmascriptbugs","mathias"],"long_desc":[{"commentid":13658,"comment_count":0,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2015-03-09 07:44:34 -0700","thetext":"> IdentifierStart :: \\ UnicodeEscapeSequence\n> \n> It is a Syntax Error if SV(UnicodeEscapeSequence) is neither the UTF16Encoding (10.1.1) of a single Unicode code point with the Unicode property “ID_Start” nor \"$\" or \"_\".\n\n`Other_ID_Start` is missing.\n\n> IdentifierPart :: \\ UnicodeEscapeSequence\n>\n> It is a Syntax Error if SV(UnicodeEscapeSequence) is neither the UTF16Encoding (10.1.1) of a single Unicode code point with the Unicode property “ID_Continue” nor \"$\" or \"_\" nor the UTF16Encoding of either <ZWNJ> or <ZWJ>.\n\n`Other_ID_Continue` and `Other_ID_Start` is missing.\n\nSection 11.6 does mention those in the definitions of `UnicodeIDStart` and `UnicodeIDContinue` so either this section should too, or such mentions should be removed everywhere."},{"commentid":13659,"comment_count":1,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2015-03-09 07:46:41 -0700","thetext":"For the record, it seems explicitly mentioning `Other_ID_Start` in the definition of `UnicodeIDContinue` is redundant."},{"commentid":13660,"comment_count":2,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2015-03-09 08:25:43 -0700","thetext":"(In reply to Mathias Bynens from comment #1)\n> For the record, it seems explicitly mentioning `Other_ID_Start` in the\n> definition of `UnicodeIDContinue` is redundant.\n\nNo, see bug 3027.\n\n\nUnicode 7.0, PropList.txt:\n\n# ================================================\n\n2118          ; Other_ID_Start # Sm       SCRIPT CAPITAL P\n212E          ; Other_ID_Start # So       ESTIMATED SYMBOL\n309B..309C    ; Other_ID_Start # Sk   [2] KATAKANA-HIRAGANA VOICED SOUND MARK..KATAKANA-HIRAGANA SEMI-VOICED SOUND MARK\n\n# Total code points: 4\n\n# ================================================\n\n00B7          ; Other_ID_Continue # Po       MIDDLE DOT\n0387          ; Other_ID_Continue # Po       GREEK ANO TELEIA\n1369..1371    ; Other_ID_Continue # No   [9] ETHIOPIC DIGIT ONE..ETHIOPIC DIGIT NINE\n19DA          ; Other_ID_Continue # No       NEW TAI LUE THAM DIGIT ONE\n\n# Total code points: 12\n\n# ================================================"},{"commentid":13661,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-03-09 08:59:48 -0700","thetext":"fixed in rev36 editor's draft\n\nthe early error problem,"},{"commentid":13662,"comment_count":4,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2015-03-09 09:28:41 -0700","thetext":"(In reply to André Bargull from comment #2)\n> Unicode 7.0, PropList.txt:\n> \n> # ================================================\n> \n> 2118          ; Other_ID_Start # Sm       SCRIPT CAPITAL P\n> 212E          ; Other_ID_Start # So       ESTIMATED SYMBOL\n> 309B..309C    ; Other_ID_Start # Sk   [2] KATAKANA-HIRAGANA VOICED SOUND\n> MARK..KATAKANA-HIRAGANA SEMI-VOICED SOUND MARK\n> \n> # Total code points: 4\n> \n> # ================================================\n> \n> 00B7          ; Other_ID_Continue # Po       MIDDLE DOT\n> 0387          ; Other_ID_Continue # Po       GREEK ANO TELEIA\n> 1369..1371    ; Other_ID_Continue # No   [9] ETHIOPIC DIGIT ONE..ETHIOPIC\n> DIGIT NINE\n> 19DA          ; Other_ID_Continue # No       NEW TAI LUE THAM DIGIT ONE\n> \n> # Total code points: 12\n> \n> # ================================================\n\nExactly — All those `Other_ID_Start` code points are already in `ID_Continue` anyway.\n\nTo quickly confirm that explicitly including `Other_ID_Start` for `UnicodeIDContinue` doesn’t make a difference, use a script like https://gist.github.com/mathiasbynens/6334847. See the latest revision on https://gist.github.com/mathiasbynens/6334847 which didn’t cause any changes whatsoever in the generated output.\n\nBtw, rather than `PropList.txt` it seems `DerivedCoreProperties.txt` should be used as per http://unicode.org/reports/tr31/#Table_Lexical_Classes_for_Identifiers."},{"commentid":13663,"comment_count":5,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2015-03-09 09:49:14 -0700","thetext":"(In reply to Mathias Bynens from comment #4)\n> Exactly — All those `Other_ID_Start` code points are already in\n> `ID_Continue` anyway.\n\nErr, in bug 2717 you've requested to explicitly state that Other_ID_Start and Other_ID_Continue are included. \n\n\n> Btw, rather than `PropList.txt` it seems `DerivedCoreProperties.txt` should\n> be used as per\n> http://unicode.org/reports/tr31/#Table_Lexical_Classes_for_Identifiers.\n\nOther_ID_Start and Other_ID_Continue are defined in PropList.txt."},{"commentid":13664,"comment_count":6,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2015-03-09 10:00:02 -0700","thetext":"So, if UnicodeIDContinue mentions Other_ID_Continue it should also mention Other_ID_Start, because Other_ID_Start ∩ Other_ID_Continue = ∅."},{"commentid":13665,"comment_count":7,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2015-03-09 10:03:02 -0700","thetext":"(In reply to André Bargull from comment #5)\n> (In reply to Mathias Bynens from comment #4)\n> > Exactly — All those `Other_ID_Start` code points are already in\n> > `ID_Continue` anyway.\n> \n> Err, in bug 2717 you've requested to explicitly state that Other_ID_Start\n> and Other_ID_Continue are included. \n\nI asked to explicitly include `Other_ID_Start` alongside `ID_Start` and `Other_ID_Continue` alongside `ID_Continue` (just to clarify/repeat what UAX #31 says). How is this relevant to this discussion, though? IIUC this is a different issue, about adding `Other_ID_Start` to `UnicodeIDContinue`.\n\n> Other_ID_Start and Other_ID_Continue are defined in PropList.txt.\n\nWhy should it be used over `DerivedCoreProperties.txt`? To me http://www.unicode.org/reports/tr44/#Simple_Derived sounds like `DerivedCoreProperties.txt` is the reference for derived core properties such as `ID_Start` and `ID_Continue`."},{"commentid":13667,"comment_count":8,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2015-03-09 10:11:48 -0700","thetext":"(In reply to André Bargull from comment #6)\n> So, if UnicodeIDContinue mentions Other_ID_Continue it should also mention\n> Other_ID_Start, because Other_ID_Start ∩ Other_ID_Continue = ∅.\n\nRight — I’m just saying (in comment #1) it doesn’t make a difference and it never will since `ID_Continue` already contains those code points anyway. See the definition of `ID_Continue` here: http://unicode.org/reports/tr31/#Table_Lexical_Classes_for_Identifiers `ID_Continue` is a superset of `ID_Start` (including `Other_ID_Start`), so this is a purely theoretical issue."},{"commentid":13668,"comment_count":9,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2015-03-09 10:17:16 -0700","thetext":"(In reply to Mathias Bynens from comment #8)\n> (In reply to André Bargull from comment #6)\n> > So, if UnicodeIDContinue mentions Other_ID_Continue it should also mention\n> > Other_ID_Start, because Other_ID_Start ∩ Other_ID_Continue = ∅.\n> \n> Right — I’m just saying (in comment #1) it doesn’t make a difference and it\n> never will since `ID_Continue` already contains those code points anyway.\n> See the definition of `ID_Continue` here:\n> http://unicode.org/reports/tr31/#Table_Lexical_Classes_for_Identifiers\n> `ID_Continue` is a superset of `ID_Start` (including `Other_ID_Start`), so\n> this is a purely theoretical issue.\n\nIt's just misleading to leave off Other_ID_Start in UnicodeIDContinue if Other_ID_Continue is explicitly included."},{"commentid":13669,"comment_count":10,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2015-03-09 10:26:42 -0700","thetext":"(In reply to Mathias Bynens from comment #7)\n> Why should it be used over `DerivedCoreProperties.txt`? To me\n> http://www.unicode.org/reports/tr44/#Simple_Derived sounds like\n> `DerivedCoreProperties.txt` is the reference for derived core properties\n> such as `ID_Start` and `ID_Continue`.\n\nI don't understand that question. :-(\n\nIn comment 2 I've copy-pasted the definitions for Other_ID_Start and Other_ID_Continue from PropList.txt. \nIn comment 3 you've responded to comment 2, and said that DerivedCoreProperties.txt instead of PropList.txt should be used (*).\nIn comment 5 I've responded to comment 3, and said that Other_ID_Start and Other_ID_Continue are defined in (and only in) PropList.txt.\n\n(*) Most likely this is the point where we started to talk about different subjects. I've continued to say that Other_ID_Start and Other_ID_Continue are defined in PropList.txt. And you were talking about ID_Start and ID_Continue which are defined in DerivedCoreProperties.txt."},{"commentid":13673,"comment_count":11,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2015-03-09 14:38:18 -0700","thetext":"(In reply to André Bargull from comment #10)\n> (In reply to Mathias Bynens from comment #7)\n> > Why should it be used over `DerivedCoreProperties.txt`? To me\n> > http://www.unicode.org/reports/tr44/#Simple_Derived sounds like\n> > `DerivedCoreProperties.txt` is the reference for derived core properties\n> > such as `ID_Start` and `ID_Continue`.\n> \n> I don't understand that question. :-(\n> \n> In comment 2 I've copy-pasted the definitions for Other_ID_Start and\n> Other_ID_Continue from PropList.txt. \n> In comment 3 you've responded to comment 2, and said that\n> DerivedCoreProperties.txt instead of PropList.txt should be used (*).\n> In comment 5 I've responded to comment 3, and said that Other_ID_Start and\n> Other_ID_Continue are defined in (and only in) PropList.txt.\n> \n> (*) Most likely this is the point where we started to talk about different\n> subjects. I've continued to say that Other_ID_Start and Other_ID_Continue\n> are defined in PropList.txt. And you were talking about ID_Start and\n> ID_Continue which are defined in DerivedCoreProperties.txt.\n\nMy point was that neither `Other_ID_Start` or `Other_ID_Continue` are needed if we just use the `ID_Start` and `ID_Continue` listings in `DerivedCoreProperties.txt`, since those include `Other_ID_Start` and `Other_ID_Continue` respectively already."},{"commentid":13701,"comment_count":12,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2015-03-11 17:14:46 -0700","thetext":"(In reply to Mathias Bynens from comment #11)\n> My point was that neither `Other_ID_Start` or `Other_ID_Continue` are needed\n> if we just use the `ID_Start` and `ID_Continue` listings in\n> `DerivedCoreProperties.txt`, since those include `Other_ID_Start` and\n> `Other_ID_Continue` respectively already.\n\nYeah sure. Do you agree that removing `Other_ID_Start` and `Other_ID_Continue` from the definitions in UnicodeID{Start, Continue} and instead adding a note is a better (cleaner) way to define the set of allowed identifier characters? Because that should solve the whole redundancy issue.\n\n---\nUnicodeIDStart ::\nany Unicode code point with the Unicode property “ID_Start”\n\nUnicodeIDContinue ::\nany Unicode code point with the Unicode property “ID_Continue”\n\nNOTE: Grandfathered characters defined in “Other_ID_Start” and “Other_ID_Continue” must be recognized/supported by a compliant implementation. \n---"},{"commentid":13705,"comment_count":13,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2015-03-12 02:58:52 -0700","thetext":"(In reply to André Bargull from comment #12)\n> (In reply to Mathias Bynens from comment #11)\n> > My point was that neither `Other_ID_Start` or `Other_ID_Continue` are needed\n> > if we just use the `ID_Start` and `ID_Continue` listings in\n> > `DerivedCoreProperties.txt`, since those include `Other_ID_Start` and\n> > `Other_ID_Continue` respectively already.\n> \n> Yeah sure. Do you agree that removing `Other_ID_Start` and\n> `Other_ID_Continue` from the definitions in UnicodeID{Start, Continue} and\n> instead adding a note is a better (cleaner) way to define the set of allowed\n> identifier characters? Because that should solve the whole redundancy issue.\n> \n> ---\n> UnicodeIDStart ::\n> any Unicode code point with the Unicode property “ID_Start”\n> \n> UnicodeIDContinue ::\n> any Unicode code point with the Unicode property “ID_Continue”\n> \n> NOTE: Grandfathered characters defined in “Other_ID_Start” and\n> “Other_ID_Continue” must be recognized/supported by a compliant\n> implementation. \n> ---\n\nThat was my intention when filing bug 2717 :) Sounds good."},{"commentid":13707,"comment_count":14,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-03-12 09:55:21 -0700","thetext":"(In reply to André Bargull from comment #12)\n...\n> \n> ---\n> UnicodeIDStart ::\n> any Unicode code point with the Unicode property “ID_Start”\n> \n> UnicodeIDContinue ::\n> any Unicode code point with the Unicode property “ID_Continue”\n> \n> NOTE: Grandfathered characters defined in “Other_ID_Start” and\n> “Other_ID_Continue” must be recognized/supported by a compliant\n> implementation. \n> ---\n\nA NOTE can't express a normative requirement.  However, if we agree that  the definitions of of ID_Start and ID_continue are normatively sufficient, then we could have a NOTE that says something like:\n\nNOTE  The sets of code points with Unicode properties ID_Start and ID_Continue include, respectively, the code points with Unicode properties Other_ID_Start and Other_ID_Continue."},{"commentid":13785,"comment_count":15,"who":{"uid":"ecmascriptbugs","name":"Norbert"},"bug_when":"2015-03-16 16:06:23 -0700","thetext":"I agree that all normative references to Other_ID_Start and Other_ID_Continue should be removed, and Allen's proposed note should be added."},{"commentid":13786,"comment_count":16,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-03-16 16:29:25 -0700","thetext":"fixed in rev26 editor's draft"},{"commentid":13825,"comment_count":17,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-03-17 16:57:06 -0700","thetext":"in rev36"}]}}
---
