---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3678,"creation_ts":"2015-01-25 10:36:00 -0800","short_desc":"24.1.1.4 CloneArrayBuffer: Add IsDetachedBuffer check after steps 10-11","delta_ts":"2015-02-02 18:38:57 -0800","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 31: January 15, 2015 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":11733,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2015-01-25 10:36:26 -0800","thetext":"24.1.1.4 CloneArrayBuffer( srcBuffer, srcByteOffset )\n\nIsDetachedBuffer needs to be tested in case AllocateArrayBuffer detaches the ArrayBuffer `srcBuffer`.\n\n---\nclass Buffer extends ArrayBuffer {\n  static get [Symbol.species]() {\n    return Object.defineProperty(function() { }.bind(), \"prototype\", {\n      get() {\n        detachArrayBuffer(buf);\n        return ArrayBuffer.prototype;\n      }\n    });\n  }\n}\n\nlet buf = new Buffer(10);\nlet ta = new Int8Array(buf);\nnew Int8Array(ta);\n---"},{"commentid":11879,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-02 10:59:22 -0800","thetext":"fixed in rev32 editor's draft"},{"commentid":11990,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-02 18:38:57 -0800","thetext":"fixed in rev32 draft"}]}}
---
