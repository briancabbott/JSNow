---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3269,"creation_ts":"2014-10-08 12:04:00 -0700","short_desc":"22.2.3.* %TypedArray%: toLocaleString and iterator methods currently use Get(\"length\") instead of [[ArrayLength]]","delta_ts":"2014-12-23 20:23:26 -0800","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 27: August 24, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":10293,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2014-10-08 12:04:15 -0700","thetext":"22.2.3.6 %TypedArray%.prototype.entries ( )\n22.2.3.15 %TypedArray%.prototype.keys ( )\n22.2.3.28 %TypedArray%.prototype.toLocaleString ([ reserved1 [ , reserved2 ] ])\n22.2.3.30 %TypedArray%.prototype.values ( )\n22.2.3.31 %TypedArray%.prototype [ @@iterator ]  ( )\n\n\nAll %TypedArray%.prototype except for toLocaleString and the iteration methods are using the [[ArrayLength]] internal slot to retrieve the typed array's length. It may make sense to [[ArrayLength]] for those methods, too. \n\n\n---\n// Typed array with own \"length\" property\nvar ta = Object.defineProperty(new Int8Array([1,2,3]), \"length\", {\n  writable: true, configurable: true, value: 1\n});\n\nprint(ta.toString()); // Prints \"1,2,3\"\nprint(ta.toLocaleString()); // Prints \"1\"\n\nprint(ta.map(v => v * v).toString()); // Prints \"1,4,9\"\nprint(Int8Array.from(ta, v => v * v).toString()); // Prints \"1\"\n---"},{"commentid":11029,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-12-12 15:14:47 -0800","thetext":"fixed in rev30 editor's draft\n\ntoLocaleString is now TypedArray specialize\n\nArrayInteral next now has special case logic for accessing the length of typed arrays"},{"commentid":11155,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-12-23 20:23:26 -0800","thetext":"fixed in rev30"}]}}
---
