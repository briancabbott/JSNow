---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2774,"creation_ts":"2014-05-01 08:07:00 -0700","short_desc":"9.2.14  Function Declaration Instantiation: \"arguments\" as function declaration not handled","delta_ts":"2014-06-16 16:31:27 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 24: April 27, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":8067,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2014-05-01 08:07:59 -0700","thetext":"9.2.14  Function Declaration Instantiation:\n\nExecuting the following test case results in an assertion error in CreateMutableBinding, because it attempts to redeclare \"arguments\".\n\nI needed to update step 23 as follows:\n---\n23.\n  a. ...\n  b. ...\n  c. ...\n  d. ...\n  e. Else if needsParameterEnvironment is false then\n    i. Assert ao is undefined.\n    ii. Call env’s InitializeBinding concrete method passing \"arguments\" and ao as arguments.\n    iii. Append \"arguments\" to instantiatedVarNames.\n  f. Else \n    i. Assert ao is undefined.\n    ii. Call env’s InitializeBinding concrete method passing \"arguments\" and ao as arguments.\n---\n\nObviously steps 23d-23f could be merged. \n\n\ntest case:\n---\nfunction f() {\n  function arguments() {}\n}\nf()\n---"},{"commentid":8535,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-05-17 10:11:20 -0700","thetext":"It looks to me that all we need to do is move what was (in rev24):\n  23.d.ii Append \"arguments\" to instantiatedVarNames.\nup a level and make it 23.e\n\nand then add after the rev25 step 26:\n\n27. If needsSpecialArgumentsBinding is true and argumentsObjectNeeded is false, then\n   a. Call env’s InitializeBinding concrete method passing \"arguments\" and undefined as arguments.\n\n\nfixed in rev25 editor's draft"},{"commentid":9030,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-06-16 16:31:27 -0700","thetext":"fixed in rev25 editor's draft"}]}}
---
