---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":462,"creation_ts":"2012-07-08 04:49:00 -0700","short_desc":"String.prototype HTML methods in Annex B should probably call CheckObjectCoercible()","delta_ts":"2012-07-08 15:59:59 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 8: June 15, 2012 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"INVALID","see_also":["http://code.google.com/p/v8/issues/detail?id=2218","https://bugs.webkit.org/show_bug.cgi?id=64677"],"priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"mathias","name":"Mathias Bynens"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":"mathias","long_desc":[{"commentid":1144,"comment_count":0,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2012-07-08 04:49:36 -0700","thetext":"I’ve previously made an attempt at defining these methods here: http://mathias.html5.org/specs/javascript/#string\n\nIt would make sense to have these methods call the CheckObjectCoercible() abstract operation on the `this` object, so that they cannot be applied to `null` or `undefined`, just like the other String.prototype methods.\n\nThe majority of the engines I tested in implement it like this, with no compatibility issues: Firefox/Spidermonkey, Safari/JavaScriptCore, and Opera/Carakan.\n\nChrome/V8 and IE/Chakra are the only engines I tested that don’t currently perform the CheckObjectCoercible() step. Here are some relevant bugs:\n\n* Safari/JavaScriptCore: https://bugs.webkit.org/show_bug.cgi?id=64677 (old bug from last year)\n* Chrome/V8: http://code.google.com/p/v8/issues/detail?id=2218\n* IE/Chakra: https://connect.microsoft.com/IE/feedback/details/752807\n\nIt would improve interoperability and consistency within the spec if ES6 could define these methods with something like `CheckObjectCoercible(this)` as their first step. Please consider doing so."},{"commentid":1145,"comment_count":1,"who":{"uid":"mathias","name":"Mathias Bynens"},"bug_when":"2012-07-08 04:52:32 -0700","thetext":"Tests for these methods as defined on http://mathias.html5.org/specs/javascript/#string (i.e. including the CheckObjectCoercible step) can be found here: http://mathias.html5.org/tests/javascript/string/"},{"commentid":1185,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2012-07-08 15:59:59 -0700","thetext":"That check is already there.  It is step 1 of the abstract operation CreateHTML"}]}}
---
