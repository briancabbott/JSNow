---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2116,"creation_ts":"2013-10-30 04:14:00 -0700","short_desc":"9.5.15 [[Construct]], 9.5.16 ProxyCreate: Only set [[Construct]] when target is constructor?","delta_ts":"2013-11-08 13:09:42 -0800","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 20: October 28, 2013 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":6227,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2013-10-30 04:14:15 -0700","thetext":"The example in bug 1391 motivated to change [9.4.1.3 BoundFunctionCreate] to only assign [[Construct]] for bound functions when the original function has [[Construct]]. But the current definition for ProxyCreate makes that example invalid (*). Also NOTE 1 for 9.5.15 still states that [[Construct]] is only present for proxies when the original [[ProxyTarget]] has [[Construct]]. \n\nMaybe this needs the TC39Review flag for further discussion or was it already discussed somewhere?\n\n\n(*) The example can easily be updated if testing for [[Construct]] is needed without executing [[Construct]]:\n\nfunction hasConstruct(f) {\n  try {\n    Int8Array.from.call(f, {[Symbol.iterator](){ throw true; }});\n  } catch (e) {\n    return e === true;\n  }\n}\n\njs> hasConstruct(function () {})\ntrue\njs> hasConstruct(a => a)\nfalse\njs> hasConstruct(Math.sin)\nfalse"},{"commentid":6413,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-11-03 09:47:25 -0800","thetext":"fixed in rev21 editor's draft\n\nI think it was just a that it wasn't being conditionally set"},{"commentid":6606,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-11-08 13:09:42 -0800","thetext":"fixed in rev21 draft"}]}}
---
