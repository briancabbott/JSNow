---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":575,"creation_ts":"2012-07-18 18:08:00 -0700","short_desc":"Reorganize test262 directories","delta_ts":"2014-08-17 23:05:28 -0700","product":"Test262","component":"Test Harness","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"CONFIRMED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"ecmascriptbugs","name":"Norbert"},"assigned_to":{"uid":"billti","name":"Bill Ticehurst"},"cc":["brbaker","mathias","sam.mikes","utatane.tea"],"long_desc":[{"commentid":1368,"comment_count":0,"who":{"uid":"ecmascriptbugs","name":"Norbert"},"bug_when":"2012-07-18 18:08:54 -0700","thetext":"test262 currently supports three different test suites (Ecma-262 conformance, Ecma-262 best practices, and Ecma-402 conformance) and two execution environments (website and console). The repository directory structure clearly wasn't designed for this, and so it's sometimes a bit difficult to navigate.\n\nAs a newbie, I was wondering about questions such as:\n\n- If I want to change something in the website tree, which files do I edit directly there and which ones are generated from sources elsewhere?\n\n- Which files in console/harness are actually used when running tests from the console?\n\n- When a $INCLUDE works fine in the website environment, why doesn't the file get loaded in the console environment?\n\n- Why does sta.js duplicate some but not all of the contents of some other .js files? And what does \"sta\" mean?\n\n- How do I set different version numbers for Ecma-262 and Ecma-402?\n\nSome of these are related to different capabilities in the different environments, but as a first step I think it would help to make the directory layout easier to navigate. Goals:\n\n- Source files and generated files should be clearly separated.\n\n- Source files for harness and test cases should be clearly separated.\n\n- Within harness and test cases, the different execution environments and test suites should be clearly separated, with shared materials clearly labeled as shared.\n\nHere's a possible layout (I'm omitting the current docs/ and external/ trees):\n\n*** source files ***\n\nharness/website/\nharness/website/images/\nharness/website/styles/\nharness/website/templates/\nharness/console/\nharness/shared/\n\ntests/ecma262/includes/\ntests/ecma262/ch*/\ntests/ecma262/metadata/\ntests/ecma262bp/includes/\ntests/ecma262bp/tests/\ntests/ecma402/includes/\ntests/ecma402/ch*/\ntests/ecma402/metadata/\ntests/shared/includes/\n\ntools/\n\n*** generated or copied files ***\n\nwebsite/ecma262/ (index.html, ch*.html, *.js, *.json)\nwebsite/ecma262bp/ (index.html, *.json)\nwebsite/ecma402/ (index.html, includes/*.js, *.json)\nwebsite/shared/ (harness/, includes/, images/, styles/)\n\nconsole/ecma262/\nconsole/ecma262bp/\nconsole/ecma402/\nconsole/shared/"},{"commentid":9801,"comment_count":1,"who":{"uid":"sam.mikes","name":"Sam Mikes"},"bug_when":"2014-08-17 23:05:28 -0700","thetext":"I propose closing this issue, even though not all the changes have been made.\n\n1. current test/suite directory contains ES5 tests in root, best practices and ECMA-402 tests in subdirs (bestPractice, intl402) and is getting ES6 tests in a subdir (es6).\n\n2. \"sta.js\" stands for \"simpleTestAPI\" which was apparently an older name for that file.  It duplicated the contents of other harness files because $INCLUDE was not supported by the console runner.\n\n3. Harness file inclusion is now supported in the console runner. (Though we no longer use the $INCLUDE function)\n\n4. The console/ subdirectory is no longer used at all.\n\n5. The contents of website/ are generated by running the packager script, and are only checked in to revision control for ease of deployment.\n\n6. The only location for harness files now is test/harness, from which they are copied to website/harness.\n\nFinally, development now is being managed through the github project.\n\nComments?  I will resolve in a week if no follow-up."}]}}
---
