---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3106,"creation_ts":"2014-08-04 15:41:00 -0700","short_desc":"import into namespace syntax","delta_ts":"2015-07-10 08:35:04 -0700","product":"Draft for 6th Edition","component":"Modules","version":"Rev 26: July 18, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"dherman","name":"Dave Herman"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["dherman","erik.arvidsson","jorendorff","samth"],"long_desc":[{"commentid":9664,"comment_count":0,"who":{"uid":"dherman","name":"Dave Herman"},"bug_when":"2014-08-04 15:41:24 -0700","thetext":"The syntax for importing into a namespace is changing from\n\n    module fs from \"fs\";\n\nto\n\n    import * as fs from \"fs\";\n\nIt should also be possible to combine `* as fs` with the comma syntax, e.g.:\n\n    import * as fs, { readFile, unlink } from \"fs\";\n\nDave"},{"commentid":9665,"comment_count":1,"who":{"uid":"arv","name":"Erik Arvidsson"},"bug_when":"2014-08-04 15:51:41 -0700","thetext":"And default import too I assume?"},{"commentid":10161,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-09-06 12:59:55 -0700","thetext":"I've added the: import * as fs from \"fs\";\nsyntax in the Rev28 draft.\n\nWRT to Erik's point, I dislike what we get if we try to combine this with the default import syntax. I wonder if we really need it.  Assuming that a binding for \"default\" is included in module namespace objects (is it?) somebody could just say:\n\nimport * as fs from \"fs\";\nconst defaultFS = fs.default;"},{"commentid":10183,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-09-10 17:56:44 -0700","thetext":"fixed in rev28 editor's draft\n\nThe revised grammar is:\n\nImportDeclaration :\n  'import'  ImportClause FromClause ';'\n  'import'  ModuleSpecifier ';'\n\n\nImportClause :\n  ImportedDefaultBinding \n  NameSpaceImport \n  NamedImports \n  ImportedDefaultBinding ',' NameSpaceImport\n  ImportedDefaultBinding ',' NamedImports \n  NameSpaceImport ',' NamedImports \n\nImportedDefaultBinding :\t\n  ImportedBinding\n\nNameSpaceImport :\t\n  '*' 'as'  ImportedBinding"},{"commentid":10256,"comment_count":4,"who":{"uid":"dherman","name":"Dave Herman"},"bug_when":"2014-10-01 06:32:37 -0700","thetext":"Argh, I was wrong in the bug description about which cases of mixing to allow. The comma syntax distinguishes two positions: the left allows you to talk about the default export, and the right allows you to talk about the named exports. So you should be able to say\n\n    import $ from \"jquery\";\n    import * as jQuery from \"jquery\";\n    import { ajax } from \"jquery\";\n    import $, * as jQuery from \"jquery\";\n    import $, { ajax } from \"jquery\";\n\nBut we shouldn't allow the case I mentioned in the description, because that mixes up what the two sides of the comma mean. And it's a sufficiently rare case that it doesn't need single-line syntax.\n\nLuckily this only means there's one bogus case in the grammar: we need to drop the\n\n    NameSpaceImports ',' NamedImports\n\nproduction from the ImportClause non-terminal. Sorry for the mistake in the bug description.\n\nDave"},{"commentid":10257,"comment_count":5,"who":{"uid":"arv","name":"Erik Arvidsson"},"bug_when":"2014-10-01 07:22:18 -0700","thetext":"We should either support all possible combination or no combinations.\n\nPicking a subset is only going to lead to confusion.\n\nI believe (based on years of using ES modules as they have evolved) that any combination of these are sufficiently rare that we do not need to support it in ES6.\n\nIf it turns out that there is a need we can easily extend the grammar in future spec versions."},{"commentid":10458,"comment_count":6,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-10-14 15:17:57 -0700","thetext":"fixed in rev28"}]}}
---
