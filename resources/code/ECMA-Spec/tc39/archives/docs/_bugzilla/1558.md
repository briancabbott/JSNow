---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1558,"creation_ts":"2013-06-12 09:30:00 -0700","short_desc":"15.14.4.4 Map.prototype.forEach step 8.a","delta_ts":"2013-07-15 17:04:33 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 15: May 14, 2013 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"waldron.rick","name":"Rick Waldron"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["evilpies","sankha93","waldron.rick"],"long_desc":[{"commentid":4173,"comment_count":0,"who":{"uid":"waldron.rick","name":"Rick Waldron"},"bug_when":"2013-06-12 09:30:02 -0700","thetext":"8. Repeat for each Record {[[key]], [[value]]} e that is an element of entries, in original key insertion order\n   a. If e.[[key]] is not empty, then\n\n\nCan you clarify what is meant by \"is not empty\"? Current prototype implementations allow any of \"\" (empty string), false, null or undefined as a valid map key."},{"commentid":4174,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-06-12 09:57:37 -0700","thetext":"That should probably be *empty*.\n\n*empty* is a specification value (it's not an ECMAScript value) that is generally used to indicated that an internal field has not yet been assigned an ECMASript value. See 8.2.3.  I probably should make this definition more explicit.\n\nIf you look at the Map delete method you will see that delete is specified as setting the key of a key/value record to *empty*.  This is totally a specification device for talking about the effect of delete."},{"commentid":4185,"comment_count":2,"who":{"uid":"waldron.rick","name":"Rick Waldron"},"bug_when":"2013-06-12 14:09:58 -0700","thetext":"Ok, that makes sense. The issue was that the implementor had translated that to something like...\n\nfor (let [k, v] of map) {\n  if (k) {\n    ...\n  }\n}\n\nWhich didn't seem right considering the accepted keys cases"},{"commentid":4242,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-06-18 10:17:28 -0700","thetext":"added to clarify note to Map/Set/WeakMap/WeakSet delete specifications."},{"commentid":4526,"comment_count":4,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-07-15 17:04:33 -0700","thetext":"fixed in rev16 draft.  July 15, 2013"}]}}
---
