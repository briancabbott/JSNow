---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":4103,"creation_ts":"2015-03-03 14:31:00 -0800","short_desc":"%TypedArray%.prototype.set should have a clear algorithm to invoke its two possible sub-algorithms","delta_ts":"2015-03-03 17:17:38 -0800","product":"Draft for 7th Edition","component":"Deferred from 6th edition","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"CONFIRMED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"jwalden+beo","name":"Jeff Walden (remove +beo to mail)"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":13450,"comment_count":0,"who":{"uid":"jwalden+beo","name":"Jeff Walden (remove +beo to mail)"},"bug_when":"2015-03-03 14:31:02 -0800","thetext":"The prose around the non-typed-array method suggests that it's to be called when a non-typed-array is passed as |target|.  Internally, that argument is passed to |ToObject| and its result ReturnIfAbrupt'd.  This is inconsistent.  I would much prefer if there were a fundamental %TypedArray%.prototype.set algorithm, that invoked one or the other more-specific algorithm as desired, rather than make inconsistent claims about how the two algorithms are supposed to be used and/or work.\n\nThis would also permit moving the common code between the two algorithms -- steps 1-10, approximately -- into that overarching algorithm."},{"commentid":13455,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-03-03 17:17:38 -0800","thetext":"see Bug 4102 \n/target/ is the this value, not the argument.\n\nI've also clarified the assert in step 1 a bit.\n\nUsing this style of multiple algorithm for over-loaded methods is something that has some history in the ES spec. It's probably debatable whether it is better or worse than an simple method spec. that combines all the over-loads.\n\nI'm not going to do any more restructuring of that sort in the ES6 spec. so I'm marking this as deferred to ES7 so it can be considered in that context."}]}}
---
