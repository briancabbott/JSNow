---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":126,"creation_ts":"2011-07-14 06:48:00 -0700","short_desc":"S15.8.2.16_A6/7 expect implementation-defined behaviour","delta_ts":"2012-01-04 10:00:31 -0800","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"WONTFIX","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"gsneddon","name":"Geoffrey Sneddon"},"assigned_to":{"uid":"dfugate","name":"Dave Fugate"},"cc":["dfugate","erights"],"long_desc":[{"commentid":293,"comment_count":0,"who":{"uid":"gsneddon","name":"Geoffrey Sneddon"},"bug_when":"2011-07-14 06:48:11 -0700","thetext":"Math.sin \"returns an implementation-dependent approximation to the sine of x\". As such, any Number value is allowable (going for a constant value could be an approximation, though a not very useful one, but would be implementation-defined).\n\nThere are similar tests for the other trig functions.\n\n(To be fair, these are more tests which are probably useful to have somewhere, even though they aren't required for conformance.)"},{"commentid":318,"comment_count":1,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2011-07-18 09:35:31 -0700","thetext":"It's a shame to disable these as they provide quite a bit of value, but you're correct that they're invalid as-per ES5.  I've disabled all of the following in source control plus a few more that were obviously verifying implementation defined behavior:\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.10_log\\S15.8.2.10_A6.js(7): * @assertion: Math.log, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm;\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.10_log\\S15.8.2.10_A6.js(19):assertion: \"Math.log, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm\",\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.13_pow\\S15.8.2.13_A24.js(7): * @assertion: Math.pow, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm;\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.13_pow\\S15.8.2.13_A24.js(19):assertion: \"Math.pow, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm\",\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.16_sin\\S15.8.2.16_A7.js(7): * @assertion: Math.sin it is recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm;\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.16_sin\\S15.8.2.16_A7.js(19):assertion: \"Math.sin it is recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm\",\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.17_sqrt\\S15.8.2.17_A6.js(7): * @assertion: Math.sqrt, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm;\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.17_sqrt\\S15.8.2.17_A6.js(19):assertion: \"Math.sqrt, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm\",\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.18_tan\\S15.8.2.18_A7.js(7): * @assertion: Math.tan, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm;\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.18_tan\\S15.8.2.18_A7.js(19):assertion: \"Math.tan, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm\",\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.2_acos\\S15.8.2.2_A5.js(7): * @assertion: Math.acos, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm;\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.2_acos\\S15.8.2.2_A5.js(19):assertion: \"Math.acos, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm\",\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.3_asin\\S15.8.2.3_A6.js(7): * @assertion: Math.asin, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm;\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.3_asin\\S15.8.2.3_A6.js(19):assertion: \"Math.asin, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm\",\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.4_atan\\S15.8.2.4_A6.js(7): * @assertion: Math.atan, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm;\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.4_atan\\S15.8.2.4_A6.js(19):assertion: \"Math.atan, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm\",\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.5_atan2\\S15.8.2.5_A24.js(7): * @assertion: Math.atan2, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm;\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.5_atan2\\S15.8.2.5_A24.js(19):assertion: \"Math.atan2, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm\",\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.7_cos\\S15.8.2.7_A7.js(7): * @assertion: Math.cos it is recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm;\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.7_cos\\S15.8.2.7_A7.js(19):assertion: \"Math.cos it is recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm\",\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.8_exp\\S15.8.2.8_A6.js(7): * @assertion: Math.exp, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm;\n  G:\\262\\test262\\test\\suite\\sputnik_converted\\15_Native\\15.8_The_Math_Object\\15.8.2_Function_Properties_of_the_Math_Object\\15.8.2.8_exp\\S15.8.2.8_A6.js(19):assertion: \"Math.exp, recommended that implementations use the approximation algorithms for IEEE 754 arithmetic contained in fdlibm\",\n\nMark - could you please move these to a \"Sputnik\\BestPractices\"-esque directory?  Then these won't be on the live website, but will be available to all implementers."},{"commentid":319,"comment_count":2,"who":{"uid":"erights","name":"Mark S. Miller"},"bug_when":"2011-07-18 09:46:54 -0700","thetext":"> Mark - could you please move these to a \"Sputnik\\BestPractices\"-esque\n> directory?  Then these won't be on the live website, but will be available to\n> all implementers.\n\nYes, that's a good idea."},{"commentid":391,"comment_count":3,"who":{"uid":"gsneddon","name":"Geoffrey Sneddon"},"bug_when":"2011-07-27 04:32:34 -0700","thetext":"Maybe also worthwhile to have something in excludelist.xml to tell apart bogus tests from not-mandated-by-standard-but-preferable tests."},{"commentid":447,"comment_count":4,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2011-09-09 16:08:29 -0700","thetext":"The call was made at the last TC-39 meeting to re-enable these tests since we must have some sort of coverage for these math functions, and also because the tests have the capability to loosen their precision via the 'prec' global variable.\n\nWas there any specific OS/architecture/browser combo you saw these tests failing against?  Believe they were actually passing against Win7/AMD64/Opera when I disabled them back in July.  Maybe ARM?  If you can give me a precise (and reasonable:) ) value for 'prec' that works for you, I'll go ahead and modify the tests to use this instead.\n\nIn the long run, I'm optimistic that ES6 will be more stringent with respect to precision of these math functions; particularly with APIs like IndexDB floating around."},{"commentid":448,"comment_count":5,"who":{"uid":"gsneddon","name":"Geoffrey Sneddon"},"bug_when":"2011-09-10 07:29:27 -0700","thetext":"It was just a bug in an internal build that caused these to fail, so I have little opinion about what prec should be."}]}}
---
