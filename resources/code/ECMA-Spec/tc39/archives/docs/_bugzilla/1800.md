---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1800,"creation_ts":"2013-08-22 10:38:00 -0700","short_desc":"Web compatibility breaks with __proto__","delta_ts":"2013-08-23 08:23:08 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 16: July 15, 2013 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":"sureshja","assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":5002,"comment_count":0,"who":"sureshja","bug_when":"2013-08-22 10:38:46 -0700","thetext":"According to sections B.3.1#6.a and 16.1.1.1.2#3, implementations are expected to throw a TypeError exception if an objectâ€™s __proto__ is set with anything other than null or an object. Today the existing implementations (Chrome or Firefox) treat such assignments as a no-op. \n\nInterestingly there are instances of web pages who assign undefined to an objects __proto__ are found. For example yelp.com assigns undefined to __proto__ via a function call as follows.\n\nfunction(f) { return { __proto__:f } }\n\nImplementing as per the specification would break the zoom in/out functionality of Yelp as this function would throw a TypeError. Similarly a radio player on myspace.com would not work either.  The fact that there are few instances we have seen in the wild would mean there could be more websites that could break. \n\nSpec does not reflect current implementations of __proto__. Spec needs to clarify if assignments of primitives (or just undefined) to __proto__ should be ignored."},{"commentid":5003,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-08-22 10:46:32 -0700","thetext":"fixed in rev17 editor's draft"},{"commentid":5140,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-08-23 08:23:08 -0700","thetext":"fixed in rev17, August 23, 2013 draft"}]}}
---
