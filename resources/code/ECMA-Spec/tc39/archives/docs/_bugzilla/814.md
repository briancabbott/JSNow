---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":814,"creation_ts":"2012-10-24 17:39:00 -0700","short_desc":"13.2: bad arguments to FunctionCreate","delta_ts":"2014-05-15 09:12:54 -0700","product":"Draft for 6th Edition","component":"editorial issue","version":"Rev 21: November 8, 2013 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"jmdyck","name":"Michael Dyck"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":2023,"comment_count":0,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2012-10-24 17:39:17 -0700","thetext":"In 13.2 \"Arrow Function Definitions\",\nunder \"Runtime Semantics: Evaluation\",\nrule 1 step 3 says:\n    Let closure be the result of performing the FunctionCreate abstract operation\n    with arguments Arrow, ArrowParameters, ConciseBody, scope, and strict.\n\nHowever, this passes:\n-- ArrowParameters where FunctionCreate expects a FormalParameterList, and\n-- ConciseBody where FunctionCreate expects a FunctionBody."},{"commentid":2024,"comment_count":1,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2012-10-24 17:52:25 -0700","thetext":"Similarly, in 13.3 \"Method Definitions\",\nunder \"Runtime Semantics: Property Definition Evaluation\",\nrule 4 steps 6.a and 7.a\ntry to pass PropertySetParameterList where FunctionCreate expects a FormalParameterList."},{"commentid":2028,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2012-10-24 19:35:58 -0700","thetext":"Actually, it FunctionCreate doesn't (and downstream consummers of the function objects) don't need to get a /FormalParameterList/ AST in that parameter position.  All they need is an AST is is polymorphic WRT the specs semantics rules with /FormalParameterList/.  similarly for FunctionBody\n\nHowever, I can see that the parameter names to FunctionCreate are misleading in that regard so I'll change them"},{"commentid":2036,"comment_count":3,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2012-10-24 22:44:15 -0700","thetext":"(In reply to comment #2)\n>\n> However, I can see that the parameter names to FunctionCreate are misleading in\n> that regard so I'll change them\n\nAh, good. That should take care of the other problem I had with FunctionCreate:\nit has (I think) the only two cases where a parameter name is the same as a nonterminal name."},{"commentid":2154,"comment_count":4,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2012-10-26 15:34:23 -0700","thetext":"in October 26, 2012 release draft"},{"commentid":2476,"comment_count":5,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2012-11-19 16:00:28 -0800","thetext":"Okay, so in the definition of FunctionCreate, you renamed:\n    FormalParameterList  -> ParameterList\n    FunctionBody         -> Body\n\nBut a few of the invocations of FunctionCreate refer to its parameters by name, and so you need to make the corresponding changes there:\n\n10.6 \"Arguments Object\" / MakeArgGetter / step 4\n10.6 \"Arguments Object\" / MakeArgSetter / step 5\n15.3.2.1 \"new Function\" / step 11\n\n(The last of these doesn't reference FunctionCreate explicitly, but presumably should.)"},{"commentid":6348,"comment_count":6,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-11-01 20:32:42 -0700","thetext":"fixed in rev21 editor's draft"},{"commentid":6572,"comment_count":7,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-11-08 13:09:20 -0800","thetext":"fixed in rev21 draft"},{"commentid":6645,"comment_count":8,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2013-11-10 17:15:26 -0800","thetext":"This one hasn't been fixed: (The section number is now 9.4.4.1.)\n> 10.6 \"Arguments Object\" / MakeArgSetter / step 5\n\nIt refers to FunctionCreate's 3rd parameter as \"FunctionBody\"."},{"commentid":8493,"comment_count":9,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2014-05-15 09:12:54 -0700","thetext":"That last one was fixed in rev23."}]}}
---
