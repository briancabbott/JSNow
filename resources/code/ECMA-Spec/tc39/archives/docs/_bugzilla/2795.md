---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2795,"creation_ts":"2014-05-02 15:18:00 -0700","short_desc":"15.2.4.2.2 GetOrCreateLoad a.i and a.iv not used","delta_ts":"2015-03-16 14:38:51 -0700","product":"Draft for 6th Edition","component":"deferred features","version":"Rev 25: May 22, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"WONTFIX","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"guybedford","name":"Guy Bedford"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["dherman","jorendorff","samth"],"long_desc":[{"commentid":8095,"comment_count":0,"who":{"uid":"guybedford","name":"Guy Bedford"},"bug_when":"2014-05-02 15:18:20 -0700","thetext":"GetOrCreateLoad allows linkSets to contain linked load records. During linking, as each load record is linked, they are cleared from the linkSets (including unlinked LinkSets). This clearing operation would never apply to these already-linked loads so it looks as if linked dependencies in the linkSet may never be cleared possibly resulting in unlinkable linkSets.\n\nIt could be much more useful, less wasteful, and avoid this possible bug to let linkSets only contain unlinked load records.\n\nWhen running ProcessLoadDependencies at the start of a load, dependency Load records with status=\"linked\" could not get added to the linkSet, but rather just added to the dependency list.\n\nHaving linkSets as only unlinked load records simplifies the lookups necessary in the linking process as well.\n\nI've done some tests with setting LinkSets to only contain unlinked load records, and everything seems to work out fine. I would need to do further tests to be sure this suggestion is conclusive though."},{"commentid":9067,"comment_count":1,"who":{"uid":"guybedford","name":"Guy Bedford"},"bug_when":"2014-06-22 19:24:01 -0700","thetext":"The implementation does follow exactly this description, linkSets are filtered to not contain linked load records due to 15.2.4.6.1 (5).\n\nRenaming this issue, to reflect the fact that 15.2.4.2.2 GetOrCreateLoad 5a i and 5a iv are never used anywhere since AddDependencyLoad (the only caller of RequestLoad) doesn't make use of this information."},{"commentid":13765,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-03-16 14:38:51 -0700","thetext":"concerns old module spec."}]}}
---
