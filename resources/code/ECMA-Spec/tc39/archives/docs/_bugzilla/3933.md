---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3933,"creation_ts":"2015-02-14 12:22:00 -0800","short_desc":"13.6 Iteration Statements: Restore lookahead restriction \"let [\" in for-in statement to avoid shift/reduce conflict","delta_ts":"2015-02-19 19:11:04 -0800","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 33: February 12, 2015 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":12676,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2015-02-14 12:22:05 -0800","thetext":"13.6 Iteration Statements\n\nThe \"let [\" lookahead restriction in for-in statements was removed as part of bug 2768, even though 2768 was only about for-of statements. \n\nExample grammar to show the shift/reduce conflict.\nChange \"leftHandSideExpression_noLetBracket\" in \"forInStatement\" to \"leftHandSideExpression\" to see the shift/reduce conflict in bison.\n---\n%start statement\n\n%error-verbose\n\n%token ID\n%token FOR \"for\"\n%token IN \"in\"\n%token LET \"let\"\n\n%%\n\nstatement : forInStatement | ';' ;\n\nforInStatement : FOR '(' leftHandSideExpression_noLetBracket IN expression ')' statement\n               | FOR '(' forDeclaration IN expression ')' statement\n               ;\n\nforDeclaration : LET forBinding ;\nforBinding : bindingIdentifier | bindingPattern ;\nbindingPattern : arrayBindingPattern ;\narrayBindingPattern : '[' bindingIdentifier ']' ;\nbindingIdentifier : ID | LET ;\n\nexpression : assignmentExpression ;\nassignmentExpression : leftHandSideExpression ;\nleftHandSideExpression : memberExpression ;\nmemberExpression : identifierReference\n                 | memberExpression '[' expression ']'\n                 ;\n\nleftHandSideExpression_noLetBracket : memberExpression_noLetBracket ;\nmemberExpression_noLetBracket : LET\n                              | memberExpression_noLetBracketList\n                              ;\nmemberExpression_noLetBracketList : identifierReference_noLet\n                                  | memberExpression_noLetBracketList '[' expression ']'\n                                  ;\n\nidentifierReference : ID | LET ;\nidentifierReference_noLet : ID ;\n\n%%\n---"},{"commentid":12741,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-15 14:50:46 -0800","thetext":"fixed in rev34 editor's draft\n\nrestored for-in and for;; lookahead restrictions."},{"commentid":13109,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-19 19:11:04 -0800","thetext":"fixed in rev34"}]}}
---
