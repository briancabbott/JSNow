---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1273,"creation_ts":"2013-03-08 16:31:00 -0800","short_desc":"Don't allow bitwise comparison in String.prototype.localeCompare","delta_ts":"2015-02-17 21:21:01 -0800","product":"Draft for 6th Edition","component":"normative change from ES5.x","version":"Rev 14: March 8, 2013 Draft","rep_platform":"All","op_sys":"All","bug_status":"VERIFIED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"ecmascriptbugs","name":"Norbert"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":3402,"comment_count":0,"who":{"uid":"ecmascriptbugs","name":"Norbert"},"bug_when":"2013-03-08 16:31:19 -0800","thetext":"The ES5 specification of String.prototype.localeCompare first requires that the function \"return 0 when comparing Strings that are considered canonically equivalent by the Unicode standard\", but then goes on \"if no language-sensitive comparison at all is available from the host environment, this function may perform a bitwise comparison.\"\n\nThese two sentences are incompatible with each other: A bitwise comparison will return non-zero values for many string pairs that are considered canonically equivalent by the Unicode standard.\n\nI recommend removing the latter paragraph. This requires implementations to at least perform Unicode normalization, although still not language-sensitive comparison."},{"commentid":6183,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-10-29 13:22:08 -0700","thetext":"I really think the original intent was to permit basic implementations that only do bitwise comparison. \n\nRather than removing the bitwise comparison option I add a requirement that if \"language-sensitive comparison\" is performed then canonical equivalence is required.  \n\nfixed in rev21 editor's draft"},{"commentid":6571,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-11-08 13:09:19 -0800","thetext":"fixed in rev21 draft"},{"commentid":9637,"comment_count":3,"who":{"uid":"ecmascriptbugs","name":"Norbert"},"bug_when":"2014-07-27 22:30:48 -0700","thetext":"This bug and bug 407 need to be resolved together. See bug 407 comment 3 there. Also, is there any documentation of the original intent referred to in comment 1?"},{"commentid":12544,"comment_count":4,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-13 09:35:24 -0800","thetext":"fixed in rev27"},{"commentid":12889,"comment_count":5,"who":{"uid":"ecmascriptbugs","name":"Norbert"},"bug_when":"2015-02-17 21:21:01 -0800","thetext":"Verified fixed in bug 407."}]}}
---
