---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":4432,"creation_ts":"2015-07-29 10:13:00 -0700","short_desc":"String.prototype.split should revert to ES5 behavior, using ToUint32 to coerce limit argument","delta_ts":"2015-10-15 05:18:23 -0700","product":"ECMA-262 Edition 6","component":"technical issues","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"CONFIRMED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"adamk","name":"Adam Klein"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":14588,"comment_count":0,"who":{"uid":"adamk","name":"Adam Klein"},"bug_when":"2015-07-29 10:13:47 -0700","thetext":"See this gist, discussed at the meeting on 28 July 2015: https://gist.github.com/ajklein/335e0f948c500a0c25dc (copy/pasted below with poorer formatting)\n\nES5 (15.5.4.14.5): If limit is undefined, let lim = 2^32-1; else let lim = ToUint32(limit).\n\nES6 (21.1.3.17.8): If limit is undefined, let lim = 2^53-1; else let lim = ToLength(limit).\n\nTwo problems with ES6 behavior:\n\n- Return value is an Array, so a limit greater than 232-1 would result in a \"malformed\" array (one with elements past the end of the array). Iteration over the return value will skip all such elements.\n- Behavior changes for negative limit: ToUint32 transforms -1 to 232-1; ToLength instead transforms -1 to 0.\n\nProposal: Revert this spec change. Existing implementations still match ES5, and the old behavior still makes sense (even with ES6's longer String length limit). If we want a split that can return more than 2^32-1 elements, a new method should be created (or split() should return something other than an Array)."},{"commentid":14805,"comment_count":1,"who":{"uid":"adamk","name":"Adam Klein"},"bug_when":"2015-10-15 05:18:23 -0700","thetext":"Resolution from the July meeting was to revert this change:\n\nhttps://github.com/rwaldron/tc39-notes/blob/master/es7/2015-07/july-28.md#612-stringprototypesplit-its-limit-argument-and-tolength-vs-touint32"}]}}
---
