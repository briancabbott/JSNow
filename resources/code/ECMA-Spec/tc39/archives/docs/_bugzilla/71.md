---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":71,"creation_ts":"2011-03-14 15:06:00 -0700","short_desc":"Test 15.2.3.6-4-531-13 may be false","delta_ts":"2011-05-25 12:25:10 -0700","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"PC","op_sys":"All","bug_status":"RESOLVED","resolution":"INVALID","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"bruant.d","name":"David Bruant"},"assigned_to":{"uid":"dfugate","name":"Dave Fugate"},"long_desc":[{"commentid":154,"comment_count":0,"who":{"uid":"bruant.d","name":"David Bruant"},"bug_when":"2011-03-14 15:06:31 -0700","thetext":"Test case: \n---------------------------------------\nfunction testcase() {\n    var obj = fnGlobalObject();\n    try {\n        obj.verifySetFunction = \"data\";\n        Object.defineProperty(obj, \"0\", {get: function () {return obj.verifySetFunction;}, set: function (value) {obj.verifySetFunction = value;}, configurable: true});\n        obj.verifySetFunction1 = \"data1\";\n        var getFunc = function () {return obj.verifySetFunction1;};\n        var setFunc = function (value) {obj.verifySetFunction1 = value;};\n        Object.defineProperty(obj, \"0\", {get: getFunc, set: setFunc});\n        return accessorPropertyAttributesAreCorrect(obj, \"0\", getFunc, setFunc, \"verifySetFunction1\", false, true);\n    } finally {\n        delete obj[0];\n        delete obj.verifySetFunction;\n        delete obj.verifySetFunction1;\n    }\n}\n---------------------------------------\nI am not familiar with accessorPropertyAttributesAreCorrect however, \"verifySetFunction1\" is being defined within the testcase function. I think that it value should be \"data1\" (obj.verifySetFunction1)"},{"commentid":155,"comment_count":1,"who":{"uid":"bruant.d","name":"David Bruant"},"bug_when":"2011-03-14 15:09:18 -0700","thetext":"Same with 15.2.3.6-4-531-4 ?"},{"commentid":217,"comment_count":2,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2011-05-25 12:25:10 -0700","thetext":"The test case is OK based on the definition of accessorPropertyAttributesAreCorrect.  The relevant snippet is:\n    function accessorPropertyAttributesAreCorrect(obj, name, get, set, setVerifyHelpProp, ...) {\n        //...\n        obj[name] = \"toBeSetValue\";\n        if (obj[setVerifyHelpProp] !== \"toBeSetValue\") {\n            attributesCorrect = false;\n        }\n        //...\n        return attributesCorrect;\n    }\n\nIt's not all that intuitive, but the helper function is checking that the value of obj.verifySetFunction1 changes from \"data1\" to \"toBeSetValue\"; not that it's \"data1\" before the setter gets invoked."}]}}
---
