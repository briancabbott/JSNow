---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":7,"creation_ts":"2011-02-08 13:07:00 -0800","short_desc":"S7.9_A9_T3.js and S7.9_A9_T4.js are invalid as per ES5","delta_ts":"2012-01-13 09:43:31 -0800","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","see_also":["http://code.google.com/p/v8/issues/detail?id=1127","https://bugs.ecmascript.org/show_bug.cgi?id=8","https://bugzilla.mozilla.org/show_bug.cgi?id=238945"],"priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"dfugate","name":"Dave Fugate"},"assigned_to":{"uid":"erights","name":"Mark S. Miller"},"cc":["brendan","dfugate"],"long_desc":[{"commentid":11,"comment_count":0,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2011-02-08 13:07:54 -0800","thetext":"Test262 tests S7.9_A9_T3.js and S7.9_A9_T3.js boil down to the following snippet:\n    do {;} while (false) false\n\nSection 12.6.1 of ES5 states that all do-while statements should end with a semicolon.  That said, section 7.9.1 allows for automatic semicolon insertion under three circumstances:\n1. if the offending token (i.e., the last 'false' in the snippet above) is preceded by a newline.  This is not the case\n2. if the semicolon would be needed at the end of the program.  Appending a semicolon to the final 'false' does not fix the snippet's grammar issue with respect to 12.6.1\n3. if the grammar production is restricted.  This is not the case for do-while\n\n\nFor the short term, I'll disable these on Test262 as they do not conform to the spec.  For the long term I'd suggest:\n1.  We rewrite this test such that there's a newline between \"(false) \" and \"false\" thereby making it valid.\n2.  The original be moved elsewhere as it is validating existing Chrome behavior"},{"commentid":13,"comment_count":1,"who":{"uid":"brendan","name":"Brendan Eich"},"bug_when":"2011-02-08 14:45:36 -0800","thetext":"As the see-also links make clear, it'snot just existing Chrome behavior -- all browsers going back to Netscape 2 did this.\n\n/be"},{"commentid":265,"comment_count":2,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2011-07-06 10:26:26 -0700","thetext":"Tests still exist in Sputnik.  Looks like these are intended to remain disabled until ES6 is released and changes the spec in this regard."},{"commentid":598,"comment_count":3,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2012-01-13 09:43:31 -0800","thetext":"Not sure if this will be changed for ES6 after all.  Moved these into the bestPractices directory."}]}}
---
