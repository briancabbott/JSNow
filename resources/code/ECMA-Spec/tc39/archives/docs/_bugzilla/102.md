---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":102,"creation_ts":"2011-05-20 10:35:00 -0700","short_desc":"Coverage: 15.3.5.4: missing a check for 'P is \"arguments\"' under Strict Mode (after step 3)","delta_ts":"2012-02-29 09:06:15 -0800","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"minor","everconfirmed":true,"reporter":{"uid":"dfugate","name":"Dave Fugate"},"assigned_to":{"uid":"dfugate","name":"Dave Fugate"},"long_desc":[{"commentid":216,"comment_count":0,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2011-05-20 10:35:30 -0700","thetext":"Noticed that 15.3.5.4 disallows:\n   \"use strict\";\n   function f() {}\n   f.caller;\n\nbut allows:\n   \"use strict\";\n   function f() {}\n   f.arguments;\n\n15.3.5 states:\n    Function instances that correspond to strict mode functions (13.2) and function instances created using the Function.prototype.bind method (15.3.4.5) have properties named caller and arguments that throw a TypeError exception.\n\n\nFrom this, it seems like maybe it was also intended to ban accessing the arguments property in the manner described above from Strict Mode?  If not, could the language in 15.3.5 be clarified to state that TypeError exceptions are not thrown for arguments property reads?"},{"commentid":290,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2011-07-13 16:19:21 -0700","thetext":"(In reply to comment #0)\n> Noticed that 15.3.5.4 disallows:\n>    \"use strict\";\n>    function f() {}\n>    f.caller;\n\nNo, this isn't what 15.3.5.4 is about.  It disallows this:\n\nfunction f() {\"use strict\"; return g();}\nfunction g() {/* not strict */ return g.caller;\n         //except for 15.3.5.4 would return f\n> \n> but allows:\n>    \"use strict\";\n>    function f() {}\n>    f.arguments;\n\nwill throw because of 13.2 step c\n\n> \n> 15.3.5 states:\n>     Function instances that correspond to strict mode functions (13.2) and\n> function instances created using the Function.prototype.bind method (15.3.4.5)\n> have properties named caller and arguments that throw a TypeError exception.\n\nno this refers to 13.2 step 19, not 15.3.5.4\nNote that g in my example above is not a strict function\n> \n> \n> From this, it seems like maybe it was also intended to ban accessing the\n> arguments property in the manner described above from Strict Mode?  If not,\n> could the language in 15.3.5 be clarified to state that TypeError exceptions\n> are not thrown for arguments property reads?\n\nspec. seems correct to me."},{"commentid":291,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2011-07-13 16:22:07 -0700","thetext":"not a bug"},{"commentid":292,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2011-07-13 16:22:42 -0700","thetext":"not a bug"},{"commentid":304,"comment_count":4,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2011-07-15 15:07:25 -0700","thetext":"Reassigning to myself as I think we're missing coverage for the scenario Allen describes."},{"commentid":540,"comment_count":5,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2012-01-05 14:16:02 -0800","thetext":"Indeed, we were completely missing coverage for this scenario.  I'll try to add some tests for this by the time Microsoft releases it's next set of test contributions to test262."},{"commentid":708,"comment_count":6,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2012-02-29 09:06:15 -0800","thetext":"Tests are now live on test262.ecmascript.org."}]}}
---
