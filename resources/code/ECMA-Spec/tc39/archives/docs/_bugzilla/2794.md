---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2794,"creation_ts":"2014-05-02 12:06:00 -0700","short_desc":"suggested notation change re parameterized productions","delta_ts":"2015-02-12 15:10:11 -0800","product":"Draft for 7th Edition","component":"Deferred from 6th edition","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"CONFIRMED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"jmdyck","name":"Michael Dyck"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":8093,"comment_count":0,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2014-05-02 12:06:52 -0700","thetext":"I would like to suggest a small change to the notation of parameterized\nproductions, specifically when parameters appear as subscripts of\nnonterminals in a production's RHS.\n\nFor concreteness, consider the nonterminal N with parameter P.\nMy suggestion is to change the notation as follows:\n\n    N[?P] ->  N[P]\n    N[P]  ->  N[+P]\n    N     ->  N[~P]\n\nTwo reasons:\n\n(1)\nI think this notation would make parameterized productions somewhat easier\nfor readers to understand, mainly by leveraging their knowledge of how\nparameters work in mathematics and programming languages.\n\n(a) Changing N[?P] to N[P] ...\n\nGenerally, when a function wants to \"pass down\" the value of one of its\nparameters, it simply references the parameter.\n\n(b) Changing\n    N[P]  to  N[+P]\n    N     to  N[~P]\n\nThis re-uses the RHS-prefix notation [+P] and [~P], since the meanings are\nparallel: as RHS-prefixes, they 'check' for the presence/absence of a\nparameter; as RHS-subscripts, they could *assert* the presence/absence\nof a parameter (for the RHS-use of a nonterminal).\n\nIn an analogy with a programming language, we could imagine that each\nparameter has two possible values, '+' and '~'. Then a RHS-prefix is\nanalogous to a boolean expression in a guard:\n     [+P]  is analogous to  (P == '+')\n     [~P]                   (P == '~')\nand (with my above suggestion) a RHS-subscript is analogous to a named\nargument:\n    N[+P]  is analogous to  N(P = '+')\n    N[~P]                   N(P = '~')\n(You could *state* a similar analogy using the current notation, but I think\nit'd be less mnemonic, and wouldn't have the parallel with RHS-prefixes.)\n\n(Conceivably, you could allow \"N\" as an shorthand for \"N[~P]\", but I don't\nthink I'd encourage it.)\n\n\n(2)\nIn addition to making parameterized productions easier to understand,\nI think it would also clarify references to parameterized nonterminals\n*outside* productions.\n\nCurrently, when we say \"N[P]\" outside a production, it's unclear whether we\nmean:\n(a) all variants of N-parameterized-by-P\n    (= what \"N[P]\" means when it appears in a production's *LHS*); or\n(b) the particular variant in which parameter P is present/used/on\n    (= what \"N[P]\" currently means when it appears in a production's *RHS*).\n\nWith my suggested notation, we can distinguish these as \"N[P]\" vs \"N[+P]\".\n\nSimilarly, when we say \"N\" outside of a production, we almost always mean:\n(a) any variant of N-parameterized-by-P,\nbut it's possible we might want to mean:\n(b) the particular variant in which parameter P is absent/unused/off.\n\nWith my suggested notation, we can denote the latter as \"N[~P]\".\n\n---------"},{"commentid":8094,"comment_count":1,"who":{"uid":"jmdyck","name":"Michael Dyck"},"bug_when":"2014-05-02 12:08:37 -0700","thetext":"(By the way, this appears to be my 1000th bug at bugs.ecmascript.org!)"},{"commentid":8235,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-05-08 18:06:57 -0700","thetext":"(In reply to comment #1)\n> (By the way, this appears to be my 1000th bug at bugs.ecmascript.org!)\n\nThanks a lot!!!!!!!!\n\nKeep them coming.\n\nAllen"},{"commentid":12490,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-12 15:10:11 -0800","thetext":"deferred to ES7"}]}}
---
