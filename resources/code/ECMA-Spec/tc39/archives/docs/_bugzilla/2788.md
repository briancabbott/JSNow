---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2788,"creation_ts":"2014-05-01 09:01:00 -0700","short_desc":"26.2.3.7.1 Reflect.Realm.prototype.directEval: Type checks don't match NOTE","delta_ts":"2014-06-16 16:16:11 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 24: April 27, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":8082,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2014-05-01 09:01:27 -0700","thetext":"26.2.3.7.1 Reflect.Realm.prototype.directEval ( source )  \n\nSteps 1-4 check the thisValue type, but according to note, thisValue is always `undefined`."},{"commentid":8566,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-05-19 14:29:16 -0700","thetext":"I think the note is refering to how the directEval hook is called as part of the implementation of direct eval.  However, the actual method on Realm.prototype could be called by anybody with any this value.\n\nThe realm question is probably whether these specific methods (directEval, indirectEval, nonEval) have any dependencies upon the associated Realm object being initialized. The default directEval clearly doesnn't and nonEval also doesn't seem to need it. indirectEval appears to.\n\nI'm going to remove the initialized Realm checks from directEval and nonEval\n\nfixed in rev25 editor's draft"},{"commentid":9017,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-06-16 16:16:11 -0700","thetext":"fixed in rev25 editor's draft"}]}}
---
