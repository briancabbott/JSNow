---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1608,"creation_ts":"2013-07-30 09:49:00 -0700","short_desc":"Configurable @@create for built-in objects hazards","delta_ts":"2014-10-14 15:17:55 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 16: July 15, 2013 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"major","everconfirmed":true,"reporter":{"uid":"andrebargull","name":"André Bargull"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":4580,"comment_count":0,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2013-07-30 09:49:32 -0700","thetext":"The @@create property for built-in constructors is currently defined as configurable=true, it may be necessary to review whether this creates any hazards when users redefine the @@create property.\n\nFor example 8.2.3.3 needs to be make clear that the term \"a newly created TypeError object\" does not mean to call the [[Construct]] function of built-in native errors, because 15.11.6.1.2 calls OrdinaryConstruct and OrdinaryConstruct calls @@create. \n\n9.1.9 ToObject must not call [[Construct]] on the Boolean/Number/String constructor (this is currently only implicitly stated because the result object must have a [[BooleanData]] / [[NumberData]] / [[StringData]] internal data property)\n\n11.1.8 needs to be changed to call RegExpCreate instead of creating a new object `as if by the expression  new RegExp(Pattern, Flags)` (see bug 749).\n\n15.9.2.{1,2,3} step 5 needs to be changed because Date[@@create]] might have been redefined (`if by the expression (new Date()).toString()` !)"},{"commentid":4599,"comment_count":1,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2013-07-30 11:55:08 -0700","thetext":"There is also an observable change at the user level for certain built-in constructors. For example just calling `TypeError()` or constructing a new object by `new TypeError()` gave the same results in ES5, given that `TypeError` is the original TypeError constructor. In ES6 with a configurable TypeError[@@create] `TypeError()` and `new TypeError()` can give different results."},{"commentid":10358,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-10-14 11:44:56 -0700","thetext":"fixed in rev28 editor's draft"},{"commentid":10443,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-10-14 15:17:55 -0700","thetext":"fixed in rev28"}]}}
---
