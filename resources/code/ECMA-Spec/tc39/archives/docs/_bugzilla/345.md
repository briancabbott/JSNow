---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":345,"creation_ts":"2012-05-10 14:54:00 -0700","short_desc":"Error in specification of switch statement 12.11","delta_ts":"2015-10-02 14:32:58 -0700","product":"ECMA-262, Editions 5 and 5.1","component":"technical content","version":"Edition 5.1","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"major","everconfirmed":true,"reporter":{"uid":"allen","name":"Allen Wirfs-Brock"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":"utatane.tea","long_desc":[{"commentid":918,"comment_count":0,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2012-05-10 14:54:59 -0700","thetext":"There is an error in the specification of the switch statement in 12.11.\n\nA switch statement like:\n\nswitch (100) {\n case 1: alert(1);\n default: alert(\"default\");\n case 2: alert(2);\n}\n\nshould alert \"default\" followed by \"2\" because there isn't a break statement at the end of the default clause's statement list.\n\nAs specified in the ES5/5.1 spec. the \"2\" will not appear.  The loop in step is intended to evaluate all of the statement list following the default clause in situations like this.  However, as written is doesn't because list B has already been iterated to its end  by the loop in 7.a.\n\nThe correction is to add a new step between 8 and 9 that says:\n   If foundInB is false, reset list B to so it will iterate from its beginning. \n\nalso the note in step 9 should be modified to say set 7.a.iii.1 instead of 7.a.i"},{"commentid":919,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2012-05-10 17:30:36 -0700","thetext":"marked as in progress to indiate in need to go into the errata"},{"commentid":14719,"comment_count":2,"who":{"uid":"brterlso","name":"Brian Terlson"},"bug_when":"2015-10-02 14:32:58 -0700","thetext":"Bulk resolving ES5.1 errata issues as a sampling suggests these are all fixed. If this is in error, please open a new issue on GitHub."}]}}
---
