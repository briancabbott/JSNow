---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":21,"creation_ts":"2011-02-14 16:03:00 -0800","short_desc":"String.prototype.match should not require built-in exec method","delta_ts":"2013-03-08 14:44:13 -0800","product":"Draft for 6th Edition","component":"restructure","version":"Initial draft July 12, 2011","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Low","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"allen","name":"Allen Wirfs-Brock"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"long_desc":[{"commentid":37,"comment_count":0,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2011-02-14 16:03:28 -0800","thetext":"String.prototype.match (15.5.4.10) in ES5 is specified as calling the \"standard built-in\" RegExp.prototype.exec method.  In ES3 the \"standard built-in\" qualification was not present.  In general, for ES5 we tried to be explicit about when we expected to call the actual built-in method as opposed to whatever the actual current value of the property happens to be.  However, in some cases, such as this we may have unnecessarily over specified the requirement.\n\nFor example,the current specification precludes someone from extending RegExpo semantics and replacing the exec method with a new one that works by dispatching to either the built-in exec or extension code for the new semantics.  The match spec. requires actual [[Call]]'s of the exec and the algorithm doesn't really have any obvious dependency upon using the built-in method and not an ECMAScript code method.\n\nInstead of specifying use of the standard built-in method it should just do a [[Get]] to access the objects exec method."},{"commentid":39,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2011-02-15 15:05:17 -0800","thetext":"In fact there are some dependencies upon using the built-in exec method.  The way the algorithm is coded assumes that after a call to exec, that the lastIndex property of the regexp object will have a Number value.  It doesn't do any coercion to ensure this. This assumption is valid for the built-in exec but might not be correct for an alternative exec method.\n\nTo correctly generalize the match method, the appropriate coercions would need to be added to the algorith."},{"commentid":3300,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-03-07 14:43:37 -0800","thetext":"fixed in rev 14 editor's draft"},{"commentid":3326,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-03-08 14:44:13 -0800","thetext":"in Rev 14 draft"}]}}
---
