---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":2612,"creation_ts":"2014-04-09 21:40:00 -0700","short_desc":"Class definitions do not define a single descriptor for get + set","delta_ts":"2014-04-14 10:42:14 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 23: April 5, 2014 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"WORKSFORME","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"wycats","name":"Yehuda Katz"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":"andrebargull","long_desc":[{"commentid":7638,"comment_count":0,"who":{"uid":"wycats","name":"Yehuda Katz"},"bug_when":"2014-04-09 21:40:46 -0700","thetext":"In the current algorithm for class definition, getters and setters are each defined as a separate ClassElement.\n\nIn ClassDefinitionEvaluation, each ClassElement results in a separate call to PropertyDefinitionEvaluation. If both a getter and setter for the same name exist in a class body, the second one will end up overriding the first.\n\nIn other words, as far as I can tell, no part of the algorithm attempts to create a single combined descriptor for getters and setters."},{"commentid":7640,"comment_count":1,"who":{"uid":"andrebargull","name":"Andr√© Bargull"},"bug_when":"2014-04-10 02:38:52 -0700","thetext":"ClassDefinitionEvaluation works in the same manner as ObjectLiteral Evaluation. And just as in `{get a(){}, set a(_){}}` the getter is not overridden by the setter, the getter is not overridden in `class C {get a(){} set a(_){}}`. \n\nIn 14.3.9 Runtime Semantics: PropertyDefinitionEvaluation, the descriptor for the setter accessor does not define the [[Get]] field, and in 9.1.6.3 ValidateAndApplyPropertyDescriptor step 10a, fields which are not present are not copied over to the existing property."},{"commentid":7722,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2014-04-14 10:42:14 -0700","thetext":"As explained in comment 1, they do get combined.\n\nIf necessary, the algorithms can be refactored in the future to support annotation syntax"}]}}
---
