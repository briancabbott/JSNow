---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1223,"creation_ts":"2013-01-26 11:43:00 -0800","short_desc":"8.3.19 Ordinary Function Objects only applies to sloppy functions","delta_ts":"2015-03-04 18:58:18 -0800","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 13: December 21, 2012 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"major","everconfirmed":true,"reporter":{"uid":"erights","name":"Mark Miller"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":"erights","long_desc":[{"commentid":3154,"comment_count":0,"who":{"uid":"erights","name":"Mark Miller"},"bug_when":"2013-01-26 11:43:34 -0800","thetext":"As you and I discussed verbally, strict functions need to such special [[GetP]] and [[GetOwnProperty]] internal methods, since the poisoning by accessors takes care of it in an ordinary way. Likewise, bound functions and builtin functions are ordinarily poisoned. So all this would be simpler if sloppy functions were classified as exotic and strict functions were ordinary.\n\nI love you suggestion that implementations not providing a magic \"caller\" feature on sloppy functions also don't need this special [[GetP]] and [[GetOwnProperty]]. We should also exempt implementations that choose to poison \"caller\" (and \"arguments\") on sloppy functions. In both cases, perhaps those sloppy functions are ordinary?\n\n8.3.19.3 and 18.3.19.4 talk about first calling the \"default ordinary object\" [[GetP]] and [[GetOwnProperty]] methods respectively. But those that call the ordinary one would therefore not be calling the \"non-standard legacy feature\". For those sloppy functions that do provide the \"non-standard legacy feature\", we can just specify that this non-standard legacy feature\" must not reveal non-sloppy functions. Then we don't need to corrupt the definition of [[GetOwnProperty]]."},{"commentid":12982,"comment_count":1,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-19 12:46:43 -0800","thetext":"Mark,\n\nWe still have 9.2.1 [[GetOwnProperty]] for ECMAScript functions and built-ins (9.3)\n\nYou should check if we have sufficient langauge in 16.1 to allow us to get rid of 9.2.1"},{"commentid":13172,"comment_count":2,"who":{"uid":"erights","name":"Mark Miller"},"bug_when":"2015-02-19 22:02:59 -0800","thetext":"(In reply to Allen Wirfs-Brock from comment #1)\n> Mark,\n> \n> We still have 9.2.1 [[GetOwnProperty]] for ECMAScript functions and\n> built-ins (9.3)\n> \n> You should check if we have sufficient langauge in 16.1 to allow us to get\n> rid of 9.2.1\n\nIt looks to me like we do, which would be great.\n\nBut double check me on this. Do you see any loophole? Could there be any observable difference between the implementations that Rev34 would allow, and those it would allow with 9.2.1 simplified?"},{"commentid":13338,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-02-24 16:57:24 -0800","thetext":"fixed in rev35 editor's draft\n\neliminated the special [[GetOwnProperty]] as clause 16.1 makes it unnecessary"},{"commentid":13522,"comment_count":4,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2015-03-04 18:58:18 -0800","thetext":"fixed in rev35"}]}}
---
