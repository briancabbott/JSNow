---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":4382,"creation_ts":"2015-05-27 17:25:00 -0700","short_desc":"Allow any NaN, signalling or not, to be written into TypedArrays","delta_ts":"2015-05-28 11:18:40 -0700","product":"Draft for 6th Edition","component":"new feature","version":"Rev 38: April 14, 2015 Final Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"DUPLICATE","dup_id":4381,"priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"dehrenberg","name":"Daniel Ehrenberg"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":"andrebargull","long_desc":[{"commentid":14459,"comment_count":0,"who":{"uid":"dehrenberg","name":"Daniel Ehrenberg"},"bug_when":"2015-05-27 17:25:31 -0700","thetext":"In \"24.1.1.6 SetValueInBuffer\", 9.a and 10.a specifies special behavior to avoid writing signalling NaN out to TypedArrays. However, signalling NaN shouldn't really cause any problems for anyone, and this requirement has performance implications. Just remove the word \"non-signalling\".\n\n(Parenthetically, I'm also wondering, do we need the sentence, \"An implementation must always choose the same non-signaling NaN encoding for a distinct Not-a-Number value.\"? Do existing implementations do this, and does it create a big implementation burden?)"},{"commentid":14460,"comment_count":1,"who":{"uid":"dehrenberg","name":"Daniel Ehrenberg"},"bug_when":"2015-05-27 17:26:10 -0700","thetext":"\n\n*** This bug has been marked as a duplicate of bug 4381 ***"},{"commentid":14462,"comment_count":2,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2015-05-28 04:38:59 -0700","thetext":"(In reply to Daniel Ehrenberg from comment #0)\n> (Parenthetically, I'm also wondering, do we need the sentence, \"An\n> implementation must always choose the same non-signaling NaN encoding for a\n> distinct Not-a-Number value.\"? Do existing implementations do this, and does\n> it create a big implementation burden?)\n\nThat sentence was added as part of bug 3508."},{"commentid":14463,"comment_count":3,"who":{"uid":"dehrenberg","name":"Daniel Ehrenberg"},"bug_when":"2015-05-28 11:02:21 -0700","thetext":"Is that other channel still a concern with the current definition of everything? In https://people.mozilla.org/~jorendorff/es6-draft.html#sec-validateandapplypropertydescriptor ValidateAndApplyPropertyDescriptor, looks like if SameValue, then it just exits early, returning true without writing into the property. So is anything being communicated across the frozen object in that case?"},{"commentid":14464,"comment_count":4,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2015-05-28 11:18:40 -0700","thetext":"Yes, that issue is still a concern. The summary given in bug 3508 comment 3 describes why using the same NaN encoding for a distinct Not-a-Number value is required."}]}}
---
