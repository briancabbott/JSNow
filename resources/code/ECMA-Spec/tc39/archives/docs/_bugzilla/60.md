---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":60,"creation_ts":"2011-03-10 02:51:00 -0800","short_desc":"Tests S15.10.2.12_A1_T1 & S15.10.2.12_A2_T1 are incorrect wrt BOM handling.","delta_ts":"2012-01-13 13:31:59 -0800","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":"barraclough","assigned_to":{"uid":"erights","name":"Mark S. Miller"},"cc":"dfugate","long_desc":[{"commentid":138,"comment_count":0,"who":"barraclough","bug_when":"2011-03-10 02:51:04 -0800","thetext":"Character class \\s should match BOM (\\ufeff).\n(see: http://code.google.com/p/sputniktests/issues/detail?id=34)\n\n\nThe \\s character class in regular expressions should match the BOM marker, however the test S15.10.2.12_A1_T1.js generates the error:\n    \"#63: Error matching character class \\s between character fc00 and ffff\"\n\nS15.10.2.12_A2_T1.js (testing \\S) contains a mirroring bug.\n\n\nFrom the spec, section 15.10.2.12 CharacterClassEscape contains:\n\nThe production CharacterClassEscape :: s evaluates by returning the set of characters containing the\ncharacters that are on the right-hand side of the WhiteSpace (7.2) or LineTerminator (7.3) productions.\n\nTable 2 in section 7.2 of the ECMAScript 5 spec contains:\n\\uFEFF Byte Order Mark <BOM>\n\n\n(I believe this is a change between ES3 & ES5 - the sputnik test was correct with respect to ES3, but the definition of WhiteSpace changed)."},{"commentid":172,"comment_count":1,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2011-03-23 17:58:37 -0700","thetext":"Great spot!  Disabled these two test cases on the live website about half an hour ago."},{"commentid":601,"comment_count":2,"who":{"uid":"dfugate","name":"Dave Fugate"},"bug_when":"2012-01-13 13:31:59 -0800","thetext":"Added the following to the 'i63' for-loops:\n  if (j===65279) { continue;} //Ignore BOM\n\nand extended the test files to include explicit BOM testing:\n    var i64 = String.fromCharCode(65279);\n    if (i64.replace(/\\s/g, \"\") !== \"\") {\n      $ERROR(\"#64: Error matching character class \\s for BOM (feff)\");\n    }"}]}}
---
