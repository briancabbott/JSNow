---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":763,"creation_ts":"2012-10-09 14:01:00 -0700","short_desc":"Message formatting","delta_ts":"2012-12-17 16:43:18 -0800","product":"Internationalization - ECMA-402","component":"Specification","version":"Edition 2.0 proposals","rep_platform":"All","op_sys":"All","bug_status":"CONFIRMED","priority":"High","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"cira","name":"Nebojša Ćirić"},"assigned_to":{"uid":"cira","name":"Nebojša Ćirić"},"long_desc":[{"commentid":1898,"comment_count":0,"who":{"uid":"cira","name":"Nebojša Ćirić"},"bug_when":"2012-10-09 14:01:33 -0700","thetext":"Write a strawman for message formatting - plural and gender support, date, number formatting within a message.\n\nOur proposal should offer support for plural and gender formatting that is compatible with Template Strings.\n\nAn example functionality:\n\nAnne invited you and 5 other people to her party.\n\n\"5 people\", and \"her\" are language dependent."},{"commentid":2405,"comment_count":1,"who":{"uid":"cira","name":"Nebojša Ćirić"},"bug_when":"2012-11-02 14:20:35 -0700","thetext":"Looking at comments from Nicholas (http://www.nczonline.net/blog/2012/08/01/a-critical-review-of-ecmascript-6-quasi-literals/) string templates are hard to use for string reuse (early binding of parameters) and localization (again early binding).\n\nWe could define a new tag - plural - to deal with plural messages, but I don't see a nice way in string template mechanism to specify parameters:\n\n1. Locale (it could be global)\n2. Plural number\n\nAll parameters in the tagged string get pre-evaled and passed in as a string to a function. So we could say that fist two placeholders are locale and plural num, but that seems hacky to me:\n\nplural '${locale}${plural_count}The actual plural string with rules...'.\n\nfunction plural() {\n  var locale = arguments[0];\n  var pluralCount = arguments[1];\n  // the rest of the logic for formatting.\n}\n\nThe same applies to gender formatting."},{"commentid":3017,"comment_count":2,"who":{"uid":"ecmascriptbugs","name":"Norbert"},"bug_when":"2012-12-17 15:56:31 -0800","thetext":"TC 39 suggested looping in Alex Sexton, who has been working on message formatting and may have input."},{"commentid":3021,"comment_count":3,"who":{"uid":"ecmascriptbugs","name":"Norbert"},"bug_when":"2012-12-17 16:43:18 -0800","thetext":"At the 2012-12-14 internationalization meeting, Nebojša was asked to write a\nstrawman."}]}}
---
