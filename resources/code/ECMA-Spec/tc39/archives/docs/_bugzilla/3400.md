---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":3400,"creation_ts":"2014-12-04 08:54:00 -0800","short_desc":"Math.ceil() returns a -0 (note the negative) when performed on a negative decimal greater than -1","delta_ts":"2015-10-04 08:57:18 -0700","product":"ECMA-262, Editions 5 and 5.1","component":"technical content","version":"Edition 5.1","rep_platform":"Macintosh","op_sys":"Mac OS","bug_status":"RESOLVED","resolution":"WONTFIX","priority":"Normal","bug_severity":"minor","everconfirmed":true,"reporter":{"uid":"cbergmann","name":"Clif"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":["andrebargull","brterlso"],"long_desc":[{"commentid":10721,"comment_count":0,"who":{"uid":"cbergmann","name":"Clif"},"bug_when":"2014-12-04 08:54:15 -0800","thetext":"Overview:\n\nWhile performing a Math.ceil() calculation on any decimal between -1 and zero, the Math.ceil() function returns NEGATIVE ZERO. \n\nBehavior verified on Mac OSX 10.9.5, on: \n  Google Chrome 9.0.2171.71\n  Mozilla Firefox 33.1 & 34.0\n\nExpected behavior observed on:\n  Safari Version 7.1 (9537.85.10.17.1)\n\nSteps to Reproduce: \n\n1) Open the JavaScript console in a current browser.\n\n2) Enter: Math.ceil(-0.5)\n\nActual Results: \n-0\n\nExpected Results:\n0\n\nAdditional Information:\n\nThe negative sign does not break any Math-based calculations that I am aware of, but if you are expecting a number that you can use as an index in an array, the index will not be found."},{"commentid":10726,"comment_count":1,"who":{"uid":"andrebargull","name":"AndrÃ© Bargull"},"bug_when":"2014-12-04 11:29:21 -0800","thetext":"(In reply to Clif from comment #0)\n> The negative sign does not break any Math-based calculations that I am aware\n> of, but if you are expecting a number that you can use as an index in an\n> array, the index will not be found.\n\nAre you sure that Safari returns +0 for `Math.ceil(-0.5)`? Maybe the JavaScript console is just misleading you by displaying -0 as 0. Have you tried to evaluate the expression `1 / Math.ceil(-0.5)`, that one should result in `-Infinity`.\n\nHaving said that, the statement about negative zero is not applicable as array index is wrong, negative zero is treated the same way as positive zero for array indexing. And the definition for Math.ceil (*) cannot be changed otherwise we'd be violating the IEEE-754 standard.\n\n(*) and Math.round (bug 3401)"},{"commentid":14772,"comment_count":2,"who":{"uid":"brterlso","name":"Brian Terlson"},"bug_when":"2015-10-04 08:57:18 -0700","thetext":"Will not be changing Math.ceil semantics. All implementations seem to agree today."}]}}
---
