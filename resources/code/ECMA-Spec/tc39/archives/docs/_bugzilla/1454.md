---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":1454,"creation_ts":"2013-04-26 13:48:00 -0700","short_desc":"Invalid test? S15.4.4.4_A3_T1","delta_ts":"2013-06-07 06:50:43 -0700","product":"Test262","component":"ECMA-262 Tests","version":"unspecified","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"INVALID","priority":"Normal","bug_severity":"normal","everconfirmed":true,"reporter":{"uid":"bruant.d","name":"David Bruant"},"assigned_to":{"uid":"brbaker","name":"Brent Baker"},"cc":["andrebargull","brbaker","trbaker"],"long_desc":[{"commentid":3673,"comment_count":0,"who":{"uid":"bruant.d","name":"David Bruant"},"bug_when":"2013-04-26 13:48:14 -0700","thetext":"DESCRIPTION\n\nThe third test is erroneous.\n  Array.prototype[1] = 1;\n  var x = [0];\n  x.length = 2;\n  var arr = x.concat();\n\nAfter this prep code, arr is an array that has a '0' own property and length 2, so \"arr.hasOwnProperty('1')\" should evaluates to false according to spec.\nSo the test (arr.hasOwnProperty('1') !== true) erroneously evaluates to true (because false !== true <=> true)\n\nTo fix the test, turn \"!== true\" to \"!== false\"\n\n------------------\nTEST:            TestCases/ch15/15.4/15.4.4/15.4.4.4/S15.4.4.4_A3_T1.js\nSOURCE:          http://hg.ecmascript.org/tests/test262/file/tip/test/suite/ch15/15.4/15.4.4/15.4.4.4/S15.4.4.4_A3_T1.js\nTEST SUITE DATE: 2013-03-24\nPLATFORM:        Mozilla/5.0 (X11; Linux x86_64; rv:23.0) Gecko/20130426 Firefox/23.0\nERROR:           Error: Unexpected exception, \"uncaught exception: Test262 Error: #3: Array.prototype[1] = 1; x = [0]; x.length = 2; var arr = x.concat(); arr.hasOwnProperty('1') === true. Actual: false\" was thrown."},{"commentid":3687,"comment_count":1,"who":{"uid":"andrebargull","name":"André Bargull"},"bug_when":"2013-04-29 07:24:57 -0700","thetext":"(ES5.1) 15.4.4.4, step 5.b.iii.2 uses [[HasProperty]] which includes prototype chain look-up. That means the property created in `Array.prototype[1] = 1` will be used as a new, own property for the resulting array. \n\nSo the test is _not_ invalid."},{"commentid":4157,"comment_count":2,"who":{"uid":"brbaker","name":"Brent Baker"},"bug_when":"2013-06-07 06:50:43 -0700","thetext":"Testcase is valid as André points out. \n\nStep 5.b.iii.2 becomes active for this test as step 5.b evaluates true since the 'item' that is being inspected is an Array. (9.9 ToObject() on an Array will return the Array object without conversion)"}]}}
---
