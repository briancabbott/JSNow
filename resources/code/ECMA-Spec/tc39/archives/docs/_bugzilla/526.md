---
{"_attributes":{"version":"4.4.4+","urlbase":"https://bugs.ecmascript.org/","maintainer":"dherman@mozilla.com"},"bug":{"bug_id":526,"creation_ts":"2012-07-13 11:34:00 -0700","short_desc":"Add RegExp.prototype.sticky (flag /y)","delta_ts":"2013-10-29 09:46:28 -0700","product":"Draft for 6th Edition","component":"technical issue","version":"Rev 9: July 8, 2012 Draft","rep_platform":"All","op_sys":"All","bug_status":"RESOLVED","resolution":"FIXED","priority":"Normal","bug_severity":"enhancement","everconfirmed":true,"reporter":{"uid":"steves_list","name":"Steven Levithan"},"assigned_to":{"uid":"allen","name":"Allen Wirfs-Brock"},"cc":"mathias","long_desc":[{"commentid":1307,"comment_count":0,"who":{"uid":"steves_list","name":"Steven Levithan"},"bug_when":"2012-07-13 11:34:52 -0700","thetext":"http://wiki.ecmascript.org/doku.php?id=harmony:regexp_y_flag is an accepted proposal, and should be added to the ES6 draft spec.\n\nThat said, the brief description on the wiki leaves out a few key details.\n\n1. The current text makes it sound like /y should always cause lastIndex to be updated upon a successful match. However, the public lastIndex property should only be updated (to 0 upon failure, and to match.index+match[0].length on success) if flag /g is also present, the same as always.\n\n2. No mention is made of how an explicit ^ anchor within the RegExp should be handled. This has caused some confusion: see https://bugzilla.mozilla.org/show_bug.cgi?id=773687 . Specifically, an explicit ^ should always match only at the beginning of the entire target string, or at the beginning of a line if used with /m.\n\nAs for the revision 9 draft, it includes a passing mention of flag /y (and /u) in ยง11.1.8, but does not specify the flag itself. It should be added at least to ยง15.10.4.1, ยง15.10.6.4, and as a new subsection of ยง15.10.7."},{"commentid":1308,"comment_count":1,"who":{"uid":"steves_list","name":"Steven Levithan"},"bug_when":"2012-07-13 12:01:41 -0700","thetext":"Also, although this is probably obvious, flag /y should impact all methods that use a RegExp to search: regex.exec/test and str.search/split/replace/match."},{"commentid":5994,"comment_count":2,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-10-26 17:53:52 -0700","thetext":"recategorized to make sure these issues are covered"},{"commentid":6015,"comment_count":3,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-10-28 17:05:48 -0700","thetext":"fixed in rev20 editor's draft"},{"commentid":6141,"comment_count":4,"who":{"uid":"allen","name":"Allen Wirfs-Brock"},"bug_when":"2013-10-29 09:46:28 -0700","thetext":"fixed in rev20 draft, Oct. 28, 2013"}]}}
---
