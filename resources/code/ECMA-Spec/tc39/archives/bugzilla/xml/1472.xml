<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<!DOCTYPE bugzilla SYSTEM "https://bugs.ecmascript.org/page.cgi?id=bugzilla.dtd">

<bugzilla version="4.4.4+"
          urlbase="https://bugs.ecmascript.org/"
          
          maintainer="dherman@mozilla.com"
>

    <bug>
          <bug_id>1472</bug_id>
          
          <creation_ts>2013-05-09 07:26:00 -0700</creation_ts>
          <short_desc>python command line runner should have additional logging options, including junit xml</short_desc>
          <delta_ts>2014-07-17 22:30:19 -0700</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>1</classification_id>
          <classification>Unclassified</classification>
          <product>Test262</product>
          <component>Test Harness</component>
          <version>unspecified</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          
          
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>Normal</priority>
          <bug_severity>enhancement</bug_severity>
          <target_milestone>---</target_milestone>
          
          
          <everconfirmed>1</everconfirmed>
          <reporter name="Trevor Baker">trbaker</reporter>
          <assigned_to name="Prashanth Srinivasan">prsriniv</assigned_to>
          <cc>brbaker</cc>
    
    <cc>dschaffe</cc>
    
    <cc>sam.mikes</cc>
          

      

      

      

          <comment_sort_order>oldest_to_newest</comment_sort_order>  
          <long_desc isprivate="0" >
    <commentid>3719</commentid>
    <comment_count>0</comment_count>
    <who name="Trevor Baker">trbaker</who>
    <bug_when>2013-05-09 07:26:59 -0700</bug_when>
    <thetext>The python test runner should have optional flags to control logging.

-option to save stdout to file
ie. -l --log  #also log all output to given logfile

-option to save results as junit xml format
ie. --logjunit  #log to junit output format

-option to specify descriptive junit top-level package
ie. --logjunitname   #specify the toplevel name for to junit output (e.g. windows-stringOnly&apos;)</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>3720</commentid>
    <comment_count>1</comment_count>
    <who name="Trevor Baker">trbaker</who>
    <bug_when>2013-05-09 07:28:08 -0700</bug_when>
    <thetext>Also see Bug 1466 - should be command line argument to set logging level</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>4101</commentid>
    <comment_count>2</comment_count>
      <attachid>45</attachid>
    <who name="Prashanth Srinivasan">prsriniv</who>
    <bug_when>2013-05-29 07:36:04 -0700</bug_when>
    <thetext>Created attachment 45
Adding JUnit XML and logfile support to test262 test runner

The proposed patch adds JUnit XML support with output file specified with
 option --junitname
and option to log stdout to logfile specified by option --logname</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>4167</commentid>
    <comment_count>3</comment_count>
      <attachid>61</attachid>
    <who name="Prashanth Srinivasan">prsriniv</who>
    <bug_when>2013-06-10 08:07:10 -0700</bug_when>
    <thetext>Created attachment 61
Adding JUnit XML and logfile support to test262 test runner

Adding two options to test262 python test runner:

--logname=LOGNAME        Filename to save stdout to
 --junitname=JUNITNAME   Filename to save test results in JUnit XML format</thetext>
  </long_desc><long_desc isprivate="0" >
    <commentid>9247</commentid>
    <comment_count>4</comment_count>
    <who name="Sam Mikes">sam.mikes</who>
    <bug_when>2014-07-17 22:30:19 -0700</bug_when>
    <thetext>As of 2014-Jul-17, this code is present in the test262.py runner.</thetext>
  </long_desc>
      
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
            <attachid>45</attachid>
            <date>2013-05-29 07:36:00 -0700</date>
            <delta_ts>2013-06-10 08:07:10 -0700</delta_ts>
            <desc>Adding JUnit XML and logfile support to test262 test runner</desc>
            <filename>bug_1472.patch</filename>
            <type>text/plain</type>
            <size>8652</size>
            <attacher name="Prashanth Srinivasan">prsriniv</attacher>
            
              <data encoding="base64">ZGlmZiAtciBlNjJlMWIzNWYwZDkgdGVzdC9jb25maWcvZXhjbHVkZWxpc3QueG1sCi0tLSBhL3Rl
c3QvY29uZmlnL2V4Y2x1ZGVsaXN0LnhtbAlGcmkgTWF5IDEwIDE2OjE5OjMyIDIwMTMgLTA0MDAK
KysrIGIvdGVzdC9jb25maWcvZXhjbHVkZWxpc3QueG1sCVdlZCBNYXkgMjkgMTA6MzM6NTYgMjAx
MyAtMDQwMApAQCAtMSw0ICsxLDQgQEAKLe+7vzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9
InV0Zi04IiA/Pg0KKzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9InV0Zi04IiA/Pg0KIDxl
eGNsdWRlTGlzdD4gIA0KLSAgPHRlc3QgaWQ9ImV4YW1wbGUiPlNvbWUgZGVzY3JpcHRpb24gPC90
ZXN0Pg0KLTwvZXhjbHVkZUxpc3Q+ClwgTm8gbmV3bGluZSBhdCBlbmQgb2YgZmlsZQorICA8dGVz
dCBpZD0iZXhhbXBsZSI+PHJlYXNvbj5Tb21lIGRlc2NyaXB0aW9uIDwvcmVhc29uPjwvdGVzdD4N
Cis8L2V4Y2x1ZGVMaXN0Pg0KZGlmZiAtciBlNjJlMWIzNWYwZDkgdG9vbHMvcGFja2FnaW5nL3Rl
c3QyNjIucHkKLS0tIGEvdG9vbHMvcGFja2FnaW5nL3Rlc3QyNjIucHkJRnJpIE1heSAxMCAxNjox
OTozMiAyMDEzIC0wNDAwCisrKyBiL3Rvb2xzL3BhY2thZ2luZy90ZXN0MjYyLnB5CVdlZCBNYXkg
MjkgMTA6MzM6NTYgMjAxMyAtMDQwMApAQCAtMjMsNiArMjMsOCBAQAogaW1wb3J0IHNodXRpbAog
aW1wb3J0IGpzb24KIGltcG9ydCBzdGF0CitpbXBvcnQgeG1sLmV0cmVlLkVsZW1lbnRUcmVlIGFz
IHhtbGoKK2ltcG9ydCB1bmljb2RlZGF0YQogCiAKIGZyb20gcGFyc2VUZXN0UmVjb3JkIGltcG9y
dCBwYXJzZVRlc3RSZWNvcmQsIHN0cmlwSGVhZGVyCkBAIC00Myw2ICs0NSw3IEBACiAgICAgICAg
ICIgJXMsIHNob3dpbmcgd2hpY2ggdGVzdHMgaGF2ZSBiZWVuIGRpc2FibGVkISIgJSBFWENMVURF
RF9GSUxFTkFNRQogICAgIHN5cy5leGl0KDEpCiBFWENMVURFX0xJU1QgPSB4bWwuZG9tLm1pbmlk
b20ucGFyc2UoRVhDTFVERURfRklMRU5BTUUpCitFWENMVURFX1JFQVNPTiA9IEVYQ0xVREVfTElT
VC5nZXRFbGVtZW50c0J5VGFnTmFtZSgicmVhc29uIikKIEVYQ0xVREVfTElTVCA9IEVYQ0xVREVf
TElTVC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGVzdCIpCiBFWENMVURFX0xJU1QgPSBbeC5nZXRB
dHRyaWJ1dGUoImlkIikgZm9yIHggaW4gRVhDTFVERV9MSVNUXQogCkBAIC02Niw2ICs2OSw4IEBA
CiAgICMgdG8gImJvdGgiCiAgIHJlc3VsdC5hZGRfb3B0aW9uKCItLXVubWFya2VkX2RlZmF1bHQi
LCBkZWZhdWx0PSJub25fc3RyaWN0IiwgCiAgICAgICAgICAgICAgICAgICAgIGhlbHA9ImRlZmF1
bHQgbW9kZSBmb3IgdGVzdHMgb2YgdW5zcGVjaWZpZWQgc3RyaWN0bmVzcyIpCisgIHJlc3VsdC5h
ZGRfb3B0aW9uKCItLWxvZ25hbWUiLCBoZWxwPSJGaWxlbmFtZSB0byBzYXZlIHN0ZG91dCB0byIp
CisgIHJlc3VsdC5hZGRfb3B0aW9uKCItLWp1bml0bmFtZSIsIGhlbHA9IkZpbGVuYW1lIHRvIHNh
dmUgdGVzdCByZXN1bHRzIGluIEpVbml0IFhNTCBmb3JtYXQiKQogICByZXN1bHQuYWRkX29wdGlv
bigiLS1sb2dsZXZlbCIsIGRlZmF1bHQ9Indhcm5pbmciLAogICAgICAgICAgICAgICAgICAgICBo
ZWxwPSJzZXRzIGxvZyBsZXZlbCB0byBkZWJ1ZywgaW5mbywgd2FybmluZywgZXJyb3IsIG9yIGNy
aXRpY2FsIikgCiAgIHJldHVybiByZXN1bHQKQEAgLTE1OCw3ICsxNjMsMzYgQEAKICAgICAgIHBy
aW50ICIlcyBmYWlsZWQgaW4gJXMgYXMgZXhwZWN0ZWQiICUgKG5hbWUsIG1vZGUpCiAgICAgZWxz
ZToKICAgICAgIHByaW50ICIlcyBwYXNzZWQgaW4gJXMiICUgKG5hbWUsIG1vZGUpCisgICAgCisg
IGRlZiBYbWxBc3NlbWJsZShzZWxmLCByZXN1bHQpOgorICAgIHRlc3RfbmFtZSA9IHNlbGYuY2Fz
ZS5HZXROYW1lKCkKKyAgICB0ZXN0X21vZGUgPSBzZWxmLmNhc2UuR2V0TW9kZSgpCisgICAgdGVz
dENhc2VFbGVtZW50ID0geG1sai5FbGVtZW50KCJ0ZXN0Y2FzZSIpCisgICAgdGVzdHBhdGggPSBz
ZWxmLlRlc3RQYXRoTWFuaXB1bGF0aW9uKHRlc3RfbmFtZSkKKyAgICB0ZXN0Q2FzZUVsZW1lbnQu
YXR0cmliWyJjbGFzc25hbWUiXSA9ICIlcy4lcyIgJSAodGVzdHBhdGhbMF0gLCB0ZXN0cGF0aFsx
XSkgCisgICAgdGVzdENhc2VFbGVtZW50LmF0dHJpYlsibmFtZSJdID0gIiVzICVzIiAlICh0ZXN0
cGF0aFsyXS5yZXBsYWNlKCcuJywnXycpICwgdGVzdF9tb2RlKQorICAgIGlmIHNlbGYuSGFzVW5l
eHBlY3RlZE91dGNvbWUoKToKKyAgICAgIGZhaWx1cmVFbGVtZW50ID0geG1sai5FbGVtZW50KCJm
YWlsdXJlIikKKyAgICAgIG91dCA9IHNlbGYuc3Rkb3V0LnN0cmlwKCkuZGVjb2RlKCd1dGYtOCcp
CisgICAgICBlcnIgPSBzZWxmLnN0ZGVyci5zdHJpcCgpLmRlY29kZSgndXRmLTgnKQorICAgICAg
aWYgbGVuKG91dCkgPiAwOgorICAgICAgICBmYWlsdXJlRWxlbWVudC50ZXh0ID0gb3V0CisgICAg
ICBpZiBsZW4oZXJyKSA+IDA6CisgICAgICAgIGZhaWx1cmVFbGVtZW50LnRleHQgPSBlcnIKKyAg
ICAgIHRlc3RDYXNlRWxlbWVudC5hcHBlbmQoZmFpbHVyZUVsZW1lbnQpCisgICAgcmV0dXJuIHRl
c3RDYXNlRWxlbWVudAogCisgIGRlZiBUZXN0UGF0aE1hbmlwdWxhdGlvbihzZWxmLCB0ZXN0X25h
bWUpOgorICAgIHRlc3RkaXJsaXN0ID0gdGVzdF9uYW1lLnNwbGl0KCcvJykKKyAgICB0ZXN0Y2Fz
ZSA9IHRlc3RkaXJsaXN0LnBvcCgpCisgICAgdGVzdGNsYXNzID0gdGVzdGRpcmxpc3QucG9wKCkK
KyAgICB0ZXN0Y2xhc3MgPSB0ZXN0Y2xhc3MucmVwbGFjZSgnLicsJ18nKQorICAgIGlmIGxlbih0
ZXN0ZGlybGlzdCkgPj0gMToKKyAgICAgICB0ZXN0cGFja2FnZSA9IHRlc3RkaXJsaXN0LnBvcCgw
KQorICAgIGVsc2U6CisgICAgICAgdGVzdHBhY2thZ2UgPSB0ZXN0Y2xhc3MKKyAgICByZXR1cm4o
dGVzdHBhY2thZ2UsdGVzdGNsYXNzLHRlc3RjYXNlKQorICAKICAgZGVmIEhhc0ZhaWxlZChzZWxm
KToKICAgICByZXR1cm4gc2VsZi5leGl0X2NvZGUgIT0gMAogCkBAIC0yOTYsNyArMzMwLDYgQEAK
ICAgZWxzZToKICAgICByZXR1cm4gKG4sICJzIikKIAotCiBjbGFzcyBUZXN0U3VpdGUob2JqZWN0
KToKIAogICBkZWYgX19pbml0X18oc2VsZiwgcm9vdCwgc3RyaWN0X29ubHksIG5vbl9zdHJpY3Rf
b25seSwgdW5tYXJrZWRfZGVmYXVsdCk6CkBAIC0zNzcsNjMgKzQxMCwxMjQgQEAKICAgICBsb2dn
aW5nLmluZm8oIkRvbmUgbGlzdGluZyB0ZXN0cyIpCiAgICAgcmV0dXJuIGNhc2VzCiAKLSAgZGVm
IFByaW50U3VtbWFyeShzZWxmLCBwcm9ncmVzcyk6CisgIGRlZiBQcmludFN1bW1hcnkoc2VsZiwg
cHJvZ3Jlc3MsIGxvZ2ZpbGUpOgogICAgIHByaW50CisgICAgaWYgbG9nZmlsZToKKyAgICAgICBz
ZWxmLmxvZ2Yud3JpdGUoIj09PSBTdW1tYXJ5ID09PSBcbiIpCiAgICAgcHJpbnQgIj09PSBTdW1t
YXJ5ID09PSIKICAgICBjb3VudCA9IHByb2dyZXNzLmNvdW50CiAgICAgc3VjY2VlZGVkID0gcHJv
Z3Jlc3Muc3VjY2VlZGVkCiAgICAgZmFpbGVkID0gcHJvZ3Jlc3MuZmFpbGVkCisgICAgaWYgbG9n
ZmlsZToKKyAgICAgIHNlbGYubG9nZi53cml0ZSgiIC0gUmFuICVpIHRlc3QlcyBcbiIgJSBNYWtl
UGx1cmFsKGNvdW50KSkKICAgICBwcmludCAiIC0gUmFuICVpIHRlc3QlcyIgJSBNYWtlUGx1cmFs
KGNvdW50KQogICAgIGlmIHByb2dyZXNzLmZhaWxlZCA9PSAwOgorICAgICAgaWYgbG9nZmlsZToK
KyAgICAgICAgc2VsZi5sb2dmLndyaXRlKCIgLSBBbGwgdGVzdHMgc3VjY2VlZGVkIFxuIikKICAg
ICAgIHByaW50ICIgLSBBbGwgdGVzdHMgc3VjY2VlZGVkIgorICAgCiAgICAgZWxzZToKICAgICAg
IHBlcmNlbnQgPSAoKDEwMC4wICogc3VjY2VlZGVkKSAvIGNvdW50LCkKKyAgICAgIGlmIGxvZ2Zp
bGU6CisgICAgICAgIHNlbGYubG9nZi53cml0ZSgiIC0gUGFzc2VkICVpIHRlc3QlcyAoJS4xZiUl
KVxuIiAlIChNYWtlUGx1cmFsKHN1Y2NlZWRlZCkgKyBwZXJjZW50KSkKICAgICAgIHByaW50ICIg
LSBQYXNzZWQgJWkgdGVzdCVzICglLjFmJSUpIiAlIChNYWtlUGx1cmFsKHN1Y2NlZWRlZCkgKyBw
ZXJjZW50KQogICAgICAgcGVyY2VudCA9ICgoMTAwLjAgKiBmYWlsZWQpIC8gY291bnQsKQorICAg
ICAgaWYgbG9nZmlsZToKKyAgICAgICAgc2VsZi5sb2dmLndyaXRlKCIgLSBGYWlsZWQgJWkgdGVz
dCVzICglLjFmJSUpIFxuIiAlIChNYWtlUGx1cmFsKGZhaWxlZCkgKyBwZXJjZW50KSkKICAgICAg
IHByaW50ICIgLSBGYWlsZWQgJWkgdGVzdCVzICglLjFmJSUpIiAlIChNYWtlUGx1cmFsKGZhaWxl
ZCkgKyBwZXJjZW50KQogICAgICAgcG9zaXRpdmUgPSBbYyBmb3IgYyBpbiBwcm9ncmVzcy5mYWls
ZWRfdGVzdHMgaWYgbm90IGMuY2FzZS5Jc05lZ2F0aXZlKCldCiAgICAgICBuZWdhdGl2ZSA9IFtj
IGZvciBjIGluIHByb2dyZXNzLmZhaWxlZF90ZXN0cyBpZiBjLmNhc2UuSXNOZWdhdGl2ZSgpXQog
ICAgICAgaWYgbGVuKHBvc2l0aXZlKSA+IDA6CiAgICAgICAgIHByaW50CisgICAgICAgIGlmIGxv
Z2ZpbGU6CisgICAgICAgICAgc2VsZi5sb2dmLndyaXRlKCJGYWlsZWQgVGVzdHMgXG4iKSAKICAg
ICAgICAgcHJpbnQgIkZhaWxlZCB0ZXN0cyIKICAgICAgICAgZm9yIHJlc3VsdCBpbiBwb3NpdGl2
ZToKKyAgICAgICAgICBpZiBsb2dmaWxlOgorICAgICAgICAgICAgc2VsZi5sb2dmLndyaXRlKCIg
ICVzIGluICVzIFxuIiAlIChyZXN1bHQuY2FzZS5HZXROYW1lKCksIHJlc3VsdC5jYXNlLkdldE1v
ZGUoKSkpCiAgICAgICAgICAgcHJpbnQgIiAgJXMgaW4gJXMiICUgKHJlc3VsdC5jYXNlLkdldE5h
bWUoKSwgcmVzdWx0LmNhc2UuR2V0TW9kZSgpKQogICAgICAgaWYgbGVuKG5lZ2F0aXZlKSA+IDA6
CiAgICAgICAgIHByaW50CiAgICAgICAgIHByaW50ICJFeHBlY3RlZCB0byBmYWlsIGJ1dCBwYXNz
ZWQgLS0tIgogICAgICAgICBmb3IgcmVzdWx0IGluIG5lZ2F0aXZlOgorICAgICAgICAgIGlmIGxv
Z2ZpbGU6CisgICAgICAgICAgICBzZWxmLmxvZ2ZpbGUuYXBwZW5kKCIgJXMgaW4gJXMgXG4iICUg
KHJlc3VsdC5jYXNlLkdldE5hbWUoKSwgcmVzdWx0LmNhc2UuR2V0TW9kZSgpKSkKICAgICAgICAg
ICBwcmludCAiICVzIGluICVzIiAlIChyZXN1bHQuY2FzZS5HZXROYW1lKCksIHJlc3VsdC5jYXNl
LkdldE1vZGUoKSkKIAotICBkZWYgUHJpbnRGYWlsdXJlT3V0cHV0KHNlbGYsIHByb2dyZXNzKToK
KyAgZGVmIFByaW50RmFpbHVyZU91dHB1dChzZWxmLCBwcm9ncmVzcywgbG9nZmlsZSk6CiAgICAg
Zm9yIHJlc3VsdCBpbiBwcm9ncmVzcy5mYWlsZWRfdGVzdHM6CisgICAgICBpZiBsb2dmaWxlOgor
ICAgICAgICBzZWxmLldyaXRlTG9nKHJlc3VsdCkKICAgICAgIHByaW50CiAgICAgICByZXN1bHQu
UmVwb3J0T3V0Y29tZShGYWxzZSkKIAotICBkZWYgUnVuKHNlbGYsIGNvbW1hbmRfdGVtcGxhdGUs
IHRlc3RzLCBwcmludF9zdW1tYXJ5LCBmdWxsX3N1bW1hcnkpOgorICBkZWYgUnVuKHNlbGYsIGNv
bW1hbmRfdGVtcGxhdGUsIHRlc3RzLCBwcmludF9zdW1tYXJ5LCBmdWxsX3N1bW1hcnksIGxvZ25h
bWUsIGp1bml0ZmlsZSk6CiAgICAgaWYgbm90ICJ7e3BhdGh9fSIgaW4gY29tbWFuZF90ZW1wbGF0
ZToKICAgICAgIGNvbW1hbmRfdGVtcGxhdGUgKz0gIiB7e3BhdGh9fSIKICAgICBjYXNlcyA9IHNl
bGYuRW51bWVyYXRlVGVzdHModGVzdHMpCiAgICAgaWYgbGVuKGNhc2VzKSA9PSAwOgogICAgICAg
UmVwb3J0RXJyb3IoIk5vIHRlc3RzIHRvIHJ1biIpCiAgICAgcHJvZ3Jlc3MgPSBQcm9ncmVzc0lu
ZGljYXRvcihsZW4oY2FzZXMpKQorICAgIGlmIGxvZ25hbWU6CisgICAgICBzZWxmLmxvZ2YgPSBv
cGVuKGxvZ25hbWUsICJ3IikKKyAgICBpZiBqdW5pdGZpbGU6CisgICAgICBzZWxmLm91dGZpbGUg
PSBvcGVuKGp1bml0ZmlsZSwgInciKQorICAgICAgVGVzdFN1aXRlRWxlbWVudCA9IHhtbGouRWxl
bWVudCgidGVzdHN1aXRlIikKKyAgICAgIFRlc3RTdWl0ZUVsZW1lbnQuYXR0cmliWyJuYW1lICJd
ID0gInRlc3QyNjIiCisgICAgICBmb3IgeCBpbiByYW5nZShsZW4oRVhDTFVERV9MSVNUKSk6Cisg
ICAgICAgICAgU2tpcENhc2VFbGVtZW50ID0geG1sai5FbGVtZW50KCJ0ZXN0Y2FzZSIpCisgICAg
ICAgICAgU2tpcENhc2VFbGVtZW50LmF0dHJpYlsiY2xhc3NuYW1lIl0gPSB1bmljb2RlKEVYQ0xV
REVfTElTVFt4XSkuZW5jb2RlKCd1dGYtOCcsJ2lnbm9yZScpCisgICAgICAgICAgU2tpcENhc2VF
bGVtZW50LmF0dHJpYlsibmFtZSJdID0gdW5pY29kZShFWENMVURFX0xJU1RbeF0pLmVuY29kZSgn
dXRmLTgnLCdpZ25vcmUnKQorICAgICAgICAgIFNraXBFbGVtZW50ID0geG1sai5FbGVtZW50KCJz
a2lwcGVkIikKKyAgICAgICAgICBTa2lwRWxlbWVudC5hdHRyaWJbIm1lc3NhZ2UiXSA9IHVuaWNv
ZGUoRVhDTFVERV9SRUFTT05beF0uZmlyc3RDaGlsZC5ub2RlVmFsdWUpCisgICAgICAgICAgU2tp
cENhc2VFbGVtZW50LmFwcGVuZChTa2lwRWxlbWVudCkKKyAgICAgICAgICBUZXN0U3VpdGVFbGVt
ZW50LmFwcGVuZChTa2lwQ2FzZUVsZW1lbnQpCisgICAgICAgCiAgICAgZm9yIGNhc2UgaW4gY2Fz
ZXM6CiAgICAgICByZXN1bHQgPSBjYXNlLlJ1bihjb21tYW5kX3RlbXBsYXRlKQorICAgICAgaWYg
anVuaXRmaWxlOgorICAgICAgICBUZXN0Q2FzZUVsZW1lbnQgPSByZXN1bHQuWG1sQXNzZW1ibGUo
cmVzdWx0KQorICAgICAgICBUZXN0U3VpdGVFbGVtZW50LmFwcGVuZChUZXN0Q2FzZUVsZW1lbnQp
CisgICAgICAgIGlmIGNhc2UgPT0gY2FzZXNbbGVuKGNhc2VzKS0xXToKKyAgICAgICAgICAgICB4
bWxqLkVsZW1lbnRUcmVlKFRlc3RTdWl0ZUVsZW1lbnQpLndyaXRlKGp1bml0ZmlsZSwgIlVURi04
IikKKyAgICAgIGlmIGxvZ25hbWU6CisgICAgICAgIHNlbGYuV3JpdGVMb2cocmVzdWx0KQogICAg
ICAgcHJvZ3Jlc3MuSGFzUnVuKHJlc3VsdCkKKyAgICAKICAgICBpZiBwcmludF9zdW1tYXJ5Ogot
ICAgICAgc2VsZi5QcmludFN1bW1hcnkocHJvZ3Jlc3MpCisgICAgICBzZWxmLlByaW50U3VtbWFy
eShwcm9ncmVzcywgbG9nbmFtZSkKICAgICAgIGlmIGZ1bGxfc3VtbWFyeToKLSAgICAgICAgc2Vs
Zi5QcmludEZhaWx1cmVPdXRwdXQocHJvZ3Jlc3MpCisgICAgICAgIHNlbGYuUHJpbnRGYWlsdXJl
T3V0cHV0KHByb2dyZXNzLCBsb2duYW1lKQogICAgICAgZWxzZToKICAgICAgICAgcHJpbnQKICAg
ICAgICAgcHJpbnQgIlVzZSAtLWZ1bGwtc3VtbWFyeSB0byBzZWUgb3V0cHV0IGZyb20gZmFpbGVk
IHRlc3RzIgogICAgIHByaW50CiAKKyAgZGVmIFdyaXRlTG9nKHNlbGYsIHJlc3VsdCk6CisgICAg
bmFtZSA9IHJlc3VsdC5jYXNlLkdldE5hbWUoKQorICAgIG1vZGUgPSByZXN1bHQuY2FzZS5HZXRN
b2RlKCkKKyAgICBpZiByZXN1bHQuSGFzVW5leHBlY3RlZE91dGNvbWUoKToKKyAgICAgICBpZiBy
ZXN1bHQuY2FzZS5Jc05lZ2F0aXZlKCk6CisgICAgICAgICAgc2VsZi5sb2dmLndyaXRlKCI9PT0g
JXMgd2FzIGV4cGVjdGVkIHRvIGZhaWwgaW4gJXMsIGJ1dCBkaWRuJ3QgPT09IFxuIiAlIChuYW1l
LCBtb2RlKSkKKyAgICAgICBlbHNlOgorICAgICAgICAgIHNlbGYubG9nZi53cml0ZSgiPT09ICVz
IGZhaWxlZCBpbiAlcyA9PT0gXG4iICUgKG5hbWUsIG1vZGUpKQorICAgICAgICAgIG91dCA9IHJl
c3VsdC5zdGRvdXQuc3RyaXAoKQorICAgICAgICAgIGlmIGxlbihvdXQpID4gMDoKKyAgICAgICAg
ICAgICBzZWxmLmxvZ2Yud3JpdGUoIi0tLSBvdXRwdXQgLS0tIFxuICVzIiAlIG91dCkKKyAgICAg
ICAgICBlcnIgPSByZXN1bHQuc3RkZXJyLnN0cmlwKCkKKyAgICAgICAgICBpZiBsZW4oZXJyKSA+
IDA6CisgICAgICAgICAgICAgc2VsZi5sb2dmLndyaXRlKCItLS0gZXJyb3JzIC0tLSAgXG4gJXMi
ICUgZXJyKQorICAgICAgICAgICAgIHNlbGYubG9nZi53cml0ZSgiPT09IFxuIikKKyAgICBlbGlm
IHJlc3VsdC5jYXNlLklzTmVnYXRpdmUoKToKKyAgICAgICBzZWxmLmxvZ2Yud3JpdGUoIiVzIGZh
aWxlZCBpbiAlcyBhcyBleHBlY3RlZCBcbiIgJSAobmFtZSwgbW9kZSkpCisgICAgZWxzZToKKyAg
ICAgICBzZWxmLmxvZ2Yud3JpdGUoIiVzIHBhc3NlZCBpbiAlcyBcbiIgJSAobmFtZSwgbW9kZSkp
CisKICAgZGVmIFByaW50KHNlbGYsIHRlc3RzKToKICAgICBjYXNlcyA9IHNlbGYuRW51bWVyYXRl
VGVzdHModGVzdHMpCiAgICAgaWYgbGVuKGNhc2VzKSA+IDA6CiAgICAgICBjYXNlc1swXS5Qcmlu
dCgpCiAKLQogZGVmIE1haW4oKToKICAgcGFyc2VyID0gQnVpbGRPcHRpb25zKCkKICAgKG9wdGlv
bnMsIGFyZ3MpID0gcGFyc2VyLnBhcnNlX2FyZ3MoKQpAQCAtNDU4LDkgKzU1MiwxMCBAQAogICBl
bHNlOgogICAgIHRlc3Rfc3VpdGUuUnVuKG9wdGlvbnMuY29tbWFuZCwgYXJncywKICAgICAgICAg
ICAgICAgICAgICBvcHRpb25zLnN1bW1hcnkgb3Igb3B0aW9ucy5mdWxsX3N1bW1hcnksCi0gICAg
ICAgICAgICAgICAgICAgb3B0aW9ucy5mdWxsX3N1bW1hcnkpCi0KLQorICAgICAgICAgICAgICAg
ICAgIG9wdGlvbnMuZnVsbF9zdW1tYXJ5LAorICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubG9n
bmFtZSwKKyAgICAgICAgICAgICAgICAgICBvcHRpb25zLmp1bml0bmFtZSkKKyAgICAgICAKIGlm
IF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgIHRyeToKICAgICBNYWluKCkK
</data>

          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
            <attachid>61</attachid>
            <date>2013-06-10 08:07:00 -0700</date>
            <delta_ts>2013-06-10 08:07:10 -0700</delta_ts>
            <desc>Adding JUnit XML and logfile support to test262 test runner</desc>
            <filename>bug_1472.patch</filename>
            <type>text/plain</type>
            <size>8739</size>
            <attacher name="Prashanth Srinivasan">prsriniv</attacher>
            
              <data encoding="base64">ZGlmZiAtciBlNjJlMWIzNWYwZDkgdGVzdC9jb25maWcvZXhjbHVkZWxpc3QueG1sCi0tLSBhL3Rl
c3QvY29uZmlnL2V4Y2x1ZGVsaXN0LnhtbAlGcmkgTWF5IDEwIDE2OjE5OjMyIDIwMTMgLTA0MDAK
KysrIGIvdGVzdC9jb25maWcvZXhjbHVkZWxpc3QueG1sCU1vbiBKdW4gMTAgMTE6MDU6MDcgMjAx
MyAtMDQwMApAQCAtMSw0ICsxLDQgQEAKLe+7vzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9
InV0Zi04IiA/Pg0KKzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9InV0Zi04IiA/Pg0KIDxl
eGNsdWRlTGlzdD4gIA0KLSAgPHRlc3QgaWQ9ImV4YW1wbGUiPlNvbWUgZGVzY3JpcHRpb24gPC90
ZXN0Pg0KLTwvZXhjbHVkZUxpc3Q+ClwgTm8gbmV3bGluZSBhdCBlbmQgb2YgZmlsZQorICA8dGVz
dCBpZD0iZXhhbXBsZSI+PHJlYXNvbj5Tb21lIGRlc2NyaXB0aW9uIDwvcmVhc29uPjwvdGVzdD4N
Cis8L2V4Y2x1ZGVMaXN0Pg0KZGlmZiAtciBlNjJlMWIzNWYwZDkgdG9vbHMvcGFja2FnaW5nL3Rl
c3QyNjIucHkKLS0tIGEvdG9vbHMvcGFja2FnaW5nL3Rlc3QyNjIucHkJRnJpIE1heSAxMCAxNjox
OTozMiAyMDEzIC0wNDAwCisrKyBiL3Rvb2xzL3BhY2thZ2luZy90ZXN0MjYyLnB5CU1vbiBKdW4g
MTAgMTE6MDU6MDcgMjAxMyAtMDQwMApAQCAtMjMsNiArMjMsOCBAQAogaW1wb3J0IHNodXRpbAog
aW1wb3J0IGpzb24KIGltcG9ydCBzdGF0CitpbXBvcnQgeG1sLmV0cmVlLkVsZW1lbnRUcmVlIGFz
IHhtbGoKK2ltcG9ydCB1bmljb2RlZGF0YQogCiAKIGZyb20gcGFyc2VUZXN0UmVjb3JkIGltcG9y
dCBwYXJzZVRlc3RSZWNvcmQsIHN0cmlwSGVhZGVyCkBAIC00Myw2ICs0NSw3IEBACiAgICAgICAg
ICIgJXMsIHNob3dpbmcgd2hpY2ggdGVzdHMgaGF2ZSBiZWVuIGRpc2FibGVkISIgJSBFWENMVURF
RF9GSUxFTkFNRQogICAgIHN5cy5leGl0KDEpCiBFWENMVURFX0xJU1QgPSB4bWwuZG9tLm1pbmlk
b20ucGFyc2UoRVhDTFVERURfRklMRU5BTUUpCitFWENMVURFX1JFQVNPTiA9IEVYQ0xVREVfTElT
VC5nZXRFbGVtZW50c0J5VGFnTmFtZSgicmVhc29uIikKIEVYQ0xVREVfTElTVCA9IEVYQ0xVREVf
TElTVC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGVzdCIpCiBFWENMVURFX0xJU1QgPSBbeC5nZXRB
dHRyaWJ1dGUoImlkIikgZm9yIHggaW4gRVhDTFVERV9MSVNUXQogCkBAIC02Niw2ICs2OSw4IEBA
CiAgICMgdG8gImJvdGgiCiAgIHJlc3VsdC5hZGRfb3B0aW9uKCItLXVubWFya2VkX2RlZmF1bHQi
LCBkZWZhdWx0PSJub25fc3RyaWN0IiwgCiAgICAgICAgICAgICAgICAgICAgIGhlbHA9ImRlZmF1
bHQgbW9kZSBmb3IgdGVzdHMgb2YgdW5zcGVjaWZpZWQgc3RyaWN0bmVzcyIpCisgIHJlc3VsdC5h
ZGRfb3B0aW9uKCItLWxvZ25hbWUiLCBoZWxwPSJGaWxlbmFtZSB0byBzYXZlIHN0ZG91dCB0byIp
CisgIHJlc3VsdC5hZGRfb3B0aW9uKCItLWp1bml0bmFtZSIsIGhlbHA9IkZpbGVuYW1lIHRvIHNh
dmUgdGVzdCByZXN1bHRzIGluIEpVbml0IFhNTCBmb3JtYXQiKQogICByZXN1bHQuYWRkX29wdGlv
bigiLS1sb2dsZXZlbCIsIGRlZmF1bHQ9Indhcm5pbmciLAogICAgICAgICAgICAgICAgICAgICBo
ZWxwPSJzZXRzIGxvZyBsZXZlbCB0byBkZWJ1ZywgaW5mbywgd2FybmluZywgZXJyb3IsIG9yIGNy
aXRpY2FsIikgCiAgIHJldHVybiByZXN1bHQKQEAgLTE1OCw3ICsxNjMsMzYgQEAKICAgICAgIHBy
aW50ICIlcyBmYWlsZWQgaW4gJXMgYXMgZXhwZWN0ZWQiICUgKG5hbWUsIG1vZGUpCiAgICAgZWxz
ZToKICAgICAgIHByaW50ICIlcyBwYXNzZWQgaW4gJXMiICUgKG5hbWUsIG1vZGUpCisgICAgCisg
IGRlZiBYbWxBc3NlbWJsZShzZWxmLCByZXN1bHQpOgorICAgIHRlc3RfbmFtZSA9IHNlbGYuY2Fz
ZS5HZXROYW1lKCkKKyAgICB0ZXN0X21vZGUgPSBzZWxmLmNhc2UuR2V0TW9kZSgpCisgICAgdGVz
dENhc2VFbGVtZW50ID0geG1sai5FbGVtZW50KCJ0ZXN0Y2FzZSIpCisgICAgdGVzdHBhdGggPSBz
ZWxmLlRlc3RQYXRoTWFuaXB1bGF0aW9uKHRlc3RfbmFtZSkKKyAgICB0ZXN0Q2FzZUVsZW1lbnQu
YXR0cmliWyJjbGFzc25hbWUiXSA9ICIlcy4lcyIgJSAodGVzdHBhdGhbMF0gLCB0ZXN0cGF0aFsx
XSkgCisgICAgdGVzdENhc2VFbGVtZW50LmF0dHJpYlsibmFtZSJdID0gIiVzICVzIiAlICh0ZXN0
cGF0aFsyXS5yZXBsYWNlKCcuJywnXycpICwgdGVzdF9tb2RlKQorICAgIGlmIHNlbGYuSGFzVW5l
eHBlY3RlZE91dGNvbWUoKToKKyAgICAgIGZhaWx1cmVFbGVtZW50ID0geG1sai5FbGVtZW50KCJm
YWlsdXJlIikKKyAgICAgIG91dCA9IHNlbGYuc3Rkb3V0LnN0cmlwKCkuZGVjb2RlKCd1dGYtOCcp
CisgICAgICBlcnIgPSBzZWxmLnN0ZGVyci5zdHJpcCgpLmRlY29kZSgndXRmLTgnKQorICAgICAg
aWYgbGVuKG91dCkgPiAwOgorICAgICAgICBmYWlsdXJlRWxlbWVudC50ZXh0ID0gb3V0CisgICAg
ICBpZiBsZW4oZXJyKSA+IDA6CisgICAgICAgIGZhaWx1cmVFbGVtZW50LnRleHQgPSBlcnIKKyAg
ICAgIHRlc3RDYXNlRWxlbWVudC5hcHBlbmQoZmFpbHVyZUVsZW1lbnQpCisgICAgcmV0dXJuIHRl
c3RDYXNlRWxlbWVudAogCisgIGRlZiBUZXN0UGF0aE1hbmlwdWxhdGlvbihzZWxmLCB0ZXN0X25h
bWUpOgorICAgIHRlc3RkaXJsaXN0ID0gdGVzdF9uYW1lLnNwbGl0KCcvJykKKyAgICB0ZXN0Y2Fz
ZSA9IHRlc3RkaXJsaXN0LnBvcCgpCisgICAgdGVzdGNsYXNzID0gdGVzdGRpcmxpc3QucG9wKCkK
KyAgICB0ZXN0Y2xhc3MgPSB0ZXN0Y2xhc3MucmVwbGFjZSgnLicsJ18nKQorICAgIGlmIGxlbih0
ZXN0ZGlybGlzdCkgPj0gMToKKyAgICAgICB0ZXN0cGFja2FnZSA9IHRlc3RkaXJsaXN0LnBvcCgw
KQorICAgIGVsc2U6CisgICAgICAgdGVzdHBhY2thZ2UgPSB0ZXN0Y2xhc3MKKyAgICByZXR1cm4o
dGVzdHBhY2thZ2UsdGVzdGNsYXNzLHRlc3RjYXNlKQorICAKICAgZGVmIEhhc0ZhaWxlZChzZWxm
KToKICAgICByZXR1cm4gc2VsZi5leGl0X2NvZGUgIT0gMAogCkBAIC0yOTYsNyArMzMwLDYgQEAK
ICAgZWxzZToKICAgICByZXR1cm4gKG4sICJzIikKIAotCiBjbGFzcyBUZXN0U3VpdGUob2JqZWN0
KToKIAogICBkZWYgX19pbml0X18oc2VsZiwgcm9vdCwgc3RyaWN0X29ubHksIG5vbl9zdHJpY3Rf
b25seSwgdW5tYXJrZWRfZGVmYXVsdCk6CkBAIC0zNzcsNjMgKzQxMCwxMjUgQEAKICAgICBsb2dn
aW5nLmluZm8oIkRvbmUgbGlzdGluZyB0ZXN0cyIpCiAgICAgcmV0dXJuIGNhc2VzCiAKLSAgZGVm
IFByaW50U3VtbWFyeShzZWxmLCBwcm9ncmVzcyk6CisgIGRlZiBQcmludFN1bW1hcnkoc2VsZiwg
cHJvZ3Jlc3MsIGxvZ2ZpbGUpOgogICAgIHByaW50CisgICAgaWYgbG9nZmlsZToKKyAgICAgICBz
ZWxmLmxvZ2Yud3JpdGUoIj09PSBTdW1tYXJ5ID09PSBcbiIpCiAgICAgcHJpbnQgIj09PSBTdW1t
YXJ5ID09PSIKICAgICBjb3VudCA9IHByb2dyZXNzLmNvdW50CiAgICAgc3VjY2VlZGVkID0gcHJv
Z3Jlc3Muc3VjY2VlZGVkCiAgICAgZmFpbGVkID0gcHJvZ3Jlc3MuZmFpbGVkCisgICAgaWYgbG9n
ZmlsZToKKyAgICAgIHNlbGYubG9nZi53cml0ZSgiIC0gUmFuICVpIHRlc3QlcyBcbiIgJSBNYWtl
UGx1cmFsKGNvdW50KSkKICAgICBwcmludCAiIC0gUmFuICVpIHRlc3QlcyIgJSBNYWtlUGx1cmFs
KGNvdW50KQogICAgIGlmIHByb2dyZXNzLmZhaWxlZCA9PSAwOgorICAgICAgaWYgbG9nZmlsZToK
KyAgICAgICAgc2VsZi5sb2dmLndyaXRlKCIgLSBBbGwgdGVzdHMgc3VjY2VlZGVkIFxuIikKICAg
ICAgIHByaW50ICIgLSBBbGwgdGVzdHMgc3VjY2VlZGVkIgorICAgCiAgICAgZWxzZToKICAgICAg
IHBlcmNlbnQgPSAoKDEwMC4wICogc3VjY2VlZGVkKSAvIGNvdW50LCkKKyAgICAgIGlmIGxvZ2Zp
bGU6CisgICAgICAgIHNlbGYubG9nZi53cml0ZSgiIC0gUGFzc2VkICVpIHRlc3QlcyAoJS4xZiUl
KVxuIiAlIChNYWtlUGx1cmFsKHN1Y2NlZWRlZCkgKyBwZXJjZW50KSkKICAgICAgIHByaW50ICIg
LSBQYXNzZWQgJWkgdGVzdCVzICglLjFmJSUpIiAlIChNYWtlUGx1cmFsKHN1Y2NlZWRlZCkgKyBw
ZXJjZW50KQogICAgICAgcGVyY2VudCA9ICgoMTAwLjAgKiBmYWlsZWQpIC8gY291bnQsKQorICAg
ICAgaWYgbG9nZmlsZToKKyAgICAgICAgc2VsZi5sb2dmLndyaXRlKCIgLSBGYWlsZWQgJWkgdGVz
dCVzICglLjFmJSUpIFxuIiAlIChNYWtlUGx1cmFsKGZhaWxlZCkgKyBwZXJjZW50KSkKICAgICAg
IHByaW50ICIgLSBGYWlsZWQgJWkgdGVzdCVzICglLjFmJSUpIiAlIChNYWtlUGx1cmFsKGZhaWxl
ZCkgKyBwZXJjZW50KQogICAgICAgcG9zaXRpdmUgPSBbYyBmb3IgYyBpbiBwcm9ncmVzcy5mYWls
ZWRfdGVzdHMgaWYgbm90IGMuY2FzZS5Jc05lZ2F0aXZlKCldCiAgICAgICBuZWdhdGl2ZSA9IFtj
IGZvciBjIGluIHByb2dyZXNzLmZhaWxlZF90ZXN0cyBpZiBjLmNhc2UuSXNOZWdhdGl2ZSgpXQog
ICAgICAgaWYgbGVuKHBvc2l0aXZlKSA+IDA6CiAgICAgICAgIHByaW50CisgICAgICAgIGlmIGxv
Z2ZpbGU6CisgICAgICAgICAgc2VsZi5sb2dmLndyaXRlKCJGYWlsZWQgVGVzdHMgXG4iKSAKICAg
ICAgICAgcHJpbnQgIkZhaWxlZCB0ZXN0cyIKICAgICAgICAgZm9yIHJlc3VsdCBpbiBwb3NpdGl2
ZToKKyAgICAgICAgICBpZiBsb2dmaWxlOgorICAgICAgICAgICAgc2VsZi5sb2dmLndyaXRlKCIg
ICVzIGluICVzIFxuIiAlIChyZXN1bHQuY2FzZS5HZXROYW1lKCksIHJlc3VsdC5jYXNlLkdldE1v
ZGUoKSkpCiAgICAgICAgICAgcHJpbnQgIiAgJXMgaW4gJXMiICUgKHJlc3VsdC5jYXNlLkdldE5h
bWUoKSwgcmVzdWx0LmNhc2UuR2V0TW9kZSgpKQogICAgICAgaWYgbGVuKG5lZ2F0aXZlKSA+IDA6
CiAgICAgICAgIHByaW50CiAgICAgICAgIHByaW50ICJFeHBlY3RlZCB0byBmYWlsIGJ1dCBwYXNz
ZWQgLS0tIgogICAgICAgICBmb3IgcmVzdWx0IGluIG5lZ2F0aXZlOgorICAgICAgICAgIGlmIGxv
Z2ZpbGU6CisgICAgICAgICAgICBzZWxmLmxvZ2ZpbGUuYXBwZW5kKCIgJXMgaW4gJXMgXG4iICUg
KHJlc3VsdC5jYXNlLkdldE5hbWUoKSwgcmVzdWx0LmNhc2UuR2V0TW9kZSgpKSkKICAgICAgICAg
ICBwcmludCAiICVzIGluICVzIiAlIChyZXN1bHQuY2FzZS5HZXROYW1lKCksIHJlc3VsdC5jYXNl
LkdldE1vZGUoKSkKIAotICBkZWYgUHJpbnRGYWlsdXJlT3V0cHV0KHNlbGYsIHByb2dyZXNzKToK
KyAgZGVmIFByaW50RmFpbHVyZU91dHB1dChzZWxmLCBwcm9ncmVzcywgbG9nZmlsZSk6CiAgICAg
Zm9yIHJlc3VsdCBpbiBwcm9ncmVzcy5mYWlsZWRfdGVzdHM6CisgICAgICBpZiBsb2dmaWxlOgor
ICAgICAgICBzZWxmLldyaXRlTG9nKHJlc3VsdCkKICAgICAgIHByaW50CiAgICAgICByZXN1bHQu
UmVwb3J0T3V0Y29tZShGYWxzZSkKIAotICBkZWYgUnVuKHNlbGYsIGNvbW1hbmRfdGVtcGxhdGUs
IHRlc3RzLCBwcmludF9zdW1tYXJ5LCBmdWxsX3N1bW1hcnkpOgorICBkZWYgUnVuKHNlbGYsIGNv
bW1hbmRfdGVtcGxhdGUsIHRlc3RzLCBwcmludF9zdW1tYXJ5LCBmdWxsX3N1bW1hcnksIGxvZ25h
bWUsIGp1bml0ZmlsZSk6CiAgICAgaWYgbm90ICJ7e3BhdGh9fSIgaW4gY29tbWFuZF90ZW1wbGF0
ZToKICAgICAgIGNvbW1hbmRfdGVtcGxhdGUgKz0gIiB7e3BhdGh9fSIKICAgICBjYXNlcyA9IHNl
bGYuRW51bWVyYXRlVGVzdHModGVzdHMpCiAgICAgaWYgbGVuKGNhc2VzKSA9PSAwOgogICAgICAg
UmVwb3J0RXJyb3IoIk5vIHRlc3RzIHRvIHJ1biIpCiAgICAgcHJvZ3Jlc3MgPSBQcm9ncmVzc0lu
ZGljYXRvcihsZW4oY2FzZXMpKQorICAgIGlmIGxvZ25hbWU6CisgICAgICBzZWxmLmxvZ2YgPSBv
cGVuKGxvZ25hbWUsICJ3IikKKyAgICBpZiBqdW5pdGZpbGU6CisgICAgICBzZWxmLm91dGZpbGUg
PSBvcGVuKGp1bml0ZmlsZSwgInciKQorICAgICAgVGVzdFN1aXRlRWxlbWVudCA9IHhtbGouRWxl
bWVudCgidGVzdHN1aXRlIikKKyAgICAgIFRlc3RTdWl0ZUVsZW1lbnQuYXR0cmliWyJuYW1lICJd
ID0gInRlc3QyNjIiCisgICAgICBmb3IgeCBpbiByYW5nZShsZW4oRVhDTFVERV9MSVNUKSk6Cisg
ICAgICAgIGlmIHNlbGYuU2hvdWxkUnVuICh1bmljb2RlKEVYQ0xVREVfTElTVFt4XS5lbmNvZGUo
J3V0Zi04JywnaWdub3JlJykpLCB0ZXN0cyk6CisgICAgICAgICAgU2tpcENhc2VFbGVtZW50ID0g
eG1sai5FbGVtZW50KCJ0ZXN0Y2FzZSIpCisgICAgICAgICAgU2tpcENhc2VFbGVtZW50LmF0dHJp
YlsiY2xhc3NuYW1lIl0gPSB1bmljb2RlKEVYQ0xVREVfTElTVFt4XSkuZW5jb2RlKCd1dGYtOCcs
J2lnbm9yZScpCisgICAgICAgICAgU2tpcENhc2VFbGVtZW50LmF0dHJpYlsibmFtZSJdID0gdW5p
Y29kZShFWENMVURFX0xJU1RbeF0pLmVuY29kZSgndXRmLTgnLCdpZ25vcmUnKQorICAgICAgICAg
IFNraXBFbGVtZW50ID0geG1sai5FbGVtZW50KCJza2lwcGVkIikKKyAgICAgICAgICBTa2lwRWxl
bWVudC5hdHRyaWJbIm1lc3NhZ2UiXSA9IHVuaWNvZGUoRVhDTFVERV9SRUFTT05beF0uZmlyc3RD
aGlsZC5ub2RlVmFsdWUpCisgICAgICAgICAgU2tpcENhc2VFbGVtZW50LmFwcGVuZChTa2lwRWxl
bWVudCkKKyAgICAgICAgICBUZXN0U3VpdGVFbGVtZW50LmFwcGVuZChTa2lwQ2FzZUVsZW1lbnQp
CisgICAgICAgCiAgICAgZm9yIGNhc2UgaW4gY2FzZXM6CiAgICAgICByZXN1bHQgPSBjYXNlLlJ1
bihjb21tYW5kX3RlbXBsYXRlKQorICAgICAgaWYganVuaXRmaWxlOgorICAgICAgICBUZXN0Q2Fz
ZUVsZW1lbnQgPSByZXN1bHQuWG1sQXNzZW1ibGUocmVzdWx0KQorICAgICAgICBUZXN0U3VpdGVF
bGVtZW50LmFwcGVuZChUZXN0Q2FzZUVsZW1lbnQpCisgICAgICAgIGlmIGNhc2UgPT0gY2FzZXNb
bGVuKGNhc2VzKS0xXToKKyAgICAgICAgICAgICB4bWxqLkVsZW1lbnRUcmVlKFRlc3RTdWl0ZUVs
ZW1lbnQpLndyaXRlKGp1bml0ZmlsZSwgIlVURi04IikKKyAgICAgIGlmIGxvZ25hbWU6CisgICAg
ICAgIHNlbGYuV3JpdGVMb2cocmVzdWx0KQogICAgICAgcHJvZ3Jlc3MuSGFzUnVuKHJlc3VsdCkK
KyAgICAKICAgICBpZiBwcmludF9zdW1tYXJ5OgotICAgICAgc2VsZi5QcmludFN1bW1hcnkocHJv
Z3Jlc3MpCisgICAgICBzZWxmLlByaW50U3VtbWFyeShwcm9ncmVzcywgbG9nbmFtZSkKICAgICAg
IGlmIGZ1bGxfc3VtbWFyeToKLSAgICAgICAgc2VsZi5QcmludEZhaWx1cmVPdXRwdXQocHJvZ3Jl
c3MpCisgICAgICAgIHNlbGYuUHJpbnRGYWlsdXJlT3V0cHV0KHByb2dyZXNzLCBsb2duYW1lKQog
ICAgICAgZWxzZToKICAgICAgICAgcHJpbnQKICAgICAgICAgcHJpbnQgIlVzZSAtLWZ1bGwtc3Vt
bWFyeSB0byBzZWUgb3V0cHV0IGZyb20gZmFpbGVkIHRlc3RzIgogICAgIHByaW50CiAKKyAgZGVm
IFdyaXRlTG9nKHNlbGYsIHJlc3VsdCk6CisgICAgbmFtZSA9IHJlc3VsdC5jYXNlLkdldE5hbWUo
KQorICAgIG1vZGUgPSByZXN1bHQuY2FzZS5HZXRNb2RlKCkKKyAgICBpZiByZXN1bHQuSGFzVW5l
eHBlY3RlZE91dGNvbWUoKToKKyAgICAgICBpZiByZXN1bHQuY2FzZS5Jc05lZ2F0aXZlKCk6Cisg
ICAgICAgICAgc2VsZi5sb2dmLndyaXRlKCI9PT0gJXMgd2FzIGV4cGVjdGVkIHRvIGZhaWwgaW4g
JXMsIGJ1dCBkaWRuJ3QgPT09IFxuIiAlIChuYW1lLCBtb2RlKSkKKyAgICAgICBlbHNlOgorICAg
ICAgICAgIHNlbGYubG9nZi53cml0ZSgiPT09ICVzIGZhaWxlZCBpbiAlcyA9PT0gXG4iICUgKG5h
bWUsIG1vZGUpKQorICAgICAgICAgIG91dCA9IHJlc3VsdC5zdGRvdXQuc3RyaXAoKQorICAgICAg
ICAgIGlmIGxlbihvdXQpID4gMDoKKyAgICAgICAgICAgICBzZWxmLmxvZ2Yud3JpdGUoIi0tLSBv
dXRwdXQgLS0tIFxuICVzIiAlIG91dCkKKyAgICAgICAgICBlcnIgPSByZXN1bHQuc3RkZXJyLnN0
cmlwKCkKKyAgICAgICAgICBpZiBsZW4oZXJyKSA+IDA6CisgICAgICAgICAgICAgc2VsZi5sb2dm
LndyaXRlKCItLS0gZXJyb3JzIC0tLSAgXG4gJXMiICUgZXJyKQorICAgICAgICAgICAgIHNlbGYu
bG9nZi53cml0ZSgiPT09IFxuIikKKyAgICBlbGlmIHJlc3VsdC5jYXNlLklzTmVnYXRpdmUoKToK
KyAgICAgICBzZWxmLmxvZ2Yud3JpdGUoIiVzIGZhaWxlZCBpbiAlcyBhcyBleHBlY3RlZCBcbiIg
JSAobmFtZSwgbW9kZSkpCisgICAgZWxzZToKKyAgICAgICBzZWxmLmxvZ2Yud3JpdGUoIiVzIHBh
c3NlZCBpbiAlcyBcbiIgJSAobmFtZSwgbW9kZSkpCisKICAgZGVmIFByaW50KHNlbGYsIHRlc3Rz
KToKICAgICBjYXNlcyA9IHNlbGYuRW51bWVyYXRlVGVzdHModGVzdHMpCiAgICAgaWYgbGVuKGNh
c2VzKSA+IDA6CiAgICAgICBjYXNlc1swXS5QcmludCgpCiAKLQogZGVmIE1haW4oKToKICAgcGFy
c2VyID0gQnVpbGRPcHRpb25zKCkKICAgKG9wdGlvbnMsIGFyZ3MpID0gcGFyc2VyLnBhcnNlX2Fy
Z3MoKQpAQCAtNDU4LDkgKzU1MywxMCBAQAogICBlbHNlOgogICAgIHRlc3Rfc3VpdGUuUnVuKG9w
dGlvbnMuY29tbWFuZCwgYXJncywKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnN1bW1hcnkg
b3Igb3B0aW9ucy5mdWxsX3N1bW1hcnksCi0gICAgICAgICAgICAgICAgICAgb3B0aW9ucy5mdWxs
X3N1bW1hcnkpCi0KLQorICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZnVsbF9zdW1tYXJ5LAor
ICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubG9nbmFtZSwKKyAgICAgICAgICAgICAgICAgICBv
cHRpb25zLmp1bml0bmFtZSkKKyAgICAgICAKIGlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAg
IHRyeToKICAgICBNYWluKCkK
</data>

          </attachment>
      

    </bug>

</bugzilla>